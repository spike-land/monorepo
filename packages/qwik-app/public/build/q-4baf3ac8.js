/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */
function t(e,n){n||(n=[]);for(const r of e)Array.isArray(r)?t(r,n):n.push(r);return n}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */const e=!1!==globalThis.qDev,n=void 0!==globalThis.describe,r=globalThis,o=[],i={};function s(t,e,n){return new u(t,e,n)}e&&(Object.freeze(o),Object.freeze(i));class u{constructor(t,e,n){this.type=t,this.props=e,this.key=n,e&&void 0!==e.children?Array.isArray(e.children)?this.children=e.children:this.children=[e.children]:this.children=o}}const c={};function l(e,n,...r){const i={children:arguments.length>2?t(r):o};let s,c;for(c in n)"key"==c?s=n[c]:i[c]=n[c];return new u(e,i,s)}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function a(t,n){if(e){if(null!=t)return;throw y(n||"Expected defined value.")}}function f(t,n,r){if(e){if(t!==n)return;throw y(r||`Expected '${t}' !== '${n}'.`)}}function d(t,n,r){if(e){if(t===n)return;throw y(r||`Expected '${t}' === '${n}'.`)}}function h(t,n,r){if(e){if(t>=n)return;throw y(r||`Expected '${t}' >= '${n}'.`)}}function p(t,n,r){if(e){if(t>n)return;throw y(r||`Expected '${t}' > '${n}'.`)}}function y(t){const e=new Error(t);return console.error(e),e}function g(t,e){return w(t)&&t.tagName.toUpperCase()==e.toUpperCase()}function m(t){return function(t){return g(t,"template")}(t)&&t.hasAttribute("q:slot")}function b(t){return w(t)&&t.hasAttribute("on:q-render")}function w(t){return!!t&&1===t.nodeType}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function _(t){return t&&9==t.nodeType}function E(t){return function(t){return t&&"number"==typeof t.nodeType}(t)&&8==t.nodeType}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function A(t,e){if(e instanceof Bt&&(a(e._serialized),e=Array.isArray(e._serialized)?e._serialized[0]:e._serialized),n){const t=function(t){if(!n)throw new Error("This should run in tests only!!!");if("string"==typeof t||t instanceof String){const e=t.split("?")[0];if(Yt){const t=Yt.get(e);if(t)return t}}return}(e);if(t)return Promise.resolve(t)}const r=t.ownerDocument;return R(r).importSymbol(t,e)}const q=t=>{let e,n;const r=new Map;return{importSymbol(t,e){const n=S(t.ownerDocument,t,e).toString(),o=function(t){const e=t.match(/#([^?]*).*$/);return(null==e?void 0:e[1])||"default"}(n),i=new URL(n);i.hash="",i.search="";const s=i.href+".js",u=r.get(s);return u?u[o]:import(s).then((t=>(r.set(s,t),t[o])))},queueRender:n=>(e||(e=new Promise(((r,o)=>t.defaultView.requestAnimationFrame((()=>{e=null,n(t).then(r,o)}))))),e),queueStoreFlush:e=>(n||(n=new Promise(((r,o)=>t.defaultView.requestAnimationFrame((()=>{n=null,e(t).then(r,o)}))))),n)}};function S(t,e,n){let r,o;if(void 0===n)e?(r=e.getAttribute("q:base"),o=S(t,e.parentNode&&e.parentNode.closest("[q\\:base]"))):r=t.baseURI;else{if(!n)throw new Error("INTERNAL ERROR");r=n,o=S(t,e.closest("[q\\:base]"))}return new URL(String(r),o)}const v=(t,e)=>t[C]=e,R=t=>{const e=_(t)?t:t.ownerDocument;return e[C]||(e[C]=q(e))},C=Symbol(),x=new Map;function j(t,e=!1){if("string"!=typeof t)return t;const n=x.get(t);if(null!=n)return n;let r="";for(let n=0;n<t.length;n++){const o=t.charAt(n);O(o)?r+=(0!=n||e?"-":"")+o.toLowerCase():r+=o}return x.set(t,r),r}function O(t){return"A"<=t&&t<="Z"}function M(t){const e=t.querySelector('script[type="qwik/json"]');let n=null;return e&&(e.parentElement.removeChild(e),n=JSON.parse(e.textContent||"{}"),function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];t[e]=Mt(n,e)}}(n),P(n,n)),n}function N(t){const n={};t.querySelectorAll("[q\\:obj]").forEach((t=>{const e=B(t).__qRefs__;t.qProps=void 0,a(e),e.forEach(((t,e)=>{n[e]=t.obj,k(t,new Set,((t,e)=>n[t]=e))}))}));const r=t.createElement("script");r.setAttribute("type","qwik/json"),r.textContent=JSON.stringify(n,(function(t,e){if(this===n)return e;if(t.startsWith("__"))return;const r=kt(e);return r?Ht+r:e}),e?"  ":void 0),t.body.appendChild(r),function(t){t.__isHydrated__=void 0}(t)}function P(t,e){if(t&&"object"==typeof t)if(Array.isArray(t))for(let n=0;n<t.length;n++){const r=t[n];"string"==typeof r&&r.startsWith(Ht)?t[n]=e[r.substring(Ht.length)]:P(r,e)}else for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];"string"==typeof r&&r.startsWith(Ht)?t[n]=e[r.substring(Ht.length)]:P(r,e)}}function k(t,e,n){if(t&&"object"==typeof t){if(e.has(t))return;if(e.add(t),Array.isArray(t))for(let r=0;r<t.length;r++)k(t[r],e,n);else for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r],i=kt(o);i&&n(i,o),k(o,e,n)}}}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function T(t){let e="<"+t.tagName.toLowerCase();const n=t.attributes,r=[];for(let t=0;t<n.length;t++)r.push(n[t].name);r.sort();for(let n=0;n<r.length;n++){const o=r[n];let i=t.getAttribute(o);(null==i?void 0:i.startsWith("file:/"))&&(i=i.replace(/(file:\/\/).*(\/.*)$/,((t,e,n)=>e+"..."+n))),e+=" "+o+(null==i||""==i?"":"='"+i.replace("'","&apos;")+"'")}return e+">"}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function $(t,...n){if(e){const e=function(t){const e={0:"ERROR",1:"QRL-ERROR",2:"INJECTOR-ERROR",3:"SERVICE-ERROR",4:"COMPONENT-ERROR",5:"PROVIDER-ERROR",6:"RENDER-ERROR",7:"EVENT-ERROR"}[Math.floor(t/100)],n={1:"QConfig not found in path '{}'.",2:"Unrecognized stack format '{}'",3:"Could not find entity state '{}' at '{}' or any of it's parents.",4:"Could not find entity state '{}' ( or entity provider '{}') at '{}' or any of it's parents.",5:"Missing property '{}' in props '{}'.",6:"Missing export '{}' from '{}'. Exported symbols are: {}",100:"QRL '${}' should point to function, was '{}'.",200:"Can't find host element above '{}'.",201:"Provider is expecting '{}' but got '{}'.",202:"Expected 'Element' was '{}'.",203:"Expected injection 'this' to be of type '{}', but was of type '{}'.",204:"Entity key '{}' is found on '{}' but does not contain state. Was 'serializeState()' not run during dehydration?",206:"No injector can be found starting at '{}'.",207:"EventInjector does not support serialization.",300:"Data key '{}' is not a valid key.\n  - Data key can only contain characters (preferably lowercase) or number\n  - Data key is prefixed with entity name\n  - Data key is made up from parts that are separated with ':'.",301:"A entity with key '{}' already exists.",303:"'{}' is not a valid attribute. Attributes can only contain 'a-z' (lowercase), '0-9', '-' and '_'.",304:"Found '{}' but expando did not have entity and attribute did not have state.",305:"Element '{}' is missing entity attribute definition '{}'.",306:"Unable to create state for entity '{}' with props '{}' because no state found and '$newState()' method was not defined on entity.",307:"'{}' is not an instance of 'Entity'.",308:"'{}' overrides 'constructor' property preventing 'EntityType' retrieval.",311:"Entity '{}' does not define '$keyProps'.",310:"Entity '{}' must have static '$type' property defining the name of the entity.",312:"Entity '{}' must have static '$qrl' property defining the import location of the entity.",313:"Name collision. Already have entity named '{}' with QRL '{}' but expected QRL '{}'.",309:"Entity key '{}' is missing values. Expecting '{}:someValue'.",314:"Entity '{}' defines '$keyProps' as  '{}'. Actual key '{}' has more parts than entity defines.",315:"Key '{}' belongs to entity named '{}', but expected entity '{}' with name '{}'.",316:"Entity state is missing '$key'. Are you sure you passed in state? Got '{}'.",400:"'bind:' must have an key. (Example: 'bind:key=\"propertyName\"').",401:"'bind:id' must have a property name. (Example: 'bind:key=\"propertyName\"').",402:"Can't find state on host element.",403:"Components must be instantiated inside an injection context. Use '{}.new(...)' for creation.",404:"Property '{}' not found in '{}' on component '{}'.",405:"Unable to find '{}' component.",406:"Requesting component type '{}' does not match existing component instance '{}'.",408:"Unable to create state for component '{}' with props '{}' because no state found and '$newState()' method was not defined on component.",500:"Unrecognized expression format '{}'.",600:"Unexpected JSXNode<{}> type.",601:"Value '{}' can't be written into '{}' attribute.",602:"Expecting entity object, got '{}'.",603:"Expecting array of entities, got '{}'.",604:"Expecting Entity or Component got '{}'.",699:"Render state machine did not advance.",700:"Missing '$type' attribute in the '{}' url.",701:"Re-emitting event '{}' but no listener found at '{}' or any of its parents."}[t];let r="000"+t;return r=r.substr(r.length-3),`${e}(Q-${r}): ${n}`}(t),r=e.split("{}"),o=r.map(((t,e)=>t+(e===r.length-1?"":function(t){return null==t?String(t):"function"==typeof t?t.name:w(t)?T(t):t instanceof URL?String(t):"object"==typeof t?JSON.stringify(t,(function(t,e){return w(e)?T(e):e})):String(t)}(n[e])))).join("");return new Error(o)}return new Error("QError "+t)}function D(t,e){const n=[];e.forEach(((t,e)=>{t.isSub&&(e="!"+e),1==t.count?n.push(e):n.push("#"+t.count,e)})),n.length?t.setAttribute("q:obj",n.join(" ")):t.removeAttribute("q:obj")}function L(t,e,n,r,o,i){a(e);let s=t.get(e);return n?(!function(t,e){f(Lt(t),t,"Expected Proxy"),t[Dt]=e}(n,r.ownerDocument),s?(s.count+=i,s.isSub=s.isSub||o):t.set(e,s={obj:n,count:i,isSub:o})):s&&(s=z(s,t,e)),s}function z(t,e,n){if(t.count--,0!=t.count)return t;e.delete(n)}function U(t){const e=t.ownerDocument;if(!e.__isHydrated__){e.__isHydrated__=!0;const n=M(t.ownerDocument);n&&e.querySelectorAll(W).forEach((t=>{!function(t,e){const n=I(t),r=t.getAttribute("q:obj");if(r){const o=r.split(" "),i=n.__qRefs__;let s=1;o.forEach((n=>{if(n.startsWith("#"))s=Number(n.substr(1));else{let r=!1;n.startsWith("!")&&(n=n.substr(1),r=!0);const o=e[n];L(i,n,o,t,r,s)}}))}}(t,n)}))}}const W="[q\\:obj]";function I(t){const e=new Map,n=function(t,e){return{forEach:t=>e.forEach(((e,n)=>{t(e.obj,n)})),get(t){const n=e.get(t);return null==n?void 0:n.obj},set(n,r){L(e,n,r,t,!1,1),D(t,e)}}}(t,e),r={__element__:t,__qRefs__:e,__qMap__:n,__mutation__:!1};return t.qProps=new Proxy(r,{get:(e,o)=>{if("string"==typeof o){if("__mutation__"===o){const t=e.__mutation__;return e.__mutation__=!1,t}if("__parent__"==o){const e=t.parentElement;return e&&B(e)}return o.startsWith("on:")?function(t,e,n){const r=Q(t,e,n);return 0===r.length?null:e=>Promise.all(r.map((async n=>{const r=await A(t.__element__,n),o=t.__element__,i=Array.isArray(n._serialized)?n._serialized[0]:n._serialized,s=new URL(i,o.ownerDocument.baseURI);return{state:n.getState(),value:await r(o,e,s)}})))}(r,n,o):o in r?e[o]:o.startsWith("state:")?r[o]=function(t,e){let n=null;return e+=Ot,t.forEach(((t,r)=>{r.startsWith(e)&&(n=t)})),n}(n,o.substr("state:".length)):r[o]=H(t,n,o)}},set:(o,i,s)=>{if("string"==typeof i){if("children"===i)return!0;if(i.startsWith("state:")){const t=kt(s);a(t),d(t.startsWith(i.substr("state:".length)),!0),n.set(t,o[i]=s)}else if(i.startsWith("on:"))!function(t,e,n,r){if(!r)return;("string"==typeof r||r instanceof String)&&(r=Kt(r,void 0));if(!(r instanceof Bt))throw new Error(`Not QRL: prop: ${n}; value: `+r);{const o=Q(t,e,n);let i=!1;for(let t=0;t<o.length;t++){if(F(o[t],r)){i=!0,J(o,e,t,r);break}}i||J(o,e,o.length,r);const s="on:"+j(n.substr("on:".length));t.__element__.setAttribute(s,function(t){return t.map((t=>(a(t._serialized),t._serialized))).join("\n")}(o))}}(r,n,i,s);else if(":subscriptions"===i)!function(t,e,n){e.forEach(((r,o)=>{const i=r.obj;n.has(r.obj)?r.isSub||L(e,kt(i),i,t,!0,1):r.isSub&&(r.isSub=!1,z(r,e,o)),n.delete(i)})),n.forEach((n=>L(e,kt(n),n,t,!0,1))),D(t,e)}(t,e,s);else{s=zt(s);const e=i in o?o[i]:o[i]=H(t,n,i);if(s!==e){const r=kt(e);r&&n.set(r,null),function(t,e,n,r){const o=j(n);if("class"==n)t.setAttribute("class",X(r,!0));else if("style"==n)t.setAttribute("style",X(r,!1));else if("innerHTML"===n||"innerText"===n)t.setAttribute(o,""),t[n]=r;else{const n=Qt(r,e);void 0===r?t.removeAttribute(o):t.setAttribute(o,n)}"value"!=n&&"checked"!=n||"INPUT"!==t.tagName||(t[n]=r)}(t,n,i,o[i]=s),o.__mutation__=!0}}return!0}throw new Error("Only string keys are supported")}})}function H(t,e,n){if(n.startsWith("on:")){const r=j(n.substr(3)),o=t.getAttribute(r),i=[];return null==o||o.split("\n").forEach((t=>{i.push(Kt(t,e))})),i}{const r=j(n),o=t.getAttribute(r);return null===o?void 0:Ft(o,e)}}function Q(t,e,n){if(n in t)return t[n];const r="on:"+j(n.substr("on:".length)),o=[];return(t.__element__.getAttribute(r)||"").split("\n").forEach((t=>{t&&o.push(Kt(t,e))})),t[n]=o}function F(t,e){return t.url==e.url&&t.symbol==e.symbol&&t.getState()==e.getState()}function J(t,e,n,r){const o=n<t.length?t[n]:null;o&&Array.isArray(o._serialized)&&o._serialized.forEach(((t,n)=>{n&&e.set(t,null)})),Zt(r,e),t[n]=r}function V(t){return t.__mutation__}function X(t,e){if(null==t)return"";if("object"==typeof t){let n="",r="";if(Array.isArray(t)){if(!e)throw $(601,t,"style");for(let e=0;e<t.length;e++)n+=r+t[e],r=" "}else for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];n+=e?i?r+o:"":r+o+":"+i,r=e?" ":";"}return n}return String(t)}function B(t){U(t);let e=t.qProps;return e||(e=I(t)),e}function G(t,e,n){const r=function(t,e){return function(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}(t,e,1)}(t,e);if(r>=0)return t[1|r];if(n){const o=n();return function(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){const e=o-2;t[o]=t[e],o--}t[e]=n,t[e+1]=r}}(t,~r,e,o),o}}function K(t){return Array.isArray(t)}function Z(t){const e=[],n=t.hostElement,r=n.firstElementChild;var o;g(o=r,"template")&&o.hasAttribute("q:slot")&&Y(e,r.content,null);const i=[];return n.querySelectorAll("Q\\:SLOT").forEach((t=>{for(const e of i)if(e.contains(t))return;i.push(t);const n=t.getAttribute("name")||"";Y(e,t,n)})),e}function Y(t,e,n){tt=e;let r=e.firstChild;for(null!==n&&G(t,n,et);r;){G(t,null!==n?n:w(r)&&r.getAttribute("q:slot")||"",et).push(r),r=r.nextSibling}tt=void 0}let tt;function et(){return[-1,tt]}function nt(t){let e=t.firstChild;return e&&10===e.nodeType&&(e=e.nextSibling),rt(t,e,null)}function rt(t,e,n){return{parent:t,node:e,end:n}}function ot(t){const e=t.node;return t.end==e?null:e}function it(t,e){t.node=t.end==e?null:e}function st(t,e,n,r,o){let i=ot(t);return f(i,void 0,"Cursor already closed"),K(i)?(a(t.parent),function(t,e,n,r,o,i,s){const u=i["q:slot"]||"",c=G(e,u);let l;if(c){h(c.length,2);const t=c[1];let e=c[0];-1==e&&(e=2),l=c.length>e?c[e]:null;const u=ut(t,l,n,r,o,i,s);l!==u&&(c[e]=u,l=u),c[0]=e+1}else{l=ut(ft(t).content,null,n,r,o,i,!0),a(l)}return ct(l,!!s)}(t.parent,i,t.end,e,n,r,o)):(f(i,void 0,"Cursor already closed"),i=ut(t.parent,i,t.end,e,n,r,o),a(i),it(t,i.nextSibling),ct(i,!!o))}function ut(t,e,n,r,o,i,s){let u,c;if(g(e,o)){const t=B(e);Object.assign(t,i),u=V(t)&&!!s,c=e}else c=ht(t,e,(_(t)?t:t.ownerDocument).createElement(o),n),u=!!s,Object.assign(B(c),i);if(r&&r.styleClass&&c.classList.add(r.styleClass),u){const t=_t(c);t.styleHostClass&&c.classList.add(t.styleHostClass),Array.isArray(s)?s.push(t.render()):c.getAttribute("on:q-render")&&c.setAttribute("on:q-render-notify","")}return c}function ct(t,e){return a(t),e?rt(t,Z(_t(t)),null):nt(t)}function lt(t,e,n,r){return e&&3==e.nodeType?e.textContent!==r&&(e.textContent=r):e=ht(t,e,t.ownerDocument.createTextNode(r),n),e}function at(t){let e=ot(t);if(K(e))for(let t=0;t<e.length;t+=2){const n=e[t+1];if(-1!==n[0]){p(n[0],1);for(let t=n[0];t<n.length;t++)n[1].removeChild(n[t])}}else for(;e;){const n=e.nextSibling;t.parent.removeChild(e),e=n}it(t,void 0)}function ft(t){d(b(t),!0,"Must be component element");let e=null==t?void 0:t.firstElementChild;return g(e,"template")&&e.hasAttribute("q:slot")||(e=t.insertBefore(t.ownerDocument.createElement("template"),e),e.setAttribute("q:slot","")),e}function dt(t){const e=ot(t);d(E(e)&&e.textContent.startsWith("<node:"),!0),it(t,e&&e.nextSibling)}function ht(t,e,n,r){return t.insertBefore(n,e||r),e&&t.removeChild(e),n}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */function pt(e){return Promise.all(e).then((e=>{const n=t(e);for(let t=0;t<n.length;t++)if(yt(n[t]))return pt(n);return n}))}function yt(t){return t instanceof Promise}
/**
 * @license
 * Copyright Builder.io, Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */const gt={__brand__:"host"},mt={__brand__:"slot"};function bt(t,n,r,i){if((t=>{if(e){if(t instanceof u)return!0;if(t&&"object"==typeof t&&t.constructor.name===u.name)throw new Error('Duplicate implementations of "JSXNodeImpl" found');return!1}return t instanceof u})(i)){const e=i.type;if(null==e)return;if("string"==typeof e)!function(t,e,n,r){const i=r.type,s="on:q-render"in r.props,u=st(n,t,i,r.props,s?e:null);if(function(t){return"innerHTML"in t.props||"innerText"in t.props}(r)){if(s)throw new Error("innerHTML/innerText bindings not supported on component content")}else{const n=r.children||o;for(const r of n)bt(t,e,u,r);at(u)}}(t,n,r,i);else if(e===c||null==e){const e=i.children||o;for(const o of e)bt(t,n,r,o)}else if(i.type===gt){const e=B(r.parent);Object.assign(e,i.props);const s=i.children||o;for(const e of s)bt(t,n,r,e);V(e)}else if(i.type===mt)t&&function(t,e,n,r){const o=r.props.name||"",i=st(n,t,"Q:SLOT",Object.assign({name:o},r.props),null),s=G(Z(t),o);if(s&&s.length>2){const t=i.parent;if(s[1]!==t){at(i);for(let e=2;e<s.length;e++){const n=s[e];t.appendChild(n)}at(i)}t.querySelectorAll("[on\\:q-render-notify]").forEach((t=>{e.push(_t(t).render())}))}else{const n=r.children;for(const r of n)bt(t,e,i,r);at(i)}}(t,n,r,i);else{if("function"!=typeof i.type)throw $(600,e);bt(t,n,r,i.type(i.props))}}else if(yt(i)){const e=function(t){var e;let n=ot(t);if(K(n))throw new Error("Not expecting slot map here");if(E(n)&&(null===(e=n.textContent)||void 0===e?void 0:e.startsWith("<node:")))throw new Error("IMPLEMENT");{const e=Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),r=t.parent,o=r.ownerDocument,i=o.createComment("<node:"+e+">"),s=o.createComment("</node:"+e+">");return n=ht(t.parent,n,s,null),t.parent.insertBefore(i,s),it(t,s.nextSibling),rt(r,i,s)}}(r),o=r=>{dt(e),bt(t,n,e,r),at(e)};if(i.then(o,o),i.whilePending){const r=function(t){return rt(t.parent,t.node,t.end)}(e);dt(r),bt(t,n,r,i.whilePending),at(r)}}else if(Array.isArray(i)){const e=i;for(const o of e)bt(t,n,r,o)}else"string"!=typeof i&&"number"!=typeof i||function(t,e){let n=ot(t);if(f(n,void 0,"Cursor already closed"),a(t.parent),K(n)){let r,o;const i=G(n,"");if(i){h(i.length,2),r=i[1];let s=i[0];-1==s&&(s=2),o=i.length>s?i[s]:null,n=lt(r,o,t.end,e),o!==n&&(i[s]=n),i[0]=s+1}else lt(ft(t.parent).content,null,t.end,e)}else n=lt(t.parent,n,t.end,e),it(t,n.nextSibling)}(r,String(i))}class wt{constructor(t){this.styleId=null,this.styleClass=null,this.styleHostClass=null,this.hostElement=t;const e=this.styleId=ne(t.getAttribute("q:sstyle"));e&&(this.styleHostClass=re(e),this.styleClass=oe(e))}dehydrate(){throw new Error("Method not implemented.")}async render(){const t=B(this.hostElement);if(null==t["state:"])try{const e=t["q:sstyle"],n=t["q:ustyle"];Et(this,e),Et(this,n);const r=t["on:qMount"];if(r){(await r("qMount")).forEach((e=>{t["state:"+e.state]=function(t,e){const n=kt(t);return n?(t[$t]=e+Ot+n,t):Tt(t,e+Ot+It())}(e.value,e.state)}))}}catch(t){console.log(t)}const e=t["on:qRender"];a(e),this.hostElement.removeAttribute("on:q-render-notify");const n=[];try{const t=await e("qRender");if(t.length){const e=t[0].value,r=function(t){d(b(t),!0);let e=t.firstChild;return m(e)&&(e=e.nextSibling),rt(t,e,null)}(this.hostElement);bt(this,n,r,e),at(r)}}catch(t){console.log(t)}return[this.hostElement,...await pt(n)]}}function _t(t){const e=t;let n=e.__qComponent__;return n||(n=e.__qComponent__=new wt(t)),n}function Et(t,e){if(e){const n=ne(e),r=t.hostElement,o=r.ownerDocument,i=o.querySelector("head");if(!i.querySelector(`style[q\\:style="${n}"]`)){Promise.resolve(A(r,e)).then((t=>{const e=o.createElement("style");e.setAttribute("q:style",n),e.textContent=t.replace(/�/g,n),i.appendChild(e)}))}}}function At(t){return a(t.getAttribute("on:q-render")),t.setAttribute("on:q-render-notify",""),e=t.ownerDocument,R(e).queueRender(qt);var e}async function qt(t){const e=Array.from(t.querySelectorAll("[on\\:q-render-notify]"));return Promise.all(e.map((t=>{t.removeAttribute("on:q-render-notify");const e=_t(t);return e&&e.render()})))}function St(){return a(Rt,"Invoking of `useHostElement()` outside of `use*()` context."),Rt}function vt(t){var e;return a(Ct,"Invoking of `useEvent()` outside of `use*()` context."),t&&d(Ct.type,"function"==typeof(e=t)&&"string"==typeof e.type?t.type:t),Ct}let Rt,Ct,xt,jt;const Ot=":";function Mt(t,e){return Tt(t,e)}function Nt(t,e){e&&e.querySelectorAll(function(t){return"[q\\:obj*="+(function(t){t&&"string"!=typeof t&&a(t=kt(t));return-1!==t.indexOf(Ot)}(t=t.replace(/([^\w\d])/g,((t,e)=>"\\"+e)))?"":"\\!")+t+"]"}(t)).forEach(At)}function Pt(t){const e=Wt.get(t);a(e),function(t){f(Lt(t),t,"Expecting Proxy"),jt&&t&&jt.add(t)}(e)}function kt(t){return t&&"object"==typeof t&&t[$t]||null}function Tt(t,e){if(!t||"object"!=typeof t)return t;let n=Wt.get(t);return n||(n=new Proxy(t,new Ut(e)),Wt.set(t,n),n)}const $t=":id:",Dt=":doc:";function Lt(t){if(t&&"object"==typeof t){const e=t[":target:"];if(e)return e}return t}function zt(t){if(t&&"object"==typeof t){if(Lt(t)!==t)return t;const e=Wt.get(t);return e||Tt(t,It())}return t}class Ut{constructor(t){this.doc=null,this.transients=null,this.id=t}get(t,e){if(":target:"===e)return t;if(e===$t)return this.id;if(":transients:"===e)return this.transients||(this.transients=new WeakMap);const n=t[e];return Pt(t),zt(n)}set(t,e,n){if(e===Dt)this.doc=n;else if(e==$t)this.id=n;else{const r=Lt(n);t[e]!==r&&(t[e]=r,Nt(this.id,this.doc))}return!0}has(t,e){return":target:"===e||Object.prototype.hasOwnProperty.call(t,e)}ownKeys(t){return Object.getOwnPropertyNames(t)}}const Wt=new WeakMap;function It(){return Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36)}const Ht="";function Qt(t,e){if(null==t)return String(t);if("number"==typeof t)return String(t);if("boolean"==typeof t)return String(t);const n=kt(t);if(n)return e&&e.set(n,t),"*"+n;if("string"==typeof t){const e=t.charCodeAt(0);return Jt(e)||Xt(e)||Vt(e)||function(t){return"null"===t||"undefined"===t||"true"==t||"false"==t}(t)||function(t){return-1!=t.indexOf("'")||-1!=t.indexOf("\\")}(t)?"'"+t.replace(/'/g,"\\'").replace(/\//g,"\\")+"'":t}return JSON.stringify(t,(function(t,n){const r=kt(n);return r?(a(e),e&&e.set(r,n),Ht+r):n}))}function Ft(t,e){if(""==t)return"";if("null"==t)return null;if("undefined"==t)return;if("false"==t)return!1;if("true"==t)return!0;const n=t.charCodeAt(0);if(Xt(n)||Jt(n))return Number(t);if(function(t){return t=="*".charCodeAt(0)}(n)){const n=t.substr(1);if(!e)throw new Error("Map needs to be present when parsing QObjects");const r=e.get(n);return a(r),r}return function(t){return t=="'".charCodeAt(0)}(n)?t.substring(1,t.length-1).replace(/\\(.)/,(t=>t)):Vt(n)?JSON.parse(t,(function(t,n){if("string"==typeof n&&function(t){return t==Ht.charCodeAt(0)}(n.charCodeAt(0))){if(!e)throw new Error("Map needs to be present when parsing QObjects");a(n=e.get(n.substr(1)))}return n})):t}function Jt(t){return t=="-".charCodeAt(0)}function Vt(t){return t=="[".charCodeAt(0)||t=="{".charCodeAt(0)}function Xt(t){return"0".charCodeAt(0)<=t&&t<="9".charCodeAt(0)}class Bt{constructor(t,e,n){this._serialized=null,this.args=null,this.url=t,this.symbol=e,this.args=n}get(t){return this.args&&this.args[t]||null}getState(){return this.args&&this.args[Gt]||""}with(t){const e=(n=this).args?Object.assign({},n.args):{};var n;return Object.assign(e,t),new Bt(this.url,this.symbol,e)}toString(){return Zt(this)}}const Gt=".";function Kt(t,e){a(t);const n=String(t);let r=n.indexOf("#");-1==r&&(r=n.length);const o=n.substring(0,r),i=new URL(n.substr(r+1),"http://q/"),s=i.pathname.substr(1),u={},c=e&&function(t){const e={items:null,get:n=>((e.items||(e.items=[])).push(n),t.get(n)),set(n,r){(e.items||(e.items=[])).push(n),t.set(n,r)}};return e}(e);i.searchParams.forEach(((t,e)=>{u[e]=Ft(t,c)}));const l=new Bt(o,s,u);return l._serialized=c&&c.items?[n,...c.items]:n,l}function Zt(t,e){const n=new URL(t.symbol,"http://q/");if(t.args)for(const r in t.args)if(Object.prototype.hasOwnProperty.call(t.args,r)){const o=Qt(t.args[r],e);n.searchParams.set(r,o)}const r=n.toString().substr("http://q/".length),o=t.url+(r?"#"+r:"");return t._serialized=o,o}let Yt,te;function ee(t){return Zt(Kt(String(this)).with(t))}function ne(t){return t&&String(function(t,e=0){if(0===t.length)return e;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Number(Math.abs(e)).toString(36)}(String(t)))}function re(t){return t&&"📦"+t}function oe(t){return t&&"🏷️"+t}function ie({onRender:t,styles:e,unscopedStyles:n,tagName:r,props:o,onResume:i,onMount:s,onUnmount:u,onHydrate:c,onDehydrate:a}){const f=function(i){return l(r||"div",Object.assign(Object.assign({"on:q-mount":s,"on:q-render":t,"on:q-unmount":u,"on:q-hydrate":c,"on:q-dehydrate":a,"q:sstyle":e,"q:ustyle":n},o),i))};f.onRender=t||null,f.onResume=i||null,f.onMount=s||null,f.onUnmount=u||null,f.onHydrate=c||null,f.onDehydrate=a||null,f.styles=e||null;const d=ne(e);return f.styleHostClass=re(d)||null,f.styleClass=oe(d)||null,f}const se=new Map;function ue(t,e){if("string"==typeof e){let n;if(se.set(e,t),(n=String(t).match(ce))&&n[2])t=n[2];else{if(!(n=String(t).match(le)))throw new Error("dynamic import not found: "+String(t));n=new Error("SELF").stack.split("\n")[2].match(ae),t=n?n[1]:"main"}t=(t.startsWith(".")?"":"./")+(t.endsWith(".js")?t.substr(0,t.length-3):t)+"#"+e}if("string"==typeof t)return Kt(t);const o=async(e,n,r)=>{const o=function(t){for(;t&&!t.getAttribute("on:q-render");)t=t.parentElement;return t}("string"==typeof n?e:e.parentElement),i=o&&B(o),s=i&&Kt(r.toString(),i.__qMap__),u=i&&s&&i["state:"+s.getState()],c=s&&s.args;return await function(t,e,n,r){const o="qRender"===n;try{return Rt=e,Ct=n,xt=r,o&&(jt=new Set),t()}finally{Rt=void 0,Ct=void 0,xt=void 0,jt&&(e&&(B(e)[":subscriptions"]=jt),jt=void 0)}}((()=>t(i,u,c)),o,n,r)};return n?function(t,e){if(!n)throw new Error("This should run in tests only!!!");Yt||(Yt=new Map,te=0);const o=e.stack.split("\n")[2];let i=Yt.get(o);if(!i){const e="symbol_"+te++;i="/qMockModule#"+e,Yt.set(i,t),Yt.set(o,i),(r["/qMockModule.js"]||(r["/qMockModule.js"]={}))[e]=t}return i=new String(i),i.with=ee,i}(o,new Error):o}const ce=/\(\s*(['"])([^\1]+)\1\s*\)/,le=/Promise\s*\.\s*resolve/,ae=/[\\/(]([\w\d.\-_]+)\.(js|ts)x?:/;function fe(t){N(t)}function de(t){return function(t){d(Lt(t),t,"Unexpected proxy at this location");const e=Tt(t,It());return Object.assign(e,t),e}(t)}async function he(t,e){const n=[];let r=t.firstChild;for(;r&&r.nodeType>8;)r=r.nextSibling;return bt(null,n,nt(t),e),pt(n)}export{c as F,gt as H,fe as a,se as b,ie as c,ue as d,de as e,St as f,At as g,l as h,s as j,he as q,v as s,vt as u};
