/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.21.1(ea1b3f27db4cb1c82f9fb10151dca775676957b3)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/master/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var Q=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/platform/theme/common/themeService","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/editor/common/modes","vs/base/common/arrays","vs/editor/common/core/selection","vs/base/common/types","vs/platform/theme/common/colorRegistry","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/base/common/cancellation","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/notification/common/notification","vs/platform/registry/common/platform","vs/base/browser/browser","vs/platform/actions/common/actions","vs/platform/keybinding/common/keybinding","vs/editor/common/config/editorOptions","vs/base/common/keyCodes","vs/base/common/objects","vs/base/common/resources","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/controller/cursorCommon","vs/base/common/network","vs/editor/browser/view/viewPart","vs/editor/common/services/modelService","vs/platform/configuration/common/configuration","vs/base/browser/ui/aria/aria","vs/base/common/actions","vs/editor/common/view/editorColorRegistry","vs/base/browser/mouseEvent","vs/base/common/map","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/event","vs/base/browser/keyboardEvent","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/core/editOperation","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/base/common/path","vs/base/common/filters","vs/editor/common/services/modeService","vs/platform/contextview/browser/contextView","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/linkedList","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/editor/common/services/resolverService","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/stopwatch","vs/base/common/severity","vs/base/common/htmlContent","vs/base/browser/ui/actionbar/actionbar","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/core/stringBuilder","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/decorators","vs/base/common/idGenerator","vs/base/common/numbers","vs/base/common/hash","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/core/lineTokens","vs/editor/standalone/common/standaloneThemeService","vs/editor/contrib/suggest/suggest","vs/platform/theme/common/styler","vs/editor/contrib/peekView/peekView","vs/base/common/range","vs/base/browser/canIUse","vs/base/common/scrollable","vs/base/common/buffer","vs/base/common/uint","vs/base/browser/ui/mouseCursor/mouseCursor","vs/base/browser/ui/list/listWidget","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/contrib/codeAction/types","vs/editor/contrib/snippet/snippetParser","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/browser/services/bulkEditService","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/codeAction/codeAction","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/browser/dnd","vs/base/common/lazy","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/common/viewLayout/lineDecorations","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/dialogs/common/dialogs","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/coreCommands","vs/editor/browser/controller/mouseTarget","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/extpath","vs/base/common/diff/diff","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/browser/controller/textAreaInput","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/base/common/keybindingLabels","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markersDecorationService","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/hover/hover","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/mime","vs/base/common/uuid","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelEvents","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabel","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/contextkey/common/contextkeys","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/actions/common/menuService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/view/viewController","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/format","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/indentation/indentation","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/view/viewImpl","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/contrib/rename/rename","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/standalone/common/themes","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/colorPicker/colorContributions","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/suggest/suggestController","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],J=function(G){for(var e=[],C=0,k=G.length;C<k;C++)e[C]=Q[G[C]];return e};"use strict";var Lt;(function(G){var e=function(){function k(){this._pendingLoads=0}return k.prototype.attachListeners=function(M,y,S,_){var d=function(){y.removeEventListener("load",f),y.removeEventListener("error",p)},f=function(o){d(),S()},p=function(o){d(),_(o)};y.addEventListener("load",f),y.addEventListener("error",p)},k.prototype._onLoad=function(M,y){this._pendingLoads--,y()},k.prototype._onLoadError=function(M,y,S){this._pendingLoads--,y(S)},k.prototype._insertLinkNode=function(M){this._pendingLoads++;var y=document.head||document.getElementsByTagName("head")[0],S=y.getElementsByTagName("link")||y.getElementsByTagName("script");S.length>0?y.insertBefore(M,S[S.length-1]):y.appendChild(M)},k.prototype.createLinkTag=function(M,y,S,_){var d=this,f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("data-name",M);var p=function(){return d._onLoad(M,S)},o=function(c){return d._onLoadError(M,_,c)};return this.attachListeners(M,f,p,o),f.setAttribute("href",y),f},k.prototype._linkTagExists=function(M,y){var S,_,d,f,p=document.getElementsByTagName("link");for(S=0,_=p.length;S<_;S++)if(d=p[S].getAttribute("data-name"),f=p[S].getAttribute("href"),d===M||f===y)return!0;return!1},k.prototype.load=function(M,y,S,_){if(this._linkTagExists(M,y)){S();return}var d=this.createLinkTag(M,y,S,_);this._insertLinkNode(d)},k}(),C=function(){function k(){this._cssLoader=new e}return k.prototype.load=function(M,y,S,_){_=_||{};var d=_["vs/css"]||{};if(d.disabled){S({});return}var f=y.toUrl(M+".css");this._cssLoader.load(M,f,function(p){S({})},function(p){typeof S.error=="function"&&S.error("Could not find "+f+" or it was empty")})},k}();G.CSSPlugin=C,define("vs/css",new C)})(Lt||(Lt={}));"use strict";var ti=this&&this.__spreadArrays||function(){for(var G=0,e=0,C=arguments.length;e<C;e++)G+=arguments[e].length;for(var k=Array(G),M=0,e=0;e<C;e++)for(var y=arguments[e],S=0,_=y.length;S<_;S++,M++)k[M]=y[S];return k},Et;(function(G){var e=function(){function _(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(_.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),_.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},_}();function C(_,d,f){var p;return d.length===0?p=_:p=_.replace(/\{(\d+)\}/g,function(o,c){var a=c[0],s=d[a],l=o;return typeof s=="string"?l=s:(typeof s=="number"||typeof s=="boolean"||s===void 0||s===null)&&(l=String(s)),l}),f.isPseudo&&(p="\uFF3B"+p.replace(/[aouei]/g,"$&$&")+"\uFF3D"),p}function k(_,d){var f=_[d];return f||(f=_["*"],f)?f:null}function M(_,d,f){for(var p=[],o=3;o<arguments.length;o++)p[o-3]=arguments[o];return C(f,p,_)}function y(_,d){return function(f,p){var o=Array.prototype.slice.call(arguments,2);return C(_[f],o,d)}}var S=function(){function _(d){var f=this;this._env=d,this.localize=function(p,o){for(var c=[],a=2;a<arguments.length;a++)c[a-2]=arguments[a];return M.apply(void 0,ti([f._env,p,o],c))}}return _.prototype.setPseudoTranslation=function(d){this._env._isPseudo=d},_.prototype.create=function(d,f){return{localize:y(f[d],this._env)}},_.prototype.load=function(d,f,p,o){var c=this;if(o=o||{},!d||d.length===0)p({localize:this.localize});else{var a=o["vs/nls"]||{},s=a.availableLanguages?k(a.availableLanguages,d):null,l=".nls";s!==null&&s!==_.DEFAULT_TAG&&(l=l+"."+s);var r=function(t){Array.isArray(t)?t.localize=y(t,c._env):t.localize=y(t[d],c._env),p(t)};typeof a.loadBundle=="function"?a.loadBundle(d,s,function(t,n){t?f([d+".nls"],r):r(n)}):f([d+l],r)}},_.DEFAULT_TAG="i-default",_}();G.NLSPlugin=S,define("vs/nls",new S(new e))})(Et||(Et={})),define(Q[148],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class C{constructor(M){this.data=M}update(){}getData(){return this.data}}e.DragAndDropData=C,e.StaticDND={CurrentDragAndDropData:void 0}}),define(Q[30],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class C{constructor(y){this.domNode=y,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){this._maxWidth!==y&&(this._maxWidth=y,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(y){this._width!==y&&(this._width=y,this.domNode.style.width=this._width+"px")}setHeight(y){this._height!==y&&(this._height=y,this.domNode.style.height=this._height+"px")}setTop(y){this._top!==y&&(this._top=y,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(y){this._left!==y&&(this._left=y,this.domNode.style.left=this._left+"px")}setBottom(y){this._bottom!==y&&(this._bottom=y,this.domNode.style.bottom=this._bottom+"px")}setRight(y){this._right!==y&&(this._right=y,this.domNode.style.right=this._right+"px")}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){this._fontSize!==y&&(this._fontSize=y,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(y){this._lineHeight!==y&&(this._lineHeight=y,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(y){this._letterSpacing!==y&&(this._letterSpacing=y,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,S){this.domNode.classList.toggle(y,S),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,S){this.domNode.setAttribute(y,S)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=C;function k(M){return new C(M)}e.createFastDomNode=k}),define(Q[189],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let C=!1,k=null;function M(S){if(!S.parent||S.parent===S)return null;try{let _=S.location,d=S.parent.location;if(_.origin!=="null"&&d.origin!=="null"&&(_.protocol!==d.protocol||_.hostname!==d.hostname||_.port!==d.port))return C=!0,null}catch(_){return C=!0,null}return S.parent}class y{static getSameOriginWindowChain(){if(!k){k=[];let _=window,d;do d=M(_),d?k.push({window:_,iframeElement:_.frameElement||null}):k.push({window:_,iframeElement:null}),_=d;while(_)}return k.slice(0)}static hasDifferentOriginAncestor(){return k||this.getSameOriginWindowChain(),C}static getPositionOfChildWindowRelativeToAncestorWindow(_,d){if(!d||_===d)return{top:0,left:0};let f=0,p=0,o=this.getSameOriginWindowChain();for(const c of o){if(f+=c.window.scrollY,p+=c.window.scrollX,c.window===d||!c.iframeElement)break;let a=c.iframeElement.getBoundingClientRect();f+=a.top,p+=a.left}return{top:f,left:p}}}e.IframeUtils=y}),define(Q[269],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class C extends Error{constructor(M,y){super(`ListError [${M}] ${y}`)}}e.ListError=C}),define(Q[270],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class C{constructor(M){this.spliceables=M}splice(M,y,S){this.spliceables.forEach(_=>_.splice(M,y,S))}}e.CombinedSpliceable=C}),define(Q[190],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const C=20;class k{constructor(y,S,_,d,f,p){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(y),this._visibleSize=d,this._scrollSize=f,this._scrollPosition=p,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(y){let S=Math.round(y);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(y){let S=Math.round(y);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(y){let S=Math.round(y);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(y){this._scrollbarSize=y}static _computeValues(y,S,_,d,f){const p=Math.max(0,_-y),o=Math.max(0,p-2*S),c=d>0&&d>_;if(!c)return{computedAvailableSize:Math.round(p),computedIsNeeded:c,computedSliderSize:Math.round(o),computedSliderRatio:0,computedSliderPosition:0};const a=Math.round(Math.max(C,Math.floor(_*o/d))),s=(o-a)/(d-_),l=f*s;return{computedAvailableSize:Math.round(p),computedIsNeeded:c,computedSliderSize:Math.round(a),computedSliderRatio:s,computedSliderPosition:Math.round(l)}}_refreshComputedValues(){const y=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=y.computedAvailableSize,this._computedIsNeeded=y.computedIsNeeded,this._computedSliderSize=y.computedSliderSize,this._computedSliderRatio=y.computedSliderRatio,this._computedSliderPosition=y.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(y){if(!this._computedIsNeeded)return 0;let S=y-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(y){if(!this._computedIsNeeded)return 0;let S=y-this._arrowSize,_=this._scrollPosition;return S<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(y){if(!this._computedIsNeeded)return 0;let S=this._computedSliderPosition+y;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(Q[97],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var C;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element"})(C=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class k extends Error{constructor(S,_){super(`TreeError [${S}] ${_}`)}}e.TreeError=k;class M{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let _=this._map.get(S);return _||(_=this.fn(S),this._map.set(S,_)),_}}e.WeakMapper=M}),define(Q[19],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.mergeSort=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function C(g,b=0){return g[g.length-(1+b)]}e.tail=C;function k(g){if(g.length===0)throw new Error("Invalid tail call");return[g.slice(0,g.length-1),g[g.length-1]]}e.tail2=k;function M(g,b,w=(L,E)=>L===E){if(g===b)return!0;if(!g||!b||g.length!==b.length)return!1;for(let L=0,E=g.length;L<E;L++)if(!w(g[L],b[L]))return!1;return!0}e.equals=M;function y(g,b,w){let L=0,E=g.length-1;for(;L<=E;){const N=(L+E)/2|0,I=w(g[N],b);if(I<0)L=N+1;else if(I>0)E=N-1;else return N}return-(L+1)}e.binarySearch=y;function S(g,b){let w=0,L=g.length;if(L===0)return 0;for(;w<L;){const E=Math.floor((w+L)/2);b(g[E])?L=E:w=E+1}return w}e.findFirstInSorted=S;function _(g,b,w){if(g=g|0,g>=b.length)throw new TypeError("invalid index");let L=b[Math.floor(b.length*Math.random())],E=[],N=[],I=[];for(let T of b){const O=w(T,L);O<0?E.push(T):O>0?N.push(T):I.push(T)}return g<E.length?_(g,E,w):g<E.length+I.length?I[0]:_(g-(E.length+I.length),N,w)}e.quickSelect=_;function d(g,b){return p(g,b,0,g.length-1,[]),g}e.mergeSort=d;function f(g,b,w,L,E,N){let I=w,T=L+1;for(let O=w;O<=E;O++)N[O]=g[O];for(let O=w;O<=E;O++)I>L?g[O]=N[T++]:T>E?g[O]=N[I++]:b(N[T],N[I])<0?g[O]=N[T++]:g[O]=N[I++]}function p(g,b,w,L,E){if(!(L<=w)){const N=w+(L-w)/2|0;p(g,b,w,N,E),p(g,b,N+1,L,E),!(b(g[N],g[N+1])<=0)&&f(g,b,w,N,L,E)}}function o(g,b){const w=[];let L;for(const E of d(g.slice(0),b))!L||b(L[0],E)!==0?(L=[E],w.push(L)):L.push(E);return w}e.groupBy=o;function c(g){return g.filter(b=>!!b)}e.coalesce=c;function a(g){return!Array.isArray(g)||g.length===0}e.isFalsyOrEmpty=a;function s(g){return Array.isArray(g)&&g.length>0}e.isNonEmptyArray=s;function l(g,b){if(!b)return g.filter((L,E)=>g.indexOf(L)===E);const w=Object.create(null);return g.filter(L=>{const E=b(L);return w[E]?!1:(w[E]=!0,!0)})}e.distinct=l;function r(g){const b=new Set;return g.filter(w=>b.has(w)?!1:(b.add(w),!0))}e.distinctES6=r;function t(g,b){return g.length>0?g[0]:b}e.firstOrDefault=t;function n(g){return[].concat(...g)}e.flatten=n;function i(g,b){let w=typeof b=="number"?g:0;typeof b=="number"?w=g:(w=0,b=g);const L=[];if(w<=b)for(let E=w;E<b;E++)L.push(E);else for(let E=w;E>b;E--)L.push(E);return L}e.range=i;function u(g,b,w){const L=g.slice(0,b),E=g.slice(b);return L.concat(w,E)}e.arrayInsert=u;function h(g,b){const w=g.indexOf(b);w>-1&&(g.splice(w,1),g.unshift(b))}e.pushToStart=h;function v(g,b){const w=g.indexOf(b);w>-1&&(g.splice(w,1),g.push(b))}e.pushToEnd=v;function m(g){return Array.isArray(g)?g:[g]}e.asArray=m}),define(Q[191],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function C(k,M){if(!k)throw new Error(M?`Assertion failed (${M})`:"Assertion Failed")}e.ok=C}),define(Q[192],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const C=Object.prototype.hasOwnProperty;function k(y,S){for(let _ in y)if(C.call(y,_)&&S({key:_,value:y[_]},function(){delete y[_]})===!1)return}e.forEach=k;class M{constructor(){this.map=new Map}add(S,_){let d=this.map.get(S);d||(d=new Set,this.map.set(S,d)),d.add(_)}delete(S,_){const d=this.map.get(S);!d||(d.delete(_),d.size===0&&this.map.delete(S))}forEach(S,_){const d=this.map.get(S);!d||d.forEach(_)}}e.SetMap=M}),define(Q[29],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function C(_,d){const f=Math.pow(10,d);return Math.round(_*f)/f}class k{constructor(d,f,p,o=1){this.r=Math.min(255,Math.max(0,d))|0,this.g=Math.min(255,Math.max(0,f))|0,this.b=Math.min(255,Math.max(0,p))|0,this.a=C(Math.max(Math.min(1,o),0),3)}static equals(d,f){return d.r===f.r&&d.g===f.g&&d.b===f.b&&d.a===f.a}}e.RGBA=k;class M{constructor(d,f,p,o){this.h=Math.max(Math.min(360,d),0)|0,this.s=C(Math.max(Math.min(1,f),0),3),this.l=C(Math.max(Math.min(1,p),0),3),this.a=C(Math.max(Math.min(1,o),0),3)}static equals(d,f){return d.h===f.h&&d.s===f.s&&d.l===f.l&&d.a===f.a}static fromRGBA(d){const f=d.r/255,p=d.g/255,o=d.b/255,c=d.a,a=Math.max(f,p,o),s=Math.min(f,p,o);let l=0,r=0;const t=(s+a)/2,n=a-s;if(n>0){switch(r=Math.min(t<=.5?n/(2*t):n/(2-2*t),1),a){case f:l=(p-o)/n+(p<o?6:0);break;case p:l=(o-f)/n+2;break;case o:l=(f-p)/n+4;break}l*=60,l=Math.round(l)}return new M(l,r,t,c)}static _hue2rgb(d,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(f-d)*6*p:p<1/2?f:p<2/3?d+(f-d)*(2/3-p)*6:d}static toRGBA(d){const f=d.h/360,{s:p,l:o,a:c}=d;let a,s,l;if(p===0)a=s=l=o;else{const r=o<.5?o*(1+p):o+p-o*p,t=2*o-r;a=M._hue2rgb(t,r,f+1/3),s=M._hue2rgb(t,r,f),l=M._hue2rgb(t,r,f-1/3)}return new k(Math.round(a*255),Math.round(s*255),Math.round(l*255),c)}}e.HSLA=M;class y{constructor(d,f,p,o){this.h=Math.max(Math.min(360,d),0)|0,this.s=C(Math.max(Math.min(1,f),0),3),this.v=C(Math.max(Math.min(1,p),0),3),this.a=C(Math.max(Math.min(1,o),0),3)}static equals(d,f){return d.h===f.h&&d.s===f.s&&d.v===f.v&&d.a===f.a}static fromRGBA(d){const f=d.r/255,p=d.g/255,o=d.b/255,c=Math.max(f,p,o),a=Math.min(f,p,o),s=c-a,l=c===0?0:s/c;let r;return s===0?r=0:c===f?r=((p-o)/s%6+6)%6:c===p?r=(o-f)/s+2:r=(f-p)/s+4,new y(Math.round(r*60),l,c,d.a)}static toRGBA(d){const{h:f,s:p,v:o,a:c}=d,a=o*p,s=a*(1-Math.abs(f/60%2-1)),l=o-a;let[r,t,n]=[0,0,0];return f<60?(r=a,t=s):f<120?(r=s,t=a):f<180?(t=a,n=s):f<240?(t=s,n=a):f<300?(r=s,n=a):f<=360&&(r=a,n=s),r=Math.round((r+l)*255),t=Math.round((t+l)*255),n=Math.round((n+l)*255),new k(r,t,n,c)}}e.HSVA=y;class S{constructor(d){if(d)if(d instanceof k)this.rgba=d;else if(d instanceof M)this._hsla=d,this.rgba=M.toRGBA(d);else if(d instanceof y)this._hsva=d,this.rgba=y.toRGBA(d);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(d){return S.Format.CSS.parseHex(d)||S.red}get hsla(){return this._hsla?this._hsla:M.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:y.fromRGBA(this.rgba)}equals(d){return!!d&&k.equals(this.rgba,d.rgba)&&M.equals(this.hsla,d.hsla)&&y.equals(this.hsva,d.hsva)}getRelativeLuminance(){const d=S._relativeLuminanceForComponent(this.rgba.r),f=S._relativeLuminanceForComponent(this.rgba.g),p=S._relativeLuminanceForComponent(this.rgba.b),o=.2126*d+.7152*f+.0722*p;return C(o,4)}static _relativeLuminanceForComponent(d){const f=d/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(d){const f=this.getRelativeLuminance(),p=d.getRelativeLuminance();return f>p}isDarkerThan(d){const f=this.getRelativeLuminance(),p=d.getRelativeLuminance();return f<p}lighten(d){return new S(new M(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*d,this.hsla.a))}darken(d){return new S(new M(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*d,this.hsla.a))}transparent(d){const{r:f,g:p,b:o,a:c}=this.rgba;return new S(new k(f,p,o,c*d))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(d,f,p){if(d.isLighterThan(f))return d;p=p||.5;const o=d.getRelativeLuminance(),c=f.getRelativeLuminance();return p=p*(c-o)/c,d.lighten(p)}static getDarkerColor(d,f,p){if(d.isDarkerThan(f))return d;p=p||.5;const o=d.getRelativeLuminance(),c=f.getRelativeLuminance();return p=p*(o-c)/o,d.darken(p)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(_){let d;(function(f){let p;(function(o){function c(v){return v.rgba.a===1?`rgb(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b})`:_.Format.CSS.formatRGBA(v)}o.formatRGB=c;function a(v){return`rgba(${v.rgba.r}, ${v.rgba.g}, ${v.rgba.b}, ${+v.rgba.a.toFixed(2)})`}o.formatRGBA=a;function s(v){return v.hsla.a===1?`hsl(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(v)}o.formatHSL=s;function l(v){return`hsla(${v.hsla.h}, ${(v.hsla.s*100).toFixed(2)}%, ${(v.hsla.l*100).toFixed(2)}%, ${v.hsla.a.toFixed(2)})`}o.formatHSLA=l;function r(v){const m=v.toString(16);return m.length!==2?"0"+m:m}function t(v){return`#${r(v.rgba.r)}${r(v.rgba.g)}${r(v.rgba.b)}`}o.formatHex=t;function n(v,m=!1){return m&&v.rgba.a===1?_.Format.CSS.formatHex(v):`#${r(v.rgba.r)}${r(v.rgba.g)}${r(v.rgba.b)}${r(Math.round(v.rgba.a*255))}`}o.formatHexA=n;function i(v){return v.isOpaque()?_.Format.CSS.formatHex(v):_.Format.CSS.formatRGBA(v)}o.format=i;function u(v){const m=v.length;if(m===0||v.charCodeAt(0)!==35)return null;if(m===7){const g=16*h(v.charCodeAt(1))+h(v.charCodeAt(2)),b=16*h(v.charCodeAt(3))+h(v.charCodeAt(4)),w=16*h(v.charCodeAt(5))+h(v.charCodeAt(6));return new _(new k(g,b,w,1))}if(m===9){const g=16*h(v.charCodeAt(1))+h(v.charCodeAt(2)),b=16*h(v.charCodeAt(3))+h(v.charCodeAt(4)),w=16*h(v.charCodeAt(5))+h(v.charCodeAt(6)),L=16*h(v.charCodeAt(7))+h(v.charCodeAt(8));return new _(new k(g,b,w,L/255))}if(m===4){const g=h(v.charCodeAt(1)),b=h(v.charCodeAt(2)),w=h(v.charCodeAt(3));return new _(new k(16*g+g,16*b+b,16*w+w))}if(m===5){const g=h(v.charCodeAt(1)),b=h(v.charCodeAt(2)),w=h(v.charCodeAt(3)),L=h(v.charCodeAt(4));return new _(new k(16*g+g,16*b+b,16*w+w,(16*L+L)/255))}return null}o.parseHex=u;function h(v){switch(v){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(p=f.CSS||(f.CSS={}))})(d=_.Format||(_.Format={}))}(S=e.Color||(e.Color={}))}),define(Q[98],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.createMemoizer=void 0;let C=0;function k(){const y=`$memoize${C++}`;let S;const _=function(f,p,o){let c=null,a=null;if(typeof o.value=="function"?(c="value",a=o.value,a.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof o.get=="function"&&(c="get",a=o.get),!a)throw new Error("not supported");const s=`${y}:${p}`;o[c]=function(...l){return S=this,this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!0,enumerable:!1,writable:!0,value:a.apply(this,l)}),this[s]}};return _.clear=()=>{typeof S!="undefined"&&Object.getOwnPropertyNames(S).forEach(d=>{d.indexOf(y)===0&&delete S[d]})},_}e.createMemoizer=k;function M(y,S,_){return k()(y,S,_)}e.memoize=M}),define(Q[271],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class C{constructor(M,y,S,_){this.originalStart=M,this.originalLength=y,this.modifiedStart=S,this.modifiedLength=_}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=C}),define(Q[11],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class C{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(a=>{a(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=C,e.errorHandler=new C;function k(o){_(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=k;function M(o){_(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=M;function y(o){if(o instanceof Error){let{name:c,message:a}=o;const s=o.stacktrace||o.stack;return{$isError:!0,name:c,message:a,stack:s}}return o}e.transformErrorForSerialization=y;const S="Canceled";function _(o){return o instanceof Error&&o.name===S&&o.message===S}e.isPromiseCanceledError=_;function d(){const o=new Error(S);return o.name=o.message,o}e.canceled=d;function f(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=f;function p(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=p}),define(Q[88],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function C(k){const M=this;let y=!1,S;return function(){return y||(y=!0,S=k.apply(M,arguments)),S}}e.once=C}),define(Q[99],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class C{constructor(M){this._prefix=M,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=C,e.defaultGenerator=new C("id#")});let It;(function(){function G(e,C,k){function M(_,d){if(!C[_]){if(!e[_]){var f=typeof require=="function"&&require;if(!d&&f)return f(_,!0);if(y)return y(_,!0);var p=new Error("Cannot find module '"+_+"'");throw p.code="MODULE_NOT_FOUND",p}var o=C[_]={exports:{}};e[_][0].call(o.exports,function(c){var a=e[_][1][c];return M(a||c)},o,o.exports,G,e,C,k)}return C[_].exports}for(var y=typeof require=="function"&&require,S=0;S<k.length;S++)M(k[S]);return M}return G})()({1:[function(G,e,C){"use strict";var k=G("./toMap"),M=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:k(M)}},{"./toMap":10}],2:[function(G,e,C){"use strict";var k={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=k},{}],3:[function(G,e,C){"use strict";var k=G("./toMap"),M=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:k(M)}},{"./toMap":10}],4:[function(G,e,C){"use strict";var k=G("he"),M=G("assignment"),y=G("./parser"),S=G("./sanitizer"),_=G("./defaults");function d(f,p,o){var c=[],a=o===!0?p:M({},_,p),s=S(c,a);return y(f,s),c.join("")}d.defaults=_,e.exports=d,It=d},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(G,e,C){"use strict";e.exports=function(M){return typeof M=="string"?M.toLowerCase():M}},{}],6:[function(G,e,C){"use strict";function k(M){for(var y=Array.prototype.slice.call(arguments,1),S,_;y.length;){S=y.shift();for(_ in S)S.hasOwnProperty(_)&&(Object.prototype.toString.call(M[_])==="[object Object]"?M[_]=k(M[_],S[_]):M[_]=S[_])}return M}e.exports=k},{}],7:[function(G,e,C){"use strict";var k=G("he"),M=G("./lowercase"),y=G("./attributes"),S=G("./elements"),_=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,d=/^<\s*\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,o=/^<\s*\//;function c(){var s=[];return s.lastItem=function(){return s[s.length-1]},s}function a(s,l){for(var r=c(),t=s,n;s;)i();b();function i(){n=!0,u();var w=s===t;t=s,w&&(s="")}function u(){s.substr(0,4)==="<!--"?v():o.test(s)?h(d,b):p.test(s)&&h(_,g),m()}function h(w,L){var E=s.match(w);E&&(s=s.substring(E[0].length),E[0].replace(w,L),n=!1)}function v(){var w=s.indexOf("-->");w>=0&&(l.comment&&l.comment(s.substring(4,w)),s=s.substring(w+3),n=!1)}function m(){if(!!n){var w,L=s.indexOf("<");L>=0?(w=s.substring(0,L),s=s.substring(L)):(w=s,s=""),l.chars&&l.chars(w)}}function g(w,L,E,N){var I={},T=M(L),O=S.voids[T]||!!N;E.replace(f,R),O||r.push(T),l.start&&l.start(T,I,O);function R(F,D,B,A,W){B===void 0&&A===void 0&&W===void 0?I[D]=void 0:I[D]=k.decode(B||A||W||"")}}function b(w,L){var E,N=0,I=M(L);if(I)for(N=r.length-1;N>=0&&r[N]!==I;N--);if(N>=0){for(E=r.length-1;E>=N;E--)l.end&&l.end(r[E]);r.length=N}}}e.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(G,e,C){"use strict";var k=G("he"),M=G("./lowercase"),y=G("./attributes"),S=G("./elements");function _(d,f){var p,o,c=f||{};return u(),{start:s,end:l,chars:t};function a(h){d.push(h)}function s(h,v,m){var g=M(h);if(o.ignoring){n(g);return}if((c.allowedTags||[]).indexOf(g)===-1){n(g);return}if(c.filter&&!c.filter({tag:g,attrs:v})){n(g);return}a("<"),a(g),Object.keys(v).forEach(b),a(m?"/>":">");function b(w){var L=v[w],E=(c.allowedClasses||{})[g]||[],N=(c.allowedAttributes||{})[g]||[];N=N.concat((c.allowedAttributes||{})["*"]||[]);var I,T=M(w);T==="class"&&N.indexOf(T)===-1?(L=L.split(" ").filter(O).join(" ").trim(),I=L.length):I=N.indexOf(T)!==-1&&(y.uris[T]!==!0||r(L)),I&&(a(" "),a(w),typeof L=="string"&&(a('="'),a(k.encode(L)),a('"')));function O(R){return E&&E.indexOf(R)!==-1}}}function l(h){var v=M(h),m=(c.allowedTags||[]).indexOf(v)!==-1;m&&o.ignoring===!1?(a("</"),a(v),a(">")):i(v)}function r(h){var v=h[0];if(v==="#"||v==="/")return!0;var m=h.indexOf(":");if(m===-1)return!0;var g=h.indexOf("?");if(g!==-1&&m>g)return!0;var b=h.indexOf("#");if(b!==-1&&m>b)return!0;return c.allowedSchemes.some(w);function w(L){return h.indexOf(L+":")===0}}function t(h){o.ignoring===!1&&a(c.transformText?c.transformText(h):h)}function n(h){S.voids[h]||(o.ignoring===!1?o={ignoring:h,depth:1}:o.ignoring===h&&o.depth++)}function i(h){o.ignoring===h&&--o.depth<=0&&u()}function u(){o={ignoring:!1,depth:0}}}e.exports=_},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(G,e,C){"use strict";var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},y=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function _(o){return k[o]}function d(o){return M[o]}function f(o){return o==null?"":String(o).replace(S,_)}function p(o){return o==null?"":String(o).replace(y,d)}f.options=p.options={},e.exports={encode:f,escape:f,decode:p,unescape:p,version:"1.0.0-browser"}},{}],10:[function(G,e,C){"use strict";function k(y){return y.reduce(M,{})}function M(y,S){return y[S]=!0,y}e.exports=k},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:It}}),define(Q[54],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var C;(function(k){function M(t){return t&&typeof t=="object"&&typeof t[Symbol.iterator]=="function"}k.is=M;const y=Object.freeze([]);function S(){return y}k.empty=S;function*_(t){yield t}k.single=_;function d(t){return t||y}k.from=d;function f(t){return!t||t[Symbol.iterator]().next().done===!0}k.isEmpty=f;function p(t){return t[Symbol.iterator]().next().value}k.first=p;function o(t,n){for(const i of t)if(n(i))return!0;return!1}k.some=o;function*c(t,n){for(const i of t)n(i)&&(yield i)}k.filter=c;function*a(t,n){for(const i of t)yield n(i)}k.map=a;function*s(...t){for(const n of t)for(const i of n)yield i}k.concat=s;function*l(t){for(const n of t)for(const i of n)yield i}k.concatNested=l;function r(t,n=Number.POSITIVE_INFINITY){const i=[];if(n===0)return[i,t];const u=t[Symbol.iterator]();for(let h=0;h<n;h++){const v=u.next();if(v.done)return[i,k.empty()];i.push(v.value)}return[i,{[Symbol.iterator](){return u}}]}k.consume=r})(C=e.Iterable||(e.Iterable={}))}),define(Q[38],J([0,1,11]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class k{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(r,t){this._keyCodeToStr[r]=t,this._strToKeyCode[t.toLowerCase()]=r}keyCodeToStr(r){return this._keyCodeToStr[r]}strToKeyCode(r){return this._strToKeyCode[r.toLowerCase()]||0}}const M=new k,y=new k,S=new k;(function(){function l(r,t,n=t,i=n){M.define(r,t),y.define(r,n),S.define(r,i)}l(0,"unknown"),l(1,"Backspace"),l(2,"Tab"),l(3,"Enter"),l(4,"Shift"),l(5,"Ctrl"),l(6,"Alt"),l(7,"PauseBreak"),l(8,"CapsLock"),l(9,"Escape"),l(10,"Space"),l(11,"PageUp"),l(12,"PageDown"),l(13,"End"),l(14,"Home"),l(15,"LeftArrow","Left"),l(16,"UpArrow","Up"),l(17,"RightArrow","Right"),l(18,"DownArrow","Down"),l(19,"Insert"),l(20,"Delete"),l(21,"0"),l(22,"1"),l(23,"2"),l(24,"3"),l(25,"4"),l(26,"5"),l(27,"6"),l(28,"7"),l(29,"8"),l(30,"9"),l(31,"A"),l(32,"B"),l(33,"C"),l(34,"D"),l(35,"E"),l(36,"F"),l(37,"G"),l(38,"H"),l(39,"I"),l(40,"J"),l(41,"K"),l(42,"L"),l(43,"M"),l(44,"N"),l(45,"O"),l(46,"P"),l(47,"Q"),l(48,"R"),l(49,"S"),l(50,"T"),l(51,"U"),l(52,"V"),l(53,"W"),l(54,"X"),l(55,"Y"),l(56,"Z"),l(57,"Meta"),l(58,"ContextMenu"),l(59,"F1"),l(60,"F2"),l(61,"F3"),l(62,"F4"),l(63,"F5"),l(64,"F6"),l(65,"F7"),l(66,"F8"),l(67,"F9"),l(68,"F10"),l(69,"F11"),l(70,"F12"),l(71,"F13"),l(72,"F14"),l(73,"F15"),l(74,"F16"),l(75,"F17"),l(76,"F18"),l(77,"F19"),l(78,"NumLock"),l(79,"ScrollLock"),l(80,";",";","OEM_1"),l(81,"=","=","OEM_PLUS"),l(82,",",",","OEM_COMMA"),l(83,"-","-","OEM_MINUS"),l(84,".",".","OEM_PERIOD"),l(85,"/","/","OEM_2"),l(86,"`","`","OEM_3"),l(110,"ABNT_C1"),l(111,"ABNT_C2"),l(87,"[","[","OEM_4"),l(88,"\\","\\","OEM_5"),l(89,"]","]","OEM_6"),l(90,"'","'","OEM_7"),l(91,"OEM_8"),l(92,"OEM_102"),l(93,"NumPad0"),l(94,"NumPad1"),l(95,"NumPad2"),l(96,"NumPad3"),l(97,"NumPad4"),l(98,"NumPad5"),l(99,"NumPad6"),l(100,"NumPad7"),l(101,"NumPad8"),l(102,"NumPad9"),l(103,"NumPad_Multiply"),l(104,"NumPad_Add"),l(105,"NumPad_Separator"),l(106,"NumPad_Subtract"),l(107,"NumPad_Decimal"),l(108,"NumPad_Divide")})();var _;(function(l){function r(h){return M.keyCodeToStr(h)}l.toString=r;function t(h){return M.strToKeyCode(h)}l.fromString=t;function n(h){return y.keyCodeToStr(h)}l.toUserSettingsUS=n;function i(h){return S.keyCodeToStr(h)}l.toUserSettingsGeneral=i;function u(h){return y.strToKeyCode(h)||S.strToKeyCode(h)}l.fromUserSettings=u})(_=e.KeyCodeUtils||(e.KeyCodeUtils={}));function d(l,r){const t=(r&65535)<<16>>>0;return(l|t)>>>0}e.KeyChord=d;function f(l,r){if(l===0)return null;const t=(l&65535)>>>0,n=(l&4294901760)>>>16;return n!==0?new c([p(t,r),p(n,r)]):new c([p(t,r)])}e.createKeybinding=f;function p(l,r){const t=!!(l&2048),n=!!(l&256),i=r===2?n:t,u=!!(l&1024),h=!!(l&512),v=r===2?t:n,m=l&255;return new o(i,u,h,v,m)}e.createSimpleKeybinding=p;class o{constructor(r,t,n,i,u){this.ctrlKey=r,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=u}equals(r){return this.ctrlKey===r.ctrlKey&&this.shiftKey===r.shiftKey&&this.altKey===r.altKey&&this.metaKey===r.metaKey&&this.keyCode===r.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new c([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=o;class c{constructor(r){if(r.length===0)throw C.illegalArgument("parts");this.parts=r}}e.ChordKeybinding=c;class a{constructor(r,t,n,i,u,h){this.ctrlKey=r,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=u,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=a;class s{}e.ResolvedKeybinding=s}),define(Q[149],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class C{constructor(M){this.executor=M,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(M){this._error=M}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=C}),define(Q[2],J([0,1,54]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=void 0;const k=!1,M="__is_disposable_tracked__";function y(r){if(!!k&&r&&r!==a.None)try{r[M]=!0}catch(t){}}function S(r){if(!k)return r;const t=new Error("Potentially leaked disposable").stack;return setTimeout(()=>{r[M]||console.log(t)},3e3),r}class _ extends Error{constructor(t){super(`Encounter errors while disposing of store. Errors: [${t.join(", ")}]`);this.errors=t}}e.MultiDisposeError=_;function d(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=d;function f(r){if(C.Iterable.is(r)){let t=[];for(const n of r)if(n){y(n);try{n.dispose()}catch(i){t.push(i)}}if(t.length===1)throw t[0];if(t.length>1)throw new _(t);return Array.isArray(r)?[]:r}else if(r)return y(r),r.dispose(),r}e.dispose=f;function p(...r){return r.forEach(y),S({dispose:()=>f(r)})}e.combinedDisposable=p;function o(r){const t=S({dispose:()=>{y(t),r()}});return t}e.toDisposable=o;class c{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(y(this),this._isDisposed=!0,this.clear())}clear(){try{f(this._toDispose.values())}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return y(t),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new c,S(this)}dispose(){y(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class s{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(t){this._isDisposed||t===this._value||(this._value&&this._value.dispose(),t&&y(t),this._value=t)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,y(this),this._value&&this._value.dispose(),this._value=void 0}}e.MutableDisposable=s;class l{constructor(t){this.object=t}dispose(){}}e.ImmortalReference=l}),define(Q[71],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class C{constructor(y){this.element=y,this.next=C.Undefined,this.prev=C.Undefined}}C.Undefined=new C(void 0);class k{constructor(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===C.Undefined}clear(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}unshift(y){return this._insert(y,!1)}push(y){return this._insert(y,!0)}_insert(y,S){const _=new C(y);if(this._first===C.Undefined)this._first=_,this._last=_;else if(S){const f=this._last;this._last=_,_.prev=f,f.next=_}else{const f=this._first;this._first=_,_.next=f,f.prev=_}this._size+=1;let d=!1;return()=>{d||(d=!0,this._remove(_))}}shift(){if(this._first!==C.Undefined){const y=this._first.element;return this._remove(this._first),y}}pop(){if(this._last!==C.Undefined){const y=this._last.element;return this._remove(this._last),y}}_remove(y){if(y.prev!==C.Undefined&&y.next!==C.Undefined){const S=y.prev;S.next=y.next,y.next.prev=S}else y.prev===C.Undefined&&y.next===C.Undefined?(this._first=C.Undefined,this._last=C.Undefined):y.next===C.Undefined?(this._last=this._last.prev,this._last.next=C.Undefined):y.prev===C.Undefined&&(this._first=this._first.next,this._first.prev=C.Undefined);this._size-=1}*[Symbol.iterator](){let y=this._first;for(;y!==C.Undefined;)yield y.element,y=y.next}}e.LinkedList=k}),function(G,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(G=typeof globalThis!="undefined"?globalThis:G||self,G.marked=e())}(this,function(){"use strict";function G(Se,Ce){for(var ge=0;ge<Ce.length;ge++){var oe=Ce[ge];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(Se,oe.key,oe)}}function e(Se,Ce,ge){return Ce&&G(Se.prototype,Ce),ge&&G(Se,ge),Se}function C(Se,Ce){if(!!Se){if(typeof Se=="string")return k(Se,Ce);var ge=Object.prototype.toString.call(Se).slice(8,-1);if(ge==="Object"&&Se.constructor&&(ge=Se.constructor.name),ge==="Map"||ge==="Set")return Array.from(Se);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return k(Se,Ce)}}function k(Se,Ce){(Ce==null||Ce>Se.length)&&(Ce=Se.length);for(var ge=0,oe=new Array(Ce);ge<Ce;ge++)oe[ge]=Se[ge];return oe}function M(Se,Ce){var ge;if(typeof Symbol=="undefined"||Se[Symbol.iterator]==null){if(Array.isArray(Se)||(ge=C(Se))||Ce&&Se&&typeof Se.length=="number"){ge&&(Se=ge);var oe=0;return function(){return oe>=Se.length?{done:!0}:{done:!1,value:Se[oe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return ge=Se[Symbol.iterator](),ge.next.bind(ge)}function y(Se,Ce){return Ce={exports:{}},Se(Ce,Ce.exports),Ce.exports}var S=y(function(Se){function Ce(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ge(oe){Se.exports.defaults=oe}Se.exports={defaults:Ce(),getDefaults:Ce,changeDefaults:ge}}),_=S.defaults,d=S.getDefaults,f=S.changeDefaults,p=/[&<>"']/,o=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=function(Ce){return s[Ce]};function r(Se,Ce){if(Ce){if(p.test(Se))return Se.replace(o,l)}else if(c.test(Se))return Se.replace(a,l);return Se}var t=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function n(Se){return Se.replace(t,function(Ce,ge){return ge=ge.toLowerCase(),ge==="colon"?":":ge.charAt(0)==="#"?ge.charAt(1)==="x"?String.fromCharCode(parseInt(ge.substring(2),16)):String.fromCharCode(+ge.substring(1)):""})}var i=/(^|[^\[])\^/g;function u(Se,Ce){Se=Se.source||Se,Ce=Ce||"";var ge={replace:function(he,_e){return _e=_e.source||_e,_e=_e.replace(i,"$1"),Se=Se.replace(he,_e),ge},getRegex:function(){return new RegExp(Se,Ce)}};return ge}var h=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(Se,Ce,ge){if(Se){var oe;try{oe=decodeURIComponent(n(ge)).replace(h,"").toLowerCase()}catch(he){return null}if(oe.indexOf("javascript:")===0||oe.indexOf("vbscript:")===0||oe.indexOf("data:")===0)return null}Ce&&!v.test(ge)&&(ge=E(Ce,ge));try{ge=encodeURI(ge).replace(/%25/g,"%")}catch(he){return null}return ge}var g={},b=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,L=/^([^:]+:\/*[^/]*)[\s\S]*$/;function E(Se,Ce){g[" "+Se]||(b.test(Se)?g[" "+Se]=Se+"/":g[" "+Se]=O(Se,"/",!0)),Se=g[" "+Se];var ge=Se.indexOf(":")===-1;return Ce.substring(0,2)==="//"?ge?Ce:Se.replace(w,"$1")+Ce:Ce.charAt(0)==="/"?ge?Ce:Se.replace(L,"$1")+Ce:Se+Ce}var N={exec:function(){}};function I(Se){for(var Ce=1,ge,oe;Ce<arguments.length;Ce++){ge=arguments[Ce];for(oe in ge)Object.prototype.hasOwnProperty.call(ge,oe)&&(Se[oe]=ge[oe])}return Se}function T(Se,Ce){var ge=Se.replace(/\|/g,function(_e,ve,we){for(var Ee=!1,ke=ve;--ke>=0&&we[ke]==="\\";)Ee=!Ee;return Ee?"|":" |"}),oe=ge.split(/ \|/),he=0;if(oe.length>Ce)oe.splice(Ce);else for(;oe.length<Ce;)oe.push("");for(;he<oe.length;he++)oe[he]=oe[he].trim().replace(/\\\|/g,"|");return oe}function O(Se,Ce,ge){var oe=Se.length;if(oe===0)return"";for(var he=0;he<oe;){var _e=Se.charAt(oe-he-1);if(_e===Ce&&!ge)he++;else if(_e!==Ce&&ge)he++;else break}return Se.substr(0,oe-he)}function R(Se,Ce){if(Se.indexOf(Ce[1])===-1)return-1;for(var ge=Se.length,oe=0,he=0;he<ge;he++)if(Se[he]==="\\")he++;else if(Se[he]===Ce[0])oe++;else if(Se[he]===Ce[1]&&(oe--,oe<0))return he;return-1}function F(Se){Se&&Se.sanitize&&!Se.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function D(Se,Ce){if(Ce<1)return"";for(var ge="";Ce>1;)Ce&1&&(ge+=Se),Ce>>=1,Se+=Se;return ge+Se}var B={escape:r,unescape:n,edit:u,cleanUrl:m,resolveUrl:E,noopTest:N,merge:I,splitCells:T,rtrim:O,findClosingBracket:R,checkSanitizeDeprecation:F,repeatString:D},A=S.defaults,W=B.rtrim,V=B.splitCells,K=B.escape,j=B.findClosingBracket;function ee(Se,Ce,ge){var oe=Ce.href,he=Ce.title?K(Ce.title):null,_e=Se[1].replace(/\\([\[\]])/g,"$1");return Se[0].charAt(0)!=="!"?{type:"link",raw:ge,href:oe,title:he,text:_e}:{type:"image",raw:ge,href:oe,title:he,text:K(_e)}}function re(Se,Ce){var ge=Se.match(/^(\s+)(?:```)/);if(ge===null)return Ce;var oe=ge[1];return Ce.split(`
`).map(function(he){var _e=he.match(/^\s+/);if(_e===null)return he;var ve=_e[0];return ve.length>=oe.length?he.slice(oe.length):he}).join(`
`)}var te=function(){function Se(ge){this.options=ge||A}var Ce=Se.prototype;return Ce.space=function(oe){var he=this.rules.block.newline.exec(oe);if(he)return he[0].length>1?{type:"space",raw:he[0]}:{raw:`
`}},Ce.code=function(oe,he){var _e=this.rules.block.code.exec(oe);if(_e){var ve=he[he.length-1];if(ve&&ve.type==="paragraph")return{raw:_e[0],text:_e[0].trimRight()};var we=_e[0].replace(/^ {4}/gm,"");return{type:"code",raw:_e[0],codeBlockStyle:"indented",text:this.options.pedantic?we:W(we,`
`)}}},Ce.fences=function(oe){var he=this.rules.block.fences.exec(oe);if(he){var _e=he[0],ve=re(_e,he[3]||"");return{type:"code",raw:_e,lang:he[2]?he[2].trim():he[2],text:ve}}},Ce.heading=function(oe){var he=this.rules.block.heading.exec(oe);if(he)return{type:"heading",raw:he[0],depth:he[1].length,text:he[2]}},Ce.nptable=function(oe){var he=this.rules.block.nptable.exec(oe);if(he){var _e={type:"table",header:V(he[1].replace(/^ *| *\| *$/g,"")),align:he[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:he[3]?he[3].replace(/\n$/,"").split(`
`):[],raw:he[0]};if(_e.header.length===_e.align.length){var ve=_e.align.length,we;for(we=0;we<ve;we++)/^ *-+: *$/.test(_e.align[we])?_e.align[we]="right":/^ *:-+: *$/.test(_e.align[we])?_e.align[we]="center":/^ *:-+ *$/.test(_e.align[we])?_e.align[we]="left":_e.align[we]=null;for(ve=_e.cells.length,we=0;we<ve;we++)_e.cells[we]=V(_e.cells[we],_e.header.length);return _e}}},Ce.hr=function(oe){var he=this.rules.block.hr.exec(oe);if(he)return{type:"hr",raw:he[0]}},Ce.blockquote=function(oe){var he=this.rules.block.blockquote.exec(oe);if(he){var _e=he[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:he[0],text:_e}}},Ce.list=function(oe){var he=this.rules.block.list.exec(oe);if(he){for(var _e=he[0],ve=he[2],we=ve.length>1,Ee=ve[ve.length-1]===")",ke={type:"list",raw:_e,ordered:we,start:we?+ve.slice(0,-1):"",loose:!1,items:[]},Ae=he[0].match(this.rules.block.item),xe=!1,We,He,ze,Oe,Ue,je,Ke,qe=Ae.length,Ve=0;Ve<qe;Ve++)We=Ae[Ve],_e=We,He=We.length,We=We.replace(/^ *([*+-]|\d+[.)]) ?/,""),~We.indexOf(`
 `)&&(He-=We.length,We=this.options.pedantic?We.replace(/^ {1,4}/gm,""):We.replace(new RegExp("^ {1,"+He+"}","gm"),"")),Ve!==qe-1&&(ze=this.rules.block.bullet.exec(Ae[Ve+1])[0],(we?ze.length===1||!Ee&&ze[ze.length-1]===")":ze.length>1||this.options.smartLists&&ze!==ve)&&(Oe=Ae.slice(Ve+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-Oe.length),Ve=qe-1)),Ue=xe||/\n\n(?!\s*$)/.test(We),Ve!==qe-1&&(xe=We.charAt(We.length-1)===`
`,Ue||(Ue=xe)),Ue&&(ke.loose=!0),je=/^\[[ xX]\] /.test(We),Ke=void 0,je&&(Ke=We[1]!==" ",We=We.replace(/^\[[ xX]\] +/,"")),ke.items.push({type:"list_item",raw:_e,task:je,checked:Ke,loose:Ue,text:We});return ke}},Ce.html=function(oe){var he=this.rules.block.html.exec(oe);if(he)return{type:this.options.sanitize?"paragraph":"html",raw:he[0],pre:!this.options.sanitizer&&(he[1]==="pre"||he[1]==="script"||he[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(he[0]):K(he[0]):he[0]}},Ce.def=function(oe){var he=this.rules.block.def.exec(oe);if(he){he[3]&&(he[3]=he[3].substring(1,he[3].length-1));var _e=he[1].toLowerCase().replace(/\s+/g," ");return{tag:_e,raw:he[0],href:he[2],title:he[3]}}},Ce.table=function(oe){var he=this.rules.block.table.exec(oe);if(he){var _e={type:"table",header:V(he[1].replace(/^ *| *\| *$/g,"")),align:he[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:he[3]?he[3].replace(/\n$/,"").split(`
`):[]};if(_e.header.length===_e.align.length){_e.raw=he[0];var ve=_e.align.length,we;for(we=0;we<ve;we++)/^ *-+: *$/.test(_e.align[we])?_e.align[we]="right":/^ *:-+: *$/.test(_e.align[we])?_e.align[we]="center":/^ *:-+ *$/.test(_e.align[we])?_e.align[we]="left":_e.align[we]=null;for(ve=_e.cells.length,we=0;we<ve;we++)_e.cells[we]=V(_e.cells[we].replace(/^ *\| *| *\| *$/g,""),_e.header.length);return _e}}},Ce.lheading=function(oe){var he=this.rules.block.lheading.exec(oe);if(he)return{type:"heading",raw:he[0],depth:he[2].charAt(0)==="="?1:2,text:he[1]}},Ce.paragraph=function(oe){var he=this.rules.block.paragraph.exec(oe);if(he)return{type:"paragraph",raw:he[0],text:he[1].charAt(he[1].length-1)===`
`?he[1].slice(0,-1):he[1]}},Ce.text=function(oe,he){var _e=this.rules.block.text.exec(oe);if(_e){var ve=he[he.length-1];return ve&&ve.type==="text"?{raw:_e[0],text:_e[0]}:{type:"text",raw:_e[0],text:_e[0]}}},Ce.escape=function(oe){var he=this.rules.inline.escape.exec(oe);if(he)return{type:"escape",raw:he[0],text:K(he[1])}},Ce.tag=function(oe,he,_e){var ve=this.rules.inline.tag.exec(oe);if(ve)return!he&&/^<a /i.test(ve[0])?he=!0:he&&/^<\/a>/i.test(ve[0])&&(he=!1),!_e&&/^<(pre|code|kbd|script)(\s|>)/i.test(ve[0])?_e=!0:_e&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ve[0])&&(_e=!1),{type:this.options.sanitize?"text":"html",raw:ve[0],inLink:he,inRawBlock:_e,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):K(ve[0]):ve[0]}},Ce.link=function(oe){var he=this.rules.inline.link.exec(oe);if(he){var _e=j(he[2],"()");if(_e>-1){var ve=he[0].indexOf("!")===0?5:4,we=ve+he[1].length+_e;he[2]=he[2].substring(0,_e),he[0]=he[0].substring(0,we).trim(),he[3]=""}var Ee=he[2],ke="";if(this.options.pedantic){var Ae=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ee);Ae?(Ee=Ae[1],ke=Ae[3]):ke=""}else ke=he[3]?he[3].slice(1,-1):"";Ee=Ee.trim().replace(/^<([\s\S]*)>$/,"$1");var xe=ee(he,{href:Ee&&Ee.replace(this.rules.inline._escapes,"$1"),title:ke&&ke.replace(this.rules.inline._escapes,"$1")},he[0]);return xe}},Ce.reflink=function(oe,he){var _e;if((_e=this.rules.inline.reflink.exec(oe))||(_e=this.rules.inline.nolink.exec(oe))){var ve=(_e[2]||_e[1]).replace(/\s+/g," ");if(ve=he[ve.toLowerCase()],!ve||!ve.href){var we=_e[0].charAt(0);return{type:"text",raw:we,text:we}}var Ee=ee(_e,ve,_e[0]);return Ee}},Ce.strong=function(oe,he,_e){_e===void 0&&(_e="");var ve=this.rules.inline.strong.start.exec(oe);if(ve&&(!ve[1]||ve[1]&&(_e===""||this.rules.inline.punctuation.exec(_e)))){he=he.slice(-1*oe.length);var we=ve[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;we.lastIndex=0;for(var Ee;(ve=we.exec(he))!=null;)if(Ee=this.rules.inline.strong.middle.exec(he.slice(0,ve.index+3)),Ee)return{type:"strong",raw:oe.slice(0,Ee[0].length),text:oe.slice(2,Ee[0].length-2)}}},Ce.em=function(oe,he,_e){_e===void 0&&(_e="");var ve=this.rules.inline.em.start.exec(oe);if(ve&&(!ve[1]||ve[1]&&(_e===""||this.rules.inline.punctuation.exec(_e)))){he=he.slice(-1*oe.length);var we=ve[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;we.lastIndex=0;for(var Ee;(ve=we.exec(he))!=null;)if(Ee=this.rules.inline.em.middle.exec(he.slice(0,ve.index+2)),Ee)return{type:"em",raw:oe.slice(0,Ee[0].length),text:oe.slice(1,Ee[0].length-1)}}},Ce.codespan=function(oe){var he=this.rules.inline.code.exec(oe);if(he){var _e=he[2].replace(/\n/g," "),ve=/[^ ]/.test(_e),we=_e.startsWith(" ")&&_e.endsWith(" ");return ve&&we&&(_e=_e.substring(1,_e.length-1)),_e=K(_e,!0),{type:"codespan",raw:he[0],text:_e}}},Ce.br=function(oe){var he=this.rules.inline.br.exec(oe);if(he)return{type:"br",raw:he[0]}},Ce.del=function(oe){var he=this.rules.inline.del.exec(oe);if(he)return{type:"del",raw:he[0],text:he[1]}},Ce.autolink=function(oe,he){var _e=this.rules.inline.autolink.exec(oe);if(_e){var ve,we;return _e[2]==="@"?(ve=K(this.options.mangle?he(_e[1]):_e[1]),we="mailto:"+ve):(ve=K(_e[1]),we=ve),{type:"link",raw:_e[0],text:ve,href:we,tokens:[{type:"text",raw:ve,text:ve}]}}},Ce.url=function(oe,he){var _e;if(_e=this.rules.inline.url.exec(oe)){var ve,we;if(_e[2]==="@")ve=K(this.options.mangle?he(_e[0]):_e[0]),we="mailto:"+ve;else{var Ee;do Ee=_e[0],_e[0]=this.rules.inline._backpedal.exec(_e[0])[0];while(Ee!==_e[0]);ve=K(_e[0]),_e[1]==="www."?we="http://"+ve:we=ve}return{type:"link",raw:_e[0],text:ve,href:we,tokens:[{type:"text",raw:ve,text:ve}]}}},Ce.inlineText=function(oe,he,_e){var ve=this.rules.inline.text.exec(oe);if(ve){var we;return he?we=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):K(ve[0]):ve[0]:we=K(this.options.smartypants?_e(ve[0]):ve[0]),{type:"text",raw:ve[0],text:we}}},Se}(),ae=B.noopTest,Y=B.edit,P=B.merge,x={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:ae,table:ae,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};x._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,x._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,x.def=Y(x.def).replace("label",x._label).replace("title",x._title).getRegex(),x.bullet=/(?:[*+-]|\d{1,9}[.)])/,x.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,x.item=Y(x.item,"gm").replace(/bull/g,x.bullet).getRegex(),x.list=Y(x.list).replace(/bull/g,x.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+x.def.source+")").getRegex(),x._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,x.html=Y(x.html,"i").replace("comment",x._comment).replace("tag",x._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),x.paragraph=Y(x._paragraph).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.blockquote=Y(x.blockquote).replace("paragraph",x.paragraph).getRegex(),x.normal=P({},x),x.gfm=P({},x.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),x.gfm.nptable=Y(x.gfm.nptable).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.gfm.table=Y(x.gfm.table).replace("hr",x.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",x._tag).getRegex(),x.pedantic=P({},x.normal,{html:Y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:ae,paragraph:Y(x.normal._paragraph).replace("hr",x.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ae,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ae,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};z._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",z.punctuation=Y(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",z._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",z._comment=Y(x._comment).replace("(?:-->|$)","-->").getRegex(),z.em.start=Y(z.em.start).replace(/punctuation/g,z._punctuation).getRegex(),z.em.middle=Y(z.em.middle).replace(/punctuation/g,z._punctuation).replace(/overlapSkip/g,z._overlapSkip).getRegex(),z.em.endAst=Y(z.em.endAst,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.em.endUnd=Y(z.em.endUnd,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.strong.start=Y(z.strong.start).replace(/punctuation/g,z._punctuation).getRegex(),z.strong.middle=Y(z.strong.middle).replace(/punctuation/g,z._punctuation).replace(/overlapSkip/g,z._overlapSkip).getRegex(),z.strong.endAst=Y(z.strong.endAst,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.strong.endUnd=Y(z.strong.endUnd,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=Y(z._blockSkip,"g").getRegex(),z.overlapSkip=Y(z._overlapSkip,"g").getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=Y(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=Y(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=Y(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=Y(z.reflink).replace("label",z._label).getRegex(),z.reflinkSearch=Y(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=P({},z),z.pedantic=P({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Y(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:Y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=P({},z.normal,{escape:Y(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),z.gfm.url=Y(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=P({},z.gfm,{br:Y(z.br).replace("{2,}","*").getRegex(),text:Y(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var U={block:x,inline:z},H=S.defaults,q=U.block,ie=U.inline,ce=B.repeatString;function ue(Se){return Se.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Z(Se){var Ce="",ge,oe,he=Se.length;for(ge=0;ge<he;ge++)oe=Se.charCodeAt(ge),Math.random()>.5&&(oe="x"+oe.toString(16)),Ce+="&#"+oe+";";return Ce}var ne=function(){function Se(ge){this.tokens=[],this.tokens.links=Object.create(null),this.options=ge||H,this.options.tokenizer=this.options.tokenizer||new te,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var oe={block:q.normal,inline:ie.normal};this.options.pedantic?(oe.block=q.pedantic,oe.inline=ie.pedantic):this.options.gfm&&(oe.block=q.gfm,this.options.breaks?oe.inline=ie.breaks:oe.inline=ie.gfm),this.tokenizer.rules=oe}Se.lex=function(oe,he){var _e=new Se(he);return _e.lex(oe)},Se.lexInline=function(oe,he){var _e=new Se(he);return _e.inlineTokens(oe)};var Ce=Se.prototype;return Ce.lex=function(oe){return oe=oe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(oe,this.tokens,!0),this.inline(this.tokens),this.tokens},Ce.blockTokens=function(oe,he,_e){he===void 0&&(he=[]),_e===void 0&&(_e=!0),oe=oe.replace(/^ +$/gm,"");for(var ve,we,Ee,ke;oe;){if(ve=this.tokenizer.space(oe)){oe=oe.substring(ve.raw.length),ve.type&&he.push(ve);continue}if(ve=this.tokenizer.code(oe,he)){oe=oe.substring(ve.raw.length),ve.type?he.push(ve):(ke=he[he.length-1],ke.raw+=`
`+ve.raw,ke.text+=`
`+ve.text);continue}if(ve=this.tokenizer.fences(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.heading(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.nptable(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.hr(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.blockquote(oe)){oe=oe.substring(ve.raw.length),ve.tokens=this.blockTokens(ve.text,[],_e),he.push(ve);continue}if(ve=this.tokenizer.list(oe)){for(oe=oe.substring(ve.raw.length),Ee=ve.items.length,we=0;we<Ee;we++)ve.items[we].tokens=this.blockTokens(ve.items[we].text,[],!1);he.push(ve);continue}if(ve=this.tokenizer.html(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(_e&&(ve=this.tokenizer.def(oe))){oe=oe.substring(ve.raw.length),this.tokens.links[ve.tag]||(this.tokens.links[ve.tag]={href:ve.href,title:ve.title});continue}if(ve=this.tokenizer.table(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.lheading(oe)){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(_e&&(ve=this.tokenizer.paragraph(oe))){oe=oe.substring(ve.raw.length),he.push(ve);continue}if(ve=this.tokenizer.text(oe,he)){oe=oe.substring(ve.raw.length),ve.type?he.push(ve):(ke=he[he.length-1],ke.raw+=`
`+ve.raw,ke.text+=`
`+ve.text);continue}if(oe){var Ae="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(Ae);break}else throw new Error(Ae)}}return he},Ce.inline=function(oe){var he,_e,ve,we,Ee,ke,Ae=oe.length;for(he=0;he<Ae;he++)switch(ke=oe[he],ke.type){case"paragraph":case"text":case"heading":{ke.tokens=[],this.inlineTokens(ke.text,ke.tokens);break}case"table":{for(ke.tokens={header:[],cells:[]},we=ke.header.length,_e=0;_e<we;_e++)ke.tokens.header[_e]=[],this.inlineTokens(ke.header[_e],ke.tokens.header[_e]);for(we=ke.cells.length,_e=0;_e<we;_e++)for(Ee=ke.cells[_e],ke.tokens.cells[_e]=[],ve=0;ve<Ee.length;ve++)ke.tokens.cells[_e][ve]=[],this.inlineTokens(Ee[ve],ke.tokens.cells[_e][ve]);break}case"blockquote":{this.inline(ke.tokens);break}case"list":{for(we=ke.items.length,_e=0;_e<we;_e++)this.inline(ke.items[_e].tokens);break}}return oe},Ce.inlineTokens=function(oe,he,_e,ve,we){he===void 0&&(he=[]),_e===void 0&&(_e=!1),ve===void 0&&(ve=!1),we===void 0&&(we="");var Ee,ke=oe,Ae;if(this.tokens.links){var xe=Object.keys(this.tokens.links);if(xe.length>0)for(;(Ae=this.tokenizer.rules.inline.reflinkSearch.exec(ke))!=null;)xe.includes(Ae[0].slice(Ae[0].lastIndexOf("[")+1,-1))&&(ke=ke.slice(0,Ae.index)+"["+ce("a",Ae[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ae=this.tokenizer.rules.inline.blockSkip.exec(ke))!=null;)ke=ke.slice(0,Ae.index)+"["+ce("a",Ae[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;oe;){if(Ee=this.tokenizer.escape(oe)){oe=oe.substring(Ee.raw.length),he.push(Ee);continue}if(Ee=this.tokenizer.tag(oe,_e,ve)){oe=oe.substring(Ee.raw.length),_e=Ee.inLink,ve=Ee.inRawBlock,he.push(Ee);continue}if(Ee=this.tokenizer.link(oe)){oe=oe.substring(Ee.raw.length),Ee.type==="link"&&(Ee.tokens=this.inlineTokens(Ee.text,[],!0,ve)),he.push(Ee);continue}if(Ee=this.tokenizer.reflink(oe,this.tokens.links)){oe=oe.substring(Ee.raw.length),Ee.type==="link"&&(Ee.tokens=this.inlineTokens(Ee.text,[],!0,ve)),he.push(Ee);continue}if(Ee=this.tokenizer.strong(oe,ke,we)){oe=oe.substring(Ee.raw.length),Ee.tokens=this.inlineTokens(Ee.text,[],_e,ve),he.push(Ee);continue}if(Ee=this.tokenizer.em(oe,ke,we)){oe=oe.substring(Ee.raw.length),Ee.tokens=this.inlineTokens(Ee.text,[],_e,ve),he.push(Ee);continue}if(Ee=this.tokenizer.codespan(oe)){oe=oe.substring(Ee.raw.length),he.push(Ee);continue}if(Ee=this.tokenizer.br(oe)){oe=oe.substring(Ee.raw.length),he.push(Ee);continue}if(Ee=this.tokenizer.del(oe)){oe=oe.substring(Ee.raw.length),Ee.tokens=this.inlineTokens(Ee.text,[],_e,ve),he.push(Ee);continue}if(Ee=this.tokenizer.autolink(oe,Z)){oe=oe.substring(Ee.raw.length),he.push(Ee);continue}if(!_e&&(Ee=this.tokenizer.url(oe,Z))){oe=oe.substring(Ee.raw.length),he.push(Ee);continue}if(Ee=this.tokenizer.inlineText(oe,ve,ue)){oe=oe.substring(Ee.raw.length),we=Ee.raw.slice(-1),he.push(Ee);continue}if(oe){var We="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(We);break}else throw new Error(We)}}return he},e(Se,null,[{key:"rules",get:function(){return{block:q,inline:ie}}}]),Se}(),$=S.defaults,X=B.cleanUrl,de=B.escape,fe=function(){function Se(ge){this.options=ge||$}var Ce=Se.prototype;return Ce.code=function(oe,he,_e){var ve=(he||"").match(/\S*/)[0];if(this.options.highlight){var we=this.options.highlight(oe,ve);we!=null&&we!==oe&&(_e=!0,oe=we)}return ve?'<pre><code class="'+this.options.langPrefix+de(ve,!0)+'">'+(_e?oe:de(oe,!0))+`</code></pre>
`:"<pre><code>"+(_e?oe:de(oe,!0))+`</code></pre>
`},Ce.blockquote=function(oe){return`<blockquote>
`+oe+`</blockquote>
`},Ce.html=function(oe){return oe},Ce.heading=function(oe,he,_e,ve){return this.options.headerIds?"<h"+he+' id="'+this.options.headerPrefix+ve.slug(_e)+'">'+oe+"</h"+he+`>
`:"<h"+he+">"+oe+"</h"+he+`>
`},Ce.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ce.list=function(oe,he,_e){var ve=he?"ol":"ul",we=he&&_e!==1?' start="'+_e+'"':"";return"<"+ve+we+`>
`+oe+"</"+ve+`>
`},Ce.listitem=function(oe){return"<li>"+oe+`</li>
`},Ce.checkbox=function(oe){return"<input "+(oe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ce.paragraph=function(oe){return"<p>"+oe+`</p>
`},Ce.table=function(oe,he){return he&&(he="<tbody>"+he+"</tbody>"),`<table>
<thead>
`+oe+`</thead>
`+he+`</table>
`},Ce.tablerow=function(oe){return`<tr>
`+oe+`</tr>
`},Ce.tablecell=function(oe,he){var _e=he.header?"th":"td",ve=he.align?"<"+_e+' align="'+he.align+'">':"<"+_e+">";return ve+oe+"</"+_e+`>
`},Ce.strong=function(oe){return"<strong>"+oe+"</strong>"},Ce.em=function(oe){return"<em>"+oe+"</em>"},Ce.codespan=function(oe){return"<code>"+oe+"</code>"},Ce.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ce.del=function(oe){return"<del>"+oe+"</del>"},Ce.link=function(oe,he,_e){if(oe=X(this.options.sanitize,this.options.baseUrl,oe),oe===null)return _e;var ve='<a href="'+de(oe)+'"';return he&&(ve+=' title="'+he+'"'),ve+=">"+_e+"</a>",ve},Ce.image=function(oe,he,_e){if(oe=X(this.options.sanitize,this.options.baseUrl,oe),oe===null)return _e;var ve='<img src="'+oe+'" alt="'+_e+'"';return he&&(ve+=' title="'+he+'"'),ve+=this.options.xhtml?"/>":">",ve},Ce.text=function(oe){return oe},Se}(),se=function(){function Se(){}var Ce=Se.prototype;return Ce.strong=function(oe){return oe},Ce.em=function(oe){return oe},Ce.codespan=function(oe){return oe},Ce.del=function(oe){return oe},Ce.html=function(oe){return oe},Ce.text=function(oe){return oe},Ce.link=function(oe,he,_e){return""+_e},Ce.image=function(oe,he,_e){return""+_e},Ce.br=function(){return""},Se}(),le=function(){function Se(){this.seen={}}var Ce=Se.prototype;return Ce.serialize=function(oe){return oe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ce.getNextSafeSlug=function(oe,he){var _e=oe,ve=0;if(this.seen.hasOwnProperty(_e)){ve=this.seen[oe];do ve++,_e=oe+"-"+ve;while(this.seen.hasOwnProperty(_e))}return he||(this.seen[oe]=ve,this.seen[_e]=0),_e},Ce.slug=function(oe,he){he===void 0&&(he={});var _e=this.serialize(oe);return this.getNextSafeSlug(_e,he.dryrun)},Se}(),me=S.defaults,be=B.unescape,ye=function(){function Se(ge){this.options=ge||me,this.options.renderer=this.options.renderer||new fe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new se,this.slugger=new le}Se.parse=function(oe,he){var _e=new Se(he);return _e.parse(oe)},Se.parseInline=function(oe,he){var _e=new Se(he);return _e.parseInline(oe)};var Ce=Se.prototype;return Ce.parse=function(oe,he){he===void 0&&(he=!0);var _e="",ve,we,Ee,ke,Ae,xe,We,He,ze,Oe,Ue,je,Ke,qe,Ve,Ze,Ge,Xe,Qe=oe.length;for(ve=0;ve<Qe;ve++)switch(Oe=oe[ve],Oe.type){case"space":continue;case"hr":{_e+=this.renderer.hr();continue}case"heading":{_e+=this.renderer.heading(this.parseInline(Oe.tokens),Oe.depth,be(this.parseInline(Oe.tokens,this.textRenderer)),this.slugger);continue}case"code":{_e+=this.renderer.code(Oe.text,Oe.lang,Oe.escaped);continue}case"table":{for(He="",We="",ke=Oe.header.length,we=0;we<ke;we++)We+=this.renderer.tablecell(this.parseInline(Oe.tokens.header[we]),{header:!0,align:Oe.align[we]});for(He+=this.renderer.tablerow(We),ze="",ke=Oe.cells.length,we=0;we<ke;we++){for(xe=Oe.tokens.cells[we],We="",Ae=xe.length,Ee=0;Ee<Ae;Ee++)We+=this.renderer.tablecell(this.parseInline(xe[Ee]),{header:!1,align:Oe.align[Ee]});ze+=this.renderer.tablerow(We)}_e+=this.renderer.table(He,ze);continue}case"blockquote":{ze=this.parse(Oe.tokens),_e+=this.renderer.blockquote(ze);continue}case"list":{for(Ue=Oe.ordered,je=Oe.start,Ke=Oe.loose,ke=Oe.items.length,ze="",we=0;we<ke;we++)Ve=Oe.items[we],Ze=Ve.checked,Ge=Ve.task,qe="",Ve.task&&(Xe=this.renderer.checkbox(Ze),Ke?Ve.tokens.length>0&&Ve.tokens[0].type==="text"?(Ve.tokens[0].text=Xe+" "+Ve.tokens[0].text,Ve.tokens[0].tokens&&Ve.tokens[0].tokens.length>0&&Ve.tokens[0].tokens[0].type==="text"&&(Ve.tokens[0].tokens[0].text=Xe+" "+Ve.tokens[0].tokens[0].text)):Ve.tokens.unshift({type:"text",text:Xe}):qe+=Xe),qe+=this.parse(Ve.tokens,Ke),ze+=this.renderer.listitem(qe,Ge,Ze);_e+=this.renderer.list(ze,Ue,je);continue}case"html":{_e+=this.renderer.html(Oe.text);continue}case"paragraph":{_e+=this.renderer.paragraph(this.parseInline(Oe.tokens));continue}case"text":{for(ze=Oe.tokens?this.parseInline(Oe.tokens):Oe.text;ve+1<Qe&&oe[ve+1].type==="text";)Oe=oe[++ve],ze+=`
`+(Oe.tokens?this.parseInline(Oe.tokens):Oe.text);_e+=he?this.renderer.paragraph(ze):ze;continue}default:{var Je='Token with "'+Oe.type+'" type was not found.';if(this.options.silent){console.error(Je);return}else throw new Error(Je)}}return _e},Ce.parseInline=function(oe,he){he=he||this.renderer;var _e="",ve,we,Ee=oe.length;for(ve=0;ve<Ee;ve++)switch(we=oe[ve],we.type){case"escape":{_e+=he.text(we.text);break}case"html":{_e+=he.html(we.text);break}case"link":{_e+=he.link(we.href,we.title,this.parseInline(we.tokens,he));break}case"image":{_e+=he.image(we.href,we.title,we.text);break}case"strong":{_e+=he.strong(this.parseInline(we.tokens,he));break}case"em":{_e+=he.em(this.parseInline(we.tokens,he));break}case"codespan":{_e+=he.codespan(we.text);break}case"br":{_e+=he.br();break}case"del":{_e+=he.del(this.parseInline(we.tokens,he));break}case"text":{_e+=he.text(we.text);break}default:{var ke='Token with "'+we.type+'" type was not found.';if(this.options.silent){console.error(ke);return}else throw new Error(ke)}}return _e},Se}(),Le=B.merge,Ie=B.checkSanitizeDeprecation,Te=B.escape,Ne=S.getDefaults,Pe=S.changeDefaults,Fe=S.defaults;function Re(Se,Ce,ge){if(typeof Se=="undefined"||Se===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Se!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Se)+", string expected");if(typeof Ce=="function"&&(ge=Ce,Ce=null),Ce=Le({},Re.defaults,Ce||{}),Ie(Ce),ge){var oe=Ce.highlight,he;try{he=ne.lex(Se,Ce)}catch(Ee){return ge(Ee)}var _e=function(ke){var Ae;if(!ke)try{Ae=ye.parse(he,Ce)}catch(xe){ke=xe}return Ce.highlight=oe,ke?ge(ke):ge(null,Ae)};if(!oe||oe.length<3||(delete Ce.highlight,!he.length))return _e();var ve=0;Re.walkTokens(he,function(Ee){Ee.type==="code"&&(ve++,setTimeout(function(){oe(Ee.text,Ee.lang,function(ke,Ae){if(ke)return _e(ke);Ae!=null&&Ae!==Ee.text&&(Ee.text=Ae,Ee.escaped=!0),ve--,ve===0&&_e()})},0))}),ve===0&&_e();return}try{var we=ne.lex(Se,Ce);return Ce.walkTokens&&Re.walkTokens(we,Ce.walkTokens),ye.parse(we,Ce)}catch(Ee){if(Ee.message+=`
Please report this to https://github.com/markedjs/marked.`,Ce.silent)return"<p>An error occurred:</p><pre>"+Te(Ee.message+"",!0)+"</pre>";throw Ee}}Re.options=Re.setOptions=function(Se){return Le(Re.defaults,Se),Pe(Re.defaults),Re},Re.getDefaults=Ne,Re.defaults=Fe,Re.use=function(Se){var Ce=Le({},Se);if(Se.renderer&&function(){var oe=Re.defaults.renderer||new fe,he=function(we){var Ee=oe[we];oe[we]=function(){for(var ke=arguments.length,Ae=new Array(ke),xe=0;xe<ke;xe++)Ae[xe]=arguments[xe];var We=Se.renderer[we].apply(oe,Ae);return We===!1&&(We=Ee.apply(oe,Ae)),We}};for(var _e in Se.renderer)he(_e);Ce.renderer=oe}(),Se.tokenizer&&function(){var oe=Re.defaults.tokenizer||new te,he=function(we){var Ee=oe[we];oe[we]=function(){for(var ke=arguments.length,Ae=new Array(ke),xe=0;xe<ke;xe++)Ae[xe]=arguments[xe];var We=Se.tokenizer[we].apply(oe,Ae);return We===!1&&(We=Ee.apply(oe,Ae)),We}};for(var _e in Se.tokenizer)he(_e);Ce.tokenizer=oe}(),Se.walkTokens){var ge=Re.defaults.walkTokens;Ce.walkTokens=function(oe){Se.walkTokens(oe),ge&&ge(oe)}}Re.setOptions(Ce)},Re.walkTokens=function(Se,Ce){for(var ge=M(Se),oe;!(oe=ge()).done;){var he=oe.value;switch(Ce(he),he.type){case"table":{for(var _e=M(he.tokens.header),ve;!(ve=_e()).done;){var we=ve.value;Re.walkTokens(we,Ce)}for(var Ee=M(he.tokens.cells),ke;!(ke=Ee()).done;)for(var Ae=ke.value,xe=M(Ae),We;!(We=xe()).done;){var He=We.value;Re.walkTokens(He,Ce)}break}case"list":{Re.walkTokens(he.items,Ce);break}default:he.tokens&&Re.walkTokens(he.tokens,Ce)}}},Re.parseInline=function(Se,Ce){if(typeof Se=="undefined"||Se===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Se!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Se)+", string expected");Ce=Le({},Re.defaults,Ce||{}),Ie(Ce);try{var ge=ne.lexInline(Se,Ce);return Ce.walkTokens&&Re.walkTokens(ge,Ce.walkTokens),ye.parseInline(ge,Ce)}catch(oe){if(oe.message+=`
Please report this to https://github.com/markedjs/marked.`,Ce.silent)return"<p>An error occurred:</p><pre>"+Te(oe.message+"",!0)+"</pre>";throw oe}},Re.Parser=ye,Re.parser=ye.parse,Re.Renderer=fe,Re.TextRenderer=se,Re.Lexer=ne,Re.lexer=ne.lex,Re.Tokenizer=te,Re.Slugger=le,Re.parse=Re;var Be=Re;return Be}),define(Q[272],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class C{constructor(M,y=0,S=M.length,_=y-1){this.items=M,this.start=y,this.end=S,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=C}),define(Q[273],J([0,1,272]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(y=[],S=10){this._initialize(y),this._limit=S,this._onChange()}add(y){this._history.delete(y),this._history.add(y),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(y){return this._history.has(y)}_onChange(){this._reduceToLimit();const y=this._elements;this._navigator=new C.ArrayNavigator(y,0,y.length,y.length)}_reduceToLimit(){const y=this._elements;y.length>this._limit&&this._initialize(y.slice(y.length-this._limit))}_currentPosition(){const y=this._navigator.current();return y?this._elements.indexOf(y):-1}_initialize(y){this._history=new Set;for(const S of y)this._history.add(S)}get _elements(){const y=[];return this._history.forEach(S=>y.push(S)),y}}e.HistoryNavigator=k}),define(Q[100],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function C(M,y,S){return Math.min(Math.max(M,y),S)}e.clamp=C;class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=k}),define(Q[17],J([0,1]),function(G,e){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.globals=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=void 0;const k="en";let M=!1,y=!1,S=!1,_=!1,d=!1,f=!1,p=!1,o,c=k,a,s;const l=typeof self=="object"?self:typeof global=="object"?global:{};let r;typeof process!="undefined"?r=process:typeof l.vscode!="undefined"&&(r=l.vscode.process);const t=typeof((C=r==null?void 0:r.versions)===null||C===void 0?void 0:C.electron)=="string"&&r.type==="renderer";if(e.isElectronSandboxed=t&&(r==null?void 0:r.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const v=r==null?void 0:r.env.ENABLE_VSCODE_BROWSER_CODE_LOADING;if(typeof v=="string")return v==="none"||v==="code"||v==="bypassHeatCheck"||v==="bypassHeatCheckAndEagerCompile"?v:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!t)s=navigator.userAgent,M=s.indexOf("Windows")>=0,y=s.indexOf("Macintosh")>=0,p=(s.indexOf("Macintosh")>=0||s.indexOf("iPad")>=0||s.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=s.indexOf("Linux")>=0,f=!0,o=navigator.language,c=o;else if(typeof r=="object"){M=r.platform==="win32",y=r.platform==="darwin",S=r.platform==="linux",_=S&&!!r.env.SNAP&&!!r.env.SNAP_REVISION,o=k,c=k;const v=r.env.VSCODE_NLS_CONFIG;if(v)try{const m=JSON.parse(v),g=m.availableLanguages["*"];o=m.locale,c=g||k,a=m._translationsConfigFile}catch(m){}d=!0}else console.error("Unable to resolve platform.");let n=0;y?n=1:M?n=3:S&&(n=2),e.isWindows=M,e.isMacintosh=y,e.isLinux=S,e.isNative=d,e.isWeb=f,e.isIOS=p,e.userAgent=s,e.globals=l,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let g=[];e.globals.addEventListener("message",w=>{if(w.data&&w.data.vscodeSetImmediateId)for(let L=0,E=g.length;L<E;L++){const N=g[L];if(N.id===w.data.vscodeSetImmediateId){g.splice(L,1),N.callback();return}}});let b=0;return w=>{const L=++b;g.push({id:L,callback:w}),e.globals.postMessage({vscodeSetImmediateId:L},"*")}}if(r)return r.nextTick.bind(r);const m=Promise.resolve();return g=>m.then(g)}(),e.OS=y||p?2:M?1:3;let i=!0,u=!1;function h(){if(!u){u=!0;const v=new Uint8Array(2);v[0]=1,v[1]=2,i=new Uint16Array(v.buffer)[0]===(2<<8)+1}return i}e.isLittleEndian=h}),define(Q[274],J([0,1,17]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;typeof process!="undefined"?k=process:typeof C.globals.vscode!="undefined"?k={get platform(){return C.globals.vscode.process.platform},get env(){return C.globals.vscode.process.env},nextTick(M){return C.setImmediate(M)},cwd(){return C.globals.vscode.process.env.VSCODE_CWD||C.globals.vscode.process.execPath.substr(0,C.globals.vscode.process.execPath.lastIndexOf(C.globals.vscode.process.platform==="win32"?"\\":"/"))}}:k={get platform(){return C.isWindows?"win32":C.isMacintosh?"darwin":"linux"},nextTick(M){return C.setImmediate(M)},get env(){return Object.create(null)},cwd(){return"/"}},e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(Q[65],J([0,1,274]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,M=97,y=90,S=122,_=46,d=47,f=92,p=58,o=63;class c extends Error{constructor(u,h,v){let m;typeof h=="string"&&h.indexOf("not ")===0?(m="must not be",h=h.replace(/^not /,"")):m="must be";const g=u.indexOf(".")!==-1?"property":"argument";let b=`The "${u}" ${g} ${m} of type ${h}`;b+=`. Received type ${typeof v}`,super(b),this.code="ERR_INVALID_ARG_TYPE"}}function a(i,u){if(typeof i!="string")throw new c(u,"string",i)}function s(i){return i===d||i===f}function l(i){return i===d}function r(i){return i>=k&&i<=y||i>=M&&i<=S}function t(i,u,h,v){let m="",g=0,b=-1,w=0,L=0;for(let E=0;E<=i.length;++E){if(E<i.length)L=i.charCodeAt(E);else{if(v(L))break;L=d}if(v(L)){if(!(b===E-1||w===1))if(w===2){if(m.length<2||g!==2||m.charCodeAt(m.length-1)!==_||m.charCodeAt(m.length-2)!==_){if(m.length>2){const N=m.lastIndexOf(h);N===-1?(m="",g=0):(m=m.slice(0,N),g=m.length-1-m.lastIndexOf(h)),b=E,w=0;continue}else if(m.length!==0){m="",g=0,b=E,w=0;continue}}u&&(m+=m.length>0?`${h}..`:"..",g=2)}else m.length>0?m+=`${h}${i.slice(b+1,E)}`:m=i.slice(b+1,E),g=E-b-1;b=E,w=0}else L===_&&w!==-1?++w:w=-1}return m}function n(i,u){if(u===null||typeof u!="object")throw new c("pathObject","Object",u);const h=u.dir||u.root,v=u.base||`${u.name||""}${u.ext||""}`;return h?h===u.root?`${h}${v}`:`${h}${i}${v}`:v}e.win32={resolve(...i){let u="",h="",v=!1;for(let m=i.length-1;m>=-1;m--){let g;if(m>=0){if(g=i[m],a(g,"path"),g.length===0)continue}else u.length===0?g=C.cwd():(g=C.env[`=${u}`]||C.cwd(),(g===void 0||g.slice(0,2).toLowerCase()!==u.toLowerCase()&&g.charCodeAt(2)===f)&&(g=`${u}\\`));const b=g.length;let w=0,L="",E=!1;const N=g.charCodeAt(0);if(b===1)s(N)&&(w=1,E=!0);else if(s(N))if(E=!0,s(g.charCodeAt(1))){let I=2,T=I;for(;I<b&&!s(g.charCodeAt(I));)I++;if(I<b&&I!==T){const O=g.slice(T,I);for(T=I;I<b&&s(g.charCodeAt(I));)I++;if(I<b&&I!==T){for(T=I;I<b&&!s(g.charCodeAt(I));)I++;(I===b||I!==T)&&(L=`\\\\${O}\\${g.slice(T,I)}`,w=I)}}}else w=1;else r(N)&&g.charCodeAt(1)===p&&(L=g.slice(0,2),w=2,b>2&&s(g.charCodeAt(2))&&(E=!0,w=3));if(L.length>0)if(u.length>0){if(L.toLowerCase()!==u.toLowerCase())continue}else u=L;if(v){if(u.length>0)break}else if(h=`${g.slice(w)}\\${h}`,v=E,E&&u.length>0)break}return h=t(h,!v,"\\",s),v?`${u}\\${h}`:`${u}${h}`||"."},normalize(i){a(i,"path");const u=i.length;if(u===0)return".";let h=0,v,m=!1;const g=i.charCodeAt(0);if(u===1)return l(g)?"\\":i;if(s(g))if(m=!0,s(i.charCodeAt(1))){let w=2,L=w;for(;w<u&&!s(i.charCodeAt(w));)w++;if(w<u&&w!==L){const E=i.slice(L,w);for(L=w;w<u&&s(i.charCodeAt(w));)w++;if(w<u&&w!==L){for(L=w;w<u&&!s(i.charCodeAt(w));)w++;if(w===u)return`\\\\${E}\\${i.slice(L)}\\`;w!==L&&(v=`\\\\${E}\\${i.slice(L,w)}`,h=w)}}}else h=1;else r(g)&&i.charCodeAt(1)===p&&(v=i.slice(0,2),h=2,u>2&&s(i.charCodeAt(2))&&(m=!0,h=3));let b=h<u?t(i.slice(h),!m,"\\",s):"";return b.length===0&&!m&&(b="."),b.length>0&&s(i.charCodeAt(u-1))&&(b+="\\"),v===void 0?m?`\\${b}`:b:m?`${v}\\${b}`:`${v}${b}`},isAbsolute(i){a(i,"path");const u=i.length;if(u===0)return!1;const h=i.charCodeAt(0);return s(h)||u>2&&r(h)&&i.charCodeAt(1)===p&&s(i.charCodeAt(2))},join(...i){if(i.length===0)return".";let u,h;for(let g=0;g<i.length;++g){const b=i[g];a(b,"path"),b.length>0&&(u===void 0?u=h=b:u+=`\\${b}`)}if(u===void 0)return".";let v=!0,m=0;if(typeof h=="string"&&s(h.charCodeAt(0))){++m;const g=h.length;g>1&&s(h.charCodeAt(1))&&(++m,g>2&&(s(h.charCodeAt(2))?++m:v=!1))}if(v){for(;m<u.length&&s(u.charCodeAt(m));)m++;m>=2&&(u=`\\${u.slice(m)}`)}return e.win32.normalize(u)},relative(i,u){if(a(i,"from"),a(u,"to"),i===u)return"";const h=e.win32.resolve(i),v=e.win32.resolve(u);if(h===v||(i=h.toLowerCase(),u=v.toLowerCase(),i===u))return"";let m=0;for(;m<i.length&&i.charCodeAt(m)===f;)m++;let g=i.length;for(;g-1>m&&i.charCodeAt(g-1)===f;)g--;const b=g-m;let w=0;for(;w<u.length&&u.charCodeAt(w)===f;)w++;let L=u.length;for(;L-1>w&&u.charCodeAt(L-1)===f;)L--;const E=L-w,N=b<E?b:E;let I=-1,T=0;for(;T<N;T++){const R=i.charCodeAt(m+T);if(R!==u.charCodeAt(w+T))break;R===f&&(I=T)}if(T!==N){if(I===-1)return v}else{if(E>N){if(u.charCodeAt(w+T)===f)return v.slice(w+T+1);if(T===2)return v.slice(w+T)}b>N&&(i.charCodeAt(m+T)===f?I=T:T===2&&(I=3)),I===-1&&(I=0)}let O="";for(T=m+I+1;T<=g;++T)(T===g||i.charCodeAt(T)===f)&&(O+=O.length===0?"..":"\\..");return w+=I,O.length>0?`${O}${v.slice(w,L)}`:(v.charCodeAt(w)===f&&++w,v.slice(w,L))},toNamespacedPath(i){if(typeof i!="string")return i;if(i.length===0)return"";const u=e.win32.resolve(i);if(u.length<=2)return i;if(u.charCodeAt(0)===f){if(u.charCodeAt(1)===f){const h=u.charCodeAt(2);if(h!==o&&h!==_)return`\\\\?\\UNC\\${u.slice(2)}`}}else if(r(u.charCodeAt(0))&&u.charCodeAt(1)===p&&u.charCodeAt(2)===f)return`\\\\?\\${u}`;return i},dirname(i){a(i,"path");const u=i.length;if(u===0)return".";let h=-1,v=0;const m=i.charCodeAt(0);if(u===1)return s(m)?i:".";if(s(m)){if(h=v=1,s(i.charCodeAt(1))){let w=2,L=w;for(;w<u&&!s(i.charCodeAt(w));)w++;if(w<u&&w!==L){for(L=w;w<u&&s(i.charCodeAt(w));)w++;if(w<u&&w!==L){for(L=w;w<u&&!s(i.charCodeAt(w));)w++;if(w===u)return i;w!==L&&(h=v=w+1)}}}}else r(m)&&i.charCodeAt(1)===p&&(h=u>2&&s(i.charCodeAt(2))?3:2,v=h);let g=-1,b=!0;for(let w=u-1;w>=v;--w)if(s(i.charCodeAt(w))){if(!b){g=w;break}}else b=!1;if(g===-1){if(h===-1)return".";g=h}return i.slice(0,g)},basename(i,u){u!==void 0&&a(u,"ext"),a(i,"path");let h=0,v=-1,m=!0,g;if(i.length>=2&&r(i.charCodeAt(0))&&i.charCodeAt(1)===p&&(h=2),u!==void 0&&u.length>0&&u.length<=i.length){if(u===i)return"";let b=u.length-1,w=-1;for(g=i.length-1;g>=h;--g){const L=i.charCodeAt(g);if(s(L)){if(!m){h=g+1;break}}else w===-1&&(m=!1,w=g+1),b>=0&&(L===u.charCodeAt(b)?--b==-1&&(v=g):(b=-1,v=w))}return h===v?v=w:v===-1&&(v=i.length),i.slice(h,v)}for(g=i.length-1;g>=h;--g)if(s(i.charCodeAt(g))){if(!m){h=g+1;break}}else v===-1&&(m=!1,v=g+1);return v===-1?"":i.slice(h,v)},extname(i){a(i,"path");let u=0,h=-1,v=0,m=-1,g=!0,b=0;i.length>=2&&i.charCodeAt(1)===p&&r(i.charCodeAt(0))&&(u=v=2);for(let w=i.length-1;w>=u;--w){const L=i.charCodeAt(w);if(s(L)){if(!g){v=w+1;break}continue}m===-1&&(g=!1,m=w+1),L===_?h===-1?h=w:b!==1&&(b=1):h!==-1&&(b=-1)}return h===-1||m===-1||b===0||b===1&&h===m-1&&h===v+1?"":i.slice(h,m)},format:n.bind(null,"\\"),parse(i){a(i,"path");const u={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return u;const h=i.length;let v=0,m=i.charCodeAt(0);if(h===1)return s(m)?(u.root=u.dir=i,u):(u.base=u.name=i,u);if(s(m)){if(v=1,s(i.charCodeAt(1))){let I=2,T=I;for(;I<h&&!s(i.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&s(i.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&!s(i.charCodeAt(I));)I++;I===h?v=I:I!==T&&(v=I+1)}}}}else if(r(m)&&i.charCodeAt(1)===p){if(h<=2)return u.root=u.dir=i,u;if(v=2,s(i.charCodeAt(2))){if(h===3)return u.root=u.dir=i,u;v=3}}v>0&&(u.root=i.slice(0,v));let g=-1,b=v,w=-1,L=!0,E=i.length-1,N=0;for(;E>=v;--E){if(m=i.charCodeAt(E),s(m)){if(!L){b=E+1;break}continue}w===-1&&(L=!1,w=E+1),m===_?g===-1?g=E:N!==1&&(N=1):g!==-1&&(N=-1)}return w!==-1&&(g===-1||N===0||N===1&&g===w-1&&g===b+1?u.base=u.name=i.slice(b,w):(u.name=i.slice(b,g),u.base=i.slice(b,w),u.ext=i.slice(g,w))),b>0&&b!==v?u.dir=i.slice(0,b-1):u.dir=u.root,u},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...i){let u="",h=!1;for(let v=i.length-1;v>=-1&&!h;v--){const m=v>=0?i[v]:C.cwd();a(m,"path"),m.length!==0&&(u=`${m}/${u}`,h=m.charCodeAt(0)===d)}return u=t(u,!h,"/",l),h?`/${u}`:u.length>0?u:"."},normalize(i){if(a(i,"path"),i.length===0)return".";const u=i.charCodeAt(0)===d,h=i.charCodeAt(i.length-1)===d;return i=t(i,!u,"/",l),i.length===0?u?"/":h?"./":".":(h&&(i+="/"),u?`/${i}`:i)},isAbsolute(i){return a(i,"path"),i.length>0&&i.charCodeAt(0)===d},join(...i){if(i.length===0)return".";let u;for(let h=0;h<i.length;++h){const v=i[h];a(v,"path"),v.length>0&&(u===void 0?u=v:u+=`/${v}`)}return u===void 0?".":e.posix.normalize(u)},relative(i,u){if(a(i,"from"),a(u,"to"),i===u||(i=e.posix.resolve(i),u=e.posix.resolve(u),i===u))return"";const h=1,v=i.length,m=v-h,g=1,b=u.length-g,w=m<b?m:b;let L=-1,E=0;for(;E<w;E++){const I=i.charCodeAt(h+E);if(I!==u.charCodeAt(g+E))break;I===d&&(L=E)}if(E===w)if(b>w){if(u.charCodeAt(g+E)===d)return u.slice(g+E+1);if(E===0)return u.slice(g+E)}else m>w&&(i.charCodeAt(h+E)===d?L=E:E===0&&(L=0));let N="";for(E=h+L+1;E<=v;++E)(E===v||i.charCodeAt(E)===d)&&(N+=N.length===0?"..":"/..");return`${N}${u.slice(g+L)}`},toNamespacedPath(i){return i},dirname(i){if(a(i,"path"),i.length===0)return".";const u=i.charCodeAt(0)===d;let h=-1,v=!0;for(let m=i.length-1;m>=1;--m)if(i.charCodeAt(m)===d){if(!v){h=m;break}}else v=!1;return h===-1?u?"/":".":u&&h===1?"//":i.slice(0,h)},basename(i,u){u!==void 0&&a(u,"ext"),a(i,"path");let h=0,v=-1,m=!0,g;if(u!==void 0&&u.length>0&&u.length<=i.length){if(u===i)return"";let b=u.length-1,w=-1;for(g=i.length-1;g>=0;--g){const L=i.charCodeAt(g);if(L===d){if(!m){h=g+1;break}}else w===-1&&(m=!1,w=g+1),b>=0&&(L===u.charCodeAt(b)?--b==-1&&(v=g):(b=-1,v=w))}return h===v?v=w:v===-1&&(v=i.length),i.slice(h,v)}for(g=i.length-1;g>=0;--g)if(i.charCodeAt(g)===d){if(!m){h=g+1;break}}else v===-1&&(m=!1,v=g+1);return v===-1?"":i.slice(h,v)},extname(i){a(i,"path");let u=-1,h=0,v=-1,m=!0,g=0;for(let b=i.length-1;b>=0;--b){const w=i.charCodeAt(b);if(w===d){if(!m){h=b+1;break}continue}v===-1&&(m=!1,v=b+1),w===_?u===-1?u=b:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||v===-1||g===0||g===1&&u===v-1&&u===h+1?"":i.slice(u,v)},format:n.bind(null,"/"),parse(i){a(i,"path");const u={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return u;const h=i.charCodeAt(0)===d;let v;h?(u.root="/",v=1):v=0;let m=-1,g=0,b=-1,w=!0,L=i.length-1,E=0;for(;L>=v;--L){const N=i.charCodeAt(L);if(N===d){if(!w){g=L+1;break}continue}b===-1&&(w=!1,b=L+1),N===_?m===-1?m=L:E!==1&&(E=1):m!==-1&&(E=-1)}if(b!==-1){const N=g===0&&h?1:g;m===-1||E===0||E===1&&m===b-1&&m===g+1?u.base=u.name=i.slice(N,b):(u.name=i.slice(N,m),u.base=i.slice(N,b),u.ext=i.slice(m,b))}return g>0?u.dir=i.slice(0,g-1):h&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=C.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=C.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=C.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=C.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=C.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=C.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=C.platform==="win32"?e.win32.sep:e.posix.sep}),define(Q[117],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var C;(function(k){function M(d,f){if(d.start>=f.end||f.start>=d.end)return{start:0,end:0};const p=Math.max(d.start,f.start),o=Math.min(d.end,f.end);return o-p<=0?{start:0,end:0}:{start:p,end:o}}k.intersect=M;function y(d){return d.end-d.start<=0}k.isEmpty=y;function S(d,f){return!y(M(d,f))}k.intersects=S;function _(d,f){const p=[],o={start:d.start,end:Math.min(f.start,d.end)},c={start:Math.max(f.end,d.start),end:d.end};return y(o)||p.push(o),y(c)||p.push(c),p}k.relativeComplement=_})(C=e.Range||(e.Range={}))}),define(Q[275],J([0,1,117]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(d,f){const p=[];for(let o of f)if(!(d.start>=o.range.end)){if(d.end<o.range.start)break;const c=C.Range.intersect(d,o.range);C.Range.isEmpty(c)||p.push({range:c,size:o.size})}return p}e.groupIntersect=k;function M({start:d,end:f},p){return{start:d+p,end:f+p}}e.shift=M;function y(d){const f=[];let p=null;for(let o of d){const c=o.range.start,a=o.range.end,s=o.size;if(p&&s===p.size){p.range.end=a;continue}p={range:{start:c,end:a},size:s},f.push(p)}return f}e.consolidate=y;function S(...d){return y(d.reduce((f,p)=>f.concat(p),[]))}class _{constructor(){this.groups=[],this._size=0}splice(f,p,o=[]){const c=o.length-p,a=k({start:0,end:f},this.groups),s=k({start:f+p,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:M(r.range,c),size:r.size})),l=o.map((r,t)=>({range:{start:f+t,end:f+t+1},size:r.size}));this.groups=S(a,l,s),this._size=this.groups.reduce((r,t)=>r+t.size*(t.range.end-t.range.start),0)}get count(){const f=this.groups.length;return f?this.groups[f-1].range.end:0}get size(){return this._size}indexAt(f){if(f<0)return-1;let p=0,o=0;for(let c of this.groups){const a=c.range.end-c.range.start,s=o+a*c.size;if(f<s)return p+Math.floor((f-o)/c.size);p+=a,o=s}return p}indexAfter(f){return Math.min(this.indexAt(f)+1,this.count)}positionAt(f){if(f<0)return-1;let p=0,o=0;for(let c of this.groups){const a=c.range.end-c.range.start,s=o+a;if(f<s)return p+(f-o)*c.size;p+=a*c.size,o=s}return-1}}e.RangeMap=_}),define(Q[80],J([0,1,17]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const k=C.globals.performance&&typeof C.globals.performance.now=="function";class M{constructor(S){this._highResolution=k&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new M(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?C.globals.performance.now():Date.now()}}e.StopWatch=M}),define(Q[4],J([0,1,11,2,71,80]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(s){s.None=()=>k.Disposable.None;function l(R){return(F,D=null,B)=>{let A=!1,W;return W=R(V=>{if(!A)return W?W.dispose():A=!0,F.call(D,V)},null,B),A&&W.dispose(),W}}s.once=l;function r(R,F){return v((D,B=null,A)=>R(W=>D.call(B,F(W)),null,A))}s.map=r;function t(R,F){return v((D,B=null,A)=>R(W=>{F(W),D.call(B,W)},null,A))}s.forEach=t;function n(R,F){return v((D,B=null,A)=>R(W=>F(W)&&D.call(B,W),null,A))}s.filter=n;function i(R){return R}s.signal=i;function u(...R){return(F,D=null,B)=>k.combinedDisposable(...R.map(A=>A(W=>F.call(D,W),null,B)))}s.any=u;function h(R,F,D){let B=D;return r(R,A=>(B=F(B,A),B))}s.reduce=h;function v(R){let F;const D=new p({onFirstListenerAdd(){F=R(D.fire,D)},onLastListenerRemove(){F.dispose()}});return D.event}s.snapshot=v;function m(R,F,D=100,B=!1,A){let W,V,K,j=0;const ee=new p({leakWarningThreshold:A,onFirstListenerAdd(){W=R(re=>{j++,V=F(V,re),B&&!K&&(ee.fire(V),V=void 0),clearTimeout(K),K=setTimeout(()=>{const te=V;V=void 0,K=void 0,(!B||j>1)&&ee.fire(te),j=0},D)})},onLastListenerRemove(){W.dispose()}});return ee.event}s.debounce=m;function g(R){const F=new Date().getTime();return r(l(R),D=>new Date().getTime()-F)}s.stopwatch=g;function b(R){let F=!0,D;return n(R,B=>{const A=F||B!==D;return F=!1,D=B,A})}s.latch=b;function w(R,F=!1,D=[]){let B=D.slice(),A=R(K=>{B?B.push(K):V.fire(K)});const W=()=>{B&&B.forEach(K=>V.fire(K)),B=null},V=new p({onFirstListenerAdd(){A||(A=R(K=>V.fire(K)))},onFirstListenerDidAdd(){B&&(F?setTimeout(W):W())},onLastListenerRemove(){A&&A.dispose(),A=null}});return V.event}s.buffer=w;class L{constructor(F){this.event=F}map(F){return new L(r(this.event,F))}forEach(F){return new L(t(this.event,F))}filter(F){return new L(n(this.event,F))}reduce(F,D){return new L(h(this.event,F,D))}latch(){return new L(b(this.event))}debounce(F,D=100,B=!1,A){return new L(m(this.event,F,D,B,A))}on(F,D,B){return this.event(F,D,B)}once(F,D,B){return l(this.event)(F,D,B)}}function E(R){return new L(R)}s.chain=E;function N(R,F,D=B=>B){const B=(...K)=>V.fire(D(...K)),A=()=>R.on(F,B),W=()=>R.removeListener(F,B),V=new p({onFirstListenerAdd:A,onLastListenerRemove:W});return V.event}s.fromNodeEventEmitter=N;function I(R,F,D=B=>B){const B=(...K)=>V.fire(D(...K)),A=()=>R.addEventListener(F,B),W=()=>R.removeEventListener(F,B),V=new p({onFirstListenerAdd:A,onLastListenerRemove:W});return V.event}s.fromDOMEventEmitter=I;function T(R){const F=new p;let D=!1;return R.then(void 0,()=>null).then(()=>{D?F.fire(void 0):setTimeout(()=>F.fire(void 0),0)}),D=!0,F.event}s.fromPromise=T;function O(R){return new Promise(F=>l(R)(F))}s.toPromise=O})(S=e.Event||(e.Event={}));class _{constructor(l){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${l}_${_._idPool++}`}start(l){this._stopWatch=new y.StopWatch(!0),this._listenerCount=l}stop(){if(this._stopWatch){const l=this._stopWatch.elapsed();this._elapsedOverall+=l,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${l.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}_._idPool=0;let d=-1;class f{constructor(l,r=Math.random().toString(18).slice(2,5)){this.customThreshold=l,this.name=r,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(l){let r=d;if(typeof this.customThreshold=="number"&&(r=this.customThreshold),!(r<=0||l<r)){this._stacks||(this._stacks=new Map);const t=new Error().stack.split(`
`).slice(3).join(`
`),n=this._stacks.get(t)||0;if(this._stacks.set(t,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;let i,u=0;for(const[h,v]of this._stacks)(!i||u<v)&&(i=h,u=v);console.warn(`[${this.name}] potential listener LEAK detected, having ${l} listeners already. MOST frequent listener (${u}):`),console.warn(i)}return()=>{const i=this._stacks.get(t)||0;this._stacks.set(t,i-1)}}}}class p{constructor(l){var r;this._disposed=!1,this._options=l,this._leakageMon=d>0?new f(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((r=this._options)===null||r===void 0?void 0:r._profName)?new _(this._options._profName):void 0}get event(){return this._event||(this._event=(l,r,t)=>{var n;this._listeners||(this._listeners=new M.LinkedList);const i=this._listeners.isEmpty();i&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const u=this._listeners.push(r?[l,r]:l);i&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,l,r);const h=(n=this._leakageMon)===null||n===void 0?void 0:n.check(this._listeners.size);let v;return v={dispose:()=>{h&&h(),v.dispose=p._noop,this._disposed||(u(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},t instanceof k.DisposableStore?t.add(v):Array.isArray(t)&&t.push(v),v}),this._event}fire(l){var r,t;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new M.LinkedList);for(let n of this._listeners)this._deliveryQueue.push([n,l]);for((r=this._perfMon)===null||r===void 0||r.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[n,i]=this._deliveryQueue.shift();try{typeof n=="function"?n.call(void 0,i):n[0].call(n[1],i)}catch(u){C.onUnexpectedError(u)}}(t=this._perfMon)===null||t===void 0||t.stop()}}dispose(){var l,r,t;(l=this._listeners)===null||l===void 0||l.clear(),(r=this._deliveryQueue)===null||r===void 0||r.clear(),(t=this._leakageMon)===null||t===void 0||t.dispose(),this._disposed=!0}}e.Emitter=p,p._noop=function(){};class o extends p{constructor(l){super(l);this._isPaused=0,this._eventQueue=new M.LinkedList,this._mergeFn=l==null?void 0:l.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const l=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(l))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(l){this._listeners&&(this._isPaused!==0?this._eventQueue.push(l):super.fire(l))}}e.PauseableEmitter=o;class c{constructor(){this.buffers=[]}wrapEvent(l){return(r,t,n)=>l(i=>{const u=this.buffers[this.buffers.length-1];u?u.push(()=>r.call(t,i)):r.call(t,i)},void 0,n)}bufferEvents(l){const r=[];this.buffers.push(r);const t=l();return this.buffers.pop(),r.forEach(n=>n()),t}}e.EventBufferer=c;class a{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=k.Disposable.None,this.emitter=new p({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(l){this.inputEvent=l,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=l(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=a}),define(Q[34],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isElectron=e.isEdgeWebView=e.isIPad=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.isEdge=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class k{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new C.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let o=document.createElement("canvas").getContext("2d"),c=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;return c/a}}k.INSTANCE=new k;function M(){return k.INSTANCE.getZoomLevel()}e.getZoomLevel=M;function y(){return k.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=y;function S(p){return k.INSTANCE.onDidChangeZoomLevel(p)}e.onDidChangeZoomLevel=S;function _(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=_;function d(){return k.INSTANCE.getPixelRatio()}e.getPixelRatio=d;const f=navigator.userAgent;e.isEdge=f.indexOf("Edge/")>=0,e.isFirefox=f.indexOf("Firefox")>=0,e.isWebKit=f.indexOf("AppleWebKit")>=0,e.isChrome=f.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&f.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isIPad=f.indexOf("iPad")>=0||e.isSafari&&navigator.maxTouchPoints>0,e.isEdgeWebView=e.isEdge&&f.indexOf("WebView/")>=0,e.isElectron=f.indexOf("Electron/")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(Q[118],J([0,1,34,17]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:k.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:k.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:(()=>{if(C.isEdge){let M=navigator.userAgent.indexOf("Edge/"),y=parseInt(navigator.userAgent.substring(M+5,navigator.userAgent.indexOf(".",M)),10);if(!y||y>=12&&y<=16)return!1}return!0})()},keyboard:(()=>k.isNative||C.isStandalone?0:navigator.keyboard||C.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(Q[55],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.domEvent=void 0;const k=(y,S,_)=>{const d=p=>f.fire(p),f=new C.Emitter({onFirstListenerAdd:()=>{y.addEventListener(S,d,_)},onLastListenerRemove:()=>{y.removeEventListener(S,d,_)}});return f.event};e.domEvent=k;function M(y){return C.Event.map(y,S=>(S.preventDefault(),S.stopPropagation(),S))}e.stop=M}),define(Q[56],J([0,1,34,38,17]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let y=new Array(230),S=new Array(112);(function(){for(let s=0;s<S.length;s++)S[s]=-1;function a(s,l){y[s]=l,S[l]=s}a(3,7),a(8,1),a(9,2),a(13,3),a(16,4),a(17,5),a(18,6),a(19,7),a(20,8),a(27,9),a(32,10),a(33,11),a(34,12),a(35,13),a(36,14),a(37,15),a(38,16),a(39,17),a(40,18),a(45,19),a(46,20),a(48,21),a(49,22),a(50,23),a(51,24),a(52,25),a(53,26),a(54,27),a(55,28),a(56,29),a(57,30),a(65,31),a(66,32),a(67,33),a(68,34),a(69,35),a(70,36),a(71,37),a(72,38),a(73,39),a(74,40),a(75,41),a(76,42),a(77,43),a(78,44),a(79,45),a(80,46),a(81,47),a(82,48),a(83,49),a(84,50),a(85,51),a(86,52),a(87,53),a(88,54),a(89,55),a(90,56),a(93,58),a(96,93),a(97,94),a(98,95),a(99,96),a(100,97),a(101,98),a(102,99),a(103,100),a(104,101),a(105,102),a(106,103),a(107,104),a(108,105),a(109,106),a(110,107),a(111,108),a(112,59),a(113,60),a(114,61),a(115,62),a(116,63),a(117,64),a(118,65),a(119,66),a(120,67),a(121,68),a(122,69),a(123,70),a(124,71),a(125,72),a(126,73),a(127,74),a(128,75),a(129,76),a(130,77),a(144,78),a(145,79),a(186,80),a(187,81),a(188,82),a(189,83),a(190,84),a(191,85),a(192,86),a(193,110),a(194,111),a(219,87),a(220,88),a(221,89),a(222,90),a(223,91),a(226,92),a(229,109),C.isFirefox?(a(59,80),a(107,81),a(109,83),M.isMacintosh&&a(224,57)):C.isWebKit&&(a(91,57),M.isMacintosh?a(93,57):a(92,57))})();function _(a){if(a.charCode){let s=String.fromCharCode(a.charCode).toUpperCase();return k.KeyCodeUtils.fromString(s)}return y[a.keyCode]||0}const d=M.isMacintosh?256:2048,f=512,p=1024,o=M.isMacintosh?2048:256;class c{constructor(s){this._standardKeyboardEventBrand=!0;let l=s;this.browserEvent=l,this.target=l.target,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.altKey=l.altKey,this.metaKey=l.metaKey,this.keyCode=_(l),this.code=l.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(s){return this._asKeybinding===s}_computeKeybinding(){let s=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(s=this.keyCode);let l=0;return this.ctrlKey&&(l|=d),this.altKey&&(l|=f),this.shiftKey&&(l|=p),this.metaKey&&(l|=o),l|=s,l}_computeRuntimeKeybinding(){let s=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(s=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,s)}}e.StandardKeyboardEvent=c}),define(Q[50],J([0,1,34,189,17]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class y{constructor(d){this.timestamp=Date.now(),this.browserEvent=d,this.leftButton=d.button===0,this.middleButton=d.button===1,this.rightButton=d.button===2,this.buttons=d.buttons,this.target=d.target,this.detail=d.detail||1,d.type==="dblclick"&&(this.detail=2),this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,typeof d.pageX=="number"?(this.posx=d.pageX,this.posy=d.pageY):(this.posx=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=d.clientY+document.body.scrollTop+document.documentElement.scrollTop);let f=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,d.view);this.posx-=f.left,this.posy-=f.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=y;class S{constructor(d,f=0,p=0){if(this.browserEvent=d||null,this.target=d?d.target||d.targetNode||d.srcElement:null,this.deltaY=p,this.deltaX=f,d){let o=d,c=d;if(typeof o.wheelDeltaY!="undefined")this.deltaY=o.wheelDeltaY/120;else if(typeof c.VERTICAL_AXIS!="undefined"&&c.axis===c.VERTICAL_AXIS)this.deltaY=-c.detail/3;else if(d.type==="wheel"){const a=d;a.deltaMode===a.DOM_DELTA_LINE?C.isFirefox&&!M.isMacintosh?this.deltaY=-d.deltaY/3:this.deltaY=-d.deltaY:this.deltaY=-d.deltaY/40}if(typeof o.wheelDeltaX!="undefined")C.isSafari&&M.isWindows?this.deltaX=-(o.wheelDeltaX/120):this.deltaX=o.wheelDeltaX/120;else if(typeof c.HORIZONTAL_AXIS!="undefined"&&c.axis===c.HORIZONTAL_AXIS)this.deltaX=-d.detail/3;else if(d.type==="wheel"){const a=d;a.deltaMode===a.DOM_DELTA_LINE?C.isFirefox&&!M.isMacintosh?this.deltaX=-d.deltaX/3:this.deltaX=-d.deltaX:this.deltaX=-d.deltaX/40}this.deltaY===0&&this.deltaX===0&&d.wheelDelta&&(this.deltaY=d.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(Q[150],J([0,1,97,19,4,54]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function S(p){return typeof p=="object"&&"visibility"in p&&"data"in p}e.isFilterResult=S;function _(p){switch(p){case!0:return 1;case!1:return 0;default:return p}}e.getVisibleState=_;function d(p){return typeof p.collapsible=="boolean"}class f{constructor(o,c,a,s={}){this.user=o,this.list=c,this.rootRef=[],this.eventBufferer=new M.EventBufferer,this._onDidChangeCollapseState=new M.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new M.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new M.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof s.collapseByDefault=="undefined"?!1:s.collapseByDefault,this.filter=s.filter,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren=="undefined"?!1:s.autoExpandSingleChildren,this.root={parent:void 0,element:a,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(o,c,a=y.Iterable.empty(),s,l){if(o.length===0)throw new C.TreeError(this.user,"Invalid tree location");const{parentNode:r,listIndex:t,revealed:n,visible:i}=this.getParentNodeWithListIndex(o),u=[],h=y.Iterable.map(a,I=>this.createTreeNode(I,r,r.visible?1:0,n,u,s)),v=o[o.length-1];let m=0;for(let I=v;I>=0&&I<r.children.length;I--){const T=r.children[I];if(T.visible){m=T.visibleChildIndex;break}}const g=[];let b=0,w=0;for(const I of h)g.push(I),w+=I.renderNodeCount,I.visible&&(I.visibleChildIndex=m+b++);const L=r.children.splice(v,c,...g);let E=0;for(const I of L)I.visible&&E++;if(E!==0)for(let I=v+g.length;I<r.children.length;I++){const T=r.children[I];T.visible&&(T.visibleChildIndex-=E)}if(r.visibleChildrenCount+=b-E,n&&i){const I=L.reduce((T,O)=>T+(O.visible?O.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(r,w-I),this.list.splice(t,I,u)}if(L.length>0&&l){const I=T=>{l(T),T.children.forEach(I)};L.forEach(I)}this._onDidSplice.fire({insertedNodes:g,deletedNodes:L});let N=r;for(;N;){if(N.visibility===2){this.refilter();break}N=N.parent}}rerender(o){if(o.length===0)throw new C.TreeError(this.user,"Invalid tree location");const{node:c,listIndex:a,revealed:s}=this.getTreeNodeWithListIndex(o);c.visible&&s&&this.list.splice(a,1,[c])}has(o){return this.hasTreeNode(o)}getListIndex(o){const{listIndex:c,visible:a,revealed:s}=this.getTreeNodeWithListIndex(o);return a&&s?c:-1}getListRenderCount(o){return this.getTreeNode(o).renderNodeCount}isCollapsible(o){return this.getTreeNode(o).collapsible}setCollapsible(o,c){const a=this.getTreeNode(o);typeof c=="undefined"&&(c=!a.collapsible);const s={collapsible:c};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,s))}isCollapsed(o){return this.getTreeNode(o).collapsed}setCollapsed(o,c,a){const s=this.getTreeNode(o);typeof c=="undefined"&&(c=!s.collapsed);const l={collapsed:c,recursive:a||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(o,l))}_setCollapseState(o,c){const{node:a,listIndex:s,revealed:l}=this.getTreeNodeWithListIndex(o),r=this._setListNodeCollapseState(a,s,l,c);if(a!==this.root&&this.autoExpandSingleChildren&&r&&!d(c)&&a.collapsible&&!a.collapsed&&!c.recursive){let t=-1;for(let n=0;n<a.children.length;n++)if(a.children[n].visible)if(t>-1){t=-1;break}else t=n;t>-1&&this._setCollapseState([...o,t],c)}return r}_setListNodeCollapseState(o,c,a,s){const l=this._setNodeCollapseState(o,s,!1);if(!a||!o.visible||!l)return l;const r=o.renderNodeCount,t=this.updateNodeAfterCollapseChange(o),n=r-(c===-1?0:1);return this.list.splice(c+1,n,t.slice(1)),l}_setNodeCollapseState(o,c,a){let s;if(o===this.root?s=!1:(d(c)?(s=o.collapsible!==c.collapsible,o.collapsible=c.collapsible):o.collapsible?(s=o.collapsed!==c.collapsed,o.collapsed=c.collapsed):s=!1,s&&this._onDidChangeCollapseState.fire({node:o,deep:a})),!d(c)&&c.recursive)for(const l of o.children)s=this._setNodeCollapseState(l,c,!0)||s;return s}expandTo(o){this.eventBufferer.bufferEvents(()=>{let c=this.getTreeNode(o);for(;c.parent;)c=c.parent,o=o.slice(0,o.length-1),c.collapsed&&this._setCollapseState(o,{collapsed:!1,recursive:!1})})}refilter(){const o=this.root.renderNodeCount,c=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,o,c)}createTreeNode(o,c,a,s,l,r){const t={parent:c,element:o.element,children:[],depth:c.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof o.collapsible=="boolean"?o.collapsible:typeof o.collapsed!="undefined",collapsed:typeof o.collapsed=="undefined"?this.collapseByDefault:o.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},n=this._filterNode(t,a);t.visibility=n,s&&l.push(t);const i=o.children||y.Iterable.empty(),u=s&&n!==0&&!t.collapsed,h=y.Iterable.map(i,g=>this.createTreeNode(g,t,n,u,l,r));let v=0,m=1;for(const g of h)t.children.push(g),m+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=v++);return t.collapsible=t.collapsible||t.children.length>0,t.visibleChildrenCount=v,t.visible=n===2?v>0:n===1,t.visible?t.collapsed||(t.renderNodeCount=m):(t.renderNodeCount=0,s&&l.pop()),r&&r(t),t}updateNodeAfterCollapseChange(o){const c=o.renderNodeCount,a=[];return this._updateNodeAfterCollapseChange(o,a),this._updateAncestorsRenderNodeCount(o.parent,a.length-c),a}_updateNodeAfterCollapseChange(o,c){if(o.visible===!1)return 0;if(c.push(o),o.renderNodeCount=1,!o.collapsed)for(const a of o.children)o.renderNodeCount+=this._updateNodeAfterCollapseChange(a,c);return this._onDidChangeRenderNodeCount.fire(o),o.renderNodeCount}updateNodeAfterFilterChange(o){const c=o.renderNodeCount,a=[];return this._updateNodeAfterFilterChange(o,o.visible?1:0,a),this._updateAncestorsRenderNodeCount(o.parent,a.length-c),a}_updateNodeAfterFilterChange(o,c,a,s=!0){let l;if(o!==this.root){if(l=this._filterNode(o,c),l===0)return o.visible=!1,o.renderNodeCount=0,!1;s&&a.push(o)}const r=a.length;o.renderNodeCount=o===this.root?0:1;let t=!1;if(!o.collapsed||l!==0){let n=0;for(const i of o.children)t=this._updateNodeAfterFilterChange(i,l,a,s&&!o.collapsed)||t,i.visible&&(i.visibleChildIndex=n++);o.visibleChildrenCount=n}else o.visibleChildrenCount=0;return o!==this.root&&(o.visible=l===2?t:l===1),o.visible?o.collapsed||(o.renderNodeCount+=a.length-r):(o.renderNodeCount=0,s&&a.pop()),this._onDidChangeRenderNodeCount.fire(o),o.visible}_updateAncestorsRenderNodeCount(o,c){if(c!==0)for(;o;)o.renderNodeCount+=c,this._onDidChangeRenderNodeCount.fire(o),o=o.parent}_filterNode(o,c){const a=this.filter?this.filter.filter(o.element,c):1;return typeof a=="boolean"?(o.filterData=void 0,a?1:0):S(a)?(o.filterData=a.data,_(a.visibility)):(o.filterData=void 0,_(a))}hasTreeNode(o,c=this.root){if(!o||o.length===0)return!0;const[a,...s]=o;return a<0||a>c.children.length?!1:this.hasTreeNode(s,c.children[a])}getTreeNode(o,c=this.root){if(!o||o.length===0)return c;const[a,...s]=o;if(a<0||a>c.children.length)throw new C.TreeError(this.user,"Invalid tree location");return this.getTreeNode(s,c.children[a])}getTreeNodeWithListIndex(o){if(o.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:c,listIndex:a,revealed:s,visible:l}=this.getParentNodeWithListIndex(o),r=o[o.length-1];if(r<0||r>c.children.length)throw new C.TreeError(this.user,"Invalid tree location");const t=c.children[r];return{node:t,listIndex:a,revealed:s,visible:l&&t.visible}}getParentNodeWithListIndex(o,c=this.root,a=0,s=!0,l=!0){const[r,...t]=o;if(r<0||r>c.children.length)throw new C.TreeError(this.user,"Invalid tree location");for(let n=0;n<r;n++)a+=c.children[n].renderNodeCount;return s=s&&!c.collapsed,l=l&&c.visible,t.length===0?{parentNode:c,listIndex:a,revealed:s,visible:l}:this.getParentNodeWithListIndex(t,c.children[r],a+1,s,l)}getNode(o=[]){return this.getTreeNode(o)}getNodeLocation(o){const c=[];let a=o;for(;a.parent;)c.push(a.parent.children.indexOf(a)),a=a.parent;return c.reverse()}getParentNodeLocation(o){if(o.length!==0)return o.length===1?[]:k.tail2(o)[0]}}e.IndexTreeModel=f}),define(Q[151],J([0,1,54,150,97,19]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class S{constructor(d,f,p={}){this.user=d,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new k.IndexTreeModel(d,f,null,p),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,p.sorter&&(this.sorter={compare(o,c){return p.sorter.compare(o.element,c.element)}}),this.identityProvider=p.identityProvider}setChildren(d,f=C.Iterable.empty(),p,o){const c=this.getElementLocation(d);this._setChildren(c,this.preserveCollapseState(f),p,o)}_setChildren(d,f=C.Iterable.empty(),p,o){const c=new Set,a=new Set,s=r=>{if(r.element!==null){const t=r;if(c.add(t.element),this.nodes.set(t.element,t),this.identityProvider){const n=this.identityProvider.getId(t.element).toString();a.add(n),this.nodesByIdentity.set(n,t)}p&&p(t)}},l=r=>{if(r.element!==null){const t=r;if(c.has(t.element)||this.nodes.delete(t.element),this.identityProvider){const n=this.identityProvider.getId(t.element).toString();a.has(n)||this.nodesByIdentity.delete(n)}o&&o(t)}};this.model.splice([...d,0],Number.MAX_VALUE,f,s,l)}preserveCollapseState(d=C.Iterable.empty()){return this.sorter&&(d=y.mergeSort([...d],this.sorter.compare.bind(this.sorter))),C.Iterable.map(d,f=>{let p=this.nodes.get(f.element);if(!p&&this.identityProvider){const a=this.identityProvider.getId(f.element).toString();p=this.nodesByIdentity.get(a)}if(!p)return Object.assign(Object.assign({},f),{children:this.preserveCollapseState(f.children)});const o=typeof f.collapsible=="boolean"?f.collapsible:p.collapsible,c=typeof f.collapsed!="undefined"?f.collapsed:p.collapsed;return Object.assign(Object.assign({},f),{collapsible:o,collapsed:c,children:this.preserveCollapseState(f.children)})})}rerender(d){const f=this.getElementLocation(d);this.model.rerender(f)}has(d){return this.nodes.has(d)}getListIndex(d){const f=this.getElementLocation(d);return this.model.getListIndex(f)}getListRenderCount(d){const f=this.getElementLocation(d);return this.model.getListRenderCount(f)}isCollapsible(d){const f=this.getElementLocation(d);return this.model.isCollapsible(f)}setCollapsible(d,f){const p=this.getElementLocation(d);return this.model.setCollapsible(p,f)}isCollapsed(d){const f=this.getElementLocation(d);return this.model.isCollapsed(f)}setCollapsed(d,f,p){const o=this.getElementLocation(d);return this.model.setCollapsed(o,f,p)}expandTo(d){const f=this.getElementLocation(d);this.model.expandTo(f)}refilter(){this.model.refilter()}getNode(d=null){if(d===null)return this.model.getNode(this.model.rootRef);const f=this.nodes.get(d);if(!f)throw new M.TreeError(this.user,`Tree element not found: ${d}`);return f}getNodeLocation(d){return d.element}getParentNodeLocation(d){if(d===null)throw new M.TreeError(this.user,"Invalid getParentNodeLocation call");const f=this.nodes.get(d);if(!f)throw new M.TreeError(this.user,`Tree element not found: ${d}`);const p=this.model.getNodeLocation(f),o=this.model.getParentNodeLocation(p);return this.model.getNode(o).element}getElementLocation(d){if(d===null)return[];const f=this.nodes.get(d);if(!f)throw new M.TreeError(this.user,`Tree element not found: ${d}`);return this.model.getNodeLocation(f)}}e.ObjectTreeModel=S}),define(Q[276],J([0,1,54,4,97,151]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(t){const n=[t.element],i=t.incompressible||!1;return{element:{elements:n,incompressible:i},children:C.Iterable.map(C.Iterable.from(t.children),S),collapsible:t.collapsible,collapsed:t.collapsed}}function _(t){const n=[t.element],i=t.incompressible||!1;let u,h;for(;[h,u]=C.Iterable.consume(C.Iterable.from(t.children),2),!(h.length!==1||h[0].incompressible);)t=h[0],n.push(t.element);return{element:{elements:n,incompressible:i},children:C.Iterable.map(C.Iterable.concat(h,u),_),collapsible:t.collapsible,collapsed:t.collapsed}}e.compress=_;function d(t,n=0){let i;return n<t.element.elements.length-1?i=[d(t,n+1)]:i=C.Iterable.map(C.Iterable.from(t.children),u=>d(u,0)),n===0&&t.element.incompressible?{element:t.element.elements[n],children:i,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[n],children:i,collapsible:t.collapsible,collapsed:t.collapsed}}function f(t){return d(t,0)}e.decompress=f;function p(t,n,i){return t.element===n?Object.assign(Object.assign({},t),{children:i}):Object.assign(Object.assign({},t),{children:C.Iterable.map(C.Iterable.from(t.children),u=>p(u,n,i))})}class o{constructor(n,i,u={}){this.user=n,this.rootRef=null,this.nodes=new Map,this.model=new y.ObjectTreeModel(n,i,u),this.enabled=typeof u.compressionEnabled=="undefined"?!0:u.compressionEnabled}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(n,i=C.Iterable.empty()){if(n===null){const E=C.Iterable.map(i,this.enabled?_:S);this._setChildren(null,E);return}const u=this.nodes.get(n);if(!u)throw new Error("Unknown compressed tree node");const h=this.model.getNode(u),v=this.model.getParentNodeLocation(u),m=this.model.getNode(v),g=f(h),b=p(g,n,i),w=(this.enabled?_:S)(b),L=m.children.map(E=>E===h?w:E);this._setChildren(m.element,L)}setCompressionEnabled(n){if(n!==this.enabled){this.enabled=n;const u=this.model.getNode().children,h=C.Iterable.map(u,f),v=C.Iterable.map(h,n?_:S);this._setChildren(null,v)}}_setChildren(n,i){const u=new Set,h=m=>{for(const g of m.element.elements)u.add(g),this.nodes.set(g,m.element)},v=m=>{for(const g of m.element.elements)u.has(g)||this.nodes.delete(g)};this.model.setChildren(n,i,h,v)}has(n){return this.nodes.has(n)}getListIndex(n){const i=this.getCompressedNode(n);return this.model.getListIndex(i)}getListRenderCount(n){const i=this.getCompressedNode(n);return this.model.getListRenderCount(i)}getNode(n){if(typeof n=="undefined")return this.model.getNode();const i=this.getCompressedNode(n);return this.model.getNode(i)}getNodeLocation(n){const i=this.model.getNodeLocation(n);return i===null?null:i.elements[i.elements.length-1]}getParentNodeLocation(n){const i=this.getCompressedNode(n),u=this.model.getParentNodeLocation(i);return u===null?null:u.elements[u.elements.length-1]}isCollapsible(n){const i=this.getCompressedNode(n);return this.model.isCollapsible(i)}setCollapsible(n,i){const u=this.getCompressedNode(n);return this.model.setCollapsible(u,i)}isCollapsed(n){const i=this.getCompressedNode(n);return this.model.isCollapsed(i)}setCollapsed(n,i,u){const h=this.getCompressedNode(n);return this.model.setCollapsed(h,i,u)}expandTo(n){const i=this.getCompressedNode(n);this.model.expandTo(i)}rerender(n){const i=this.getCompressedNode(n);this.model.rerender(i)}refilter(){this.model.refilter()}getCompressedNode(n){if(n===null)return null;const i=this.nodes.get(n);if(!i)throw new M.TreeError(this.user,`Tree element not found: ${n}`);return i}}e.CompressedObjectTreeModel=o;const c=t=>t[t.length-1];e.DefaultElementMapper=c;class a{constructor(n,i){this.unwrapper=n,this.node=i}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(n=>new a(this.unwrapper,n))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function s(t,n){return{splice(i,u,h){n.splice(i,u,h.map(v=>t.map(v)))},updateElementHeight(i,u){n.updateElementHeight(i,u)}}}function l(t,n){return Object.assign(Object.assign({},n),{sorter:n.sorter&&{compare(i,u){return n.sorter.compare(i.elements[0],u.elements[0])}},identityProvider:n.identityProvider&&{getId(i){return n.identityProvider.getId(t(i))}},filter:n.filter&&{filter(i,u){return n.filter.filter(t(i),u)}}})}class r{constructor(n,i,u={}){this.rootRef=null,this.elementMapper=u.elementMapper||e.DefaultElementMapper;const h=v=>this.elementMapper(v.elements);this.nodeMapper=new M.WeakMapper(v=>new a(h,v)),this.model=new o(n,s(this.nodeMapper,i),l(h,u))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:n,deletedNodes:i})=>({insertedNodes:n.map(u=>this.nodeMapper.map(u)),deletedNodes:i.map(u=>this.nodeMapper.map(u))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:n,deep:i})=>({node:this.nodeMapper.map(n),deep:i}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,n=>this.nodeMapper.map(n))}setChildren(n,i=C.Iterable.empty()){this.model.setChildren(n,i)}setCompressionEnabled(n){this.model.setCompressionEnabled(n)}has(n){return this.model.has(n)}getListIndex(n){return this.model.getListIndex(n)}getListRenderCount(n){return this.model.getListRenderCount(n)}getNode(n){return this.nodeMapper.map(this.model.getNode(n))}getNodeLocation(n){return n.element}getParentNodeLocation(n){return this.model.getParentNodeLocation(n)}isCollapsible(n){return this.model.isCollapsible(n)}setCollapsible(n,i){return this.model.setCollapsible(n,i)}isCollapsed(n){return this.model.isCollapsed(n)}setCollapsed(n,i,u){return this.model.setCollapsed(n,i,u)}expandTo(n){return this.model.expandTo(n)}rerender(n){return this.model.rerender(n)}refilter(){return this.model.refilter()}getCompressedTreeNode(n=null){return this.model.getNode(n)}}e.CompressibleObjectTreeModel=r}),define(Q[25],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(_,d){const f=setTimeout(_.bind(d),0);return{dispose(){clearTimeout(f)}}});var M;(function(_){function d(f){return f===_.None||f===_.Cancelled||f instanceof y?!0:!f||typeof f!="object"?!1:typeof f.isCancellationRequested=="boolean"&&typeof f.onCancellationRequested=="function"}_.isCancellationToken=d,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:C.Event.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(M=e.CancellationToken||(e.CancellationToken={}));class y{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new C.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(d){this._token=void 0,this._parentListener=void 0,this._parentListener=d&&d.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new y),this._token}cancel(){this._token?this._token instanceof y&&this._token.cancel():this._token=M.Cancelled}dispose(d=!1){d&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof y&&this._token.dispose():this._token=M.None}}e.CancellationTokenSource=S}),define(Q[15],J([0,1,25,11,2]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.Delayer=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function y(r){return r&&typeof r.then=="function"}e.isThenable=y;function S(r){const t=new C.CancellationTokenSource,n=r(t.token),i=new Promise((u,h)=>{t.token.onCancellationRequested(()=>{h(k.canceled())}),Promise.resolve(n).then(v=>{t.dispose(),u(v)},v=>{t.dispose(),h(v)})});return new class{cancel(){t.cancel()}then(u,h){return i.then(u,h)}catch(u){return this.then(void 0,u)}finally(u){return i.finally(u)}}}e.createCancelablePromise=S;function _(r,t,n){return Promise.race([r,new Promise(i=>t.onCancellationRequested(()=>i(n)))])}e.raceCancellation=_;class d{constructor(t){this.defaultDelay=t,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(t,n=this.defaultDelay){return this.task=t,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((i,u)=>{this.doResolve=i,this.doReject=u}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const i=this.task;return this.task=null,i()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},n),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(k.canceled()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=d;function f(r,t){return t?new Promise((n,i)=>{const u=setTimeout(n,r);t.onCancellationRequested(()=>{clearTimeout(u),i(k.canceled())})}):S(n=>f(r,n))}e.timeout=f;function p(r,t=0){const n=setTimeout(r,t);return M.toDisposable(()=>clearTimeout(n))}e.disposableTimeout=p;function o(r,t=i=>!!i,n=null){let i=0;const u=r.length,h=()=>{if(i>=u)return Promise.resolve(n);const v=r[i++];return Promise.resolve(v()).then(g=>t(g)?Promise.resolve(g):h())};return h()}e.first=o;class c{constructor(t,n){this._token=-1,typeof t=="function"&&typeof n=="number"&&this.setIfNotSet(t,n)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,n){this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},n)}setIfNotSet(t,n){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},n))}}e.TimeoutTimer=c;class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(t,n){this.cancel(),this._token=setInterval(()=>{t()},n)}}e.IntervalTimer=a;class s{constructor(t,n){this.timeoutToken=-1,this.runner=t,this.timeout=n,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(t=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,t)}get delay(){return this.timeout}set delay(t){this.timeout=t}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=s,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const r=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=t=>{const n=setTimeout(()=>t(r));let i=!1;return{dispose(){i||(i=!0,clearTimeout(n))}}}}else e.runWhenIdle=(r,t)=>{const n=requestIdleCallback(r,typeof t=="number"?{timeout:t}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(n))}}}}();class l{constructor(t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(n){this._error=n}finally{this._didRun=!0}},this._handle=e.runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=l}),define(Q[277],J([0,1,15,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class M extends k.Disposable{constructor(S,_,d){super();this._visibility=S,this._visibleClassName=_,this._invisibleClassName=d,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new C.TimeoutTimer)}applyVisibilitySetting(S){return this._visibility===2?!1:this._visibility===3?!0:S}setShouldBeVisible(S){let _=this.applyVisibilitySetting(S);this._shouldBeVisible!==_&&(this._shouldBeVisible=_,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=M}),define(Q[27],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.registerCodicon=e.iconRegistry=void 0;class k{constructor(){this._icons=new Map,this._onDidRegister=new C.Emitter}add(f){const p=this._icons.get(f.id);p?f.description?p.description=f.description:console.error(`Duplicate registration of codicon ${f.id}`):(this._icons.set(f.id,f),this._onDidRegister.fire(f))}get(f){return this._icons.get(f)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const M=new k;e.iconRegistry=M;function y(d,f){return new S(d,f)}e.registerCodicon=y;class S{constructor(f,p,o){this.id=f,this.definition=p,this.description=o,M.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=S;var _;(function(d){d.iconIdRegex=/^(codicon\/)?([a-z\-]+)(?:~([a-z\-]+))?$/i;function f(c){if(c instanceof S)return["codicon","codicon-"+c.id];const a=d.iconIdRegex.exec(c.id);if(!a)return f(S.error);let[,,s,l]=a;const r=["codicon","codicon-"+s];return l&&r.push("codicon-modifier-"+l),r}d.asClassNameArray=f;function p(c){return f(c).join(" ")}d.asClassName=p;function o(c){return"."+f(c).join(".")}d.asCSSSelector=o})(_=e.CSSIcon||(e.CSSIcon={})),function(d){d.add=new d("add",{character:"\\ea60"}),d.plus=new d("plus",{character:"\\ea60"}),d.gistNew=new d("gist-new",{character:"\\ea60"}),d.repoCreate=new d("repo-create",{character:"\\ea60"}),d.lightbulb=new d("lightbulb",{character:"\\ea61"}),d.lightBulb=new d("light-bulb",{character:"\\ea61"}),d.repo=new d("repo",{character:"\\ea62"}),d.repoDelete=new d("repo-delete",{character:"\\ea62"}),d.gistFork=new d("gist-fork",{character:"\\ea63"}),d.repoForked=new d("repo-forked",{character:"\\ea63"}),d.gitPullRequest=new d("git-pull-request",{character:"\\ea64"}),d.gitPullRequestAbandoned=new d("git-pull-request-abandoned",{character:"\\ea64"}),d.recordKeys=new d("record-keys",{character:"\\ea65"}),d.keyboard=new d("keyboard",{character:"\\ea65"}),d.tag=new d("tag",{character:"\\ea66"}),d.tagAdd=new d("tag-add",{character:"\\ea66"}),d.tagRemove=new d("tag-remove",{character:"\\ea66"}),d.person=new d("person",{character:"\\ea67"}),d.personAdd=new d("person-add",{character:"\\ea67"}),d.personFollow=new d("person-follow",{character:"\\ea67"}),d.personOutline=new d("person-outline",{character:"\\ea67"}),d.personFilled=new d("person-filled",{character:"\\ea67"}),d.gitBranch=new d("git-branch",{character:"\\ea68"}),d.gitBranchCreate=new d("git-branch-create",{character:"\\ea68"}),d.gitBranchDelete=new d("git-branch-delete",{character:"\\ea68"}),d.sourceControl=new d("source-control",{character:"\\ea68"}),d.mirror=new d("mirror",{character:"\\ea69"}),d.mirrorPublic=new d("mirror-public",{character:"\\ea69"}),d.star=new d("star",{character:"\\ea6a"}),d.starAdd=new d("star-add",{character:"\\ea6a"}),d.starDelete=new d("star-delete",{character:"\\ea6a"}),d.starEmpty=new d("star-empty",{character:"\\ea6a"}),d.comment=new d("comment",{character:"\\ea6b"}),d.commentAdd=new d("comment-add",{character:"\\ea6b"}),d.alert=new d("alert",{character:"\\ea6c"}),d.warning=new d("warning",{character:"\\ea6c"}),d.search=new d("search",{character:"\\ea6d"}),d.searchSave=new d("search-save",{character:"\\ea6d"}),d.logOut=new d("log-out",{character:"\\ea6e"}),d.signOut=new d("sign-out",{character:"\\ea6e"}),d.logIn=new d("log-in",{character:"\\ea6f"}),d.signIn=new d("sign-in",{character:"\\ea6f"}),d.eye=new d("eye",{character:"\\ea70"}),d.eyeUnwatch=new d("eye-unwatch",{character:"\\ea70"}),d.eyeWatch=new d("eye-watch",{character:"\\ea70"}),d.circleFilled=new d("circle-filled",{character:"\\ea71"}),d.primitiveDot=new d("primitive-dot",{character:"\\ea71"}),d.closeDirty=new d("close-dirty",{character:"\\ea71"}),d.debugBreakpoint=new d("debug-breakpoint",{character:"\\ea71"}),d.debugBreakpointDisabled=new d("debug-breakpoint-disabled",{character:"\\ea71"}),d.debugHint=new d("debug-hint",{character:"\\ea71"}),d.primitiveSquare=new d("primitive-square",{character:"\\ea72"}),d.edit=new d("edit",{character:"\\ea73"}),d.pencil=new d("pencil",{character:"\\ea73"}),d.info=new d("info",{character:"\\ea74"}),d.issueOpened=new d("issue-opened",{character:"\\ea74"}),d.gistPrivate=new d("gist-private",{character:"\\ea75"}),d.gitForkPrivate=new d("git-fork-private",{character:"\\ea75"}),d.lock=new d("lock",{character:"\\ea75"}),d.mirrorPrivate=new d("mirror-private",{character:"\\ea75"}),d.close=new d("close",{character:"\\ea76"}),d.removeClose=new d("remove-close",{character:"\\ea76"}),d.x=new d("x",{character:"\\ea76"}),d.repoSync=new d("repo-sync",{character:"\\ea77"}),d.sync=new d("sync",{character:"\\ea77"}),d.clone=new d("clone",{character:"\\ea78"}),d.desktopDownload=new d("desktop-download",{character:"\\ea78"}),d.beaker=new d("beaker",{character:"\\ea79"}),d.microscope=new d("microscope",{character:"\\ea79"}),d.vm=new d("vm",{character:"\\ea7a"}),d.deviceDesktop=new d("device-desktop",{character:"\\ea7a"}),d.file=new d("file",{character:"\\ea7b"}),d.fileText=new d("file-text",{character:"\\ea7b"}),d.more=new d("more",{character:"\\ea7c"}),d.ellipsis=new d("ellipsis",{character:"\\ea7c"}),d.kebabHorizontal=new d("kebab-horizontal",{character:"\\ea7c"}),d.mailReply=new d("mail-reply",{character:"\\ea7d"}),d.reply=new d("reply",{character:"\\ea7d"}),d.organization=new d("organization",{character:"\\ea7e"}),d.organizationFilled=new d("organization-filled",{character:"\\ea7e"}),d.organizationOutline=new d("organization-outline",{character:"\\ea7e"}),d.newFile=new d("new-file",{character:"\\ea7f"}),d.fileAdd=new d("file-add",{character:"\\ea7f"}),d.newFolder=new d("new-folder",{character:"\\ea80"}),d.fileDirectoryCreate=new d("file-directory-create",{character:"\\ea80"}),d.trash=new d("trash",{character:"\\ea81"}),d.trashcan=new d("trashcan",{character:"\\ea81"}),d.history=new d("history",{character:"\\ea82"}),d.clock=new d("clock",{character:"\\ea82"}),d.folder=new d("folder",{character:"\\ea83"}),d.fileDirectory=new d("file-directory",{character:"\\ea83"}),d.symbolFolder=new d("symbol-folder",{character:"\\ea83"}),d.logoGithub=new d("logo-github",{character:"\\ea84"}),d.markGithub=new d("mark-github",{character:"\\ea84"}),d.github=new d("github",{character:"\\ea84"}),d.terminal=new d("terminal",{character:"\\ea85"}),d.console=new d("console",{character:"\\ea85"}),d.repl=new d("repl",{character:"\\ea85"}),d.zap=new d("zap",{character:"\\ea86"}),d.symbolEvent=new d("symbol-event",{character:"\\ea86"}),d.error=new d("error",{character:"\\ea87"}),d.stop=new d("stop",{character:"\\ea87"}),d.variable=new d("variable",{character:"\\ea88"}),d.symbolVariable=new d("symbol-variable",{character:"\\ea88"}),d.array=new d("array",{character:"\\ea8a"}),d.symbolArray=new d("symbol-array",{character:"\\ea8a"}),d.symbolModule=new d("symbol-module",{character:"\\ea8b"}),d.symbolPackage=new d("symbol-package",{character:"\\ea8b"}),d.symbolNamespace=new d("symbol-namespace",{character:"\\ea8b"}),d.symbolObject=new d("symbol-object",{character:"\\ea8b"}),d.symbolMethod=new d("symbol-method",{character:"\\ea8c"}),d.symbolFunction=new d("symbol-function",{character:"\\ea8c"}),d.symbolConstructor=new d("symbol-constructor",{character:"\\ea8c"}),d.symbolBoolean=new d("symbol-boolean",{character:"\\ea8f"}),d.symbolNull=new d("symbol-null",{character:"\\ea8f"}),d.symbolNumeric=new d("symbol-numeric",{character:"\\ea90"}),d.symbolNumber=new d("symbol-number",{character:"\\ea90"}),d.symbolStructure=new d("symbol-structure",{character:"\\ea91"}),d.symbolStruct=new d("symbol-struct",{character:"\\ea91"}),d.symbolParameter=new d("symbol-parameter",{character:"\\ea92"}),d.symbolTypeParameter=new d("symbol-type-parameter",{character:"\\ea92"}),d.symbolKey=new d("symbol-key",{character:"\\ea93"}),d.symbolText=new d("symbol-text",{character:"\\ea93"}),d.symbolReference=new d("symbol-reference",{character:"\\ea94"}),d.goToFile=new d("go-to-file",{character:"\\ea94"}),d.symbolEnum=new d("symbol-enum",{character:"\\ea95"}),d.symbolValue=new d("symbol-value",{character:"\\ea95"}),d.symbolRuler=new d("symbol-ruler",{character:"\\ea96"}),d.symbolUnit=new d("symbol-unit",{character:"\\ea96"}),d.activateBreakpoints=new d("activate-breakpoints",{character:"\\ea97"}),d.archive=new d("archive",{character:"\\ea98"}),d.arrowBoth=new d("arrow-both",{character:"\\ea99"}),d.arrowDown=new d("arrow-down",{character:"\\ea9a"}),d.arrowLeft=new d("arrow-left",{character:"\\ea9b"}),d.arrowRight=new d("arrow-right",{character:"\\ea9c"}),d.arrowSmallDown=new d("arrow-small-down",{character:"\\ea9d"}),d.arrowSmallLeft=new d("arrow-small-left",{character:"\\ea9e"}),d.arrowSmallRight=new d("arrow-small-right",{character:"\\ea9f"}),d.arrowSmallUp=new d("arrow-small-up",{character:"\\eaa0"}),d.arrowUp=new d("arrow-up",{character:"\\eaa1"}),d.bell=new d("bell",{character:"\\eaa2"}),d.bold=new d("bold",{character:"\\eaa3"}),d.book=new d("book",{character:"\\eaa4"}),d.bookmark=new d("bookmark",{character:"\\eaa5"}),d.debugBreakpointConditionalUnverified=new d("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),d.debugBreakpointConditional=new d("debug-breakpoint-conditional",{character:"\\eaa7"}),d.debugBreakpointConditionalDisabled=new d("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),d.debugBreakpointDataUnverified=new d("debug-breakpoint-data-unverified",{character:"\\eaa8"}),d.debugBreakpointData=new d("debug-breakpoint-data",{character:"\\eaa9"}),d.debugBreakpointDataDisabled=new d("debug-breakpoint-data-disabled",{character:"\\eaa9"}),d.debugBreakpointLogUnverified=new d("debug-breakpoint-log-unverified",{character:"\\eaaa"}),d.debugBreakpointLog=new d("debug-breakpoint-log",{character:"\\eaab"}),d.debugBreakpointLogDisabled=new d("debug-breakpoint-log-disabled",{character:"\\eaab"}),d.briefcase=new d("briefcase",{character:"\\eaac"}),d.broadcast=new d("broadcast",{character:"\\eaad"}),d.browser=new d("browser",{character:"\\eaae"}),d.bug=new d("bug",{character:"\\eaaf"}),d.calendar=new d("calendar",{character:"\\eab0"}),d.caseSensitive=new d("case-sensitive",{character:"\\eab1"}),d.check=new d("check",{character:"\\eab2"}),d.checklist=new d("checklist",{character:"\\eab3"}),d.chevronDown=new d("chevron-down",{character:"\\eab4"}),d.chevronLeft=new d("chevron-left",{character:"\\eab5"}),d.chevronRight=new d("chevron-right",{character:"\\eab6"}),d.chevronUp=new d("chevron-up",{character:"\\eab7"}),d.chromeClose=new d("chrome-close",{character:"\\eab8"}),d.chromeMaximize=new d("chrome-maximize",{character:"\\eab9"}),d.chromeMinimize=new d("chrome-minimize",{character:"\\eaba"}),d.chromeRestore=new d("chrome-restore",{character:"\\eabb"}),d.circleOutline=new d("circle-outline",{character:"\\eabc"}),d.debugBreakpointUnverified=new d("debug-breakpoint-unverified",{character:"\\eabc"}),d.circleSlash=new d("circle-slash",{character:"\\eabd"}),d.circuitBoard=new d("circuit-board",{character:"\\eabe"}),d.clearAll=new d("clear-all",{character:"\\eabf"}),d.clippy=new d("clippy",{character:"\\eac0"}),d.closeAll=new d("close-all",{character:"\\eac1"}),d.cloudDownload=new d("cloud-download",{character:"\\eac2"}),d.cloudUpload=new d("cloud-upload",{character:"\\eac3"}),d.code=new d("code",{character:"\\eac4"}),d.collapseAll=new d("collapse-all",{character:"\\eac5"}),d.colorMode=new d("color-mode",{character:"\\eac6"}),d.commentDiscussion=new d("comment-discussion",{character:"\\eac7"}),d.compareChanges=new d("compare-changes",{character:"\\eafd"}),d.creditCard=new d("credit-card",{character:"\\eac9"}),d.dash=new d("dash",{character:"\\eacc"}),d.dashboard=new d("dashboard",{character:"\\eacd"}),d.database=new d("database",{character:"\\eace"}),d.debugContinue=new d("debug-continue",{character:"\\eacf"}),d.debugDisconnect=new d("debug-disconnect",{character:"\\ead0"}),d.debugPause=new d("debug-pause",{character:"\\ead1"}),d.debugRestart=new d("debug-restart",{character:"\\ead2"}),d.debugStart=new d("debug-start",{character:"\\ead3"}),d.debugStepInto=new d("debug-step-into",{character:"\\ead4"}),d.debugStepOut=new d("debug-step-out",{character:"\\ead5"}),d.debugStepOver=new d("debug-step-over",{character:"\\ead6"}),d.debugStop=new d("debug-stop",{character:"\\ead7"}),d.debug=new d("debug",{character:"\\ead8"}),d.deviceCameraVideo=new d("device-camera-video",{character:"\\ead9"}),d.deviceCamera=new d("device-camera",{character:"\\eada"}),d.deviceMobile=new d("device-mobile",{character:"\\eadb"}),d.diffAdded=new d("diff-added",{character:"\\eadc"}),d.diffIgnored=new d("diff-ignored",{character:"\\eadd"}),d.diffModified=new d("diff-modified",{character:"\\eade"}),d.diffRemoved=new d("diff-removed",{character:"\\eadf"}),d.diffRenamed=new d("diff-renamed",{character:"\\eae0"}),d.diff=new d("diff",{character:"\\eae1"}),d.discard=new d("discard",{character:"\\eae2"}),d.editorLayout=new d("editor-layout",{character:"\\eae3"}),d.emptyWindow=new d("empty-window",{character:"\\eae4"}),d.exclude=new d("exclude",{character:"\\eae5"}),d.extensions=new d("extensions",{character:"\\eae6"}),d.eyeClosed=new d("eye-closed",{character:"\\eae7"}),d.fileBinary=new d("file-binary",{character:"\\eae8"}),d.fileCode=new d("file-code",{character:"\\eae9"}),d.fileMedia=new d("file-media",{character:"\\eaea"}),d.filePdf=new d("file-pdf",{character:"\\eaeb"}),d.fileSubmodule=new d("file-submodule",{character:"\\eaec"}),d.fileSymlinkDirectory=new d("file-symlink-directory",{character:"\\eaed"}),d.fileSymlinkFile=new d("file-symlink-file",{character:"\\eaee"}),d.fileZip=new d("file-zip",{character:"\\eaef"}),d.files=new d("files",{character:"\\eaf0"}),d.filter=new d("filter",{character:"\\eaf1"}),d.flame=new d("flame",{character:"\\eaf2"}),d.foldDown=new d("fold-down",{character:"\\eaf3"}),d.foldUp=new d("fold-up",{character:"\\eaf4"}),d.fold=new d("fold",{character:"\\eaf5"}),d.folderActive=new d("folder-active",{character:"\\eaf6"}),d.folderOpened=new d("folder-opened",{character:"\\eaf7"}),d.gear=new d("gear",{character:"\\eaf8"}),d.gift=new d("gift",{character:"\\eaf9"}),d.gistSecret=new d("gist-secret",{character:"\\eafa"}),d.gist=new d("gist",{character:"\\eafb"}),d.gitCommit=new d("git-commit",{character:"\\eafc"}),d.gitCompare=new d("git-compare",{character:"\\eafd"}),d.gitMerge=new d("git-merge",{character:"\\eafe"}),d.githubAction=new d("github-action",{character:"\\eaff"}),d.githubAlt=new d("github-alt",{character:"\\eb00"}),d.globe=new d("globe",{character:"\\eb01"}),d.grabber=new d("grabber",{character:"\\eb02"}),d.graph=new d("graph",{character:"\\eb03"}),d.gripper=new d("gripper",{character:"\\eb04"}),d.heart=new d("heart",{character:"\\eb05"}),d.home=new d("home",{character:"\\eb06"}),d.horizontalRule=new d("horizontal-rule",{character:"\\eb07"}),d.hubot=new d("hubot",{character:"\\eb08"}),d.inbox=new d("inbox",{character:"\\eb09"}),d.issueClosed=new d("issue-closed",{character:"\\eb0a"}),d.issueReopened=new d("issue-reopened",{character:"\\eb0b"}),d.issues=new d("issues",{character:"\\eb0c"}),d.italic=new d("italic",{character:"\\eb0d"}),d.jersey=new d("jersey",{character:"\\eb0e"}),d.json=new d("json",{character:"\\eb0f"}),d.kebabVertical=new d("kebab-vertical",{character:"\\eb10"}),d.key=new d("key",{character:"\\eb11"}),d.law=new d("law",{character:"\\eb12"}),d.lightbulbAutofix=new d("lightbulb-autofix",{character:"\\eb13"}),d.linkExternal=new d("link-external",{character:"\\eb14"}),d.link=new d("link",{character:"\\eb15"}),d.listOrdered=new d("list-ordered",{character:"\\eb16"}),d.listUnordered=new d("list-unordered",{character:"\\eb17"}),d.liveShare=new d("live-share",{character:"\\eb18"}),d.loading=new d("loading",{character:"\\eb19"}),d.location=new d("location",{character:"\\eb1a"}),d.mailRead=new d("mail-read",{character:"\\eb1b"}),d.mail=new d("mail",{character:"\\eb1c"}),d.markdown=new d("markdown",{character:"\\eb1d"}),d.megaphone=new d("megaphone",{character:"\\eb1e"}),d.mention=new d("mention",{character:"\\eb1f"}),d.milestone=new d("milestone",{character:"\\eb20"}),d.mortarBoard=new d("mortar-board",{character:"\\eb21"}),d.move=new d("move",{character:"\\eb22"}),d.multipleWindows=new d("multiple-windows",{character:"\\eb23"}),d.mute=new d("mute",{character:"\\eb24"}),d.noNewline=new d("no-newline",{character:"\\eb25"}),d.note=new d("note",{character:"\\eb26"}),d.octoface=new d("octoface",{character:"\\eb27"}),d.openPreview=new d("open-preview",{character:"\\eb28"}),d.package_=new d("package",{character:"\\eb29"}),d.paintcan=new d("paintcan",{character:"\\eb2a"}),d.pin=new d("pin",{character:"\\eb2b"}),d.play=new d("play",{character:"\\eb2c"}),d.run=new d("run",{character:"\\eb2c"}),d.plug=new d("plug",{character:"\\eb2d"}),d.preserveCase=new d("preserve-case",{character:"\\eb2e"}),d.preview=new d("preview",{character:"\\eb2f"}),d.project=new d("project",{character:"\\eb30"}),d.pulse=new d("pulse",{character:"\\eb31"}),d.question=new d("question",{character:"\\eb32"}),d.quote=new d("quote",{character:"\\eb33"}),d.radioTower=new d("radio-tower",{character:"\\eb34"}),d.reactions=new d("reactions",{character:"\\eb35"}),d.references=new d("references",{character:"\\eb36"}),d.refresh=new d("refresh",{character:"\\eb37"}),d.regex=new d("regex",{character:"\\eb38"}),d.remoteExplorer=new d("remote-explorer",{character:"\\eb39"}),d.remote=new d("remote",{character:"\\eb3a"}),d.remove=new d("remove",{character:"\\eb3b"}),d.replaceAll=new d("replace-all",{character:"\\eb3c"}),d.replace=new d("replace",{character:"\\eb3d"}),d.repoClone=new d("repo-clone",{character:"\\eb3e"}),d.repoForcePush=new d("repo-force-push",{character:"\\eb3f"}),d.repoPull=new d("repo-pull",{character:"\\eb40"}),d.repoPush=new d("repo-push",{character:"\\eb41"}),d.report=new d("report",{character:"\\eb42"}),d.requestChanges=new d("request-changes",{character:"\\eb43"}),d.rocket=new d("rocket",{character:"\\eb44"}),d.rootFolderOpened=new d("root-folder-opened",{character:"\\eb45"}),d.rootFolder=new d("root-folder",{character:"\\eb46"}),d.rss=new d("rss",{character:"\\eb47"}),d.ruby=new d("ruby",{character:"\\eb48"}),d.saveAll=new d("save-all",{character:"\\eb49"}),d.saveAs=new d("save-as",{character:"\\eb4a"}),d.save=new d("save",{character:"\\eb4b"}),d.screenFull=new d("screen-full",{character:"\\eb4c"}),d.screenNormal=new d("screen-normal",{character:"\\eb4d"}),d.searchStop=new d("search-stop",{character:"\\eb4e"}),d.server=new d("server",{character:"\\eb50"}),d.settingsGear=new d("settings-gear",{character:"\\eb51"}),d.settings=new d("settings",{character:"\\eb52"}),d.shield=new d("shield",{character:"\\eb53"}),d.smiley=new d("smiley",{character:"\\eb54"}),d.sortPrecedence=new d("sort-precedence",{character:"\\eb55"}),d.splitHorizontal=new d("split-horizontal",{character:"\\eb56"}),d.splitVertical=new d("split-vertical",{character:"\\eb57"}),d.squirrel=new d("squirrel",{character:"\\eb58"}),d.starFull=new d("star-full",{character:"\\eb59"}),d.starHalf=new d("star-half",{character:"\\eb5a"}),d.symbolClass=new d("symbol-class",{character:"\\eb5b"}),d.symbolColor=new d("symbol-color",{character:"\\eb5c"}),d.symbolConstant=new d("symbol-constant",{character:"\\eb5d"}),d.symbolEnumMember=new d("symbol-enum-member",{character:"\\eb5e"}),d.symbolField=new d("symbol-field",{character:"\\eb5f"}),d.symbolFile=new d("symbol-file",{character:"\\eb60"}),d.symbolInterface=new d("symbol-interface",{character:"\\eb61"}),d.symbolKeyword=new d("symbol-keyword",{character:"\\eb62"}),d.symbolMisc=new d("symbol-misc",{character:"\\eb63"}),d.symbolOperator=new d("symbol-operator",{character:"\\eb64"}),d.symbolProperty=new d("symbol-property",{character:"\\eb65"}),d.wrench=new d("wrench",{character:"\\eb65"}),d.wrenchSubaction=new d("wrench-subaction",{character:"\\eb65"}),d.symbolSnippet=new d("symbol-snippet",{character:"\\eb66"}),d.tasklist=new d("tasklist",{character:"\\eb67"}),d.telescope=new d("telescope",{character:"\\eb68"}),d.textSize=new d("text-size",{character:"\\eb69"}),d.threeBars=new d("three-bars",{character:"\\eb6a"}),d.thumbsdown=new d("thumbsdown",{character:"\\eb6b"}),d.thumbsup=new d("thumbsup",{character:"\\eb6c"}),d.tools=new d("tools",{character:"\\eb6d"}),d.triangleDown=new d("triangle-down",{character:"\\eb6e"}),d.triangleLeft=new d("triangle-left",{character:"\\eb6f"}),d.triangleRight=new d("triangle-right",{character:"\\eb70"}),d.triangleUp=new d("triangle-up",{character:"\\eb71"}),d.twitter=new d("twitter",{character:"\\eb72"}),d.unfold=new d("unfold",{character:"\\eb73"}),d.unlock=new d("unlock",{character:"\\eb74"}),d.unmute=new d("unmute",{character:"\\eb75"}),d.unverified=new d("unverified",{character:"\\eb76"}),d.verified=new d("verified",{character:"\\eb77"}),d.versions=new d("versions",{character:"\\eb78"}),d.vmActive=new d("vm-active",{character:"\\eb79"}),d.vmOutline=new d("vm-outline",{character:"\\eb7a"}),d.vmRunning=new d("vm-running",{character:"\\eb7b"}),d.watch=new d("watch",{character:"\\eb7c"}),d.whitespace=new d("whitespace",{character:"\\eb7d"}),d.wholeWord=new d("whole-word",{character:"\\eb7e"}),d.window=new d("window",{character:"\\eb7f"}),d.wordWrap=new d("word-wrap",{character:"\\eb80"}),d.zoomIn=new d("zoom-in",{character:"\\eb81"}),d.zoomOut=new d("zoom-out",{character:"\\eb82"}),d.listFilter=new d("list-filter",{character:"\\eb83"}),d.listFlat=new d("list-flat",{character:"\\eb84"}),d.listSelection=new d("list-selection",{character:"\\eb85"}),d.selection=new d("selection",{character:"\\eb85"}),d.listTree=new d("list-tree",{character:"\\eb86"}),d.debugBreakpointFunctionUnverified=new d("debug-breakpoint-function-unverified",{character:"\\eb87"}),d.debugBreakpointFunction=new d("debug-breakpoint-function",{character:"\\eb88"}),d.debugBreakpointFunctionDisabled=new d("debug-breakpoint-function-disabled",{character:"\\eb88"}),d.debugStackframeActive=new d("debug-stackframe-active",{character:"\\eb89"}),d.debugStackframeDot=new d("debug-stackframe-dot",{character:"\\eb8a"}),d.debugStackframe=new d("debug-stackframe",{character:"\\eb8b"}),d.debugStackframeFocused=new d("debug-stackframe-focused",{character:"\\eb8b"}),d.debugBreakpointUnsupported=new d("debug-breakpoint-unsupported",{character:"\\eb8c"}),d.symbolString=new d("symbol-string",{character:"\\eb8d"}),d.debugReverseContinue=new d("debug-reverse-continue",{character:"\\eb8e"}),d.debugStepBack=new d("debug-step-back",{character:"\\eb8f"}),d.debugRestartFrame=new d("debug-restart-frame",{character:"\\eb90"}),d.callIncoming=new d("call-incoming",{character:"\\eb92"}),d.callOutgoing=new d("call-outgoing",{character:"\\eb93"}),d.menu=new d("menu",{character:"\\eb94"}),d.expandAll=new d("expand-all",{character:"\\eb95"}),d.feedback=new d("feedback",{character:"\\eb96"}),d.groupByRefType=new d("group-by-ref-type",{character:"\\eb97"}),d.ungroupByRefType=new d("ungroup-by-ref-type",{character:"\\eb98"}),d.account=new d("account",{character:"\\eb99"}),d.bellDot=new d("bell-dot",{character:"\\eb9a"}),d.debugConsole=new d("debug-console",{character:"\\eb9b"}),d.library=new d("library",{character:"\\eb9c"}),d.output=new d("output",{character:"\\eb9d"}),d.runAll=new d("run-all",{character:"\\eb9e"}),d.syncIgnored=new d("sync-ignored",{character:"\\eb9f"}),d.pinned=new d("pinned",{character:"\\eba0"}),d.githubInverted=new d("github-inverted",{character:"\\eba1"}),d.debugAlt=new d("debug-alt",{character:"\\eb91"}),d.serverProcess=new d("server-process",{character:"\\eba2"}),d.serverEnvironment=new d("server-environment",{character:"\\eba3"}),d.pass=new d("pass",{character:"\\eba4"}),d.stopCircle=new d("stop-circle",{character:"\\eba5"}),d.playCircle=new d("play-circle",{character:"\\eba6"}),d.record=new d("record",{character:"\\eba7"}),d.debugAltSmall=new d("debug-alt-small",{character:"\\eba8"}),d.vmConnect=new d("vm-connect",{character:"\\eba9"}),d.cloud=new d("cloud",{character:"\\ebaa"}),d.merge=new d("merge",{character:"\\ebab"}),d.exportIcon=new d("export",{character:"\\ebac"}),d.graphLeft=new d("graph-left",{character:"\\ebad"}),d.magnet=new d("magnet",{character:"\\ebae"}),d.notebook=new d("notebook",{character:"\\ebaf"}),d.redo=new d("redo",{character:"\\ebb0"}),d.checkAll=new d("check-all",{character:"\\ebb1"}),d.pinnedDirty=new d("pinned-dirty",{character:"\\ebb2"}),d.passFilled=new d("pass-filled",{character:"\\ebb3"}),d.circleLargeFilled=new d("circle-large-filled",{character:"\\ebb4"}),d.circleLargeOutline=new d("circle-large-outline",{character:"\\ebb5"}),d.dropDownButton=new d("drop-down-button",d.chevronDown.definition)}(S=e.Codicon||(e.Codicon={}))}),define(Q[193],J([0,1,27]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=C.registerCodicon("tree-item-expanded",C.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=C.registerCodicon("tree-filter-on-type-on",C.Codicon.listFilter),e.treeFilterOnTypeOffIcon=C.registerCodicon("tree-filter-on-type-off",C.Codicon.listSelection),e.treeFilterClearIcon=C.registerCodicon("tree-filter-clear",C.Codicon.close),e.treeItemLoadingIcon=C.registerCodicon("tree-item-loading",C.Codicon.loading)}),define(Q[278],J([0,1,15]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new C.IdleValue(()=>{const _=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:_,collatorIsNumeric:_.resolvedOptions().numeric}});function M(_,d,f=!1){const p=_||"",o=d||"",c=k.value.collator.compare(p,o);return k.value.collatorIsNumeric&&c===0&&p!==o?p<o?-1:1:c}e.compareFileNames=M;function y(_,d,f){const p=_.toLowerCase(),o=d.toLowerCase(),c=S(_,d,f);if(c)return c;const a=p.endsWith(f),s=o.endsWith(f);if(a!==s)return a?-1:1;const l=M(p,o);return l!==0?l:p.localeCompare(o)}e.compareAnything=y;function S(_,d,f){const p=_.toLowerCase(),o=d.toLowerCase(),c=p.startsWith(f),a=o.startsWith(f);if(c!==a)return c?-1:1;if(c&&a){if(p.length<o.length)return-1;if(p.length>o.length)return 1}return 0}e.compareByPrefix=S}),define(Q[119],J([0,1,4,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class M{constructor(a,s,l,r,t,n){a=a|0,s=s|0,l=l|0,r=r|0,t=t|0,n=n|0,this.rawScrollLeft=l,this.rawScrollTop=n,a<0&&(a=0),l+a>s&&(l=s-a),l<0&&(l=0),r<0&&(r=0),n+r>t&&(n=t-r),n<0&&(n=0),this.width=a,this.scrollWidth=s,this.scrollLeft=l,this.height=r,this.scrollHeight=t,this.scrollTop=n}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,s){return new M(typeof a.width!="undefined"?a.width:this.width,typeof a.scrollWidth!="undefined"?a.scrollWidth:this.scrollWidth,s?this.rawScrollLeft:this.scrollLeft,typeof a.height!="undefined"?a.height:this.height,typeof a.scrollHeight!="undefined"?a.scrollHeight:this.scrollHeight,s?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new M(this.width,this.scrollWidth,typeof a.scrollLeft!="undefined"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!="undefined"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,s){const l=this.width!==a.width,r=this.scrollWidth!==a.scrollWidth,t=this.scrollLeft!==a.scrollLeft,n=this.height!==a.height,i=this.scrollHeight!==a.scrollHeight,u=this.scrollTop!==a.scrollTop;return{inSmoothScrolling:s,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:l,scrollWidthChanged:r,scrollLeftChanged:t,heightChanged:n,scrollHeightChanged:i,scrollTopChanged:u}}}e.ScrollState=M;class y extends k.Disposable{constructor(a,s){super();this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a,this._scheduleAtNextAnimationFrame=s,this._state=new M(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,s){const l=this._state.withScrollDimensions(a,s);this._setState(l,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const s=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(s,!1)}setScrollPositionSmooth(a,s){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(a);if(this._smoothScrolling){a={scrollLeft:typeof a.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:a.scrollTop};const l=this._state.withScrollPosition(a);if(this._smoothScrolling.to.scrollLeft===l.scrollLeft&&this._smoothScrolling.to.scrollTop===l.scrollTop)return;let r;s?r=new f(this._smoothScrolling.from,l,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,l,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const l=this._state.withScrollPosition(a);this._smoothScrolling=f.start(this._state,l,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!!this._smoothScrolling){const a=this._smoothScrolling.tick(),s=this._state.withScrollPosition(a);if(this._setState(s,!0),!!this._smoothScrolling){if(a.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}}_setState(a,s){const l=this._state;l.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(l,s)))}}e.Scrollable=y;class S{constructor(a,s,l){this.scrollLeft=a,this.scrollTop=s,this.isDone=l}}e.SmoothScrollingUpdate=S;function _(c,a){const s=a-c;return function(l){return c+s*o(l)}}function d(c,a,s){return function(l){return l<s?c(l/s):a((l-s)/(1-s))}}class f{constructor(a,s,l,r){this.from=a,this.to=s,this.duration=r,this.startTime=l,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,s,l){if(Math.abs(a-s)>2.5*l){let t,n;return a<s?(t=a+.75*l,n=s-.75*l):(t=a-.75*l,n=s+.75*l),d(_(a,t),_(n,s),.33)}return _(a,s)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const s=(a-this.startTime)/this.duration;if(s<1){const l=this.scrollLeft(s),r=this.scrollTop(s);return new S(l,r,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,s,l){return f.start(a,s,l)}static start(a,s,l){l=l+10;const r=Date.now()-10;return new f(a,s,r,l)}}e.SmoothScrollingOperation=f;function p(c){return Math.pow(c,3)}function o(c){return 1-p(1-c)}}),define(Q[8],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function C(Z){return!Z||typeof Z!="string"?!0:Z.trim().length===0}e.isFalsyOrWhitespace=C;const k=/{(\d+)}/g;function M(Z,...ne){return ne.length===0?Z:Z.replace(k,function($,X){const de=parseInt(X,10);return isNaN(de)||de<0||de>=ne.length?$:ne[de]})}e.format=M;function y(Z){return Z.replace(/[<>&]/g,function(ne){switch(ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ne}})}e.escape=y;function S(Z){return Z.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function _(Z,ne=" "){const $=d(Z,ne);return f($,ne)}e.trim=_;function d(Z,ne){if(!Z||!ne)return Z;const $=ne.length;if($===0||Z.length===0)return Z;let X=0;for(;Z.indexOf(ne,X)===X;)X=X+$;return Z.substring(X)}e.ltrim=d;function f(Z,ne){if(!Z||!ne)return Z;const $=ne.length,X=Z.length;if($===0||X===0)return Z;let de=X,fe=-1;for(;fe=Z.lastIndexOf(ne,de-1),!(fe===-1||fe+$!==de);){if(fe===0)return"";de=fe}return Z.substring(0,de)}e.rtrim=f;function p(Z){return Z.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=p;function o(Z){return Z.replace(/\*/g,"")}e.stripWildcards=o;function c(Z,ne,$={}){if(!Z)throw new Error("Cannot create regex from empty string");ne||(Z=S(Z)),$.wholeWord&&(/\B/.test(Z.charAt(0))||(Z="\\b"+Z),/\B/.test(Z.charAt(Z.length-1))||(Z=Z+"\\b"));let X="";return $.global&&(X+="g"),$.matchCase||(X+="i"),$.multiline&&(X+="m"),$.unicode&&(X+="u"),new RegExp(Z,X)}e.createRegExp=c;function a(Z){return Z.source==="^"||Z.source==="^$"||Z.source==="$"||Z.source==="^\\s*$"?!1:!!(Z.exec("")&&Z.lastIndex===0)}e.regExpLeadsToEndlessLoop=a;function s(Z){return(Z.global?"g":"")+(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")}e.regExpFlags=s;function l(Z){return Z.split(/\r\n|\r|\n/)}e.splitLines=l;function r(Z){for(let ne=0,$=Z.length;ne<$;ne++){const X=Z.charCodeAt(ne);if(X!==32&&X!==9)return ne}return-1}e.firstNonWhitespaceIndex=r;function t(Z,ne=0,$=Z.length){for(let X=ne;X<$;X++){const de=Z.charCodeAt(X);if(de!==32&&de!==9)return Z.substring(ne,X)}return Z.substring(ne,$)}e.getLeadingWhitespace=t;function n(Z,ne=Z.length-1){for(let $=ne;$>=0;$--){const X=Z.charCodeAt($);if(X!==32&&X!==9)return $}return-1}e.lastNonWhitespaceIndex=n;function i(Z,ne){return Z<ne?-1:Z>ne?1:0}e.compare=i;function u(Z,ne,$=0,X=Z.length,de=0,fe=ne.length){for(;$<X&&de<fe;$++,de++){let me=Z.charCodeAt($),be=ne.charCodeAt(de);if(me<be)return-1;if(me>be)return 1}const se=X-$,le=fe-de;return se<le?-1:se>le?1:0}e.compareSubstring=u;function h(Z,ne){return v(Z,ne,0,Z.length,0,ne.length)}e.compareIgnoreCase=h;function v(Z,ne,$=0,X=Z.length,de=0,fe=ne.length){for(;$<X&&de<fe;$++,de++){let me=Z.charCodeAt($),be=ne.charCodeAt(de);if(me!==be){const ye=me-be;if(!(ye===32&&g(be))&&!(ye===-32&&g(me)))return m(me)&&m(be)?ye:u(Z.toLowerCase(),ne.toLowerCase(),$,X,de,fe)}}const se=X-$,le=fe-de;return se<le?-1:se>le?1:0}e.compareSubstringIgnoreCase=v;function m(Z){return Z>=97&&Z<=122}e.isLowerAsciiLetter=m;function g(Z){return Z>=65&&Z<=90}e.isUpperAsciiLetter=g;function b(Z){return m(Z)||g(Z)}function w(Z,ne){return Z.length===ne.length&&L(Z,ne)}e.equalsIgnoreCase=w;function L(Z,ne,$=Z.length){for(let X=0;X<$;X++){const de=Z.charCodeAt(X),fe=ne.charCodeAt(X);if(de!==fe){if(b(de)&&b(fe)){const se=Math.abs(de-fe);if(se!==0&&se!==32)return!1}else if(String.fromCharCode(de).toLowerCase()!==String.fromCharCode(fe).toLowerCase())return!1}}return!0}function E(Z,ne){const $=ne.length;return ne.length>Z.length?!1:L(Z,ne,$)}e.startsWithIgnoreCase=E;function N(Z,ne){let $,X=Math.min(Z.length,ne.length);for($=0;$<X;$++)if(Z.charCodeAt($)!==ne.charCodeAt($))return $;return X}e.commonPrefixLength=N;function I(Z,ne){let $,X=Math.min(Z.length,ne.length);const de=Z.length-1,fe=ne.length-1;for($=0;$<X;$++)if(Z.charCodeAt(de-$)!==ne.charCodeAt(fe-$))return $;return X}e.commonSuffixLength=I;function T(Z){return 55296<=Z&&Z<=56319}e.isHighSurrogate=T;function O(Z){return 56320<=Z&&Z<=57343}e.isLowSurrogate=O;function R(Z,ne){return(Z-55296<<10)+(ne-56320)+65536}e.computeCodePoint=R;function F(Z,ne,$){const X=Z.charCodeAt($);if(T(X)&&$+1<ne){const de=Z.charCodeAt($+1);if(O(de))return R(X,de)}return X}e.getNextCodePoint=F;function D(Z,ne){const $=Z.charCodeAt(ne-1);if(O($)&&ne>1){const X=Z.charCodeAt(ne-2);if(T(X))return R(X,$)}return $}function B(Z,ne){const $=ce.getInstance(),X=ne,de=Z.length,fe=F(Z,de,ne);ne+=fe>=65536?2:1;let se=$.getGraphemeBreakType(fe);for(;ne<de;){const le=F(Z,de,ne),me=$.getGraphemeBreakType(le);if(ie(se,me))break;ne+=le>=65536?2:1,se=me}return ne-X}e.nextCharLength=B;function A(Z,ne){const $=ce.getInstance(),X=ne,de=D(Z,ne);ne-=de>=65536?2:1;let fe=$.getGraphemeBreakType(de);for(;ne>0;){const se=D(Z,ne),le=$.getGraphemeBreakType(se);if(ie(le,fe))break;ne-=se>=65536?2:1,fe=le}return X-ne}e.prevCharLength=A;function W(Z){const ne=Z.byteLength,$=[];let X=0;for(;X<ne;){const de=Z[X];let fe;if(de>=240&&X+3<ne?fe=(Z[X++]&7)<<18>>>0|(Z[X++]&63)<<12>>>0|(Z[X++]&63)<<6>>>0|(Z[X++]&63)<<0>>>0:de>=224&&X+2<ne?fe=(Z[X++]&15)<<12>>>0|(Z[X++]&63)<<6>>>0|(Z[X++]&63)<<0>>>0:de>=192&&X+1<ne?fe=(Z[X++]&31)<<6>>>0|(Z[X++]&63)<<0>>>0:fe=Z[X++],fe>=0&&fe<=55295||fe>=57344&&fe<=65535)$.push(String.fromCharCode(fe));else if(fe>=65536&&fe<=1114111){const se=fe-65536,le=55296+((se&1047552)>>>10),me=56320+((se&1023)>>>0);$.push(String.fromCharCode(le)),$.push(String.fromCharCode(me))}else $.push(String.fromCharCode(65533))}return $.join("")}e.decodeUTF8=W;const V=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function K(Z){return V.test(Z)}e.containsRTL=K;const j=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function ee(Z){return j.test(Z)}e.containsEmoji=ee;const re=/^[\t\n\r\x20-\x7E]*$/;function te(Z){return re.test(Z)}e.isBasicASCII=te,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ae(Z){return e.UNUSUAL_LINE_TERMINATORS.test(Z)}e.containsUnusualLineTerminators=ae;function Y(Z){for(let ne=0,$=Z.length;ne<$;ne++)if(P(Z.charCodeAt(ne)))return!0;return!1}e.containsFullWidthCharacter=Y;function P(Z){return Z=+Z,Z>=11904&&Z<=55215||Z>=63744&&Z<=64255||Z>=65281&&Z<=65374}e.isFullWidthCharacter=P;function x(Z){return Z>=127462&&Z<=127487||Z>=9728&&Z<=10175||Z>=127744&&Z<=128591||Z>=128640&&Z<=128764||Z>=128992&&Z<=129003||Z>=129280&&Z<=129535||Z>=129648&&Z<=129651||Z>=129656&&Z<=129666||Z>=129680&&Z<=129685}e.isEmojiImprecise=x,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function z(Z){return!!(Z&&Z.length>0&&Z.charCodeAt(0)===65279)}e.startsWithUTF8BOM=z;function U(Z,ne=!1){return Z?(ne&&(Z=Z.replace(/\\./g,"")),Z.toLowerCase()!==Z):!1}e.containsUppercaseCharacter=U;function H(Z){const ne=90-65+1;return Z=Z%(2*ne),Z<ne?String.fromCharCode(97+Z):String.fromCharCode(65+Z-ne)}e.singleLetterHash=H;function q(Z){return ce.getInstance().getGraphemeBreakType(Z)}e.getGraphemeBreakType=q;function ie(Z,ne){return Z===0?ne!==5&&ne!==7:Z===2&&ne===3?!1:Z===4||Z===2||Z===3||ne===4||ne===2||ne===3?!0:!(Z===8&&(ne===8||ne===9||ne===11||ne===12)||(Z===11||Z===9)&&(ne===9||ne===10)||(Z===12||Z===10)&&ne===10||ne===5||ne===13||ne===7||Z===1||Z===13&&ne===14||Z===6&&ne===6)}e.breakBetweenGraphemeBreakType=ie;class ce{constructor(){this._data=ue()}static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}getGraphemeBreakType(ne){if(ne<32)return ne===10?3:ne===13?2:4;if(ne<127)return 0;const $=this._data,X=$.length/3;let de=1;for(;de<=X;)if(ne<$[3*de])de=2*de;else if(ne>$[3*de+1])de=2*de+1;else return $[3*de+2];return 0}}ce._INSTANCE=null;function ue(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}}),define(Q[120],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer!="undefined",M=typeof TextDecoder!="undefined";let y;class S{constructor(s){this.buffer=s,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():M?(y||(y=new TextDecoder),y.decode(this.buffer)):C.decodeUTF8(this.buffer)}}e.VSBuffer=S;function _(a,s){return a[s+0]<<0>>>0|a[s+1]<<8>>>0}e.readUInt16LE=_;function d(a,s,l){a[l+0]=s&255,s=s>>>8,a[l+1]=s&255}e.writeUInt16LE=d;function f(a,s){return a[s]*Math.pow(2,24)+a[s+1]*Math.pow(2,16)+a[s+2]*Math.pow(2,8)+a[s+3]}e.readUInt32BE=f;function p(a,s,l){a[l+3]=s,s=s>>>8,a[l+2]=s,s=s>>>8,a[l+1]=s,s=s>>>8,a[l]=s}e.writeUInt32BE=p;function o(a,s){return a[s]}e.readUInt8=o;function c(a,s,l){a[l]=s}e.writeUInt8=c}),define(Q[194],J([0,1,8,65]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEqualOrParent=e.toSlashes=void 0;function M(S){return S.replace(/[\\/]/g,k.posix.sep)}e.toSlashes=M;function y(S,_,d,f=k.sep){if(S===_)return!0;if(!S||!_||_.length>S.length)return!1;if(d){if(!C.startsWithIgnoreCase(S,_))return!1;if(_.length===S.length)return!0;let o=_.length;return _.charAt(_.length-1)===f&&o--,S.charAt(o)===f}return _.charAt(_.length-1)!==f&&(_+=f),S.indexOf(_)===0}e.isEqualOrParent=y}),define(Q[101],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function k(l){return M(l,0)}e.hash=k;function M(l,r){switch(typeof l){case"object":return l===null?y(349,r):Array.isArray(l)?d(l,r):f(l,r);case"string":return _(l,r);case"boolean":return S(l,r);case"number":return y(l,r);case"undefined":return y(937,r);default:return y(617,r)}}e.doHash=M;function y(l,r){return(r<<5)-r+l|0}function S(l,r){return y(l?433:863,r)}function _(l,r){r=y(149417,r);for(let t=0,n=l.length;t<n;t++)r=y(l.charCodeAt(t),r);return r}e.stringHash=_;function d(l,r){return r=y(104579,r),l.reduce((t,n)=>M(n,t),r)}function f(l,r){return r=y(181387,r),Object.keys(l).sort().reduce((t,n)=>(t=_(n,t),M(l[n],t)),r)}function p(l,r,t=32){const n=t-r,i=~((1<<n)-1);return(l<<r|(i&l)>>>n)>>>0}function o(l,r=0,t=l.byteLength,n=0){for(let i=0;i<t;i++)l[r+i]=n}function c(l,r,t="0"){for(;l.length<r;)l=t+l;return l}function a(l,r=32){return l instanceof ArrayBuffer?Array.from(new Uint8Array(l)).map(t=>t.toString(16).padStart(2,"0")).join(""):c((l>>>0).toString(16),r/4)}e.toHexString=a;class s{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const t=r.length;if(t!==0){const n=this._buff;let i=this._buffLen,u=this._leftoverHighSurrogate,h,v;for(u!==0?(h=u,v=-1,u=0):(h=r.charCodeAt(0),v=0);;){let m=h;if(C.isHighSurrogate(h))if(v+1<t){const g=r.charCodeAt(v+1);C.isLowSurrogate(g)?(v++,m=C.computeCodePoint(h,g)):m=65533}else{u=h;break}else C.isLowSurrogate(h)&&(m=65533);if(i=this._push(n,i,m),v++,v<t)h=r.charCodeAt(v);else break}this._buffLen=i,this._leftoverHighSurrogate=u}}_push(r,t,n){return n<128?r[t++]=n:n<2048?(r[t++]=192|(n&1984)>>>6,r[t++]=128|(n&63)>>>0):n<65536?(r[t++]=224|(n&61440)>>>12,r[t++]=128|(n&4032)>>>6,r[t++]=128|(n&63)>>>0):(r[t++]=240|(n&1835008)>>>18,r[t++]=128|(n&258048)>>>12,r[t++]=128|(n&4032)>>>6,r[t++]=128|(n&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),a(this._h0)+a(this._h1)+a(this._h2)+a(this._h3)+a(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,o(this._buff,this._buffLen),this._buffLen>56&&(this._step(),o(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=s._bigBlock32,t=this._buffDV;for(let w=0;w<64;w+=4)r.setUint32(w,t.getUint32(w,!1),!1);for(let w=64;w<320;w+=4)r.setUint32(w,p(r.getUint32(w-12,!1)^r.getUint32(w-32,!1)^r.getUint32(w-56,!1)^r.getUint32(w-64,!1),1),!1);let n=this._h0,i=this._h1,u=this._h2,h=this._h3,v=this._h4,m,g,b;for(let w=0;w<80;w++)w<20?(m=i&u|~i&h,g=1518500249):w<40?(m=i^u^h,g=1859775393):w<60?(m=i&u|i&h|u&h,g=2400959708):(m=i^u^h,g=3395469782),b=p(n,5)+m+v+g+r.getUint32(w*4,!1)&4294967295,v=h,h=u,u=p(i,30),i=n,n=b;this._h0=this._h0+n&4294967295,this._h1=this._h1+i&4294967295,this._h2=this._h2+u&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+v&4294967295}}e.StringSHA1=s,s._bigBlock32=new DataView(new ArrayBuffer(320))}),define(Q[195],J([0,1,271,101]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class M{constructor(o){this.source=o}getElements(){const o=this.source,c=new Int32Array(o.length);for(let a=0,s=o.length;a<s;a++)c[a]=o.charCodeAt(a);return c}}e.StringDiffSequence=M;function y(p,o,c){return new f(new M(p),new M(o)).ComputeDiff(c).changes}e.stringDiff=y;class S{static Assert(o,c){if(!o)throw new Error(c)}}e.Debug=S;class _{static Copy(o,c,a,s,l){for(let r=0;r<l;r++)a[s+r]=o[c+r]}static Copy2(o,c,a,s,l){for(let r=0;r<l;r++)a[s+r]=o[c+r]}}e.MyArray=_;class d{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new C.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(o,c){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_originalCount++}AddModifiedElement(o,c){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class f{constructor(o,c,a=null){this.ContinueProcessingPredicate=a;const[s,l,r]=f._getElements(o),[t,n,i]=f._getElements(c);this._hasStrings=r&&i,this._originalStringElements=s,this._originalElementsOrHash=l,this._modifiedStringElements=t,this._modifiedElementsOrHash=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(o){return o.length>0&&typeof o[0]=="string"}static _getElements(o){const c=o.getElements();if(f._isStringArray(c)){const a=new Int32Array(c.length);for(let s=0,l=c.length;s<l;s++)a[s]=k.stringHash(c[s],0);return[c,a,!0]}return c instanceof Int32Array?[[],c,!1]:[[],new Int32Array(c),!1]}ElementsAreEqual(o,c){return this._originalElementsOrHash[o]!==this._modifiedElementsOrHash[c]?!1:this._hasStrings?this._originalStringElements[o]===this._modifiedStringElements[c]:!0}OriginalElementsAreEqual(o,c){return this._originalElementsOrHash[o]!==this._originalElementsOrHash[c]?!1:this._hasStrings?this._originalStringElements[o]===this._originalStringElements[c]:!0}ModifiedElementsAreEqual(o,c){return this._modifiedElementsOrHash[o]!==this._modifiedElementsOrHash[c]?!1:this._hasStrings?this._modifiedStringElements[o]===this._modifiedStringElements[c]:!0}ComputeDiff(o){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,o)}_ComputeDiff(o,c,a,s,l){const r=[!1];let t=this.ComputeDiffRecursive(o,c,a,s,r);return l&&(t=this.PrettifyChanges(t)),{quitEarly:r[0],changes:t}}ComputeDiffRecursive(o,c,a,s,l){for(l[0]=!1;o<=c&&a<=s&&this.ElementsAreEqual(o,a);)o++,a++;for(;c>=o&&s>=a&&this.ElementsAreEqual(c,s);)c--,s--;if(o>c||a>s){let h;return a<=s?(S.Assert(o===c+1,"originalStart should only be one more than originalEnd"),h=[new C.DiffChange(o,0,a,s-a+1)]):o<=c?(S.Assert(a===s+1,"modifiedStart should only be one more than modifiedEnd"),h=[new C.DiffChange(o,c-o+1,a,0)]):(S.Assert(o===c+1,"originalStart should only be one more than originalEnd"),S.Assert(a===s+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const r=[0],t=[0],n=this.ComputeRecursionPoint(o,c,a,s,r,t,l),i=r[0],u=t[0];if(n!==null)return n;if(!l[0]){const h=this.ComputeDiffRecursive(o,i,a,u,l);let v=[];return l[0]?v=[new C.DiffChange(i+1,c-(i+1)+1,u+1,s-(u+1)+1)]:v=this.ComputeDiffRecursive(i+1,c,u+1,s,l),this.ConcatenateChanges(h,v)}return[new C.DiffChange(o,c-o+1,a,s-a+1)]}WALKTRACE(o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E){let N=null,I=null,T=new d,O=c,R=a,F=m[0]-w[0]-s,D=-1073741824,B=this.m_forwardHistory.length-1;do{const A=F+o;A===O||A<R&&i[A-1]<i[A+1]?(h=i[A+1],g=h-F-s,h<D&&T.MarkNextChange(),D=h,T.AddModifiedElement(h+1,g),F=A+1-o):(h=i[A-1]+1,g=h-F-s,h<D&&T.MarkNextChange(),D=h-1,T.AddOriginalElement(h,g+1),F=A-1-o),B>=0&&(i=this.m_forwardHistory[B],o=i[0],O=1,R=i.length-1)}while(--B>=-1);if(N=T.getReverseChanges(),E[0]){let A=m[0]+1,W=w[0]+1;if(N!==null&&N.length>0){const V=N[N.length-1];A=Math.max(A,V.getOriginalEnd()),W=Math.max(W,V.getModifiedEnd())}I=[new C.DiffChange(A,v-A+1,W,b-W+1)]}else{T=new d,O=r,R=t,F=m[0]-w[0]-n,D=1073741824,B=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const A=F+l;A===O||A<R&&u[A-1]>=u[A+1]?(h=u[A+1]-1,g=h-F-n,h>D&&T.MarkNextChange(),D=h+1,T.AddOriginalElement(h+1,g+1),F=A+1-l):(h=u[A-1],g=h-F-n,h>D&&T.MarkNextChange(),D=h,T.AddModifiedElement(h+1,g+1),F=A-1-l),B>=0&&(u=this.m_reverseHistory[B],l=u[0],O=1,R=u.length-1)}while(--B>=-1);I=T.getChanges()}return this.ConcatenateChanges(N,I)}ComputeRecursionPoint(o,c,a,s,l,r,t){let n=0,i=0,u=0,h=0,v=0,m=0;o--,a--,l[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=c-o+(s-a),b=g+1,w=new Int32Array(b),L=new Int32Array(b),E=s-a,N=c-o,I=o-a,T=c-s,R=(N-E)%2==0;w[E]=o,L[N]=c,t[0]=!1;for(let F=1;F<=g/2+1;F++){let D=0,B=0;u=this.ClipDiagonalBound(E-F,F,E,b),h=this.ClipDiagonalBound(E+F,F,E,b);for(let W=u;W<=h;W+=2){W===u||W<h&&w[W-1]<w[W+1]?n=w[W+1]:n=w[W-1]+1,i=n-(W-E)-I;const V=n;for(;n<c&&i<s&&this.ElementsAreEqual(n+1,i+1);)n++,i++;if(w[W]=n,n+i>D+B&&(D=n,B=i),!R&&Math.abs(W-N)<=F-1&&n>=L[W])return l[0]=n,r[0]=i,V<=L[W]&&1447>0&&F<=1447+1?this.WALKTRACE(E,u,h,I,N,v,m,T,w,L,n,c,l,i,s,r,R,t):null}const A=(D-o+(B-a)-F)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(D,A))return t[0]=!0,l[0]=D,r[0]=B,A>0&&1447>0&&F<=1447+1?this.WALKTRACE(E,u,h,I,N,v,m,T,w,L,n,c,l,i,s,r,R,t):(o++,a++,[new C.DiffChange(o,c-o+1,a,s-a+1)]);v=this.ClipDiagonalBound(N-F,F,N,b),m=this.ClipDiagonalBound(N+F,F,N,b);for(let W=v;W<=m;W+=2){W===v||W<m&&L[W-1]>=L[W+1]?n=L[W+1]-1:n=L[W-1],i=n-(W-N)-T;const V=n;for(;n>o&&i>a&&this.ElementsAreEqual(n,i);)n--,i--;if(L[W]=n,R&&Math.abs(W-E)<=F&&n<=w[W])return l[0]=n,r[0]=i,V>=w[W]&&1447>0&&F<=1447+1?this.WALKTRACE(E,u,h,I,N,v,m,T,w,L,n,c,l,i,s,r,R,t):null}if(F<=1447){let W=new Int32Array(h-u+2);W[0]=E-u+1,_.Copy2(w,u,W,1,h-u+1),this.m_forwardHistory.push(W),W=new Int32Array(m-v+2),W[0]=N-v+1,_.Copy2(L,v,W,1,m-v+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(E,u,h,I,N,v,m,T,w,L,n,c,l,i,s,r,R,t)}PrettifyChanges(o){for(let c=0;c<o.length;c++){const a=o[c],s=c<o.length-1?o[c+1].originalStart:this._originalElementsOrHash.length,l=c<o.length-1?o[c+1].modifiedStart:this._modifiedElementsOrHash.length,r=a.originalLength>0,t=a.modifiedLength>0;for(;a.originalStart+a.originalLength<s&&a.modifiedStart+a.modifiedLength<l&&(!r||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!t||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));)a.originalStart++,a.modifiedStart++;let n=[null];if(c<o.length-1&&this.ChangesOverlap(o[c],o[c+1],n)){o[c]=n[0],o.splice(c+1,1),c--;continue}}for(let c=o.length-1;c>=0;c--){const a=o[c];let s=0,l=0;if(c>0){const u=o[c-1];u.originalLength>0&&(s=u.originalStart+u.originalLength),u.modifiedLength>0&&(l=u.modifiedStart+u.modifiedLength)}const r=a.originalLength>0,t=a.modifiedLength>0;let n=0,i=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let u=1;;u++){const h=a.originalStart-u,v=a.modifiedStart-u;if(h<s||v<l||r&&!this.OriginalElementsAreEqual(h,h+a.originalLength)||t&&!this.ModifiedElementsAreEqual(v,v+a.modifiedLength))break;const m=this._boundaryScore(h,a.originalLength,v,a.modifiedLength);m>i&&(i=m,n=u)}a.originalStart-=n,a.modifiedStart-=n}if(this._hasStrings)for(let c=1,a=o.length;c<a;c++){const s=o[c-1],l=o[c],r=l.originalStart-s.originalStart-s.originalLength,t=s.originalStart,n=l.originalStart+l.originalLength,i=n-t,u=s.modifiedStart,h=l.modifiedStart+l.modifiedLength,v=h-u;if(r<5&&i<20&&v<20){const m=this._findBetterContiguousSequence(t,i,u,v,r);if(m){const[g,b]=m;(g!==s.originalStart+s.originalLength||b!==s.modifiedStart+s.modifiedLength)&&(s.originalLength=g-s.originalStart,s.modifiedLength=b-s.modifiedStart,l.originalStart=g+r,l.modifiedStart=b+r,l.originalLength=n-l.originalStart,l.modifiedLength=h-l.modifiedStart)}}}return o}_findBetterContiguousSequence(o,c,a,s,l){if(c<l||s<l)return null;const r=o+c-l+1,t=a+s-l+1;let n=0,i=0,u=0;for(let h=o;h<r;h++)for(let v=a;v<t;v++){const m=this._contiguousSequenceScore(h,v,l);m>0&&m>n&&(n=m,i=h,u=v)}return n>0?[i,u]:null}_contiguousSequenceScore(o,c,a){let s=0;for(let l=0;l<a;l++){if(!this.ElementsAreEqual(o+l,c+l))return 0;s+=this._originalStringElements[o+l].length}return s}_OriginalIsBoundary(o){return o<=0||o>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[o])}_OriginalRegionIsBoundary(o,c){if(this._OriginalIsBoundary(o)||this._OriginalIsBoundary(o-1))return!0;if(c>0){const a=o+c;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(o){return o<=0||o>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[o])}_ModifiedRegionIsBoundary(o,c){if(this._ModifiedIsBoundary(o)||this._ModifiedIsBoundary(o-1))return!0;if(c>0){const a=o+c;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(o,c,a,s){const l=this._OriginalRegionIsBoundary(o,c)?1:0,r=this._ModifiedRegionIsBoundary(a,s)?1:0;return l+r}ConcatenateChanges(o,c){let a=[];if(o.length===0||c.length===0)return c.length>0?c:o;if(this.ChangesOverlap(o[o.length-1],c[0],a)){const s=new Array(o.length+c.length-1);return _.Copy(o,0,s,0,o.length-1),s[o.length-1]=a[0],_.Copy(c,1,s,o.length,c.length-1),s}else{const s=new Array(o.length+c.length);return _.Copy(o,0,s,0,o.length),_.Copy(c,0,s,o.length,c.length),s}}ChangesOverlap(o,c,a){if(S.Assert(o.originalStart<=c.originalStart,"Left change is not less than or equal to right change"),S.Assert(o.modifiedStart<=c.modifiedStart,"Left change is not less than or equal to right change"),o.originalStart+o.originalLength>=c.originalStart||o.modifiedStart+o.modifiedLength>=c.modifiedStart){const s=o.originalStart;let l=o.originalLength;const r=o.modifiedStart;let t=o.modifiedLength;return o.originalStart+o.originalLength>=c.originalStart&&(l=c.originalStart+c.originalLength-o.originalStart),o.modifiedStart+o.modifiedLength>=c.modifiedStart&&(t=c.modifiedStart+c.modifiedLength-o.modifiedStart),a[0]=new C.DiffChange(s,l,r,t),!0}else return a[0]=null,!1}ClipDiagonalBound(o,c,a,s){if(o>=0&&o<s)return o;const l=a,r=s-a-1,t=c%2==0;if(o<0){const n=l%2==0;return t===n?0:1}else{const n=r%2==0;return t===n?s-1:s-2}}}e.LcsDiff=f}),define(Q[279],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,_){if(S&&S[0]!==""){const d=M(S,_,"-"),f=M(S,_,"_");return d&&!f?y(S,_,"-"):!d&&f?y(S,_,"_"):S[0].toUpperCase()===S[0]?_.toUpperCase():S[0].toLowerCase()===S[0]?_.toLowerCase():C.containsUppercaseCharacter(S[0][0])&&_.length>0?_[0].toUpperCase()+_.substr(1):_}else return _}e.buildReplaceStringWithCasePreserved=k;function M(S,_,d){return S[0].indexOf(d)!==-1&&_.indexOf(d)!==-1&&S[0].split(d).length===_.split(d).length}function y(S,_,d){const f=_.split(d),p=S[0].split(d);let o="";return f.forEach((c,a)=>{o+=k([p[a]],c)+d}),o.slice(0,-1)}}),define(Q[81],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(M){M[M.Ignore=0]="Ignore",M[M.Info=1]="Info",M[M.Warning=2]="Warning",M[M.Error=3]="Error"})(k||(k={})),function(M){const y="error",S="warning",_="warn",d="info";function f(p){return p?C.equalsIgnoreCase(y,p)?M.Error:C.equalsIgnoreCase(S,p)||C.equalsIgnoreCase(_,p)?M.Warning:C.equalsIgnoreCase(d,p)?M.Info:M.Ignore:M.Ignore}M.fromValue=f}(k||(k={})),e.default=k}),define(Q[21],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function C(n){return Array.isArray(n)}e.isArray=C;function k(n){return typeof n=="string"}e.isString=k;function M(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}e.isObject=M;function y(n){return typeof n=="number"&&!isNaN(n)}e.isNumber=y;function S(n){return n===!0||n===!1}e.isBoolean=S;function _(n){return typeof n=="undefined"}e.isUndefined=_;function d(n){return _(n)||n===null}e.isUndefinedOrNull=d;function f(n,i){if(!n)throw new Error(i?`Unexpected type, expected '${i}'`:"Unexpected type")}e.assertType=f;function p(n){if(d(n))throw new Error("Assertion Failed: argument is undefined or null");return n}e.assertIsDefined=p;function o(n){return typeof n=="function"}e.isFunction=o;function c(n,i){const u=Math.min(n.length,i.length);for(let h=0;h<u;h++)a(n[h],i[h])}e.validateConstraints=c;function a(n,i){if(k(i)){if(typeof n!==i)throw new Error(`argument does not match constraint: typeof ${i}`)}else if(o(i)){try{if(n instanceof i)return}catch(u){}if(!d(n)&&n.constructor===i||i.length===1&&i.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a;function s(n){let i=[],u=Object.getPrototypeOf(n);for(;Object.prototype!==u;)i=i.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u);return i}e.getAllPropertyNames=s;function l(n){const i=[];for(const u of s(n))typeof n[u]=="function"&&i.push(u);return i}e.getAllMethodNames=l;function r(n,i){const u=v=>function(){const m=Array.prototype.slice.call(arguments,0);return i(v,m)};let h={};for(const v of n)h[v]=u(v);return h}e.createProxyObject=r;function t(n){return n===null?void 0:n}e.withNullAsUndefined=t}),define(Q[39],J([0,1,21]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(o){if(!o||typeof o!="object"||o instanceof RegExp)return o;const c=Array.isArray(o)?[]:{};return Object.keys(o).forEach(a=>{o[a]&&typeof o[a]=="object"?c[a]=k(o[a]):c[a]=o[a]}),c}e.deepClone=k;function M(o){if(!o||typeof o!="object")return o;const c=[o];for(;c.length>0;){const a=c.shift();Object.freeze(a);for(const s in a)if(y.call(a,s)){const l=a[s];typeof l=="object"&&!Object.isFrozen(l)&&c.push(l)}}return o}e.deepFreeze=M;const y=Object.prototype.hasOwnProperty;function S(o,c){return _(o,c,new Set)}e.cloneAndChange=S;function _(o,c,a){if(C.isUndefinedOrNull(o))return o;const s=c(o);if(typeof s!="undefined")return s;if(C.isArray(o)){const l=[];for(const r of o)l.push(_(r,c,a));return l}if(C.isObject(o)){if(a.has(o))throw new Error("Cannot clone recursive data-structure");a.add(o);const l={};for(let r in o)y.call(o,r)&&(l[r]=_(o[r],c,a));return a.delete(o),l}return o}function d(o,c,a=!0){return C.isObject(o)?(C.isObject(c)&&Object.keys(c).forEach(s=>{s in o?a&&(C.isObject(o[s])&&C.isObject(c[s])?d(o[s],c[s],a):o[s]=c[s]):o[s]=c[s]}),o):c}e.mixin=d;function f(o,c){if(o===c)return!0;if(o==null||c===null||c===void 0||typeof o!=typeof c||typeof o!="object"||Array.isArray(o)!==Array.isArray(c))return!1;let a,s;if(Array.isArray(o)){if(o.length!==c.length)return!1;for(a=0;a<o.length;a++)if(!f(o[a],c[a]))return!1}else{const l=[];for(s in o)l.push(s);l.sort();const r=[];for(s in c)r.push(s);if(r.sort(),!f(l,r))return!1;for(a=0;a<l.length;a++)if(!f(o[l[a]],c[l[a]]))return!1}return!0}e.equals=f;function p(o,c,a){const s=c(o);return typeof s=="undefined"?a:s}e.getOrDefault=p}),define(Q[121],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function C(M){return M<0?0:M>255?255:M|0}e.toUint8=C;function k(M){return M<0?0:M>4294967295?4294967295:M|0}e.toUint32=k}),define(Q[23],J([0,1,17,65]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const M=/^\w[\w\d+.-]*$/,y=/^\//,S=/^\/\//;function _(g,b){if(!g.scheme&&b)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!M.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!y.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function d(g,b){return!g&&!b?"file":g}function f(g,b){switch(g){case"https":case"http":case"file":b?b[0]!==o&&(b=o+b):b=o;break}return b}const p="",o="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{constructor(b,w,L,E,N,I=!1){typeof b=="object"?(this.scheme=b.scheme||p,this.authority=b.authority||p,this.path=b.path||p,this.query=b.query||p,this.fragment=b.fragment||p):(this.scheme=d(b,I),this.authority=w||p,this.path=f(this.scheme,L||p),this.query=E||p,this.fragment=N||p,_(this,I))}static isUri(b){return b instanceof a?!0:b?typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="function"&&typeof b.with=="function"&&typeof b.toString=="function":!1}get fsPath(){return i(this,!1)}with(b){if(!b)return this;let{scheme:w,authority:L,path:E,query:N,fragment:I}=b;return w===void 0?w=this.scheme:w===null&&(w=p),L===void 0?L=this.authority:L===null&&(L=p),E===void 0?E=this.path:E===null&&(E=p),N===void 0?N=this.query:N===null&&(N=p),I===void 0?I=this.fragment:I===null&&(I=p),w===this.scheme&&L===this.authority&&E===this.path&&N===this.query&&I===this.fragment?this:new l(w,L,E,N,I)}static parse(b,w=!1){const L=c.exec(b);return L?new l(L[2]||p,m(L[4]||p),m(L[5]||p),m(L[7]||p),m(L[9]||p),w):new l(p,p,p,p,p)}static file(b){let w=p;if(C.isWindows&&(b=b.replace(/\\/g,o)),b[0]===o&&b[1]===o){const L=b.indexOf(o,2);L===-1?(w=b.substring(2),b=o):(w=b.substring(2,L),b=b.substring(L)||o)}return new l("file",w,b,p,p)}static from(b){return new l(b.scheme,b.authority,b.path,b.query,b.fragment)}static joinPath(b,...w){if(!b.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return C.isWindows&&b.scheme==="file"?L=a.file(k.win32.join(i(b,!0),...w)).path:L=k.posix.join(b.path,...w),b.with({path:L})}toString(b=!1){return u(this,b)}toJSON(){return this}static revive(b){if(b){if(b instanceof a)return b;{const w=new l(b);return w._formatted=b.external,w._fsPath=b._sep===s?b.fsPath:null,w}}else return b}}e.URI=a;const s=C.isWindows?1:void 0;class l extends a{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=i(this,!1)),this._fsPath}toString(b=!1){return b?u(this,!0):(this._formatted||(this._formatted=u(this,!1)),this._formatted)}toJSON(){const b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=s),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function t(g,b){let w,L=-1;for(let E=0;E<g.length;E++){const N=g.charCodeAt(E);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||b&&N===47)L!==-1&&(w+=encodeURIComponent(g.substring(L,E)),L=-1),w!==void 0&&(w+=g.charAt(E));else{w===void 0&&(w=g.substr(0,E));const I=r[N];I!==void 0?(L!==-1&&(w+=encodeURIComponent(g.substring(L,E)),L=-1),w+=I):L===-1&&(L=E)}}return L!==-1&&(w+=encodeURIComponent(g.substring(L))),w!==void 0?w:g}function n(g){let b;for(let w=0;w<g.length;w++){const L=g.charCodeAt(w);L===35||L===63?(b===void 0&&(b=g.substr(0,w)),b+=r[L]):b!==void 0&&(b+=g[w])}return b!==void 0?b:g}function i(g,b){let w;return g.authority&&g.path.length>1&&g.scheme==="file"?w=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?b?w=g.path.substr(1):w=g.path[1].toLowerCase()+g.path.substr(2):w=g.path,C.isWindows&&(w=w.replace(/\//g,"\\")),w}e.uriToFsPath=i;function u(g,b){const w=b?n:t;let L="",{scheme:E,authority:N,path:I,query:T,fragment:O}=g;if(E&&(L+=E,L+=":"),(N||E==="file")&&(L+=o,L+=o),N){let R=N.indexOf("@");if(R!==-1){const F=N.substr(0,R);N=N.substr(R+1),R=F.indexOf(":"),R===-1?L+=w(F,!1):(L+=w(F.substr(0,R),!1),L+=":",L+=w(F.substr(R+1),!1)),L+="@"}N=N.toLowerCase(),R=N.indexOf(":"),R===-1?L+=w(N,!1):(L+=w(N.substr(0,R),!1),L+=N.substr(R))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const R=I.charCodeAt(1);R>=65&&R<=90&&(I=`/${String.fromCharCode(R+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const R=I.charCodeAt(0);R>=65&&R<=90&&(I=`${String.fromCharCode(R+32)}:${I.substr(2)}`)}L+=w(I,!0)}return T&&(L+="?",L+=w(T,!1)),O&&(L+="#",L+=b?O:t(O,!1)),L}function h(g){try{return decodeURIComponent(g)}catch(b){return g.length>3?g.substr(0,3)+h(g.substr(3)):g}}const v=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m(g){return g.match(v)?g.replace(v,b=>h(b)):g}}),define(Q[51],J([0,1,23,8]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class M{constructor(){this._value="",this._pos=0}reset(s){return this._value=s,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(s){const l=s.charCodeAt(0),r=this._value.charCodeAt(this._pos);return l-r}value(){return this._value[this._pos]}}e.StringIterator=M;class y{constructor(s=!0){this._caseSensitive=s}reset(s){return this._value=s,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(s)this._from++;else break;else s=!1;return this}cmp(s){return this._caseSensitive?k.compareSubstring(s,this._value,0,s.length,this._from,this._to):k.compareSubstringIgnoreCase(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class S{constructor(s=!0,l=!0){this._splitOnBackslash=s,this._caseSensitive=l}reset(s){return this._value=s.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++){const l=this._value.charCodeAt(this._to);if(l===47||this._splitOnBackslash&&l===92)if(s)this._from++;else break;else s=!1}return this}cmp(s){return this._caseSensitive?k.compareSubstring(s,this._value,0,s.length,this._from,this._to):k.compareSubstringIgnoreCase(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=S;class _{constructor(s){this._ignorePathCasing=s,this._states=[],this._stateIdx=0}reset(s){return this._value=s,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new S(!1,!this._ignorePathCasing(s)),this._pathIterator.reset(s.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(s){if(this._states[this._stateIdx]===1)return k.compareIgnoreCase(s,this._value.scheme);if(this._states[this._stateIdx]===2)return k.compareIgnoreCase(s,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(s);if(this._states[this._stateIdx]===4)return k.compare(s,this._value.query);if(this._states[this._stateIdx]===5)return k.compare(s,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=_;class d{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class f{constructor(s){this._iter=s}static forUris(s=()=>!1){return new f(new _(s))}static forStrings(){return new f(new M)}static forConfigKeys(){return new f(new y)}clear(){this._root=void 0}set(s,l){const r=this._iter.reset(s);let t;for(this._root||(this._root=new d,this._root.segment=r.value()),t=this._root;;){const i=r.cmp(t.segment);if(i>0)t.left||(t.left=new d,t.left.segment=r.value()),t=t.left;else if(i<0)t.right||(t.right=new d,t.right.segment=r.value()),t=t.right;else if(r.hasNext())r.next(),t.mid||(t.mid=new d,t.mid.segment=r.value()),t=t.mid;else break}const n=t.value;return t.value=l,t.key=s,n}get(s){var l;return(l=this._getNode(s))===null||l===void 0?void 0:l.value}_getNode(s){const l=this._iter.reset(s);let r=this._root;for(;r;){const t=l.cmp(r.segment);if(t>0)r=r.left;else if(t<0)r=r.right;else if(l.hasNext())l.next(),r=r.mid;else break}return r}has(s){const l=this._getNode(s);return!((l==null?void 0:l.value)===void 0&&(l==null?void 0:l.mid)===void 0)}delete(s){return this._delete(s,!1)}deleteSuperstr(s){return this._delete(s,!0)}_delete(s,l){const r=this._iter.reset(s),t=[];let n=this._root;for(;n;){const i=r.cmp(n.segment);if(i>0)t.push([1,n]),n=n.left;else if(i<0)t.push([-1,n]),n=n.right;else if(r.hasNext())r.next(),t.push([0,n]),n=n.mid;else{for(l?(n.left=void 0,n.mid=void 0,n.right=void 0):n.value=void 0;t.length>0&&n.isEmpty();){let[u,h]=t.pop();switch(u){case 1:h.left=void 0;break;case 0:h.mid=void 0;break;case-1:h.right=void 0;break}n=h}break}}}findSubstr(s){const l=this._iter.reset(s);let r=this._root,t;for(;r;){const n=l.cmp(r.segment);if(n>0)r=r.left;else if(n<0)r=r.right;else if(l.hasNext())l.next(),t=r.value||t,r=r.mid;else break}return r&&r.value||t}findSuperstr(s){const l=this._iter.reset(s);let r=this._root;for(;r;){const t=l.cmp(r.segment);if(t>0)r=r.left;else if(t<0)r=r.right;else if(l.hasNext())l.next(),r=r.mid;else return r.mid?this._entries(r.mid):void 0}}forEach(s){for(const[l,r]of this)s(r,l)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(s){s&&(yield*this._entries(s.left),s.value&&(yield[s.key,s.value]),yield*this._entries(s.mid),yield*this._entries(s.right))}}e.TernarySearchTree=f;class p{constructor(s,l){this[Symbol.toStringTag]="ResourceMap",s instanceof p?(this.map=new Map(s.map),this.toKey=l!=null?l:p.defaultToKey):(this.map=new Map,this.toKey=s!=null?s:p.defaultToKey)}set(s,l){return this.map.set(this.toKey(s),l),this}get(s){return this.map.get(this.toKey(s))}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,l){typeof l!="undefined"&&(s=s.bind(l));for(let[r,t]of this.map)s(t,C.URI.parse(r),this)}values(){return this.map.values()}*keys(){for(let s of this.map.keys())yield C.URI.parse(s)}*entries(){for(let s of this.map.entries())yield[C.URI.parse(s[0]),s[1]]}*[Symbol.iterator](){for(let s of this.map)yield[C.URI.parse(s[0]),s[1]]}}e.ResourceMap=p,p.defaultToKey=a=>a.toString();class o{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,l=0){const r=this._map.get(s);if(!!r)return l!==0&&this.touch(r,l),r.value}set(s,l,r=0){let t=this._map.get(s);if(t)t.value=l,r!==0&&this.touch(t,r);else{switch(t={key:s,value:l,next:void 0,previous:void 0},r){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(s,t),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const l=this._map.get(s);if(!!l)return this._map.delete(s),this.removeItem(l),this._size--,l.value}shift(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}}forEach(s,l){const r=this._state;let t=this._head;for(;t;){if(l?s.bind(l)(t.value,t.key,this):s(t.value,t.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const s=this,l=this._state;let r=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(r){const n={value:r.key,done:!1};return r=r.next,n}else return{value:void 0,done:!0}}};return t}values(){const s=this,l=this._state;let r=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(r){const n={value:r.value,done:!1};return r=r.next,n}else return{value:void 0,done:!0}}};return t}entries(){const s=this,l=this._state;let r=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(r){const n={value:[r.key,r.value],done:!1};return r=r.next,n}else return{value:void 0,done:!0}}};return t}[Symbol.iterator](){return this.entries()}trimOld(s){if(!(s>=this.size)){if(s===0){this.clear();return}let l=this._head,r=this.size;for(;l&&r>s;)this._map.delete(l.key),l=l.next,r--;this._head=l,this._size=r,l&&(l.previous=void 0),this._state++}}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const l=s.next,r=s.previous;if(!l||!r)throw new Error("Invalid list");l.previous=r,r.next=l}s.next=void 0,s.previous=void 0,this._state++}touch(s,l){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(l!==1&&l!==2)){if(l===1){if(s===this._head)return;const r=s.next,t=s.previous;s===this._tail?(t.next=void 0,this._tail=t):(r.previous=t,t.next=r),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(l===2){if(s===this._tail)return;const r=s.next,t=s.previous;s===this._head?(r.previous=void 0,this._head=r):(r.previous=t,t.next=r),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((l,r)=>{s.push([r,l])}),s}fromJSON(s){this.clear();for(const[l,r]of s)this.set(l,r)}}e.LinkedMap=o;class c extends o{constructor(s,l=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,l),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get(s,l=2){return super.get(s,l)}peek(s){return super.get(s,0)}set(s,l){return super.set(s,l,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=c}),define(Q[66],J([0,1,51,8]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function M(...$){return function(X,de){for(let fe=0,se=$.length;fe<se;fe++){const le=$[fe](X,de);if(le)return le}return null}}e.or=M,e.matchesPrefix=y.bind(void 0,!0);function y($,X,de){if(!de||de.length<X.length)return null;let fe;return $?fe=k.startsWithIgnoreCase(de,X):fe=de.indexOf(X)===0,fe?X.length>0?[{start:0,end:X.length}]:[]:null}function S($,X){const de=X.toLowerCase().indexOf($.toLowerCase());return de===-1?null:[{start:de,end:de+$.length}]}e.matchesContiguousSubString=S;function _($,X){return d($.toLowerCase(),X.toLowerCase(),0,0)}e.matchesSubString=_;function d($,X,de,fe){if(de===$.length)return[];if(fe===X.length)return null;if($[de]===X[fe]){let se=null;return(se=d($,X,de+1,fe+1))?t({start:fe,end:fe+1},se):null}return d($,X,de,fe+1)}function f($){return 97<=$&&$<=122}function p($){return 65<=$&&$<=90}e.isUpper=p;function o($){return 48<=$&&$<=57}function c($){return $===32||$===9||$===10||$===13}const a=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach($=>a.add($.charCodeAt(0)));function s($){return c($)||a.has($)}function l($,X){return $===X||s($)&&s(X)}function r($){return f($)||p($)||o($)}function t($,X){return X.length===0?X=[$]:$.end===X[0].start?X[0].start=$.start:X.unshift($),X}function n($,X){for(let de=X;de<$.length;de++){const fe=$.charCodeAt(de);if(p(fe)||o(fe)||de>0&&!r($.charCodeAt(de-1)))return de}return $.length}function i($,X,de,fe){if(de===$.length)return[];if(fe===X.length)return null;if($[de]!==X[fe].toLowerCase())return null;{let se=null,le=fe+1;for(se=i($,X,de+1,fe+1);!se&&(le=n(X,le))<X.length;)se=i($,X,de+1,le),le++;return se===null?null:t({start:fe,end:fe+1},se)}}function u($){let X=0,de=0,fe=0,se=0,le=0;for(let Ie=0;Ie<$.length;Ie++)le=$.charCodeAt(Ie),p(le)&&X++,f(le)&&de++,r(le)&&fe++,o(le)&&se++;const me=X/$.length,be=de/$.length,ye=fe/$.length,Le=se/$.length;return{upperPercent:me,lowerPercent:be,alphaPercent:ye,numericPercent:Le}}function h($){const{upperPercent:X,lowerPercent:de}=$;return de===0&&X>.6}function v($){const{upperPercent:X,lowerPercent:de,alphaPercent:fe,numericPercent:se}=$;return de>.2&&X<.8&&fe>.6&&se<.2}function m($){let X=0,de=0,fe=0,se=0;for(let le=0;le<$.length;le++)fe=$.charCodeAt(le),p(fe)&&X++,f(fe)&&de++,c(fe)&&se++;return(X===0||de===0)&&se===0?$.length<=30:X<=5}function g($,X){if(!X||(X=X.trim(),X.length===0)||!m($)||X.length>60)return null;const de=u(X);if(!v(de)){if(!h(de))return null;X=X.toLowerCase()}let fe=null,se=0;for($=$.toLowerCase();se<X.length&&(fe=i($,X,0,se))===null;)se=n(X,se+1);return fe}e.matchesCamelCase=g;function b($,X,de=!1){if(!X||X.length===0)return null;let fe=null,se=0;for($=$.toLowerCase(),X=X.toLowerCase();se<X.length&&(fe=w($,X,0,se,de))===null;)se=L(X,se+1);return fe}e.matchesWords=b;function w($,X,de,fe,se){if(de===$.length)return[];if(fe===X.length)return null;if(l($.charCodeAt(de),X.charCodeAt(fe))){let le=null,me=fe+1;if(le=w($,X,de+1,fe+1,se),!se)for(;!le&&(me=L(X,me))<X.length;)le=w($,X,de+1,me,se),me++;return le===null?null:t({start:fe,end:fe+1},le)}else return null}function L($,X){for(let de=X;de<$.length;de++)if(s($.charCodeAt(de))||de>0&&s($.charCodeAt(de-1)))return de;return $.length}const E=M(e.matchesPrefix,g,S),N=M(e.matchesPrefix,g,_),I=new C.LRUCache(1e4);function T($,X,de=!1){if(typeof $!="string"||typeof X!="string")return null;let fe=I.get($);fe||(fe=new RegExp(k.convertSimple2RegExpPattern($),"i"),I.set($,fe));const se=fe.exec(X);return se?[{start:se.index,end:se.index+se[0].length}]:de?N($,X):E($,X)}e.matchesFuzzy=T;function O($,X,de,fe,se,le){const me=P($,X,0,fe,se,0,!0);if(me)return me;let be=0,ye=0,Le=le;for(let Ie=0;Ie<X.length&&Ie<F;++Ie){const Te=se.indexOf(X.charAt(Ie),Le);if(Te>=0)ye+=1,be+=Math.pow(2,Te),Le=Te+1;else if(be!==0)break}return[ye,be,le]}e.anyScore=O;function R($){if(typeof $=="undefined")return[];const X=$[1].toString(2),de=$[2],fe=[];for(let se=de;se<F;se++)if(X[X.length-(se+1)]==="1"){const le=fe[fe.length-1];le&&le.end===se?le.end=se+1:fe.push({start:se,end:se+1})}return fe}e.createMatches=R;const F=128;function D(){const $=[],X=[0];for(let de=1;de<=F;de++)X.push(-de);for(let de=0;de<=F;de++){const fe=X.slice(0);fe[0]=-de,$.push(fe)}return $}const B=D(),A=D(),W=D(),V=!1;function K($,X,de,fe,se){function le(be,ye,Le=" "){for(;be.length<ye;)be=Le+be;return be}let me=` |   |${fe.split("").map(be=>le(be,3)).join("|")}
`;for(let be=0;be<=de;be++)be===0?me+=" |":me+=`${X[be-1]}|`,me+=$[be].slice(0,se+1).map(ye=>le(ye.toString(),3)).join("|")+`
`;return me}function j($,X,de,fe){$=$.substr(X),de=de.substr(fe),console.log(K(B,$,$.length,de,de.length)),console.log(K(W,$,$.length,de,de.length)),console.log(K(A,$,$.length,de,de.length))}function ee($,X){if(X<0||X>=$.length)return!1;switch($.charCodeAt(X)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function re($,X){if(X<0||X>=$.length)return!1;switch($.charCodeAt(X)){case 32:case 9:return!0;default:return!1}}function te($,X,de){return X[$]!==de[$]}function ae($,X,de,fe,se,le){for(;X<de&&se<le;)$[X]===fe[se]&&(X+=1),se+=1;return X===de}e.isPatternInWord=ae;var Y;(function($){$.Default=Object.freeze([-100,0,0]);function X(de){return!de||de[0]===-100&&de[1]===0&&de[2]===0}$.isDefault=X})(Y=e.FuzzyScore||(e.FuzzyScore={}));function P($,X,de,fe,se,le,me){const be=$.length>F?F:$.length,ye=fe.length>F?F:fe.length;if(!(de>=be||le>=ye||be-de>ye-le)&&!!ae(X,de,be,se,le,ye)){let Le=1,Ie=1,Te=de,Ne=le,Pe=!1;for(Le=1,Te=de;Te<be;Le++,Te++)for(Ie=1,Ne=le;Ne<ye;Ie++,Ne++){const Fe=x($,X,Te,de,fe,se,Ne);Te===de&&Fe>1&&(Pe=!0),A[Le][Ie]=Fe;const Re=B[Le-1][Ie-1]+(Fe>1?1:Fe),Be=B[Le-1][Ie]+-1,Se=B[Le][Ie-1]+-1;Se>=Be?Se>Re?(B[Le][Ie]=Se,W[Le][Ie]=4):Se===Re?(B[Le][Ie]=Se,W[Le][Ie]=4|2):(B[Le][Ie]=Re,W[Le][Ie]=2):Be>Re?(B[Le][Ie]=Be,W[Le][Ie]=1):Be===Re?(B[Le][Ie]=Be,W[Le][Ie]=1|2):(B[Le][Ie]=Re,W[Le][Ie]=2)}if(V&&j($,de,fe,le),!(!Pe&&!me)&&(z=0,H=-100,q=le,ie=me,ce(Le-1,Ie-1,be===ye?1:0,0,!1),z!==0))return[H,U,le]}}e.fuzzyScore=P;function x($,X,de,fe,se,le,me){return X[de]!==le[me]?-1:me===de-fe||te(me,se,le)&&(me===0||!te(me-1,se,le))?$[de]===se[me]?7:5:ee(le,me)&&(me===0||!ee(le,me-1))||ee(le,me-1)||re(le,me-1)?5:1}let z=0,U=0,H=0,q=0,ie=!1;function ce($,X,de,fe,se){if(!(z>=10||de<-25)){let le=0;for(;$>0&&X>0;){const me=A[$][X],be=W[$][X];if(be===4)X-=1,se?de-=5:fe!==0&&(de-=1),se=!1,le=0;else if(be&2)if(be&4&&ce($,X-1,fe!==0?de-1:de,fe,se),de+=me,$-=1,X-=1,se=!0,fe+=Math.pow(2,X+q),me===1){if(le+=1,$===0&&!ie)return}else de+=1+le*(me-1),le=0;else return}de-=X>=3?9:X*3,z+=1,de>H&&(H=de,U=fe)}}function ue($,X,de,fe,se,le,me){return Z($,X,de,fe,se,le,!0,me)}e.fuzzyScoreGracefulAggressive=ue;function Z($,X,de,fe,se,le,me,be){let ye=P($,X,de,fe,se,le,be);if(ye&&!me)return ye;if($.length>=3){const Le=Math.min(7,$.length-1);for(let Ie=de+1;Ie<Le;Ie++){const Te=ne($,Ie);if(Te){const Ne=P(Te,Te.toLowerCase(),de,fe,se,le,be);Ne&&(Ne[0]-=3,(!ye||Ne[0]>ye[0])&&(ye=Ne))}}}return ye}function ne($,X){if(!(X+1>=$.length)){const de=$[X],fe=$[X+1];if(de!==fe)return $.slice(0,X)+fe+de+$.slice(X+2)}}}),define(Q[280],J([0,1,66,65,17,8]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function _(r,t,n=0,i=0){const u=t;return u.values&&u.values.length>1?d(r,u.values,n,i):f(r,t,n,i)}e.scoreFuzzy2=_;function d(r,t,n,i){let u=0;const h=[];for(const v of t){const[m,g]=f(r,v,n,i);if(typeof m!="number")return S;u+=m,h.push(...g)}return[u,p(h)]}function f(r,t,n,i){const u=C.fuzzyScore(t.original,t.originalLowercase,n,r,r.toLowerCase(),i,!0);return u?[u[0],C.createMatches(u)]:S}function p(r){const t=r.sort((u,h)=>u.start-h.start),n=[];let i;for(const u of t)!i||!o(i,u)?(i=u,n.push(u)):(i.start=Math.min(i.start,u.start),i.end=Math.max(i.end,u.end));return n}function o(r,t){return!(r.end<t.start||t.end<r.start)}const c=" ";function a(r){typeof r!="string"&&(r="");const t=r.toLowerCase(),{pathNormalized:n,normalized:i,normalizedLowercase:u}=s(r),h=n.indexOf(k.sep)>=0;let v;const m=r.split(c);if(m.length>1)for(const g of m){const{pathNormalized:b,normalized:w,normalizedLowercase:L}=s(g);w&&(v||(v=[]),v.push({original:g,originalLowercase:g.toLowerCase(),pathNormalized:b,normalized:w,normalizedLowercase:L}))}return{original:r,originalLowercase:t,pathNormalized:n,normalized:i,normalizedLowercase:u,values:v,containsPathSeparator:h}}e.prepareQuery=a;function s(r){let t;M.isWindows?t=r.replace(/\//g,k.sep):t=r.replace(/\\/g,k.sep);const n=y.stripWildcards(t).replace(/\s/g,"");return{pathNormalized:t,normalized:n,normalizedLowercase:n.toLowerCase()}}function l(r){return Array.isArray(r)?a(r.map(t=>t.original).join(c)):a(r.original)}e.pieceToQuery=l}),define(Q[196],J([0,1,8,194,65,51,15]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const _="**",d="/",f="[/\\\\]",p="[^/\\\\]",o=/\//g;function c(A){switch(A){case 0:return"";case 1:return`${p}*?`;default:return`(?:${f}|${p}+${f}|${f}${p}+)*?`}}function a(A,W){if(!A)return[];const V=[];let K=!1,j=!1,ee="";for(const re of A){switch(re){case W:if(!K&&!j){V.push(ee),ee="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":j=!0;break;case"]":j=!1;break}ee+=re}return ee&&V.push(ee),V}e.splitGlobAware=a;function s(A){if(!A)return"";let W="";const V=a(A,d);if(V.every(K=>K===_))W=".*";else{let K=!1;V.forEach((j,ee)=>{if(j===_){K||(W+=c(2),K=!0);return}let re=!1,te="",ae=!1,Y="";for(const P of j){if(P!=="}"&&re){te+=P;continue}if(ae&&(P!=="]"||!Y)){let x;P==="-"?x=P:(P==="^"||P==="!")&&!Y?x="^":P===d?x="":x=C.escapeRegExpCharacters(P),Y+=x;continue}switch(P){case"{":re=!0;continue;case"[":ae=!0;continue;case"}":W+=`(?:${a(te,",").map(U=>s(U)).join("|")})`,re=!1,te="";break;case"]":W+="["+Y+"]",ae=!1,Y="";break;case"?":W+=p;continue;case"*":W+=c(1);continue;default:W+=C.escapeRegExpCharacters(P)}}ee<V.length-1&&(V[ee+1]!==_||ee+2<V.length)&&(W+=f),K=!1})}return W}const l=/^\*\*\/\*\.[\w\.-]+$/,r=/^\*\*\/([\w\.-]+)\/?$/,t=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,n=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,u=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new y.LRUCache(1e4),v=function(){return!1},m=function(){return null};function g(A,W){if(!A)return m;let V;typeof A!="string"?V=A.pattern:V=A,V=V.trim();const K=`${V}_${!!W.trimForExclusions}`;let j=h.get(K);if(j)return b(j,A);let ee;if(l.test(V)){const re=V.substr(4);j=function(te,ae){return typeof te=="string"&&te.endsWith(re)?V:null}}else(ee=r.exec(w(V,W)))?j=L(ee[1],V):(W.trimForExclusions?n:t).test(V)?j=E(V,W):(ee=i.exec(w(V,W)))?j=N(ee[1].substr(1),V,!0):(ee=u.exec(w(V,W)))?j=N(ee[1],V,!1):j=I(V);return h.set(K,j),b(j,A)}function b(A,W){return typeof W=="string"?A:function(V,K){return k.isEqualOrParent(V,W.base)?A(M.relative(W.base,V),K):null}}function w(A,W){return W.trimForExclusions&&A.endsWith("/**")?A.substr(0,A.length-2):A}function L(A,W){const V=`/${A}`,K=`\\${A}`,j=function(re,te){return typeof re!="string"?null:te?te===A?W:null:re===A||re.endsWith(V)||re.endsWith(K)?W:null},ee=[A];return j.basenames=ee,j.patterns=[W],j.allBasenames=ee,j}function E(A,W){const V=B(A.slice(1,-1).split(",").map(te=>g(te,W)).filter(te=>te!==m),A),K=V.length;if(!K)return m;if(K===1)return V[0];const j=function(te,ae){for(let Y=0,P=V.length;Y<P;Y++)if(V[Y](te,ae))return A;return null},ee=V.find(te=>!!te.allBasenames);ee&&(j.allBasenames=ee.allBasenames);const re=V.reduce((te,ae)=>ae.allPaths?te.concat(ae.allPaths):te,[]);return re.length&&(j.allPaths=re),j}function N(A,W,V){const K=M.sep!==M.posix.sep?A.replace(o,M.sep):A,j=M.sep+K,ee=V?function(re,te){return typeof re=="string"&&(re===K||re.endsWith(j))?W:null}:function(re,te){return typeof re=="string"&&re===K?W:null};return ee.allPaths=[(V?"*/":"./")+A],ee}function I(A){try{const W=new RegExp(`^${s(A)}$`);return function(V){return W.lastIndex=0,typeof V=="string"&&W.test(V)?A:null}}catch(W){return m}}function T(A,W,V){return!A||typeof W!="string"?!1:O(A)(W,void 0,V)}e.match=T;function O(A,W={}){if(!A)return v;if(typeof A=="string"||R(A)){const V=g(A,W);if(V===m)return v;const K=function(j,ee){return!!V(j,ee)};return V.allBasenames&&(K.allBasenames=V.allBasenames),V.allPaths&&(K.allPaths=V.allPaths),K}return F(A,W)}e.parse=O;function R(A){const W=A;return W&&typeof W.base=="string"&&typeof W.pattern=="string"}e.isRelativePattern=R;function F(A,W){const V=B(Object.getOwnPropertyNames(A).map(te=>D(te,A[te],W)).filter(te=>te!==m)),K=V.length;if(!K)return m;if(!V.some(te=>!!te.requiresSiblings)){if(K===1)return V[0];const te=function(P,x){for(let z=0,U=V.length;z<U;z++){const H=V[z](P,x);if(H)return H}return null},ae=V.find(P=>!!P.allBasenames);ae&&(te.allBasenames=ae.allBasenames);const Y=V.reduce((P,x)=>x.allPaths?P.concat(x.allPaths):P,[]);return Y.length&&(te.allPaths=Y),te}const j=function(te,ae,Y){let P;for(let x=0,z=V.length;x<z;x++){const U=V[x];U.requiresSiblings&&Y&&(ae||(ae=M.basename(te)),P||(P=ae.substr(0,ae.length-M.extname(te).length)));const H=U(te,ae,P,Y);if(H)return H}return null},ee=V.find(te=>!!te.allBasenames);ee&&(j.allBasenames=ee.allBasenames);const re=V.reduce((te,ae)=>ae.allPaths?te.concat(ae.allPaths):te,[]);return re.length&&(j.allPaths=re),j}function D(A,W,V){if(W===!1)return m;const K=g(A,V);if(K===m)return m;if(typeof W=="boolean")return K;if(W){const j=W.when;if(typeof j=="string"){const ee=(re,te,ae,Y)=>{if(!Y||!K(re,te))return null;const P=j.replace("$(basename)",ae),x=Y(P);return S.isThenable(x)?x.then(z=>z?A:null):x?A:null};return ee.requiresSiblings=!0,ee}}return K}function B(A,W){const V=A.filter(te=>!!te.basenames);if(V.length<2)return A;const K=V.reduce((te,ae)=>{const Y=ae.basenames;return Y?te.concat(Y):te},[]);let j;if(W){j=[];for(let te=0,ae=K.length;te<ae;te++)j.push(W)}else j=V.reduce((te,ae)=>{const Y=ae.patterns;return Y?te.concat(Y):te},[]);const ee=function(te,ae){if(typeof te!="string")return null;if(!ae){let P;for(P=te.length;P>0;P--){const x=te.charCodeAt(P-1);if(x===47||x===92)break}ae=te.substr(P)}const Y=K.indexOf(ae);return Y!==-1?j[Y]:null};ee.basenames=K,ee.patterns=j,ee.allBasenames=K;const re=A.filter(te=>!te.basenames);return re.push(ee),re}}),define(Q[102],J([0,1,66,8]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const M=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function y(a){return a.replace(M,(s,l)=>l?s:`\\${s}`)}e.escapeIcons=y;const S=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function _(a){return a.replace(S,s=>`\\${s}`)}e.markdownEscapeEscapedIcons=_;const d=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;function f(a){return a.indexOf(e.iconStartMarker)===-1?a:a.replace(d,(s,l,r,t)=>r?s:l||t||"")}e.stripIcons=f;function p(a){const s=a.indexOf(e.iconStartMarker);return s===-1?{text:a}:o(a,s)}e.parseLabelWithIcons=p;function o(a,s){const l=[];let r="";function t(b){if(b){r+=b;for(const w of b)l.push(u)}}let n=-1,i="",u=0,h,v,m=s;const g=a.length;for(t(a.substr(0,s));m<g;)h=a[m],v=a[m+1],h===e.iconStartMarker[0]&&v===e.iconStartMarker[1]?(n=m,t(i),i=e.iconStartMarker,m++):h===")"&&n!==-1?(u+=m-n+1,n=-1,i=""):n!==-1?/^[a-z0-9\-]$/i.test(h)?i+=h:(t(i),n=-1,i=""):t(h),m++;return t(i),{text:r,iconOffsets:l}}function c(a,s,l=!1){const{text:r,iconOffsets:t}=s;if(!t||t.length===0)return C.matchesFuzzy(a,r,l);const n=k.ltrim(r," "),i=r.length-n.length,u=C.matchesFuzzy(a,n,l);if(u)for(const h of u){const v=t[h.start+i]+i;h.start+=v,h.end+=v}return u}e.matchesFuzzyIconAware=c}),define(Q[82],J([0,1,19,102,11]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markedStringsEquals=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class y{constructor(s="",l=!1){var r,t;if(this.value=s,typeof this.value!="string")throw M.illegalArgument("value");typeof l=="boolean"?(this.isTrusted=l,this.supportThemeIcons=!1):(this.isTrusted=(r=l.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(t=l.supportThemeIcons)!==null&&t!==void 0?t:!1)}appendText(s,l=0){return this.value+=p(this.supportThemeIcons?k.escapeIcons(s):s).replace(/([ \t]+)/g,(r,t)=>"&nbsp;".repeat(t.length)).replace(/^>/gm,"\\>").replace(/\n/g,l===1?`\\
`:`

`),this}appendMarkdown(s){return this.value+=s,this}appendCodeblock(s,l){return this.value+="\n```",this.value+=s,this.value+=`
`,this.value+=l,this.value+="\n```\n",this}}e.MarkdownString=y;function S(a){return _(a)?!a.value:Array.isArray(a)?a.every(S):!0}e.isEmptyMarkdownString=S;function _(a){return a instanceof y?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}e.isMarkdownString=_;function d(a,s){return!a&&!s?!0:!a||!s?!1:Array.isArray(a)&&Array.isArray(s)?C.equals(a,s,f):_(a)&&_(s)?f(a,s):!1}e.markedStringsEquals=d;function f(a,s){return a===s?!0:!a||!s?!1:a.value===s.value&&a.isTrusted===s.isTrusted&&a.supportThemeIcons===s.supportThemeIcons}function p(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function o(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=o;function c(a){const s=[],l=a.split("|").map(t=>t.trim());a=l[0];const r=l[1];if(r){const t=/height=(\d+)/.exec(r),n=/width=(\d+)/.exec(r),i=t?t[1]:"",u=n?n[1]:"",h=isFinite(parseInt(u)),v=isFinite(parseInt(i));h&&s.push(`width="${u}"`),v&&s.push(`height="${i}"`)}return{href:a,dimensions:s}}e.parseHrefAndDimensions=c}),define(Q[197],J([0,1,120,23]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function M(S){let _=JSON.parse(S);return _=y(_),_}e.parse=M;function y(S,_=0){if(!S||_>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return k.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof C.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let d=0;d<S.length;++d)S[d]=y(S[d],_+1);else for(const d in S)Object.hasOwnProperty.call(S,d)&&(S[d]=y(S[d],_+1))}return S}e.revive=y}),define(Q[43],J([0,1,23,17]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var M;(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.userData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebook="vscode-notebook",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeSettings="vscode-settings",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.vscodeWebviewResource="vscode-webview-resource",_.extension="extension",_.vscodeFileResource="vscode-file"})(M=e.Schemas||(e.Schemas={}));class y{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(d){this._preferredWebSchema=d}rewrite(d){if(this._delegate)return this._delegate(d);const f=d.authority;let p=this._hosts[f];p&&p.indexOf(":")!==-1&&(p=`[${p}]`);const o=this._ports[f],c=this._connectionTokens[f];let a=`path=${encodeURIComponent(d.path)}`;return typeof c=="string"&&(a+=`&tkn=${encodeURIComponent(c)}`),C.URI.from({scheme:k.isWeb?this._preferredWebSchema:M.vscodeRemoteResource,authority:`${p}:${o}`,path:"/vscode-remote-resource",query:a})}}e.RemoteAuthorities=new y;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(d,f,p){const o=this.toUri(d,f);return o.scheme===M.vscodeRemote?e.RemoteAuthorities.rewrite(o):k.isNative&&(p||k.isPreferringBrowserCodeLoad)&&o.scheme===M.file?o.with({scheme:M.vscodeFileResource,authority:o.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):o}toUri(d,f){return C.URI.isUri(d)?d:C.URI.parse(f.toUrl(d))}}e.FileAccess=new S}),define(Q[7],J([0,1,34,55,56,50,15,11,4,2,17,43,118]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifierKeyEmitter=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.removeTabIndexAndUpdateFocus=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function a(ge){for(;ge.firstChild;)ge.firstChild.remove()}e.clearNode=a;function s(ge){var oe;return(oe=ge==null?void 0:ge.isConnected)!==null&&oe!==void 0?oe:!1}e.isInDOM=s;class l{constructor(oe,he,_e,ve){this._node=oe,this._type=he,this._handler=_e,this._options=ve||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(ge,oe,he,_e){return new l(ge,oe,he,_e)}e.addDisposableListener=r;function t(ge){return function(oe){return ge(new y.StandardMouseEvent(oe))}}function n(ge){return function(oe){return ge(new M.StandardKeyboardEvent(oe))}}let i=function(oe,he,_e,ve){let we=_e;return he==="click"||he==="mousedown"?we=t(_e):(he==="keydown"||he==="keypress"||he==="keyup")&&(we=n(_e)),r(oe,he,we,ve)};e.addStandardDisposableListener=i;let u=function(oe,he,_e){let ve=t(he);return h(oe,ve,_e)};e.addStandardDisposableGenericMouseDownListner=u;function h(ge,oe,he){return r(ge,p.isIOS&&c.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,oe,he)}e.addDisposableGenericMouseDownListner=h;function v(ge,oe,he){return r(ge,p.isIOS&&c.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,oe,he)}e.addDisposableGenericMouseUpListner=v;function m(ge,oe){return r(ge,"mouseout",he=>{let _e=he.relatedTarget;for(;_e&&_e!==ge;)_e=_e.parentNode;_e!==ge&&oe(he)})}e.addDisposableNonBubblingMouseOutListener=m;function g(ge,oe){return r(ge,"pointerout",he=>{let _e=he.relatedTarget;for(;_e&&_e!==ge;)_e=_e.parentNode;_e!==ge&&oe(he)})}e.addDisposableNonBubblingPointerOutListener=g;let b=null;function w(ge){if(!b){const oe=he=>setTimeout(()=>he(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||oe}return b.call(self,ge)}class L{constructor(oe,he=0){this._runner=oe,this.priority=he,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(oe){_.onUnexpectedError(oe)}}static sort(oe,he){return he.priority-oe.priority}}(function(){let ge=[],oe=null,he=!1,_e=!1,ve=()=>{for(he=!1,oe=ge,ge=[],_e=!0;oe.length>0;)oe.sort(L.sort),oe.shift().execute();_e=!1};e.scheduleAtNextAnimationFrame=(we,Ee=0)=>{let ke=new L(we,Ee);return ge.push(ke),he||(he=!0,w(ve)),ke},e.runAtThisOrScheduleAtNextAnimationFrame=(we,Ee)=>{if(_e){let ke=new L(we,Ee);return oe.push(ke),ke}else return e.scheduleAtNextAnimationFrame(we,Ee)}})();const E=16,N=function(ge,oe){return oe};class I extends f.Disposable{constructor(oe,he,_e,ve=N,we=E){super();let Ee=null,ke=0,Ae=this._register(new S.TimeoutTimer),xe=()=>{ke=new Date().getTime(),_e(Ee),Ee=null};this._register(r(oe,he,We=>{Ee=ve(Ee,We);let He=new Date().getTime()-ke;He>=we?(Ae.cancel(),xe()):Ae.setIfNotSet(xe,we-He)}))}}function T(ge,oe,he,_e,ve){return new I(ge,oe,he,_e,ve)}e.addDisposableThrottledListener=T;function O(ge){return document.defaultView.getComputedStyle(ge,null)}e.getComputedStyle=O;function R(ge){if(ge!==document.body)return new D(ge.clientWidth,ge.clientHeight);if(p.isIOS&&window.visualViewport){const oe=window.visualViewport.width,he=window.visualViewport.height-(C.isStandalone?20+4:0);return new D(oe,he)}if(window.innerWidth&&window.innerHeight)return new D(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new D(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new D(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=R;class F{static convertToPixels(oe,he){return parseFloat(he)||0}static getDimension(oe,he,_e){let ve=O(oe),we="0";return ve&&(ve.getPropertyValue?we=ve.getPropertyValue(he):we=ve.getAttribute(_e)),F.convertToPixels(oe,we)}static getBorderLeftWidth(oe){return F.getDimension(oe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(oe){return F.getDimension(oe,"border-right-width","borderRightWidth")}static getBorderTopWidth(oe){return F.getDimension(oe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(oe){return F.getDimension(oe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(oe){return F.getDimension(oe,"padding-left","paddingLeft")}static getPaddingRight(oe){return F.getDimension(oe,"padding-right","paddingRight")}static getPaddingTop(oe){return F.getDimension(oe,"padding-top","paddingTop")}static getPaddingBottom(oe){return F.getDimension(oe,"padding-bottom","paddingBottom")}static getMarginLeft(oe){return F.getDimension(oe,"margin-left","marginLeft")}static getMarginTop(oe){return F.getDimension(oe,"margin-top","marginTop")}static getMarginRight(oe){return F.getDimension(oe,"margin-right","marginRight")}static getMarginBottom(oe){return F.getDimension(oe,"margin-bottom","marginBottom")}}class D{constructor(oe,he){this.width=oe,this.height=he}with(oe=this.width,he=this.height){return oe!==this.width||he!==this.height?new D(oe,he):this}static is(oe){return typeof oe=="object"&&typeof oe.height=="number"&&typeof oe.width=="number"}static lift(oe){return oe instanceof D?oe:new D(oe.width,oe.height)}static equals(oe,he){return oe===he?!0:!oe||!he?!1:oe.width===he.width&&oe.height===he.height}}e.Dimension=D;function B(ge){let oe=ge.offsetParent,he=ge.offsetTop,_e=ge.offsetLeft;for(;(ge=ge.parentNode)!==null&&ge!==document.body&&ge!==document.documentElement;){he-=ge.scrollTop;const ve=Y(ge)?null:O(ge);ve&&(_e-=ve.direction!=="rtl"?ge.scrollLeft:-ge.scrollLeft),ge===oe&&(_e+=F.getBorderLeftWidth(ge),he+=F.getBorderTopWidth(ge),he+=ge.offsetTop,_e+=ge.offsetLeft,oe=ge.offsetParent)}return{left:_e,top:he}}e.getTopLeftOffset=B;function A(ge,oe,he){typeof oe=="number"&&(ge.style.width=`${oe}px`),typeof he=="number"&&(ge.style.height=`${he}px`)}e.size=A;function W(ge){let oe=ge.getBoundingClientRect();return{left:oe.left+e.StandardWindow.scrollX,top:oe.top+e.StandardWindow.scrollY,width:oe.width,height:oe.height}}e.getDomNodePagePosition=W,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function V(ge){let oe=F.getMarginLeft(ge)+F.getMarginRight(ge);return ge.offsetWidth+oe}e.getTotalWidth=V;function K(ge){let oe=F.getBorderLeftWidth(ge)+F.getBorderRightWidth(ge),he=F.getPaddingLeft(ge)+F.getPaddingRight(ge);return ge.offsetWidth-oe-he}e.getContentWidth=K;function j(ge){let oe=F.getBorderTopWidth(ge)+F.getBorderBottomWidth(ge),he=F.getPaddingTop(ge)+F.getPaddingBottom(ge);return ge.offsetHeight-oe-he}e.getContentHeight=j;function ee(ge){let oe=F.getMarginTop(ge)+F.getMarginBottom(ge);return ge.offsetHeight+oe}e.getTotalHeight=ee;function re(ge,oe){for(;ge;){if(ge===oe)return!0;ge=ge.parentNode}return!1}e.isAncestor=re;function te(ge,oe,he){for(;ge&&ge.nodeType===ge.ELEMENT_NODE;){if(ge.classList.contains(oe))return ge;if(he){if(typeof he=="string"){if(ge.classList.contains(he))return null}else if(ge===he)return null}ge=ge.parentNode}return null}e.findParentWithClass=te;function ae(ge,oe,he){return!!te(ge,oe,he)}e.hasParentWithClass=ae;function Y(ge){return ge&&!!ge.host&&!!ge.mode}e.isShadowRoot=Y;function P(ge){return!!x(ge)}e.isInShadowDOM=P;function x(ge){for(;ge.parentNode;){if(ge===document.body)return null;ge=ge.parentNode}return Y(ge)?ge:null}e.getShadowRoot=x;function z(){let ge=document.activeElement;for(;ge==null?void 0:ge.shadowRoot;)ge=ge.shadowRoot.activeElement;return ge}e.getActiveElement=z;function U(ge=document.getElementsByTagName("head")[0]){let oe=document.createElement("style");return oe.type="text/css",oe.media="screen",ge.appendChild(oe),oe}e.createStyleSheet=U;let H=null;function q(){return H||(H=U()),H}function ie(ge){var oe,he;return((oe=ge==null?void 0:ge.sheet)===null||oe===void 0?void 0:oe.rules)?ge.sheet.rules:((he=ge==null?void 0:ge.sheet)===null||he===void 0?void 0:he.cssRules)?ge.sheet.cssRules:[]}function ce(ge,oe,he=q()){!he||!oe||he.sheet.insertRule(ge+"{"+oe+"}",0)}e.createCSSRule=ce;function ue(ge,oe=q()){if(!!oe){let he=ie(oe),_e=[];for(let ve=0;ve<he.length;ve++)he[ve].selectorText.indexOf(ge)!==-1&&_e.push(ve);for(let ve=_e.length-1;ve>=0;ve--)oe.sheet.deleteRule(_e[ve])}}e.removeCSSRulesContainingSelector=ue;function Z(ge){return typeof HTMLElement=="object"?ge instanceof HTMLElement:ge&&typeof ge=="object"&&ge.nodeType===1&&typeof ge.nodeName=="string"}e.isHTMLElement=Z,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:C.isEdge?"mousewheel":"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:C.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:C.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:C.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(ge,oe){ge.preventDefault?ge.preventDefault():ge.returnValue=!1,oe&&(ge.stopPropagation?ge.stopPropagation():ge.cancelBubble=!0)}};function ne(ge){let oe=[];for(let he=0;ge&&ge.nodeType===ge.ELEMENT_NODE;he++)oe[he]=ge.scrollTop,ge=ge.parentNode;return oe}e.saveParentsScrollTop=ne;function $(ge,oe){for(let he=0;ge&&ge.nodeType===ge.ELEMENT_NODE;he++)ge.scrollTop!==oe[he]&&(ge.scrollTop=oe[he]),ge=ge.parentNode}e.restoreParentsScrollTop=$;class X extends f.Disposable{constructor(oe){super();this._onDidFocus=this._register(new d.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new d.Emitter),this.onDidBlur=this._onDidBlur.event;let he=re(document.activeElement,oe),_e=!1;const ve=()=>{_e=!1,he||(he=!0,this._onDidFocus.fire())},we=()=>{he&&(_e=!0,window.setTimeout(()=>{_e&&(_e=!1,he=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{re(document.activeElement,oe)!==he&&(he?we():ve())},this._register(k.domEvent(oe,e.EventType.FOCUS,!0)(ve)),this._register(k.domEvent(oe,e.EventType.BLUR,!0)(we))}}function de(ge){return new X(ge)}e.trackFocus=de;function fe(ge,...oe){if(ge.append(...oe),oe.length===1&&typeof oe[0]!="string")return oe[0]}e.append=fe;function se(ge,...oe){ge.innerText="",fe(ge,...oe)}e.reset=se;const le=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var me;(function(ge){ge.HTML="http://www.w3.org/1999/xhtml",ge.SVG="http://www.w3.org/2000/svg"})(me=e.Namespace||(e.Namespace={}));function be(ge,oe,he,..._e){let ve=le.exec(oe);if(!ve)throw new Error("Bad use of emmet");he=Object.assign({},he||{});let we=ve[1]||"div",Ee;return ge!==me.HTML?Ee=document.createElementNS(ge,we):Ee=document.createElement(we),ve[3]&&(Ee.id=ve[3]),ve[4]&&(Ee.className=ve[4].replace(/\./g," ").trim()),Object.keys(he).forEach(ke=>{const Ae=he[ke];typeof Ae!="undefined"&&(/^on\w+$/.test(ke)?Ee[ke]=Ae:ke==="selected"?Ae&&Ee.setAttribute(ke,"true"):Ee.setAttribute(ke,Ae))}),Ee.append(..._e),Ee}function ye(ge,oe,...he){return be(me.HTML,ge,oe,...he)}e.$=ye,ye.SVG=function(ge,oe,...he){return be(me.SVG,ge,oe,...he)};function Le(...ge){for(let oe of ge)oe.style.display="",oe.removeAttribute("aria-hidden")}e.show=Le;function Ie(...ge){for(let oe of ge)oe.style.display="none",oe.setAttribute("aria-hidden","true")}e.hide=Ie;function Te(ge,oe){for(;ge&&ge.nodeType===ge.ELEMENT_NODE;){if(ge instanceof HTMLElement&&ge.hasAttribute(oe))return ge;ge=ge.parentNode}return null}function Ne(ge){if(!(!ge||!ge.hasAttribute("tabIndex"))){if(document.activeElement===ge){let oe=Te(ge.parentElement,"tabIndex");oe&&oe.focus()}ge.removeAttribute("tabindex")}}e.removeTabIndexAndUpdateFocus=Ne;function Pe(ge){return Array.prototype.slice.call(document.getElementsByTagName(ge),0)}e.getElementsByTagName=Pe;function Fe(ge){const oe=window.devicePixelRatio*ge;return Math.max(1,Math.floor(oe))/window.devicePixelRatio}e.computeScreenAwareSize=Fe;function Re(ge){if(C.isElectron||C.isEdgeWebView)window.open(ge);else{let oe=window.open();oe&&(oe.opener=null,oe.location.href=ge)}}e.windowOpenNoOpener=Re;function Be(ge){const oe=()=>{ge(),he=e.scheduleAtNextAnimationFrame(oe)};let he=e.scheduleAtNextAnimationFrame(oe);return f.toDisposable(()=>he.dispose())}e.animate=Be,o.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Se(ge){return ge?`url('${o.FileAccess.asBrowserUri(ge).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Se;class Ce extends d.Emitter{constructor(){super();this._subscriptions=new f.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(k.domEvent(document.body,"keydown",!0)(oe=>{const he=new M.StandardKeyboardEvent(oe);if(oe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(oe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(oe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(oe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(he.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=oe.altKey,this._keyStatus.ctrlKey=oe.ctrlKey,this._keyStatus.metaKey=oe.metaKey,this._keyStatus.shiftKey=oe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=oe,this.fire(this._keyStatus))})),this._subscriptions.add(k.domEvent(document.body,"keyup",!0)(oe=>{!oe.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!oe.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!oe.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!oe.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=oe.altKey,this._keyStatus.ctrlKey=oe.ctrlKey,this._keyStatus.metaKey=oe.metaKey,this._keyStatus.shiftKey=oe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=oe,this.fire(this._keyStatus))})),this._subscriptions.add(k.domEvent(document.body,"mousedown",!0)(oe=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(k.domEvent(document.body,"mouseup",!0)(oe=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(k.domEvent(document.body,"mousemove",!0)(oe=>{oe.buttons&&(this._keyStatus.lastKeyPressed=void 0)})),this._subscriptions.add(k.domEvent(window,"blur")(oe=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ce.instance||(Ce.instance=new Ce),Ce.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ce}),define(Q[152],J([0,1,7]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(o,c={}){const a=y(c);return a.textContent=o,a}e.renderText=k;function M(o,c={}){const a=y(c);return _(a,d(o),c.actionHandler),a}e.renderFormattedText=M;function y(o){const c=o.inline?"span":"div",a=document.createElement(c);return o.className&&(a.className=o.className),a}e.createElement=y;class S{constructor(c){this.source=c,this.index=0}eos(){return this.index>=this.source.length}next(){const c=this.peek();return this.advance(),c}peek(){return this.source[this.index]}advance(){this.index++}}function _(o,c,a){let s;if(c.type===2)s=document.createTextNode(c.content||"");else if(c.type===3)s=document.createElement("b");else if(c.type===4)s=document.createElement("i");else if(c.type===5&&a){const l=document.createElement("a");l.href="#",a.disposeables.add(C.addStandardDisposableListener(l,"click",r=>{a.callback(String(c.index),r)})),s=l}else c.type===7?s=document.createElement("br"):c.type===1&&(s=o);s&&o!==s&&o.appendChild(s),s&&Array.isArray(c.children)&&c.children.forEach(l=>{_(s,l,a)})}function d(o){const c={type:1,children:[]};let a=0,s=c;const l=[],r=new S(o);for(;!r.eos();){let t=r.next();const n=t==="\\"&&p(r.peek())!==0;if(n&&(t=r.next()),!n&&f(t)&&t===r.peek()){r.advance(),s.type===2&&(s=l.pop());const i=p(t);if(s.type===i||s.type===5&&i===6)s=l.pop();else{const u={type:i,children:[]};i===5&&(u.index=a,a++),s.children.push(u),l.push(s),s=u}}else if(t===`
`)s.type===2&&(s=l.pop()),s.children.push({type:7});else if(s.type!==2){const i={type:2,content:t};s.children.push(i),l.push(s),s=i}else s.content+=t}return s.type===2&&(s=l.pop()),l.length,c}function f(o){return p(o)!==0}function p(o){switch(o){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}}),define(Q[89],J([0,1,7,189,50,2]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function S(d,f){let p=new M.StandardMouseEvent(f);return p.preventDefault(),{leftButton:p.leftButton,buttons:p.buttons,posx:p.posx,posy:p.posy}}e.standardMouseMoveMerger=S;class _{constructor(){this._hooks=new y.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(f,p){if(!!this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const o=this._onStopCallback;this._onStopCallback=null,f&&o&&o(p)}}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(f,p,o,c,a){if(!this.isMonitoring()){this._mouseMoveEventMerger=o,this._mouseMoveCallback=c,this._onStopCallback=a;const s=k.IframeUtils.getSameOriginWindowChain(),l="mousemove",r="mouseup",t=s.map(i=>i.window.document),n=C.getShadowRoot(f);n&&t.unshift(n);for(const i of t)this._hooks.add(C.addDisposableThrottledListener(i,l,u=>{if(u.buttons!==p){this.stopMonitoring(!0);return}this._mouseMoveCallback(u)},(u,h)=>this._mouseMoveEventMerger(u,h))),this._hooks.add(C.addDisposableListener(i,r,u=>this.stopMonitoring(!0)));if(k.IframeUtils.hasDifferentOriginAncestor()){let i=s[s.length-1];this._hooks.add(C.addDisposableListener(i.window.document,"mouseout",u=>{new M.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.addDisposableListener(i.window.document,"mouseover",u=>{new M.StandardMouseEvent(u).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.addDisposableListener(i.window.document.body,"mouseleave",u=>{this.stopMonitoring(!0)}))}}}}e.GlobalMouseMoveMonitor=_});var Me=this&&this.__decorate||function(G,e,C,k){var M=arguments.length,y=M<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,C):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(G,e,C,k);else for(var _=G.length-1;_>=0;_--)(S=G[_])&&(y=(M<3?S(y):M>3?S(e,C,y):S(e,C))||y);return M>3&&y&&Object.defineProperty(e,C,y),y};define(Q[59],J([0,1,19,2,7,98]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(d){d.Tap="-monaco-gesturetap",d.Change="-monaco-gesturechange",d.Start="-monaco-gesturestart",d.End="-monaco-gesturesend",d.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class _ extends k.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(M.addDisposableListener(document,"touchstart",f=>this.onTouchStart(f),{passive:!1})),this._register(M.addDisposableListener(document,"touchend",f=>this.onTouchEnd(f))),this._register(M.addDisposableListener(document,"touchmove",f=>this.onTouchMove(f),{passive:!1}))}static addTarget(f){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.targets.push(f),{dispose:()=>{_.INSTANCE.targets=_.INSTANCE.targets.filter(p=>p!==f)}}):k.Disposable.None}static ignoreTarget(f){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.ignoreTargets.push(f),{dispose:()=>{_.INSTANCE.ignoreTargets=_.INSTANCE.ignoreTargets.filter(p=>p!==f)}}):k.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(f){let p=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let o=0,c=f.targetTouches.length;o<c;o++){let a=f.targetTouches.item(o);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:p,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[p],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let s=this.newGestureEvent(S.Start,a.target);s.pageX=a.pageX,s.pageY=a.pageY,this.dispatchEvent(s)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}onTouchEnd(f){let p=Date.now(),o=Object.keys(this.activeTouches).length;for(let c=0,a=f.changedTouches.length;c<a;c++){let s=f.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let l=this.activeTouches[s.identifier],r=Date.now()-l.initialTimeStamp;if(r<_.HOLD_DELAY&&Math.abs(l.initialPageX-C.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-C.tail(l.rollingPageY))<30){let t=this.newGestureEvent(S.Tap,l.initialTarget);t.pageX=C.tail(l.rollingPageX),t.pageY=C.tail(l.rollingPageY),this.dispatchEvent(t)}else if(r>=_.HOLD_DELAY&&Math.abs(l.initialPageX-C.tail(l.rollingPageX))<30&&Math.abs(l.initialPageY-C.tail(l.rollingPageY))<30){let t=this.newGestureEvent(S.Contextmenu,l.initialTarget);t.pageX=C.tail(l.rollingPageX),t.pageY=C.tail(l.rollingPageY),this.dispatchEvent(t)}else if(o===1){let t=C.tail(l.rollingPageX),n=C.tail(l.rollingPageY),i=C.tail(l.rollingTimestamps)-l.rollingTimestamps[0],u=t-l.rollingPageX[0],h=n-l.rollingPageY[0];const v=this.targets.filter(m=>l.initialTarget instanceof Node&&m.contains(l.initialTarget));this.inertia(v,p,Math.abs(u)/i,u>0?1:-1,t,Math.abs(h)/i,h>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(S.End,l.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}newGestureEvent(f,p){let o=document.createEvent("CustomEvent");return o.initEvent(f,!1,!0),o.initialTarget=p,o.tapCount=0,o}dispatchEvent(f){if(f.type===S.Tap){const p=new Date().getTime();let o=0;p-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?o=1:o=2,this._lastSetTapCountTime=p,f.tapCount=o}else(f.type===S.Change||f.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let p=0;p<this.ignoreTargets.length;p++)if(f.initialTarget instanceof Node&&this.ignoreTargets[p].contains(f.initialTarget))return;this.targets.forEach(p=>{f.initialTarget instanceof Node&&p.contains(f.initialTarget)&&(p.dispatchEvent(f),this.dispatched=!0)})}inertia(f,p,o,c,a,s,l,r){this.handle=M.scheduleAtNextAnimationFrame(()=>{let t=Date.now(),n=t-p,i=0,u=0,h=!0;o+=_.SCROLL_FRICTION*n,s+=_.SCROLL_FRICTION*n,o>0&&(h=!1,i=c*o*n),s>0&&(h=!1,u=l*s*n);let v=this.newGestureEvent(S.Change);v.translationX=i,v.translationY=u,f.forEach(m=>m.dispatchEvent(v)),h||this.inertia(f,t,o,c,a+i,s,l,r+u)})}onTouchMove(f){let p=Date.now();for(let o=0,c=f.changedTouches.length;o<c;o++){let a=f.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let s=this.activeTouches[a.identifier],l=this.newGestureEvent(S.Change,s.initialTarget);l.translationX=a.pageX-C.tail(s.rollingPageX),l.translationY=a.pageY-C.tail(s.rollingPageY),l.pageX=a.pageX,l.pageY=a.pageY,this.dispatchEvent(l),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(a.pageX),s.rollingPageY.push(a.pageY),s.rollingTimestamps.push(p)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}}_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Me([y.memoize],_,"isTouchDevice",null),e.Gesture=_}),define(Q[103],J([0,1,7,27]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const M=/(\\)?\$\(([a-z\-]+(?:~[a-z\-]+)?)\)/gi;function y(_){const d=new Array;let f,p=0,o=0;for(;(f=M.exec(_))!==null;){o=f.index||0,d.push(_.substring(p,o)),p=(f.index||0)+f[0].length;const[,c,a]=f;d.push(c?`$(${a})`:S({id:a}))}return p<_.length&&d.push(_.substring(p)),d}e.renderLabelWithIcons=y;function S(_){const d=C.$("span");return d.classList.add(...k.CSSIcon.asClassNameArray(_)),d}e.renderIcon=S}),define(Q[153],J([0,1,39,7,103]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class y{constructor(_,d){this.supportIcons=d,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",_.appendChild(this.domNode)}get element(){return this.domNode}set(_,d=[],f="",p){_||(_=""),p&&(_=y.escapeNewLines(_,d)),!(this.didEverRender&&this.text===_&&this.title===f&&C.equals(this.highlights,d))&&(this.text=_,this.title=f,this.highlights=d,this.render())}render(){const _=[];let d=0;for(const f of this.highlights)if(f.end!==f.start){if(d<f.start){const c=this.text.substring(d,f.start);_.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(c):[c])),d=f.end}const p=this.text.substring(f.start,f.end),o=k.$("span.highlight",void 0,...this.supportIcons?M.renderLabelWithIcons(p):[p]);f.extraClasses&&o.classList.add(f.extraClasses),_.push(o),d=f.end}if(d<this.text.length){const f=this.text.substring(d);_.push(k.$("span",void 0,...this.supportIcons?M.renderLabelWithIcons(f):[f]))}k.reset(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,d){let f=0,p=0;return _.replace(/\r\n|\r|\n/g,(o,c)=>{p=o===`\r
`?-1:0,c+=f;for(const a of d)a.end<=c||(a.start>=c&&(a.start+=p),a.end>=c&&(a.end+=p));return f+=p,"\u23CE"})}}e.HighlightedLabel=y}),define(Q[281],J([0,1,7]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(y){try{y.parentElement&&y.parentElement.removeChild(y)}catch(S){}}class M{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let _=this.getTemplateCache(S).pop();if(!_){const d=C.$(".monaco-list-row"),p=this.getRenderer(S).renderTemplate(d);_={domNode:d,templateId:S,templateData:p}}return _}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:_,templateId:d}=S;_&&(_.classList.remove("scrolling"),k(_)),this.getTemplateCache(d).push(S)}getTemplateCache(S){let _=this.cache.get(S);return _||(_=[],this.cache.set(S,_)),_}dispose(){this.cache.forEach((S,_)=>{for(const d of S)this.getRenderer(_).disposeTemplate(d.templateData),d.templateData=null}),this.cache.clear()}getRenderer(S){const _=this.renderers.get(S);if(!_)throw new Error(`No renderer found for ${S}`);return _}}e.RowCache=M}),define(Q[52],J([0,1,7,56,50,2,59]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class _ extends y.Disposable{onclick(f,p){this._register(C.addDisposableListener(f,C.EventType.CLICK,o=>p(new M.StandardMouseEvent(o))))}onmousedown(f,p){this._register(C.addDisposableListener(f,C.EventType.MOUSE_DOWN,o=>p(new M.StandardMouseEvent(o))))}onmouseover(f,p){this._register(C.addDisposableListener(f,C.EventType.MOUSE_OVER,o=>p(new M.StandardMouseEvent(o))))}onnonbubblingmouseout(f,p){this._register(C.addDisposableNonBubblingMouseOutListener(f,o=>p(new M.StandardMouseEvent(o))))}onkeydown(f,p){this._register(C.addDisposableListener(f,C.EventType.KEY_DOWN,o=>p(new k.StandardKeyboardEvent(o))))}onkeyup(f,p){this._register(C.addDisposableListener(f,C.EventType.KEY_UP,o=>p(new k.StandardKeyboardEvent(o))))}oninput(f,p){this._register(C.addDisposableListener(f,C.EventType.INPUT,p))}onblur(f,p){this._register(C.addDisposableListener(f,C.EventType.BLUR,p))}onfocus(f,p){this._register(C.addDisposableListener(f,C.EventType.FOCUS,p))}ignoreGesture(f){S.Gesture.ignoreTarget(f)}}e.Widget=_}),define(Q[154],J([0,1,89,52,15]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class y extends k.Widget{constructor(_){super();this._onActivate=_.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=_.bgWidth+"px",this.bgDomNode.style.height=_.bgHeight+"px",typeof _.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof _.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof _.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof _.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=_.className,this.domNode.classList.add(..._.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof _.top!="undefined"&&(this.domNode.style.top=_.top+"px"),typeof _.left!="undefined"&&(this.domNode.style.left=_.left+"px"),typeof _.bottom!="undefined"&&(this.domNode.style.bottom=_.bottom+"px"),typeof _.right!="undefined"&&(this.domNode.style.right=_.right+"px"),this._mouseMoveMonitor=this._register(new C.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,d=>this._arrowMouseDown(d)),this.onmousedown(this.domNode,d=>this._arrowMouseDown(d)),this._mousedownRepeatTimer=this._register(new M.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new M.TimeoutTimer)}_arrowMouseDown(_){let d=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(d,200),this._mouseMoveMonitor.startMonitoring(_.target,_.buttons,C.standardMouseMoveMerger,f=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),_.preventDefault()}}e.ScrollbarArrow=y}),define(Q[198],J([0,1,7,30,89,154,277,52,17]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const f=140;class p extends _.Widget{constructor(c){super();this._lazyRender=c.lazyRender,this._host=c.host,this._scrollable=c.scrollable,this._scrollByPage=c.scrollByPage,this._scrollbarState=c.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(c.visibility,"visible scrollbar "+c.extraScrollbarClassName,"invisible scrollbar "+c.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new M.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=k.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,a=>this._domNodeMouseDown(a))}_createArrow(c){let a=this._register(new y.ScrollbarArrow(c));this.domNode.domNode.appendChild(a.bgDomNode),this.domNode.domNode.appendChild(a.domNode)}_createSlider(c,a,s,l){this.slider=k.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(c),this.slider.setLeft(a),typeof s=="number"&&this.slider.setWidth(s),typeof l=="number"&&this.slider.setHeight(l),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,r=>{r.leftButton&&(r.preventDefault(),this._sliderMouseDown(r,()=>{}))}),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(c){return this._scrollbarState.setVisibleSize(c)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(c){return this._scrollbarState.setScrollSize(c)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(c){return this._scrollbarState.setScrollPosition(c)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(c){c.target===this.domNode.domNode&&this._onMouseDown(c)}delegateMouseDown(c){let a=this.domNode.domNode.getClientRects()[0].top,s=a+this._scrollbarState.getSliderPosition(),l=a+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(c);s<=r&&r<=l?c.leftButton&&(c.preventDefault(),this._sliderMouseDown(c,()=>{})):this._onMouseDown(c)}_onMouseDown(c){let a,s;if(c.target===this.domNode.domNode&&typeof c.browserEvent.offsetX=="number"&&typeof c.browserEvent.offsetY=="number")a=c.browserEvent.offsetX,s=c.browserEvent.offsetY;else{const r=C.getDomNodePagePosition(this.domNode.domNode);a=c.posx-r.left,s=c.posy-r.top}const l=this._mouseDownRelativePosition(a,s);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(l):this._scrollbarState.getDesiredScrollPositionFromOffset(l)),c.leftButton&&(c.preventDefault(),this._sliderMouseDown(c,()=>{}))}_sliderMouseDown(c,a){const s=this._sliderMousePosition(c),l=this._sliderOrthogonalMousePosition(c),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,M.standardMouseMoveMerger,t=>{const n=this._sliderOrthogonalMousePosition(t),i=Math.abs(n-l);if(d.isWindows&&i>f){this._setDesiredScrollPositionNow(r.getScrollPosition());return}const h=this._sliderMousePosition(t)-s;this._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),a()}),this._host.onDragStart()}_setDesiredScrollPositionNow(c){let a={};this.writeScrollPosition(a,c),this._scrollable.setScrollPositionNow(a)}updateScrollbarSize(c){this._updateScrollbarSize(c),this._scrollbarState.setScrollbarSize(c),this._shouldRender=!0,this._lazyRender||this.render()}}e.AbstractScrollbar=p}),define(Q[282],J([0,1,50,198,154,190,27]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const _=S.registerCodicon("scrollbar-button-left",S.Codicon.triangleLeft),d=S.registerCodicon("scrollbar-button-right",S.Codicon.triangleRight);class f extends k.AbstractScrollbar{constructor(o,c,a){const s=o.getScrollDimensions(),l=o.getCurrentScrollPosition();super({lazyRender:c.lazyRender,host:a,scrollbarState:new y.ScrollbarState(c.horizontalHasArrows?c.arrowSize:0,c.horizontal===2?0:c.horizontalScrollbarSize,c.vertical===2?0:c.verticalScrollbarSize,s.width,s.scrollWidth,l.scrollLeft),visibility:c.horizontal,extraScrollbarClassName:"horizontal",scrollable:o,scrollByPage:c.scrollByPage});if(c.horizontalHasArrows){let r=(c.arrowSize-M.ARROW_IMG_SIZE)/2,t=(c.horizontalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_,top:t,left:r,bottom:void 0,right:void 0,bgWidth:c.arrowSize,bgHeight:c.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:d,top:t,left:void 0,bottom:void 0,right:r,bgWidth:c.arrowSize,bgHeight:c.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((c.horizontalScrollbarSize-c.horizontalSliderSize)/2),0,void 0,c.horizontalSliderSize)}_updateSlider(o,c){this.slider.setWidth(o),this.slider.setLeft(c)}_renderDomNode(o,c){this.domNode.setWidth(o),this.domNode.setHeight(c),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(o){return this._shouldRender=this._onElementScrollSize(o.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(o.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(o.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(o,c){return o}_sliderMousePosition(o){return o.posx}_sliderOrthogonalMousePosition(o){return o.posy}_updateScrollbarSize(o){this.slider.setHeight(o)}writeScrollPosition(o,c){o.scrollLeft=c}}e.HorizontalScrollbar=f}),define(Q[283],J([0,1,50,198,154,190,27]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const _=S.registerCodicon("scrollbar-button-up",S.Codicon.triangleUp),d=S.registerCodicon("scrollbar-button-down",S.Codicon.triangleDown);class f extends k.AbstractScrollbar{constructor(o,c,a){const s=o.getScrollDimensions(),l=o.getCurrentScrollPosition();super({lazyRender:c.lazyRender,host:a,scrollbarState:new y.ScrollbarState(c.verticalHasArrows?c.arrowSize:0,c.vertical===2?0:c.verticalScrollbarSize,0,s.height,s.scrollHeight,l.scrollTop),visibility:c.vertical,extraScrollbarClassName:"vertical",scrollable:o,scrollByPage:c.scrollByPage});if(c.verticalHasArrows){let r=(c.arrowSize-M.ARROW_IMG_SIZE)/2,t=(c.verticalScrollbarSize-M.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:_,top:r,left:t,bottom:void 0,right:void 0,bgWidth:c.verticalScrollbarSize,bgHeight:c.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:d,top:void 0,left:t,bottom:r,right:void 0,bgWidth:c.verticalScrollbarSize,bgHeight:c.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((c.verticalScrollbarSize-c.verticalSliderSize)/2),c.verticalSliderSize,void 0)}_updateSlider(o,c){this.slider.setHeight(o),this.slider.setTop(c)}_renderDomNode(o,c){this.domNode.setWidth(c),this.domNode.setHeight(o),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(o){return this._shouldRender=this._onElementScrollSize(o.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(o.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(o.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(o,c){return c}_sliderMousePosition(o){return o.posy}_sliderOrthogonalMousePosition(o){return o.posx}_updateScrollbarSize(o){this.slider.setWidth(o)}writeScrollPosition(o,c){o.scrollTop=c}}e.VerticalScrollbar=f}),define(Q[40],J([0,1,194,65,23,8,43,17]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.isEqualAuthority=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function d(o){return M.uriToFsPath(o,!0)}e.originalFSPath=d;class f{constructor(c){this._ignorePathCasing=c}compare(c,a,s=!1){return c===a?0:y.compare(this.getComparisonKey(c,s),this.getComparisonKey(a,s))}isEqual(c,a,s=!1){return c===a?!0:!c||!a?!1:this.getComparisonKey(c,s)===this.getComparisonKey(a,s)}getComparisonKey(c,a=!1){return c.with({path:this._ignorePathCasing(c)?c.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}joinPath(c,...a){return M.URI.joinPath(c,...a)}basenameOrAuthority(c){return e.basename(c)||c.authority}basename(c){return k.posix.basename(c.path)}dirname(c){if(c.path.length===0)return c;let a;return c.scheme===S.Schemas.file?a=M.URI.file(k.dirname(d(c))).path:(a=k.posix.dirname(c.path),c.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${c.toString})) resulted in a relative path`),a="/")),c.with({path:a})}normalizePath(c){if(!c.path.length)return c;let a;return c.scheme===S.Schemas.file?a=M.URI.file(k.normalize(d(c))).path:a=k.posix.normalize(c.path),c.with({path:a})}relativePath(c,a){if(!(c.scheme!==a.scheme||!e.isEqualAuthority(c.authority,a.authority))){if(c.scheme===S.Schemas.file){const r=k.relative(d(c),d(a));return _.isWindows?C.toSlashes(r):r}let s=c.path||"/",l=a.path||"/";if(this._ignorePathCasing(c)){let r=0;for(const t=Math.min(s.length,l.length);r<t&&!(s.charCodeAt(r)!==l.charCodeAt(r)&&s.charAt(r).toLowerCase()!==l.charAt(r).toLowerCase());r++);s=l.substr(0,r)+s.substr(r)}return k.posix.relative(s,l)}}resolvePath(c,a){if(c.scheme===S.Schemas.file){const s=M.URI.file(k.resolve(d(c),a));return c.with({authority:s.authority,path:s.path})}return a.indexOf("/")===-1&&(a=C.toSlashes(a),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a)),c.with({path:k.posix.resolve(c.path,a)})}isEqualAuthority(c,a){return c===a||y.equalsIgnoreCase(c,a)}}e.ExtUri=f,e.extUri=new f(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri);var p;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function c(a){const s=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(t=>{const[n,i]=t.split(":");n&&i&&s.set(n,i)});const r=a.path.substring(0,a.path.indexOf(";"));return r&&s.set(o.META_DATA_MIME,r),s}o.parseMetaData=c})(p=e.DataUri||(e.DataUri={}))}),define(Q[284],J([0,1,7,152,11,82,99,669,670,197,39,8,23,43,102,40,50,103,4,55]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(u=window.trustedTypes)===null||u===void 0?void 0:u.createPolicy("insane",{createHTML(b,w){return d.insane(b,w)}});function v(b,w={},L={}){var E;const N=k.createElement(w),I=function(A){let W;try{W=f.parse(decodeURIComponent(A))}catch(V){}return W?(W=p.cloneAndChange(W,V=>{if(b.uris&&b.uris[V])return c.URI.revive(b.uris[V])}),encodeURIComponent(JSON.stringify(W))):A},T=function(A,W){const V=b.uris&&b.uris[A];if(!V)return A;let K=c.URI.revive(V);return c.URI.parse(A).toString()===K.toString()?A:W?a.FileAccess.asBrowserUri(K).toString(!0):(K.query&&(K=K.with({query:I(K.query)})),K.toString())};let O;const R=new Promise(A=>O=A),F=new _.Renderer;F.image=(A,W,V)=>{let K=[],j=[];if(A){({href:A,dimensions:K}=y.parseHrefAndDimensions(A)),A=T(A,!0);try{const ee=c.URI.parse(A);w.baseUrl&&ee.scheme===a.Schemas.file&&(A=l.resolvePath(w.baseUrl,A).toString())}catch(ee){}j.push(`src="${A}"`)}return V&&j.push(`alt="${V}"`),W&&j.push(`title="${W}"`),K.length&&(j=j.concat(K)),"<img "+j.join(" ")+">"},F.link=(A,W,V)=>(A===V&&(V=y.removeMarkdownEscapes(V)),A=T(A,!1),w.baseUrl&&(/^\w[\w\d+.-]*:/.test(A)||(A=l.resolvePath(w.baseUrl,A).toString())),W=y.removeMarkdownEscapes(W),A=y.removeMarkdownEscapes(A),!A||A.match(/^data:|javascript:/i)||A.match(/^command:/i)&&!b.isTrusted||A.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?V:(A=A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${A}" title="${W||A}">${V}</a>`)),F.paragraph=A=>(b.supportThemeIcons&&(A=t.renderLabelWithIcons(A).map(V=>typeof V=="string"?V:V.outerHTML).join("")),`<p>${A}</p>`),w.codeBlockRenderer&&(F.code=(A,W)=>{const V=w.codeBlockRenderer(W,A),K=S.defaultGenerator.nextId(),j=Promise.all([V,R]).then(ee=>{const re=N.querySelector(`div[data-code="${K}"]`);re&&C.reset(re,ee[0])}).catch(ee=>{});return w.asyncRenderCallback&&j.then(w.asyncRenderCallback),`<div class="code" data-code="${K}">${o.escape(A)}</div>`}),w.actionHandler&&w.actionHandler.disposeables.add(n.Event.any(i.domEvent(N,"click"),i.domEvent(N,"auxclick"))(A=>{const W=new r.StandardMouseEvent(A);if(!(!W.leftButton&&!W.middleButton)){let V=W.target;if(!(V.tagName!=="A"&&(V=V.parentElement,!V||V.tagName!=="A")))try{const K=V.dataset.href;K&&w.actionHandler.callback(K,W)}catch(K){M.onUnexpectedError(K)}finally{W.preventDefault()}}})),L.sanitizer=A=>(b.isTrusted?A.match(/^(<span[^<]+>)|(<\/\s*span>)$/):void 0)?A:"",L.sanitize=!0,L.silent=!0,L.renderer=F;let D=(E=b.value)!==null&&E!==void 0?E:"";D.length>1e5&&(D=`${D.substr(0,1e5)}\u2026`),b.supportThemeIcons&&(D=s.markdownEscapeEscapedIcons(D));const B=_.parse(D,L);if(N.innerHTML=m(b,B),O(),w.asyncRenderCallback)for(const A of N.getElementsByTagName("img")){const W=C.addDisposableListener(A,"load",()=>{W.dispose(),w.asyncRenderCallback()})}return N}e.renderMarkdown=v;function m(b,w){var L;const E=g(b);return(L=h==null?void 0:h.createHTML(w,E))!==null&&L!==void 0?L:d.insane(w,E)}function g(b){const w=[a.Schemas.http,a.Schemas.https,a.Schemas.mailto,a.Schemas.data,a.Schemas.file,a.Schemas.vscodeRemote,a.Schemas.vscodeRemoteResource];return b.isTrusted&&w.push(a.Schemas.command),{allowedSchemes:w,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(L){return L.tag==="span"&&b.isTrusted?L.attrs.style&&Object.keys(L.attrs).length===1?!!L.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):L.attrs.class?!!L.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(Q[155],J([0,1,23,65,8,43,17,40]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tildify=e.normalizeDriveLetter=e.getBaseLabel=e.getPathLabel=void 0;function d(s,l,r){if(typeof s=="string"&&(s=C.URI.file(s)),r){const n=r.getWorkspaceFolder(s);if(n){const i=r.getWorkspace().folders.length>1;let u;if(_.isEqual(n.uri,s)?u="":u=_.relativePath(n.uri,s),i){const h=n.name?n.name:_.basename(n.uri);u=u?h+" \u2022 "+u:h}return u}}if(s.scheme!==y.Schemas.file&&s.scheme!==y.Schemas.untitled)return s.with({query:null,fragment:null}).toString(!0);if(p(s.fsPath))return k.normalize(o(s.fsPath));let t=k.normalize(s.fsPath);return!S.isWindows&&(l==null?void 0:l.userHome)&&(t=a(t,l.userHome.fsPath)),t}e.getPathLabel=d;function f(s){if(!!s){typeof s=="string"&&(s=C.URI.file(s));const l=_.basename(s)||(s.scheme===y.Schemas.file?s.fsPath:s.path);return p(l)?o(l):l}}e.getBaseLabel=f;function p(s){return!!(S.isWindows&&s&&s[1]===":")}function o(s){return p(s)?s.charAt(0).toUpperCase()+s.slice(1):s}e.normalizeDriveLetter=o;let c=Object.create(null);function a(s,l){if(S.isWindows||!s||!l)return s;let r=c.original===l?c.normalized:void 0;return r||(r=`${M.rtrim(l,k.posix.sep)}${k.posix.sep}`,c={original:l,normalized:r}),(S.isLinux?s.startsWith(r):M.startsWithIgnoreCase(s,r))&&(s=`~/${s.substr(r.length)}`),s}e.tildify=a}),define(Q[285],J([0,1,65,8,196,43,40]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.MIME_UNKNOWN=e.MIME_TEXT=void 0,e.MIME_TEXT="text/plain",e.MIME_UNKNOWN="application/unknown";let _=[],d=[],f=[];function p(l,r=!1){const t=o(l);_.push(t),t.userConfigured?f.push(t):d.push(t),r&&!t.userConfigured&&_.forEach(n=>{n.mime===t.mime||n.userConfigured||(t.extension&&n.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&n.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&n.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&n.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}e.registerTextMime=p;function o(l){return{id:l.id,mime:l.mime,filename:l.filename,extension:l.extension,filepattern:l.filepattern,firstline:l.firstline,userConfigured:l.userConfigured,filenameLowercase:l.filename?l.filename.toLowerCase():void 0,extensionLowercase:l.extension?l.extension.toLowerCase():void 0,filepatternLowercase:l.filepattern?l.filepattern.toLowerCase():void 0,filepatternOnPath:l.filepattern?l.filepattern.indexOf(C.posix.sep)>=0:!1}}function c(l,r){let t;if(l)switch(l.scheme){case y.Schemas.file:t=l.fsPath;break;case y.Schemas.data:t=S.DataUri.parseMetaData(l).get(S.DataUri.META_DATA_LABEL);break;default:t=l.path}if(!t)return[e.MIME_UNKNOWN];t=t.toLowerCase();const n=C.basename(t),i=a(t,n,f);if(i)return[i,e.MIME_TEXT];const u=a(t,n,d);if(u)return[u,e.MIME_TEXT];if(r){const h=s(r);if(h)return[h,e.MIME_TEXT]}return[e.MIME_UNKNOWN]}e.guessMimeTypes=c;function a(l,r,t){let n=null,i=null,u=null;for(let h=t.length-1;h>=0;h--){const v=t[h];if(r===v.filenameLowercase){n=v;break}if(v.filepattern&&(!i||v.filepattern.length>i.filepattern.length)){const m=v.filepatternOnPath?l:r;M.match(v.filepatternLowercase,m)&&(i=v)}v.extension&&(!u||v.extension.length>u.extension.length)&&r.endsWith(v.extensionLowercase)&&(u=v)}return n?n.mime:i?i.mime:u?u.mime:null}function s(l){if(k.startsWithUTF8BOM(l)&&(l=l.substr(1)),l.length>0)for(let r=_.length-1;r>=0;r--){const t=_[r];if(!!t.firstline){const n=l.match(t.firstline);if(n&&n.length>0)return t.mime}}return null}}),define(Q[286],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const C=new Uint8Array(16),k=[];for(let S=0;S<256;S++)k.push(S.toString(16).padStart(2,"0"));const M=function(S){for(let _=0;_<S.length;_++)S[_]=Math.floor(Math.random()*256);return S};function y(){M(C),C[6]=C[6]&15|64,C[8]=C[8]&63|128;let S=0,_="";return _+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_+="-",_+=k[C[S++]],_+=k[C[S++]],_+="-",_+=k[C[S++]],_+=k[C[S++]],_+="-",_+=k[C[S++]],_+=k[C[S++]],_+="-",_+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_+=k[C[S++]],_}e.generateUuid=y}),define(Q[199],J([0,1,11,2,17,21]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let _=!1;function d(a){!M.isWeb||(_||(_=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(a.message))}e.logOnceWebWorkerWarning=d;class f{constructor(s){this._workerId=-1,this._handler=s,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(s){this._workerId=s}sendMessage(s,l){let r=String(++this._lastSentReq);return new Promise((t,n)=>{this._pendingReplies[r]={resolve:t,reject:n},this._send({vsWorker:this._workerId,req:r,method:s,args:l})})}handleMessage(s){!s||!s.vsWorker||this._workerId!==-1&&s.vsWorker!==this._workerId||this._handleMessage(s)}_handleMessage(s){if(s.seq){let n=s;if(!this._pendingReplies[n.seq]){console.warn("Got reply to unknown seq");return}let i=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){let u=n.err;n.err.$isError&&(u=new Error,u.name=n.err.name,u.message=n.err.message,u.stack=n.err.stack),i.reject(u);return}i.resolve(n.res);return}let l=s,r=l.req;this._handler.handleMessage(l.method,l.args).then(n=>{this._send({vsWorker:this._workerId,seq:r,res:n,err:void 0})},n=>{n.detail instanceof Error&&(n.detail=C.transformErrorForSerialization(n.detail)),this._send({vsWorker:this._workerId,seq:r,res:void 0,err:C.transformErrorForSerialization(n)})})}_send(s){let l=[];if(s.req){const r=s;for(let t=0;t<r.args.length;t++)r.args[t]instanceof ArrayBuffer&&l.push(r.args[t])}else{const r=s;r.res instanceof ArrayBuffer&&l.push(r.res)}this._handler.sendMessage(s,l)}}class p extends k.Disposable{constructor(s,l,r){super();let t=null;this._worker=this._register(s.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{t&&t(h)})),this._protocol=new f({sendMessage:(h,v)=>{this._worker.postMessage(h,v)},handleMessage:(h,v)=>{if(typeof r[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(r[h].apply(r,v))}catch(m){return Promise.reject(m)}}}),this._protocol.setWorkerId(this._worker.getId());let n=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?n=self.require.getConfig():typeof self.requirejs!="undefined"&&(n=self.requirejs.s.contexts._.config);const i=y.getAllMethodNames(r);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(n)),l,i]);const u=(h,v)=>this._request(h,v);this._lazyProxy=new Promise((h,v)=>{t=v,this._onModuleLoaded.then(m=>{h(y.createProxyObject(m,u))},m=>{v(m),this._onError("Worker failed to load "+l,m)})})}getProxyObject(){return this._lazyProxy}_request(s,l){return new Promise((r,t)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(s,l).then(r,t)},t)})}_onError(s,l){console.error(s),console.info(l)}}e.SimpleWorkerClient=p;class o{constructor(s,l){this._requestHandlerFactory=l,this._requestHandler=null,this._protocol=new f({sendMessage:(r,t)=>{s(r,t)},handleMessage:(r,t)=>this._handleMessage(r,t)})}onmessage(s){this._protocol.handleMessage(s)}_handleMessage(s,l){if(s===S)return this.initialize(l[0],l[1],l[2],l[3]);if(!this._requestHandler||typeof this._requestHandler[s]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+s));try{return Promise.resolve(this._requestHandler[s].apply(this._requestHandler,l))}catch(r){return Promise.reject(r)}}initialize(s,l,r,t){this._protocol.setWorkerId(s);const n=(u,h)=>this._protocol.sendMessage(u,h),i=y.createProxyObject(t,n);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(i),Promise.resolve(y.getAllMethodNames(this._requestHandler))):(l&&(typeof l.baseUrl!="undefined"&&delete l.baseUrl,typeof l.paths!="undefined"&&typeof l.paths.vs!="undefined"&&delete l.paths.vs,typeof l.trustedTypesPolicy!==void 0&&delete l.trustedTypesPolicy,l.catchError=!0,self.require.config(l)),new Promise((u,h)=>{self.require([r],v=>{if(this._requestHandler=v.create(i),!this._requestHandler){h(new Error("No RequestHandler!"));return}u(y.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=o;function c(a){return new o(a,null)}e.create=c}),define(Q[200],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var C;(function(k){k[k.NONE=0]="NONE",k[k.FIRST=1]="FIRST",k[k.SECOND=2]="SECOND",k[k.LAST=3]="LAST"})(C=e.ItemActivation||(e.ItemActivation={}))}),define(Q[287],J([0,1,17,199]),function(G,e,C,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const y=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("defaultWorkerFactory",{createScriptURL:o=>o});function S(o,c){if(C.globals.MonacoEnvironment){if(typeof C.globals.MonacoEnvironment.getWorker=="function")return C.globals.MonacoEnvironment.getWorker(o,c);if(typeof C.globals.MonacoEnvironment.getWorkerUrl=="function"){const a=C.globals.MonacoEnvironment.getWorkerUrl(o,c);return new Worker(y?y.createScriptURL(a):a,{name:c})}}if(typeof G=="function"){const a=G.toUrl("./"+o),s=_(a,c);return new Worker(y?y.createScriptURL(s):s,{name:c})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(o,c,a=!1){if(a||/^((http:)|(https:)|(file:))/.test(o)){const s=String(window.location),l=s.substr(0,s.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(a||o.substring(0,l.length)!==l){const r="vs/base/worker/defaultWorkerFactory.js",t=G.toUrl(r).slice(0,-r.length),n=`/*${c}*/self.MonacoEnvironment={baseUrl: '${t}'};importScripts('${o}');/*${c}*/`;if(a)return`data:text/javascript;charset=utf-8,${encodeURIComponent(n)}`;const i=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(i)}}return o+"#"+c}e.getWorkerBootstrapUrl=_;function d(o){return typeof o.then=="function"}class f{constructor(c,a,s,l,r){this.id=a;const t=S("workerMain.js",s);d(t)?this.worker=t:this.worker=Promise.resolve(t),this.postMessage(c,[]),this.worker.then(n=>{n.onmessage=function(i){l(i.data)},n.onmessageerror=r,typeof n.addEventListener=="function"&&n.addEventListener("error",r)})}getId(){return this.id}postMessage(c,a){this.worker&&this.worker.then(s=>s.postMessage(c,a))}dispose(){this.worker&&this.worker.then(c=>c.terminate()),this.worker=null}}class p{constructor(c){this._label=c,this._webWorkerFailedBeforeError=!1}create(c,a,s){let l=++p.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new f(c,l,this._label||"anonymous"+l,a,r=>{k.logOnceWebWorkerWarning(r),this._webWorkerFailedBeforeError=r,s(r)})}}e.DefaultWorkerFactory=p,p.LAST_WORKER_ID=0}),define(Q[201],J([10]),{}),define(Q[288],J([10]),{}),define(Q[47],J([0,1,17,7,288]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const M=2e4;let y,S,_,d,f;function p(s){y=document.createElement("div"),y.className="monaco-aria-container";const l=()=>{const t=document.createElement("div");return t.className="monaco-alert",t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),y.appendChild(t),t};S=l(),_=l();const r=()=>{const t=document.createElement("div");return t.className="monaco-status",t.setAttribute("role","complementary"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),y.appendChild(t),t};d=r(),f=r(),s.appendChild(y)}e.setARIAContainer=p;function o(s){!y||(S.textContent!==s?(k.clearNode(_),a(S,s)):(k.clearNode(S),a(_,s)))}e.alert=o;function c(s){!y||(C.isMacintosh?o(s):d.textContent!==s?(k.clearNode(f),a(d,s)):(k.clearNode(d),a(f,s)))}e.status=c;function a(s,l){k.clearNode(s),l.length>M&&(l=l.substr(0,M)),s.textContent=l,s.style.visibility="hidden",s.style.visibility="visible"}}),define(Q[289],J([10]),{}),define(Q[290],J([0,1,56,29,39,4,2,59,103,7,289]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const p={buttonBackground:k.Color.fromHex("#0E639C"),buttonHoverBackground:k.Color.fromHex("#006BB3"),buttonForeground:k.Color.white};class o extends S.Disposable{constructor(a,s){super();this._onDidClick=this._register(new y.Emitter),this.options=s||Object.create(null),M.mixin(this.options,p,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),a.appendChild(this._element),this._register(_.Gesture.addTarget(this._element)),[f.EventType.CLICK,_.EventType.Tap].forEach(l=>{this._register(f.addDisposableListener(this._element,l,r=>{if(!this.enabled){f.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register(f.addDisposableListener(this._element,f.EventType.KEY_DOWN,l=>{const r=new C.StandardKeyboardEvent(l);let t=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(l),t=!0):r.equals(9)&&(this._element.blur(),t=!0),t&&f.EventHelper.stop(r,!0)})),this._register(f.addDisposableListener(this._element,f.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(f.addDisposableListener(this._element,f.EventType.MOUSE_OUT,l=>{this.applyStyles()})),this.focusTracker=this._register(f.trackFocus(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let a;this.options.secondary?a=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:a=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,a&&(this._element.style.backgroundColor=a)}style(a){this.buttonForeground=a.buttonForeground,this.buttonBackground=a.buttonBackground,this.buttonHoverBackground=a.buttonHoverBackground,this.buttonSecondaryForeground=a.buttonSecondaryForeground,this.buttonSecondaryBackground=a.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=a.buttonSecondaryHoverBackground,this.buttonBorder=a.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let a,s;this.options.secondary?(s=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",a=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(s=this.buttonForeground?this.buttonForeground.toString():"",a=this.buttonBackground?this.buttonBackground.toString():"");const l=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=s,this._element.style.backgroundColor=a,this._element.style.borderWidth=l?"1px":"",this._element.style.borderStyle=l?"solid":"",this._element.style.borderColor=l}}get element(){return this._element}set label(a){this._element.classList.add("monaco-text-button"),this.options.supportIcons?f.reset(this._element,...d.renderLabelWithIcons(a)):this._element.textContent=a,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=a)}set enabled(a){a?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)),f.removeTabIndexAndUpdateFocus(this._element))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=o}),define(Q[291],J([10]),{}),define(Q[156],J([0,1,7,52,29,4,27,291]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const _={inputActiveOptionBorder:M.Color.fromHex("#007ACC00"),inputActiveOptionForeground:M.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:M.Color.fromHex("#0E639C50")};class d extends k.Widget{constructor(p){super();this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},_),p),this._checked=this._opts.isChecked;const o=["monaco-custom-checkbox"];this._opts.icon&&o.push(...S.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&o.push(...this._opts.actionClassName.split(" ")),this._checked&&o.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...o),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,c=>{this.checked=!this._checked,this._onChange.fire(!1),c.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,c=>{if(c.keyCode===10||c.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),c.preventDefault();return}this._onKeyDown.fire(c)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(p){this._checked=p,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(p){p.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=p.inputActiveOptionBorder),p.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=p.inputActiveOptionForeground),p.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=p.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))}disable(){C.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=d}),define(Q[292],J([10]),{}),define(Q[293],J([10]),{}),define(Q[157],J([0,1,27,292,293]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function k(M){let y=M.definition;for(;y instanceof C.Codicon;)y=y.definition;return`.codicon-${M.id}:before { content: '${y.character}'; }`}e.formatRule=k}),define(Q[294],J([10]),{}),define(Q[202],J([0,1,7,17,2,117,118,294]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var _;(function(o){o[o.AVOID=0]="AVOID",o[o.ALIGN=1]="ALIGN"})(_=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function d(o,c,a){const s=a.mode===_.ALIGN?a.offset:a.offset+a.size,l=a.mode===_.ALIGN?a.offset+a.size:a.offset;return a.position===0?c<=o-s?s:c<=l?l-c:Math.max(o-c,0):c<=l?l-c:c<=o-s?s:0}e.layout=d;class f extends M.Disposable{constructor(c,a){super();this.container=null,this.delegate=null,this.toDisposeOnClean=M.Disposable.None,this.toDisposeOnSetContainer=M.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=C.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,C.hide(this.view),this.setContainer(c,a),this._register(M.toDisposable(()=>this.setContainer(null,1)))}setContainer(c,a){var s;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(s=this.shadowRootHostElement)===null||s===void 0||s.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),c){if(this.container=c,this.useFixedPosition=a!==1,this.useShadowDOM=a===3,this.useShadowDOM){this.shadowRootHostElement=C.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=p,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(C.$("slot"))}else this.container.appendChild(this.view);const l=new M.DisposableStore;f.BUBBLE_UP_EVENTS.forEach(r=>{l.add(C.addStandardDisposableListener(this.container,r,t=>{this.onDOMEvent(t,!1)}))}),f.BUBBLE_DOWN_EVENTS.forEach(r=>{l.add(C.addStandardDisposableListener(this.container,r,t=>{this.onDOMEvent(t,!0)},!0))}),this.toDisposeOnSetContainer=l}}show(c){this.isVisible()&&this.hide(),C.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",C.show(this.view),this.toDisposeOnClean=c.render(this.view)||M.Disposable.None,this.delegate=c,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(k.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!!this.isVisible()){let c=this.delegate.getAnchor(),a;if(C.isHTMLElement(c)){let v=C.getDomNodePagePosition(c);a={top:v.top,left:v.left,width:v.width,height:v.height}}else a={top:c.y,left:c.x,width:c.width||1,height:c.height||2};const s=C.getTotalWidth(this.view),l=C.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,t=this.delegate.anchorAlignment||0,n=this.delegate.anchorAxisAlignment||0;let i,u;if(n===0){const v={offset:a.top-window.pageYOffset,size:a.height,position:r===0?0:1},m={offset:a.left,size:a.width,position:t===0?0:1,mode:_.ALIGN};i=d(window.innerHeight,l,v)+window.pageYOffset,y.Range.intersects({start:i,end:i+l},{start:v.offset,end:v.offset+v.size})&&(m.mode=_.AVOID),u=d(window.innerWidth,s,m)}else{const v={offset:a.left,size:a.width,position:t===0?0:1},m={offset:a.top,size:a.height,position:r===0?0:1,mode:_.ALIGN};u=d(window.innerWidth,s,v),y.Range.intersects({start:u,end:u+s},{start:v.offset,end:v.offset+v.size})&&(m.mode=_.AVOID),i=d(window.innerHeight,l,m)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(t===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=C.getDomNodePagePosition(this.container);this.view.style.top=`${i-(this.useFixedPosition?C.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${u-(this.useFixedPosition?C.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}}hide(c){const a=this.delegate;this.delegate=null,(a==null?void 0:a.onHide)&&a.onHide(c),this.toDisposeOnClean.dispose(),C.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(c,a){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(c,document.activeElement):a&&!C.isAncestor(c.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=f,f.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],f.BUBBLE_DOWN_EVENTS=["click"];let p=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(Q[295],J([10]),{}),define(Q[203],J([0,1,7,8,29,39,295]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:M.Color.fromHex("#4D4D4D"),badgeForeground:M.Color.fromHex("#FFFFFF")};class _{constructor(f,p){this.count=0,this.options=p||Object.create(null),y.mixin(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=C.append(f,C.$(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(f){this.count=f,this.render()}setTitleFormat(f){this.titleFormat=f,this.render()}render(){this.element.textContent=k.format(this.countFormat,this.count),this.element.title=k.format(this.titleFormat,this.count),this.applyStyles()}style(f){this.badgeBackground=f.badgeBackground,this.badgeForeground=f.badgeForeground,this.badgeBorder=f.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const f=this.badgeBackground?this.badgeBackground.toString():"",p=this.badgeForeground?this.badgeForeground.toString():"",o=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=f,this.element.style.color=p,this.element.style.borderWidth=o?"1px":"",this.element.style.borderStyle=o?"solid":"",this.element.style.borderColor=o}}}e.CountBadge=_}),define(Q[204],J([10]),{}),define(Q[205],J([10]),{}),define(Q[296],J([10]),{}),define(Q[297],J([10]),{}),define(Q[298],J([10]),{}),define(Q[299],J([10]),{}),define(Q[206],J([10]),{}),define(Q[300],J([10]),{}),define(Q[122],J([0,1,300]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(Q[301],J([10]),{}),define(Q[302],J([0,1,2,29,39,7,15,301]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const _="done",d="active",f="infinite",p="discrete",o={progressBarBackground:k.Color.fromHex("#0E70C0")};class c extends C.Disposable{constructor(s,l){super();this.options=l||Object.create(null),M.mixin(this.options,o,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>y.show(this.element),0)),this.create(s)}create(s){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(d,f,p),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(_),this.element.classList.contains(f)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(p,_),this.element.classList.add(d,f),this}getContainer(){return this.element}style(s){this.progressBarBackground=s.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const s=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=s}}}e.ProgressBar=c}),define(Q[303],J([10]),{}),define(Q[104],J([0,1,2,17,21,59,50,4,7,55,303]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const p=!1;var o;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(o=e.OrthogonalEdge||(e.OrthogonalEdge={}));let c=4;const a=new _.Emitter;class s extends C.Disposable{constructor(r,t,n){super();this._state=3,this._onDidEnablementChange=this._register(new _.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new _.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new _.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new _.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new C.DisposableStore),this.orthogonalEndSashDisposables=this._register(new C.DisposableStore),this.el=d.append(r,d.$(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),k.isMacintosh&&this.el.classList.add("mac"),this._register(f.domEvent(this.el,"mousedown")(this.onMouseDown,this)),this._register(f.domEvent(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(y.Gesture.addTarget(this.el)),this._register(f.domEvent(this.el,y.EventType.Start)(this.onTouchStart,this)),typeof n.size=="number"?(this.size=n.size,n.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=c,this._register(a.event(i=>{this.size=i,this.layout()}))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}get state(){return this._state}set state(r){this._state!==r&&(this.el.classList.toggle("disabled",r===0),this.el.classList.toggle("minimum",r===1),this.el.classList.toggle("maximum",r===2),this._state=r,this._onDidEnablementChange.fire(r))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(r){this.orthogonalStartSashDisposables.clear(),r?(this.orthogonalStartSashDisposables.add(r.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(r.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=r}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(r){this.orthogonalEndSashDisposables.clear(),r?(this.orthogonalEndSashDisposables.add(r.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(r.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=r}onMouseDown(r){d.EventHelper.stop(r,!1);let t=!1;if(!r.__orthogonalSashEvent){const N=this.getOrthogonalSash(r);N&&(t=!0,r.__orthogonalSashEvent=!0,N.onMouseDown(r))}if(this.linkedSash&&!r.__linkedSashEvent&&(r.__linkedSashEvent=!0,this.linkedSash.onMouseDown(r)),!!this.state){const n=[...d.getElementsByTagName("iframe"),...d.getElementsByTagName("webview")];for(const N of n)N.style.pointerEvents="none";const i=new S.StandardMouseEvent(r),u=i.posx,h=i.posy,v=i.altKey,m={startX:u,currentX:u,startY:h,currentY:h,altKey:v};this.el.classList.add("active"),this._onDidStart.fire(m);const g=d.createStyleSheet(this.el),b=()=>{let N="";t?N="all-scroll":this.orientation===1?this.state===1?N="s-resize":this.state===2?N="n-resize":N=k.isMacintosh?"row-resize":"ns-resize":this.state===1?N="e-resize":this.state===2?N="w-resize":N=k.isMacintosh?"col-resize":"ew-resize",g.textContent=`* { cursor: ${N} !important; }`},w=new C.DisposableStore;b(),t||this.onDidEnablementChange(b,null,w);const L=N=>{d.EventHelper.stop(N,!1);const I=new S.StandardMouseEvent(N),T={startX:u,currentX:I.posx,startY:h,currentY:I.posy,altKey:v};this._onDidChange.fire(T)},E=N=>{d.EventHelper.stop(N,!1),this.el.removeChild(g),this.el.classList.remove("active"),this._onDidEnd.fire(),w.dispose();for(const I of n)I.style.pointerEvents="auto"};f.domEvent(window,"mousemove")(L,null,w),f.domEvent(window,"mouseup")(E,null,w)}}onMouseDoubleClick(r){const t=this.getOrthogonalSash(r);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(r){d.EventHelper.stop(r);const t=[],n=r.pageX,i=r.pageY,u=r.altKey;this._onDidStart.fire({startX:n,currentX:n,startY:i,currentY:i,altKey:u}),t.push(d.addDisposableListener(this.el,y.EventType.Change,h=>{M.isNumber(h.pageX)&&M.isNumber(h.pageY)&&this._onDidChange.fire({startX:n,currentX:h.pageX,startY:i,currentY:h.pageY,altKey:u})})),t.push(d.addDisposableListener(this.el,y.EventType.End,h=>{this._onDidEnd.fire(),C.dispose(t)}))}layout(){if(this.orientation===0){const r=this.layoutProvider;this.el.style.left=r.getVerticalSashLeft(this)-this.size/2+"px",r.getVerticalSashTop&&(this.el.style.top=r.getVerticalSashTop(this)+"px"),r.getVerticalSashHeight&&(this.el.style.height=r.getVerticalSashHeight(this)+"px")}else{const r=this.layoutProvider;this.el.style.top=r.getHorizontalSashTop(this)-this.size/2+"px",r.getHorizontalSashLeft&&(this.el.style.left=r.getHorizontalSashLeft(this)+"px"),r.getHorizontalSashWidth&&(this.el.style.width=r.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}onOrthogonalStartSashEnablementChange(r){this.el.classList.toggle("orthogonal-start",r!==0)}onOrthogonalEndSashEnablementChange(r){this.el.classList.toggle("orthogonal-end",r!==0)}getOrthogonalSash(r){if(this.orientation===0){if(r.offsetY<=this.size)return this.orthogonalStartSash;if(r.offsetY>=this.el.clientHeight-this.size)return this.orthogonalEndSash}else{if(r.offsetX<=this.size)return this.orthogonalStartSash;if(r.offsetX>=this.el.clientWidth-this.size)return this.orthogonalEndSash}}dispose(){super.dispose(),this.el.remove()}}e.Sash=s}),define(Q[304],J([10]),{}),define(Q[60],J([0,1,7,30,50,282,283,52,15,4,2,17,119,34,304]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const s=500,l=50,r=!0;class t{constructor(b,w,L){this.timestamp=b,this.deltaX=w,this.deltaY=L,this.score=0}}class n{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,w=0,L=1,E=this._rear;do{const N=E===this._front?b:Math.pow(2,-L);if(b-=N,w+=this._memory[E].score*N,E===this._front)break;E=(this._capacity+E-1)%this._capacity,L++}while(!0);return w<=.5}accept(b,w,L){const E=new t(b,w,L);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(b){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let w=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(w+=.25),Math.min(Math.max(w,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}e.MouseWheelClassifier=n,n.INSTANCE=new n;class i extends _.Widget{constructor(b,w,L){super();this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new f.Emitter),b.style.overflow="hidden",this._options=m(w),this._scrollable=L,this._register(this._scrollable.onScroll(N=>{this._onWillScroll.fire(N),this._onDidScroll(N),this._onScroll.fire(N)}));let E={onMouseWheel:N=>this._onMouseWheel(N),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=k.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,N=>this._onMouseOver(N)),this.onnonbubblingmouseout(this._listenOnDomNode,N=>this._onMouseOut(N)),this._hideTimeout=this._register(new d.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=p.dispose(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(b){this._verticalScrollbar.delegateMouseDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,o.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontalScrollbarSize!="undefined"&&this._horizontalScrollbar.updateScrollbarSize(b.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=p.dispose(this._mouseWheelToDispose),b)){let L=E=>{this._onMouseWheel(new M.StandardWheelEvent(E))};this._mouseWheelToDispose.push(C.addDisposableListener(this._listenOnDomNode,C.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(b){const w=n.INSTANCE;if(r){const E=window.devicePixelRatio/a.getZoomFactor();o.isWindows||o.isLinux?w.accept(Date.now(),b.deltaX/E,b.deltaY/E):w.accept(Date.now(),b.deltaX,b.deltaY)}let L=!1;if(b.deltaY||b.deltaX){let E=b.deltaY*this._options.mouseWheelScrollSensitivity,N=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(E)>=Math.abs(N)?N=0:E=0),this._options.flipAxes&&([E,N]=[N,E]);const I=!o.isMacintosh&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||I)&&!N&&(N=E,E=0),b.browserEvent&&b.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,E=E*this._options.fastScrollSensitivity);const T=this._scrollable.getFutureScrollPosition();let O={};if(E){const R=T.scrollTop-l*E;this._verticalScrollbar.writeScrollPosition(O,R)}if(N){const R=T.scrollLeft-l*N;this._horizontalScrollbar.writeScrollPosition(O,R)}O=this._scrollable.validateScrollPosition(O),(T.scrollLeft!==O.scrollLeft||T.scrollTop!==O.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&w.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),L=!0)}(this._options.alwaysConsumeMouseWheel||L)&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition();let w=b.scrollTop>0,L=b.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(L?" left":"")),this._topShadowDomNode.setClassName("shadow"+(w?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(w?" top":"")+(L?" left":""))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),s)}}e.AbstractScrollableElement=i;class u extends i{constructor(b,w){w=w||{},w.mouseWheelSmoothScroll=!1;const L=new c.Scrollable(0,E=>C.scheduleAtNextAnimationFrame(E));super(b,w,L);this._register(L)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}}e.ScrollableElement=u;class h extends i{constructor(b,w,L){super(b,w,L)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class v extends u{constructor(b,w){super(b,w);this._element=b,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=v;function m(g){let b={lazyRender:typeof g.lazyRender!="undefined"?g.lazyRender:!1,className:typeof g.className!="undefined"?g.className:"",useShadows:typeof g.useShadows!="undefined"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel!="undefined"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes!="undefined"?g.flipAxes:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel!="undefined"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX!="undefined"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity!="undefined"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity!="undefined"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis!="undefined"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll!="undefined"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize!="undefined"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode!="undefined"?g.listenOnDomNode:null,horizontal:typeof g.horizontal!="undefined"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize!="undefined"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows!="undefined"?g.horizontalHasArrows:!1,vertical:typeof g.vertical!="undefined"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize!="undefined"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows!="undefined"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage!="undefined"?g.scrollByPage:!1};return b.horizontalSliderSize=typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:b.verticalScrollbarSize,o.isMacintosh&&(b.className+=" mac"),b}}),define(Q[207],J([0,1,7,2,60,296]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderHoverAction=e.HoverWidget=void 0;const y=C.$;class S extends k.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new M.DomScrollableElement(this.contentsDomNode,{})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;function _(d,f,p){const o=C.append(d,y("div.action-container")),c=C.append(o,y("a.action"));c.setAttribute("href","#"),c.setAttribute("role","button"),f.iconClass&&C.append(c,y(`span.icon.${f.iconClass}`));const a=C.append(c,y("span"));return a.textContent=p?`${f.label} (${p})`:f.label,C.addDisposableListener(o,C.EventType.CLICK,s=>{s.stopPropagation(),s.preventDefault(),f.run(o)})}e.renderHoverAction=_}),define(Q[158],J([0,1,39,2,59,4,55,60,119,275,281,98,117,19,148,15,34,7]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const n={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(b){return[b]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0};class i{constructor(w){this.elements=w}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=i;class u{constructor(w){this.elements=w}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=u;class h{constructor(){this.types=[],this.files=[]}update(w){if(w.types&&this.types.splice(0,this.types.length,...w.types),w.files){this.files.splice(0,this.files.length);for(let L=0;L<w.files.length;L++){const E=w.files.item(L);E&&(E.size||E.type)&&this.files.push(E)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function v(b,w){return Array.isArray(b)&&Array.isArray(w)?a.equals(b,w):b===w}class m{constructor(w){(w==null?void 0:w.getSetSize)?this.getSetSize=w.getSetSize.bind(w):this.getSetSize=(L,E,N)=>N,(w==null?void 0:w.getPosInSet)?this.getPosInSet=w.getPosInSet.bind(w):this.getPosInSet=(L,E)=>E+1,(w==null?void 0:w.getRole)?this.getRole=w.getRole.bind(w):this.getRole=L=>"listitem",(w==null?void 0:w.isChecked)?this.isChecked=w.isChecked.bind(w):this.isChecked=L=>{}}}class g{constructor(w,L,E,N=n){if(this.virtualDelegate=L,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new l.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=k.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=k.Disposable.None,this.onDragLeaveTimeout=k.Disposable.None,this.disposables=new k.DisposableStore,this._onDidChangeContentHeight=new y.Emitter,this._horizontalScrolling=!1,N.horizontalScrolling&&N.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new f.RangeMap;for(const T of E)this.renderers.set(T.templateId,T);this.cache=this.disposables.add(new p.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof N.mouseSupport=="boolean"?N.mouseSupport:!0),this._horizontalScrolling=C.getOrDefault(N,T=>T.horizontalScrolling,n.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof N.additionalScrollHeight=="undefined"?0:N.additionalScrollHeight,this.accessibilityProvider=new m(N.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",C.getOrDefault(N,T=>T.transformOptimization,n.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(M.Gesture.addTarget(this.rowsContainer)),this.scrollable=new d.Scrollable(C.getOrDefault(N,T=>T.smoothScrolling,!1)?125:0,T=>t.scheduleAtNextAnimationFrame(T)),this.scrollableElement=this.disposables.add(new _.SmoothScrollableElement(this.rowsContainer,{horizontal:1,vertical:C.getOrDefault(N,T=>T.verticalScrollMode,n.verticalScrollMode),useShadows:C.getOrDefault(N,T=>T.useShadows,n.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),w.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),S.domEvent(this.rowsContainer,M.EventType.Change)(this.onTouchChange,this,this.disposables),S.domEvent(this.scrollableElement.getDomNode(),"scroll")(T=>T.target.scrollTop=0,null,this.disposables),y.Event.map(S.domEvent(this.domNode,"dragover"),T=>this.toDragEvent(T))(this.onDragOver,this,this.disposables),y.Event.map(S.domEvent(this.domNode,"drop"),T=>this.toDragEvent(T))(this.onDrop,this,this.disposables),S.domEvent(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),S.domEvent(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=C.getOrDefault(N,T=>T.setRowLineHeight,n.setRowLineHeight),this.setRowHeight=C.getOrDefault(N,T=>T.setRowHeight,n.setRowHeight),this.supportDynamicHeights=C.getOrDefault(N,T=>T.supportDynamicHeights,n.supportDynamicHeights),this.dnd=C.getOrDefault(N,T=>T.dnd,n.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(w){if(w!==this._horizontalScrolling){if(w&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=w,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:t.getContentWidth(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(w){w.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=w.additionalScrollHeight),w.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(w.smoothScrolling?125:0),w.horizontalScrolling!==void 0&&(this.horizontalScrolling=w.horizontalScrolling)}splice(w,L,E=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(w,L,E)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(w,L,E=[]){const N=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:w,end:w+L},T=c.Range.intersect(N,I),O=new Map;for(let P=T.start;P<T.end;P++){const x=this.items[P];if(x.dragStartDisposable.dispose(),x.row){let z=O.get(x.templateId);z||(z=[],O.set(x.templateId,z)),z.push([x.row,x.element,P,x.size])}x.row=null}const R={start:w+L,end:this.items.length},F=c.Range.intersect(R,N),D=c.Range.relativeComplement(R,N),B=E.map(P=>({id:String(this.itemId++),element:P,templateId:this.virtualDelegate.getTemplateId(P),size:this.virtualDelegate.getHeight(P),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(P),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:k.Disposable.None}));let A;w===0&&L>=this.items.length?(this.rangeMap=new f.RangeMap,this.rangeMap.splice(0,0,B),this.items=B,A=[]):(this.rangeMap.splice(w,L,B),A=this.items.splice(w,L,...B));const W=E.length-L,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),K=f.shift(F,W),j=c.Range.intersect(V,K);for(let P=j.start;P<j.end;P++)this.updateItemInDOM(this.items[P],P);const ee=c.Range.relativeComplement(K,V);for(const P of ee)for(let x=P.start;x<P.end;x++)this.removeItemFromDOM(x);const re=D.map(P=>f.shift(P,W)),ae=[{start:w,end:w+E.length},...re].map(P=>c.Range.intersect(V,P)),Y=this.getNextToLastElement(ae);for(const P of ae)for(let x=P.start;x<P.end;x++){const z=this.items[x],U=O.get(z.templateId),H=U==null?void 0:U.pop(),q=H&&H[0];this.insertItemInDOM(x,Y,q)}for(const[P,x]of O)for(const[z,U,H,q]of x){const ie=this.renderers.get(P);ie&&ie.disposeElement&&ie.disposeElement(U,H,z.templateData,q),this.cache.release(z)}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),A.map(P=>P.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=t.scheduleAtNextAnimationFrame(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!!this.horizontalScrolling){let w=0;for(const L of this.items)typeof L.width!="undefined"&&(w=Math.max(w,L.width));this.scrollWidth=w,this.scrollableElement.setScrollDimensions({scrollWidth:w===0?0:w+10})}}rerender(){if(!!this.supportDynamicHeights){for(const w of this.items)w.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(w){return this.items[w].element}domElement(w){const L=this.items[w].row;return L&&L.domNode}elementHeight(w){return this.items[w].size}elementTop(w){return this.rangeMap.positionAt(w)}indexAt(w){return this.rangeMap.indexAt(w)}indexAfter(w){return this.rangeMap.indexAfter(w)}layout(w,L){let E={height:typeof w=="number"?w:t.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,E.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(E),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:t.getContentWidth(this.domNode)}))}render(w,L,E,N,I,T=!1){const O=this.getRenderRange(L,E),R=c.Range.relativeComplement(O,w),F=c.Range.relativeComplement(w,O),D=this.getNextToLastElement(R);if(T){const B=c.Range.intersect(w,O);for(let A=B.start;A<B.end;A++)this.updateItemInDOM(this.items[A],A)}for(const B of R)for(let A=B.start;A<B.end;A++)this.insertItemInDOM(A,D);for(const B of F)for(let A=B.start;A<B.end;A++)this.removeItemFromDOM(A);N!==void 0&&(this.rowsContainer.style.left=`-${N}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=E}insertItemInDOM(w,L,E){const N=this.items[w];N.row||(N.row=E!=null?E:this.cache.alloc(N.templateId));const I=this.accessibilityProvider.getRole(N.element)||"listitem";N.row.domNode.setAttribute("role",I);const T=this.accessibilityProvider.isChecked(N.element);typeof T!="undefined"&&N.row.domNode.setAttribute("aria-checked",String(!!T)),N.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(N.row.domNode,L):this.rowsContainer.appendChild(N.row.domNode)),this.updateItemInDOM(N,w);const O=this.renderers.get(N.templateId);if(!O)throw new Error(`No renderer found for template id ${N.templateId}`);O&&O.renderElement(N.element,w,N.row.templateData,N.size);const R=this.dnd.getDragURI(N.element);if(N.dragStartDisposable.dispose(),N.row.domNode.draggable=!!R,R){const F=S.domEvent(N.row.domNode,"dragstart");N.dragStartDisposable=F(D=>this.onDragStart(N.element,R,D))}this.horizontalScrolling&&(this.measureItemWidth(N),this.eventuallyUpdateScrollWidth())}measureItemWidth(w){if(!(!w.row||!w.row.domNode)){w.row.domNode.style.width=r.isFirefox?"-moz-fit-content":"fit-content",w.width=t.getContentWidth(w.row.domNode);const L=window.getComputedStyle(w.row.domNode);L.paddingLeft&&(w.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(w.width+=parseFloat(L.paddingRight)),w.row.domNode.style.width=""}}updateItemInDOM(w,L){w.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(w.row.domNode.style.height=`${w.size}px`),this.setRowLineHeight&&(w.row.domNode.style.lineHeight=`${w.size}px`),w.row.domNode.setAttribute("data-index",`${L}`),w.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),w.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(w.element,L,this.length))),w.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(w.element,L))),w.row.domNode.setAttribute("id",this.getElementDomId(L)),w.row.domNode.classList.toggle("drop-target",w.dropTarget)}removeItemFromDOM(w){const L=this.items[w];if(L.dragStartDisposable.dispose(),L.row){const E=this.renderers.get(L.templateId);E&&E.disposeElement&&E.disposeElement(L.element,w,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(w,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:w,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(w){this.setScrollTop(w)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return y.Event.map(S.domEvent(this.domNode,"click"),w=>this.toMouseEvent(w))}get onMouseDblClick(){return y.Event.map(S.domEvent(this.domNode,"dblclick"),w=>this.toMouseEvent(w))}get onMouseMiddleClick(){return y.Event.filter(y.Event.map(S.domEvent(this.domNode,"auxclick"),w=>this.toMouseEvent(w)),w=>w.browserEvent.button===1)}get onMouseDown(){return y.Event.map(S.domEvent(this.domNode,"mousedown"),w=>this.toMouseEvent(w))}get onContextMenu(){return y.Event.map(S.domEvent(this.domNode,"contextmenu"),w=>this.toMouseEvent(w))}get onTouchStart(){return y.Event.map(S.domEvent(this.domNode,"touchstart"),w=>this.toTouchEvent(w))}get onTap(){return y.Event.map(S.domEvent(this.rowsContainer,M.EventType.Tap),w=>this.toGestureEvent(w))}toMouseEvent(w){const L=this.getItemIndexFromEventTarget(w.target||null),E=typeof L=="undefined"?void 0:this.items[L],N=E&&E.element;return{browserEvent:w,index:L,element:N}}toTouchEvent(w){const L=this.getItemIndexFromEventTarget(w.target||null),E=typeof L=="undefined"?void 0:this.items[L],N=E&&E.element;return{browserEvent:w,index:L,element:N}}toGestureEvent(w){const L=this.getItemIndexFromEventTarget(w.initialTarget||null),E=typeof L=="undefined"?void 0:this.items[L],N=E&&E.element;return{browserEvent:w,index:L,element:N}}toDragEvent(w){const L=this.getItemIndexFromEventTarget(w.target||null),E=typeof L=="undefined"?void 0:this.items[L],N=E&&E.element;return{browserEvent:w,index:L,element:N}}onScroll(w){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,w.scrollTop,w.height,w.scrollLeft,w.scrollWidth),this.supportDynamicHeights&&this._rerender(w.scrollTop,w.height,w.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",w),L}}onTouchChange(w){w.preventDefault(),w.stopPropagation(),this.scrollTop-=w.translationY}onDragStart(w,L,E){if(!!E.dataTransfer){const N=this.dnd.getDragElements(w);if(E.dataTransfer.effectAllowed="copyMove",E.dataTransfer.setData(s.DataTransfers.RESOURCES,JSON.stringify([L])),E.dataTransfer.setDragImage){let I;this.dnd.getDragLabel&&(I=this.dnd.getDragLabel(N,E)),typeof I=="undefined"&&(I=String(N.length));const T=t.$(".monaco-drag-image");T.textContent=I,document.body.appendChild(T),E.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>document.body.removeChild(T),0)}this.currentDragData=new i(N),s.StaticDND.CurrentDragAndDropData=new u(N),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,E)}}onDragOver(w){if(w.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),s.StaticDND.CurrentDragAndDropData&&s.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(w.browserEvent),!w.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(s.StaticDND.CurrentDragAndDropData)this.currentDragData=s.StaticDND.CurrentDragAndDropData;else{if(!w.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const L=this.dnd.onDragOver(this.currentDragData,w.element,w.index,w.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;w.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let E;if(typeof L!="boolean"&&L.feedback?E=L.feedback:typeof w.index=="undefined"?E=[-1]:E=[w.index],E=a.distinct(E).filter(N=>N>=-1&&N<this.length).sort((N,I)=>N-I),E=E[0]===-1?[-1]:E,v(this.currentDragFeedback,E))return!0;if(this.currentDragFeedback=E,this.currentDragFeedbackDisposable.dispose(),E[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=k.toDisposable(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of E){const I=this.items[N];I.dropTarget=!0,I.row&&I.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=k.toDisposable(()=>{for(const N of E){const I=this.items[N];I.dropTarget=!1,I.row&&I.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=l.disposableTimeout(()=>this.clearDragOverFeedback(),100)}onDrop(w){if(!!this.canDrop){const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,s.StaticDND.CurrentDragAndDropData=void 0,!(!L||!w.browserEvent.dataTransfer)&&(w.browserEvent.preventDefault(),L.update(w.browserEvent.dataTransfer),this.dnd.drop(L,w.element,w.index,w.browserEvent))}}onDragEnd(w){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,s.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(w)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=k.Disposable.None}setupDragAndDropScrollTopAnimation(w){if(!this.dragOverAnimationDisposable){const L=t.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=t.animate(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=l.disposableTimeout(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=w.pageY}animateDragAndDropScrollTop(w){if(this.dragOverMouseY!==void 0){const L=this.dragOverMouseY-w,E=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>E&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-E))))}}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(w){const L=this.scrollableElement.getDomNode();let E=w;for(;E instanceof HTMLElement&&E!==this.rowsContainer&&L.contains(E);){const N=E.getAttribute("data-index");if(N){const I=Number(N);if(!isNaN(I))return I}E=E.parentElement}}getRenderRange(w,L){return{start:this.rangeMap.indexAt(w),end:this.rangeMap.indexAfter(w+L-1)}}_rerender(w,L,E){const N=this.getRenderRange(w,L);let I,T;w===this.elementTop(N.start)?(I=N.start,T=0):N.end-N.start>1&&(I=N.start+1,T=this.elementTop(I)-w);let O=0;for(;;){const R=this.getRenderRange(w,L);let F=!1;for(let D=R.start;D<R.end;D++){const B=this.probeDynamicHeight(D);B!==0&&this.rangeMap.splice(D,1,[this.items[D]]),O+=B,F=F||B!==0}if(!F){O!==0&&this.eventuallyUpdateScrollDimensions();const D=c.Range.relativeComplement(N,R);for(const A of D)for(let W=A.start;W<A.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const B=c.Range.relativeComplement(R,N);for(const A of B)for(let W=A.start;W<A.end;W++){const V=W+1,K=V<this.items.length?this.items[V].row:null,j=K?K.domNode:null;this.insertItemInDOM(W,j)}for(let A=R.start;A<R.end;A++)this.items[A].row&&this.updateItemInDOM(this.items[A],A);if(typeof I=="number"){const A=this.scrollable.getFutureScrollPosition().scrollTop-w,W=this.elementTop(I)-T+A;this.setScrollTop(W,E)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(w){const L=this.items[w];if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const E=L.size;if(!this.setRowHeight&&L.row){let T=L.row.domNode.offsetHeight;return L.size=T,L.lastDynamicHeightWidth=this.renderWidth,T-E}const N=this.cache.alloc(L.templateId);N.domNode.style.height="",this.rowsContainer.appendChild(N.domNode);const I=this.renderers.get(L.templateId);return I&&(I.renderElement(L.element,w,N.templateData,void 0),I.disposeElement&&I.disposeElement(L.element,w,N.templateData,void 0)),L.size=N.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(N.domNode),this.cache.release(N),L.size-E}getNextToLastElement(w){const L=w[w.length-1];if(!L)return null;const E=this.items[L.end];return!E||!E.row?null:E.row.domNode}getElementDomId(w){return`${this.domId}_${w}`}dispose(){if(this.items){for(const w of this.items)if(w.row){const L=this.renderers.get(w.row.templateId);L&&(L.disposeElement&&L.disposeElement(w.element,-1,w.row.templateData,void 0),L.disposeTemplate(w.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),k.dispose(this.disposables)}}g.InstanceCount=0,Me([o.memoize],g.prototype,"onMouseClick",null),Me([o.memoize],g.prototype,"onMouseDblClick",null),Me([o.memoize],g.prototype,"onMouseMiddleClick",null),Me([o.memoize],g.prototype,"onMouseDown",null),Me([o.memoize],g.prototype,"onContextMenu",null),Me([o.memoize],g.prototype,"onTouchStart",null),Me([o.memoize],g.prototype,"onTap",null),e.ListView=g}),define(Q[123],J([0,1,2,21,19,98,17,59,56,4,55,269,158,29,39,270,100,66,47,7,206]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class u{constructor(P){this.trait=P,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(P){return P}renderElement(P,x,z){const U=this.renderedElements.findIndex(H=>H.templateData===z);if(U>=0){const H=this.renderedElements[U];this.trait.unrender(z),H.index=x}else{const H={index:x,templateData:z};this.renderedElements.push(H)}this.trait.renderIndex(x,z)}splice(P,x,z){const U=[];for(const H of this.renderedElements)H.index<P?U.push(H):H.index>=P+x&&U.push({index:H.index+z-x,templateData:H.templateData});this.renderedElements=U}renderIndexes(P){for(const{index:x,templateData:z}of this.renderedElements)P.indexOf(x)>-1&&this.trait.renderIndex(x,z)}disposeTemplate(P){const x=this.renderedElements.findIndex(z=>z.templateData===P);x<0||this.renderedElements.splice(x,1)}}class h{constructor(P){this._trait=P,this.indexes=[],this.sortedIndexes=[],this._onChange=new f.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new u(this)}splice(P,x,z){const U=z.length-x,H=P+x,q=[...this.sortedIndexes.filter(ie=>ie<P),...z.map((ie,ce)=>ie?ce+P:-1).filter(ie=>ie!==-1),...this.sortedIndexes.filter(ie=>ie>=H).map(ie=>ie+U)];this.renderer.splice(P,x,z.length),this._set(q,q)}renderIndex(P,x){x.classList.toggle(this._trait,this.contains(P))}unrender(P){P.classList.remove(this._trait)}set(P,x){return this._set(P,[...P].sort(j),x)}_set(P,x,z){const U=this.indexes,H=this.sortedIndexes;this.indexes=P,this.sortedIndexes=x;const q=V(H,P);return this.renderer.renderIndexes(q),this._onChange.fire({indexes:P,browserEvent:z}),U}get(){return this.indexes}contains(P){return M.binarySearch(this.sortedIndexes,P,j)>=0}dispose(){C.dispose(this._onChange)}}Me([y.memoize],h.prototype,"renderer",null);class v extends h{constructor(P){super("selected");this.setAriaSelected=P}renderIndex(P,x){super.renderIndex(P,x),this.setAriaSelected&&(this.contains(P)?x.setAttribute("aria-selected","true"):x.setAttribute("aria-selected","false"))}}class m{constructor(P,x,z){this.trait=P,this.view=x,this.identityProvider=z}splice(P,x,z){if(!this.identityProvider)return this.trait.splice(P,x,z.map(()=>!1));const U=this.trait.get().map(q=>this.identityProvider.getId(this.view.element(q)).toString()),H=z.map(q=>U.indexOf(this.identityProvider.getId(q).toString())>-1);this.trait.splice(P,x,H)}}function g(Y){return Y.tagName==="INPUT"||Y.tagName==="TEXTAREA"}e.isInputElement=g;function b(Y){return Y.classList.contains("monaco-editor")?!0:Y.classList.contains("monaco-list")||!Y.parentElement?!1:b(Y.parentElement)}e.isMonacoEditor=b;class w{constructor(P,x,z){this.list=P,this.view=x,this.disposables=new C.DisposableStore;const U=z.multipleSelectionSupport!==!1,H=f.Event.chain(p.domEvent(x.domNode,"keydown")).filter(q=>!g(q.target)).map(q=>new d.StandardKeyboardEvent(q));H.filter(q=>q.keyCode===3).on(this.onEnter,this,this.disposables),H.filter(q=>q.keyCode===16).on(this.onUpArrow,this,this.disposables),H.filter(q=>q.keyCode===18).on(this.onDownArrow,this,this.disposables),H.filter(q=>q.keyCode===11).on(this.onPageUpArrow,this,this.disposables),H.filter(q=>q.keyCode===12).on(this.onPageDownArrow,this,this.disposables),H.filter(q=>q.keyCode===9).on(this.onEscape,this,this.disposables),U&&H.filter(q=>(S.isMacintosh?q.metaKey:q.ctrlKey)&&q.keyCode===31).on(this.onCtrlA,this,this.disposables)}onEnter(P){P.preventDefault(),P.stopPropagation(),this.list.setSelection(this.list.getFocus(),P.browserEvent)}onUpArrow(P){P.preventDefault(),P.stopPropagation(),this.list.focusPrevious(1,!1,P.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(P){P.preventDefault(),P.stopPropagation(),this.list.focusNext(1,!1,P.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(P){P.preventDefault(),P.stopPropagation(),this.list.focusPreviousPage(P.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(P){P.preventDefault(),P.stopPropagation(),this.list.focusNextPage(P.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(P){P.preventDefault(),P.stopPropagation(),this.list.setSelection(M.range(this.list.length),P.browserEvent),this.view.domNode.focus()}onEscape(P){this.list.getSelection().length&&(P.preventDefault(),P.stopPropagation(),this.list.setSelection([],P.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}var L;(function(Y){Y[Y.Idle=0]="Idle",Y[Y.Typing=1]="Typing"})(L||(L={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(Y){return Y.ctrlKey||Y.metaKey||Y.altKey?!1:Y.keyCode>=31&&Y.keyCode<=56||Y.keyCode>=21&&Y.keyCode<=30||Y.keyCode>=93&&Y.keyCode<=102||Y.keyCode>=80&&Y.keyCode<=90}};class E{constructor(P,x,z,U){this.list=P,this.view=x,this.keyboardNavigationLabelProvider=z,this.delegate=U,this.enabled=!1,this.state=L.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new C.DisposableStore,this.disposables=new C.DisposableStore,this.updateOptions(P.options)}updateOptions(P){(typeof P.enableKeyboardNavigation=="undefined"?!0:!!P.enableKeyboardNavigation)?this.enable():this.disable(),typeof P.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=P.automaticKeyboardNavigation)}enable(){if(!this.enabled){const P=f.Event.chain(p.domEvent(this.view.domNode,"keydown")).filter(U=>!g(U.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(U=>new d.StandardKeyboardEvent(U)).filter(U=>this.delegate.mightProducePrintableCharacter(U)).forEach(U=>{U.stopPropagation(),U.preventDefault()}).map(U=>U.browserEvent.key).event,x=f.Event.debounce(P,()=>null,800);f.Event.reduce(f.Event.any(P,x),(U,H)=>H===null?null:(U||"")+H)(this.onInput,this,this.enabledDisposables),x(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var P;const x=this.list.getFocus();if(x.length>0&&x[0]===this.previouslyFocused){const z=(P=this.list.options.accessibilityProvider)===null||P===void 0?void 0:P.getAriaLabel(this.list.element(x[0]));z&&n.alert(z)}this.previouslyFocused=-1}onInput(P){if(!P){this.state=L.Idle,this.triggered=!1;return}const x=this.list.getFocus(),z=x.length>0?x[0]:0,U=this.state===L.Idle?1:0;this.state=L.Typing;for(let H=0;H<this.list.length;H++){const q=(z+H+U)%this.list.length,ie=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(q)),ce=ie&&ie.toString();if(typeof ce=="undefined"||t.matchesPrefix(P,ce)){this.previouslyFocused=z,this.list.setFocus([q]),this.list.reveal(q);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class N{constructor(P,x){this.list=P,this.view=x,this.disposables=new C.DisposableStore,f.Event.chain(p.domEvent(x.domNode,"keydown")).filter(U=>!g(U.target)).map(U=>new d.StandardKeyboardEvent(U)).filter(U=>U.keyCode===2&&!U.ctrlKey&&!U.metaKey&&!U.shiftKey&&!U.altKey).on(this.onTab,this,this.disposables)}onTab(P){if(P.target===this.view.domNode){const x=this.list.getFocus();if(x.length!==0){const z=this.view.domElement(x[0]);if(!!z){const U=z.querySelector("[tabIndex]");if(!(!U||!(U instanceof HTMLElement)||U.tabIndex===-1)){const H=window.getComputedStyle(U);H.visibility==="hidden"||H.display==="none"||(P.preventDefault(),P.stopPropagation(),U.focus())}}}}}dispose(){this.disposables.dispose()}}function I(Y){return S.isMacintosh?Y.browserEvent.metaKey:Y.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=I;function T(Y){return Y.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=T;function O(Y){return Y instanceof MouseEvent&&Y.button===2}const R={isSelectionSingleChangeEvent:I,isSelectionRangeChangeEvent:T};class F{constructor(P){this.list=P,this.disposables=new C.DisposableStore,this._onPointer=new f.Emitter,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=P.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=P.options.multipleSelectionController||R),this.mouseSupport=typeof P.options.mouseSupport=="undefined"||!!P.options.mouseSupport,this.mouseSupport&&(P.onMouseDown(this.onMouseDown,this,this.disposables),P.onContextMenu(this.onContextMenu,this,this.disposables),P.onMouseDblClick(this.onDoubleClick,this,this.disposables),P.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(_.Gesture.addTarget(P.getHTMLElement()))),f.Event.any(P.onMouseClick,P.onMouseMiddleClick,P.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(P){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(P):S.isMacintosh?P.browserEvent.metaKey:P.browserEvent.ctrlKey}isSelectionRangeChangeEvent(P){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(P):P.browserEvent.shiftKey}isSelectionChangeEvent(P){return this.isSelectionSingleChangeEvent(P)||this.isSelectionRangeChangeEvent(P)}onMouseDown(P){b(P.browserEvent.target)||document.activeElement!==P.browserEvent.target&&this.list.domFocus()}onContextMenu(P){if(!b(P.browserEvent.target)){const x=typeof P.index=="undefined"?[]:[P.index];this.list.setFocus(x,P.browserEvent)}}onViewPointer(P){if(!!this.mouseSupport&&!(g(P.browserEvent.target)||b(P.browserEvent.target))){let x=this.list.getFocus()[0];const z=this.list.getSelection();x=x===void 0?z[0]:x;const U=P.index;if(typeof U=="undefined"){this.list.setFocus([],P.browserEvent),this.list.setSelection([],P.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(P))return this.changeSelection(P,x);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(P))return this.changeSelection(P,x);this.list.setFocus([U],P.browserEvent),O(P.browserEvent)||this.list.setSelection([U],P.browserEvent),this._onPointer.fire(P)}}onDoubleClick(P){if(!(g(P.browserEvent.target)||b(P.browserEvent.target))&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(P))){const x=this.list.getFocus();this.list.setSelection(x,P.browserEvent)}}changeSelection(P,x){const z=P.index;if(this.isSelectionRangeChangeEvent(P)&&x!==void 0){const U=Math.min(x,z),H=Math.max(x,z),q=M.range(U,H+1),ie=this.list.getSelection(),ce=W(V(ie,[x]),x);if(ce.length===0)return;const ue=V(q,K(ie,ce));this.list.setSelection(ue,P.browserEvent)}else if(this.isSelectionSingleChangeEvent(P)){const U=this.list.getSelection(),H=U.filter(q=>q!==z);this.list.setFocus([z]),U.length===H.length?this.list.setSelection([...H,z],P.browserEvent):this.list.setSelection(H,P.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=F;class D{constructor(P,x){this.styleElement=P,this.selectorSuffix=x}style(P){const x=this.selectorSuffix&&`.${this.selectorSuffix}`,z=[];P.listBackground&&(P.listBackground.isOpaque()?z.push(`.monaco-list${x} .monaco-list-rows { background: ${P.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),P.listFocusBackground&&(z.push(`.monaco-list${x}:focus .monaco-list-row.focused { background-color: ${P.listFocusBackground}; }`),z.push(`.monaco-list${x}:focus .monaco-list-row.focused:hover { background-color: ${P.listFocusBackground}; }`)),P.listFocusForeground&&z.push(`.monaco-list${x}:focus .monaco-list-row.focused { color: ${P.listFocusForeground}; }`),P.listActiveSelectionBackground&&(z.push(`.monaco-list${x}:focus .monaco-list-row.selected { background-color: ${P.listActiveSelectionBackground}; }`),z.push(`.monaco-list${x}:focus .monaco-list-row.selected:hover { background-color: ${P.listActiveSelectionBackground}; }`)),P.listActiveSelectionForeground&&z.push(`.monaco-list${x}:focus .monaco-list-row.selected { color: ${P.listActiveSelectionForeground}; }`),P.listFocusAndSelectionBackground&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { background-color: ${P.listFocusAndSelectionBackground}; }
			`),P.listFocusAndSelectionForeground&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.selected.focused { color: ${P.listFocusAndSelectionForeground}; }
			`),P.listInactiveFocusBackground&&(z.push(`.monaco-list${x} .monaco-list-row.focused { background-color:  ${P.listInactiveFocusBackground}; }`),z.push(`.monaco-list${x} .monaco-list-row.focused:hover { background-color:  ${P.listInactiveFocusBackground}; }`)),P.listInactiveSelectionBackground&&(z.push(`.monaco-list${x} .monaco-list-row.selected { background-color:  ${P.listInactiveSelectionBackground}; }`),z.push(`.monaco-list${x} .monaco-list-row.selected:hover { background-color:  ${P.listInactiveSelectionBackground}; }`)),P.listInactiveSelectionForeground&&z.push(`.monaco-list${x} .monaco-list-row.selected { color: ${P.listInactiveSelectionForeground}; }`),P.listHoverBackground&&z.push(`.monaco-list${x}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${P.listHoverBackground}; }`),P.listHoverForeground&&z.push(`.monaco-list${x} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${P.listHoverForeground}; }`),P.listSelectionOutline&&z.push(`.monaco-list${x} .monaco-list-row.selected { outline: 1px dotted ${P.listSelectionOutline}; outline-offset: -1px; }`),P.listFocusOutline&&z.push(`
				.monaco-drag-image,
				.monaco-list${x}:focus .monaco-list-row.focused { outline: 1px solid ${P.listFocusOutline}; outline-offset: -1px; }
			`),P.listInactiveFocusOutline&&z.push(`.monaco-list${x} .monaco-list-row.focused { outline: 1px dotted ${P.listInactiveFocusOutline}; outline-offset: -1px; }`),P.listHoverOutline&&z.push(`.monaco-list${x} .monaco-list-row:hover { outline: 1px dashed ${P.listHoverOutline}; outline-offset: -1px; }`),P.listDropBackground&&z.push(`
				.monaco-list${x}.drop-target,
				.monaco-list${x} .monaco-list-rows.drop-target,
				.monaco-list${x} .monaco-list-row.drop-target { background-color: ${P.listDropBackground} !important; color: inherit !important; }
			`),P.listFilterWidgetBackground&&z.push(`.monaco-list-type-filter { background-color: ${P.listFilterWidgetBackground} }`),P.listFilterWidgetOutline&&z.push(`.monaco-list-type-filter { border: 1px solid ${P.listFilterWidgetOutline}; }`),P.listFilterWidgetNoMatchesOutline&&z.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${P.listFilterWidgetNoMatchesOutline}; }`),P.listMatchesShadow&&z.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${P.listMatchesShadow}; }`),this.styleElement.textContent=z.join(`
`)}}e.DefaultStyleController=D;const B={listFocusBackground:a.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:a.Color.fromHex("#0E639C"),listActiveSelectionForeground:a.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:a.Color.fromHex("#094771"),listFocusAndSelectionForeground:a.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:a.Color.fromHex("#3F3F46"),listHoverBackground:a.Color.fromHex("#2A2D2E"),listDropBackground:a.Color.fromHex("#383B3D"),treeIndentGuidesStroke:a.Color.fromHex("#a9a9a9")},A={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function W(Y,P){const x=Y.indexOf(P);if(x===-1)return[];const z=[];let U=x-1;for(;U>=0&&Y[U]===P-(x-U);)z.push(Y[U--]);for(z.reverse(),U=x;U<Y.length&&Y[U]===P+(U-x);)z.push(Y[U++]);return z}function V(Y,P){const x=[];let z=0,U=0;for(;z<Y.length||U<P.length;)if(z>=Y.length)x.push(P[U++]);else if(U>=P.length)x.push(Y[z++]);else if(Y[z]===P[U]){x.push(Y[z]),z++,U++;continue}else Y[z]<P[U]?x.push(Y[z++]):x.push(P[U++]);return x}function K(Y,P){const x=[];let z=0,U=0;for(;z<Y.length||U<P.length;)if(z>=Y.length)x.push(P[U++]);else if(U>=P.length)x.push(Y[z++]);else if(Y[z]===P[U]){z++,U++;continue}else Y[z]<P[U]?x.push(Y[z++]):U++;return x}const j=(Y,P)=>Y-P;class ee{constructor(P,x){this._templateId=P,this.renderers=x}get templateId(){return this._templateId}renderTemplate(P){return this.renderers.map(x=>x.renderTemplate(P))}renderElement(P,x,z,U){let H=0;for(const q of this.renderers)q.renderElement(P,x,z[H++],U)}disposeElement(P,x,z,U){let H=0;for(const q of this.renderers)q.disposeElement&&q.disposeElement(P,x,z[H],U),H+=1}disposeTemplate(P){let x=0;for(const z of this.renderers)z.disposeTemplate(P[x++])}}class re{constructor(P){this.accessibilityProvider=P,this.templateId="a18n"}renderTemplate(P){return P}renderElement(P,x,z){const U=this.accessibilityProvider.getAriaLabel(P);U?z.setAttribute("aria-label",U):z.removeAttribute("aria-label");const H=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(P);typeof H=="number"?z.setAttribute("aria-level",`${H}`):z.removeAttribute("aria-level")}disposeTemplate(P){}}class te{constructor(P,x){this.list=P,this.dnd=x}getDragElements(P){const x=this.list.getSelectedElements();return x.indexOf(P)>-1?x:[P]}getDragURI(P){return this.dnd.getDragURI(P)}getDragLabel(P,x){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(P,x)}onDragStart(P,x){this.dnd.onDragStart&&this.dnd.onDragStart(P,x)}onDragOver(P,x,z,U){return this.dnd.onDragOver(P,x,z,U)}onDragEnd(P){this.dnd.onDragEnd&&this.dnd.onDragEnd(P)}drop(P,x,z,U){this.dnd.drop(P,x,z,U)}}class ae{constructor(P,x,z,U,H=A){var q;this.user=P,this._options=H,this.eventBufferer=new f.EventBufferer,this._ariaLabel="",this.disposables=new C.DisposableStore,this.didJustPressContextMenuKey=!1,this._onDidDispose=new f.Emitter,this.onDidDispose=this._onDidDispose.event;const ie=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(q=this._options.accessibilityProvider)===null||q===void 0?void 0:q.getWidgetRole():"list";this.selection=new v(ie!=="listbox"),this.focus=new h("focused"),s.mixin(H,B,!1);const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=H.accessibilityProvider,this.accessibilityProvider&&(ce.push(new re(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),U=U.map(Z=>new ee(Z.templateId,[...ce,Z]));const ue=Object.assign(Object.assign({},H),{dnd:H.dnd&&new te(this,H.dnd)});if(this.view=new c.ListView(x,z,U,ue),this.view.domNode.setAttribute("role",ie),H.styleController)this.styleController=H.styleController(this.view.domId);else{const Z=i.createStyleSheet(this.view.domNode);this.styleController=new D(Z,this.view.domId)}if(this.spliceable=new l.CombinedSpliceable([new m(this.focus,this.view,H.identityProvider),new m(this.selection,this.view,H.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=f.Event.map(p.domEvent(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=f.Event.map(p.domEvent(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new N(this,this.view)),typeof H.keyboardSupport!="boolean"||H.keyboardSupport){const Z=new w(this,this.view,H);this.disposables.add(Z)}if(H.keyboardNavigationLabelProvider){const Z=H.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new E(this,this.view,H.keyboardNavigationLabelProvider,Z),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(H),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),H.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return f.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),P=>this.toListEvent(P))}get onDidChangeSelection(){return f.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),P=>this.toListEvent(P))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){const P=f.Event.chain(p.domEvent(this.view.domNode,"keydown")).map(U=>new d.StandardKeyboardEvent(U)).filter(U=>this.didJustPressContextMenuKey=U.keyCode===58||U.shiftKey&&U.keyCode===68).filter(U=>(U.preventDefault(),U.stopPropagation(),!1)).event,x=f.Event.chain(p.domEvent(this.view.domNode,"keyup")).filter(()=>{const U=this.didJustPressContextMenuKey;return this.didJustPressContextMenuKey=!1,U}).filter(()=>this.getFocus().length>0&&!!this.view.domElement(this.getFocus()[0])).map(U=>{const H=this.getFocus()[0],q=this.view.element(H),ie=this.view.domElement(H);return{index:H,element:q,anchor:ie,browserEvent:U}}).event,z=f.Event.chain(this.view.onContextMenu).filter(()=>!this.didJustPressContextMenuKey).map(({element:U,index:H,browserEvent:q})=>({element:U,index:H,anchor:{x:q.clientX+1,y:q.clientY},browserEvent:q})).event;return f.Event.any(P,x,z)}get onKeyDown(){return p.domEvent(this.view.domNode,"keydown")}createMouseController(P){return new F(this)}updateOptions(P={}){this._options=Object.assign(Object.assign({},this._options),P),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(P)}get options(){return this._options}splice(P,x,z=[]){if(P<0||P>this.view.length)throw new o.ListError(this.user,`Invalid start index: ${P}`);if(x<0)throw new o.ListError(this.user,`Invalid delete count: ${x}`);x===0&&z.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(P,x,z))}rerender(){this.view.rerender()}element(P){return this.view.element(P)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(P){this.view.setScrollTop(P)}get ariaLabel(){return this._ariaLabel}set ariaLabel(P){this._ariaLabel=P,this.view.domNode.setAttribute("aria-label",P)}domFocus(){this.view.domNode.focus()}layout(P,x){this.view.layout(P,x)}setSelection(P,x){for(const z of P)if(z<0||z>=this.length)throw new o.ListError(this.user,`Invalid index ${z}`);this.selection.set(P,x)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(P=>this.view.element(P))}setFocus(P,x){for(const z of P)if(z<0||z>=this.length)throw new o.ListError(this.user,`Invalid index ${z}`);this.focus.set(P,x)}focusNext(P=1,x=!1,z,U){if(this.length!==0){const H=this.focus.get(),q=this.findNextIndex(H.length>0?H[0]+P:0,x,U);q>-1&&this.setFocus([q],z)}}focusPrevious(P=1,x=!1,z,U){if(this.length!==0){const H=this.focus.get(),q=this.findPreviousIndex(H.length>0?H[0]-P:0,x,U);q>-1&&this.setFocus([q],z)}}focusNextPage(P,x){let z=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);z=z===0?0:z-1;const U=this.view.element(z),H=this.getFocusedElements()[0];if(H!==U){const q=this.findPreviousIndex(z,!1,x);q>-1&&H!==this.view.element(q)?this.setFocus([q],P):this.setFocus([z],P)}else{const q=this.view.getScrollTop();this.view.setScrollTop(q+this.view.renderHeight-this.view.elementHeight(z)),this.view.getScrollTop()!==q&&(this.setFocus([]),setTimeout(()=>this.focusNextPage(P,x),0))}}focusPreviousPage(P,x){let z;const U=this.view.getScrollTop();U===0?z=this.view.indexAt(U):z=this.view.indexAfter(U-1);const H=this.view.element(z),q=this.getFocusedElements()[0];if(q!==H){const ie=this.findNextIndex(z,!1,x);ie>-1&&q!==this.view.element(ie)?this.setFocus([ie],P):this.setFocus([z],P)}else{const ie=U;this.view.setScrollTop(U-this.view.renderHeight),this.view.getScrollTop()!==ie&&(this.setFocus([]),setTimeout(()=>this.focusPreviousPage(P,x),0))}}focusLast(P,x){if(this.length!==0){const z=this.findPreviousIndex(this.length-1,!1,x);z>-1&&this.setFocus([z],P)}}focusFirst(P,x){this.focusNth(0,P,x)}focusNth(P,x,z){if(this.length!==0){const U=this.findNextIndex(P,!1,z);U>-1&&this.setFocus([U],x)}}findNextIndex(P,x=!1,z){for(let U=0;U<this.length;U++){if(P>=this.length&&!x)return-1;if(P=P%this.length,!z||z(this.element(P)))return P;P++}return-1}findPreviousIndex(P,x=!1,z){for(let U=0;U<this.length;U++){if(P<0&&!x)return-1;if(P=(this.length+P%this.length)%this.length,!z||z(this.element(P)))return P;P--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(P=>this.view.element(P))}reveal(P,x){if(P<0||P>=this.length)throw new o.ListError(this.user,`Invalid index ${P}`);const z=this.view.getScrollTop(),U=this.view.elementTop(P),H=this.view.elementHeight(P);if(k.isNumber(x)){const q=H-this.view.renderHeight;this.view.setScrollTop(q*r.clamp(x,0,1)+U)}else{const q=U+H,ie=z+this.view.renderHeight;U<z&&q>=ie||(U<z?this.view.setScrollTop(U):q>=ie&&this.view.setScrollTop(q-this.view.renderHeight))}}getRelativeTop(P){if(P<0||P>=this.length)throw new o.ListError(this.user,`Invalid index ${P}`);const x=this.view.getScrollTop(),z=this.view.elementTop(P),U=this.view.elementHeight(P);if(z<x||z+U>x+this.view.renderHeight)return null;const H=U-this.view.renderHeight;return Math.abs((x-z)/H)}getHTMLElement(){return this.view.domNode}style(P){this.styleController.style(P)}toListEvent({indexes:P,browserEvent:x}){return{indexes:P,elements:P.map(z=>this.view.element(z)),browserEvent:x}}_onFocusChange(){const P=this.focus.get();this.view.domNode.classList.toggle("element-focused",P.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var P;const x=this.focus.get();if(x.length>0){let z;((P=this.accessibilityProvider)===null||P===void 0?void 0:P.getActiveDescendantId)&&(z=this.accessibilityProvider.getActiveDescendantId(this.view.element(x[0]))),this.view.domNode.setAttribute("aria-activedescendant",z||this.view.getElementDomId(x[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const P=this.selection.get();this.view.domNode.classList.toggle("selection-none",P.length===0),this.view.domNode.classList.toggle("selection-single",P.length===1),this.view.domNode.classList.toggle("selection-multiple",P.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([y.memoize],ae.prototype,"onDidChangeFocus",null),Me([y.memoize],ae.prototype,"onDidChangeSelection",null),Me([y.memoize],ae.prototype,"onContextMenu",null),e.List=ae}),define(Q[305],J([0,1,2,19,123,4,25,206]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class _{constructor(c,a){this.renderer=c,this.modelProvider=a}get templateId(){return this.renderer.templateId}renderTemplate(c){return{data:this.renderer.renderTemplate(c),disposable:C.Disposable.None}}renderElement(c,a,s,l){if(s.disposable&&s.disposable.dispose(),!!s.data){const r=this.modelProvider();if(r.isResolved(c))return this.renderer.renderElement(r.get(c),c,s.data,l);const t=new S.CancellationTokenSource,n=r.resolve(c,t.token);s.disposable={dispose:()=>t.cancel()},this.renderer.renderPlaceholder(c,s.data),n.then(i=>this.renderer.renderElement(i,c,s.data,l))}}disposeTemplate(c){c.disposable&&(c.disposable.dispose(),c.disposable=void 0),c.data&&(this.renderer.disposeTemplate(c.data),c.data=void 0)}}class d{constructor(c,a){this.modelProvider=c,this.accessibilityProvider=a}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(c){const a=this.modelProvider();return a.isResolved(c)?this.accessibilityProvider.getAriaLabel(a.get(c)):null}}function f(o,c){return Object.assign(Object.assign({},c),{accessibilityProvider:c.accessibilityProvider&&new d(o,c.accessibilityProvider)})}class p{constructor(c,a,s,l,r={}){const t=()=>this.model,n=l.map(i=>new _(i,t));this.list=new M.List(c,a,s,n,f(t,r))}updateOptions(c){this.list.updateOptions(c)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:c,index:a,browserEvent:s})=>({element:c===void 0?void 0:this._model.get(c),index:a,browserEvent:s}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:c,index:a,browserEvent:s})=>({element:c===void 0?void 0:this._model.get(c),index:a,browserEvent:s}))}get onDidChangeFocus(){return y.Event.map(this.list.onDidChangeFocus,({elements:c,indexes:a,browserEvent:s})=>({elements:c.map(l=>this._model.get(l)),indexes:a,browserEvent:s}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:c,indexes:a,browserEvent:s})=>({elements:c.map(l=>this._model.get(l)),indexes:a,browserEvent:s}))}get model(){return this._model}set model(c){this._model=c,this.list.splice(0,this.list.length,k.range(c.length))}getFocus(){return this.list.getFocus()}setSelection(c,a){this.list.setSelection(c,a)}style(c){this.list.style(c)}dispose(){this.list.dispose()}}e.PagedList=p}),define(Q[306],J([10]),{}),define(Q[307],J([0,1,2,4,21,100,19,104,29,55,7,60,119,306]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const a={separatorBorder:d.Color.transparent};class s{constructor(h,v,m,g){this.container=h,this.view=v,this.disposable=g,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(h,v){h!==this.visible&&(h?(this.size=y.clamp(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof v=="number"?v:this.size,this.size=0),this.container.classList.toggle("visible",h),this.view.setVisible&&this.view.setVisible(h))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}layout(h,v){this.layoutContainer(h),this.view.layout(this.size,h,v)}dispose(){return this.disposable.dispose(),this.view}}class l extends s{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class r extends s{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var t;(function(u){u[u.Idle=0]="Idle",u[u.Busy=1]="Busy"})(t||(t={}));var n;(function(u){u.Distribute={type:"distribute"};function h(m){return{type:"split",index:m}}u.Split=h;function v(m){return{type:"invisible",cachedVisibleSize:m}}u.Invisible=v})(n=e.Sizing||(e.Sizing={}));class i extends C.Disposable{constructor(h,v={}){super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=t.Idle,this._onDidSashChange=this._register(new k.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new k.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=M.isUndefined(v.orientation)?0:v.orientation,this.inverseAltBehavior=!!v.inverseAltBehavior,this.proportionalLayout=M.isUndefined(v.proportionalLayout)?!0:!!v.proportionalLayout,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=p.append(this.el,p.$(".sash-container")),this.viewContainer=p.$(".split-view-container"),this.scrollable=new c.Scrollable(125,p.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new o.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?1:2,horizontal:this.orientation===1?1:2},this.scrollable)),this._register(this.scrollableElement.onScroll(m=>{this.viewContainer.scrollTop=m.scrollTop,this.viewContainer.scrollLeft=m.scrollLeft})),p.append(this.el,this.scrollableElement.getDomNode()),this.style(v.styles||a),v.descriptor&&(this.size=v.descriptor.size,v.descriptor.views.forEach((m,g)=>{const b=M.isUndefined(m.visible)||m.visible?m.size:{type:"invisible",cachedVisibleSize:m.size},w=m.view;this.doAddView(w,b,g,!0)}),this.contentSize=this.viewItems.reduce((m,g)=>m+g.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){for(const v of this.sashItems)v.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){for(const v of this.sashItems)v.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,v,m=this.viewItems.length,g){this.doAddView(h,v,m,g)}layout(h,v){const m=Math.max(this.size,this.contentSize);if(this.size=h,this.layoutContext=v,this.proportions)for(let g=0;g<this.viewItems.length;g++){const b=this.viewItems[g];b.size=y.clamp(Math.round(this.proportions[g]*h),b.minimumSize,b.maximumSize)}else{const g=S.range(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),w=g.filter(L=>this.viewItems[L].priority===2);this.resize(this.viewItems.length-1,h-m,void 0,b,w)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(h=>h.size/this.contentSize))}onSashStart({sash:h,start:v,alt:m}){for(const L of this.viewItems)L.enabled=!1;const g=this.sashItems.findIndex(L=>L.sash===h),b=C.combinedDisposable(f.domEvent(document.body,"keydown")(L=>w(this.sashDragState.current,L.altKey)),f.domEvent(document.body,"keyup")(()=>w(this.sashDragState.current,!1))),w=(L,E)=>{const N=this.viewItems.map(F=>F.size);let I=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(g===this.sashItems.length-1){const D=this.viewItems[g];I=(D.minimumSize-D.size)/2,T=(D.maximumSize-D.size)/2}else{const D=this.viewItems[g+1];I=(D.size-D.maximumSize)/2,T=(D.size-D.minimumSize)/2}let O,R;if(!E){const F=S.range(g,-1),D=S.range(g+1,this.viewItems.length),B=F.reduce((te,ae)=>te+(this.viewItems[ae].minimumSize-N[ae]),0),A=F.reduce((te,ae)=>te+(this.viewItems[ae].viewMaximumSize-N[ae]),0),W=D.length===0?Number.POSITIVE_INFINITY:D.reduce((te,ae)=>te+(N[ae]-this.viewItems[ae].minimumSize),0),V=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((te,ae)=>te+(N[ae]-this.viewItems[ae].viewMaximumSize),0),K=Math.max(B,V),j=Math.min(W,A),ee=this.findFirstSnapIndex(F),re=this.findFirstSnapIndex(D);if(typeof ee=="number"){const te=this.viewItems[ee],ae=Math.floor(te.viewMinimumSize/2);O={index:ee,limitDelta:te.visible?K-ae:K+ae,size:te.size}}if(typeof re=="number"){const te=this.viewItems[re],ae=Math.floor(te.viewMinimumSize/2);R={index:re,limitDelta:te.visible?j+ae:j-ae,size:te.size}}}this.sashDragState={start:L,current:L,index:g,sizes:N,minDelta:I,maxDelta:T,alt:E,snapBefore:O,snapAfter:R,disposable:b}};w(v,m)}onSashChange({current:h}){const{index:v,start:m,sizes:g,alt:b,minDelta:w,maxDelta:L,snapBefore:E,snapAfter:N}=this.sashDragState;this.sashDragState.current=h;const I=h-m,T=this.resize(v,I,g,void 0,void 0,w,L,E,N);if(b){const O=v===this.sashItems.length-1,R=this.viewItems.map(V=>V.size),F=O?v:v+1,D=this.viewItems[F],B=D.size-D.maximumSize,A=D.size-D.minimumSize,W=O?v-1:v+1;this.resize(W,-T,R,void 0,void 0,B,A)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const v of this.viewItems)v.enabled=!0}onViewChange(h,v){const m=this.viewItems.indexOf(h);m<0||m>=this.viewItems.length||(v=typeof v=="number"?v:h.size,v=y.clamp(v,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((h.size-v)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=v,this.relayout([m],void 0)))}resizeView(h,v){if(this.state!==t.Idle)throw new Error("Cant modify splitview");if(this.state=t.Busy,!(h<0||h>=this.viewItems.length)){const m=S.range(this.viewItems.length).filter(L=>L!==h),g=[...m.filter(L=>this.viewItems[L].priority===1),h],b=m.filter(L=>this.viewItems[L].priority===2),w=this.viewItems[h];v=Math.round(v),v=y.clamp(v,w.minimumSize,Math.min(w.maximumSize,this.size)),w.size=v,this.relayout(g,b),this.state=t.Idle}}distributeViewSizes(){const h=[];let v=0;for(const L of this.viewItems)L.maximumSize-L.minimumSize>0&&(h.push(L),v+=L.size);const m=Math.floor(v/h.length);for(const L of h)L.size=y.clamp(m,L.minimumSize,L.maximumSize);const g=S.range(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),w=g.filter(L=>this.viewItems[L].priority===2);this.relayout(b,w)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,v,m=this.viewItems.length,g){if(this.state!==t.Idle)throw new Error("Cant modify splitview");this.state=t.Busy;const b=p.$(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(m));const w=h.onDidChange(O=>this.onViewChange(I,O)),L=C.toDisposable(()=>this.viewContainer.removeChild(b)),E=C.combinedDisposable(w,L);let N;typeof v=="number"?N=v:v.type==="split"?N=this.getViewSize(v.index)/2:v.type==="invisible"?N={cachedVisibleSize:v.cachedVisibleSize}:N=h.minimumSize;const I=this.orientation===0?new l(b,h,N,E):new r(b,h,N,E);if(this.viewItems.splice(m,0,I),this.viewItems.length>1){const O=this.orientation===0?new _.Sash(this.sashContainer,{getHorizontalSashTop:re=>this.getSashPosition(re)},{orientation:1,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}):new _.Sash(this.sashContainer,{getVerticalSashLeft:re=>this.getSashPosition(re)},{orientation:0,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),R=this.orientation===0?re=>({sash:O,start:re.startY,current:re.currentY,alt:re.altKey}):re=>({sash:O,start:re.startX,current:re.currentX,alt:re.altKey}),D=k.Event.map(O.onDidStart,R)(this.onSashStart,this),A=k.Event.map(O.onDidChange,R)(this.onSashChange,this),V=k.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(re=>re.sash===O))(this.onSashEnd,this),K=O.onDidReset(()=>{const re=this.sashItems.findIndex(x=>x.sash===O),te=S.range(re,-1),ae=S.range(re+1,this.viewItems.length),Y=this.findFirstSnapIndex(te),P=this.findFirstSnapIndex(ae);typeof Y=="number"&&!this.viewItems[Y].visible||typeof P=="number"&&!this.viewItems[P].visible||this._onDidSashReset.fire(re)}),j=C.combinedDisposable(D,A,V,K,O),ee={sash:O,disposable:j};this.sashItems.splice(m-1,0,ee)}b.appendChild(h.element);let T;typeof v!="number"&&v.type==="split"&&(T=[v.index]),g||this.relayout([m],T),this.state=t.Idle,!g&&typeof v!="number"&&v.type==="distribute"&&this.distributeViewSizes()}relayout(h,v){const m=this.viewItems.reduce((g,b)=>g+b.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,h,v),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,v,m=this.viewItems.map(I=>I.size),g,b,w=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,E,N){if(h<0||h>=this.viewItems.length)return 0;const I=S.range(h,-1),T=S.range(h+1,this.viewItems.length);if(b)for(const re of b)S.pushToStart(I,re),S.pushToStart(T,re);if(g)for(const re of g)S.pushToEnd(I,re),S.pushToEnd(T,re);const O=I.map(re=>this.viewItems[re]),R=I.map(re=>m[re]),F=T.map(re=>this.viewItems[re]),D=T.map(re=>m[re]),B=I.reduce((re,te)=>re+(this.viewItems[te].minimumSize-m[te]),0),A=I.reduce((re,te)=>re+(this.viewItems[te].maximumSize-m[te]),0),W=T.length===0?Number.POSITIVE_INFINITY:T.reduce((re,te)=>re+(m[te]-this.viewItems[te].minimumSize),0),V=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((re,te)=>re+(m[te]-this.viewItems[te].maximumSize),0),K=Math.max(B,V,w),j=Math.min(W,A,L);let ee=!1;if(E){const re=this.viewItems[E.index],te=v>=E.limitDelta;ee=te!==re.visible,re.setVisible(te,E.size)}if(!ee&&N){const re=this.viewItems[N.index],te=v<N.limitDelta;ee=te!==re.visible,re.setVisible(te,N.size)}if(ee)return this.resize(h,v,m,g,b,w,L);v=y.clamp(v,K,j);for(let re=0,te=v;re<O.length;re++){const ae=O[re],Y=y.clamp(R[re]+te,ae.minimumSize,ae.maximumSize);te-=Y-R[re],ae.size=Y}for(let re=0,te=v;re<F.length;re++){const ae=F[re],Y=y.clamp(D[re]-te,ae.minimumSize,ae.maximumSize);te+=Y-D[re],ae.size=Y}return v}distributeEmptySpace(h){const v=this.viewItems.reduce((L,E)=>L+E.size,0);let m=this.size-v;const g=S.range(this.viewItems.length-1,-1),b=g.filter(L=>this.viewItems[L].priority===1),w=g.filter(L=>this.viewItems[L].priority===2);for(const L of w)S.pushToStart(g,L);for(const L of b)S.pushToEnd(g,L);typeof h=="number"&&S.pushToEnd(g,h);for(let L=0;m!==0&&L<g.length;L++){const E=this.viewItems[g[L]],N=y.clamp(E.size+m,E.minimumSize,E.maximumSize);m-=N-E.size,E.size=N}}layoutViews(){this.contentSize=this.viewItems.reduce((v,m)=>v+m.size,0);let h=0;for(const v of this.viewItems)v.layout(h,this.layoutContext),h+=v.size;this.sashItems.forEach(v=>v.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let h=!1;const v=this.viewItems.map(E=>h=E.size-E.minimumSize>0||h);h=!1;const m=this.viewItems.map(E=>h=E.maximumSize-E.size>0||h),g=[...this.viewItems].reverse();h=!1;const b=g.map(E=>h=E.size-E.minimumSize>0||h).reverse();h=!1;const w=g.map(E=>h=E.maximumSize-E.size>0||h).reverse();let L=0;for(let E=0;E<this.sashItems.length;E++){const{sash:N}=this.sashItems[E];L+=this.viewItems[E].size;const T=!(v[E]&&w[E+1]),O=!(m[E]&&b[E+1]);if(T&&O){const R=S.range(E,-1),F=S.range(E+1,this.viewItems.length),D=this.findFirstSnapIndex(R),B=this.findFirstSnapIndex(F),A=typeof D=="number"&&!this.viewItems[D].visible,W=typeof B=="number"&&!this.viewItems[B].visible;A&&b[E]&&(L>0||this.startSnappingEnabled)?N.state=1:W&&v[E]&&(L<this.contentSize||this.endSnappingEnabled)?N.state=2:N.state=0}else T&&!O?N.state=1:!T&&O?N.state=2:N.state=3}}getSashPosition(h){let v=0;for(let m=0;m<this.sashItems.length;m++)if(v+=this.viewItems[m].size,this.sashItems[m].sash===h)return v;return 0}findFirstSnapIndex(h){for(const v of h){const m=this.viewItems[v];if(!!m.visible&&m.snap)return v}for(const v of h){const m=this.viewItems[v];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return v}}dispose(){super.dispose(),this.viewItems.forEach(h=>h.dispose()),this.viewItems=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=i}),define(Q[308],J([10]),{}),define(Q[124],J([10]),{}),define(Q[208],J([0,1,7,99,124]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const M={},y=new k.IdGenerator("quick-input-button-icon-");function S(_){if(!!_){let d;const f=_.dark.toString();return M[f]?d=M[f]:(d=y.nextId(),C.createCSSRule(`.${d}`,`background-image: ${C.asCSSUrl(_.light||_.dark)}`),C.createCSSRule(`.vs-dark .${d}, .hc-black .${d}`,`background-image: ${C.asCSSUrl(_.dark)}`),M[f]=d),d}}e.getIconClass=S}),define(Q[309],J([10]),{}),define(Q[310],J([10]),{}),define(Q[311],J([10]),{}),define(Q[312],J([10]),{}),define(Q[313],J([10]),{}),define(Q[314],J([10]),{}),define(Q[315],J([10]),{}),define(Q[316],J([10]),{}),define(Q[317],J([10]),{}),define(Q[318],J([10]),{}),define(Q[319],J([10]),{}),define(Q[320],J([10]),{}),define(Q[321],J([10]),{}),define(Q[322],J([10]),{}),define(Q[323],J([10]),{}),define(Q[324],J([10]),{}),define(Q[325],J([10]),{}),define(Q[326],J([10]),{}),define(Q[327],J([10]),{}),define(Q[328],J([10]),{}),define(Q[329],J([10]),{}),define(Q[330],J([10]),{}),define(Q[331],J([10]),{}),define(Q[332],J([10]),{}),define(Q[333],J([10]),{}),define(Q[334],J([10]),{}),define(Q[335],J([10]),{}),define(Q[336],J([10]),{}),define(Q[337],J([10]),{}),define(Q[338],J([10]),{}),define(Q[339],J([10]),{}),define(Q[340],J([10]),{}),define(Q[341],J([10]),{}),define(Q[342],J([10]),{}),define(Q[343],J([10]),{}),define(Q[344],J([10]),{}),define(Q[345],J([10]),{}),define(Q[346],J([10]),{}),define(Q[347],J([10]),{}),define(Q[348],J([10]),{}),define(Q[349],J([10]),{}),define(Q[350],J([10]),{}),define(Q[351],J([10]),{}),define(Q[352],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class C{constructor(S,_){this.chr=S,this.type=_,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=C;class k{constructor(S,_){this._bareFontInfo=S,this._requests=_,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const _=document.createElement("div");_.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),_.style.fontWeight=this._bareFontInfo.fontWeight,_.style.fontSize=this._bareFontInfo.fontSize+"px",_.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,_.style.lineHeight=this._bareFontInfo.lineHeight+"px",_.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(_);const d=document.createElement("div");d.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),d.style.fontWeight="bold",d.style.fontSize=this._bareFontInfo.fontSize+"px",d.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,d.style.lineHeight=this._bareFontInfo.lineHeight+"px",d.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(d);const f=document.createElement("div");f.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),f.style.fontWeight=this._bareFontInfo.fontWeight,f.style.fontSize=this._bareFontInfo.fontSize+"px",f.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,f.style.lineHeight=this._bareFontInfo.lineHeight+"px",f.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.style.fontStyle="italic",S.appendChild(f);const p=[];for(const o of this._requests){let c;o.type===0&&(c=_),o.type===2&&(c=d),o.type===1&&(c=f),c.appendChild(document.createElement("br"));const a=document.createElement("span");k._render(a,o),c.appendChild(a),p.push(a)}this._container=S,this._testElements=p}static _render(S,_){if(_.chr===" "){let d="\xA0";for(let f=0;f<8;f++)d+=d;S.innerText=d}else{let d=_.chr;for(let f=0;f<8;f++)d+=d;S.textContent=d}}_readFromDomElements(){for(let S=0,_=this._requests.length;S<_;S++){const d=this._requests[S],f=this._testElements[S];d.fulfill(f.offsetWidth/256)}}}function M(y,S){new k(y,S).read()}e.readCharWidths=M}),define(Q[209],J([0,1,2]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends C.Disposable{constructor(y,S,_){super();this.referenceDomElement=y,this.changeCallback=_,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(y=>{y&&y[0]&&y[0].contentRect?this.observe({width:y[0].contentRect.width,height:y[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(y){this.measureReferenceDomElement(!0,y)}measureReferenceDomElement(y,S){let _=0,d=0;S?(_=S.width,d=S.height):this.referenceDomElement&&(_=this.referenceDomElement.clientWidth,d=this.referenceDomElement.clientHeight),_=Math.max(5,_),d=Math.max(5,d),(this.width!==_||this.height!==d)&&(this.width=_,this.height=d,y&&this.changeCallback())}}e.ElementSizeObserver=k}),define(Q[159],J([0,1,7,89,50,2]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(l,r){this.x=l,this.y=r}toClientCoordinates(){return new _(this.x-C.StandardWindow.scrollX,this.y-C.StandardWindow.scrollY)}}e.PageCoordinates=S;class _{constructor(l,r){this.clientX=l,this.clientY=r}toPageCoordinates(){return new S(this.clientX+C.StandardWindow.scrollX,this.clientY+C.StandardWindow.scrollY)}}e.ClientCoordinates=_;class d{constructor(l,r,t,n){this.x=l,this.y=r,this.width=t,this.height=n}}e.EditorPagePosition=d;function f(s){const l=C.getDomNodePagePosition(s);return new d(l.left,l.top,l.width,l.height)}e.createEditorPagePosition=f;class p extends M.StandardMouseEvent{constructor(l,r){super(l);this.pos=new S(this.posx,this.posy),this.editorPos=f(r)}}e.EditorMouseEvent=p;class o{constructor(l){this._editorViewDomNode=l}_create(l){return new p(l,this._editorViewDomNode)}onContextMenu(l,r){return C.addDisposableListener(l,"contextmenu",t=>{r(this._create(t))})}onMouseUp(l,r){return C.addDisposableListener(l,"mouseup",t=>{r(this._create(t))})}onMouseDown(l,r){return C.addDisposableListener(l,"mousedown",t=>{r(this._create(t))})}onMouseLeave(l,r){return C.addDisposableNonBubblingMouseOutListener(l,t=>{r(this._create(t))})}onMouseMoveThrottled(l,r,t,n){const i=(u,h)=>t(u,this._create(h));return C.addDisposableThrottledListener(l,"mousemove",r,i,n)}}e.EditorMouseEventFactory=o;class c{constructor(l){this._editorViewDomNode=l}_create(l){return new p(l,this._editorViewDomNode)}onPointerUp(l,r){return C.addDisposableListener(l,"pointerup",t=>{r(this._create(t))})}onPointerDown(l,r){return C.addDisposableListener(l,"pointerdown",t=>{r(this._create(t))})}onPointerLeave(l,r){return C.addDisposableNonBubblingPointerOutListener(l,t=>{r(this._create(t))})}onPointerMoveThrottled(l,r,t,n){const i=(u,h)=>t(u,this._create(h));return C.addDisposableThrottledListener(l,"pointermove",r,i,n)}}e.EditorPointerEventFactory=c;class a extends y.Disposable{constructor(l){super();this._editorViewDomNode=l,this._globalMouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(l,r,t,n,i){this._keydownListener=C.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const u=(h,v)=>t(h,new p(v,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(l,r,u,n,h=>{this._keydownListener.dispose(),i(h)})}}e.GlobalEditorMouseMoveMonitor=a}),define(Q[353],J([0,1,4,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class M extends k.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new C.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new C.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new C.Emitter),this._onDiffEditorRemove=this._register(new C.Emitter),this._onDecorationTypeRegistered=this._register(new C.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const _=this.listCodeEditors();for(const d of _){if(d.hasTextFocus())return d;d.hasWidgetFocus()&&(S=d)}return S}setModelProperty(S,_,d){const f=S.toString();let p;this._modelProperties.has(f)?p=this._modelProperties.get(f):(p=new Map,this._modelProperties.set(f,p)),p.set(_,d)}getModelProperty(S,_){const d=S.toString();if(this._modelProperties.has(d))return this._modelProperties.get(d).get(_)}}e.AbstractCodeEditorService=M}),define(Q[210],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let M=32;M<=126;M++)k.push(M);return k.push(65533),k})();const C=(k,M)=>(k-=32,k<0||k>96?M<=2?(k+96)%96:96-1:k);e.getCharIndex=C}),define(Q[354],J([0,1,210,121]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class M{constructor(S,_){this.scale=_,this.charDataNormal=M.soften(S,12/15),this.charDataLight=M.soften(S,50/60)}static soften(S,_){let d=new Uint8ClampedArray(S.length);for(let f=0,p=S.length;f<p;f++)d[f]=k.toUint8(S[f]*_);return d}renderChar(S,_,d,f,p,o,c,a,s){const l=1*this.scale,r=2*this.scale,t=s?1:r;if(_+l>S.width||d+t>S.height){console.warn("bad render request outside image data");return}const n=a?this.charDataLight:this.charDataNormal,i=C.getCharIndex(f,c),u=S.width*4,h=o.r,v=o.g,m=o.b,g=p.r-h,b=p.g-v,w=p.b-m,L=S.data;let E=i*l*r,N=d*u+_*4;for(let I=0;I<t;I++){let T=N;for(let O=0;O<l;O++){const R=n[E++]/255;L[T++]=h+g*R,L[T++]=v+b*R,L[T++]=m+w*R,T++}N+=u}}blockRenderChar(S,_,d,f,p,o,c){const a=1*this.scale,s=2*this.scale,l=c?1:s;if(_+a>S.width||d+l>S.height){console.warn("bad render request outside image data");return}const r=S.width*4,t=.5,n=p.r,i=p.g,u=p.b,h=f.r-n,v=f.g-i,m=f.b-u,g=n+h*t,b=i+v*t,w=u+m*t,L=S.data;let E=d*r+_*4;for(let N=0;N<l;N++){let I=E;for(let T=0;T<a;T++)L[I++]=g,L[I++]=b,L[I++]=w,I++;E+=r}}}e.MinimapCharRenderer=M}),define(Q[355],J([0,1,88]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},M=y=>{const S=new Uint8ClampedArray(y.length/2);for(let _=0;_<y.length;_+=2)S[_>>1]=k[y[_]]<<4|k[y[_+1]]&15;return S};e.prebakedMiniMaps={1:C.once(()=>M("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:C.once(()=>M("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(Q[356],J([0,1,354,210,355,121]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(d,f){if(this.lastCreated&&d===this.lastCreated.scale&&f===this.lastFontFamily)return this.lastCreated;let p;return M.prebakedMiniMaps[d]?p=new C.MinimapCharRenderer(M.prebakedMiniMaps[d](),d):p=S.createFromSampleData(S.createSampleData(f).data,d),this.lastFontFamily=f,this.lastCreated=p,p}static createSampleData(d){const f=document.createElement("canvas"),p=f.getContext("2d");f.style.height=`${16}px`,f.height=16,f.width=96*10,f.style.width=96*10+"px",p.fillStyle="#ffffff",p.font=`bold ${16}px ${d}`,p.textBaseline="middle";let o=0;for(const c of k.allCharCodes)p.fillText(String.fromCharCode(c),o,16/2),o+=10;return p.getImageData(0,0,96*10,16)}static createFromSampleData(d,f){const p=16*10*4*96;if(d.length!==p)throw new Error("Unexpected source in MinimapCharRenderer");let o=S._downsample(d,f);return new C.MinimapCharRenderer(o,f)}static _downsampleChar(d,f,p,o,c){const a=1*c,s=2*c;let l=o,r=0;for(let t=0;t<s;t++){const n=t/s*16,i=(t+1)/s*16;for(let u=0;u<a;u++){const h=u/a*10,v=(u+1)/a*10;let m=0,g=0;for(let w=n;w<i;w++){const L=f+Math.floor(w)*3840,E=1-(w-Math.floor(w));for(let N=h;N<v;N++){const I=1-(N-Math.floor(N)),T=L+Math.floor(N)*4,O=I*E;g+=O,m+=d[T]*d[T+3]/255*O}}const b=m/g;r=Math.max(r,b),p[l++]=y.toUint8(b)}}return r}static _downsample(d,f){const p=2*f*1*f,o=p*96,c=new Uint8ClampedArray(o);let a=0,s=0,l=0;for(let r=0;r<96;r++)l=Math.max(l,this._downsampleChar(d,s,c,a,f)),a+=p,s+=10*4;if(l>0){const r=255/l;for(let t=0;t<o;t++)c[t]*=r}return c}}e.MinimapCharRendererFactory=S}),define(Q[125],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new C.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(Q[160],J([0,1,17,125]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const M=C.isMacintosh?1.5:1.35,y=8;class S{constructor(f){this.zoomLevel=f.zoomLevel,this.pixelRatio=f.pixelRatio,this.fontFamily=String(f.fontFamily),this.fontWeight=String(f.fontWeight),this.fontSize=f.fontSize,this.fontFeatureSettings=f.fontFeatureSettings,this.lineHeight=f.lineHeight|0,this.letterSpacing=f.letterSpacing}static createFromValidatedSettings(f,p,o,c){const a=f.get(37),s=f.get(41),l=f.get(40),r=f.get(39),t=f.get(53),n=f.get(50);return S._create(a,s,l,r,t,n,p,o,c)}static _create(f,p,o,c,a,s,l,r,t){a===0?a=Math.round(M*o):a<y&&(a=y);const n=1+(t?0:k.EditorZoom.getZoomLevel()*.1);return o*=n,a*=n,new S({zoomLevel:l,pixelRatio:r,fontFamily:f,fontWeight:p,fontSize:o,fontFeatureSettings:c,lineHeight:a,letterSpacing:s})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class _ extends S{constructor(f,p){super(f);this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=p,this.isMonospace=f.isMonospace,this.typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=f.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=f.canUseHalfwidthRightwardsArrow,this.spaceWidth=f.spaceWidth,this.middotWidth=f.middotWidth,this.wsmiddotWidth=f.wsmiddotWidth,this.maxDigitWidth=f.maxDigitWidth}equals(f){return this.fontFamily===f.fontFamily&&this.fontWeight===f.fontWeight&&this.fontSize===f.fontSize&&this.fontFeatureSettings===f.fontFeatureSettings&&this.lineHeight===f.lineHeight&&this.letterSpacing===f.letterSpacing&&this.typicalHalfwidthCharacterWidth===f.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===f.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===f.canUseHalfwidthRightwardsArrow&&this.spaceWidth===f.spaceWidth&&this.middotWidth===f.middotWidth&&this.wsmiddotWidth===f.wsmiddotWidth&&this.maxDigitWidth===f.maxDigitWidth}}e.FontInfo=_}),define(Q[90],J([0,1,121]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){let _=C.toUint8(S);this._defaultValue=_,this._asciiMap=k._createAsciiMap(_),this._map=new Map}static _createAsciiMap(S){let _=new Uint8Array(256);for(let d=0;d<256;d++)_[d]=S;return _}set(S,_){let d=C.toUint8(_);S>=0&&S<256?this._asciiMap[S]=d:this._map.set(S,d)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=k;class M{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=M}),define(Q[105],J([0,1,90]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends C.CharacterClassifier{constructor(S){super(0);for(let _=0,d=S.length;_<d;_++)this.set(S.charCodeAt(_),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function M(y){let S={};return _=>(S.hasOwnProperty(_)||(S[_]=y(_)),S[_])}e.getMapForWordSeparators=M(y=>new k(y))}),define(Q[12],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class C{constructor(M,y){this.lineNumber=M,this.column=y}with(M=this.lineNumber,y=this.column){return M===this.lineNumber&&y===this.column?this:new C(M,y)}delta(M=0,y=0){return this.with(this.lineNumber+M,this.column+y)}equals(M){return C.equals(this,M)}static equals(M,y){return!M&&!y?!0:!!M&&!!y&&M.lineNumber===y.lineNumber&&M.column===y.column}isBefore(M){return C.isBefore(this,M)}static isBefore(M,y){return M.lineNumber<y.lineNumber?!0:y.lineNumber<M.lineNumber?!1:M.column<y.column}isBeforeOrEqual(M){return C.isBeforeOrEqual(this,M)}static isBeforeOrEqual(M,y){return M.lineNumber<y.lineNumber?!0:y.lineNumber<M.lineNumber?!1:M.column<=y.column}static compare(M,y){let S=M.lineNumber|0,_=y.lineNumber|0;if(S===_){let d=M.column|0,f=y.column|0;return d-f}return S-_}clone(){return new C(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(M){return new C(M.lineNumber,M.column)}static isIPosition(M){return M&&typeof M.lineNumber=="number"&&typeof M.column=="number"}}e.Position=C}),define(Q[3],J([0,1,12]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(y,S,_,d){y>_||y===_&&S>d?(this.startLineNumber=_,this.startColumn=d,this.endLineNumber=y,this.endColumn=S):(this.startLineNumber=y,this.startColumn=S,this.endLineNumber=_,this.endColumn=d)}isEmpty(){return k.isEmpty(this)}static isEmpty(y){return y.startLineNumber===y.endLineNumber&&y.startColumn===y.endColumn}containsPosition(y){return k.containsPosition(this,y)}static containsPosition(y,S){return!(S.lineNumber<y.startLineNumber||S.lineNumber>y.endLineNumber||S.lineNumber===y.startLineNumber&&S.column<y.startColumn||S.lineNumber===y.endLineNumber&&S.column>y.endColumn)}containsRange(y){return k.containsRange(this,y)}static containsRange(y,S){return!(S.startLineNumber<y.startLineNumber||S.endLineNumber<y.startLineNumber||S.startLineNumber>y.endLineNumber||S.endLineNumber>y.endLineNumber||S.startLineNumber===y.startLineNumber&&S.startColumn<y.startColumn||S.endLineNumber===y.endLineNumber&&S.endColumn>y.endColumn)}strictContainsRange(y){return k.strictContainsRange(this,y)}static strictContainsRange(y,S){return!(S.startLineNumber<y.startLineNumber||S.endLineNumber<y.startLineNumber||S.startLineNumber>y.endLineNumber||S.endLineNumber>y.endLineNumber||S.startLineNumber===y.startLineNumber&&S.startColumn<=y.startColumn||S.endLineNumber===y.endLineNumber&&S.endColumn>=y.endColumn)}plusRange(y){return k.plusRange(this,y)}static plusRange(y,S){let _,d,f,p;return S.startLineNumber<y.startLineNumber?(_=S.startLineNumber,d=S.startColumn):S.startLineNumber===y.startLineNumber?(_=S.startLineNumber,d=Math.min(S.startColumn,y.startColumn)):(_=y.startLineNumber,d=y.startColumn),S.endLineNumber>y.endLineNumber?(f=S.endLineNumber,p=S.endColumn):S.endLineNumber===y.endLineNumber?(f=S.endLineNumber,p=Math.max(S.endColumn,y.endColumn)):(f=y.endLineNumber,p=y.endColumn),new k(_,d,f,p)}intersectRanges(y){return k.intersectRanges(this,y)}static intersectRanges(y,S){let _=y.startLineNumber,d=y.startColumn,f=y.endLineNumber,p=y.endColumn,o=S.startLineNumber,c=S.startColumn,a=S.endLineNumber,s=S.endColumn;return _<o?(_=o,d=c):_===o&&(d=Math.max(d,c)),f>a?(f=a,p=s):f===a&&(p=Math.min(p,s)),_>f||_===f&&d>p?null:new k(_,d,f,p)}equalsRange(y){return k.equalsRange(this,y)}static equalsRange(y,S){return!!y&&!!S&&y.startLineNumber===S.startLineNumber&&y.startColumn===S.startColumn&&y.endLineNumber===S.endLineNumber&&y.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(y){return new C.Position(y.endLineNumber,y.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(y){return new C.Position(y.startLineNumber,y.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(y,S){return new k(this.startLineNumber,this.startColumn,y,S)}setStartPosition(y,S){return new k(y,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(y){return new k(y.startLineNumber,y.startColumn,y.startLineNumber,y.startColumn)}static fromPositions(y,S=y){return new k(y.lineNumber,y.column,S.lineNumber,S.column)}static lift(y){return y?new k(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):null}static isIRange(y){return y&&typeof y.startLineNumber=="number"&&typeof y.startColumn=="number"&&typeof y.endLineNumber=="number"&&typeof y.endColumn=="number"}static areIntersectingOrTouching(y,S){return!(y.endLineNumber<S.startLineNumber||y.endLineNumber===S.startLineNumber&&y.endColumn<S.startColumn||S.endLineNumber<y.startLineNumber||S.endLineNumber===y.startLineNumber&&S.endColumn<y.startColumn)}static areIntersecting(y,S){return!(y.endLineNumber<S.startLineNumber||y.endLineNumber===S.startLineNumber&&y.endColumn<=S.startColumn||S.endLineNumber<y.startLineNumber||S.endLineNumber===y.startLineNumber&&S.endColumn<=y.startColumn)}static compareRangesUsingStarts(y,S){if(y&&S){const f=y.startLineNumber|0,p=S.startLineNumber|0;if(f===p){const o=y.startColumn|0,c=S.startColumn|0;if(o===c){const a=y.endLineNumber|0,s=S.endLineNumber|0;if(a===s){const l=y.endColumn|0,r=S.endColumn|0;return l-r}return a-s}return o-c}return f-p}return(y?1:0)-(S?1:0)}static compareRangesUsingEnds(y,S){return y.endLineNumber===S.endLineNumber?y.endColumn===S.endColumn?y.startLineNumber===S.startLineNumber?y.startColumn-S.startColumn:y.startLineNumber-S.startLineNumber:y.endColumn-S.endColumn:y.endLineNumber-S.endLineNumber}static spansMultipleLines(y){return y.endLineNumber>y.startLineNumber}}e.Range=k}),define(Q[211],J([0,1,8,12,3]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=void 0;class y{constructor(d,f,p,o,c){this.value=d,this.selectionStart=f,this.selectionEnd=p,this.selectionStartPosition=o,this.selectionEndPosition=c}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(d){return new y(d.getValue(),d.getSelectionStart(),d.getSelectionEnd(),null,null)}collapseSelection(){return new y(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(d,f,p){f.setValue(d,this.value),p&&f.setSelectionRange(d,this.selectionStart,this.selectionEnd)}deduceEditorPosition(d){if(d<=this.selectionStart){const o=this.value.substring(d,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,o,-1)}if(d>=this.selectionEnd){const o=this.value.substring(this.selectionEnd,d);return this._finishDeduceEditorPosition(this.selectionEndPosition,o,1)}const f=this.value.substring(this.selectionStart,d);if(f.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,f,1);const p=this.value.substring(d,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,p,-1)}_finishDeduceEditorPosition(d,f,p){let o=0,c=-1;for(;(c=f.indexOf(`
`,c+1))!==-1;)o++;return[d,p*f.length,o]}static selectedText(d){return new y(d,0,d.length,null,null)}static deduceInput(d,f,p){if(!d)return{text:"",replaceCharCnt:0};let o=d.value,c=d.selectionStart,a=d.selectionEnd,s=f.value,l=f.selectionStart,r=f.selectionEnd;const t=o.substring(a),n=s.substring(r),i=C.commonSuffixLength(t,n);s=s.substring(0,s.length-i),o=o.substring(0,o.length-i);const u=o.substring(0,c),h=s.substring(0,l),v=C.commonPrefixLength(u,h);if(s=s.substring(v),o=o.substring(v),l-=v,c-=v,r-=v,a-=v,p&&l===r&&o.length>0){let g=null;if(l===s.length?s.startsWith(o)&&(g=s.substring(o.length)):s.endsWith(o)&&(g=s.substring(0,s.length-o.length)),g!==null&&g.length>0&&(/\uFE0F/.test(g)||C.containsEmoji(g)))return{text:g,replaceCharCnt:0}}if(l===r){if(o===s&&c===0&&a===o.length&&l===s.length&&s.indexOf(`
`)===-1&&C.containsFullWidthCharacter(s))return{text:"",replaceCharCnt:0};const g=u.length-v;return{text:s,replaceCharCnt:g}}const m=a-c;return{text:s,replaceCharCnt:m}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,null);class S{static _getPageOfLine(d,f){return Math.floor((d-1)/f)}static _getRangeForPage(d,f){const p=d*f,o=p+1,c=p+f;return new M.Range(o,1,c+1,1)}static fromEditorSelection(d,f,p,o,c){const a=S._getPageOfLine(p.startLineNumber,o),s=S._getRangeForPage(a,o),l=S._getPageOfLine(p.endLineNumber,o),r=S._getRangeForPage(l,o),t=s.intersectRanges(new M.Range(1,1,p.startLineNumber,p.startColumn));let n=f.getValueInRange(t,1);const i=f.getLineCount(),u=f.getLineMaxColumn(i),h=r.intersectRanges(new M.Range(p.endLineNumber,p.endColumn,i,u));let v=f.getValueInRange(h,1),m;if(a===l||a+1===l)m=f.getValueInRange(p,1);else{const g=s.intersectRanges(p),b=r.intersectRanges(p);m=f.getValueInRange(g,1)+String.fromCharCode(8230)+f.getValueInRange(b,1)}if(c){const g=500;n.length>g&&(n=n.substring(n.length-g,n.length)),v.length>g&&(v=v.substring(0,g)),m.length>2*g&&(m=m.substring(0,g)+String.fromCharCode(8230)+m.substring(m.length-g,m.length))}return new y(n+m+v,n.length,n.length+m.length,new k.Position(p.startLineNumber,p.startColumn),new k.Position(p.endLineNumber,p.endColumn))}}e.PagedScreenReaderStrategy=S}),define(Q[212],J([0,1,191,4,2,39,3]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const _={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class d extends M.Disposable{constructor(p,o={}){super();this._onDidUpdate=this._register(new k.Emitter),this._editor=p,this._options=y.mixin(o,_,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(c=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(c=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(p){this.ranges=[],p&&p.forEach(o=>{!this._options.ignoreCharChanges&&o.charChanges?o.charChanges.forEach(c=>{this.ranges.push({rhs:!0,range:new S.Range(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(o.modifiedStartLineNumber,1,o.modifiedStartLineNumber,1)})}),this.ranges.sort((o,c)=>o.range.getStartPosition().isBeforeOrEqual(c.range.getStartPosition())?-1:c.range.getStartPosition().isBeforeOrEqual(o.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(p){let o=!1,c=this._editor.getPosition();if(!c){this.nextIdx=0;return}for(let a=0,s=this.ranges.length;a<s&&!o;a++){let l=this.ranges[a].range;c.isBeforeOrEqual(l.getStartPosition())&&(this.nextIdx=a+(p?0:-1),o=!0)}o||(this.nextIdx=p?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(p,o){if(C.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(p):p?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let c=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let a=c.range.getStartPosition();this._editor.setPosition(a),this._editor.revealPositionInCenter(a,o)}finally{this.ignoreSelectionChange=!1}}}canNavigate(){return this.ranges&&this.ranges.length>0}next(p=0){this._move(!0,p)}previous(p=0){this._move(!1,p)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=d}),define(Q[61],J([0,1,3]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(y,S){return{range:new C.Range(y.lineNumber,y.column,y.lineNumber,y.column),text:S,forceMoveMarkers:!0}}static delete(y){return{range:y,text:null}}static replace(y,S){return{range:y,text:S}}static replaceMove(y,S){return{range:y,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(Q[357],J([0,1,8,61,3]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class y{constructor(d,f){this._selection=d,this._cursors=f,this._selectionId=null}getEditOperations(d,f){let p=S(d,this._cursors);for(let o=0,c=p.length;o<c;o++){let a=p[o];f.addEditOperation(a.range,a.text)}this._selectionId=f.trackSelection(this._selection)}computeCursorState(d,f){return f.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=y;function S(_,d){d.sort((a,s)=>a.lineNumber===s.lineNumber?a.column-s.column:a.lineNumber-s.lineNumber);for(let a=d.length-2;a>=0;a--)d[a].lineNumber===d[a+1].lineNumber&&d.splice(a,1);let f=[],p=0,o=0,c=d.length;for(let a=1,s=_.getLineCount();a<=s;a++){let l=_.getLineContent(a),r=l.length+1,t=0;if(!(o<c&&d[o].lineNumber===a&&(t=d[o].column,o++,t===r))&&l.length!==0){let n=C.lastNonWhitespaceIndex(l),i=0;if(n===-1)i=1;else if(n!==l.length-1)i=n+2;else continue;i=Math.max(t,i),f[p++]=k.EditOperation.delete(new M.Range(a,i,a,r))}}return f}e.trimTrailingWhitespace=S}),define(Q[213],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class C{constructor(M,y,S,_){this.r=C._clamp(M),this.g=C._clamp(y),this.b=C._clamp(S),this.a=C._clamp(_)}equals(M){return this.r===M.r&&this.g===M.g&&this.b===M.b&&this.a===M.a}static _clamp(M){return M<0?0:M>255?255:M|0}}e.RGBA8=C,C.Empty=new C(0,0,0,0)}),define(Q[20],J([0,1,12,3]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class M extends k.Range{constructor(S,_,d,f){super(S,_,d,f);this.selectionStartLineNumber=S,this.selectionStartColumn=_,this.positionLineNumber=d,this.positionColumn=f}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return M.selectionsEqual(this,S)}static selectionsEqual(S,_){return S.selectionStartLineNumber===_.selectionStartLineNumber&&S.selectionStartColumn===_.selectionStartColumn&&S.positionLineNumber===_.positionLineNumber&&S.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,_){return this.getDirection()===0?new M(this.startLineNumber,this.startColumn,S,_):new M(S,_,this.startLineNumber,this.startColumn)}getPosition(){return new C.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,_){return this.getDirection()===0?new M(S,_,this.endLineNumber,this.endColumn):new M(this.endLineNumber,this.endColumn,S,_)}static fromPositions(S,_=S){return new M(S.lineNumber,S.column,_.lineNumber,_.column)}static liftSelection(S){return new M(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,_){if(S&&!_||!S&&_)return!1;if(!S&&!_)return!0;if(S.length!==_.length)return!1;for(let d=0,f=S.length;d<f;d++)if(!this.selectionsEqual(S[d],_[d]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,_,d,f,p){return p===0?new M(S,_,d,f):new M(d,f,S,_)}}e.Selection=M}),define(Q[214],J([0,1,34,7,15,4,2,17,8,211,12,20,118]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=void 0,e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(n,i){this._lastState={lastCopiedValue:n,data:i}}get(n){return this._lastState&&this._lastState.lastCopiedValue===n?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=a,a.INSTANCE=new a;class s extends S.Disposable{constructor(n,i){super();this.textArea=i,this._onFocus=this._register(new y.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new y.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new y.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new y.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new y.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new y.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new y.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new y.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new y.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new y.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=n,this._textArea=this._register(new r(i)),this._asyncTriggerCut=this._register(new M.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=f.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let u=null;this._register(k.addStandardDisposableListener(i.domNode,"keydown",g=>{(g.keyCode===109||this._isDoingComposition&&g.keyCode===1)&&g.stopPropagation(),g.equals(9)&&g.preventDefault(),u=g,this._onKeyDown.fire(g)})),this._register(k.addStandardDisposableListener(i.domNode,"keyup",g=>{this._onKeyUp.fire(g)})),this._register(k.addDisposableListener(i.domNode,"compositionstart",g=>{if(!this._isDoingComposition){this._isDoingComposition=!0;let b=!1;_.isMacintosh&&u&&u.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===g.data&&(u.code==="ArrowRight"||u.code==="ArrowLeft")&&(b=!0),b?this._textAreaState=new f.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new p.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition):C.isEdge||this._setAndWriteTextAreaState("compositionstart",f.TextAreaState.EMPTY),this._onCompositionStart.fire({moveOneCharacterLeft:b})}}));const h=g=>{const b=this._textAreaState,w=f.TextAreaState.readFromTextArea(this._textArea);return[w,f.TextAreaState.deduceInput(b,w,g)]},v=g=>{const b=this._textAreaState,w=f.TextAreaState.selectedText(g),L={text:w.value,replaceCharCnt:b.selectionEnd-b.selectionStart};return[w,L]},m=g=>!!(C.isEdge&&g==="ja");this._register(k.addDisposableListener(i.domNode,"compositionupdate",g=>{if(m(g.locale)){const[L,E]=h(!1);this._textAreaState=L,this._onType.fire(E),this._onCompositionUpdate.fire(g);return}const[b,w]=v(g.data||"");this._textAreaState=b,this._onType.fire(w),this._onCompositionUpdate.fire(g)})),this._register(k.addDisposableListener(i.domNode,"compositionend",g=>{if(!!this._isDoingComposition){if(m(g.locale)){const[b,w]=h(!1);this._textAreaState=b,this._onType.fire(w)}else{const[b,w]=v(g.data||"");this._textAreaState=b,this._onType.fire(w)}(C.isEdge||C.isChrome||C.isFirefox)&&(this._textAreaState=f.TextAreaState.readFromTextArea(this._textArea)),!!this._isDoingComposition&&(this._isDoingComposition=!1,this._onCompositionEnd.fire())}})),this._register(k.addDisposableListener(i.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),!this._isDoingComposition){const[g,b]=h(_.isMacintosh);b.replaceCharCnt===0&&b.text.length===1&&d.isHighSurrogate(b.text.charCodeAt(0))||(this._textAreaState=g,this._nextCommand===0?b.text!==""&&this._onType.fire(b):((b.text!==""||b.replaceCharCnt!==0)&&this._firePaste(b.text,null),this._nextCommand=0))}})),this._register(k.addDisposableListener(i.domNode,"cut",g=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(g),this._asyncTriggerCut.schedule()})),this._register(k.addDisposableListener(i.domNode,"copy",g=>{this._ensureClipboardGetsEditorSelection(g)})),this._register(k.addDisposableListener(i.domNode,"paste",g=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),l.canUseTextData(g)){const[b,w]=l.getTextData(g);b!==""&&this._firePaste(b,w)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",f.TextAreaState.EMPTY),this._nextCommand=1})),this._register(k.addDisposableListener(i.domNode,"focus",()=>{this._setHasFocus(!0)})),this._register(k.addDisposableListener(i.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))}_installSelectionChangeListener(){let n=0;return k.addDisposableListener(document,"selectionchange",i=>{if(!!this._hasFocus&&!this._isDoingComposition&&!!C.isChrome){const u=Date.now(),h=u-n;if(n=u,!(h<5)){const v=u-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),!(v<100)&&!(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)){const m=this._textArea.getValue();if(this._textAreaState.value===m){const g=this._textArea.getSelectionStart(),b=this._textArea.getSelectionEnd();if(!(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===b)){const w=this._textAreaState.deduceEditorPosition(g),L=this._host.deduceModelPosition(w[0],w[1],w[2]),E=this._textAreaState.deduceEditorPosition(b),N=this._host.deduceModelPosition(E[0],E[1],E[2]),I=new o.Selection(L.lineNumber,L.column,N.lineNumber,N.column);this._onSelectionChangeRequest.fire(I)}}}}}})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const n=k.getShadowRoot(this.textArea.domNode);n?this._setHasFocus(n.activeElement===this.textArea.domNode):k.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(n){this._hasFocus!==n&&(this._hasFocus=n,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(C.isEdge?this._setAndWriteTextAreaState("focusgain",f.TextAreaState.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(n,i){this._hasFocus||(i=i.collapseSelection()),i.writeToTextArea(n,this._textArea,this._hasFocus),this._textAreaState=i}writeScreenReaderContent(n){this._isDoingComposition||this._setAndWriteTextAreaState(n,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(n){const i=this._host.getDataToCopy(l.canUseTextData(n)&&c.BrowserFeatures.clipboard.richText),u={version:1,isFromEmptySelection:i.isFromEmptySelection,multicursorText:i.multicursorText,mode:i.mode};if(a.INSTANCE.set(C.isFirefox?i.text.replace(/\r\n/g,`
`):i.text,u),!l.canUseTextData(n)){this._setAndWriteTextAreaState("copy or cut",f.TextAreaState.selectedText(i.text));return}l.setTextData(n,i.text,i.html,u)}_firePaste(n,i){i||(i=a.INSTANCE.get(n)),this._onPaste.fire({text:n,metadata:i})}}e.TextAreaInput=s;class l{static canUseTextData(n){return!!(n.clipboardData||window.clipboardData)}static getTextData(n){if(n.clipboardData){n.preventDefault();const i=n.clipboardData.getData("text/plain");let u=null;const h=n.clipboardData.getData("vscode-editor-data");if(typeof h=="string")try{u=JSON.parse(h),u.version!==1&&(u=null)}catch(v){}return[i,u]}if(window.clipboardData)return n.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(n,i,u,h){if(n.clipboardData){n.clipboardData.setData("text/plain",i),typeof u=="string"&&n.clipboardData.setData("text/html",u),n.clipboardData.setData("vscode-editor-data",JSON.stringify(h)),n.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",i),n.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class r extends S.Disposable{constructor(n){super();this._actual=n,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(n){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(n,i){const u=this._actual.domNode;u.value!==i&&(this.setIgnoreSelectionChangeTime("setValue"),u.value=i)}getSelectionStart(){return this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionEnd}setSelectionRange(n,i,u){const h=this._actual.domNode;let v=null;const m=k.getShadowRoot(h);m?v=m.activeElement:v=document.activeElement;const g=v===h,b=h.selectionStart,w=h.selectionEnd;if(g&&b===i&&w===u){C.isFirefox&&window.parent!==window&&h.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),h.setSelectionRange(i,u),C.isFirefox&&window.parent!==window&&h.focus();return}try{const L=k.saveParentsScrollTop(h);this.setIgnoreSelectionChangeTime("setSelectionRange"),h.focus(),h.setSelectionRange(i,u),k.restoreParentsScrollTop(h,L)}catch(L){}}}}),define(Q[91],J([0,1,20]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(f,p,o=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=o}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let c=p.getInverseEditOperations()[0].range;return new C.Selection(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn)}}e.ReplaceCommand=k;class M{constructor(f,p){this._range=f,this._text=p}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const c=p.getInverseEditOperations()[0].range;return new C.Selection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn)}}e.ReplaceCommandThatSelectsText=M;class y{constructor(f,p,o=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=o}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let c=p.getInverseEditOperations()[0].range;return new C.Selection(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn)}}e.ReplaceCommandWithoutChangingPosition=y;class S{constructor(f,p,o,c,a=!1){this._range=f,this._text=p,this._columnDeltaOffset=c,this._lineNumberDeltaOffset=o,this.insertsAutoWhitespace=a}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let c=p.getInverseEditOperations()[0].range;return new C.Selection(c.endLineNumber+this._lineNumberDeltaOffset,c.endColumn+this._columnDeltaOffset,c.endLineNumber+this._lineNumberDeltaOffset,c.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class _{constructor(f,p,o,c=!1){this._range=f,this._text=p,this._initialSelection=o,this._forceMoveMarkers=c,this._selectionId=null}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=p.trackSelection(this._initialSelection)}computeCursorState(f,p){return p.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=_}),define(Q[358],J([0,1,3,20]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class M{constructor(S,_,d){this._range=S,this._charBeforeSelection=_,this._charAfterSelection=d}getEditOperations(S,_){_.addTrackedEditOperation(new C.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),_.addTrackedEditOperation(new C.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,_){let d=_.getInverseEditOperations(),f=d[0].range,p=d[1].range;return new k.Selection(f.endLineNumber,f.endColumn,p.endLineNumber,p.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=M}),define(Q[92],J([0,1,8,17,120]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let y;function S(){return y||(y=new TextDecoder(k.isLittleEndian()?"UTF-16LE":"UTF-16BE")),y}e.getPlatformTextDecoder=S,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=o=>new f(o),e.decodeUTF16LE=_):(e.createStringBuilder=o=>new p,e.decodeUTF16LE=d);function _(o,c,a){const s=new Uint16Array(o.buffer,c,a);return S().decode(s)}function d(o,c,a){let s=[],l=0;for(let r=0;r<a;r++){const t=M.readUInt16LE(o,c);c+=2,s[l++]=String.fromCharCode(t)}return s.join("")}class f{constructor(c){this._capacity=c|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const c=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return S().decode(c)}_flushBuffer(){const c=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[c]:this._completedStrings[this._completedStrings.length]=c}write1(c){const a=this._capacity-this._bufferLength;a<=1&&(a===0||C.isHighSurrogate(c))&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCII(c){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=c}appendASCIIString(c){const a=c.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=c;return}for(let s=0;s<a;s++)this._buffer[this._bufferLength++]=c.charCodeAt(s)}}class p{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCII(c){this._pieces[this._piecesLen++]=String.fromCharCode(c)}appendASCIIString(c){this._pieces[this._piecesLen++]=c}}}),define(Q[161],J([0,1,30,92]),function(G,e,C,k){"use strict";var M;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(f){this._createLine=f,this._set(1,[])}flush(){this._set(1,[])}_set(f,p){this._lines=p,this._rendLineNumberStart=f}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(f){const p=f-this._rendLineNumberStart;if(p<0||p>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[p]}onLinesDeleted(f,p){if(this.getCount()===0)return null;const o=this.getStartLineNumber(),c=this.getEndLineNumber();if(p<o){const r=p-f+1;return this._rendLineNumberStart-=r,null}if(f>c)return null;let a=0,s=0;for(let r=o;r<=c;r++){const t=r-this._rendLineNumberStart;f<=r&&r<=p&&(s===0?(a=t,s=1):s++)}if(f<o){let r=0;p<o?r=p-f+1:r=o-f,this._rendLineNumberStart-=r}return this._lines.splice(a,s)}onLinesChanged(f,p){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),c=this.getEndLineNumber();let a=!1;for(let s=f;s<=p;s++)s>=o&&s<=c&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(f,p){if(this.getCount()===0)return null;const o=p-f+1,c=this.getStartLineNumber(),a=this.getEndLineNumber();if(f<=c)return this._rendLineNumberStart+=o,null;if(f>a)return null;if(o+f>a)return this._lines.splice(f-this._rendLineNumberStart,a-f+1);const s=[];for(let i=0;i<o;i++)s[i]=this._createLine();const l=f-this._rendLineNumberStart,r=this._lines.slice(0,l),t=this._lines.slice(l,this._lines.length-o),n=this._lines.slice(this._lines.length-o,this._lines.length);return this._lines=r.concat(s).concat(t),n}onTokensChanged(f){if(this.getCount()===0)return!1;const p=this.getStartLineNumber(),o=this.getEndLineNumber();let c=!1;for(let a=0,s=f.length;a<s;a++){const l=f[a];if(!(l.toLineNumber<p||l.fromLineNumber>o)){const r=Math.max(p,l.fromLineNumber),t=Math.min(o,l.toLineNumber);for(let n=r;n<=t;n++){const i=n-this._rendLineNumberStart;this._lines[i].onTokensChanged(),c=!0}}}return c}}e.RenderedLinesCollection=y;class S{constructor(f){this._host=f,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const f=C.createFastDomNode(document.createElement("div"));return f.setClassName("view-layer"),f.setPosition("absolute"),f.domNode.setAttribute("role","presentation"),f.domNode.setAttribute("aria-hidden","true"),f}onConfigurationChanged(f){return!!f.hasChanged(123)}onFlushed(f){return this._linesCollection.flush(),!0}onLinesChanged(f){return this._linesCollection.onLinesChanged(f.fromLineNumber,f.toLineNumber)}onLinesDeleted(f){const p=this._linesCollection.onLinesDeleted(f.fromLineNumber,f.toLineNumber);if(p)for(let o=0,c=p.length;o<c;o++){const a=p[o].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onLinesInserted(f){const p=this._linesCollection.onLinesInserted(f.fromLineNumber,f.toLineNumber);if(p)for(let o=0,c=p.length;o<c;o++){const a=p[o].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onScrollChanged(f){return f.scrollTopChanged}onTokensChanged(f){return this._linesCollection.onTokensChanged(f.ranges)}onZonesChanged(f){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(f){return this._linesCollection.getLine(f)}renderLines(f){const p=this._linesCollection._get(),o=new _(this.domNode.domNode,this._host,f),c={rendLineNumberStart:p.rendLineNumberStart,lines:p.lines,linesLength:p.lines.length},a=o.render(c,f.startLineNumber,f.endLineNumber,f.relativeVerticalOffset);this._linesCollection._set(a.rendLineNumberStart,a.lines)}}e.VisibleLinesCollection=S;class _{constructor(f,p,o){this.domNode=f,this.host=p,this.viewportData=o}render(f,p,o,c){const a={rendLineNumberStart:f.rendLineNumberStart,lines:f.lines.slice(0),linesLength:f.linesLength};if(a.rendLineNumberStart+a.linesLength-1<p||o<a.rendLineNumberStart){a.rendLineNumberStart=p,a.linesLength=o-p+1,a.lines=[];for(let s=p;s<=o;s++)a.lines[s-p]=this.host.createVisibleLine();return this._finishRendering(a,!0,c),a}if(this._renderUntouchedLines(a,Math.max(p-a.rendLineNumberStart,0),Math.min(o-a.rendLineNumberStart,a.linesLength-1),c,p),a.rendLineNumberStart>p){const s=p,l=Math.min(o,a.rendLineNumberStart-1);s<=l&&(this._insertLinesBefore(a,s,l,c,p),a.linesLength+=l-s+1)}else if(a.rendLineNumberStart<p){const s=Math.min(a.linesLength,p-a.rendLineNumberStart);s>0&&(this._removeLinesBefore(a,s),a.linesLength-=s)}if(a.rendLineNumberStart=p,a.rendLineNumberStart+a.linesLength-1<o){const s=a.rendLineNumberStart+a.linesLength,l=o;s<=l&&(this._insertLinesAfter(a,s,l,c,p),a.linesLength+=l-s+1)}else if(a.rendLineNumberStart+a.linesLength-1>o){const s=Math.max(0,o-a.rendLineNumberStart+1),r=a.linesLength-1-s+1;r>0&&(this._removeLinesAfter(a,r),a.linesLength-=r)}return this._finishRendering(a,!1,c),a}_renderUntouchedLines(f,p,o,c,a){const s=f.rendLineNumberStart,l=f.lines;for(let r=p;r<=o;r++){const t=s+r;l[r].layoutLine(t,c[t-a])}}_insertLinesBefore(f,p,o,c,a){const s=[];let l=0;for(let r=p;r<=o;r++)s[l++]=this.host.createVisibleLine();f.lines=s.concat(f.lines)}_removeLinesBefore(f,p){for(let o=0;o<p;o++){const c=f.lines[o].getDomNode();c&&this.domNode.removeChild(c)}f.lines.splice(0,p)}_insertLinesAfter(f,p,o,c,a){const s=[];let l=0;for(let r=p;r<=o;r++)s[l++]=this.host.createVisibleLine();f.lines=f.lines.concat(s)}_removeLinesAfter(f,p){const o=f.linesLength-p;for(let c=0;c<p;c++){const a=f.lines[o+c].getDomNode();a&&this.domNode.removeChild(a)}f.lines.splice(o,p)}_finishRenderingNewLines(f,p,o,c){_._ttPolicy&&(o=_._ttPolicy.createHTML(o));const a=this.domNode.lastChild;p||!a?this.domNode.innerHTML=o:a.insertAdjacentHTML("afterend",o);let s=this.domNode.lastChild;for(let l=f.linesLength-1;l>=0;l--){const r=f.lines[l];c[l]&&(r.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(f,p,o){const c=document.createElement("div");_._ttPolicy&&(p=_._ttPolicy.createHTML(p)),c.innerHTML=p;for(let a=0;a<f.linesLength;a++){const s=f.lines[a];if(o[a]){const l=c.firstChild,r=s.getDomNode();r.parentNode.replaceChild(l,r),s.setDomNode(l)}}}_finishRendering(f,p,o){const c=_._sb,a=f.linesLength,s=f.lines,l=f.rendLineNumberStart,r=[];{c.reset();let t=!1;for(let n=0;n<a;n++){const i=s[n];r[n]=!1,!i.getDomNode()&&(!i.renderLine(n+l,o[n],this.viewportData,c)||(r[n]=!0,t=!0))}t&&this._finishRenderingNewLines(f,p,c.build(),r)}{c.reset();let t=!1;const n=[];for(let i=0;i<a;i++){const u=s[i];n[i]=!1,!r[i]&&(!u.renderLine(i+l,o[i],this.viewportData,c)||(n[i]=!0,t=!0))}t&&this._finishRenderingInvalidLines(f,c.build(),n)}}}_._ttPolicy=(M=window.trustedTypes)===null||M===void 0?void 0:M.createPolicy("editorViewLayer",{createHTML:d=>d}),_._sb=k.createStringBuilder(1e5)}),define(Q[126],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class C{constructor(S,_,d){this.offset=S|0,this.type=_,this.language=d}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=C;class k{constructor(S,_){this.tokens=S,this.endState=_}}e.TokenizationResult=k;class M{constructor(S,_){this.tokens=S,this.endState=_}}e.TokenizationResult2=M}),define(Q[359],J([0,1,195,8]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const M=3;function y(l,r,t,n){return new C.LcsDiff(l,r,t).ComputeDiff(n)}class S{constructor(r){const t=[],n=[];for(let i=0,u=r.length;i<u;i++)t[i]=c(r[i],1),n[i]=a(r[i],1);this.lines=r,this._startColumns=t,this._endColumns=n}getElements(){const r=[];for(let t=0,n=this.lines.length;t<n;t++)r[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return r}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,t,n){const i=[],u=[],h=[];let v=0;for(let m=t;m<=n;m++){const g=this.lines[m],b=r?this._startColumns[m]:1,w=r?this._endColumns[m]:g.length+1;for(let L=b;L<w;L++)i[v]=g.charCodeAt(L-1),u[v]=m+1,h[v]=L,v++}return new _(i,u,h)}}class _{constructor(r,t,n){this._charCodes=r,this._lineNumbers=t,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class d{constructor(r,t,n,i,u,h,v,m){this.originalStartLineNumber=r,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=u,this.modifiedStartColumn=h,this.modifiedEndLineNumber=v,this.modifiedEndColumn=m}static createFromDiffChange(r,t,n){let i,u,h,v,m,g,b,w;return r.originalLength===0?(i=0,u=0,h=0,v=0):(i=t.getStartLineNumber(r.originalStart),u=t.getStartColumn(r.originalStart),h=t.getEndLineNumber(r.originalStart+r.originalLength-1),v=t.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(m=0,g=0,b=0,w=0):(m=n.getStartLineNumber(r.modifiedStart),g=n.getStartColumn(r.modifiedStart),b=n.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),w=n.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new d(i,u,h,v,m,g,b,w)}}function f(l){if(l.length<=1)return l;const r=[l[0]];let t=r[0];for(let n=1,i=l.length;n<i;n++){const u=l[n],h=u.originalStart-(t.originalStart+t.originalLength),v=u.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(h,v)<M?(t.originalLength=u.originalStart+u.originalLength-t.originalStart,t.modifiedLength=u.modifiedStart+u.modifiedLength-t.modifiedStart):(r.push(u),t=u)}return r}class p{constructor(r,t,n,i,u){this.originalStartLineNumber=r,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=u}static createFromDiffResult(r,t,n,i,u,h,v){let m,g,b,w,L;if(t.originalLength===0?(m=n.getStartLineNumber(t.originalStart)-1,g=0):(m=n.getStartLineNumber(t.originalStart),g=n.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(b=i.getStartLineNumber(t.modifiedStart)-1,w=0):(b=i.getStartLineNumber(t.modifiedStart),w=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),h&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&u()){const E=n.createCharSequence(r,t.originalStart,t.originalStart+t.originalLength-1),N=i.createCharSequence(r,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let I=y(E,N,u,!0).changes;v&&(I=f(I)),L=[];for(let T=0,O=I.length;T<O;T++)L.push(d.createFromDiffChange(I[T],E,N))}return new p(m,g,b,w,L)}}class o{constructor(r,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=t,this.original=new S(r),this.modified=new S(t),this.continueLineDiff=s(n.maxComputationTime),this.continueCharDiff=s(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=y(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=r.changes,n=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const v=[];for(let m=0,g=t.length;m<g;m++)v.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[m],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:v}}const i=[];let u=0,h=0;for(let v=-1,m=t.length;v<m;v++){const g=v+1<m?t[v+1]:null,b=g?g.originalStart:this.originalLines.length,w=g?g.modifiedStart:this.modifiedLines.length;for(;u<b&&h<w;){const L=this.originalLines[u],E=this.modifiedLines[h];if(L!==E){{let N=c(L,1),I=c(E,1);for(;N>1&&I>1;){const T=L.charCodeAt(N-2),O=E.charCodeAt(I-2);if(T!==O)break;N--,I--}(N>1||I>1)&&this._pushTrimWhitespaceCharChange(i,u+1,1,N,h+1,1,I)}{let N=a(L,1),I=a(E,1);const T=L.length+1,O=E.length+1;for(;N<T&&I<O;){const R=L.charCodeAt(N-1),F=L.charCodeAt(I-1);if(R!==F)break;N++,I++}(N<T||I<O)&&this._pushTrimWhitespaceCharChange(i,u+1,N,T,h+1,I,O)}}u++,h++}g&&(i.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),u+=g.originalLength,h+=g.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(r,t,n,i,u,h,v){if(!this._mergeTrimWhitespaceCharChange(r,t,n,i,u,h,v)){let m;this.shouldComputeCharChanges&&(m=[new d(t,n,t,i,u,h,u,v)]),r.push(new p(t,t,u,u,m))}}_mergeTrimWhitespaceCharChange(r,t,n,i,u,h,v){const m=r.length;if(m===0)return!1;const g=r[m-1];return g.originalEndLineNumber===0||g.modifiedEndLineNumber===0?!1:g.originalEndLineNumber+1===t&&g.modifiedEndLineNumber+1===u?(g.originalEndLineNumber=t,g.modifiedEndLineNumber=u,this.shouldComputeCharChanges&&g.charChanges&&g.charChanges.push(new d(t,n,t,i,u,h,u,v)),!0):!1}}e.DiffComputer=o;function c(l,r){const t=k.firstNonWhitespaceIndex(l);return t===-1?r:t+1}function a(l,r){const t=k.lastNonWhitespaceIndex(l);return t===-1?r:t+2}function s(l){if(l===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<l}}),define(Q[215],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class C{constructor(M,y,S,_,d,f){this.id=M,this.label=y,this.alias=S,this._precondition=_,this._run=d,this._contextKeyService=f}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=C}),define(Q[106],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function C(k){return k&&typeof k.id=="string"}e.isThemeColor=C,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(Q[107],J([0,1,106]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===C.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function M(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===C.EditorType.IDiffEditor:!1}e.isDiffEditor=M;function y(S){return k(S)?S:M(S)?S.getModifiedEditor():null}e.getCodeEditor=y}),define(Q[53],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var C;(function(d){d[d.Left=1]="Left",d[d.Center=2]="Center",d[d.Right=4]="Right",d[d.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(d){d[d.Inline=1]="Inline",d[d.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));class M{constructor(f){this.tabSize=Math.max(1,f.tabSize|0),this.indentSize=f.tabSize|0,this.insertSpaces=Boolean(f.insertSpaces),this.defaultEOL=f.defaultEOL|0,this.trimAutoWhitespace=Boolean(f.trimAutoWhitespace)}equals(f){return this.tabSize===f.tabSize&&this.indentSize===f.indentSize&&this.insertSpaces===f.insertSpaces&&this.defaultEOL===f.defaultEOL&&this.trimAutoWhitespace===f.trimAutoWhitespace}createChangeEvent(f){return{tabSize:this.tabSize!==f.tabSize,indentSize:this.indentSize!==f.indentSize,insertSpaces:this.insertSpaces!==f.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==f.trimAutoWhitespace}}}e.TextModelResolvedOptions=M;class y{constructor(f,p){this.range=f,this.matches=p}}e.FindMatch=y;class S{constructor(f,p,o,c,a,s){this.identifier=f,this.range=p,this.text=o,this.forceMoveMarkers=c,this.isAutoWhitespaceEdit=a,this._isTracked=s}}e.ValidAnnotatedEditOperation=S;class _{constructor(f,p,o){this.reverseEdits=f,this.changes=p,this.trimAutoWhitespaceLineNumbers=o}}e.ApplyEditsResult=_}),define(Q[360],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class C{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(y,S,_,d,f){f.spacesDiff=0,f.looksLikeAlignment=!1;let p;for(p=0;p<S&&p<d;p++){let t=y.charCodeAt(p),n=_.charCodeAt(p);if(t!==n)break}let o=0,c=0;for(let t=p;t<S;t++)y.charCodeAt(t)===32?o++:c++;let a=0,s=0;for(let t=p;t<d;t++)_.charCodeAt(t)===32?a++:s++;if(!(o>0&&c>0)&&!(a>0&&s>0)){let l=Math.abs(c-s),r=Math.abs(o-a);if(l===0){f.spacesDiff=r,r>0&&0<=a-1&&a-1<y.length&&a<_.length&&_.charCodeAt(a)!==32&&y.charCodeAt(a-1)===32&&y.charCodeAt(y.length-1)===44&&(f.looksLikeAlignment=!0);return}if(r%l==0){f.spacesDiff=r/l;return}}}function M(y,S,_){const d=Math.min(y.getLineCount(),1e4);let f=0,p=0,o="",c=0;const a=[2,4,6,8,3,5,7],s=8;let l=[0,0,0,0,0,0,0,0,0],r=new C;for(let i=1;i<=d;i++){let u=y.getLineLength(i),h=y.getLineContent(i);const v=u<=65536;let m=!1,g=0,b=0,w=0;for(let E=0,N=u;E<N;E++){let I=v?h.charCodeAt(E):y.getLineCharCode(i,E);if(I===9)w++;else if(I===32)b++;else{m=!0,g=E;break}}if(!!m&&(w>0?f++:b>1&&p++,k(o,c,h,g,r),!(r.looksLikeAlignment&&!(_&&S===r.spacesDiff)))){let L=r.spacesDiff;L<=s&&l[L]++,o=h,c=g}}let t=_;f!==p&&(t=f<p);let n=S;if(t){let i=t?0:.1*d;a.forEach(u=>{let h=l[u];h>i&&(i=h,n=u)}),n===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(n=2)}return{insertSpaces:t,tabSize:n}}e.guessIndentation=M}),define(Q[361],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeIsInOverviewRuler=e.getNodeColor=void 0;function C(B){return(B.metadata&1)>>>0}e.getNodeColor=C;function k(B,A){B.metadata=B.metadata&254|A<<0}function M(B){return(B.metadata&2)>>>1==1}function y(B,A){B.metadata=B.metadata&253|(A?1:0)<<1}function S(B){return(B.metadata&4)>>>2==1}function _(B,A){B.metadata=B.metadata&251|(A?1:0)<<2}function d(B){return(B.metadata&8)>>>3==1}e.getNodeIsInOverviewRuler=d;function f(B,A){B.metadata=B.metadata&247|(A?1:0)<<3}function p(B){return(B.metadata&48)>>>4}function o(B,A){B.metadata=B.metadata&207|A<<4}function c(B){return(B.metadata&64)>>>6==1}function a(B,A){B.metadata=B.metadata&191|(A?1:0)<<6}class s{constructor(A,W,V){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=W,this.end=V,this.delta=0,this.maxEnd=V,this.id=A,this.ownerId=0,this.options=null,_(this,!1),o(this,1),f(this,!1),a(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=V,this.range=null,y(this,!1)}reset(A,W,V,K){this.start=W,this.end=V,this.maxEnd=V,this.cachedVersionId=A,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=V,this.range=K}setOptions(A){this.options=A;let W=this.options.className;_(this,W==="squiggly-error"||W==="squiggly-warning"||W==="squiggly-info"),o(this,this.options.stickiness),f(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),a(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,W,V){this.cachedVersionId!==V&&(this.range=null),this.cachedVersionId=V,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=W}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=s,e.SENTINEL=new s(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class l{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,W,V,K,j){return this.root===e.SENTINEL?[]:g(this,A,W,V,K,j)}search(A,W,V){return this.root===e.SENTINEL?[]:m(this,A,W,V)}collectNodesFromOwner(A){return h(this,A)}collectNodesPostOrder(){return v(this)}insert(A){b(this,A),this._normalizeDeltaIfNecessary()}delete(A){L(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,W){const V=A;let K=0;for(;A!==this.root;)A===A.parent.right&&(K+=A.parent.delta),A=A.parent;const j=V.start+K,ee=V.end+K;V.setCachedOffsets(j,ee,W)}acceptReplace(A,W,V,K){const j=i(this,A,A+W);for(let ee=0,re=j.length;ee<re;ee++){const te=j[ee];L(this,te)}this._normalizeDeltaIfNecessary(),u(this,A,A+W,V),this._normalizeDeltaIfNecessary();for(let ee=0,re=j.length;ee<re;ee++){const te=j[ee];te.start=te.cachedAbsoluteStart,te.end=te.cachedAbsoluteEnd,n(te,A,A+W,V,K),te.maxEnd=te.end,b(this,te)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,r(this))}}e.IntervalTree=l;function r(B){let A=B.root,W=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!M(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!M(A.right)){W+=A.delta,A=A.right;continue}A.start=W+A.start,A.end=W+A.end,A.delta=0,R(A),y(A,!0),y(A.left,!1),y(A.right,!1),A===A.parent.right&&(W-=A.parent.delta),A=A.parent}y(B.root,!1)}function t(B,A,W,V){return B<W?!0:B>W||V===1?!1:V===2?!0:A}function n(B,A,W,V,K){const j=p(B),ee=j===0||j===2,re=j===1||j===2,te=W-A,ae=V,Y=Math.min(te,ae),P=B.start;let x=!1;const z=B.end;let U=!1;A<=P&&z<=W&&c(B)&&(B.start=A,x=!0,B.end=A,U=!0);{const q=K?1:te>0?2:0;!x&&t(P,ee,A,q)&&(x=!0),!U&&t(z,re,A,q)&&(U=!0)}if(Y>0&&!K){const q=te>ae?2:0;!x&&t(P,ee,A+Y,q)&&(x=!0),!U&&t(z,re,A+Y,q)&&(U=!0)}{const q=K?1:0;!x&&t(P,ee,W,q)&&(B.start=A+ae,x=!0),!U&&t(z,re,W,q)&&(B.end=A+ae,U=!0)}const H=ae-te;x||(B.start=Math.max(0,P+H)),U||(B.end=Math.max(0,z+H)),B.start>B.end&&(B.end=B.start)}e.nodeAcceptEdit=n;function i(B,A,W){let V=B.root,K=0,j=0,ee=0,re=0,te=[],ae=0;for(;V!==e.SENTINEL;){if(M(V)){y(V.left,!1),y(V.right,!1),V===V.parent.right&&(K-=V.parent.delta),V=V.parent;continue}if(!M(V.left)){if(j=K+V.maxEnd,j<A){y(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(ee=K+V.start,ee>W){y(V,!0);continue}if(re=K+V.end,re>=A&&(V.setCachedOffsets(ee,re,0),te[ae++]=V),y(V,!0),V.right!==e.SENTINEL&&!M(V.right)){K+=V.delta,V=V.right;continue}}return y(B.root,!1),te}function u(B,A,W,V){let K=B.root,j=0,ee=0,re=0;const te=V-(W-A);for(;K!==e.SENTINEL;){if(M(K)){y(K.left,!1),y(K.right,!1),K===K.parent.right&&(j-=K.parent.delta),R(K),K=K.parent;continue}if(!M(K.left)){if(ee=j+K.maxEnd,ee<A){y(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(re=j+K.start,re>W){K.start+=te,K.end+=te,K.delta+=te,(K.delta<-1073741824||K.delta>1073741824)&&(B.requestNormalizeDelta=!0),y(K,!0);continue}if(y(K,!0),K.right!==e.SENTINEL&&!M(K.right)){j+=K.delta,K=K.right;continue}}y(B.root,!1)}function h(B,A){let W=B.root,V=[],K=0;for(;W!==e.SENTINEL;){if(M(W)){y(W.left,!1),y(W.right,!1),W=W.parent;continue}if(W.left!==e.SENTINEL&&!M(W.left)){W=W.left;continue}if(W.ownerId===A&&(V[K++]=W),y(W,!0),W.right!==e.SENTINEL&&!M(W.right)){W=W.right;continue}}return y(B.root,!1),V}function v(B){let A=B.root,W=[],V=0;for(;A!==e.SENTINEL;){if(M(A)){y(A.left,!1),y(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!M(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!M(A.right)){A=A.right;continue}W[V++]=A,y(A,!0)}return y(B.root,!1),W}function m(B,A,W,V){let K=B.root,j=0,ee=0,re=0,te=[],ae=0;for(;K!==e.SENTINEL;){if(M(K)){y(K.left,!1),y(K.right,!1),K===K.parent.right&&(j-=K.parent.delta),K=K.parent;continue}if(K.left!==e.SENTINEL&&!M(K.left)){K=K.left;continue}ee=j+K.start,re=j+K.end,K.setCachedOffsets(ee,re,V);let Y=!0;if(A&&K.ownerId&&K.ownerId!==A&&(Y=!1),W&&S(K)&&(Y=!1),Y&&(te[ae++]=K),y(K,!0),K.right!==e.SENTINEL&&!M(K.right)){j+=K.delta,K=K.right;continue}}return y(B.root,!1),te}function g(B,A,W,V,K,j){let ee=B.root,re=0,te=0,ae=0,Y=0,P=[],x=0;for(;ee!==e.SENTINEL;){if(M(ee)){y(ee.left,!1),y(ee.right,!1),ee===ee.parent.right&&(re-=ee.parent.delta),ee=ee.parent;continue}if(!M(ee.left)){if(te=re+ee.maxEnd,te<A){y(ee,!0);continue}if(ee.left!==e.SENTINEL){ee=ee.left;continue}}if(ae=re+ee.start,ae>W){y(ee,!0);continue}if(Y=re+ee.end,Y>=A){ee.setCachedOffsets(ae,Y,j);let z=!0;V&&ee.ownerId&&ee.ownerId!==V&&(z=!1),K&&S(ee)&&(z=!1),z&&(P[x++]=ee)}if(y(ee,!0),ee.right!==e.SENTINEL&&!M(ee.right)){re+=ee.delta,ee=ee.right;continue}}return y(B.root,!1),P}function b(B,A){if(B.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,0),B.root=A,B.root;w(B,A),F(A.parent);let W=A;for(;W!==B.root&&C(W.parent)===1;)if(W.parent===W.parent.parent.left){const V=W.parent.parent.right;C(V)===1?(k(W.parent,0),k(V,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.right&&(W=W.parent,I(B,W)),k(W.parent,0),k(W.parent.parent,1),T(B,W.parent.parent))}else{const V=W.parent.parent.left;C(V)===1?(k(W.parent,0),k(V,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.left&&(W=W.parent,T(B,W)),k(W.parent,0),k(W.parent.parent,1),I(B,W.parent.parent))}return k(B.root,0),A}function w(B,A){let W=0,V=B.root;const K=A.start,j=A.end;for(;;)if(D(K,j,V.start+W,V.end+W)<0)if(V.left===e.SENTINEL){A.start-=W,A.end-=W,A.maxEnd-=W,V.left=A;break}else V=V.left;else if(V.right===e.SENTINEL){A.start-=W+V.delta,A.end-=W+V.delta,A.maxEnd-=W+V.delta,V.right=A;break}else W+=V.delta,V=V.right;A.parent=V,A.left=e.SENTINEL,A.right=e.SENTINEL,k(A,1)}function L(B,A){let W,V;if(A.left===e.SENTINEL?(W=A.right,V=A,W.delta+=A.delta,(W.delta<-1073741824||W.delta>1073741824)&&(B.requestNormalizeDelta=!0),W.start+=A.delta,W.end+=A.delta):A.right===e.SENTINEL?(W=A.left,V=A):(V=E(A.right),W=V.right,W.start+=V.delta,W.end+=V.delta,W.delta+=V.delta,(W.delta<-1073741824||W.delta>1073741824)&&(B.requestNormalizeDelta=!0),V.start+=A.delta,V.end+=A.delta,V.delta=A.delta,(V.delta<-1073741824||V.delta>1073741824)&&(B.requestNormalizeDelta=!0)),V===B.root){B.root=W,k(W,0),A.detach(),N(),R(W),B.root.parent=e.SENTINEL;return}let K=C(V)===1;if(V===V.parent.left?V.parent.left=W:V.parent.right=W,V===A?W.parent=V.parent:(V.parent===A?W.parent=V:W.parent=V.parent,V.left=A.left,V.right=A.right,V.parent=A.parent,k(V,C(A)),A===B.root?B.root=V:A===A.parent.left?A.parent.left=V:A.parent.right=V,V.left!==e.SENTINEL&&(V.left.parent=V),V.right!==e.SENTINEL&&(V.right.parent=V)),A.detach(),K){F(W.parent),V!==A&&(F(V),F(V.parent)),N();return}F(W),F(W.parent),V!==A&&(F(V),F(V.parent));let j;for(;W!==B.root&&C(W)===0;)W===W.parent.left?(j=W.parent.right,C(j)===1&&(k(j,0),k(W.parent,1),I(B,W.parent),j=W.parent.right),C(j.left)===0&&C(j.right)===0?(k(j,1),W=W.parent):(C(j.right)===0&&(k(j.left,0),k(j,1),T(B,j),j=W.parent.right),k(j,C(W.parent)),k(W.parent,0),k(j.right,0),I(B,W.parent),W=B.root)):(j=W.parent.left,C(j)===1&&(k(j,0),k(W.parent,1),T(B,W.parent),j=W.parent.left),C(j.left)===0&&C(j.right)===0?(k(j,1),W=W.parent):(C(j.left)===0&&(k(j.right,0),k(j,1),I(B,j),j=W.parent.left),k(j,C(W.parent)),k(W.parent,0),k(j.left,0),T(B,W.parent),W=B.root));k(W,0),N()}function E(B){for(;B.left!==e.SENTINEL;)B=B.left;return B}function N(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function I(B,A){const W=A.right;W.delta+=A.delta,(W.delta<-1073741824||W.delta>1073741824)&&(B.requestNormalizeDelta=!0),W.start+=A.delta,W.end+=A.delta,A.right=W.left,W.left!==e.SENTINEL&&(W.left.parent=A),W.parent=A.parent,A.parent===e.SENTINEL?B.root=W:A===A.parent.left?A.parent.left=W:A.parent.right=W,W.left=A,A.parent=W,R(A),R(W)}function T(B,A){const W=A.left;A.delta-=W.delta,(A.delta<-1073741824||A.delta>1073741824)&&(B.requestNormalizeDelta=!0),A.start-=W.delta,A.end-=W.delta,A.left=W.right,W.right!==e.SENTINEL&&(W.right.parent=A),W.parent=A.parent,A.parent===e.SENTINEL?B.root=W:A===A.parent.right?A.parent.right=W:A.parent.left=W,W.right=A,A.parent=W,R(A),R(W)}function O(B){let A=B.end;if(B.left!==e.SENTINEL){const W=B.left.maxEnd;W>A&&(A=W)}if(B.right!==e.SENTINEL){const W=B.right.maxEnd+B.delta;W>A&&(A=W)}return A}function R(B){B.maxEnd=O(B)}e.recomputeMaxEnd=R;function F(B){for(;B!==e.SENTINEL;){const A=O(B);if(B.maxEnd===A)return;B.maxEnd=A,B=B.parent}}function D(B,A,W,V){return B===W?A-V:B-W}e.intervalCompare=D}),define(Q[362],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class C{constructor(l,r){this.piece=l,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.left!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}prev(){if(this.left!==e.SENTINEL)return M(this.left);let l=this;for(;l.parent!==e.SENTINEL&&l.parent.right!==l;)l=l.parent;return l.parent===e.SENTINEL?e.SENTINEL:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=C,e.SENTINEL=new C(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(s){for(;s.left!==e.SENTINEL;)s=s.left;return s}e.leftest=k;function M(s){for(;s.right!==e.SENTINEL;)s=s.right;return s}e.righttest=M;function y(s){return s===e.SENTINEL?0:s.size_left+s.piece.length+y(s.right)}e.calculateSize=y;function S(s){return s===e.SENTINEL?0:s.lf_left+s.piece.lineFeedCnt+S(s.right)}e.calculateLF=S;function _(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=_;function d(s,l){let r=l.right;r.size_left+=l.size_left+(l.piece?l.piece.length:0),r.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=l),r.parent=l.parent,l.parent===e.SENTINEL?s.root=r:l.parent.left===l?l.parent.left=r:l.parent.right=r,r.left=l,l.parent=r}e.leftRotate=d;function f(s,l){let r=l.left;l.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=l),r.parent=l.parent,l.size_left-=r.size_left+(r.piece?r.piece.length:0),l.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),l.parent===e.SENTINEL?s.root=r:l===l.parent.right?l.parent.right=r:l.parent.left=r,r.right=l,l.parent=r}e.rightRotate=f;function p(s,l){let r,t;if(l.left===e.SENTINEL?(t=l,r=t.right):l.right===e.SENTINEL?(t=l,r=t.left):(t=k(l.right),r=t.right),t===s.root){s.root=r,r.color=0,l.detach(),_(),s.root.parent=e.SENTINEL;return}let n=t.color===1;if(t===t.parent.left?t.parent.left=r:t.parent.right=r,t===l?(r.parent=t.parent,a(s,r)):(t.parent===l?r.parent=t:r.parent=t.parent,a(s,r),t.left=l.left,t.right=l.right,t.parent=l.parent,t.color=l.color,l===s.root?s.root=t:l===l.parent.left?l.parent.left=t:l.parent.right=t,t.left!==e.SENTINEL&&(t.left.parent=t),t.right!==e.SENTINEL&&(t.right.parent=t),t.size_left=l.size_left,t.lf_left=l.lf_left,a(s,t)),l.detach(),r.parent.left===r){let u=y(r),h=S(r);if(u!==r.parent.size_left||h!==r.parent.lf_left){let v=u-r.parent.size_left,m=h-r.parent.lf_left;r.parent.size_left=u,r.parent.lf_left=h,c(s,r.parent,v,m)}}if(a(s,r.parent),n){_();return}let i;for(;r!==s.root&&r.color===0;)r===r.parent.left?(i=r.parent.right,i.color===1&&(i.color=0,r.parent.color=1,d(s,r.parent),i=r.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,r=r.parent):(i.right.color===0&&(i.left.color=0,i.color=1,f(s,i),i=r.parent.right),i.color=r.parent.color,r.parent.color=0,i.right.color=0,d(s,r.parent),r=s.root)):(i=r.parent.left,i.color===1&&(i.color=0,r.parent.color=1,f(s,r.parent),i=r.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,r=r.parent):(i.left.color===0&&(i.right.color=0,i.color=1,d(s,i),i=r.parent.left),i.color=r.parent.color,r.parent.color=0,i.left.color=0,f(s,r.parent),r=s.root));r.color=0,_()}e.rbDelete=p;function o(s,l){for(a(s,l);l!==s.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const r=l.parent.parent.right;r.color===1?(l.parent.color=0,r.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,d(s,l)),l.parent.color=0,l.parent.parent.color=1,f(s,l.parent.parent))}else{const r=l.parent.parent.left;r.color===1?(l.parent.color=0,r.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,f(s,l)),l.parent.color=0,l.parent.parent.color=1,d(s,l.parent.parent))}s.root.color=0}e.fixInsert=o;function c(s,l,r,t){for(;l!==s.root&&l!==e.SENTINEL;)l.parent.left===l&&(l.parent.size_left+=r,l.parent.lf_left+=t),l=l.parent}e.updateTreeMetadata=c;function a(s,l){let r=0,t=0;if(l!==s.root){if(r===0){for(;l!==s.root&&l===l.parent.right;)l=l.parent;if(l===s.root)return;l=l.parent,r=y(l.left)-l.size_left,t=S(l.left)-l.lf_left,l.size_left+=r,l.lf_left+=t}for(;l!==s.root&&(r!==0||t!==0);)l.parent.left===l&&(l.parent.size_left+=r,l.parent.lf_left+=t),l=l.parent}}e.recomputeTreeMetadata=a}),define(Q[216],J([0,1,120,92]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function M(d){return d.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class y{constructor(f,p,o,c){this.oldPosition=f,this.oldText=p,this.newPosition=o,this.newText=c}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${M(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${M(this.oldText)}")`:`(replace@${this.oldPosition} "${M(this.oldText)}" with "${M(this.newText)}")`}static _writeStringSize(f){return 4+2*f.length}static _writeString(f,p,o){const c=p.length;C.writeUInt32BE(f,c,o),o+=4;for(let a=0;a<c;a++)C.writeUInt16LE(f,p.charCodeAt(a),o),o+=2;return o}static _readString(f,p){const o=C.readUInt32BE(f,p);return p+=4,k.decodeUTF16LE(f,p,o)}writeSize(){return 4+4+y._writeStringSize(this.oldText)+y._writeStringSize(this.newText)}write(f,p){return C.writeUInt32BE(f,this.oldPosition,p),p+=4,C.writeUInt32BE(f,this.newPosition,p),p+=4,p=y._writeString(f,this.oldText,p),p=y._writeString(f,this.newText,p),p}static read(f,p,o){const c=C.readUInt32BE(f,p);p+=4;const a=C.readUInt32BE(f,p);p+=4;const s=y._readString(f,p);p+=y._writeStringSize(s);const l=y._readString(f,p);return p+=y._writeStringSize(l),o.push(new y(c,s,a,l)),p}}e.TextChange=y;function S(d,f){return d===null||d.length===0?f:new _(d,f).compress()}e.compressConsecutiveTextChanges=S;class _{constructor(f,p){this._prevEdits=f,this._currEdits=p,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let f=0,p=0,o=this._getPrev(f),c=this._getCurr(p);for(;f<this._prevLen||p<this._currLen;){if(o===null){this._acceptCurr(c),c=this._getCurr(++p);continue}if(c===null){this._acceptPrev(o),o=this._getPrev(++f);continue}if(c.oldEnd<=o.newPosition){this._acceptCurr(c),c=this._getCurr(++p);continue}if(o.newEnd<=c.oldPosition){this._acceptPrev(o),o=this._getPrev(++f);continue}if(c.oldPosition<o.newPosition){const[t,n]=_._splitCurr(c,o.newPosition-c.oldPosition);this._acceptCurr(t),c=n;continue}if(o.newPosition<c.oldPosition){const[t,n]=_._splitPrev(o,c.oldPosition-o.newPosition);this._acceptPrev(t),o=n;continue}let l,r;if(c.oldEnd===o.newEnd)l=o,r=c,o=this._getPrev(++f),c=this._getCurr(++p);else if(c.oldEnd<o.newEnd){const[t,n]=_._splitPrev(o,c.oldLength);l=t,r=c,o=n,c=this._getCurr(++p)}else{const[t,n]=_._splitCurr(c,o.newLength);l=o,r=t,o=this._getPrev(++f),c=n}this._result[this._resultLen++]=new y(l.oldPosition,l.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=l.newLength-l.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const a=_._merge(this._result);return _._removeNoOps(a)}_acceptCurr(f){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,f),this._currDeltaOffset+=f.newLength-f.oldLength}_getCurr(f){return f<this._currLen?this._currEdits[f]:null}_acceptPrev(f){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,f),this._prevDeltaOffset+=f.newLength-f.oldLength}_getPrev(f){return f<this._prevLen?this._prevEdits[f]:null}static _rebaseCurr(f,p){return new y(p.oldPosition-f,p.oldText,p.newPosition,p.newText)}static _rebasePrev(f,p){return new y(p.oldPosition,p.oldText,p.newPosition+f,p.newText)}static _splitPrev(f,p){const o=f.newText.substr(0,p),c=f.newText.substr(p);return[new y(f.oldPosition,f.oldText,f.newPosition,o),new y(f.oldEnd,"",f.newPosition+p,c)]}static _splitCurr(f,p){const o=f.oldText.substr(0,p),c=f.oldText.substr(p);return[new y(f.oldPosition,o,f.newPosition,f.newText),new y(f.oldPosition+p,c,f.newEnd,"")]}static _merge(f){if(f.length===0)return f;let p=[],o=0,c=f[0];for(let a=1;a<f.length;a++){const s=f[a];c.oldEnd===s.oldPosition?c=new y(c.oldPosition,c.oldText+s.oldText,c.newPosition,c.newText+s.newText):(p[o++]=c,c=s)}return p[o++]=c,p}static _removeNoOps(f){if(f.length===0)return f;let p=[],o=0;for(let c=0;c<f.length;c++){const a=f[c];a.oldText!==a.newText&&(p[o++]=a)}return p}}}),define(Q[363],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.ModelRawFlush=void 0;class C{constructor(){this.changeType=1}}e.ModelRawFlush=C;class k{constructor(p,o){this.changeType=2,this.lineNumber=p,this.detail=o}}e.ModelRawLineChanged=k;class M{constructor(p,o){this.changeType=3,this.fromLineNumber=p,this.toLineNumber=o}}e.ModelRawLinesDeleted=M;class y{constructor(p,o,c){this.changeType=4,this.fromLineNumber=p,this.toLineNumber=o,this.detail=c}}e.ModelRawLinesInserted=y;class S{constructor(){this.changeType=5}}e.ModelRawEOLChanged=S;class _{constructor(p,o,c,a){this.changes=p,this.versionId=o,this.isUndoing=c,this.isRedoing=a,this.resultingSelection=null}containsEvent(p){for(let o=0,c=this.changes.length;o<c;o++)if(this.changes[o].changeType===p)return!0;return!1}static merge(p,o){const c=[].concat(p.changes).concat(o.changes),a=o.versionId,s=p.isUndoing||o.isUndoing,l=p.isRedoing||o.isRedoing;return new _(c,a,s,l)}}e.ModelRawContentChangedEvent=_;class d{constructor(p,o){this.rawContentChangedEvent=p,this.contentChangedEvent=o}merge(p){const o=_.merge(this.rawContentChangedEvent,p.rawContentChangedEvent),c=d._mergeChangeEvents(this.contentChangedEvent,p.contentChangedEvent);return new d(o,c)}static _mergeChangeEvents(p,o){const c=[].concat(p.changes).concat(o.changes),a=o.eol,s=o.versionId,l=p.isUndoing||o.isUndoing,r=p.isRedoing||o.isRedoing,t=p.isFlush||o.isFlush;return{changes:c,eol:a,versionId:s,isUndoing:l,isRedoing:r,isFlush:t}}}e.InternalModelContentChangeEvent=d}),define(Q[162],J([0,1,8,105,12,3,53]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const _=999;class d{constructor(i,u,h,v){this.searchString=i,this.isRegex=u,this.matchCase=h,this.wordSeparators=v}parseSearchRequest(){if(this.searchString==="")return null;let i;this.isRegex?i=f(this.searchString):i=this.searchString.indexOf(`
`)>=0;let u=null;try{u=C.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:i,global:!0,unicode:!0})}catch(v){return null}if(!u)return null;let h=!this.isRegex&&!i;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new p(u,this.wordSeparators?k.getMapForWordSeparators(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=d;function f(n){if(!n||n.length===0)return!1;for(let i=0,u=n.length;i<u;i++)if(n.charCodeAt(i)===92){if(i++,i>=u)break;const v=n.charCodeAt(i);if(v===110||v===114||v===87||v===119)return!0}return!1}e.isMultilineRegexSource=f;class p{constructor(i,u,h){this.regex=i,this.wordSeparators=u,this.simpleSearch=h}}e.SearchData=p;function o(n,i,u){if(!u)return new S.FindMatch(n,null);let h=[];for(let v=0,m=i.length;v<m;v++)h[v]=i[v];return new S.FindMatch(n,h)}e.createFindMatch=o;class c{constructor(i){let u=[],h=0;for(let v=0,m=i.length;v<m;v++)i.charCodeAt(v)===10&&(u[h++]=v);this._lineFeedsOffsets=u}findLineFeedCountBeforeOffset(i){const u=this._lineFeedsOffsets;let h=0,v=u.length-1;if(v===-1||i<=u[0])return 0;for(;h<v;){const m=h+((v-h)/2>>0);u[m]>=i?v=m-1:u[m+1]>=i?(h=m,v=m):h=m+1}return h+1}}class a{static findMatches(i,u,h,v,m){const g=u.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(i,h,new t(g.wordSeparators,g.regex),v,m):this._doFindMatchesLineByLine(i,h,g,v,m):[]}static _getMultilineMatchRange(i,u,h,v,m,g){let b,w=0;v?(w=v.findLineFeedCountBeforeOffset(m),b=u+m+w):b=u+m;let L;if(v){let T=v.findLineFeedCountBeforeOffset(m+g.length)-w;L=b+g.length+T}else L=b+g.length;const E=i.getPositionAt(b),N=i.getPositionAt(L);return new y.Range(E.lineNumber,E.column,N.lineNumber,N.column)}static _doFindMatchesMultiline(i,u,h,v,m){const g=i.getOffsetAt(u.getStartPosition()),b=i.getValueInRange(u,1),w=i.getEOL()===`\r
`?new c(b):null,L=[];let E=0,N;for(h.reset(0);N=h.next(b);)if(L[E++]=o(this._getMultilineMatchRange(i,g,b,w,N.index,N[0]),N,v),E>=m)return L;return L}static _doFindMatchesLineByLine(i,u,h,v,m){const g=[];let b=0;if(u.startLineNumber===u.endLineNumber){const L=i.getLineContent(u.startLineNumber).substring(u.startColumn-1,u.endColumn-1);return b=this._findMatchesInLine(h,L,u.startLineNumber,u.startColumn-1,b,g,v,m),g}const w=i.getLineContent(u.startLineNumber).substring(u.startColumn-1);b=this._findMatchesInLine(h,w,u.startLineNumber,u.startColumn-1,b,g,v,m);for(let L=u.startLineNumber+1;L<u.endLineNumber&&b<m;L++)b=this._findMatchesInLine(h,i.getLineContent(L),L,0,b,g,v,m);if(b<m){const L=i.getLineContent(u.endLineNumber).substring(0,u.endColumn-1);b=this._findMatchesInLine(h,L,u.endLineNumber,0,b,g,v,m)}return g}static _findMatchesInLine(i,u,h,v,m,g,b,w){const L=i.wordSeparators;if(!b&&i.simpleSearch){const I=i.simpleSearch,T=I.length,O=u.length;let R=-T;for(;(R=u.indexOf(I,R+T))!==-1;)if((!L||r(L,u,O,R,T))&&(g[m++]=new S.FindMatch(new y.Range(h,R+1+v,h,R+1+T+v),null),m>=w))return m;return m}const E=new t(i.wordSeparators,i.regex);let N;E.reset(0);do if(N=E.next(u),N&&(g[m++]=o(new y.Range(h,N.index+1+v,h,N.index+1+N[0].length+v),N,b),m>=w))return m;while(N);return m}static findNextMatch(i,u,h,v){const m=u.parseSearchRequest();if(!m)return null;const g=new t(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(i,h,g,v):this._doFindNextMatchLineByLine(i,h,g,v)}static _doFindNextMatchMultiline(i,u,h,v){const m=new M.Position(u.lineNumber,1),g=i.getOffsetAt(m),b=i.getLineCount(),w=i.getValueInRange(new y.Range(m.lineNumber,m.column,b,i.getLineMaxColumn(b)),1),L=i.getEOL()===`\r
`?new c(w):null;h.reset(u.column-1);let E=h.next(w);return E?o(this._getMultilineMatchRange(i,g,w,L,E.index,E[0]),E,v):u.lineNumber!==1||u.column!==1?this._doFindNextMatchMultiline(i,new M.Position(1,1),h,v):null}static _doFindNextMatchLineByLine(i,u,h,v){const m=i.getLineCount(),g=u.lineNumber,b=i.getLineContent(g),w=this._findFirstMatchInLine(h,b,g,u.column,v);if(w)return w;for(let L=1;L<=m;L++){const E=(g+L-1)%m,N=i.getLineContent(E+1),I=this._findFirstMatchInLine(h,N,E+1,1,v);if(I)return I}return null}static _findFirstMatchInLine(i,u,h,v,m){i.reset(v-1);const g=i.next(u);return g?o(new y.Range(h,g.index+1,h,g.index+1+g[0].length),g,m):null}static findPreviousMatch(i,u,h,v){const m=u.parseSearchRequest();if(!m)return null;const g=new t(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(i,h,g,v):this._doFindPreviousMatchLineByLine(i,h,g,v)}static _doFindPreviousMatchMultiline(i,u,h,v){const m=this._doFindMatchesMultiline(i,new y.Range(1,1,u.lineNumber,u.column),h,v,10*_);if(m.length>0)return m[m.length-1];const g=i.getLineCount();return u.lineNumber!==g||u.column!==i.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(i,new M.Position(g,i.getLineMaxColumn(g)),h,v):null}static _doFindPreviousMatchLineByLine(i,u,h,v){const m=i.getLineCount(),g=u.lineNumber,b=i.getLineContent(g).substring(0,u.column-1),w=this._findLastMatchInLine(h,b,g,v);if(w)return w;for(let L=1;L<=m;L++){const E=(m+g-L-1)%m,N=i.getLineContent(E+1),I=this._findLastMatchInLine(h,N,E+1,v);if(I)return I}return null}static _findLastMatchInLine(i,u,h,v){let m=null,g;for(i.reset(0);g=i.next(u);)m=o(new y.Range(h,g.index+1,h,g.index+1+g[0].length),g,v);return m}}e.TextModelSearch=a;function s(n,i,u,h,v){if(h===0)return!0;const m=i.charCodeAt(h-1);if(n.get(m)!==0||m===13||m===10)return!0;if(v>0){const g=i.charCodeAt(h);if(n.get(g)!==0)return!0}return!1}function l(n,i,u,h,v){if(h+v===u)return!0;const m=i.charCodeAt(h+v);if(n.get(m)!==0||m===13||m===10)return!0;if(v>0){const g=i.charCodeAt(h+v-1);if(n.get(g)!==0)return!0}return!1}function r(n,i,u,h,v){return s(n,i,u,h,v)&&l(n,i,u,h,v)}e.isValidMatch=r;class t{constructor(i,u){this._wordSeparators=i,this._searchRegex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(i){this._searchRegex.lastIndex=i,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(i){const u=i.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===u||(h=this._searchRegex.exec(i),!h))return null;const v=h.index,m=h[0].length;if(v===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){C.getNextCodePoint(i,u,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=v,this._prevMatchLength=m,!this._wordSeparators||r(this._wordSeparators,i,u,v,m))return h}while(h);return null}}e.Searcher=t}),define(Q[217],J([0,1,12,3,53,362,162]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function _(r){let t;return r[r.length-1]<65536?t=new Uint16Array(r.length):t=new Uint32Array(r.length),t.set(r,0),t}e.createUintArray=_;class d{constructor(t,n,i,u,h){this.lineStarts=t,this.cr=n,this.lf=i,this.crlf=u,this.isBasicASCII=h}}e.LineStarts=d;function f(r,t=!0){let n=[0],i=1;for(let u=0,h=r.length;u<h;u++){const v=r.charCodeAt(u);v===13?u+1<h&&r.charCodeAt(u+1)===10?(n[i++]=u+2,u++):n[i++]=u+1:v===10&&(n[i++]=u+1)}return t?_(n):n}e.createLineStartsFast=f;function p(r,t){r.length=0,r[0]=0;let n=1,i=0,u=0,h=0,v=!0;for(let g=0,b=t.length;g<b;g++){const w=t.charCodeAt(g);w===13?g+1<b&&t.charCodeAt(g+1)===10?(h++,r[n++]=g+2,g++):(i++,r[n++]=g+1):w===10?(u++,r[n++]=g+1):v&&w!==9&&(w<32||w>126)&&(v=!1)}const m=new d(_(r),i,u,h,v);return r.length=0,m}e.createLineStarts=p;class o{constructor(t,n,i,u,h){this.bufferIndex=t,this.start=n,this.end=i,this.lineFeedCnt=u,this.length=h}}e.Piece=o;class c{constructor(t,n){this.buffer=t,this.lineStarts=n}}e.StringBuffer=c;class a{constructor(t,n){this._pieces=[],this._tree=t,this._BOM=n,this._index=0,t.root!==y.SENTINEL&&t.iterate(t.root,i=>(i!==y.SENTINEL&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class s{constructor(t){this._limit=t,this._cache=[]}get(t){for(let n=this._cache.length-1;n>=0;n--){let i=this._cache[n];if(i.nodeStartOffset<=t&&i.nodeStartOffset+i.node.piece.length>=t)return i}return null}get2(t){for(let n=this._cache.length-1;n>=0;n--){let i=this._cache[n];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<t&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=t)return i}return null}set(t){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(t)}validate(t){let n=!1,i=this._cache;for(let u=0;u<i.length;u++){let h=i[u];if(h.node.parent===null||h.nodeStartOffset>=t){i[u]=null,n=!0;continue}}if(n){let u=[];for(const h of i)h!==null&&u.push(h);this._cache=u}}}class l{constructor(t,n,i){this.create(t,n,i)}create(t,n,i){this._buffers=[new c("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=y.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=n,this._EOLLength=n.length,this._EOLNormalized=i;let u=null;for(let h=0,v=t.length;h<v;h++)if(t[h].buffer.length>0){t[h].lineStarts||(t[h].lineStarts=f(t[h].buffer));let m=new o(h+1,{line:0,column:0},{line:t[h].lineStarts.length-1,column:t[h].buffer.length-t[h].lineStarts[t[h].lineStarts.length-1]},t[h].lineStarts.length-1,t[h].buffer.length);this._buffers.push(t[h]),u=this.rbInsertRight(u,m)}this._searchCache=new s(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(t){let n=e.AverageBufferSize,i=n-Math.floor(n/3),u=i*2,h="",v=0,m=[];if(this.iterate(this.root,g=>{let b=this.getNodeContent(g),w=b.length;if(v<=i||v+w<u)return h+=b,v+=w,!0;let L=h.replace(/\r\n|\r|\n/g,t);return m.push(new c(L,f(L))),h=b,v=w,!0}),v>0){let g=h.replace(/\r\n|\r|\n/g,t);m.push(new c(g,f(g)))}this.create(m,t,!0)}getEOL(){return this._EOL}setEOL(t){this._EOL=t,this._EOLLength=this._EOL.length,this.normalizeEOL(t)}createSnapshot(t){return new a(this,t)}getOffsetAt(t,n){let i=0,u=this.root;for(;u!==y.SENTINEL;)if(u.left!==y.SENTINEL&&u.lf_left+1>=t)u=u.left;else{if(u.lf_left+u.piece.lineFeedCnt+1>=t)return i+=u.size_left,i+=this.getAccumulatedValue(u,t-u.lf_left-2)+n-1;t-=u.lf_left+u.piece.lineFeedCnt,i+=u.size_left+u.piece.length,u=u.right}return i}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let n=this.root,i=0,u=t;for(;n!==y.SENTINEL;)if(n.size_left!==0&&n.size_left>=t)n=n.left;else if(n.size_left+n.piece.length>=t){let h=this.getIndexOf(n,t-n.size_left);if(i+=n.lf_left+h.index,h.index===0){let v=this.getOffsetAt(i+1,1),m=u-v;return new C.Position(i+1,m+1)}return new C.Position(i+1,h.remainder+1)}else if(t-=n.size_left+n.piece.length,i+=n.lf_left+n.piece.lineFeedCnt,n.right===y.SENTINEL){let h=this.getOffsetAt(i+1,1),v=u-t-h;return new C.Position(i+1,v+1)}else n=n.right;return new C.Position(1,1)}getValueInRange(t,n){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";let i=this.nodeAt2(t.startLineNumber,t.startColumn),u=this.nodeAt2(t.endLineNumber,t.endColumn),h=this.getValueInRange2(i,u);return n?n!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,n):n===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,n):h}getValueInRange2(t,n){if(t.node===n.node){let m=t.node,g=this._buffers[m.piece.bufferIndex].buffer,b=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return g.substring(b+t.remainder,b+n.remainder)}let i=t.node,u=this._buffers[i.piece.bufferIndex].buffer,h=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),v=u.substring(h+t.remainder,h+i.piece.length);for(i=i.next();i!==y.SENTINEL;){let m=this._buffers[i.piece.bufferIndex].buffer,g=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===n.node){v+=m.substring(g,g+n.remainder);break}else v+=m.substr(g,i.piece.length);i=i.next()}return v}getLinesContent(){let t=[],n=0,i="",u=!1;return this.iterate(this.root,h=>{if(h===y.SENTINEL)return!0;const v=h.piece;let m=v.length;if(m===0)return!0;const g=this._buffers[v.bufferIndex].buffer,b=this._buffers[v.bufferIndex].lineStarts,w=v.start.line,L=v.end.line;let E=b[w]+v.start.column;if(u&&(g.charCodeAt(E)===10&&(E++,m--),t[n++]=i,i="",u=!1,m===0))return!0;if(w===L)return!this._EOLNormalized&&g.charCodeAt(E+m-1)===13?(u=!0,i+=g.substr(E,m-1)):i+=g.substr(E,m),!0;i+=this._EOLNormalized?g.substring(E,Math.max(E,b[w+1]-this._EOLLength)):g.substring(E,b[w+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=i;for(let N=w+1;N<L;N++)i=this._EOLNormalized?g.substring(b[N],b[N+1]-this._EOLLength):g.substring(b[N],b[N+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=i;return!this._EOLNormalized&&g.charCodeAt(b[L]+v.end.column-1)===13?(u=!0,v.end.column===0?n--:i=g.substr(b[L],v.end.column-1)):i=g.substr(b[L],v.end.column),!0}),u&&(t[n++]=i,i=""),t[n++]=i,t}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(t){return this._lastVisitedLine.lineNumber===t?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=t,t===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(t):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(t,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(t){if(t.remainder===t.node.piece.length){let n=t.node.next();if(!n)return 0;let i=this._buffers[n.piece.bufferIndex],u=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.buffer.charCodeAt(u)}else{let n=this._buffers[t.node.piece.bufferIndex],u=this.offsetInBuffer(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return n.buffer.charCodeAt(u)}}getLineCharCode(t,n){let i=this.nodeAt2(t,n+1);return this._getCharCode(i)}getLineLength(t){if(t===this.getLineCount()){let n=this.getOffsetAt(t,1);return this.getLength()-n}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this._EOLLength}findMatchesInNode(t,n,i,u,h,v,m,g,b,w,L){let E=this._buffers[t.piece.bufferIndex],N=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),I=this.offsetInBuffer(t.piece.bufferIndex,h),T=this.offsetInBuffer(t.piece.bufferIndex,v),O,R={line:0,column:0},F,D;n._wordSeparators?(F=E.buffer.substring(I,T),D=B=>B+I,n.reset(0)):(F=E.buffer,D=B=>B,n.reset(I));do if(O=n.next(F),O){if(D(O.index)>=T)return w;this.positionInBuffer(t,D(O.index)-N,R);let B=this.getLineFeedCnt(t.piece.bufferIndex,h,R),A=R.line===h.line?R.column-h.column+u:R.column+1,W=A+O[0].length;if(L[w++]=S.createFindMatch(new k.Range(i+B,A,i+B,W),O,g),D(O.index)+O[0].length>=T||w>=b)return w}while(O);return w}findMatchesLineByLine(t,n,i,u){const h=[];let v=0;const m=new S.Searcher(n.wordSeparators,n.regex);let g=this.nodeAt2(t.startLineNumber,t.startColumn);if(g===null)return[];let b=this.nodeAt2(t.endLineNumber,t.endColumn);if(b===null)return[];let w=this.positionInBuffer(g.node,g.remainder),L=this.positionInBuffer(b.node,b.remainder);if(g.node===b.node)return this.findMatchesInNode(g.node,m,t.startLineNumber,t.startColumn,w,L,n,i,u,v,h),h;let E=t.startLineNumber,N=g.node;for(;N!==b.node;){let T=this.getLineFeedCnt(N.piece.bufferIndex,w,N.piece.end);if(T>=1){let R=this._buffers[N.piece.bufferIndex].lineStarts,F=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),D=R[w.line+T],B=E===t.startLineNumber?t.startColumn:1;if(v=this.findMatchesInNode(N,m,E,B,w,this.positionInBuffer(N,D-F),n,i,u,v,h),v>=u)return h;E+=T}let O=E===t.startLineNumber?t.startColumn-1:0;if(E===t.endLineNumber){const R=this.getLineContent(E).substring(O,t.endColumn-1);return v=this._findMatchesInLine(n,m,R,t.endLineNumber,O,v,h,i,u),h}if(v=this._findMatchesInLine(n,m,this.getLineContent(E).substr(O),E,O,v,h,i,u),v>=u)return h;E++,g=this.nodeAt2(E,1),N=g.node,w=this.positionInBuffer(g.node,g.remainder)}if(E===t.endLineNumber){let T=E===t.startLineNumber?t.startColumn-1:0;const O=this.getLineContent(E).substring(T,t.endColumn-1);return v=this._findMatchesInLine(n,m,O,t.endLineNumber,T,v,h,i,u),h}let I=E===t.startLineNumber?t.startColumn:1;return v=this.findMatchesInNode(b.node,m,E,I,w,L,n,i,u,v,h),h}_findMatchesInLine(t,n,i,u,h,v,m,g,b){const w=t.wordSeparators;if(!g&&t.simpleSearch){const E=t.simpleSearch,N=E.length,I=i.length;let T=-N;for(;(T=i.indexOf(E,T+N))!==-1;)if((!w||S.isValidMatch(w,i,I,T,N))&&(m[v++]=new M.FindMatch(new k.Range(u,T+1+h,u,T+1+N+h),null),v>=b))return v;return v}let L;n.reset(0);do if(L=n.next(i),L&&(m[v++]=S.createFindMatch(new k.Range(u,L.index+1+h,u,L.index+1+L[0].length+h),L,g),v>=b))return v;while(L);return v}insert(t,n,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==y.SENTINEL){let{node:u,remainder:h,nodeStartOffset:v}=this.nodeAt(t),m=u.piece,g=m.bufferIndex,b=this.positionInBuffer(u,h);if(u.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&v+m.length===t&&n.length<e.AverageBufferSize){this.appendToNode(u,n),this.computeBufferMetadata();return}if(v===t)this.insertContentToNodeLeft(n,u),this._searchCache.validate(t);else if(v+u.piece.length>t){let w=[],L=new o(m.bufferIndex,b,m.end,this.getLineFeedCnt(m.bufferIndex,b,m.end),this.offsetInBuffer(g,m.end)-this.offsetInBuffer(g,b));if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.nodeCharCodeAt(u,h)===10){let T={line:L.start.line+1,column:0};L=new o(L.bufferIndex,T,L.end,this.getLineFeedCnt(L.bufferIndex,T,L.end),L.length-1),n+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(n))if(this.nodeCharCodeAt(u,h-1)===13){let T=this.positionInBuffer(u,h-1);this.deleteNodeTail(u,T),n="\r"+n,u.piece.length===0&&w.push(u)}else this.deleteNodeTail(u,b);else this.deleteNodeTail(u,b);let E=this.createNewPieces(n);L.length>0&&this.rbInsertRight(u,L);let N=u;for(let I=0;I<E.length;I++)N=this.rbInsertRight(N,E[I]);this.deleteNodes(w)}else this.insertContentToNodeRight(n,u)}else{let u=this.createNewPieces(n),h=this.rbInsertLeft(null,u[0]);for(let v=1;v<u.length;v++)h=this.rbInsertRight(h,u[v])}this.computeBufferMetadata()}delete(t,n){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(n<=0||this.root===y.SENTINEL)){let i=this.nodeAt(t),u=this.nodeAt(t+n),h=i.node,v=u.node;if(h===v){let E=this.positionInBuffer(h,i.remainder),N=this.positionInBuffer(h,u.remainder);if(i.nodeStartOffset===t){if(n===h.piece.length){let I=h.next();y.rbDelete(this,h),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(h,N),this._searchCache.validate(t),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(i.nodeStartOffset+h.piece.length===t+n){this.deleteNodeTail(h,E),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,E,N),this.computeBufferMetadata();return}let m=[],g=this.positionInBuffer(h,i.remainder);this.deleteNodeTail(h,g),this._searchCache.validate(t),h.piece.length===0&&m.push(h);let b=this.positionInBuffer(v,u.remainder);this.deleteNodeHead(v,b),v.piece.length===0&&m.push(v);let w=h.next();for(let E=w;E!==y.SENTINEL&&E!==v;E=E.next())m.push(E);let L=h.piece.length===0?h.prev():h;this.deleteNodes(m),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}}insertContentToNodeLeft(t,n){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.startWithLF(n)){let v=n.piece,m={line:v.start.line+1,column:0},g=new o(v.bufferIndex,m,v.end,this.getLineFeedCnt(v.bufferIndex,m,v.end),v.length-1);n.piece=g,t+=`
`,y.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&i.push(n)}let u=this.createNewPieces(t),h=this.rbInsertLeft(n,u[u.length-1]);for(let v=u.length-2;v>=0;v--)h=this.rbInsertLeft(h,u[v]);this.validateCRLFWithPrevNode(h),this.deleteNodes(i)}insertContentToNodeRight(t,n){this.adjustCarriageReturnFromNext(t,n)&&(t+=`
`);let i=this.createNewPieces(t),u=this.rbInsertRight(n,i[0]),h=u;for(let v=1;v<i.length;v++)h=this.rbInsertRight(h,i[v]);this.validateCRLFWithPrevNode(u)}positionInBuffer(t,n,i){let u=t.piece,h=t.piece.bufferIndex,v=this._buffers[h].lineStarts,g=v[u.start.line]+u.start.column+n,b=u.start.line,w=u.end.line,L=0,E=0,N=0;for(;b<=w&&(L=b+(w-b)/2|0,N=v[L],L!==w);)if(E=v[L+1],g<N)w=L-1;else if(g>=E)b=L+1;else break;return i?(i.line=L,i.column=g-N,null):{line:L,column:g-N}}getLineFeedCnt(t,n,i){if(i.column===0)return i.line-n.line;let u=this._buffers[t].lineStarts;if(i.line===u.length-1)return i.line-n.line;let h=u[i.line+1],v=u[i.line]+i.column;if(h>v+1)return i.line-n.line;let m=v-1;return this._buffers[t].buffer.charCodeAt(m)===13?i.line-n.line+1:i.line-n.line}offsetInBuffer(t,n){return this._buffers[t].lineStarts[n.line]+n.column}deleteNodes(t){for(let n=0;n<t.length;n++)y.rbDelete(this,t[n])}createNewPieces(t){if(t.length>e.AverageBufferSize){let w=[];for(;t.length>e.AverageBufferSize;){const E=t.charCodeAt(e.AverageBufferSize-1);let N;E===13||E>=55296&&E<=56319?(N=t.substring(0,e.AverageBufferSize-1),t=t.substring(e.AverageBufferSize-1)):(N=t.substring(0,e.AverageBufferSize),t=t.substring(e.AverageBufferSize));let I=f(N);w.push(new o(this._buffers.length,{line:0,column:0},{line:I.length-1,column:N.length-I[I.length-1]},I.length-1,N.length)),this._buffers.push(new c(N,I))}let L=f(t);return w.push(new o(this._buffers.length,{line:0,column:0},{line:L.length-1,column:t.length-L[L.length-1]},L.length-1,t.length)),this._buffers.push(new c(t,L)),w}let n=this._buffers[0].buffer.length;const i=f(t,!1);let u=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&n!==0&&this.startWithLF(t)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},u=this._lastChangeBufferPos;for(let w=0;w<i.length;w++)i[w]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+t,n+=1}else{if(n!==0)for(let w=0;w<i.length;w++)i[w]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=t}const h=this._buffers[0].buffer.length;let v=this._buffers[0].lineStarts.length-1,m=h-this._buffers[0].lineStarts[v],g={line:v,column:m},b=new o(0,u,g,this.getLineFeedCnt(0,u,g),h-n);return this._lastChangeBufferPos=g,[b]}getLineRawContent(t,n=0){let i=this.root,u="",h=this._searchCache.get2(t);if(h){i=h.node;let v=this.getAccumulatedValue(i,t-h.nodeStartLineNumber-1),m=this._buffers[i.piece.bufferIndex].buffer,g=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(h.nodeStartLineNumber+i.piece.lineFeedCnt===t)u=m.substring(g+v,g+i.piece.length);else{let b=this.getAccumulatedValue(i,t-h.nodeStartLineNumber);return m.substring(g+v,g+b-n)}}else{let v=0;const m=t;for(;i!==y.SENTINEL;)if(i.left!==y.SENTINEL&&i.lf_left>=t-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>t-1){let g=this.getAccumulatedValue(i,t-i.lf_left-2),b=this.getAccumulatedValue(i,t-i.lf_left-1),w=this._buffers[i.piece.bufferIndex].buffer,L=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return v+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:v,nodeStartLineNumber:m-(t-1-i.lf_left)}),w.substring(L+g,L+b-n)}else if(i.lf_left+i.piece.lineFeedCnt===t-1){let g=this.getAccumulatedValue(i,t-i.lf_left-2),b=this._buffers[i.piece.bufferIndex].buffer,w=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);u=b.substring(w+g,w+i.piece.length);break}else t-=i.lf_left+i.piece.lineFeedCnt,v+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==y.SENTINEL;){let v=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let m=this.getAccumulatedValue(i,0),g=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return u+=v.substring(g,g+m-n),u}else{let m=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);u+=v.substr(m,i.piece.length)}i=i.next()}return u}computeBufferMetadata(){let t=this.root,n=1,i=0;for(;t!==y.SENTINEL;)n+=t.lf_left+t.piece.lineFeedCnt,i+=t.size_left+t.piece.length,t=t.right;this._lineCnt=n,this._length=i,this._searchCache.validate(this._length)}getIndexOf(t,n){let i=t.piece,u=this.positionInBuffer(t,n),h=u.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===n){let v=this.getLineFeedCnt(t.piece.bufferIndex,i.start,u);if(v!==h)return{index:v,remainder:0}}return{index:h,remainder:u.column}}getAccumulatedValue(t,n){if(n<0)return 0;let i=t.piece,u=this._buffers[i.bufferIndex].lineStarts,h=i.start.line+n+1;return h>i.end.line?u[i.end.line]+i.end.column-u[i.start.line]-i.start.column:u[h]-u[i.start.line]-i.start.column}deleteNodeTail(t,n){const i=t.piece,u=i.lineFeedCnt,h=this.offsetInBuffer(i.bufferIndex,i.end),v=n,m=this.offsetInBuffer(i.bufferIndex,v),g=this.getLineFeedCnt(i.bufferIndex,i.start,v),b=g-u,w=m-h,L=i.length+w;t.piece=new o(i.bufferIndex,i.start,v,g,L),y.updateTreeMetadata(this,t,w,b)}deleteNodeHead(t,n){const i=t.piece,u=i.lineFeedCnt,h=this.offsetInBuffer(i.bufferIndex,i.start),v=n,m=this.getLineFeedCnt(i.bufferIndex,v,i.end),g=this.offsetInBuffer(i.bufferIndex,v),b=m-u,w=h-g,L=i.length+w;t.piece=new o(i.bufferIndex,v,i.end,m,L),y.updateTreeMetadata(this,t,w,b)}shrinkNode(t,n,i){const u=t.piece,h=u.start,v=u.end,m=u.length,g=u.lineFeedCnt,b=n,w=this.getLineFeedCnt(u.bufferIndex,u.start,b),L=this.offsetInBuffer(u.bufferIndex,n)-this.offsetInBuffer(u.bufferIndex,h);t.piece=new o(u.bufferIndex,u.start,b,w,L),y.updateTreeMetadata(this,t,L-m,w-g);let E=new o(u.bufferIndex,i,v,this.getLineFeedCnt(u.bufferIndex,i,v),this.offsetInBuffer(u.bufferIndex,v)-this.offsetInBuffer(u.bufferIndex,i)),N=this.rbInsertRight(t,E);this.validateCRLFWithPrevNode(N)}appendToNode(t,n){this.adjustCarriageReturnFromNext(n,t)&&(n+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(n)&&this.endWithCR(t),u=this._buffers[0].buffer.length;this._buffers[0].buffer+=n;const h=f(n,!1);for(let N=0;N<h.length;N++)h[N]+=u;if(i){let N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:u-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const v=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[v],g={line:v,column:m},b=t.piece.length+n.length,w=t.piece.lineFeedCnt,L=this.getLineFeedCnt(0,t.piece.start,g),E=L-w;t.piece=new o(t.piece.bufferIndex,t.piece.start,g,L,b),this._lastChangeBufferPos=g,y.updateTreeMetadata(this,t,n.length,E)}nodeAt(t){let n=this.root,i=this._searchCache.get(t);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:t-i.nodeStartOffset};let u=0;for(;n!==y.SENTINEL;)if(n.size_left>t)n=n.left;else if(n.size_left+n.piece.length>=t){u+=n.size_left;let h={node:n,remainder:t-n.size_left,nodeStartOffset:u};return this._searchCache.set(h),h}else t-=n.size_left+n.piece.length,u+=n.size_left+n.piece.length,n=n.right;return null}nodeAt2(t,n){let i=this.root,u=0;for(;i!==y.SENTINEL;)if(i.left!==y.SENTINEL&&i.lf_left>=t-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>t-1){let h=this.getAccumulatedValue(i,t-i.lf_left-2),v=this.getAccumulatedValue(i,t-i.lf_left-1);return u+=i.size_left,{node:i,remainder:Math.min(h+n-1,v),nodeStartOffset:u}}else if(i.lf_left+i.piece.lineFeedCnt===t-1){let h=this.getAccumulatedValue(i,t-i.lf_left-2);if(h+n-1<=i.piece.length)return{node:i,remainder:h+n-1,nodeStartOffset:u};n-=i.piece.length-h;break}else t-=i.lf_left+i.piece.lineFeedCnt,u+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==y.SENTINEL;){if(i.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(i,0),v=this.offsetOfNode(i);return{node:i,remainder:Math.min(n-1,h),nodeStartOffset:v}}else if(i.piece.length>=n-1){let h=this.offsetOfNode(i);return{node:i,remainder:n-1,nodeStartOffset:h}}else n-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(t,n){if(t.piece.lineFeedCnt<1)return-1;let i=this._buffers[t.piece.bufferIndex],u=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start)+n;return i.buffer.charCodeAt(u)}offsetOfNode(t){if(!t)return 0;let n=t.size_left;for(;t!==this.root;)t.parent.right===t&&(n+=t.parent.size_left+t.parent.piece.length),t=t.parent;return n}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===y.SENTINEL||t.piece.lineFeedCnt===0)return!1;let n=t.piece,i=this._buffers[n.bufferIndex].lineStarts,u=n.start.line,h=i[u]+n.start.column;return u===i.length-1||i[u+1]>h+1?!1:this._buffers[n.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===y.SENTINEL||t.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(t,t.piece.length-1)===13}validateCRLFWithPrevNode(t){if(this.shouldCheckCRLF()&&this.startWithLF(t)){let n=t.prev();this.endWithCR(n)&&this.fixCRLF(n,t)}}validateCRLFWithNextNode(t){if(this.shouldCheckCRLF()&&this.endWithCR(t)){let n=t.next();this.startWithLF(n)&&this.fixCRLF(t,n)}}fixCRLF(t,n){let i=[],u=this._buffers[t.piece.bufferIndex].lineStarts,h;t.piece.end.column===0?h={line:t.piece.end.line-1,column:u[t.piece.end.line]-u[t.piece.end.line-1]-1}:h={line:t.piece.end.line,column:t.piece.end.column-1};const v=t.piece.length-1,m=t.piece.lineFeedCnt-1;t.piece=new o(t.piece.bufferIndex,t.piece.start,h,m,v),y.updateTreeMetadata(this,t,-1,-1),t.piece.length===0&&i.push(t);let g={line:n.piece.start.line+1,column:0};const b=n.piece.length-1,w=this.getLineFeedCnt(n.piece.bufferIndex,g,n.piece.end);n.piece=new o(n.piece.bufferIndex,g,n.piece.end,w,b),y.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&i.push(n);let L=this.createNewPieces(`\r
`);this.rbInsertRight(t,L[0]);for(let E=0;E<i.length;E++)y.rbDelete(this,i[E])}adjustCarriageReturnFromNext(t,n){if(this.shouldCheckCRLF()&&this.endWithCR(t)){let i=n.next();if(this.startWithLF(i)){if(t+=`
`,i.piece.length===1)y.rbDelete(this,i);else{const u=i.piece,h={line:u.start.line+1,column:0},v=u.length-1,m=this.getLineFeedCnt(u.bufferIndex,h,u.end);i.piece=new o(u.bufferIndex,h,u.end,m,v),y.updateTreeMetadata(this,i,-1,-1)}return!0}}return!1}iterate(t,n){if(t===y.SENTINEL)return n(y.SENTINEL);let i=this.iterate(t.left,n);return i&&n(t)&&this.iterate(t.right,n)}getNodeContent(t){if(t===y.SENTINEL)return"";let n=this._buffers[t.piece.bufferIndex],i,u=t.piece,h=this.offsetInBuffer(u.bufferIndex,u.start),v=this.offsetInBuffer(u.bufferIndex,u.end);return i=n.buffer.substring(h,v),i}getPieceContent(t){let n=this._buffers[t.bufferIndex],i=this.offsetInBuffer(t.bufferIndex,t.start),u=this.offsetInBuffer(t.bufferIndex,t.end);return n.buffer.substring(i,u)}rbInsertRight(t,n){let i=new y.TreeNode(n,1);if(i.left=y.SENTINEL,i.right=y.SENTINEL,i.parent=y.SENTINEL,i.size_left=0,i.lf_left=0,this.root===y.SENTINEL)this.root=i,i.color=0;else if(t.right===y.SENTINEL)t.right=i,i.parent=t;else{let h=y.leftest(t.right);h.left=i,i.parent=h}return y.fixInsert(this,i),i}rbInsertLeft(t,n){let i=new y.TreeNode(n,1);if(i.left=y.SENTINEL,i.right=y.SENTINEL,i.parent=y.SENTINEL,i.size_left=0,i.lf_left=0,this.root===y.SENTINEL)this.root=i,i.color=0;else if(t.left===y.SENTINEL)t.left=i,i.parent=t;else{let u=y.righttest(t.left);u.right=i,i.parent=u}return y.fixInsert(this,i),i}}e.PieceTreeBase=l}),define(Q[127],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function C(_=""){let d="(-?\\d*\\.\\d\\w*)|([^";for(const f of e.USUAL_WORD_SEPARATORS)_.indexOf(f)>=0||(d+="\\"+f);return d+="\\s]+)",new RegExp(d,"g")}e.DEFAULT_WORD_REGEXP=C();function k(_){let d=e.DEFAULT_WORD_REGEXP;if(_&&_ instanceof RegExp)if(_.global)d=_;else{let f="g";_.ignoreCase&&(f+="i"),_.multiline&&(f+="m"),_.unicode&&(f+="u"),d=new RegExp(_.source,f)}return d.lastIndex=0,d}e.ensureValidWordDefinition=k;const M={maxLen:1e3,windowSize:15,timeBudget:150};function y(_,d,f,p,o=M){if(f.length>o.maxLen){let r=_-o.maxLen/2;return r<0?r=0:p+=r,f=f.substring(r,_+o.maxLen/2),y(_,d,f,p,o)}const c=Date.now(),a=_-1-p;let s=-1,l=null;for(let r=1;!(Date.now()-c>=o.timeBudget);r++){const t=a-o.windowSize*r;d.lastIndex=Math.max(0,t);const n=S(d,f,a,s);if(!n&&l||(l=n,t<=0))break;s=t}if(l){let r={word:l[0],startColumn:p+1+l.index,endColumn:p+1+l.index+l[0].length};return d.lastIndex=0,r}return null}e.getWordAtText=y;function S(_,d,f,p){let o;for(;o=_.exec(d);){const c=o.index||0;if(c<=f&&_.lastIndex>=f)return o;if(p>0&&c>p)return null}return null}}),define(Q[364],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class C{constructor(M){this._languageIdentifier=M}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=C}),define(Q[108],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var C;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(C=e.IndentAction||(e.IndentAction={}));class k{constructor(_){if(this.open=_.open,this.close=_.close,this._standardTokenMask=0,Array.isArray(_.notIn))for(let d=0,f=_.notIn.length;d<f;d++)switch(_.notIn[d]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(_){return(this._standardTokenMask&_)==0}}e.StandardAutoClosingPairConditional=k;class M{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const d of _)y(this.autoClosingPairsOpenByStart,d.open.charAt(0),d),y(this.autoClosingPairsOpenByEnd,d.open.charAt(d.open.length-1),d),y(this.autoClosingPairsCloseByStart,d.close.charAt(0),d),y(this.autoClosingPairsCloseByEnd,d.close.charAt(d.close.length-1),d),d.close.length===1&&d.open.length===1&&y(this.autoClosingPairsCloseSingleChar,d.close,d)}}e.AutoClosingPairs=M;function y(S,_,d){S.has(_)?S.get(_).push(d):S.set(_,[d])}}),define(Q[365],J([0,1,196,65]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function M(y,S,_,d){if(Array.isArray(y)){let f=0;for(const p of y){const o=M(p,S,_,d);if(o===10)return o;o>f&&(f=o)}return f}else{if(typeof y=="string")return d?y==="*"?5:y===_?10:0:0;if(y){const{language:f,pattern:p,scheme:o,hasAccessToAllModels:c}=y;if(!d&&!c)return 0;let a=0;if(o)if(o===S.scheme)a=10;else if(o==="*")a=5;else return 0;if(f)if(f===_)a=10;else if(f==="*")a=Math.max(a,5);else return 0;if(p){let s;if(typeof p=="string"?s=p:s=Object.assign(Object.assign({},p),{base:k.normalize(p.base)}),s===S.fsPath||C.match(s,S.fsPath))a=10;else return 0}return a}else return 0}}e.score=M}),define(Q[366],J([0,1,90]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class k{constructor(c,a,s){const l=new Uint8Array(c*a);for(let r=0,t=c*a;r<t;r++)l[r]=s;this._data=l,this.rows=c,this.cols=a}get(c,a){return this._data[c*this.cols+a]}set(c,a,s){this._data[c*this.cols+a]=s}}e.Uint8Matrix=k;class M{constructor(c){let a=0,s=0;for(let r=0,t=c.length;r<t;r++){let[n,i,u]=c[r];i>a&&(a=i),n>s&&(s=n),u>s&&(s=u)}a++,s++;let l=new k(s,a,0);for(let r=0,t=c.length;r<t;r++){let[n,i,u]=c[r];l.set(n,i,u)}this._states=l,this._maxCharCode=a}nextState(c,a){return a<0||a>=this._maxCharCode?0:this._states.get(c,a)}}e.StateMachine=M;let y=null;function S(){return y===null&&(y=new M([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),y}let _=null;function d(){if(_===null){_=new C.CharacterClassifier(0);const o=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`;for(let a=0;a<o.length;a++)_.set(o.charCodeAt(a),1);const c=".,;";for(let a=0;a<c.length;a++)_.set(c.charCodeAt(a),2)}return _}class f{static _createLink(c,a,s,l,r){let t=r-1;do{const n=a.charCodeAt(t);if(c.get(n)!==2)break;t--}while(t>l);if(l>0){const n=a.charCodeAt(l-1),i=a.charCodeAt(t);(n===40&&i===41||n===91&&i===93||n===123&&i===125)&&t--}return{range:{startLineNumber:s,startColumn:l+1,endLineNumber:s,endColumn:t+2},url:a.substring(l,t+1)}}static computeLinks(c,a=S()){const s=d();let l=[];for(let r=1,t=c.getLineCount();r<=t;r++){const n=c.getLineContent(r),i=n.length;let u=0,h=0,v=0,m=1,g=!1,b=!1,w=!1,L=!1;for(;u<i;){let E=!1;const N=n.charCodeAt(u);if(m===13){let I;switch(N){case 40:g=!0,I=0;break;case 41:I=g?0:1;break;case 91:w=!0,b=!0,I=0;break;case 93:w=!1,I=b?0:1;break;case 123:L=!0,I=0;break;case 125:I=L?0:1;break;case 39:I=v===34||v===96?0:1;break;case 34:I=v===39||v===96?0:1;break;case 96:I=v===39||v===34?0:1;break;case 42:I=v===42?1:0;break;case 124:I=v===124?1:0;break;case 32:I=w?0:1;break;default:I=s.get(N)}I===1&&(l.push(f._createLink(s,n,r,h,u)),E=!0)}else if(m===12){let I;N===91?(b=!0,I=0):I=s.get(N),I===1?E=!0:m=13}else m=a.nextState(m,N),m===0&&(E=!0);E&&(m=1,g=!1,b=!1,L=!1,h=u+1,v=N),u++}m===13&&l.push(f._createLink(s,n,r,h,i))}return l}}e.LinkComputer=f;function p(o){return!o||typeof o.getLineCount!="function"||typeof o.getLineContent!="function"?[]:f.computeLinks(o)}e.computeLinks=p}),define(Q[163],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function C(y,S){let _=y.getCount(),d=y.findTokenIndexAtOffset(S),f=y.getLanguageId(d),p=d;for(;p+1<_&&y.getLanguageId(p+1)===f;)p++;let o=d;for(;o>0&&y.getLanguageId(o-1)===f;)o--;return new k(y,f,o,p+1,y.getStartOffset(o),y.getEndOffset(p))}e.createScopedLineTokens=C;class k{constructor(S,_,d,f,p,o){this._actual=S,this.languageId=_,this._firstTokenIndex=d,this._lastTokenIndex=f,this.firstCharOffset=p,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function M(y){return(y&7)!=0}e.ignoreBracketsInToken=M}),define(Q[367],J([0,1,108]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(y){if(y.autoClosingPairs?this._autoClosingPairs=y.autoClosingPairs.map(S=>new C.StandardAutoClosingPairConditional(S)):y.brackets?this._autoClosingPairs=y.brackets.map(S=>new C.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],y.__electricCharacterSupport&&y.__electricCharacterSupport.docComment){const S=y.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new C.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof y.autoCloseBefore=="string"?y.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=y.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(y,S,_){if(S.getTokenCount()===0)return!0;const d=S.findTokenIndexAtOffset(_-2),f=S.getStandardTokenType(d);return y.isOK(f)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(Q[368],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function C(M){return M.global&&(M.lastIndex=0),!0}class k{constructor(y){this._indentationRules=y}shouldIncrease(y){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(y))}shouldDecrease(y){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(y))}shouldIndentNextLine(y){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(y))}shouldIgnore(y){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(y))}getIndentMetadata(y){let S=0;return this.shouldIncrease(y)&&(S+=1),this.shouldDecrease(y)&&(S+=2),this.shouldIndentNextLine(y)&&(S+=4),this.shouldIgnore(y)&&(S+=8),S}}e.IndentRulesSupport=k}),define(Q[369],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class C{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(M,y,S,_,d){if(M&&y){let f=this.doNavigateValueSet(y,d);if(f)return{range:M,value:f}}if(S&&_){let f=this.doNavigateValueSet(_,d);if(f)return{range:S,value:f}}return null}doNavigateValueSet(M,y){let S=this.numberReplace(M,y);return S!==null?S:this.textReplace(M,y)}numberReplace(M,y){let S=Math.pow(10,M.length-(M.lastIndexOf(".")+1)),_=Number(M),d=parseFloat(M);return!isNaN(_)&&!isNaN(d)&&_===d?_===0&&!y?null:(_=Math.floor(_*S),_+=y?S:-S,String(_/S)):null}textReplace(M,y){return this.valueSetsReplace(this._defaultValueSet,M,y)}valueSetsReplace(M,y,S){let _=null;for(let d=0,f=M.length;_===null&&d<f;d++)_=this.valueSetReplace(M[d],y,S);return _}valueSetReplace(M,y,S){let _=M.indexOf(y);return _>=0?(_+=S?1:-1,_<0?_=M.length-1:_%=M.length,M[_]):null}}e.BasicInplaceReplace=C,C.INSTANCE=new C}),define(Q[370],J([0,1,11,8,108]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class y{constructor(_){_=_||{},_.brackets=_.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],_.brackets.forEach(d=>{const f=y._createOpenBracketRegExp(d[0]),p=y._createCloseBracketRegExp(d[1]);f&&p&&this._brackets.push({open:d[0],openRegExp:f,close:d[1],closeRegExp:p})}),this._regExpRules=_.onEnterRules||[]}onEnter(_,d,f,p){if(_>=3)for(let o=0,c=this._regExpRules.length;o<c;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:f},{reg:a.afterText,text:p},{reg:a.oneLineAboveText,text:d}].every(l=>l.reg?l.reg.test(l.text):!0))return a.action}if(_>=2&&f.length>0&&p.length>0)for(let o=0,c=this._brackets.length;o<c;o++){let a=this._brackets[o];if(a.openRegExp.test(f)&&a.closeRegExp.test(p))return{indentAction:M.IndentAction.IndentOutdent}}if(_>=2&&f.length>0){for(let o=0,c=this._brackets.length;o<c;o++)if(this._brackets[o].openRegExp.test(f))return{indentAction:M.IndentAction.Indent}}return null}static _createOpenBracketRegExp(_){let d=k.escapeRegExpCharacters(_);return/\B/.test(d.charAt(0))||(d="\\b"+d),d+="\\s*$",y._safeRegExp(d)}static _createCloseBracketRegExp(_){let d=k.escapeRegExpCharacters(_);return/\B/.test(d.charAt(d.length-1))||(d=d+"\\b"),d="^\\s*"+d,y._safeRegExp(d)}static _safeRegExp(_){try{return new RegExp(_)}catch(d){return C.onUnexpectedError(d),null}}}e.OnEnterSupport=y}),define(Q[164],J([0,1,8,92,3]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class y{constructor(u,h,v,m,g,b){this.languageIdentifier=u,this.index=h,this.open=v,this.close=m,this.forwardRegex=g,this.reversedRegex=b,this._openSet=y._toSet(this.open),this._closeSet=y._toSet(this.close)}isOpen(u){return this._openSet.has(u)}isClose(u){return this._closeSet.has(u)}static _toSet(u){const h=new Set;for(const v of u)h.add(v);return h}}e.RichEditBracket=y;function S(i){const u=i.length;i=i.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const h=[];for(let b=0;b<u;b++)h[b]=b;const v=(b,w)=>{const[L,E]=b,[N,I]=w;return L===N||L===I||E===N||E===I},m=(b,w)=>{const L=Math.min(b,w),E=Math.max(b,w);for(let N=0;N<u;N++)h[N]===E&&(h[N]=L)};for(let b=0;b<u;b++){const w=i[b];for(let L=b+1;L<u;L++){const E=i[L];v(w,E)&&m(h[b],h[L])}}const g=[];for(let b=0;b<u;b++){let w=[],L=[];for(let E=0;E<u;E++)if(h[E]===b){const[N,I]=i[E];w.push(N),L.push(I)}w.length>0&&g.push({open:w,close:L})}return g}class _{constructor(u,h){const v=S(h);this.brackets=v.map((m,g)=>new y(u,g,m.open,m.close,o(m.open,m.close,v,g),c(m.open,m.close,v,g))),this.forwardRegex=a(this.brackets),this.reversedRegex=s(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const m of this.brackets){for(const g of m.open)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of m.close)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=_;function d(i,u,h,v){for(let m=0,g=u.length;m<g;m++)if(m!==h){const b=u[m];for(const w of b.open)w.indexOf(i)>=0&&v.push(w);for(const w of b.close)w.indexOf(i)>=0&&v.push(w)}}function f(i,u){return i.length-u.length}function p(i){if(i.length<=1)return i;const u=[],h=new Set;for(const v of i)h.has(v)||(u.push(v),h.add(v));return u}function o(i,u,h,v){let m=[];m=m.concat(i),m=m.concat(u);for(let g=0,b=m.length;g<b;g++)d(m[g],h,v,m);return m=p(m),m.sort(f),m.reverse(),r(m)}function c(i,u,h,v){let m=[];m=m.concat(i),m=m.concat(u);for(let g=0,b=m.length;g<b;g++)d(m[g],h,v,m);return m=p(m),m.sort(f),m.reverse(),r(m.map(t))}function a(i){let u=[];for(const h of i){for(const v of h.open)u.push(v);for(const v of h.close)u.push(v)}return u=p(u),r(u)}function s(i){let u=[];for(const h of i){for(const v of h.open)u.push(v);for(const v of h.close)u.push(v)}return u=p(u),r(u.map(t))}function l(i){const u=/^[\w ]+$/.test(i);return i=C.escapeRegExpCharacters(i),u?`\\b${i}\\b`:i}function r(i){let u=`(${i.map(l).join(")|(")})`;return C.createRegExp(u,!0)}const t=function(){function i(v){if(k.hasTextDecoder){const m=new Uint16Array(v.length);let g=0;for(let b=v.length-1;b>=0;b--)m[g++]=v.charCodeAt(b);return k.getPlatformTextDecoder().decode(m)}else{let m=[],g=0;for(let b=v.length-1;b>=0;b--)m[g++]=v.charAt(b);return m.join("")}}let u=null,h=null;return function(m){return u!==m&&(u=m,h=i(u)),h}}();class n{static _findPrevBracketInText(u,h,v,m){let g=v.match(u);if(!g)return null;let b=v.length-(g.index||0),w=g[0].length,L=m+b;return new M.Range(h,L-w+1,h,L+1)}static findPrevBracketInRange(u,h,v,m,g){const w=t(v).substring(v.length-g,v.length-m);return this._findPrevBracketInText(u,h,w,m)}static findNextBracketInText(u,h,v,m){let g=v.match(u);if(!g)return null;let b=g.index||0,w=g[0].length;if(w===0)return null;let L=m+b;return new M.Range(h,L+1,h,L+1+w)}static findNextBracketInRange(u,h,v,m,g){const b=v.substring(m,g);return this.findNextBracketInText(u,h,b,m)}}e.BracketsUtils=n}),define(Q[371],J([0,1,163,164]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class M{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const _ of this._richEditBrackets.brackets)for(const d of _.close){const f=d.charAt(d.length-1);S.push(f)}return S=S.filter((_,d,f)=>f.indexOf(_)===d),S}onElectricCharacter(S,_,d){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const f=_.findTokenIndexAtOffset(d-1);if(C.ignoreBracketsInToken(_.getStandardTokenType(f)))return null;const p=this._richEditBrackets.reversedRegex,o=_.getLineContent().substring(0,d-1)+S,c=k.BracketsUtils.findPrevBracketInRange(p,1,o,0,o.length);if(!c)return null;const a=o.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=_.getActualLineContentBefore(c.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}e.BracketElectricCharacterSupport=M}),define(Q[41],J([0,1,4,2,8,127,108,163,367,371,368,370,164]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class a{constructor(t,n,i){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null;let u=null;n&&(u=n._conf),this._conf=a._mergeConf(u,i),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new o.OnEnterSupport(this._conf):null,this.comments=a._handleComments(this._conf),this.characterPair=new d.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||y.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new p.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new c.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new f.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,n,i,u){return this._onEnterSupport?this._onEnterSupport.onEnter(t,n,i,u):null}static _mergeConf(t,n){return{comments:t?n.comments||t.comments:n.comments,brackets:t?n.brackets||t.brackets:n.brackets,wordPattern:t?n.wordPattern||t.wordPattern:n.wordPattern,indentationRules:t?n.indentationRules||t.indentationRules:n.indentationRules,onEnterRules:t?n.onEnterRules||t.onEnterRules:n.onEnterRules,autoClosingPairs:t?n.autoClosingPairs||t.autoClosingPairs:n.autoClosingPairs,surroundingPairs:t?n.surroundingPairs||t.surroundingPairs:n.surroundingPairs,autoCloseBefore:t?n.autoCloseBefore||t.autoCloseBefore:n.autoCloseBefore,folding:t?n.folding||t.folding:n.folding,__electricCharacterSupport:t?n.__electricCharacterSupport||t.__electricCharacterSupport:n.__electricCharacterSupport}}static _handleComments(t){let n=t.comments;if(!n)return null;let i={};if(n.lineComment&&(i.lineCommentToken=n.lineComment),n.blockComment){let[u,h]=n.blockComment;i.blockCommentStartToken=u,i.blockCommentEndToken=h}return i}}e.RichEditSupport=a;class s{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=s;class l{constructor(){this._entries=new Map,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event}register(t,n){let i=this._getRichEditSupport(t.id),u=new a(t,i,n);return this._entries.set(t.id,u),this._onDidChange.fire(new s(t)),k.toDisposable(()=>{this._entries.get(t.id)===u&&(this._entries.set(t.id,i),this._onDidChange.fire(new s(t)))})}_getRichEditSupport(t){return this._entries.get(t)}getIndentationRules(t){const n=this._entries.get(t);return n&&n.indentationRules||null}_getElectricCharacterSupport(t){let n=this._getRichEditSupport(t);return n&&n.electricCharacter||null}getElectricCharacters(t){let n=this._getElectricCharacterSupport(t);return n?n.getElectricCharacters():[]}onElectricCharacter(t,n,i){let u=_.createScopedLineTokens(n,i-1),h=this._getElectricCharacterSupport(u.languageId);return h?h.onElectricCharacter(t,u,i-u.firstCharOffset):null}getComments(t){let n=this._getRichEditSupport(t);return n&&n.comments||null}_getCharacterPairSupport(t){let n=this._getRichEditSupport(t);return n&&n.characterPair||null}getAutoClosingPairs(t){const n=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(n?n.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let n=this._getCharacterPairSupport(t);return n?n.getAutoCloseBeforeSet():d.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let n=this._getCharacterPairSupport(t);return n?n.getSurroundingPairs():[]}shouldAutoClosePair(t,n,i){const u=_.createScopedLineTokens(n,i-1);return d.CharacterPairSupport.shouldAutoClosePair(t,u,i-u.firstCharOffset)}getWordDefinition(t){let n=this._getRichEditSupport(t);return n?y.ensureValidWordDefinition(n.wordDefinition||null):y.ensureValidWordDefinition(null)}getFoldingRules(t){let n=this._getRichEditSupport(t);return n?n.foldingRules:{}}getIndentRulesSupport(t){let n=this._getRichEditSupport(t);return n&&n.indentRulesSupport||null}getPrecedingValidLine(t,n,i){let u=t.getLanguageIdAtPosition(n,0);if(n>1){let h,v=-1;for(h=n-1;h>=1;h--){if(t.getLanguageIdAtPosition(h,0)!==u)return v;let m=t.getLineContent(h);if(i.shouldIgnore(m)||/^\s+$/.test(m)||m===""){v=h;continue}return h}}return-1}getInheritIndentForLine(t,n,i,u=!0){if(t<4)return null;const h=this.getIndentRulesSupport(n.getLanguageIdentifier().id);if(!h)return null;if(i<=1)return{indentation:"",action:null};const v=this.getPrecedingValidLine(n,i,h);if(v<0)return null;if(v<1)return{indentation:"",action:null};const m=n.getLineContent(v);if(h.shouldIncrease(m)||h.shouldIndentNextLine(m))return{indentation:M.getLeadingWhitespace(m),action:S.IndentAction.Indent,line:v};if(h.shouldDecrease(m))return{indentation:M.getLeadingWhitespace(m),action:null,line:v};{if(v===1)return{indentation:M.getLeadingWhitespace(n.getLineContent(v)),action:null,line:v};const g=v-1,b=h.getIndentMetadata(n.getLineContent(g));if(!(b&(1|2))&&b&4){let w=0;for(let L=g-1;L>0;L--)if(!h.shouldIndentNextLine(n.getLineContent(L))){w=L;break}return{indentation:M.getLeadingWhitespace(n.getLineContent(w+1)),action:null,line:w+1}}if(u)return{indentation:M.getLeadingWhitespace(n.getLineContent(v)),action:null,line:v};for(let w=v;w>0;w--){const L=n.getLineContent(w);if(h.shouldIncrease(L))return{indentation:M.getLeadingWhitespace(L),action:S.IndentAction.Indent,line:w};if(h.shouldIndentNextLine(L)){let E=0;for(let N=w-1;N>0;N--)if(!h.shouldIndentNextLine(n.getLineContent(w))){E=N;break}return{indentation:M.getLeadingWhitespace(n.getLineContent(E+1)),action:null,line:E+1}}else if(h.shouldDecrease(L))return{indentation:M.getLeadingWhitespace(L),action:null,line:w}}return{indentation:M.getLeadingWhitespace(n.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,n,i,u,h){if(t<4)return null;const v=this._getRichEditSupport(i);if(!v)return null;const m=this.getIndentRulesSupport(i);if(!m)return null;const g=this.getInheritIndentForLine(t,n,u),b=n.getLineContent(u);if(g){const w=g.line;if(w!==void 0){const L=v.onEnter(t,"",n.getLineContent(w),"");if(L){let E=M.getLeadingWhitespace(n.getLineContent(w));return L.removeText&&(E=E.substring(0,E.length-L.removeText)),L.indentAction===S.IndentAction.Indent||L.indentAction===S.IndentAction.IndentOutdent?E=h.shiftIndent(E):L.indentAction===S.IndentAction.Outdent&&(E=h.unshiftIndent(E)),m.shouldDecrease(b)&&(E=h.unshiftIndent(E)),L.appendText&&(E+=L.appendText),M.getLeadingWhitespace(E)}}return m.shouldDecrease(b)?g.action===S.IndentAction.Indent?g.indentation:h.unshiftIndent(g.indentation):g.action===S.IndentAction.Indent?h.shiftIndent(g.indentation):g.indentation}return null}getIndentForEnter(t,n,i,u){if(t<4)return null;n.forceTokenization(i.startLineNumber);const h=n.getLineTokens(i.startLineNumber),v=_.createScopedLineTokens(h,i.startColumn-1),m=v.getLineContent();let g=!1,b;v.firstCharOffset>0&&h.getLanguageId(0)!==v.languageId?(g=!0,b=m.substr(0,i.startColumn-1-v.firstCharOffset)):b=h.getLineContent().substring(0,i.startColumn-1);let w;i.isEmpty()?w=m.substr(i.startColumn-1-v.firstCharOffset):w=this.getScopedLineTokens(n,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-v.firstCharOffset);const L=this.getIndentRulesSupport(v.languageId);if(!L)return null;const E=b,N=M.getLeadingWhitespace(b),I={getLineTokens:F=>n.getLineTokens(F),getLanguageIdentifier:()=>n.getLanguageIdentifier(),getLanguageIdAtPosition:(F,D)=>n.getLanguageIdAtPosition(F,D),getLineContent:F=>F===i.startLineNumber?E:n.getLineContent(F)},T=M.getLeadingWhitespace(h.getLineContent()),O=this.getInheritIndentForLine(t,I,i.startLineNumber+1);if(!O){const F=g?T:N;return{beforeEnter:F,afterEnter:F}}let R=g?T:O.indentation;return O.action===S.IndentAction.Indent&&(R=u.shiftIndent(R)),L.shouldDecrease(w)&&(R=u.unshiftIndent(R)),{beforeEnter:g?T:N,afterEnter:R}}getIndentActionForType(t,n,i,u,h){if(t<4)return null;const v=this.getScopedLineTokens(n,i.startLineNumber,i.startColumn);if(v.firstCharOffset)return null;const m=this.getIndentRulesSupport(v.languageId);if(!m)return null;const g=v.getLineContent(),b=g.substr(0,i.startColumn-1-v.firstCharOffset);let w;if(i.isEmpty()?w=g.substr(i.startColumn-1-v.firstCharOffset):w=this.getScopedLineTokens(n,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-v.firstCharOffset),!m.shouldDecrease(b+w)&&m.shouldDecrease(b+u+w)){const L=this.getInheritIndentForLine(t,n,i.startLineNumber,!1);if(!L)return null;let E=L.indentation;return L.action!==S.IndentAction.Indent&&(E=h.unshiftIndent(E)),E}return null}getIndentMetadata(t,n){const i=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!i||n<1||n>t.getLineCount()?null:i.getIndentMetadata(t.getLineContent(n))}getEnterAction(t,n,i){const u=this.getScopedLineTokens(n,i.startLineNumber,i.startColumn),h=this._getRichEditSupport(u.languageId);if(!h)return null;const v=u.getLineContent(),m=v.substr(0,i.startColumn-1-u.firstCharOffset);let g;i.isEmpty()?g=v.substr(i.startColumn-1-u.firstCharOffset):g=this.getScopedLineTokens(n,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-u.firstCharOffset);let b="";if(i.startLineNumber>1&&u.firstCharOffset===0){const T=this.getScopedLineTokens(n,i.startLineNumber-1);T.languageId===u.languageId&&(b=T.getLineContent())}const w=h.onEnter(t,b,m,g);if(!w)return null;const L=w.indentAction;let E=w.appendText;const N=w.removeText||0;E||(L===S.IndentAction.Indent||L===S.IndentAction.IndentOutdent?E="	":E="");let I=this.getIndentationAtPosition(n,i.startLineNumber,i.startColumn);return N&&(I=I.substring(0,I.length-N)),{indentAction:L,appendText:E,removeText:N,indentation:I}}getIndentationAtPosition(t,n,i){const u=t.getLineContent(n);let h=M.getLeadingWhitespace(u);return h.length>i-1&&(h=h.substring(0,i-1)),h}getScopedLineTokens(t,n,i){t.forceTokenization(n);const u=t.getLineTokens(n),h=typeof i=="undefined"?t.getLineMaxColumn(n)-1:i-1;return _.createScopedLineTokens(u,h)}getBracketsSupport(t){const n=this._getRichEditSupport(t);return n&&n.brackets||null}}e.LanguageConfigurationRegistryImpl=l,e.LanguageConfigurationRegistry=new l}),define(Q[372],J([0,1,29]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(r,t,n,i,u){this.token=r,this.index=t,this.fontStyle=n,this.foreground=i,this.background=u}}e.ParsedTokenThemeRule=k;function M(l){if(!l||!Array.isArray(l))return[];let r=[],t=0;for(let n=0,i=l.length;n<i;n++){let u=l[n],h=-1;if(typeof u.fontStyle=="string"){h=0;let g=u.fontStyle.split(" ");for(let b=0,w=g.length;b<w;b++)switch(g[b]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let v=null;typeof u.foreground=="string"&&(v=u.foreground);let m=null;typeof u.background=="string"&&(m=u.background),r[t++]=new k(u.token||"",n,h,v,m)}return r}e.parseTokenTheme=M;function y(l,r){l.sort((b,w)=>{let L=o(b.token,w.token);return L!==0?L:b.index-w.index});let t=0,n="000000",i="ffffff";for(;l.length>=1&&l[0].token==="";){let b=l.shift();b.fontStyle!==-1&&(t=b.fontStyle),b.foreground!==null&&(n=b.foreground),b.background!==null&&(i=b.background)}let u=new _;for(let b of r)u.getId(b);let h=u.getId(n),v=u.getId(i),m=new c(t,h,v),g=new a(m);for(let b=0,w=l.length;b<w;b++){let L=l[b];g.insert(L.token,L.fontStyle,u.getId(L.foreground),u.getId(L.background))}return new d(u,g)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const t=r.match(S);if(!t)throw new Error("Illegal value for token color: "+r);r=t[1].toUpperCase();let n=this._color2id.get(r);return n||(n=++this._lastColorId,this._color2id.set(r,n),this._id2color[n]=C.Color.fromHex("#"+r),n)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=_;class d{constructor(r,t){this._colorMap=r,this._root=t,this._cache=new Map}static createFromRawTokenTheme(r,t){return this.createFromParsedTokenTheme(M(r),t)}static createFromParsedTokenTheme(r,t){return y(r,t)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,t){let n=this._cache.get(t);if(typeof n=="undefined"){let i=this._match(t),u=p(t);n=(i.metadata|u<<8)>>>0,this._cache.set(t,n)}return(n|r<<0)>>>0}}e.TokenTheme=d;const f=/\b(comment|string|regex|regexp)\b/;function p(l){let r=l.match(f);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=p;function o(l,r){return l<r?-1:l>r?1:0}e.strcmp=o;class c{constructor(r,t,n){this._fontStyle=r,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new c(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,t,n){r!==-1&&(this._fontStyle=r),t!==0&&(this._foreground=t),n!==0&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=c;class a{constructor(r){this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;let t=r.indexOf("."),n,i;t===-1?(n=r,i=""):(n=r.substring(0,t),i=r.substring(t+1));let u=this._children.get(n);return typeof u!="undefined"?u.match(i):this._mainRule}insert(r,t,n,i){if(r===""){this._mainRule.acceptOverwrite(t,n,i);return}let u=r.indexOf("."),h,v;u===-1?(h=r,v=""):(h=r.substring(0,u),v=r.substring(u+1));let m=this._children.get(h);typeof m=="undefined"&&(m=new a(this._mainRule.clone()),this._children.set(h,m)),m.insert(v,t,n,i)}}e.ThemeTrieElement=a;function s(l){let r=[];for(let t=1,n=l.length;t<n;t++){let i=l[t];r[t]=`.mtk${t} { color: ${i}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=s}),define(Q[373],J([0,1,4,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class M{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,_){return this._map.set(S,_),this.fire([S]),k.toDisposable(()=>{this._map.get(S)===_&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,_){let d=null,f=!1;return this._promises.set(S,_.then(p=>{this._promises.delete(S),!(f||!p)&&(d=this.register(S,p))})),k.toDisposable(()=>{f=!0,d&&d.dispose()})}getPromise(S){const _=this.get(S);if(_)return Promise.resolve(_);const d=this._promises.get(S);return d?d.then(f=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=M}),define(Q[165],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var C;(function(D){D[D.Unknown=0]="Unknown",D[D.Disabled=1]="Disabled",D[D.Enabled=2]="Enabled"})(C=e.AccessibilitySupport||(e.AccessibilitySupport={}));var k;(function(D){D[D.KeepWhitespace=1]="KeepWhitespace",D[D.InsertAsSnippet=4]="InsertAsSnippet"})(k=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var M;(function(D){D[D.Method=0]="Method",D[D.Function=1]="Function",D[D.Constructor=2]="Constructor",D[D.Field=3]="Field",D[D.Variable=4]="Variable",D[D.Class=5]="Class",D[D.Struct=6]="Struct",D[D.Interface=7]="Interface",D[D.Module=8]="Module",D[D.Property=9]="Property",D[D.Event=10]="Event",D[D.Operator=11]="Operator",D[D.Unit=12]="Unit",D[D.Value=13]="Value",D[D.Constant=14]="Constant",D[D.Enum=15]="Enum",D[D.EnumMember=16]="EnumMember",D[D.Keyword=17]="Keyword",D[D.Text=18]="Text",D[D.Color=19]="Color",D[D.File=20]="File",D[D.Reference=21]="Reference",D[D.Customcolor=22]="Customcolor",D[D.Folder=23]="Folder",D[D.TypeParameter=24]="TypeParameter",D[D.User=25]="User",D[D.Issue=26]="Issue",D[D.Snippet=27]="Snippet"})(M=e.CompletionItemKind||(e.CompletionItemKind={}));var y;(function(D){D[D.Deprecated=1]="Deprecated"})(y=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(D){D[D.Invoke=0]="Invoke",D[D.TriggerCharacter=1]="TriggerCharacter",D[D.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var _;(function(D){D[D.EXACT=0]="EXACT",D[D.ABOVE=1]="ABOVE",D[D.BELOW=2]="BELOW"})(_=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var d;(function(D){D[D.NotSet=0]="NotSet",D[D.ContentFlush=1]="ContentFlush",D[D.RecoverFromMarkers=2]="RecoverFromMarkers",D[D.Explicit=3]="Explicit",D[D.Paste=4]="Paste",D[D.Undo=5]="Undo",D[D.Redo=6]="Redo"})(d=e.CursorChangeReason||(e.CursorChangeReason={}));var f;(function(D){D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(f=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var p;(function(D){D[D.Text=0]="Text",D[D.Read=1]="Read",D[D.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var o;(function(D){D[D.None=0]="None",D[D.Keep=1]="Keep",D[D.Brackets=2]="Brackets",D[D.Advanced=3]="Advanced",D[D.Full=4]="Full"})(o=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var c;(function(D){D[D.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",D[D.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",D[D.accessibilitySupport=2]="accessibilitySupport",D[D.accessibilityPageSize=3]="accessibilityPageSize",D[D.ariaLabel=4]="ariaLabel",D[D.autoClosingBrackets=5]="autoClosingBrackets",D[D.autoClosingOvertype=6]="autoClosingOvertype",D[D.autoClosingQuotes=7]="autoClosingQuotes",D[D.autoIndent=8]="autoIndent",D[D.automaticLayout=9]="automaticLayout",D[D.autoSurround=10]="autoSurround",D[D.codeLens=11]="codeLens",D[D.codeLensFontFamily=12]="codeLensFontFamily",D[D.codeLensFontSize=13]="codeLensFontSize",D[D.colorDecorators=14]="colorDecorators",D[D.columnSelection=15]="columnSelection",D[D.comments=16]="comments",D[D.contextmenu=17]="contextmenu",D[D.copyWithSyntaxHighlighting=18]="copyWithSyntaxHighlighting",D[D.cursorBlinking=19]="cursorBlinking",D[D.cursorSmoothCaretAnimation=20]="cursorSmoothCaretAnimation",D[D.cursorStyle=21]="cursorStyle",D[D.cursorSurroundingLines=22]="cursorSurroundingLines",D[D.cursorSurroundingLinesStyle=23]="cursorSurroundingLinesStyle",D[D.cursorWidth=24]="cursorWidth",D[D.disableLayerHinting=25]="disableLayerHinting",D[D.disableMonospaceOptimizations=26]="disableMonospaceOptimizations",D[D.dragAndDrop=27]="dragAndDrop",D[D.emptySelectionClipboard=28]="emptySelectionClipboard",D[D.extraEditorClassName=29]="extraEditorClassName",D[D.fastScrollSensitivity=30]="fastScrollSensitivity",D[D.find=31]="find",D[D.fixedOverflowWidgets=32]="fixedOverflowWidgets",D[D.folding=33]="folding",D[D.foldingStrategy=34]="foldingStrategy",D[D.foldingHighlight=35]="foldingHighlight",D[D.unfoldOnClickAfterEndOfLine=36]="unfoldOnClickAfterEndOfLine",D[D.fontFamily=37]="fontFamily",D[D.fontInfo=38]="fontInfo",D[D.fontLigatures=39]="fontLigatures",D[D.fontSize=40]="fontSize",D[D.fontWeight=41]="fontWeight",D[D.formatOnPaste=42]="formatOnPaste",D[D.formatOnType=43]="formatOnType",D[D.glyphMargin=44]="glyphMargin",D[D.gotoLocation=45]="gotoLocation",D[D.hideCursorInOverviewRuler=46]="hideCursorInOverviewRuler",D[D.highlightActiveIndentGuide=47]="highlightActiveIndentGuide",D[D.hover=48]="hover",D[D.inDiffEditor=49]="inDiffEditor",D[D.letterSpacing=50]="letterSpacing",D[D.lightbulb=51]="lightbulb",D[D.lineDecorationsWidth=52]="lineDecorationsWidth",D[D.lineHeight=53]="lineHeight",D[D.lineNumbers=54]="lineNumbers",D[D.lineNumbersMinChars=55]="lineNumbersMinChars",D[D.linkedEditing=56]="linkedEditing",D[D.links=57]="links",D[D.matchBrackets=58]="matchBrackets",D[D.minimap=59]="minimap",D[D.mouseStyle=60]="mouseStyle",D[D.mouseWheelScrollSensitivity=61]="mouseWheelScrollSensitivity",D[D.mouseWheelZoom=62]="mouseWheelZoom",D[D.multiCursorMergeOverlapping=63]="multiCursorMergeOverlapping",D[D.multiCursorModifier=64]="multiCursorModifier",D[D.multiCursorPaste=65]="multiCursorPaste",D[D.occurrencesHighlight=66]="occurrencesHighlight",D[D.overviewRulerBorder=67]="overviewRulerBorder",D[D.overviewRulerLanes=68]="overviewRulerLanes",D[D.padding=69]="padding",D[D.parameterHints=70]="parameterHints",D[D.peekWidgetDefaultFocus=71]="peekWidgetDefaultFocus",D[D.definitionLinkOpensInPeek=72]="definitionLinkOpensInPeek",D[D.quickSuggestions=73]="quickSuggestions",D[D.quickSuggestionsDelay=74]="quickSuggestionsDelay",D[D.readOnly=75]="readOnly",D[D.renameOnType=76]="renameOnType",D[D.renderControlCharacters=77]="renderControlCharacters",D[D.renderIndentGuides=78]="renderIndentGuides",D[D.renderFinalNewline=79]="renderFinalNewline",D[D.renderLineHighlight=80]="renderLineHighlight",D[D.renderLineHighlightOnlyWhenFocus=81]="renderLineHighlightOnlyWhenFocus",D[D.renderValidationDecorations=82]="renderValidationDecorations",D[D.renderWhitespace=83]="renderWhitespace",D[D.revealHorizontalRightPadding=84]="revealHorizontalRightPadding",D[D.roundedSelection=85]="roundedSelection",D[D.rulers=86]="rulers",D[D.scrollbar=87]="scrollbar",D[D.scrollBeyondLastColumn=88]="scrollBeyondLastColumn",D[D.scrollBeyondLastLine=89]="scrollBeyondLastLine",D[D.scrollPredominantAxis=90]="scrollPredominantAxis",D[D.selectionClipboard=91]="selectionClipboard",D[D.selectionHighlight=92]="selectionHighlight",D[D.selectOnLineNumbers=93]="selectOnLineNumbers",D[D.showFoldingControls=94]="showFoldingControls",D[D.showUnused=95]="showUnused",D[D.snippetSuggestions=96]="snippetSuggestions",D[D.smartSelect=97]="smartSelect",D[D.smoothScrolling=98]="smoothScrolling",D[D.stickyTabStops=99]="stickyTabStops",D[D.stopRenderingLineAfter=100]="stopRenderingLineAfter",D[D.suggest=101]="suggest",D[D.suggestFontSize=102]="suggestFontSize",D[D.suggestLineHeight=103]="suggestLineHeight",D[D.suggestOnTriggerCharacters=104]="suggestOnTriggerCharacters",D[D.suggestSelection=105]="suggestSelection",D[D.tabCompletion=106]="tabCompletion",D[D.tabIndex=107]="tabIndex",D[D.unusualLineTerminators=108]="unusualLineTerminators",D[D.useTabStops=109]="useTabStops",D[D.wordSeparators=110]="wordSeparators",D[D.wordWrap=111]="wordWrap",D[D.wordWrapBreakAfterCharacters=112]="wordWrapBreakAfterCharacters",D[D.wordWrapBreakBeforeCharacters=113]="wordWrapBreakBeforeCharacters",D[D.wordWrapColumn=114]="wordWrapColumn",D[D.wordWrapOverride1=115]="wordWrapOverride1",D[D.wordWrapOverride2=116]="wordWrapOverride2",D[D.wrappingIndent=117]="wrappingIndent",D[D.wrappingStrategy=118]="wrappingStrategy",D[D.showDeprecated=119]="showDeprecated",D[D.editorClassName=120]="editorClassName",D[D.pixelRatio=121]="pixelRatio",D[D.tabFocusMode=122]="tabFocusMode",D[D.layoutInfo=123]="layoutInfo",D[D.wrappingInfo=124]="wrappingInfo"})(c=e.EditorOption||(e.EditorOption={}));var a;(function(D){D[D.TextDefined=0]="TextDefined",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(a=e.EndOfLinePreference||(e.EndOfLinePreference={}));var s;(function(D){D[D.LF=0]="LF",D[D.CRLF=1]="CRLF"})(s=e.EndOfLineSequence||(e.EndOfLineSequence={}));var l;(function(D){D[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent"})(l=e.IndentAction||(e.IndentAction={}));var r;(function(D){D[D.Unknown=0]="Unknown",D[D.Backspace=1]="Backspace",D[D.Tab=2]="Tab",D[D.Enter=3]="Enter",D[D.Shift=4]="Shift",D[D.Ctrl=5]="Ctrl",D[D.Alt=6]="Alt",D[D.PauseBreak=7]="PauseBreak",D[D.CapsLock=8]="CapsLock",D[D.Escape=9]="Escape",D[D.Space=10]="Space",D[D.PageUp=11]="PageUp",D[D.PageDown=12]="PageDown",D[D.End=13]="End",D[D.Home=14]="Home",D[D.LeftArrow=15]="LeftArrow",D[D.UpArrow=16]="UpArrow",D[D.RightArrow=17]="RightArrow",D[D.DownArrow=18]="DownArrow",D[D.Insert=19]="Insert",D[D.Delete=20]="Delete",D[D.KEY_0=21]="KEY_0",D[D.KEY_1=22]="KEY_1",D[D.KEY_2=23]="KEY_2",D[D.KEY_3=24]="KEY_3",D[D.KEY_4=25]="KEY_4",D[D.KEY_5=26]="KEY_5",D[D.KEY_6=27]="KEY_6",D[D.KEY_7=28]="KEY_7",D[D.KEY_8=29]="KEY_8",D[D.KEY_9=30]="KEY_9",D[D.KEY_A=31]="KEY_A",D[D.KEY_B=32]="KEY_B",D[D.KEY_C=33]="KEY_C",D[D.KEY_D=34]="KEY_D",D[D.KEY_E=35]="KEY_E",D[D.KEY_F=36]="KEY_F",D[D.KEY_G=37]="KEY_G",D[D.KEY_H=38]="KEY_H",D[D.KEY_I=39]="KEY_I",D[D.KEY_J=40]="KEY_J",D[D.KEY_K=41]="KEY_K",D[D.KEY_L=42]="KEY_L",D[D.KEY_M=43]="KEY_M",D[D.KEY_N=44]="KEY_N",D[D.KEY_O=45]="KEY_O",D[D.KEY_P=46]="KEY_P",D[D.KEY_Q=47]="KEY_Q",D[D.KEY_R=48]="KEY_R",D[D.KEY_S=49]="KEY_S",D[D.KEY_T=50]="KEY_T",D[D.KEY_U=51]="KEY_U",D[D.KEY_V=52]="KEY_V",D[D.KEY_W=53]="KEY_W",D[D.KEY_X=54]="KEY_X",D[D.KEY_Y=55]="KEY_Y",D[D.KEY_Z=56]="KEY_Z",D[D.Meta=57]="Meta",D[D.ContextMenu=58]="ContextMenu",D[D.F1=59]="F1",D[D.F2=60]="F2",D[D.F3=61]="F3",D[D.F4=62]="F4",D[D.F5=63]="F5",D[D.F6=64]="F6",D[D.F7=65]="F7",D[D.F8=66]="F8",D[D.F9=67]="F9",D[D.F10=68]="F10",D[D.F11=69]="F11",D[D.F12=70]="F12",D[D.F13=71]="F13",D[D.F14=72]="F14",D[D.F15=73]="F15",D[D.F16=74]="F16",D[D.F17=75]="F17",D[D.F18=76]="F18",D[D.F19=77]="F19",D[D.NumLock=78]="NumLock",D[D.ScrollLock=79]="ScrollLock",D[D.US_SEMICOLON=80]="US_SEMICOLON",D[D.US_EQUAL=81]="US_EQUAL",D[D.US_COMMA=82]="US_COMMA",D[D.US_MINUS=83]="US_MINUS",D[D.US_DOT=84]="US_DOT",D[D.US_SLASH=85]="US_SLASH",D[D.US_BACKTICK=86]="US_BACKTICK",D[D.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",D[D.US_BACKSLASH=88]="US_BACKSLASH",D[D.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",D[D.US_QUOTE=90]="US_QUOTE",D[D.OEM_8=91]="OEM_8",D[D.OEM_102=92]="OEM_102",D[D.NUMPAD_0=93]="NUMPAD_0",D[D.NUMPAD_1=94]="NUMPAD_1",D[D.NUMPAD_2=95]="NUMPAD_2",D[D.NUMPAD_3=96]="NUMPAD_3",D[D.NUMPAD_4=97]="NUMPAD_4",D[D.NUMPAD_5=98]="NUMPAD_5",D[D.NUMPAD_6=99]="NUMPAD_6",D[D.NUMPAD_7=100]="NUMPAD_7",D[D.NUMPAD_8=101]="NUMPAD_8",D[D.NUMPAD_9=102]="NUMPAD_9",D[D.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",D[D.NUMPAD_ADD=104]="NUMPAD_ADD",D[D.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",D[D.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",D[D.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",D[D.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",D[D.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",D[D.ABNT_C1=110]="ABNT_C1",D[D.ABNT_C2=111]="ABNT_C2",D[D.MAX_VALUE=112]="MAX_VALUE"})(r=e.KeyCode||(e.KeyCode={}));var t;(function(D){D[D.Hint=1]="Hint",D[D.Info=2]="Info",D[D.Warning=4]="Warning",D[D.Error=8]="Error"})(t=e.MarkerSeverity||(e.MarkerSeverity={}));var n;(function(D){D[D.Unnecessary=1]="Unnecessary",D[D.Deprecated=2]="Deprecated"})(n=e.MarkerTag||(e.MarkerTag={}));var i;(function(D){D[D.Inline=1]="Inline",D[D.Gutter=2]="Gutter"})(i=e.MinimapPosition||(e.MinimapPosition={}));var u;(function(D){D[D.UNKNOWN=0]="UNKNOWN",D[D.TEXTAREA=1]="TEXTAREA",D[D.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",D[D.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",D[D.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",D[D.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",D[D.CONTENT_TEXT=6]="CONTENT_TEXT",D[D.CONTENT_EMPTY=7]="CONTENT_EMPTY",D[D.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",D[D.CONTENT_WIDGET=9]="CONTENT_WIDGET",D[D.OVERVIEW_RULER=10]="OVERVIEW_RULER",D[D.SCROLLBAR=11]="SCROLLBAR",D[D.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",D[D.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(u=e.MouseTargetType||(e.MouseTargetType={}));var h;(function(D){D[D.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",D[D.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",D[D.TOP_CENTER=2]="TOP_CENTER"})(h=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var v;(function(D){D[D.Left=1]="Left",D[D.Center=2]="Center",D[D.Right=4]="Right",D[D.Full=7]="Full"})(v=e.OverviewRulerLane||(e.OverviewRulerLane={}));var m;(function(D){D[D.Off=0]="Off",D[D.On=1]="On",D[D.Relative=2]="Relative",D[D.Interval=3]="Interval",D[D.Custom=4]="Custom"})(m=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var g;(function(D){D[D.None=0]="None",D[D.Text=1]="Text",D[D.Blocks=2]="Blocks"})(g=e.RenderMinimap||(e.RenderMinimap={}));var b;(function(D){D[D.Smooth=0]="Smooth",D[D.Immediate=1]="Immediate"})(b=e.ScrollType||(e.ScrollType={}));var w;(function(D){D[D.Auto=1]="Auto",D[D.Hidden=2]="Hidden",D[D.Visible=3]="Visible"})(w=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var L;(function(D){D[D.LTR=0]="LTR",D[D.RTL=1]="RTL"})(L=e.SelectionDirection||(e.SelectionDirection={}));var E;(function(D){D[D.Invoke=1]="Invoke",D[D.TriggerCharacter=2]="TriggerCharacter",D[D.ContentChange=3]="ContentChange"})(E=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var N;(function(D){D[D.File=0]="File",D[D.Module=1]="Module",D[D.Namespace=2]="Namespace",D[D.Package=3]="Package",D[D.Class=4]="Class",D[D.Method=5]="Method",D[D.Property=6]="Property",D[D.Field=7]="Field",D[D.Constructor=8]="Constructor",D[D.Enum=9]="Enum",D[D.Interface=10]="Interface",D[D.Function=11]="Function",D[D.Variable=12]="Variable",D[D.Constant=13]="Constant",D[D.String=14]="String",D[D.Number=15]="Number",D[D.Boolean=16]="Boolean",D[D.Array=17]="Array",D[D.Object=18]="Object",D[D.Key=19]="Key",D[D.Null=20]="Null",D[D.EnumMember=21]="EnumMember",D[D.Struct=22]="Struct",D[D.Event=23]="Event",D[D.Operator=24]="Operator",D[D.TypeParameter=25]="TypeParameter"})(N=e.SymbolKind||(e.SymbolKind={}));var I;(function(D){D[D.Deprecated=1]="Deprecated"})(I=e.SymbolTag||(e.SymbolTag={}));var T;(function(D){D[D.Hidden=0]="Hidden",D[D.Blink=1]="Blink",D[D.Smooth=2]="Smooth",D[D.Phase=3]="Phase",D[D.Expand=4]="Expand",D[D.Solid=5]="Solid"})(T=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(D){D[D.Line=1]="Line",D[D.Block=2]="Block",D[D.Underline=3]="Underline",D[D.LineThin=4]="LineThin",D[D.BlockOutline=5]="BlockOutline",D[D.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var R;(function(D){D[D.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",D[D.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",D[D.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",D[D.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(R=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var F;(function(D){D[D.None=0]="None",D[D.Same=1]="Same",D[D.Indent=2]="Indent",D[D.DeepIndent=3]="DeepIndent"})(F=e.WrappingIndent||(e.WrappingIndent={}))}),define(Q[218],J([0,1,25,4,38,23,12,3,20,126,165]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class o{static chord(s,l){return M.KeyChord(s,l)}}e.KeyMod=o,o.CtrlCmd=2048,o.Shift=1024,o.Alt=512,o.WinCtrl=256;function c(){return{editor:void 0,languages:void 0,CancellationTokenSource:C.CancellationTokenSource,Emitter:k.Emitter,KeyCode:p.KeyCode,KeyMod:o,Position:S.Position,Range:_.Range,Selection:d.Selection,SelectionDirection:p.SelectionDirection,MarkerSeverity:p.MarkerSeverity,MarkerTag:p.MarkerTag,Uri:y.URI,Token:f.Token}}e.createMonacoBaseAPI=c}),define(Q[219],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class C{constructor(S,_,d){this.from=S|0,this.to=_|0,this.colorId=d|0}static compare(S,_){return S.colorId===_.colorId?S.from===_.from?S.to-_.to:S.from-_.from:S.colorId-_.colorId}}e.ColorZone=C;class k{constructor(S,_,d){this.startLineNumber=S,this.endLineNumber=_,this.color=d,this._colorZone=null}static compare(S,_){return S.color===_.color?S.startLineNumber===_.startLineNumber?S.endLineNumber-_.endLineNumber:S.startLineNumber-_.startLineNumber:S.color<_.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class M{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,_=Math.floor(this._lineHeight),d=Math.floor(this.getCanvasHeight()),f=Math.floor(this._outerHeight),p=d/f,o=Math.floor(4*this._pixelRatio/2);let c=[];for(let a=0,s=this._zones.length;a<s;a++){const l=this._zones[a];if(!S){const m=l.getColorZones();if(m){c.push(m);continue}}const r=Math.floor(p*this._getVerticalOffsetForLine(l.startLineNumber)),t=Math.floor(p*(this._getVerticalOffsetForLine(l.endLineNumber)+_));let n=Math.floor((r+t)/2),i=t-n;i<o&&(i=o),n-i<0&&(n=i),n+i>d&&(n=d-i);const u=l.color;let h=this._color2Id[u];h||(h=++this._lastAssignedId,this._color2Id[u]=h,this._id2Color[h]=u);const v=new C(n-i,n+i,h);l.setColorZone(v),c.push(v)}return this._colorZonesInvalid=!1,c.sort(C.compare),c}}e.OverviewZoneManager=M}),define(Q[109],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class C{constructor(f,p){this._viewLayout=f,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const o=this._viewLayout.getCurrentViewport();this.scrollTop=o.top,this.scrollLeft=o.left,this.viewportWidth=o.width,this.viewportHeight=o.height}getScrolledTopFromAbsoluteTop(f){return f-this.scrollTop}getVerticalOffsetForLineNumber(f){return this._viewLayout.getVerticalOffsetForLineNumber(f)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=C;class k extends C{constructor(f,p,o){super(f,p);this._viewLines=o}linesVisibleRangesForRange(f,p){return this._viewLines.linesVisibleRangesForRange(f,p)}visibleRangeForPosition(f){return this._viewLines.visibleRangeForPosition(f)}}e.RenderingContext=k;class M{constructor(f,p,o){this.outsideRenderedLine=f,this.lineNumber=p,this.ranges=o}}e.LineVisibleRanges=M;class y{constructor(f,p){this.left=Math.round(f),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=y;class S{constructor(f,p){this.outsideRenderedLine=f,this.left=Math.round(p)}}e.HorizontalPosition=S;class _{constructor(f,p){this.outsideRenderedLine=f,this.ranges=p}}e.VisibleRanges=_}),define(Q[374],J([0,1,109]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{constructor(S,_){this.left=S,this.width=_}toString(){return`[${this.left},${this.width}]`}static compare(S,_){return S.left-_.left}}class M{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,_){S.selectNodeContents(_)}static _readClientRects(S,_,d,f,p){const o=this._createRange();try{return o.setStart(S,_),o.setEnd(d,f),o.getClientRects()}catch(c){return null}finally{this._detachRange(o,p)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new C.HorizontalRange(S[0].left,S[0].width)];S.sort(k.compare);let _=[],d=0,f=S[0].left,p=S[0].width;for(let o=1,c=S.length;o<c;o++){const a=S[o],s=a.left,l=a.width;f+p+.9>=s?p=Math.max(p,s+l-f):(_[d++]=new C.HorizontalRange(f,p),f=s,p=l)}return _[d++]=new C.HorizontalRange(f,p),_}static _createHorizontalRangesFromClientRects(S,_){if(!S||S.length===0)return null;const d=[];for(let f=0,p=S.length;f<p;f++){const o=S[f];d[f]=new k(Math.max(0,o.left-_),o.width)}return this._mergeAdjacentRanges(d)}static readHorizontalRanges(S,_,d,f,p,o,c){const a=0,s=S.children.length-1;if(a>s)return null;if(_=Math.min(s,Math.max(a,_)),f=Math.min(s,Math.max(a,f)),_===f&&d===p&&d===0){const n=S.children[_].getClientRects();return this._createHorizontalRangesFromClientRects(n,o)}_!==f&&f>0&&p===0&&(f--,p=1073741824);let l=S.children[_].firstChild,r=S.children[f].firstChild;if((!l||!r)&&(!l&&d===0&&_>0&&(l=S.children[_-1].firstChild,d=1073741824),!r&&p===0&&f>0&&(r=S.children[f-1].firstChild,p=1073741824)),!l||!r)return null;d=Math.min(l.textContent.length,Math.max(0,d)),p=Math.min(r.textContent.length,Math.max(0,p));const t=this._readClientRects(l,d,r,p,c);return this._createHorizontalRangesFromClientRects(t,o)}}e.RangeUtil=M}),define(Q[375],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class C{constructor(y){this._theme=y}get type(){return this._theme.type}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=C;class k{constructor(y,S,_){this.configuration=y,this.theme=new C(S),this.model=_,this.viewLayout=_.viewLayout}addEventHandler(y){this.model.addViewEventHandler(y)}removeEventHandler(y){this.model.removeViewEventHandler(y)}}e.ViewContext=k}),define(Q[166],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class C{constructor(){this.type=0}}e.ViewCompositionStartEvent=C;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class M{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=M;class y{constructor(h,v){this.type=3,this.selections=h,this.modelSelections=v}}e.ViewCursorStateChangedEvent=y;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class _{constructor(){this.type=5}}e.ViewFlushedEvent=_;class d{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=d;class f{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=f;class p{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=p;class o{constructor(h,v){this.type=9,this.fromLineNumber=h,this.toLineNumber=v}}e.ViewLinesChangedEvent=o;class c{constructor(h,v){this.type=10,this.fromLineNumber=h,this.toLineNumber=v}}e.ViewLinesDeletedEvent=c;class a{constructor(h,v){this.type=11,this.fromLineNumber=h,this.toLineNumber=v}}e.ViewLinesInsertedEvent=a;class s{constructor(h,v,m,g,b,w){this.type=12,this.source=h,this.range=v,this.selections=m,this.verticalType=g,this.revealHorizontal=b,this.scrollType=w}}e.ViewRevealRangeRequestEvent=s;class l{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=l;class r{constructor(){this.type=14}}e.ViewThemeChangedEvent=r;class t{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=t;class n{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=n;class i{constructor(){this.type=17}}e.ViewZonesChangedEvent=i}),define(Q[167],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(d,f,p,o){this.startColumn=d,this.endColumn=f,this.className=p,this.type=o}static _equals(d,f){return d.startColumn===f.startColumn&&d.endColumn===f.endColumn&&d.className===f.className&&d.type===f.type}static equalsArr(d,f){const p=d.length,o=f.length;if(p!==o)return!1;for(let c=0;c<p;c++)if(!k._equals(d[c],f[c]))return!1;return!0}static extractWrapped(d,f,p){if(d.length===0)return d;const o=f+1,c=p+1,a=p-f,s=[];let l=0;for(const r of d)r.endColumn<=o||r.startColumn>=c||(s[l++]=new k(Math.max(1,r.startColumn-o+1),Math.min(a+1,r.endColumn-o+1),r.className,r.type));return s}static filter(d,f,p,o){if(d.length===0)return[];let c=[],a=0;for(let s=0,l=d.length;s<l;s++){const r=d[s],t=r.range;if(!(t.endLineNumber<f||t.startLineNumber>f)&&!(t.isEmpty()&&(r.type===0||r.type===3))){const n=t.startLineNumber===f?t.startColumn:p,i=t.endLineNumber===f?t.endColumn:o;c[a++]=new k(n,i,r.inlineClassName,r.type)}}return c}static _typeCompare(d,f){const p=[2,0,1,3];return p[d]-p[f]}static compare(d,f){if(d.startColumn===f.startColumn){if(d.endColumn===f.endColumn){const p=k._typeCompare(d.type,f.type);return p===0?d.className<f.className?-1:d.className>f.className?1:0:p}return d.endColumn-f.endColumn}return d.startColumn-f.startColumn}}e.LineDecoration=k;class M{constructor(d,f,p,o){this.startOffset=d,this.endOffset=f,this.className=p,this.metadata=o}}e.DecorationSegment=M;class y{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(d){let f=0;for(let p=0,o=d.length;p<o;p++)f|=d[p];return f}consumeLowerThan(d,f,p){for(;this.count>0&&this.stopOffsets[0]<d;){let o=0;for(;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;p.push(new M(f,this.stopOffsets[o],this.classNames.join(" "),y._metadata(this.metadata))),f=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.metadata.splice(0,o+1),this.count-=o+1}return this.count>0&&f<d&&(p.push(new M(f,d-1,this.classNames.join(" "),y._metadata(this.metadata))),f=d),f}insert(d,f,p){if(this.count===0||this.stopOffsets[this.count-1]<=d)this.stopOffsets.push(d),this.classNames.push(f),this.metadata.push(p);else for(let o=0;o<this.count;o++)if(this.stopOffsets[o]>=d){this.stopOffsets.splice(o,0,d),this.classNames.splice(o,0,f),this.metadata.splice(o,0,p);break}this.count++}}class S{static normalize(d,f){if(f.length===0)return[];let p=[];const o=new y;let c=0;for(let a=0,s=f.length;a<s;a++){const l=f[a];let r=l.startColumn,t=l.endColumn;const n=l.className,i=l.type===1?2:l.type===2?4:0;if(r>1){const v=d.charCodeAt(r-2);C.isHighSurrogate(v)&&r--}if(t>1){const v=d.charCodeAt(t-2);C.isHighSurrogate(v)&&t--}const u=r-1,h=t-2;c=o.consumeLowerThan(u,c,p),o.count===0&&(c=u),o.insert(h,n,i)}return o.consumeLowerThan(1073741824,c,p),p}}e.LineDecorationsNormalizer=S}),define(Q[376],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(_){this._hasPending=!0,this._inserts.push(_)}change(_){this._hasPending=!0,this._changes.push(_)}remove(_){this._hasPending=!0,this._removes.push(_)}mustCommit(){return this._hasPending}commit(_){if(!!this._hasPending){const d=this._inserts,f=this._changes,p=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],_._commitPendingChanges(d,f,p)}}}class M{constructor(_,d,f,p,o){this.id=_,this.afterLineNumber=d,this.ordinal=f,this.height=p,this.minWidth=o,this.prefixSum=0}}e.EditorWhitespace=M;class y{constructor(_,d,f,p){this._instanceId=C.singleLetterHash(++y.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=_,this._lineHeight=d,this._paddingTop=f,this._paddingBottom=p}static findInsertionIndex(_,d,f){let p=0,o=_.length;for(;p<o;){const c=p+o>>>1;d===_[c].afterLineNumber?f<_[c].ordinal?o=c:p=c+1:d<_[c].afterLineNumber?o=c:p=c+1}return p}setLineHeight(_){this._checkPendingChanges(),this._lineHeight=_}setPadding(_,d){this._paddingTop=_,this._paddingBottom=d}onFlushed(_){this._checkPendingChanges(),this._lineCount=_}changeWhitespace(_){let d=!1;try{_({insertWhitespace:(p,o,c,a)=>{d=!0,p=p|0,o=o|0,c=c|0,a=a|0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new M(s,p,o,c,a)),s},changeOneWhitespace:(p,o,c)=>{d=!0,o=o|0,c=c|0,this._pendingChanges.change({id:p,newAfterLineNumber:o,newHeight:c})},removeWhitespace:p=>{d=!0,this._pendingChanges.remove({id:p})}})}finally{this._pendingChanges.commit(this)}return d}_commitPendingChanges(_,d,f){if((_.length>0||f.length>0)&&(this._minWidth=-1),_.length+d.length+f.length<=1){for(const s of _)this._insertWhitespace(s);for(const s of d)this._changeOneWhitespace(s.id,s.newAfterLineNumber,s.newHeight);for(const s of f){const l=this._findWhitespaceIndex(s.id);l!==-1&&this._removeWhitespace(l)}return}const p=new Set;for(const s of f)p.add(s.id);const o=new Map;for(const s of d)o.set(s.id,s);const c=s=>{let l=[];for(const r of s)if(!p.has(r.id)){if(o.has(r.id)){const t=o.get(r.id);r.afterLineNumber=t.newAfterLineNumber,r.height=t.newHeight}l.push(r)}return l},a=c(this._arr).concat(c(_));a.sort((s,l)=>s.afterLineNumber===l.afterLineNumber?s.ordinal-l.ordinal:s.afterLineNumber-l.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(_){const d=y.findInsertionIndex(this._arr,_.afterLineNumber,_.ordinal);this._arr.splice(d,0,_),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,d-1)}_findWhitespaceIndex(_){const d=this._arr;for(let f=0,p=d.length;f<p;f++)if(d[f].id===_)return f;return-1}_changeOneWhitespace(_,d,f){const p=this._findWhitespaceIndex(_);if(p!==-1&&(this._arr[p].height!==f&&(this._arr[p].height=f,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)),this._arr[p].afterLineNumber!==d)){const o=this._arr[p];this._removeWhitespace(p),o.afterLineNumber=d,this._insertWhitespace(o)}}_removeWhitespace(_){this._arr.splice(_,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}onLinesDeleted(_,d){this._checkPendingChanges(),_=_|0,d=d|0,this._lineCount-=d-_+1;for(let f=0,p=this._arr.length;f<p;f++){const o=this._arr[f].afterLineNumber;_<=o&&o<=d?this._arr[f].afterLineNumber=_-1:o>d&&(this._arr[f].afterLineNumber-=d-_+1)}}onLinesInserted(_,d){this._checkPendingChanges(),_=_|0,d=d|0,this._lineCount+=d-_+1;for(let f=0,p=this._arr.length;f<p;f++){const o=this._arr[f].afterLineNumber;_<=o&&(this._arr[f].afterLineNumber+=d-_+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(_){this._checkPendingChanges(),_=_|0;let d=Math.max(0,this._prefixSumValidIndex+1);d===0&&(this._arr[0].prefixSum=this._arr[0].height,d++);for(let f=d;f<=_;f++)this._arr[f].prefixSum=this._arr[f-1].prefixSum+this._arr[f].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,_),this._arr[_].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const _=this._lineHeight*this._lineCount,d=this.getWhitespacesTotalHeight();return _+d+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(_){this._checkPendingChanges(),_=_|0;const d=this._findLastWhitespaceBeforeLineNumber(_);return d===-1?0:this.getWhitespacesAccumulatedHeight(d)}_findLastWhitespaceBeforeLineNumber(_){_=_|0;const d=this._arr;let f=0,p=d.length-1;for(;f<=p;){const c=(p-f|0)/2|0,a=f+c|0;if(d[a].afterLineNumber<_){if(a+1>=d.length||d[a+1].afterLineNumber>=_)return a;f=a+1|0}else p=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(_){_=_|0;const f=this._findLastWhitespaceBeforeLineNumber(_)+1;return f<this._arr.length?f:-1}getFirstWhitespaceIndexAfterLineNumber(_){return this._checkPendingChanges(),_=_|0,this._findFirstWhitespaceAfterLineNumber(_)}getVerticalOffsetForLineNumber(_){this._checkPendingChanges(),_=_|0;let d;_>1?d=this._lineHeight*(_-1):d=0;const f=this.getWhitespaceAccumulatedHeightBeforeLineNumber(_);return d+f+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let _=0;for(let d=0,f=this._arr.length;d<f;d++)_=Math.max(_,this._arr[d].minWidth);this._minWidth=_}return this._minWidth}isAfterLines(_){this._checkPendingChanges();const d=this.getLinesTotalHeight();return _>d}isInTopPadding(_){return this._paddingTop===0?!1:(this._checkPendingChanges(),_<this._paddingTop)}isInBottomPadding(_){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const d=this.getLinesTotalHeight();return _>=d-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(_){if(this._checkPendingChanges(),_=_|0,_<0)return 1;const d=this._lineCount|0,f=this._lineHeight;let p=1,o=d;for(;p<o;){const c=(p+o)/2|0,a=this.getVerticalOffsetForLineNumber(c)|0;if(_>=a+f)p=c+1;else{if(_>=a)return c;o=c}}return p>d?d:p}getLinesViewportData(_,d){this._checkPendingChanges(),_=_|0,d=d|0;const f=this._lineHeight,p=this.getLineNumberAtOrAfterVerticalOffset(_)|0,o=this.getVerticalOffsetForLineNumber(p)|0;let c=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(p)|0;const s=this.getWhitespacesCount()|0;let l,r;a===-1?(a=s,r=c+1,l=0):(r=this.getAfterLineNumberForWhitespaceIndex(a)|0,l=this.getHeightForWhitespaceIndex(a)|0);let t=o,n=t;const i=5e5;let u=0;o>=i&&(u=Math.floor(o/i)*i,u=Math.floor(u/f)*f,n-=u);const h=[],v=_+(d-_)/2;let m=-1;for(let L=p;L<=c;L++){if(m===-1){const E=t,N=t+f;(E<=v&&v<N||E>v)&&(m=L)}for(t+=f,h[L-p]=n,n+=f;r===L;)n+=l,t+=l,a++,a>=s?r=c+1:(r=this.getAfterLineNumberForWhitespaceIndex(a)|0,l=this.getHeightForWhitespaceIndex(a)|0);if(t>=d){c=L;break}}m===-1&&(m=c);const g=this.getVerticalOffsetForLineNumber(c)|0;let b=p,w=c;return b<w&&o<_&&b++,b<w&&g+f>d&&w--,{bigNumbersDelta:u,startLineNumber:p,endLineNumber:c,relativeVerticalOffset:h,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:w}}getVerticalOffsetForWhitespaceIndex(_){this._checkPendingChanges(),_=_|0;const d=this.getAfterLineNumberForWhitespaceIndex(_);let f;d>=1?f=this._lineHeight*d:f=0;let p;return _>0?p=this.getWhitespacesAccumulatedHeight(_-1):p=0,f+p+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(_){this._checkPendingChanges(),_=_|0;let d=0,f=this.getWhitespacesCount()-1;if(f<0)return-1;const p=this.getVerticalOffsetForWhitespaceIndex(f),o=this.getHeightForWhitespaceIndex(f);if(_>=p+o)return-1;for(;d<f;){const c=Math.floor((d+f)/2),a=this.getVerticalOffsetForWhitespaceIndex(c),s=this.getHeightForWhitespaceIndex(c);if(_>=a+s)d=c+1;else{if(_>=a)return c;f=c}}return d}getWhitespaceAtVerticalOffset(_){this._checkPendingChanges(),_=_|0;const d=this.getWhitespaceIndexAtOrAfterVerticallOffset(_);if(d<0||d>=this.getWhitespacesCount())return null;const f=this.getVerticalOffsetForWhitespaceIndex(d);if(f>_)return null;const p=this.getHeightForWhitespaceIndex(d),o=this.getIdForWhitespaceIndex(d),c=this.getAfterLineNumberForWhitespaceIndex(d);return{id:o,afterLineNumber:c,verticalOffset:f,height:p}}getWhitespaceViewportData(_,d){this._checkPendingChanges(),_=_|0,d=d|0;const f=this.getWhitespaceIndexAtOrAfterVerticallOffset(_),p=this.getWhitespacesCount()-1;if(f<0)return[];let o=[];for(let c=f;c<=p;c++){const a=this.getVerticalOffsetForWhitespaceIndex(c),s=this.getHeightForWhitespaceIndex(c);if(a>=d)break;o.push({id:this.getIdForWhitespaceIndex(c),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(c),verticalOffset:a,height:s})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].id}getAfterLineNumberForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].afterLineNumber}getHeightForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].height}}e.LinesLayout=y,y.INSTANCE_COUNT=0}),define(Q[128],J([0,1,8,92,167]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.RenderLineInput=e.LineRange=void 0;class y{constructor(h,v,m){this.endIndex=h,this.type=v,this.metadata=m}isWhitespace(){return!!(this.metadata&1)}}class S{constructor(h,v){this.startOffset=h,this.endOffset=v}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=S;class _{constructor(h,v,m,g,b,w,L,E,N,I,T,O,R,F,D,B,A,W,V){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=v,this.lineContent=m,this.continuesWithWrappedLine=g,this.isBasicASCII=b,this.containsRTL=w,this.fauxIndentLength=L,this.lineTokens=E,this.lineDecorations=N.sort(M.LineDecoration.compare),this.tabSize=I,this.startVisibleColumn=T,this.spaceWidth=O,this.stopRenderingLineAfter=D,this.renderWhitespace=B==="all"?4:B==="boundary"?1:B==="selection"?2:B==="trailing"?3:0,this.renderControlCharacters=A,this.fontLigatures=W,this.selectionsOnLine=V&&V.sort((ee,re)=>ee.startOffset<re.startOffset?-1:1);const K=Math.abs(F-O),j=Math.abs(R-O);K<j?(this.renderSpaceWidth=F,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=R,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let v=0;v<this.selectionsOnLine.length;v++)if(!this.selectionsOnLine[v].equals(h[v]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&M.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=_;class d{constructor(h,v){this.length=h,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setPartData(h,v,m,g){let b=(v<<16|m<<0)>>>0;this._data[h]=b,this._absoluteOffsets[h]=g+m}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}partDataToCharOffset(h,v,m){if(this.length===0)return 0;let g=(h<<16|m<<0)>>>0,b=0,w=this.length-1;for(;b+1<w;){let D=b+w>>>1,B=this._data[D];if(B===g)return D;B>g?w=D:b=D}if(b===w)return b;let L=this._data[b],E=this._data[w];if(L===g)return b;if(E===g)return w;let N=d.getPartIndex(L),I=d.getCharIndex(L),T=d.getPartIndex(E),O;N!==T?O=v:O=d.getCharIndex(E);let R=m-I,F=O-m;return R<=F?b:w}}e.CharacterMapping=d;class f{constructor(h,v,m){this.characterMapping=h,this.containsRTL=v,this.containsForeignElements=m}}e.RenderLineOutput=f;function p(u,h){if(u.lineContent.length===0){let v=0,m="<span><span></span></span>";if(u.lineDecorations.length>0){const g=[],b=[];for(let w=0,L=u.lineDecorations.length;w<L;w++){const E=u.lineDecorations[w];E.type===1&&(g.push(u.lineDecorations[w].className),v|=1),E.type===2&&(b.push(u.lineDecorations[w].className),v|=2)}if(v!==0){const w=g.length>0?`<span class="${g.join(" ")}"></span>`:"",L=b.length>0?`<span class="${b.join(" ")}"></span>`:"";m=`<span>${w}${L}</span>`}}return h.appendASCIIString(m),new f(new d(0,0),!1,v)}return i(s(u),h)}e.renderViewLine=p;class o{constructor(h,v,m,g){this.characterMapping=h,this.html=v,this.containsRTL=m,this.containsForeignElements=g}}e.RenderLineOutput2=o;function c(u){let h=k.createStringBuilder(1e4),v=p(u,h);return new o(v.characterMapping,h.build(),v.containsRTL,v.containsForeignElements)}e.renderViewLine2=c;class a{constructor(h,v,m,g,b,w,L,E,N,I,T,O,R,F,D){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=v,this.lineContent=m,this.len=g,this.isOverflowing=b,this.parts=w,this.containsForeignElements=L,this.fauxIndentLength=E,this.tabSize=N,this.startVisibleColumn=I,this.containsRTL=T,this.spaceWidth=O,this.renderSpaceCharCode=R,this.renderWhitespace=F,this.renderControlCharacters=D}}function s(u){const h=u.lineContent;let v,m;u.stopRenderingLineAfter!==-1&&u.stopRenderingLineAfter<h.length?(v=!0,m=u.stopRenderingLineAfter):(v=!1,m=h.length);let g=l(u.lineTokens,u.fauxIndentLength,m);(u.renderWhitespace===4||u.renderWhitespace===1||u.renderWhitespace===2&&!!u.selectionsOnLine||u.renderWhitespace===3)&&(g=t(u,h,m,g));let b=0;if(u.lineDecorations.length>0){for(let w=0,L=u.lineDecorations.length;w<L;w++){const E=u.lineDecorations[w];E.type===3||E.type===1?b|=1:E.type===2&&(b|=2)}g=n(h,m,g,u.lineDecorations)}return u.containsRTL||(g=r(h,g,!u.isBasicASCII||u.fontLigatures)),new a(u.useMonospaceOptimizations,u.canUseHalfwidthRightwardsArrow,h,m,v,g,b,u.fauxIndentLength,u.tabSize,u.startVisibleColumn,u.containsRTL,u.spaceWidth,u.renderSpaceCharCode,u.renderWhitespace,u.renderControlCharacters)}function l(u,h,v){let m=[],g=0;h>0&&(m[g++]=new y(h,"",0));for(let b=0,w=u.getCount();b<w;b++){const L=u.getEndOffset(b);if(!(L<=h)){const E=u.getClassName(b);if(L>=v){m[g++]=new y(v,E,0);break}m[g++]=new y(L,E,0)}}return m}function r(u,h,v){let m=0,g=[],b=0;if(v)for(let w=0,L=h.length;w<L;w++){const E=h[w],N=E.endIndex;if(m+50<N){const I=E.type,T=E.metadata;let O=-1,R=m;for(let F=m;F<N;F++)u.charCodeAt(F)===32&&(O=F),O!==-1&&F-R>=50&&(g[b++]=new y(O+1,I,T),R=O+1,O=-1);R!==N&&(g[b++]=new y(N,I,T))}else g[b++]=E;m=N}else for(let w=0,L=h.length;w<L;w++){const E=h[w],N=E.endIndex;let I=N-m;if(I>50){const T=E.type,O=E.metadata,R=Math.ceil(I/50);for(let F=1;F<R;F++){let D=m+F*50;g[b++]=new y(D,T,O)}g[b++]=new y(N,T,O)}else g[b++]=E;m=N}return g}function t(u,h,v,m){const g=u.continuesWithWrappedLine,b=u.fauxIndentLength,w=u.tabSize,L=u.startVisibleColumn,E=u.useMonospaceOptimizations,N=u.selectionsOnLine,I=u.renderWhitespace===1,T=u.renderWhitespace===3,O=u.renderSpaceWidth!==u.spaceWidth;let R=[],F=0,D=0,B=m[D].type,A=m[D].endIndex;const W=m.length;let V=!1,K=C.firstNonWhitespaceIndex(h),j;K===-1?(V=!0,K=v,j=v):j=C.lastNonWhitespaceIndex(h);let ee=!1,re=0,te=N&&N[re],ae=L%w;for(let P=b;P<v;P++){const x=h.charCodeAt(P);te&&P>=te.endOffset&&(re++,te=N&&N[re]);let z;if(P<K||P>j)z=!0;else if(x===9)z=!0;else if(x===32)if(I)if(ee)z=!0;else{const U=P+1<v?h.charCodeAt(P+1):0;z=U===32||U===9}else z=!0;else z=!1;if(z&&N&&(z=!!te&&te.startOffset<=P&&te.endOffset>P),z&&T&&(z=V||P>j),ee){if(!z||!E&&ae>=w){if(O){const U=F>0?R[F-1].endIndex:b;for(let H=U+1;H<=P;H++)R[F++]=new y(H,"mtkw",1)}else R[F++]=new y(P,"mtkw",1);ae=ae%w}}else(P===A||z&&P>b)&&(R[F++]=new y(P,B,0),ae=ae%w);for(x===9?ae=w:C.isFullWidthCharacter(x)?ae+=2:ae++,ee=z;P===A;)D++,D<W&&(B=m[D].type,A=m[D].endIndex)}let Y=!1;if(ee)if(g&&I){let P=v>0?h.charCodeAt(v-1):0,x=v>1?h.charCodeAt(v-2):0;P===32&&x!==32&&x!==9||(Y=!0)}else Y=!0;if(Y)if(O){const P=F>0?R[F-1].endIndex:b;for(let x=P+1;x<=v;x++)R[F++]=new y(x,"mtkw",1)}else R[F++]=new y(v,"mtkw",1);else R[F++]=new y(v,B,0);return R}function n(u,h,v,m){m.sort(M.LineDecoration.compare);const g=M.LineDecorationsNormalizer.normalize(u,m),b=g.length;let w=0,L=[],E=0,N=0;for(let T=0,O=v.length;T<O;T++){const R=v[T],F=R.endIndex,D=R.type,B=R.metadata;for(;w<b&&g[w].startOffset<F;){const A=g[w];if(A.startOffset>N&&(N=A.startOffset,L[E++]=new y(N,D,B)),A.endOffset+1<=F)N=A.endOffset+1,L[E++]=new y(N,D+" "+A.className,B|A.metadata),w++;else{N=F,L[E++]=new y(N,D+" "+A.className,B|A.metadata);break}}F>N&&(N=F,L[E++]=new y(N,D,B))}const I=v[v.length-1].endIndex;if(w<b&&g[w].startOffset===I){let T=[],O=0;for(;w<b&&g[w].startOffset===I;)T.push(g[w].className),O|=g[w].metadata,w++;L[E++]=new y(N,T.join(" "),O)}return L}function i(u,h){const v=u.fontIsMonospace,m=u.canUseHalfwidthRightwardsArrow,g=u.containsForeignElements,b=u.lineContent,w=u.len,L=u.isOverflowing,E=u.parts,N=u.fauxIndentLength,I=u.tabSize,T=u.startVisibleColumn,O=u.containsRTL,R=u.spaceWidth,F=u.renderSpaceCharCode,D=u.renderWhitespace,B=u.renderControlCharacters,A=new d(w+1,E.length);let W=0,V=T,K=0,j=0,ee=0,re=0;O?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let te=0,ae=E.length;te<ae;te++){re+=ee;const Y=E[te],P=Y.endIndex,x=Y.type,z=D!==0&&Y.isWhitespace(),U=z&&!v&&(x==="mtkw"||!g),H=W===P&&Y.metadata===4;if(K=0,h.appendASCIIString('<span class="'),h.appendASCIIString(U?"mtkz":x),h.appendASCII(34),z){let q=0;{let ie=W,ce=V;for(;ie<P;ie++){const Z=(b.charCodeAt(ie)===9?I-ce%I:1)|0;q+=Z,ie>=N&&(ce+=Z)}}for(U&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(R*q)),h.appendASCIIString('px"')),h.appendASCII(62);W<P;W++){A.setPartData(W,te-j,K,re),j=0;const ie=b.charCodeAt(W);let ce;if(ie===9){ce=I-V%I|0,!m||ce>1?h.write1(8594):h.write1(65515);for(let ue=2;ue<=ce;ue++)h.write1(160)}else ce=1,h.write1(F);K+=ce,W>=N&&(V+=ce)}ee=q}else{let q=0;for(h.appendASCII(62);W<P;W++){A.setPartData(W,te-j,K,re),j=0;const ie=b.charCodeAt(W);let ce=1,ue=1;switch(ie){case 9:ce=I-V%I,ue=ce;for(let Z=1;Z<=ce;Z++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:C.isFullWidthCharacter(ie)&&ue++,B&&ie<32?h.write1(9216+ie):h.write1(ie)}K+=ce,q+=ce,W>=N&&(V+=ue)}ee=q}H?j++:j=0,h.appendASCIIString("</span>")}return A.setPartData(w,E.length-1,K,re),L&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new f(A,O,g)}}),define(Q[377],J([0,1,3]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(y,S,_,d){this.selections=y,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=_,this._model=d,this.visibleRange=new C.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(y){return this._model.getViewLineRenderingData(this.visibleRange,y)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(Q[220],J([0,1,121]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class k{constructor(S,_){this.index=S,this.remainder=_}}e.PrefixSumIndexOfResult=k;class M{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,_){S=C.toUint32(S);const d=this.values,f=this.prefixSum,p=_.length;return p===0?!1:(this.values=new Uint32Array(d.length+p),this.values.set(d.subarray(0,S),0),this.values.set(d.subarray(S),S+p),this.values.set(_,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(f.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,_){return S=C.toUint32(S),_=C.toUint32(_),this.values[S]===_?!1:(this.values[S]=_,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,_){S=C.toUint32(S),_=C.toUint32(_);const d=this.values,f=this.prefixSum;if(S>=d.length)return!1;let p=d.length-S;return _>=p&&(_=p),_===0?!1:(this.values=new Uint32Array(d.length-_),this.values.set(d.subarray(0,S),0),this.values.set(d.subarray(S+_),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(f.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(S){return S<0?0:(S=C.toUint32(S),this._getAccumulatedValue(S))}_getAccumulatedValue(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let _=this.prefixSumValidIndex[0]+1;_===0&&(this.prefixSum[0]=this.values[0],_++),S>=this.values.length&&(S=this.values.length-1);for(let d=_;d<=S;d++)this.prefixSum[d]=this.prefixSum[d-1]+this.values[d];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalValue();let _=0,d=this.values.length-1,f=0,p=0,o=0;for(;_<=d;)if(f=_+(d-_)/2|0,p=this.prefixSum[f],o=p-this.values[f],S<o)d=f-1;else if(S>=p)_=f+1;else break;return new k(f,S-o)}}e.PrefixSumComputer=M}),define(Q[378],J([0,1,8,12,220]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class y{constructor(_,d,f,p){this._uri=_,this._lines=d,this._eol=f,this._versionId=p,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(_){_.eol&&_.eol!==this._eol&&(this._eol=_.eol,this._lineStarts=null);const d=_.changes;for(const f of d)this._acceptDeleteRange(f.range),this._acceptInsertText(new k.Position(f.range.startLineNumber,f.range.startColumn),f.text);this._versionId=_.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const _=this._eol.length,d=this._lines.length,f=new Uint32Array(d);for(let p=0;p<d;p++)f[p]=this._lines[p].length+_;this._lineStarts=new M.PrefixSumComputer(f)}}_setLineText(_,d){this._lines[_]=d,this._lineStarts&&this._lineStarts.changeValue(_,this._lines[_].length+this._eol.length)}_acceptDeleteRange(_){if(_.startLineNumber===_.endLineNumber){if(_.startColumn===_.endColumn)return;this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.startLineNumber-1].substring(_.endColumn-1));return}this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.endLineNumber-1].substring(_.endColumn-1)),this._lines.splice(_.startLineNumber,_.endLineNumber-_.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,d){if(d.length!==0){let f=C.splitLines(d);if(f.length===1){this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+f[0]+this._lines[_.lineNumber-1].substring(_.column-1));return}f[f.length-1]+=this._lines[_.lineNumber-1].substring(_.column-1),this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+f[0]);let p=new Uint32Array(f.length-1);for(let o=1;o<f.length;o++)this._lines.splice(_.lineNumber+o-1,0,f[o]),p[o-1]=f[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(_.lineNumber,p)}}}e.MirrorTextModel=y});var De=this&&this.__awaiter||function(G,e,C,k){function M(y){return y instanceof C?y:new C(function(S){S(y)})}return new(C||(C=Promise))(function(y,S){function _(p){try{f(k.next(p))}catch(o){S(o)}}function d(p){try{f(k.throw(p))}catch(o){S(o)}}function f(p){p.done?y(p.value):M(p.value).then(_,d)}f((k=k.apply(G,e||[])).next())})};define(Q[379],J([0,1,19,195,17,23,12,3,359,378,127,366,369,218,21,80]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class r extends f.MirrorTextModel{get uri(){return this._uri}get version(){return this._versionId}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(u){return this._lines[u-1]}getWordAtPosition(u,h){let v=p.getWordAtText(u.column,p.ensureValidWordDefinition(h),this._lines[u.lineNumber-1],0);return v?new _.Range(u.lineNumber,v.startColumn,u.lineNumber,v.endColumn):null}words(u){const h=this._lines,v=this._wordenize.bind(this);let m=0,g="",b=0,w=[];return{*[Symbol.iterator](){for(;;)if(b<w.length){const L=g.substring(w[b].start,w[b].end);b+=1,yield L}else if(m<h.length)g=h[m],w=v(g,u),b=0,m+=1;else break}}}getLineWords(u,h){let v=this._lines[u-1],m=this._wordenize(v,h),g=[];for(const b of m)g.push({word:v.substring(b.start,b.end),startColumn:b.start+1,endColumn:b.end+1});return g}_wordenize(u,h){const v=[];let m;for(h.lastIndex=0;(m=h.exec(u))&&m[0].length!==0;)v.push({start:m.index,end:m.index+m[0].length});return v}getValueInRange(u){if(u=this._validateRange(u),u.startLineNumber===u.endLineNumber)return this._lines[u.startLineNumber-1].substring(u.startColumn-1,u.endColumn-1);let h=this._eol,v=u.startLineNumber-1,m=u.endLineNumber-1,g=[];g.push(this._lines[v].substring(u.startColumn-1));for(let b=v+1;b<m;b++)g.push(this._lines[b]);return g.push(this._lines[m].substring(0,u.endColumn-1)),g.join(h)}offsetAt(u){return u=this._validatePosition(u),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(u.lineNumber-2)+(u.column-1)}positionAt(u){u=Math.floor(u),u=Math.max(0,u),this._ensureLineStarts();let h=this._lineStarts.getIndexOf(u),v=this._lines[h.index].length;return{lineNumber:1+h.index,column:1+Math.min(h.remainder,v)}}_validateRange(u){const h=this._validatePosition({lineNumber:u.startLineNumber,column:u.startColumn}),v=this._validatePosition({lineNumber:u.endLineNumber,column:u.endColumn});return h.lineNumber!==u.startLineNumber||h.column!==u.startColumn||v.lineNumber!==u.endLineNumber||v.column!==u.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:v.lineNumber,endColumn:v.column}:u}_validatePosition(u){if(!S.Position.isIPosition(u))throw new Error("bad position");let{lineNumber:h,column:v}=u,m=!1;if(h<1)h=1,v=1,m=!0;else if(h>this._lines.length)h=this._lines.length,v=this._lines[h-1].length+1,m=!0;else{let g=this._lines[h-1].length+1;v<1?(v=1,m=!0):v>g&&(v=g,m=!0)}return m?{lineNumber:h,column:v}:u}}class t{constructor(u,h){this._host=u,this._models=Object.create(null),this._foreignModuleFactory=h,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(u){return this._models[u]}_getModels(){let u=[];return Object.keys(this._models).forEach(h=>u.push(this._models[h])),u}acceptNewModel(u){this._models[u.url]=new r(y.URI.parse(u.url),u.lines,u.EOL,u.versionId)}acceptModelChanged(u,h){!this._models[u]||this._models[u].onEvents(h)}acceptRemovedModel(u){!this._models[u]||delete this._models[u]}computeDiff(u,h,v,m){return De(this,void 0,void 0,function*(){const g=this._getModel(u),b=this._getModel(h);if(!g||!b)return null;const w=g.getLinesContent(),L=b.getLinesContent(),N=new d.DiffComputer(w,L,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:v,shouldMakePrettyDiff:!0,maxComputationTime:m}).computeDiff(),I=N.changes.length>0?!1:this._modelsAreIdentical(g,b);return{quitEarly:N.quitEarly,identical:I,changes:N.changes}})}_modelsAreIdentical(u,h){const v=u.getLineCount(),m=h.getLineCount();if(v!==m)return!1;for(let g=1;g<=v;g++){const b=u.getLineContent(g),w=h.getLineContent(g);if(b!==w)return!1}return!0}computeMoreMinimalEdits(u,h){return De(this,void 0,void 0,function*(){const v=this._getModel(u);if(!v)return h;const m=[];let g;h=C.mergeSort(h,(b,w)=>{if(b.range&&w.range)return _.Range.compareRangesUsingStarts(b.range,w.range);let L=b.range?0:1,E=w.range?0:1;return L-E});for(let{range:b,text:w,eol:L}of h)if(typeof L=="number"&&(g=L),!(_.Range.isEmpty(b)&&!w)){const E=v.getValueInRange(b);if(w=w.replace(/\r\n|\n|\r/g,v.eol),E!==w){if(Math.max(w.length,E.length)>t._diffLimit){m.push({range:b,text:w});continue}const N=k.stringDiff(E,w,!1),I=v.offsetAt(_.Range.lift(b).getStartPosition());for(const T of N){const O=v.positionAt(I+T.originalStart),R=v.positionAt(I+T.originalStart+T.originalLength),F={text:w.substr(T.modifiedStart,T.modifiedLength),range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:R.lineNumber,endColumn:R.column}};v.getValueInRange(F.range)!==F.text&&m.push(F)}}}return typeof g=="number"&&m.push({eol:g,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),m})}computeLinks(u){return De(this,void 0,void 0,function*(){let h=this._getModel(u);return h?o.computeLinks(h):null})}textualSuggest(u,h,v,m){return De(this,void 0,void 0,function*(){const g=new l.StopWatch(!0),b=new RegExp(v,m),w=new Set;e:for(let L of u){const E=this._getModel(L);if(!!E){for(let N of E.words(b))if(!(N===h||!isNaN(Number(N)))&&(w.add(N),w.size>t._suggestionsLimit))break e}}return{words:Array.from(w),duration:g.elapsed()}})}computeWordRanges(u,h,v,m){return De(this,void 0,void 0,function*(){let g=this._getModel(u);if(!g)return Object.create(null);const b=new RegExp(v,m),w=Object.create(null);for(let L=h.startLineNumber;L<h.endLineNumber;L++){let E=g.getLineWords(L,b);for(const N of E)if(!!isNaN(Number(N.word))){let I=w[N.word];I||(I=[],w[N.word]=I),I.push({startLineNumber:L,startColumn:N.startColumn,endLineNumber:L,endColumn:N.endColumn})}}return w})}navigateValueSet(u,h,v,m,g){return De(this,void 0,void 0,function*(){let b=this._getModel(u);if(!b)return null;let w=new RegExp(m,g);h.startColumn===h.endColumn&&(h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn+1});let L=b.getValueInRange(h),E=b.getWordAtPosition({lineNumber:h.startLineNumber,column:h.startColumn},w);if(!E)return null;let N=b.getValueInRange(E);return c.BasicInplaceReplace.INSTANCE.navigateValueSet(h,L,E,N,v)})}loadForeignModule(u,h,v){const m=(w,L)=>this._host.fhr(w,L);let b={host:s.createProxyObject(v,m),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(b,h),Promise.resolve(s.getAllMethodNames(this._foreignModule))):new Promise((w,L)=>{G([u],E=>{this._foreignModule=E.create(b,h),w(s.getAllMethodNames(this._foreignModule))},L)})}fmr(u,h){if(!this._foreignModule||typeof this._foreignModule[u]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,h))}catch(v){return Promise.reject(v)}}}e.EditorSimpleWorker=t,t._diffLimit=1e5,t._suggestionsLimit=1e4;function n(i){return new t(i,null)}e.create=n,typeof importScripts=="function"&&(M.globals.monaco=a.createMonacoBaseAPI())}),define(Q[110],J([0,1,2]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends C.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(y){return!1}onCompositionEnd(y){return!1}onConfigurationChanged(y){return!1}onCursorStateChanged(y){return!1}onDecorationsChanged(y){return!1}onFlushed(y){return!1}onFocusChanged(y){return!1}onLanguageConfigurationChanged(y){return!1}onLineMappingChanged(y){return!1}onLinesChanged(y){return!1}onLinesDeleted(y){return!1}onLinesInserted(y){return!1}onRevealRangeRequest(y){return!1}onScrollChanged(y){return!1}onThemeChanged(y){return!1}onTokensChanged(y){return!1}onTokensColorsChanged(y){return!1}onZonesChanged(y){return!1}handleEvents(y){let S=!1;for(let _=0,d=y.length;_<d;_++){let f=y[_];switch(f.type){case 0:this.onCompositionStart(f)&&(S=!0);break;case 1:this.onCompositionEnd(f)&&(S=!0);break;case 2:this.onConfigurationChanged(f)&&(S=!0);break;case 3:this.onCursorStateChanged(f)&&(S=!0);break;case 4:this.onDecorationsChanged(f)&&(S=!0);break;case 5:this.onFlushed(f)&&(S=!0);break;case 6:this.onFocusChanged(f)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(f)&&(S=!0);break;case 8:this.onLineMappingChanged(f)&&(S=!0);break;case 9:this.onLinesChanged(f)&&(S=!0);break;case 10:this.onLinesDeleted(f)&&(S=!0);break;case 11:this.onLinesInserted(f)&&(S=!0);break;case 12:this.onRevealRangeRequest(f)&&(S=!0);break;case 13:this.onScrollChanged(f)&&(S=!0);break;case 15:this.onTokensChanged(f)&&(S=!0);break;case 14:this.onThemeChanged(f)&&(S=!0);break;case 16:this.onTokensColorsChanged(f)&&(S=!0);break;case 17:this.onZonesChanged(f)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(f)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(Q[93],J([0,1,110]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends C.ViewEventHandler{}e.DynamicViewOverlay=k}),define(Q[44],J([0,1,30,110]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class M extends k.ViewEventHandler{constructor(_){super();this._context=_,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=M;class y{static write(_,d){_ instanceof C.FastDomNode,_.setAttribute("data-mprt",String(d))}static read(_){const d=_.getAttribute("data-mprt");return d===null?0:parseInt(d,10)}static collect(_,d){let f=[],p=0;for(;_&&_!==document.body&&_!==d;)_.nodeType===_.ELEMENT_NODE&&(f[p++]=this.read(_)),_=_.parentElement;const o=new Uint8Array(p);for(let c=0;c<p;c++)o[c]=f[p-c-1];return o}}e.PartFingerprints=y}),define(Q[380],J([0,1,7,30,44]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class y{constructor(p,o){this.top=p,this.left=o}}class S extends M.ViewPart{constructor(p,o){super(p);this._viewDomNode=o,this._widgets={},this.domNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=k.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(p){const o=Object.keys(this._widgets);for(const c of o)this._widgets[c].onConfigurationChanged(p);return!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLineMappingChanged(p){const o=Object.keys(this._widgets);for(const c of o)this._widgets[c].onLineMappingChanged(p);return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return!0}onZonesChanged(p){return!0}addWidget(p){const o=new _(this._context,this._viewDomNode,p);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(p,o,c){this._widgets[p.getId()].setPosition(o,c),this.setShouldRender()}removeWidget(p){const o=p.getId();if(this._widgets.hasOwnProperty(o)){const c=this._widgets[o];delete this._widgets[o];const a=c.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(p){return this._widgets.hasOwnProperty(p)?this._widgets[p].suppressMouseDown:!1}onBeforeRender(p){const o=Object.keys(this._widgets);for(const c of o)this._widgets[c].onBeforeRender(p)}prepareRender(p){const o=Object.keys(this._widgets);for(const c of o)this._widgets[c].prepareRender(p)}render(p){const o=Object.keys(this._widgets);for(const c of o)this._widgets[c].render(p)}}e.ViewContentWidgets=S;class _{constructor(p,o,c){this._context=p,this._viewDomNode=o,this._actual=c,this.domNode=k.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,s=a.get(123);this._fixedOverflowWidgets=a.get(32),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this._lineHeight=a.get(53),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(p){const o=this._context.configuration.options;if(this._lineHeight=o.get(53),p.hasChanged(123)){const c=o.get(123);this._contentLeft=c.contentLeft,this._contentWidth=c.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(p){this._setPosition(this._range)}_setPosition(p){if(this._range=p,this._viewRange=null,this._range){const o=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(o.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(o.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(o))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(p,o){this._setPosition(p),this._preference=o,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(p,o,c,a,s){const l=p.top,r=l,t=o.top+this._lineHeight,n=s.viewportHeight-t,i=l-a,u=r>=a,h=t,v=n>=a;let m=p.left,g=o.left;return m+c>s.scrollLeft+s.viewportWidth&&(m=s.scrollLeft+s.viewportWidth-c),g+c>s.scrollLeft+s.viewportWidth&&(g=s.scrollLeft+s.viewportWidth-c),m<s.scrollLeft&&(m=s.scrollLeft),g<s.scrollLeft&&(g=s.scrollLeft),{fitsAbove:u,aboveTop:i,aboveLeft:m,fitsBelow:v,belowTop:h,belowLeft:g}}_layoutHorizontalSegmentInPage(p,o,c,a){const s=Math.max(0,o.left-a),l=Math.min(o.left+o.width+a,p.width);let r=o.left+c-C.StandardWindow.scrollX;if(r+a>l){const t=r-(l-a);r-=t,c-=t}if(r<s){const t=r-s;r-=t,c-=t}return[c,r]}_layoutBoxInPage(p,o,c,a,s){const l=p.top-a,r=o.top+this._lineHeight,t=C.getDomNodePagePosition(this._viewDomNode.domNode),n=t.top+l-C.StandardWindow.scrollY,i=t.top+r-C.StandardWindow.scrollY,u=C.getClientArea(document.body),[h,v]=this._layoutHorizontalSegmentInPage(u,t,p.left-s.scrollLeft+this._contentLeft,c),[m,g]=this._layoutHorizontalSegmentInPage(u,t,o.left-s.scrollLeft+this._contentLeft,c),b=22,w=22,L=n>=b,E=i+a<=u.height-w;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(n,b),aboveLeft:v,fitsBelow:E,belowTop:i,belowLeft:g}:{fitsAbove:L,aboveTop:l,aboveLeft:h,fitsBelow:E,belowTop:r,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(p){return new y(p.top,p.left+this._contentLeft)}_getTopAndBottomLeft(p){if(!this._viewRange)return[null,null];const o=p.linesVisibleRangesForRange(this._viewRange,!1);if(!o||o.length===0)return[null,null];let c=o[0],a=o[0];for(const u of o)u.lineNumber<c.lineNumber&&(c=u),u.lineNumber>a.lineNumber&&(a=u);let s=1073741824;for(const u of c.ranges)u.left<s&&(s=u.left);let l=1073741824;for(const u of a.ranges)u.left<l&&(l=u.left);const r=p.getVerticalOffsetForLineNumber(c.lineNumber)-p.scrollTop,t=new y(r,s),n=p.getVerticalOffsetForLineNumber(a.lineNumber)-p.scrollTop,i=new y(n,l);return[t,i]}_prepareRenderWidget(p){const[o,c]=this._getTopAndBottomLeft(p);if(!o||!c)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let s=null;if(typeof this._actual.beforeRender=="function"&&(s=d(this._actual.beforeRender,this._actual)),s)this._cachedDomNodeClientWidth=s.width,this._cachedDomNodeClientHeight=s.height;else{const l=this.domNode.domNode;this._cachedDomNodeClientWidth=l.clientWidth,this._cachedDomNodeClientHeight=l.clientHeight}}let a;if(this.allowEditorOverflow?a=this._layoutBoxInPage(o,c,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p):a=this._layoutBoxInViewport(o,c,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p),this._preference)for(let s=1;s<=2;s++)for(const l of this._preference)if(l===1){if(!a)return null;if(s===2||a.fitsAbove)return{coordinate:new y(a.aboveTop,a.aboveLeft),position:1}}else if(l===2){if(!a)return null;if(s===2||a.fitsBelow)return{coordinate:new y(a.belowTop,a.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(o),position:0}:{coordinate:o,position:0};return null}onBeforeRender(p){!this._viewRange||!this._preference||this._viewRange.endLineNumber<p.startLineNumber||this._viewRange.startLineNumber>p.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(p){this._renderData=this._prepareRenderWidget(p)}render(p){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&d(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+p.scrollTop-p.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&d(this._actual.afterRender,this._actual,this._renderData.position)}}function d(f,p,...o){try{return f.call(p,...o)}catch(c){return null}}}),define(Q[381],J([0,1,93,3,109,311]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class y extends C.DynamicViewOverlay{constructor(_){super();this._context=_;const d=this._context.configuration.options;this._lineHeight=d.get(53),this._typicalHalfwidthCharacterWidth=d.get(38).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const d=this._context.configuration.options;return this._lineHeight=d.get(53),this._typicalHalfwidthCharacterWidth=d.get(38).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}prepareRender(_){const d=_.getDecorationsInViewport();let f=[],p=0;for(let s=0,l=d.length;s<l;s++){const r=d[s];r.options.className&&(f[p++]=r)}f=f.sort((s,l)=>{if(s.options.zIndex<l.options.zIndex)return-1;if(s.options.zIndex>l.options.zIndex)return 1;const r=s.options.className,t=l.options.className;return r<t?-1:r>t?1:k.Range.compareRangesUsingStarts(s.range,l.range)});const o=_.visibleRange.startLineNumber,c=_.visibleRange.endLineNumber,a=[];for(let s=o;s<=c;s++){const l=s-o;a[l]=""}this._renderWholeLineDecorations(_,f,a),this._renderNormalDecorations(_,f,a),this._renderResult=a}_renderWholeLineDecorations(_,d,f){const p=String(this._lineHeight),o=_.visibleRange.startLineNumber,c=_.visibleRange.endLineNumber;for(let a=0,s=d.length;a<s;a++){const l=d[a];if(!!l.options.isWholeLine){const r='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+p+'px;"></div>',t=Math.max(l.range.startLineNumber,o),n=Math.min(l.range.endLineNumber,c);for(let i=t;i<=n;i++){const u=i-o;f[u]+=r}}}}_renderNormalDecorations(_,d,f){const p=String(this._lineHeight),o=_.visibleRange.startLineNumber;let c=null,a=!1,s=null;for(let l=0,r=d.length;l<r;l++){const t=d[l];if(!t.options.isWholeLine){const n=t.options.className,i=Boolean(t.options.showIfCollapsed);let u=t.range;if(i&&u.endColumn===1&&u.endLineNumber!==u.startLineNumber&&(u=new k.Range(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.model.getLineMaxColumn(u.endLineNumber-1))),c===n&&a===i&&k.Range.areIntersectingOrTouching(s,u)){s=k.Range.plusRange(s,u);continue}c!==null&&this._renderNormalDecoration(_,s,c,a,p,o,f),c=n,a=i,s=u}}c!==null&&this._renderNormalDecoration(_,s,c,a,p,o,f)}_renderNormalDecoration(_,d,f,p,o,c,a){const s=_.linesVisibleRangesForRange(d,f==="findMatch");if(!!s)for(let l=0,r=s.length;l<r;l++){const t=s[l];if(!t.outsideRenderedLine){const n=t.lineNumber-c;if(p&&t.ranges.length===1){const i=t.ranges[0];i.width===0&&(t.ranges[0]=new M.HorizontalRange(i.left,this._typicalHalfwidthCharacterWidth))}for(let i=0,u=t.ranges.length;i<u;i++){const h=t.ranges[i],v='<div class="cdr '+f+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+o+'px;"></div>';a[n]+=v}}}}render(_,d){if(!this._renderResult)return"";const f=d-_;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.DecorationsOverlay=y}),define(Q[168],J([0,1,93,312]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class k{constructor(_,d,f){this.startLineNumber=+_,this.endLineNumber=+d,this.className=String(f)}}e.DecorationToRender=k;class M extends C.DynamicViewOverlay{_render(_,d,f){const p=[];for(let a=_;a<=d;a++){const s=a-_;p[s]=[]}if(f.length===0)return p;f.sort((a,s)=>a.className===s.className?a.startLineNumber===s.startLineNumber?a.endLineNumber-s.endLineNumber:a.startLineNumber-s.startLineNumber:a.className<s.className?-1:1);let o=null,c=0;for(let a=0,s=f.length;a<s;a++){const l=f[a],r=l.className;let t=Math.max(l.startLineNumber,_)-_;const n=Math.min(l.endLineNumber,d)-_;o===r?(t=Math.max(c+1,t),c=Math.max(c,n)):(o=r,c=n);for(let i=t;i<=c;i++)p[i].push(o)}return p}}e.DedupOverlay=M;class y extends M{constructor(_){super();this._context=_;const d=this._context.configuration.options,f=d.get(123);this._lineHeight=d.get(53),this._glyphMargin=d.get(44),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const d=this._context.configuration.options,f=d.get(123);return this._lineHeight=d.get(53),this._glyphMargin=d.get(44),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}_getDecorations(_){const d=_.getDecorationsInViewport();let f=[],p=0;for(let o=0,c=d.length;o<c;o++){const a=d[o],s=a.options.glyphMarginClassName;s&&(f[p++]=new k(a.range.startLineNumber,a.range.endLineNumber,s))}return f}prepareRender(_){if(!this._glyphMargin){this._renderResult=null;return}const d=_.visibleRange.startLineNumber,f=_.visibleRange.endLineNumber,p=this._render(d,f,this._getDecorations(_)),o=this._lineHeight.toString(),c=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),s='" style="left:'+c+"px;width:"+a+"px;height:"+o+'px;"></div>',l=[];for(let r=d;r<=f;r++){const t=r-d,n=p[t];n.length===0?l[t]="":l[t]='<div class="cgmr codicon '+n.join(" ")+s}this._renderResult=l}render(_,d){if(!this._renderResult)return"";const f=d-_;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.GlyphMarginOverlay=y}),define(Q[382],J([0,1,168,316]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends C.DedupOverlay{constructor(y){super();this._context=y;const _=this._context.configuration.options.get(123);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(y){const _=this._context.configuration.options.get(123);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return y.scrollTopChanged}onZonesChanged(y){return!0}_getDecorations(y){const S=y.getDecorationsInViewport();let _=[],d=0;for(let f=0,p=S.length;f<p;f++){const o=S[f],c=o.options.linesDecorationsClassName;c&&(_[d++]=new C.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,c));const a=o.options.firstLineDecorationClassName;a&&(_[d++]=new C.DecorationToRender(o.range.startLineNumber,o.range.startLineNumber,a))}return _}prepareRender(y){const S=y.visibleRange.startLineNumber,_=y.visibleRange.endLineNumber,d=this._render(S,_,this._getDecorations(y)),f=this._decorationsLeft.toString(),p=this._decorationsWidth.toString(),o='" style="left:'+f+"px;width:"+p+'px;"></div>',c=[];for(let a=S;a<=_;a++){const s=a-S,l=d[s];let r="";for(let t=0,n=l.length;t<n;t++)r+='<div class="cldr '+l[t]+o;c[s]=r}this._renderResult=c}render(y,S){return this._renderResult?this._renderResult[S-y]:""}}e.LinesDecorationsOverlay=k}),define(Q[221],J([0,1,30,44]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class M extends k.ViewPart{constructor(S){super(S);const _=this._context.configuration.options,d=_.get(123);this._canUseLayerHinting=!_.get(25),this._contentLeft=d.contentLeft,this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setClassName(M.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=C.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(M.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const _=this._context.configuration.options,d=_.get(123);return this._canUseLayerHinting=!_.get(25),this._contentLeft=d.contentLeft,this._glyphMarginLeft=d.glyphMarginLeft,this._glyphMarginWidth=d.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const _=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-_);const d=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(d),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(d)}}e.Margin=M,M.CLASS_NAME="glyph-margin",M.OUTER_CLASS_NAME="margin"}),define(Q[383],J([0,1,168,317]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends C.DedupOverlay{constructor(y){super();this._context=y,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(y){return!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return y.scrollTopChanged}onZonesChanged(y){return!0}_getDecorations(y){const S=y.getDecorationsInViewport();let _=[],d=0;for(let f=0,p=S.length;f<p;f++){const o=S[f],c=o.options.marginClassName;c&&(_[d++]=new C.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,c))}return _}prepareRender(y){const S=y.visibleRange.startLineNumber,_=y.visibleRange.endLineNumber,d=this._render(S,_,this._getDecorations(y)),f=[];for(let p=S;p<=_;p++){const o=p-S,c=d[o];let a="";for(let s=0,l=c.length;s<l;s++)a+='<div class="cmdr '+c[s]+'" style=""></div>';f[o]=a}this._renderResult=f}render(y,S){return this._renderResult?this._renderResult[S-y]:""}}e.MarginViewLineDecorationsOverlay=k}),define(Q[384],J([0,1,30,44,319]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class M extends k.ViewPart{constructor(S){super(S);const d=this._context.configuration.options.get(123);this._widgets={},this._verticalScrollbarWidth=d.verticalScrollbarWidth,this._minimapWidth=d.minimap.minimapWidth,this._horizontalScrollbarHeight=d.horizontalScrollbarHeight,this._editorHeight=d.height,this._editorWidth=d.width,this._domNode=C.createFastDomNode(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const d=this._context.configuration.options.get(123);return this._verticalScrollbarWidth=d.verticalScrollbarWidth,this._minimapWidth=d.minimap.minimapWidth,this._horizontalScrollbarHeight=d.horizontalScrollbarHeight,this._editorHeight=d.height,this._editorWidth=d.width,!0}addWidget(S){const _=C.createFastDomNode(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:_},_.setPosition("absolute"),_.setAttribute("widgetId",S.getId()),this._domNode.appendChild(_),this.setShouldRender()}setWidgetPosition(S,_){const d=this._widgets[S.getId()];return d.preference===_?!1:(d.preference=_,this.setShouldRender(),!0)}removeWidget(S){const _=S.getId();if(this._widgets.hasOwnProperty(_)){const f=this._widgets[_].domNode.domNode;delete this._widgets[_],f.parentNode.removeChild(f),this.setShouldRender()}}_renderWidget(S){const _=S.domNode;if(S.preference===null){_.unsetTop();return}if(S.preference===0)_.setTop(0),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const d=_.domNode.clientHeight;_.setTop(this._editorHeight-d-2*this._horizontalScrollbarHeight),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(_.setTop(0),_.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const _=Object.keys(this._widgets);for(let d=0,f=_.length;d<f;d++){const p=_[d];this._renderWidget(this._widgets[p])}}}e.ViewOverlayWidgets=M}),define(Q[385],J([0,1,30,219,110]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class y extends M.ViewEventHandler{constructor(_,d){super();this._context=_;const f=this._context.configuration.options;this._domNode=C.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(d),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(p=>this._context.viewLayout.getVerticalOffsetForLineNumber(p)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(f.get(53)),this._zoneManager.setPixelRatio(f.get(121)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(_){const d=this._context.configuration.options;return _.hasChanged(53)&&(this._zoneManager.setLineHeight(d.get(53)),this._render()),_.hasChanged(121)&&(this._zoneManager.setPixelRatio(d.get(121)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(_){return this._render(),!0}onScrollChanged(_){return _.scrollHeightChanged&&(this._zoneManager.setOuterHeight(_.scrollHeight),this._render()),!0}onZonesChanged(_){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(_){this._domNode.setTop(_.top),this._domNode.setRight(_.right);let d=!1;d=this._zoneManager.setDOMWidth(_.width)||d,d=this._zoneManager.setDOMHeight(_.height)||d,d&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(_){this._zoneManager.setZones(_),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const _=this._zoneManager.getCanvasWidth(),d=this._zoneManager.getCanvasHeight(),f=this._zoneManager.resolveColorZones(),p=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,_,d),f.length>0&&this._renderOneLane(o,f,p,_),!0}_renderOneLane(_,d,f,p){let o=0,c=0,a=0;for(const s of d){const l=s.colorId,r=s.from,t=s.to;l!==o?(_.fillRect(0,c,p,a-c),o=l,_.fillStyle=f[o],c=r,a=t):a>=r?a=Math.max(a,t):(_.fillRect(0,c,p,a-c),c=r,a=t)}_.fillRect(0,c,p,a-c)}}e.OverviewRuler=y}),define(Q[386],J([0,1,30,11,44,12]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class _ extends M.ViewPart{constructor(p){super(p);const o=this._context.configuration.options,c=o.get(123);this._lineHeight=o.get(53),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this.domNode=C.createFastDomNode(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=C.createFastDomNode(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const p=this._context.viewLayout.getWhitespaces(),o=new Map;for(const a of p)o.set(a.id,a);let c=!1;return this._context.model.changeWhitespace(a=>{const s=Object.keys(this._zones);for(let l=0,r=s.length;l<r;l++){const t=s[l],n=this._zones[t],i=this._computeWhitespaceProps(n.delegate),u=o.get(t);u&&(u.afterLineNumber!==i.afterViewLineNumber||u.height!==i.heightInPx)&&(a.changeOneWhitespace(t,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),c=!0)}}),c}onConfigurationChanged(p){const o=this._context.configuration.options,c=o.get(123);return this._lineHeight=o.get(53),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,p.hasChanged(53)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(p){return this._recomputeWhitespacesProps()}onLinesDeleted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}onLinesInserted(p){return!0}_getZoneOrdinal(p){return typeof p.afterColumn!="undefined"?p.afterColumn:1e4}_computeWhitespaceProps(p){if(p.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(p),minWidthInPx:this._minWidthInPixels(p)};let o;if(typeof p.afterColumn!="undefined")o=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:p.afterColumn});else{const l=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:1}).lineNumber;o=new y.Position(l,this._context.model.getModelLineMaxColumn(l))}let c;o.column===this._context.model.getModelLineMaxColumn(o.lineNumber)?c=this._context.model.validateModelPosition({lineNumber:o.lineNumber+1,column:1}):c=this._context.model.validateModelPosition({lineNumber:o.lineNumber,column:o.column+1});const a=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(o),s=this._context.model.coordinatesConverter.modelPositionIsVisible(c);return{afterViewLineNumber:a.lineNumber,heightInPx:s?this._heightInPixels(p):0,minWidthInPx:this._minWidthInPixels(p)}}changeViewZones(p){let o=!1;return this._context.model.changeWhitespace(c=>{const a={addZone:s=>(o=!0,this._addZone(c,s)),removeZone:s=>{!s||(o=this._removeZone(c,s)||o)},layoutZone:s=>{!s||(o=this._layoutZone(c,s)||o)}};d(p,a),a.addZone=S,a.removeZone=S,a.layoutZone=S}),o}_addZone(p,o){const c=this._computeWhitespaceProps(o),s={whitespaceId:p.insertWhitespace(c.afterViewLineNumber,this._getZoneOrdinal(o),c.heightInPx,c.minWidthInPx),delegate:o,isVisible:!1,domNode:C.createFastDomNode(o.domNode),marginDomNode:o.marginDomNode?C.createFastDomNode(o.marginDomNode):null};return this._safeCallOnComputedHeight(s.delegate,c.heightInPx),s.domNode.setPosition("absolute"),s.domNode.domNode.style.width="100%",s.domNode.setDisplay("none"),s.domNode.setAttribute("monaco-view-zone",s.whitespaceId),this.domNode.appendChild(s.domNode),s.marginDomNode&&(s.marginDomNode.setPosition("absolute"),s.marginDomNode.domNode.style.width="100%",s.marginDomNode.setDisplay("none"),s.marginDomNode.setAttribute("monaco-view-zone",s.whitespaceId),this.marginDomNode.appendChild(s.marginDomNode)),this._zones[s.whitespaceId]=s,this.setShouldRender(),s.whitespaceId}_removeZone(p,o){if(this._zones.hasOwnProperty(o)){const c=this._zones[o];return delete this._zones[o],p.removeWhitespace(c.whitespaceId),c.domNode.removeAttribute("monaco-visible-view-zone"),c.domNode.removeAttribute("monaco-view-zone"),c.domNode.domNode.parentNode.removeChild(c.domNode.domNode),c.marginDomNode&&(c.marginDomNode.removeAttribute("monaco-visible-view-zone"),c.marginDomNode.removeAttribute("monaco-view-zone"),c.marginDomNode.domNode.parentNode.removeChild(c.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(p,o){if(this._zones.hasOwnProperty(o)){const c=this._zones[o],a=this._computeWhitespaceProps(c.delegate);return p.changeOneWhitespace(c.whitespaceId,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(c.delegate,a.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(p){if(this._zones.hasOwnProperty(p)){const o=this._zones[p];return Boolean(o.delegate.suppressMouseDown)}return!1}_heightInPixels(p){return typeof p.heightInPx=="number"?p.heightInPx:typeof p.heightInLines=="number"?this._lineHeight*p.heightInLines:this._lineHeight}_minWidthInPixels(p){return typeof p.minWidthInPx=="number"?p.minWidthInPx:0}_safeCallOnComputedHeight(p,o){if(typeof p.onComputedHeight=="function")try{p.onComputedHeight(o)}catch(c){k.onUnexpectedError(c)}}_safeCallOnDomNodeTop(p,o){if(typeof p.onDomNodeTop=="function")try{p.onDomNodeTop(o)}catch(c){k.onUnexpectedError(c)}}prepareRender(p){}render(p){const o=p.viewportData.whitespaceViewportData,c={};let a=!1;for(let l=0,r=o.length;l<r;l++)c[o[l].id]=o[l],a=!0;const s=Object.keys(this._zones);for(let l=0,r=s.length;l<r;l++){const t=s[l],n=this._zones[t];let i=0,u=0,h="none";c.hasOwnProperty(t)?(i=c[t].verticalOffset-p.bigNumbersDelta,u=c[t].height,h="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(c[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(i),n.domNode.setHeight(u),n.domNode.setDisplay(h),n.marginDomNode&&(n.marginDomNode.setTop(i),n.marginDomNode.setHeight(u),n.marginDomNode.setDisplay(h))}a&&(this.domNode.setWidth(Math.max(p.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=_;function d(f,p){try{return f(p)}catch(o){k.onUnexpectedError(o)}}}),define(Q[62],J([0,1,8]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class k{constructor(c,a,s,l){this.top=c|0,this.left=a|0,this.width=s|0,this.height=l|0}}e.Viewport=k;class M{constructor(c,a){this.outputLineIndex=c,this.outputOffset=a}}e.OutputPosition=M;class y{constructor(c,a,s){this.breakOffsets=c,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=s}static getInputOffsetOfOutputPosition(c,a,s){return a===0?s:c[a-1]+s}static getOutputPositionOfInputOffset(c,a){let s=0,l=c.length-1,r=0,t=0;for(;s<=l;){r=s+(l-s)/2|0;const n=c[r];if(t=r>0?c[r-1]:0,a<t)l=r-1;else if(a>=n)s=r+1;else break}return new M(r,a-t)}}e.LineBreakData=y;class S{constructor(c,a){this.tabSize=c,this.data=a}}e.MinimapLinesRenderingData=S;class _{constructor(c,a,s,l,r,t){this.content=c,this.continuesWithWrappedLine=a,this.minColumn=s,this.maxColumn=l,this.startVisibleColumn=r,this.tokens=t}}e.ViewLineData=_;class d{constructor(c,a,s,l,r,t,n,i,u,h){this.minColumn=c,this.maxColumn=a,this.content=s,this.continuesWithWrappedLine=l,this.isBasicASCII=d.isBasicASCII(s,t),this.containsRTL=d.containsRTL(s,this.isBasicASCII,r),this.tokens=n,this.inlineDecorations=i,this.tabSize=u,this.startVisibleColumn=h}static isBasicASCII(c,a){return a?C.isBasicASCII(c):!0}static containsRTL(c,a,s){return!a&&s?C.containsRTL(c):!1}}e.ViewLineRenderingData=d;class f{constructor(c,a,s){this.range=c,this.inlineClassName=a,this.type=s}}e.InlineDecoration=f;class p{constructor(c,a){this.range=c,this.options=a}}e.ViewModelDecoration=p}),define(Q[387],J([0,1,8,90,62]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y extends k.CharacterClassifier{constructor(r,t){super(0);for(let n=0;n<r.length;n++)this.set(r.charCodeAt(n),1);for(let n=0;n<t.length;n++)this.set(t.charCodeAt(n),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let S=[],_=[];class d{constructor(r,t){this.classifier=new y(r,t)}static create(r){return new d(r.get(113),r.get(112))}createLineBreaksComputer(r,t,n,i){t=t|0,n=+n;let u=[],h=[];return{addRequest:(v,m)=>{u.push(v),h.push(m)},finalize:()=>{const v=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth;let m=[];for(let g=0,b=u.length;g<b;g++){const w=h[g];w?m[g]=f(this.classifier,w,u[g],t,n,v,i):m[g]=p(this.classifier,u[g],t,n,v,i)}return S.length=0,_.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=d;function f(l,r,t,n,i,u,h){if(i===-1)return null;const v=t.length;if(v<=1)return null;const m=r.breakOffsets,g=r.breakOffsetsVisibleColumn,b=s(t,n,i,u,h),w=i-b;let L=S,E=_,N=0,I=0,T=0,O=i;const R=m.length;let F=0;if(F>=0){let D=Math.abs(g[F]-O);for(;F+1<R;){const B=Math.abs(g[F+1]-O);if(B>=D)break;D=B,F++}}for(;F<R;){let D=F<0?0:m[F],B=F<0?0:g[F];I>D&&(D=I,B=T);let A=0,W=0,V=0,K=0;if(B<=O){let ee=B,re=D===0?0:t.charCodeAt(D-1),te=D===0?0:l.get(re),ae=!0;for(let Y=D;Y<v;Y++){const P=Y,x=t.charCodeAt(Y);let z,U;if(C.isHighSurrogate(x)?(Y++,z=0,U=2):(z=l.get(x),U=o(x,ee,n,u)),P>I&&a(re,te,x,z)&&(A=P,W=ee),ee+=U,ee>O){P>I?(V=P,K=ee-U):(V=Y+1,K=ee),ee-W>w&&(A=0),ae=!1;break}re=x,te=z}if(ae){N>0&&(L[N]=m[m.length-1],E[N]=g[m.length-1],N++);break}}if(A===0){let ee=B,re=t.charCodeAt(D),te=l.get(re),ae=!1;for(let Y=D-1;Y>=I;Y--){const P=Y+1,x=t.charCodeAt(Y);if(x===9){ae=!0;break}let z,U;if(C.isLowSurrogate(x)?(Y--,z=0,U=2):(z=l.get(x),U=C.isFullWidthCharacter(x)?u:1),ee<=O){if(V===0&&(V=P,K=ee),ee<=O-w)break;if(a(x,z,re,te)){A=P,W=ee;break}}ee-=U,re=x,te=z}if(A!==0){const Y=w-(K-W);if(Y<=n){const P=t.charCodeAt(V);let x;C.isHighSurrogate(P)?x=2:x=o(P,K,n,u),Y-x<0&&(A=0)}}if(ae){F--;continue}}if(A===0&&(A=V,W=K),A<=I){const ee=t.charCodeAt(I);C.isHighSurrogate(ee)?(A=I+2,W=T+2):(A=I+1,W=T+o(ee,T,n,u))}for(I=A,L[N]=A,T=W,E[N]=W,N++,O=W+w;F<0||F<R&&g[F]<W;)F++;let j=Math.abs(g[F]-O);for(;F+1<R;){const ee=Math.abs(g[F+1]-O);if(ee>=j)break;j=ee,F++}}return N===0?null:(L.length=N,E.length=N,S=r.breakOffsets,_=r.breakOffsetsVisibleColumn,r.breakOffsets=L,r.breakOffsetsVisibleColumn=E,r.wrappedTextIndentLength=b,r)}function p(l,r,t,n,i,u){if(n===-1)return null;const h=r.length;if(h<=1)return null;const v=s(r,t,n,i,u),m=n-v;let g=[],b=[],w=0,L=0,E=0,N=n,I=r.charCodeAt(0),T=l.get(I),O=o(I,0,t,i),R=1;C.isHighSurrogate(I)&&(O+=1,I=r.charCodeAt(1),T=l.get(I),R++);for(let F=R;F<h;F++){const D=F,B=r.charCodeAt(F);let A,W;C.isHighSurrogate(B)?(F++,A=0,W=2):(A=l.get(B),W=o(B,O,t,i)),a(I,T,B,A)&&(L=D,E=O),O+=W,O>N&&((L===0||O-E>m)&&(L=D,E=O-W),g[w]=L,b[w]=E,w++,N=E+m,L=0),I=B,T=A}return w===0?null:(g[w]=h,b[w]=O,new M.LineBreakData(g,b,v))}function o(l,r,t,n){return l===9?t-r%t:C.isFullWidthCharacter(l)||l<32?n:1}function c(l,r){return r-l%r}function a(l,r,t,n){return t!==32&&(r===2||r===3&&n!==2||n===1||n===3&&r!==1)}function s(l,r,t,n,i){let u=0;if(i!==0){const h=C.firstNonWhitespaceIndex(l);if(h!==-1){for(let m=0;m<h;m++)u+=l.charCodeAt(m)===9?c(u,r):1;const v=i===3?2:i===2?1:0;for(let m=0;m<v;m++)u+=c(u,r);u+n>t&&(u=0)}}return u}}),define(Q[169],J([0,1,4,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class M extends k.Disposable{constructor(){super();this._onEvent=this._register(new C.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOugoingEvents()}_addOutgoingEvent(a){for(let s=0,l=this._outgoingEvents.length;s<l;s++)if(this._outgoingEvents[s].kind===a.kind){this._outgoingEvents[s]=this._outgoingEvents[s].merge(a);return}this._outgoingEvents.push(a)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let s=0,l=this._eventHandlers.length;s<l;s++)this._eventHandlers[s]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let s=0;s<this._eventHandlers.length;s++)if(this._eventHandlers[s]===a){this._eventHandlers.splice(s,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new y),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,s=this._collector.viewEvents;this._collector=null;for(const l of a)this._addOutgoingEvent(l);s.length>0&&this._emitMany(s)}this._emitOugoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const s=this._eventHandlers.slice(0);for(const l of s)l.handleEvents(a)}}}e.ViewModelEventDispatcher=M;class y{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=y;class S{constructor(a,s,l,r){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=s,this.contentWidth=l,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(a){return a.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=S;class _{constructor(a,s){this.kind=1,this.oldHasFocus=a,this.hasFocus=s}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(a){return a.kind!==1?this:new _(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=_;class d{constructor(a,s,l,r,t,n,i,u){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=s,this._oldScrollHeight=l,this._oldScrollTop=r,this.scrollWidth=t,this.scrollLeft=n,this.scrollHeight=i,this.scrollTop=u,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(a){return a.kind!==2?this:new d(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=d;class f{constructor(){this.kind=3}isNoOp(){return!1}merge(a){return this}}e.ViewZonesChangedEvent=f;class p{constructor(a,s,l,r,t,n,i){this.kind=5,this.oldSelections=a,this.selections=s,this.oldModelVersionId=l,this.modelVersionId=r,this.source=t,this.reason=n,this.reachedMaxCursorCount=i}static _selectionsAreEqual(a,s){if(!a&&!s)return!0;if(!a||!s)return!1;const l=a.length,r=s.length;if(l!==r)return!1;for(let t=0;t<l;t++)if(!a[t].equalsSelection(s[t]))return!1;return!0}isNoOp(){return p._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(a){return a.kind!==5?this:new p(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=p;class o{constructor(){this.kind=4}isNoOp(){return!1}merge(a){return this}}e.ReadOnlyEditAttemptEvent=o}),define(Q[388],J([0,1,4,2,119,376,62,169]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const d=125;class f{constructor(a,s,l,r){a=a|0,s=s|0,l=l|0,r=r|0,a<0&&(a=0),s<0&&(s=0),l<0&&(l=0),r<0&&(r=0),this.width=a,this.contentWidth=s,this.scrollWidth=Math.max(a,s),this.height=l,this.contentHeight=r,this.scrollHeight=Math.max(l,r)}equals(a){return this.width===a.width&&this.contentWidth===a.contentWidth&&this.height===a.height&&this.contentHeight===a.contentHeight}}class p extends k.Disposable{constructor(a,s){super();this._onDidContentSizeChange=this._register(new C.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new f(0,0,0,0),this._scrollable=this._register(new M.Scrollable(a,s)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(a){this._scrollable.setSmoothScrollDuration(a)}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}getScrollDimensions(){return this._dimensions}setScrollDimensions(a){if(!this._dimensions.equals(a)){const s=this._dimensions;this._dimensions=a,this._scrollable.setScrollDimensions({width:a.width,scrollWidth:a.scrollWidth,height:a.height,scrollHeight:a.scrollHeight},!0);const l=s.contentWidth!==a.contentWidth,r=s.contentHeight!==a.contentHeight;(l||r)&&this._onDidContentSizeChange.fire(new _.ContentSizeChangedEvent(s.contentWidth,s.contentHeight,a.contentWidth,a.contentHeight))}}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(a){this._scrollable.setScrollPositionNow(a)}setScrollPositionSmooth(a){this._scrollable.setScrollPositionSmooth(a)}}class o extends k.Disposable{constructor(a,s,l){super();this._configuration=a;const r=this._configuration.options,t=r.get(123),n=r.get(69);this._linesLayout=new y.LinesLayout(s,r.get(53),n.top,n.bottom),this._scrollable=this._register(new p(0,l)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new f(t.contentWidth,0,t.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(98)?d:0)}onConfigurationChanged(a){const s=this._configuration.options;if(a.hasChanged(53)&&this._linesLayout.setLineHeight(s.get(53)),a.hasChanged(69)){const l=s.get(69);this._linesLayout.setPadding(l.top,l.bottom)}if(a.hasChanged(123)){const l=s.get(123),r=l.contentWidth,t=l.height,n=this._scrollable.getScrollDimensions(),i=n.contentWidth;this._scrollable.setScrollDimensions(new f(r,n.contentWidth,t,this._getContentHeight(r,t,i)))}else this._updateHeight();a.hasChanged(98)&&this._configureSmoothScrollDuration()}onFlushed(a){this._linesLayout.onFlushed(a)}onLinesDeleted(a,s){this._linesLayout.onLinesDeleted(a,s)}onLinesInserted(a,s){this._linesLayout.onLinesInserted(a,s)}_getHorizontalScrollbarHeight(a,s){const r=this._configuration.options.get(87);return r.horizontal===2||a>=s?0:r.horizontalScrollbarSize}_getContentHeight(a,s,l){const r=this._configuration.options;let t=this._linesLayout.getLinesTotalHeight();return r.get(89)?t+=s-r.get(53):t+=this._getHorizontalScrollbarHeight(a,l),t}_updateHeight(){const a=this._scrollable.getScrollDimensions(),s=a.width,l=a.height,r=a.contentWidth;this._scrollable.setScrollDimensions(new f(s,a.contentWidth,l,this._getContentHeight(s,l,r)))}getCurrentViewport(){const a=this._scrollable.getScrollDimensions(),s=this._scrollable.getCurrentScrollPosition();return new S.Viewport(s.scrollTop,s.scrollLeft,a.width,a.height)}getFutureViewport(){const a=this._scrollable.getScrollDimensions(),s=this._scrollable.getFutureScrollPosition();return new S.Viewport(s.scrollTop,s.scrollLeft,a.width,a.height)}_computeContentWidth(a){const s=this._configuration.options,l=s.get(124),r=s.get(38);if(l.isViewportWrapping){const t=s.get(123),n=s.get(59);return a>t.contentWidth+r.typicalHalfwidthCharacterWidth&&n.enabled&&n.side==="right"?a+t.verticalScrollbarWidth:a}else{const t=s.get(88)*r.typicalHalfwidthCharacterWidth,n=this._linesLayout.getWhitespaceMinWidth();return Math.max(a+t,n)}}setMaxLineWidth(a){const s=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new f(s.width,this._computeContentWidth(a),s.height,s.contentHeight)),this._updateHeight()}saveState(){const a=this._scrollable.getFutureScrollPosition();let s=a.scrollTop,l=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(s),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(l);return{scrollTop:s,scrollTopWithoutViewZones:s-r,scrollLeft:a.scrollLeft}}changeWhitespace(a){const s=this._linesLayout.changeWhitespace(a);return s&&this.onHeightMaybeChanged(),s}getVerticalOffsetForLineNumber(a){return this._linesLayout.getVerticalOffsetForLineNumber(a)}isAfterLines(a){return this._linesLayout.isAfterLines(a)}isInTopPadding(a){return this._linesLayout.isInTopPadding(a)}isInBottomPadding(a){return this._linesLayout.isInBottomPadding(a)}getLineNumberAtVerticalOffset(a){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(a)}getWhitespaceAtVerticalOffset(a){return this._linesLayout.getWhitespaceAtVerticalOffset(a)}getLinesViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(a.top,a.top+a.height)}getLinesViewportDataAtScrollTop(a){const s=this._scrollable.getScrollDimensions();return a+s.height>s.scrollHeight&&(a=s.scrollHeight-s.height),a<0&&(a=0),this._linesLayout.getLinesViewportData(a,a+s.height)}getWhitespaceViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(a.top,a.top+a.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}setScrollPosition(a,s){s===1?this._scrollable.setScrollPositionNow(a):this._scrollable.setScrollPositionSmooth(a)}deltaScrollNow(a,s){const l=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:l.scrollLeft+a,scrollTop:l.scrollTop+s})}}e.ViewLayout=o}),define(Q[389],J([0,1,3,20]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class M{constructor(S,_){this._selection=S,this._isMovingLeft=_}getEditOperations(S,_){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){const d=this._selection.startLineNumber,f=this._selection.startColumn,p=this._selection.endColumn;if(!(this._isMovingLeft&&f===1)&&!(!this._isMovingLeft&&p===S.getLineMaxColumn(d)))if(this._isMovingLeft){const o=new C.Range(d,f-1,d,f),c=S.getValueInRange(o);_.addEditOperation(o,null),_.addEditOperation(new C.Range(d,p,d,p),c)}else{const o=new C.Range(d,p,d,p+1),c=S.getValueInRange(o);_.addEditOperation(o,null),_.addEditOperation(new C.Range(d,f,d,f),c)}}}computeCursorState(S,_){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=M}),define(Q[129],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class C{constructor(d){this.value=d}equals(d){return this.value===d.value}contains(d){return this.equals(d)||this.value===""||d.value.startsWith(this.value+C.sep)}intersects(d){return this.contains(d)||d.contains(this)}append(d){return new C(this.value+C.sep+d)}}e.CodeActionKind=C,C.sep=".",C.None=new C("@@none@@"),C.Empty=new C(""),C.QuickFix=new C("quickfix"),C.Refactor=new C("refactor"),C.Source=new C("source"),C.SourceOrganizeImports=C.Source.append("organizeImports"),C.SourceFixAll=C.Source.append("fixAll");function k(_,d){return!(_.include&&!_.include.intersects(d)||_.excludes&&_.excludes.some(f=>y(d,f,_.include))||!_.includeSourceActions&&C.Source.contains(d))}e.mayIncludeActionsOfKind=k;function M(_,d){const f=d.kind?new C(d.kind):void 0;return!(_.include&&(!f||!_.include.contains(f))||_.excludes&&f&&_.excludes.some(p=>y(f,p,_.include))||!_.includeSourceActions&&f&&C.Source.contains(f)||_.onlyIncludePreferredActions&&!d.isPreferred)}e.filtersAction=M;function y(_,d,f){return!(!d.contains(_)||f&&d.contains(f))}class S{constructor(d,f,p){this.kind=d,this.apply=f,this.preferred=p}static fromUser(d,f){return!d||typeof d!="object"?new S(f.kind,f.apply,!1):new S(S.getKindFromUser(d,f.kind),S.getApplyFromUser(d,f.apply),S.getPreferredUser(d))}static getApplyFromUser(d,f){switch(typeof d.apply=="string"?d.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return f}}static getKindFromUser(d,f){return typeof d.kind=="string"?new C(d.kind):f}static getPreferredUser(d){return typeof d.preferred=="boolean"?d.preferred:!1}}e.CodeActionCommandArgs=S}),define(Q[390],J([0,1,4]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{constructor(y,S,_){this.presentationIndex=_,this._onColorFlushed=new C.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new C.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new C.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=y,this._color=y,this._colorPresentations=S}get color(){return this._color}set color(y){this._color.equals(y)||(this._color=y,this._onDidChangeColor.fire(y))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(y){this._colorPresentations=y,this.presentationIndex>y.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(y,S){for(let _=0;_<this.colorPresentations.length;_++)if(S.toLowerCase()===this.colorPresentations[_].label){this.presentationIndex=_,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(Q[222],J([0,1,61,12,3,20,41]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class _{constructor(f,p){this._selection=f,this._insertSpace=p,this._usedEndToken=null}static _haystackHasNeedleAtOffset(f,p,o){if(o<0)return!1;const c=p.length,a=f.length;if(o+c>a)return!1;for(let s=0;s<c;s++){const l=f.charCodeAt(o+s),r=p.charCodeAt(s);if(l!==r&&!(l>=65&&l<=90&&l+32===r)&&!(r>=65&&r<=90&&r+32===l))return!1}return!0}_createOperationsForBlockComment(f,p,o,c,a,s){const l=f.startLineNumber,r=f.startColumn,t=f.endLineNumber,n=f.endColumn,i=a.getLineContent(l),u=a.getLineContent(t);let h=i.lastIndexOf(p,r-1+p.length),v=u.indexOf(o,n-1-o.length);if(h!==-1&&v!==-1)if(l===t)i.substring(h+p.length,v).indexOf(o)>=0&&(h=-1,v=-1);else{const g=i.substring(h+p.length),b=u.substring(0,v);(g.indexOf(o)>=0||b.indexOf(o)>=0)&&(h=-1,v=-1)}let m;h!==-1&&v!==-1?(c&&h+p.length<i.length&&i.charCodeAt(h+p.length)===32&&(p=p+" "),c&&v>0&&u.charCodeAt(v-1)===32&&(o=" "+o,v-=1),m=_._createRemoveBlockCommentOperations(new M.Range(l,h+p.length+1,t,v+1),p,o)):(m=_._createAddBlockCommentOperations(f,p,o,this._insertSpace),this._usedEndToken=m.length===1?o:null);for(const g of m)s.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(f,p,o){let c=[];return M.Range.isEmpty(f)?c.push(C.EditOperation.delete(new M.Range(f.startLineNumber,f.startColumn-p.length,f.endLineNumber,f.endColumn+o.length))):(c.push(C.EditOperation.delete(new M.Range(f.startLineNumber,f.startColumn-p.length,f.startLineNumber,f.startColumn))),c.push(C.EditOperation.delete(new M.Range(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn+o.length)))),c}static _createAddBlockCommentOperations(f,p,o,c){let a=[];return M.Range.isEmpty(f)?a.push(C.EditOperation.replace(new M.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn),p+"  "+o)):(a.push(C.EditOperation.insert(new k.Position(f.startLineNumber,f.startColumn),p+(c?" ":""))),a.push(C.EditOperation.insert(new k.Position(f.endLineNumber,f.endColumn),(c?" ":"")+o))),a}getEditOperations(f,p){const o=this._selection.startLineNumber,c=this._selection.startColumn;f.tokenizeIfCheap(o);const a=f.getLanguageIdAtPosition(o,c),s=S.LanguageConfigurationRegistry.getComments(a);!s||!s.blockCommentStartToken||!s.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,f,p)}computeCursorState(f,p){const o=p.getInverseEditOperations();if(o.length===2){const c=o[0],a=o[1];return new y.Selection(c.range.endLineNumber,c.range.endColumn,a.range.startLineNumber,a.range.startColumn)}else{const c=o[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new y.Selection(c.endLineNumber,c.endColumn+a,c.endLineNumber,c.endColumn+a)}}}e.BlockCommentCommand=_}),define(Q[391],J([0,1,8,61,12,3,20,41,222]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class f{constructor(o,c,a,s,l,r){this._selection=o,this._tabSize=c,this._type=a,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=l,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(o,c,a){o.tokenizeIfCheap(c);const s=o.getLanguageIdAtPosition(c,1),l=_.LanguageConfigurationRegistry.getComments(s),r=l?l.lineCommentToken:null;if(!r)return null;let t=[];for(let n=0,i=a-c+1;n<i;n++)t[n]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return t}static _analyzeLines(o,c,a,s,l,r,t){let n=!0,i;o===0?i=!0:o===1?i=!1:i=!0;for(let u=0,h=s.length;u<h;u++){const v=s[u],m=l+u;if(m===l&&t){v.ignore=!0;continue}const g=a.getLineContent(m),b=C.firstNonWhitespaceIndex(g);if(b===-1){v.ignore=r,v.commentStrOffset=g.length;continue}if(n=!1,v.ignore=!1,v.commentStrOffset=b,i&&!d.BlockCommentCommand._haystackHasNeedleAtOffset(g,v.commentStr,b)&&(o===0?i=!1:o===1||(v.ignore=!0)),i&&c){const w=b+v.commentStrLength;w<g.length&&g.charCodeAt(w)===32&&(v.commentStrLength+=1)}}if(o===0&&n){i=!1;for(let u=0,h=s.length;u<h;u++)s[u].ignore=!1}return{supported:!0,shouldRemoveComments:i,lines:s}}static _gatherPreflightData(o,c,a,s,l,r,t){const n=f._gatherPreflightCommentStrings(a,s,l);return n===null?{supported:!1}:f._analyzeLines(o,c,a,n,s,r,t)}_executeLineComments(o,c,a,s){let l;a.shouldRemoveComments?l=f._createRemoveLineCommentsOperations(a.lines,s.startLineNumber):(f._normalizeInsertionPoint(o,a.lines,s.startLineNumber,this._tabSize),l=this._createAddLineCommentsOperations(a.lines,s.startLineNumber));const r=new M.Position(s.positionLineNumber,s.positionColumn);for(let t=0,n=l.length;t<n;t++)c.addEditOperation(l[t].range,l[t].text),y.Range.isEmpty(l[t].range)&&y.Range.getStartPosition(l[t].range).equals(r)&&o.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(l[t].text||"").length);this._selectionId=c.trackSelection(s)}_attemptRemoveBlockComment(o,c,a,s){let l=c.startLineNumber,r=c.endLineNumber,t=s.length+Math.max(o.getLineFirstNonWhitespaceColumn(c.startLineNumber),c.startColumn),n=o.getLineContent(l).lastIndexOf(a,t-1),i=o.getLineContent(r).indexOf(s,c.endColumn-1-a.length);return n!==-1&&i===-1&&(i=o.getLineContent(l).indexOf(s,n+a.length),r=l),n===-1&&i!==-1&&(n=o.getLineContent(r).lastIndexOf(a,i),l=r),c.isEmpty()&&(n===-1||i===-1)&&(n=o.getLineContent(l).indexOf(a),n!==-1&&(i=o.getLineContent(l).indexOf(s,n+a.length))),n!==-1&&o.getLineContent(l).charCodeAt(n+a.length)===32&&(a+=" "),i!==-1&&o.getLineContent(r).charCodeAt(i-1)===32&&(s=" "+s,i-=1),n!==-1&&i!==-1?d.BlockCommentCommand._createRemoveBlockCommentOperations(new y.Range(l,n+a.length+1,r,i+1),a,s):null}_executeBlockComment(o,c,a){o.tokenizeIfCheap(a.startLineNumber);let s=o.getLanguageIdAtPosition(a.startLineNumber,1),l=_.LanguageConfigurationRegistry.getComments(s);if(!(!l||!l.blockCommentStartToken||!l.blockCommentEndToken)){const r=l.blockCommentStartToken,t=l.blockCommentEndToken;let n=this._attemptRemoveBlockComment(o,a,r,t);if(!n){if(a.isEmpty()){const i=o.getLineContent(a.startLineNumber);let u=C.firstNonWhitespaceIndex(i);u===-1&&(u=i.length),n=d.BlockCommentCommand._createAddBlockCommentOperations(new y.Range(a.startLineNumber,u+1,a.startLineNumber,i.length+1),r,t,this._insertSpace)}else n=d.BlockCommentCommand._createAddBlockCommentOperations(new y.Range(a.startLineNumber,o.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.endLineNumber,o.getLineMaxColumn(a.endLineNumber)),r,t,this._insertSpace);n.length===1&&(this._deltaColumn=r.length+1)}this._selectionId=c.trackSelection(a);for(const i of n)c.addEditOperation(i.range,i.text)}}getEditOperations(o,c){let a=this._selection;if(this._moveEndPositionDown=!1,a.startLineNumber===a.endLineNumber&&this._ignoreFirstLine){c.addEditOperation(new y.Range(a.startLineNumber,o.getLineMaxColumn(a.startLineNumber),a.startLineNumber+1,1),a.startLineNumber===o.getLineCount()?"":`
`),this._selectionId=c.trackSelection(a);return}a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,o.getLineMaxColumn(a.endLineNumber-1)));const s=f._gatherPreflightData(this._type,this._insertSpace,o,a.startLineNumber,a.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return s.supported?this._executeLineComments(o,c,s,a):this._executeBlockComment(o,c,a)}computeCursorState(o,c){let a=c.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),new S.Selection(a.selectionStartLineNumber,a.selectionStartColumn+this._deltaColumn,a.positionLineNumber,a.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(o,c){let a=[];for(let s=0,l=o.length;s<l;s++){const r=o[s];r.ignore||a.push(k.EditOperation.delete(new y.Range(c+s,r.commentStrOffset+1,c+s,r.commentStrOffset+r.commentStrLength+1)))}return a}_createAddLineCommentsOperations(o,c){let a=[];const s=this._insertSpace?" ":"";for(let l=0,r=o.length;l<r;l++){const t=o[l];t.ignore||a.push(k.EditOperation.insert(new M.Position(c+l,t.commentStrOffset+1),t.commentStr+s))}return a}static nextVisibleColumn(o,c,a,s){return a?o+(c-o%c):o+s}static _normalizeInsertionPoint(o,c,a,s){let l=1073741824,r,t;for(let n=0,i=c.length;n<i;n++)if(!c[n].ignore){const u=o.getLineContent(a+n);let h=0;for(let v=0,m=c[n].commentStrOffset;h<l&&v<m;v++)h=f.nextVisibleColumn(h,s,u.charCodeAt(v)===9,1);h<l&&(l=h)}l=Math.floor(l/s)*s;for(let n=0,i=c.length;n<i;n++)if(!c[n].ignore){const u=o.getLineContent(a+n);let h=0;for(r=0,t=c[n].commentStrOffset;h<l&&r<t;r++)h=f.nextVisibleColumn(h,s,u.charCodeAt(r)===9,1);h>l?c[n].commentStrOffset=r-1:c[n].commentStrOffset=r}}}e.LineCommentCommand=f}),define(Q[392],J([0,1,20,3]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class M{constructor(S,_,d){this.selection=S,this.targetPosition=_,this.copy=d,this.targetSelection=null}getEditOperations(S,_){let d=S.getValueInRange(this.selection);if(this.copy||_.addEditOperation(this.selection,null),_.addEditOperation(new k.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),d),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,_){return this.targetSelection}}e.DragAndDropCommand=M}),define(Q[393],J([0,1,3]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(y,S,_){this._editorSelection=y,this._ranges=S,this._replaceStrings=_,this._trackedEditorSelectionId=null}getEditOperations(y,S){if(this._ranges.length>0){let _=[];for(let p=0;p<this._ranges.length;p++)_.push({range:this._ranges[p],text:this._replaceStrings[p]});_.sort((p,o)=>C.Range.compareRangesUsingStarts(p.range,o.range));let d=[],f=_[0];for(let p=1;p<_.length;p++)f.range.endLineNumber===_[p].range.startLineNumber&&f.range.endColumn===_[p].range.startColumn?(f.range=f.range.plusRange(_[p].range),f.text=f.text+_[p].text):(d.push(f),f=_[p]);d.push(f);for(const p of d)S.addEditOperation(p.range,p.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(y,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(Q[394],J([0,1,279]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(p){this.staticValue=p,this.kind=0}}class M{constructor(p){this.pieces=p,this.kind=1}}class y{constructor(p){!p||p.length===0?this._state=new k(""):p.length===1&&p[0].staticValue!==null?this._state=new k(p[0].staticValue):this._state=new M(p)}static fromStaticValue(p){return new y([S.staticValue(p)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(p,o){if(this._state.kind===0)return o?C.buildReplaceStringWithCasePreserved(p,this._state.staticValue):this._state.staticValue;let c="";for(let a=0,s=this._state.pieces.length;a<s;a++){let l=this._state.pieces[a];if(l.staticValue!==null){c+=l.staticValue;continue}let r=y._substitute(l.matchIndex,p);if(l.caseOps!==null&&l.caseOps.length>0){let t=[],n=l.caseOps.length,i=0;for(let u=0,h=r.length;u<h;u++){if(i>=n){t.push(r.slice(u));break}switch(l.caseOps[i]){case"U":t.push(r[u].toUpperCase());break;case"u":t.push(r[u].toUpperCase()),i++;break;case"L":t.push(r[u].toLowerCase());break;case"l":t.push(r[u].toLowerCase()),i++;break;default:t.push(r[u])}}r=t.join("")}c+=r}return c}static _substitute(p,o){if(o===null)return"";if(p===0)return o[0];let c="";for(;p>0;){if(p<o.length)return(o[p]||"")+c;c=String(p%10)+c,p=Math.floor(p/10)}return"$"+c}}e.ReplacePattern=y;class S{constructor(p,o,c){this.staticValue=p,this.matchIndex=o,!c||c.length===0?this.caseOps=null:this.caseOps=c.slice(0)}static staticValue(p){return new S(p,-1,null)}static caseOps(p,o){return new S(null,p,o)}}e.ReplacePiece=S;class _{constructor(p){this._source=p,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(p){this._emitStatic(this._source.substring(this._lastCharIndex,p)),this._lastCharIndex=p}emitStatic(p,o){this._emitStatic(p),this._lastCharIndex=o}_emitStatic(p){p.length!==0&&(this._currentStaticPiece+=p)}emitMatchIndex(p,o,c){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(p,c),this._lastCharIndex=o}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new y(this._result)}}function d(f){if(!f||f.length===0)return new y(null);let p=[],o=new _(f);for(let c=0,a=f.length;c<a;c++){let s=f.charCodeAt(c);if(s===92){if(c++,c>=a)break;let l=f.charCodeAt(c);switch(l){case 92:o.emitUnchanged(c-1),o.emitStatic("\\",c+1);break;case 110:o.emitUnchanged(c-1),o.emitStatic(`
`,c+1);break;case 116:o.emitUnchanged(c-1),o.emitStatic("	",c+1);break;case 117:case 85:case 108:case 76:o.emitUnchanged(c-1),o.emitStatic("",c+1),p.push(String.fromCharCode(l));break}continue}if(s===36){if(c++,c>=a)break;let l=f.charCodeAt(c);if(l===36){o.emitUnchanged(c-1),o.emitStatic("$",c+1);continue}if(l===48||l===38){o.emitUnchanged(c-1),o.emitMatchIndex(0,c+1,p),p.length=0;continue}if(49<=l&&l<=57){let r=l-48;if(c+1<a){let t=f.charCodeAt(c+1);if(48<=t&&t<=57){c++,r=r*10+(t-48),o.emitUnchanged(c-2),o.emitMatchIndex(r,c+1,p),p.length=0;continue}}o.emitUnchanged(c-1),o.emitMatchIndex(r,c+1,p),p.length=0;continue}}}return o.finalize()}e.parseReplaceString=d}),define(Q[170],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const C=4278190080;class k{constructor(S,_,d){if(S.length!==_.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=_,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=d,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],_=(d,f)=>{let p=S[S.length-1];return this.getStartLineNumber(p)<=d&&this.getEndLineNumber(p)>=f};for(let d=0,f=this._startIndexes.length;d<f;d++){let p=this._startIndexes[d],o=this._endIndexes[d];if(p>e.MAX_LINE_NUMBER||o>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!_(p,o);)S.pop();let c=S.length>0?S[S.length-1]:-1;S.push(d),this._startIndexes[d]=p+((c&255)<<24),this._endIndexes[d]=o+((c&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let _=S/32|0,d=S%32;return(this._collapseStates[_]&1<<d)!=0}setCollapsed(S,_){let d=S/32|0,f=S%32,p=this._collapseStates[d];_?this._collapseStates[d]=p|1<<f:this._collapseStates[d]=p&~(1<<f)}toRegion(S){return new M(this,S)}getParentIndex(S){this.ensureParentIndices();let _=((this._startIndexes[S]&C)>>>24)+((this._endIndexes[S]&C)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(S,_){return this.getStartLineNumber(S)<=_&&this.getEndLineNumber(S)>=_}findIndex(S){let _=0,d=this._startIndexes.length;if(d===0)return-1;for(;_<d;){let f=Math.floor((_+d)/2);S<this.getStartLineNumber(f)?d=f:_=f+1}return _-1}findRange(S){let _=this.findIndex(S);if(_>=0){if(this.getEndLineNumber(_)>=S)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,S))return _;_=this.getParentIndex(_)}}return-1}toString(){let S=[];for(let _=0;_<this.length;_++)S[_]=`[${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return S.join(", ")}}e.FoldingRegions=k;class M{constructor(S,_){this.ranges=S,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=M}),define(Q[395],J([0,1,4,170]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class M{constructor(a,s){this._updateEventEmitter=new C.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=s,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(a){if(!!a.length){a=a.sort((l,r)=>l.regionIndex-r.regionIndex);const s={};this._decorationProvider.changeDecorations(l=>{let r=0,t=-1,n=-1;const i=u=>{for(;r<u;){const h=this._regions.getEndLineNumber(r),v=this._regions.isCollapsed(r);h<=t&&l.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(v,h<=n)),v&&h>n&&(n=h),r++}};for(let u of a){let h=u.regionIndex,v=this._editorDecorationIds[h];if(v&&!s[v]){s[v]=!0,i(h);let m=!this._regions.isCollapsed(h);this._regions.setCollapsed(h,m),t=Math.max(t,this._regions.getEndLineNumber(h))}}i(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})}}update(a,s=[]){let l=[],r=(m,g)=>{for(let b of s)if(m<b&&b<=g)return!0;return!1},t=-1,n=(m,g)=>{const b=a.getStartLineNumber(m),w=a.getEndLineNumber(m);g&&r(b,w)&&(g=!1),a.setCollapsed(m,g);const L=this._textModel.getLineMaxColumn(b),E={startLineNumber:b,startColumn:Math.max(L-1,1),endLineNumber:b,endColumn:L};l.push({range:E,options:this._decorationProvider.getDecorationOption(g,w<=t)}),g&&w>t&&(t=w)},i=0,u=()=>{for(;i<this._regions.length;){let m=this._regions.isCollapsed(i);if(i++,m)return i-1}return-1},h=0,v=u();for(;v!==-1&&h<a.length;){let m=this._textModel.getDecorationRange(this._editorDecorationIds[v]);if(m){let g=m.startLineNumber;if(m.startColumn===Math.max(m.endColumn-1,1)&&this._textModel.getLineMaxColumn(g)===m.endColumn)for(;h<a.length;){let b=a.getStartLineNumber(h);if(g>=b)n(h,g===b),h++;else break}}v=u()}for(;h<a.length;)n(h,!1),h++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,l),this._regions=a,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let a=[];for(let s=0;s<this._regions.length;s++)if(this._regions.isCollapsed(s)){let l=this._textModel.getDecorationRange(this._editorDecorationIds[s]);if(l){let r=l.startLineNumber,t=l.endLineNumber+this._regions.getEndLineNumber(s)-this._regions.getStartLineNumber(s);a.push({startLineNumber:r,endLineNumber:t})}}if(a.length>0)return a}applyMemento(a){if(!!Array.isArray(a)){let s=[];for(let l of a){let r=this.getRegionAtLine(l.startLineNumber);r&&!r.isCollapsed&&s.push(r)}this.toggleCollapseState(s)}}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(a,s){let l=[];if(this._regions){let r=this._regions.findRange(a),t=1;for(;r>=0;){let n=this._regions.toRegion(r);(!s||s(n,t))&&l.push(n),t++,r=n.parentIndex}}return l}getRegionAtLine(a){if(this._regions){let s=this._regions.findRange(a);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(a,s){let l=[],r=a?a.regionIndex+1:0,t=a?a.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const n=[];for(let i=r,u=this._regions.length;i<u;i++){let h=this._regions.toRegion(i);if(this._regions.getStartLineNumber(i)<t){for(;n.length>0&&!h.containedBy(n[n.length-1]);)n.pop();n.push(h),s(h,n.length)&&l.push(h)}else break}}else for(let n=r,i=this._regions.length;n<i;n++){let u=this._regions.toRegion(n);if(this._regions.getStartLineNumber(n)<t)(!s||s(u))&&l.push(u);else break}return l}}e.FoldingModel=M;function y(c,a,s){let l=[];for(let r of s){let t=c.getRegionAtLine(r);if(t){const n=!t.isCollapsed;if(l.push(t),a>1){let i=c.getRegionsInside(t,(u,h)=>u.isCollapsed!==n&&h<a);l.push(...i)}}}c.toggleCollapseState(l)}e.toggleCollapseState=y;function S(c,a,s=Number.MAX_VALUE,l){let r=[];if(l&&l.length>0)for(let t of l){let n=c.getRegionAtLine(t);if(n&&(n.isCollapsed!==a&&r.push(n),s>1)){let i=c.getRegionsInside(n,(u,h)=>u.isCollapsed!==a&&h<s);r.push(...i)}}else{let t=c.getRegionsInside(null,(n,i)=>n.isCollapsed!==a&&i<s);r.push(...t)}c.toggleCollapseState(r)}e.setCollapseStateLevelsDown=S;function _(c,a,s,l){let r=[];for(let t of l){let n=c.getAllRegionsAtLine(t,(i,u)=>i.isCollapsed!==a&&u<=s);r.push(...n)}c.toggleCollapseState(r)}e.setCollapseStateLevelsUp=_;function d(c,a,s){let l=[];for(let r of s){let t=c.getAllRegionsAtLine(r,n=>n.isCollapsed!==a);t.length>0&&l.push(t[0])}c.toggleCollapseState(l)}e.setCollapseStateUp=d;function f(c,a,s,l){let r=(n,i)=>i===a&&n.isCollapsed!==s&&!l.some(u=>n.containsLine(u)),t=c.getRegionsInside(null,r);c.toggleCollapseState(t)}e.setCollapseStateAtLevel=f;function p(c,a,s){let l=c.textModel,r=c.regions,t=[];for(let n=r.length-1;n>=0;n--)if(s!==r.isCollapsed(n)){let i=r.getStartLineNumber(n);a.test(l.getLineContent(i))&&t.push(r.toRegion(n))}c.toggleCollapseState(t)}e.setCollapseStateForMatchingLines=p;function o(c,a,s){let l=c.regions,r=[];for(let t=l.length-1;t>=0;t--)s!==l.isCollapsed(t)&&a===l.getType(t)&&r.push(l.toRegion(t));c.toggleCollapseState(r)}e.setCollapseStateForType=o}),define(Q[396],J([0,1,4,3,19]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{constructor(f){this._updateEventEmitter=new C.Emitter,this._foldingModel=f,this._foldingModelListener=f.onDidChange(p=>this.updateHiddenRanges()),this._hiddenRanges=[],f.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let f=!1,p=[],o=0,c=0,a=Number.MAX_VALUE,s=-1,l=this._foldingModel.regions;for(;o<l.length;o++)if(!!l.isCollapsed(o)){let r=l.getStartLineNumber(o)+1,t=l.getEndLineNumber(o);a<=r&&t<=s||(!f&&c<this._hiddenRanges.length&&this._hiddenRanges[c].startLineNumber===r&&this._hiddenRanges[c].endLineNumber===t?(p.push(this._hiddenRanges[c]),c++):(f=!0,p.push(new k.Range(r,1,t,1))),a=r,s=t)}(f||c<this._hiddenRanges.length)&&this.applyHiddenRanges(p)}applyMemento(f){if(!Array.isArray(f)||f.length===0)return!1;let p=[];for(let o of f){if(!o.startLineNumber||!o.endLineNumber)return!1;p.push(new k.Range(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(p),!0}getMemento(){return this._hiddenRanges.map(f=>({startLineNumber:f.startLineNumber-1,endLineNumber:f.endLineNumber}))}applyHiddenRanges(f){this._hiddenRanges=f,this._updateEventEmitter.fire(f)}hasRanges(){return this._hiddenRanges.length>0}isHidden(f){return _(this._hiddenRanges,f)!==null}adjustSelections(f){let p=!1,o=this._foldingModel.textModel,c=null,a=s=>((!c||!S(s,c))&&(c=_(this._hiddenRanges,s)),c?c.startLineNumber-1:null);for(let s=0,l=f.length;s<l;s++){let r=f[s],t=a(r.startLineNumber);t&&(r=r.setStartPosition(t,o.getLineMaxColumn(t)),p=!0);let n=a(r.endLineNumber);n&&(r=r.setEndPosition(n,o.getLineMaxColumn(n)),p=!0),f[s]=r}return p}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function S(d,f){return d>=f.startLineNumber&&d<=f.endLineNumber}function _(d,f){let p=M.findFirstInSorted(d,o=>f<o.startLineNumber)-1;return p>=0&&d[p].endLineNumber>=f?d[p]:null}}),define(Q[223],J([0,1,11,170,2]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const y=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class _{constructor(c,a,s,l=y){this.editorModel=c,this.providers=a,this.limit=l,this.id=e.ID_SYNTAX_PROVIDER;for(const r of a)typeof r.onDidChange=="function"&&(this.disposables||(this.disposables=new M.DisposableStore),this.disposables.add(r.onDidChange(s)))}compute(c){return d(this.providers,this.editorModel,c).then(a=>a?p(a,this.limit):null)}dispose(){var c;(c=this.disposables)===null||c===void 0||c.dispose()}}e.SyntaxRangeProvider=_;function d(o,c,a){let s=null,l=o.map((r,t)=>Promise.resolve(r.provideFoldingRanges(c,S,a)).then(n=>{if(!a.isCancellationRequested&&Array.isArray(n)){Array.isArray(s)||(s=[]);let i=c.getLineCount();for(let u of n)u.start>0&&u.end>u.start&&u.end<=i&&s.push({start:u.start,end:u.end,rank:t,kind:u.kind})}},C.onUnexpectedExternalError));return Promise.all(l).then(r=>s)}class f{constructor(c){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=c}add(c,a,s,l){if(!(c>k.MAX_LINE_NUMBER||a>k.MAX_LINE_NUMBER)){let r=this._length;this._startIndexes[r]=c,this._endIndexes[r]=a,this._nestingLevels[r]=l,this._types[r]=s,this._length++,l<30&&(this._nestingLevelCounts[l]=(this._nestingLevelCounts[l]||0)+1)}}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let c=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let s=0;s<this._length;s++)c[s]=this._startIndexes[s],a[s]=this._endIndexes[s];return new k.FoldingRegions(c,a,this._types)}else{let c=0,a=this._nestingLevelCounts.length;for(let t=0;t<this._nestingLevelCounts.length;t++){let n=this._nestingLevelCounts[t];if(n){if(n+c>this._foldingRangesLimit){a=t;break}c+=n}}let s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit),r=[];for(let t=0,n=0;t<this._length;t++){let i=this._nestingLevels[t];(i<a||i===a&&c++<this._foldingRangesLimit)&&(s[n]=this._startIndexes[t],l[n]=this._endIndexes[t],r[n]=this._types[t],n++)}return new k.FoldingRegions(s,l,r)}}}e.RangesCollector=f;function p(o,c){let a=o.sort((t,n)=>{let i=t.start-n.start;return i===0&&(i=t.rank-n.rank),i}),s=new f(c),l,r=[];for(let t of a)if(!l)l=t,s.add(t.start,t.end,t.kind&&t.kind.value,r.length);else if(t.start>l.start)if(t.end<=l.end)r.push(l),l=t,s.add(t.start,t.end,t.kind&&t.kind.value,r.length);else{if(t.start>l.end){do l=r.pop();while(l&&t.start>l.end);l&&r.push(l),l=t}s.add(t.start,t.end,t.kind&&t.kind.value,r.length)}return s.toIndentRanges()}e.sanitizeRanges=p}),define(Q[397],J([0,1,223]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class k{constructor(y,S,_,d){if(this.editorModel=y,this.id=e.ID_INIT_PROVIDER,S.length){let f=p=>({range:{startLineNumber:p.startLineNumber,startColumn:0,endLineNumber:p.endLineNumber,endColumn:y.getLineLength(p.endLineNumber)},options:{stickiness:1}});this.decorationIds=y.deltaDecorations([],S.map(f)),this.timeout=setTimeout(_,d)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(y){let S=[];if(this.decorationIds)for(let _ of this.decorationIds){let d=this.editorModel.getDecorationRange(_);d&&S.push({start:d.startLineNumber,end:d.endLineNumber,rank:1})}return Promise.resolve(C.sanitizeRanges(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=k}),define(Q[224],J([0,1,61,3]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class M{static _handleEolEdits(S,_){let d,f=[];for(let p of _)typeof p.eol=="number"&&(d=p.eol),p.range&&typeof p.text=="string"&&f.push(p);return typeof d=="number"&&S.hasModel()&&S.getModel().pushEOL(d),f}static _isFullModelReplaceEdit(S,_){if(!S.hasModel())return!1;const d=S.getModel(),f=d.validateRange(_.range);return d.getFullModelRange().equalsRange(f)}static execute(S,_,d){d&&S.pushUndoStop();const f=M._handleEolEdits(S,_);f.length===1&&M._isFullModelReplaceEdit(S,f[0])?S.executeEdits("formatEditsCommand",f.map(p=>C.EditOperation.replace(k.Range.lift(p.range),p.text))):S.executeEdits("formatEditsCommand",f.map(p=>C.EditOperation.replaceMove(k.Range.lift(p.range),p.text))),d&&S.pushUndoStop()}}e.FormattingEdit=M}),define(Q[225],J([0,1,2,4,17]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function y(o,c){return!!o[c]}class S{constructor(c,a){this.target=c.target,this.hasTriggerModifier=y(c.event,a.triggerModifier),this.hasSideBySideModifier=y(c.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=c.event.detail<=1}}e.ClickLinkMouseEvent=S;class _{constructor(c,a){this.keyCodeIsTriggerKey=c.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=c.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=y(c,a.triggerModifier)}}e.ClickLinkKeyboardEvent=_;class d{constructor(c,a,s,l){this.triggerKey=c,this.triggerModifier=a,this.triggerSideBySideKey=s,this.triggerSideBySideModifier=l}equals(c){return this.triggerKey===c.triggerKey&&this.triggerModifier===c.triggerModifier&&this.triggerSideBySideKey===c.triggerSideBySideKey&&this.triggerSideBySideModifier===c.triggerSideBySideModifier}}e.ClickLinkOptions=d;function f(o){return o==="altKey"?M.isMacintosh?new d(57,"metaKey",6,"altKey"):new d(5,"ctrlKey",6,"altKey"):M.isMacintosh?new d(6,"altKey",57,"metaKey"):new d(6,"altKey",5,"ctrlKey")}class p extends C.Disposable{constructor(c){super();this._onMouseMoveOrRelevantKeyDown=this._register(new k.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new k.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new k.Emitter),this.onCancel=this._onCancel.event,this._editor=c,this._opts=f(this._editor.getOption(64)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(64)){const s=f(this._editor.getOption(64));if(this._opts.equals(s))return;this._opts=s,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new S(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new S(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new S(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new _(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new _(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(c){c.selection&&c.selection.startColumn!==c.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(c){this._lastMouseMoveEvent=c,this._onMouseMoveOrRelevantKeyDown.fire([c,null])}_onEditorMouseDown(c){this._hasTriggerKeyOnMouseDown=c.hasTriggerModifier,this._lineNumberOnMouseDown=c.target.position?c.target.position.lineNumber:0}_onEditorMouseUp(c){const a=c.target.position?c.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===a&&this._onExecute.fire(c)}_onEditorKeyDown(c){this._lastMouseMoveEvent&&(c.keyCodeIsTriggerKey||c.keyCodeIsSideBySideKey&&c.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,c]):c.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(c){c.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=p}),define(Q[226],J([0,1,15,11]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class M{constructor(S,_,d,f,p){this._computer=S,this._state=0,this._hoverTime=p,this._firstWaitScheduler=new C.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new C.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new C.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=_,this._errorCallback=d,this._progressCallback=f}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=C.createCancelablePromise(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):k.onUnexpectedError(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=M}),define(Q[398],J([0,1,52]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class k extends C.Widget{constructor(y,S){super();this._id=y,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(38)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(y){this._isVisible=y,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(y){this._showAtLineNumber=y,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),_=this._editor.getTopForLineNumber(this._showAtLineNumber),d=this._editor.getScrollTop(),f=this._editor.getOption(53),p=this._domNode.clientHeight,o=_-d-(p-f)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(o),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const y=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...y,...S].forEach(_=>this._editor.applyFontInfo(_))}updateContents(y){this._domNode.textContent="",this._domNode.appendChild(y),this.updateFont()}}e.GlyphHoverWidget=k}),define(Q[399],J([0,1,20]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(y,S,_){this._editRange=y,this._originalSelection=S,this._text=_}getEditOperations(y,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,S){const d=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new C.Selection(d.endLineNumber,Math.min(this._originalSelection.positionColumn,d.endColumn),d.endLineNumber,Math.min(this._originalSelection.positionColumn,d.endColumn)):new C.Selection(d.endLineNumber,d.endColumn-this._text.length,d.endLineNumber,d.endColumn)}}e.InPlaceReplaceCommand=k}),define(Q[227],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function C(M,y){let S=0;for(let _=0;_<M.length;_++)M.charAt(_)==="	"?S+=y:S++;return S}e.getSpaceCnt=C;function k(M,y,S){M=M<0?0:M;let _="";if(!S){let d=Math.floor(M/y);M=M%y;for(let f=0;f<d;f++)_+="	"}for(let d=0;d<M;d++)_+=" ";return _}e.generateIndent=k}),define(Q[400],J([0,1,3,20]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class M{constructor(S,_,d){this._selection=S,this._isCopyingDown=_,this._noop=d||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,_){let d=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,d.startLineNumber<d.endLineNumber&&d.endColumn===1&&(this._endLineNumberDelta=1,d=d.setEndPosition(d.endLineNumber-1,S.getLineMaxColumn(d.endLineNumber-1)));let f=[];for(let o=d.startLineNumber;o<=d.endLineNumber;o++)f.push(S.getLineContent(o));const p=f.join(`
`);p===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?_.addEditOperation(new C.Range(d.endLineNumber,S.getLineMaxColumn(d.endLineNumber),d.endLineNumber+1,1),d.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?_.addEditOperation(new C.Range(d.startLineNumber,1,d.startLineNumber,1),p+`
`):_.addEditOperation(new C.Range(d.endLineNumber,S.getLineMaxColumn(d.endLineNumber),d.endLineNumber,S.getLineMaxColumn(d.endLineNumber)),`
`+p),this._selectionId=_.trackSelection(d),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,_){let d=_.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let f=d.startLineNumber,p=d.startColumn,o=d.endLineNumber,c=d.endColumn;this._startLineNumberDelta!==0&&(f=f+this._startLineNumberDelta,p=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,c=1),d=k.Selection.createWithDirection(f,p,o,c,this._selectionDirection)}return d}}e.CopyLinesCommand=M}),define(Q[401],J([0,1,61,3]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class M{constructor(d,f){this.selection=d,this.descending=f,this.selectionId=null}static getCollator(){return M._COLLATOR||(M._COLLATOR=new Intl.Collator),M._COLLATOR}getEditOperations(d,f){let p=S(d,this.selection,this.descending);p&&f.addEditOperation(p.range,p.text),this.selectionId=f.trackSelection(this.selection)}computeCursorState(d,f){return f.getTrackedSelection(this.selectionId)}static canRun(d,f,p){if(d===null)return!1;let o=y(d,f,p);if(!o)return!1;for(let c=0,a=o.before.length;c<a;c++)if(o.before[c]!==o.after[c])return!0;return!1}}e.SortLinesCommand=M,M._COLLATOR=null;function y(_,d,f){let p=d.startLineNumber,o=d.endLineNumber;if(d.endColumn===1&&o--,p>=o)return null;let c=[];for(let s=p;s<=o;s++)c.push(_.getLineContent(s));let a=c.slice(0);return a.sort(M.getCollator().compare),f===!0&&(a=a.reverse()),{startLineNumber:p,endLineNumber:o,before:c,after:a}}function S(_,d,f){let p=y(_,d,f);return p?C.EditOperation.replace(new k.Range(p.startLineNumber,1,p.endLineNumber,_.getLineMaxColumn(p.endLineNumber)),p.after.join(`
`)):null}}),define(Q[228],J([0,1,12,3,71]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class y{provideSelectionRanges(_,d){return De(this,void 0,void 0,function*(){const f=[];for(const p of d){const o=[];f.push(o);const c=new Map;yield new Promise(a=>y._bracketsRightYield(a,0,_,p,c)),yield new Promise(a=>y._bracketsLeftYield(a,0,_,p,c,o))}return f})}static _bracketsRightYield(_,d,f,p,o){const c=new Map,a=Date.now();for(;;){if(d>=y._maxRounds){_();break}if(!p){_();break}let s=f.findNextBracket(p);if(!s){_();break}if(Date.now()-a>y._maxDuration){setTimeout(()=>y._bracketsRightYield(_,d+1,f,p,o));break}const r=s.close[0];if(s.isOpen){let t=c.has(r)?c.get(r):0;c.set(r,t+1)}else{let t=c.has(r)?c.get(r):0;if(t-=1,c.set(r,Math.max(0,t)),t<0){let n=o.get(r);n||(n=new M.LinkedList,o.set(r,n)),n.push(s.range)}}p=s.range.getEndPosition()}}static _bracketsLeftYield(_,d,f,p,o,c){const a=new Map,s=Date.now();for(;;){if(d>=y._maxRounds&&o.size===0){_();break}if(!p){_();break}let l=f.findPrevBracket(p);if(!l){_();break}if(Date.now()-s>y._maxDuration){setTimeout(()=>y._bracketsLeftYield(_,d+1,f,p,o,c));break}const t=l.close[0];if(l.isOpen){let n=a.has(t)?a.get(t):0;if(n-=1,a.set(t,Math.max(0,n)),n<0){let i=o.get(t);if(i){let u=i.shift();i.size===0&&o.delete(t);const h=k.Range.fromPositions(l.range.getEndPosition(),u.getStartPosition()),v=k.Range.fromPositions(l.range.getStartPosition(),u.getEndPosition());c.push({range:h}),c.push({range:v}),y._addBracketLeading(f,v,c)}}}else{let n=a.has(t)?a.get(t):0;a.set(t,n+1)}p=l.range.getStartPosition()}}static _addBracketLeading(_,d,f){if(d.startLineNumber!==d.endLineNumber){const p=d.startLineNumber,o=_.getLineFirstNonWhitespaceColumn(p);o!==0&&o!==d.startColumn&&(f.push({range:k.Range.fromPositions(new C.Position(p,o),d.getEndPosition())}),f.push({range:k.Range.fromPositions(new C.Position(p,1),d.getEndPosition())}));const c=p-1;if(c>0){const a=_.getLineFirstNonWhitespaceColumn(c);a===d.startColumn&&a!==_.getLineLastNonWhitespaceColumn(c)&&(f.push({range:k.Range.fromPositions(new C.Position(c,a),d.getEndPosition())}),f.push({range:k.Range.fromPositions(new C.Position(c,1),d.getEndPosition())}))}}}}e.BracketSelectionRangeProvider=y,y._maxDuration=30,y._maxRounds=2}),define(Q[402],J([0,1,3,8]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class M{provideSelectionRanges(S,_){const d=[];for(const f of _){const p=[];d.push(p),this._addInWordRanges(p,S,f),this._addWordRanges(p,S,f),this._addWhitespaceLine(p,S,f),p.push({range:S.getFullModelRange()})}return d}_addInWordRanges(S,_,d){const f=_.getWordAtPosition(d);if(!!f){let{word:p,startColumn:o}=f,c=d.column-o,a=c,s=c,l=0;for(;a>=0;a--){let r=p.charCodeAt(a);if(a!==c&&(r===95||r===45))break;if(k.isLowerAsciiLetter(r)&&k.isUpperAsciiLetter(l))break;l=r}for(a+=1;s<p.length;s++){let r=p.charCodeAt(s);if(k.isUpperAsciiLetter(r)&&k.isLowerAsciiLetter(l))break;if(r===95||r===45)break;l=r}a<s&&S.push({range:new C.Range(d.lineNumber,o+a,d.lineNumber,o+s)})}}_addWordRanges(S,_,d){const f=_.getWordAtPosition(d);f&&S.push({range:new C.Range(d.lineNumber,f.startColumn,d.lineNumber,f.endColumn)})}_addWhitespaceLine(S,_,d){_.getLineLength(d.lineNumber)>0&&_.getLineFirstNonWhitespaceColumn(d.lineNumber)===0&&_.getLineLastNonWhitespaceColumn(d.lineNumber)===0&&S.push({range:new C.Range(d.lineNumber,1,d.lineNumber,_.getLineMaxColumn(d.lineNumber))})}}e.WordSelectionRangeProvider=M}),define(Q[130],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class C{constructor(){this.value="",this.pos=0}static isDigitCharacter(l){return l>=48&&l<=57}static isVariableCharacter(l){return l===95||l>=97&&l<=122||l>=65&&l<=90}text(l){this.value=l,this.pos=0}tokenText(l){return this.value.substr(l.pos,l.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let l=this.pos,r=0,t=this.value.charCodeAt(l),n;if(n=C._table[t],typeof n=="number")return this.pos+=1,{type:n,pos:l,len:1};if(C.isDigitCharacter(t)){n=8;do r+=1,t=this.value.charCodeAt(l+r);while(C.isDigitCharacter(t));return this.pos+=r,{type:n,pos:l,len:r}}if(C.isVariableCharacter(t)){n=9;do t=this.value.charCodeAt(l+ ++r);while(C.isVariableCharacter(t)||C.isDigitCharacter(t));return this.pos+=r,{type:n,pos:l,len:r}}n=10;do r+=1,t=this.value.charCodeAt(l+r);while(!isNaN(t)&&typeof C._table[t]=="undefined"&&!C.isDigitCharacter(t)&&!C.isVariableCharacter(t));return this.pos+=r,{type:n,pos:l,len:r}}}e.Scanner=C,C._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class k{constructor(){this._children=[]}appendChild(l){return l instanceof M&&this._children[this._children.length-1]instanceof M?this._children[this._children.length-1].value+=l.value:(l.parent=this,this._children.push(l)),this}replace(l,r){const{parent:t}=l,n=t.children.indexOf(l),i=t.children.slice(0);i.splice(n,1,...r),t._children=i,function u(h,v){for(const m of h)m.parent=v,u(m.children,m)}(r,t)}get children(){return this._children}get snippet(){let l=this;for(;;){if(!l)return;if(l instanceof c)return l;l=l.parent}}toString(){return this.children.reduce((l,r)=>l+r.toString(),"")}len(){return 0}}e.Marker=k;class M extends k{constructor(l){super();this.value=l}toString(){return this.value}len(){return this.value.length}clone(){return new M(this.value)}}e.Text=M;class y extends k{}e.TransformableMarker=y;class S extends y{constructor(l){super();this.index=l}static compareByIndex(l,r){return l.index===r.index?0:l.isFinalTabstop?1:r.isFinalTabstop||l.index<r.index?-1:l.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){let l=new S(this.index);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(r=>r.clone()),l}}e.Placeholder=S;class _ extends k{constructor(){super(...arguments);this.options=[]}appendChild(l){return l instanceof M&&(l.parent=this,this.options.push(l)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let l=new _;return this.options.forEach(l.appendChild,l),l}}e.Choice=_;class d extends k{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(l){const r=this;let t=!1,n=l.replace(this.regexp,function(){return t=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!t&&this._children.some(i=>i instanceof f&&Boolean(i.elseValue))&&(n=this._replace([])),n}_replace(l){let r="";for(const t of this._children)if(t instanceof f){let n=l[t.index]||"";n=t.resolve(n),r+=n}else r+=t.toString();return r}toString(){return""}clone(){let l=new d;return l.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),l._children=this.children.map(r=>r.clone()),l}}e.Transform=d;class f extends k{constructor(l,r,t,n){super();this.index=l,this.shorthandName=r,this.ifValue=t,this.elseValue=n}resolve(l){return this.shorthandName==="upcase"?l?l.toLocaleUpperCase():"":this.shorthandName==="downcase"?l?l.toLocaleLowerCase():"":this.shorthandName==="capitalize"?l?l[0].toLocaleUpperCase()+l.substr(1):"":this.shorthandName==="pascalcase"?l?this._toPascalCase(l):"":Boolean(l)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(l)&&typeof this.elseValue=="string"?this.elseValue:l||""}_toPascalCase(l){const r=l.match(/[a-z]+/gi);return r?r.map(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}).join(""):l}clone(){return new f(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=f;class p extends y{constructor(l){super();this.name=l}resolve(l){let r=l.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new M(r)],!0):!1}clone(){const l=new p(this.name);return this.transform&&(l.transform=this.transform.clone()),l._children=this.children.map(r=>r.clone()),l}}e.Variable=p;function o(s,l){const r=[...s];for(;r.length>0;){const t=r.shift();if(!l(t))break;r.unshift(...t.children)}}class c extends k{get placeholderInfo(){if(!this._placeholders){let l=[],r;this.walk(function(t){return t instanceof S&&(l.push(t),r=!r||r.index<t.index?t:r),!0}),this._placeholders={all:l,last:r}}return this._placeholders}get placeholders(){const{all:l}=this.placeholderInfo;return l}offset(l){let r=0,t=!1;return this.walk(n=>n===l?(t=!0,!1):(r+=n.len(),!0)),t?r:-1}fullLen(l){let r=0;return o([l],t=>(r+=t.len(),!0)),r}enclosingPlaceholders(l){let r=[],{parent:t}=l;for(;t;)t instanceof S&&r.push(t),t=t.parent;return r}resolveVariables(l){return this.walk(r=>(r instanceof p&&r.resolve(l)&&(this._placeholders=void 0),!0)),this}appendChild(l){return this._placeholders=void 0,super.appendChild(l)}replace(l,r){return this._placeholders=void 0,super.replace(l,r)}clone(){let l=new c;return this._children=this.children.map(r=>r.clone()),l}walk(l){o(this.children,l)}}e.TextmateSnippet=c;class a{constructor(){this._scanner=new C,this._token={type:14,pos:0,len:0}}static escape(l){return l.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(l){return/\${?CLIPBOARD/.test(l)}parse(l,r,t){this._scanner.text(l),this._token=this._scanner.next();const n=new c;for(;this._parse(n););const i=new Map,u=[];let h=0;n.walk(v=>(v instanceof S&&(h+=1,v.isFinalTabstop?i.set(0,void 0):!i.has(v.index)&&v.children.length>0?i.set(v.index,v.children):u.push(v)),!0));for(const v of u){const m=i.get(v.index);if(m){const g=new S(v.index);g.transform=v.transform;for(const b of m)g.appendChild(b.clone());n.replace(v,[g])}}return t||(t=h>0&&r),!i.has(0)&&t&&n.appendChild(new S(0)),n}_accept(l,r){if(l===void 0||this._token.type===l){let t=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),t}return!1}_backTo(l){return this._scanner.pos=l.pos+l.len,this._token=l,!1}_until(l){const r=this._token;for(;this._token.type!==l;){if(this._token.type===14)return!1;if(this._token.type===5){const n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}const t=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),t}_parse(l){return this._parseEscaped(l)||this._parseTabstopOrVariableName(l)||this._parseComplexPlaceholder(l)||this._parseComplexVariable(l)||this._parseAnything(l)}_parseEscaped(l){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,l.appendChild(new M(r)),!0):!1}_parseTabstopOrVariableName(l){let r;const t=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(l.appendChild(/^\d+$/.test(r)?new S(Number(r)):new p(r)),!0):this._backTo(t)}_parseComplexPlaceholder(l){let r;const t=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(t);const i=new S(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(i),!0;if(!this._parse(i))return l.appendChild(new M("${"+r+":")),i.children.forEach(l.appendChild,l),!0}else if(i.index>0&&this._accept(7)){const u=new _;for(;;){if(this._parseChoiceElement(u)){if(this._accept(2))continue;if(this._accept(7)&&(i.appendChild(u),this._accept(4)))return l.appendChild(i),!0}return this._backTo(t),!1}}else return this._accept(6)?this._parseTransform(i)?(l.appendChild(i),!0):(this._backTo(t),!1):this._accept(4)?(l.appendChild(i),!0):this._backTo(t)}_parseChoiceElement(l){const r=this._token,t=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(r),!1;t.push(n)}return t.length===0?(this._backTo(r),!1):(l.appendChild(new M(t.join(""))),!0)}_parseComplexVariable(l){let r;const t=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(t);const i=new p(r);if(this._accept(1))for(;;){if(this._accept(4))return l.appendChild(i),!0;if(!this._parse(i))return l.appendChild(new M("${"+r+":")),i.children.forEach(l.appendChild,l),!0}else return this._accept(6)?this._parseTransform(i)?(l.appendChild(i),!0):(this._backTo(t),!1):this._accept(4)?(l.appendChild(i),!0):this._backTo(t)}_parseTransform(l){let r=new d,t="",n="";for(;!this._accept(6);){let i;if(i=this._accept(5,!0)){i=this._accept(6,!0)||i,t+=i;continue}if(this._token.type!==14){t+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let i;if(i=this._accept(5,!0)){i=this._accept(5,!0)||this._accept(6,!0)||i,r.appendChild(new M(i));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(t,n)}catch(i){return!1}return l.transform=r,!0}_parseFormatString(l){const r=this._token;if(!this._accept(0))return!1;let t=!1;this._accept(3)&&(t=!0);let n=this._accept(8,!0);if(n)if(t){if(this._accept(4))return l.appendChild(new f(Number(n))),!0;if(!this._accept(1))return this._backTo(r),!1}else return l.appendChild(new f(Number(n))),!0;else return this._backTo(r),!1;if(this._accept(6)){let i=this._accept(9,!0);return!i||!this._accept(4)?(this._backTo(r),!1):(l.appendChild(new f(Number(n),i)),!0)}else if(this._accept(11)){let i=this._until(4);if(i)return l.appendChild(new f(Number(n),void 0,i,void 0)),!0}else if(this._accept(12)){let i=this._until(4);if(i)return l.appendChild(new f(Number(n),void 0,void 0,i)),!0}else if(this._accept(13)){let i=this._until(1);if(i){let u=this._until(4);if(u)return l.appendChild(new f(Number(n),void 0,i,u)),!0}}else{let i=this._until(4);if(i)return l.appendChild(new f(Number(n),void 0,void 0,i)),!0}return this._backTo(r),!1}_parseAnything(l){return this._token.type!==14?(l.appendChild(new M(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=a}),define(Q[403],J([0,1,66,8,19]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class y{constructor(d,f){this.leadingLineContent=d,this.characterCountDelta=f}}e.LineContext=y;class S{constructor(d,f,p,o,c,a,s){this.clipboardText=s,this._snippetCompareFn=S._compareCompletionItems,this._items=d,this._column=f,this._wordDistance=o,this._options=c,this._refilterKind=1,this._lineContext=p,a==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(d){(this._lineContext.leadingLineContent!==d.leadingLineContent||this._lineContext.characterCountDelta!==d.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<d.characterCountDelta&&this._filteredItems?2:1,this._lineContext=d)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const d=new Set;for(let[f,p]of this._providerInfo)p&&d.add(f);return d}adopt(d){let f=[];for(let p=0;p<this._items.length;)d.has(this._items[p].provider)?p++:(f.push(this._items[p]),this._items[p]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,f}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const d=[],{leadingLineContent:f,characterCountDelta:p}=this._lineContext;let o="",c="";const a=this._refilterKind===1?this._items:this._filteredItems,s=[],l=!this._options.filterGraceful||a.length>2e3?C.fuzzyScore:C.fuzzyScoreGracefulAggressive;for(let r=0;r<a.length;r++){const t=a[r];if(!t.isInvalid){this._providerInfo.set(t.provider,Boolean(t.container.incomplete));const n=t.position.column-t.editStart.column,i=n+p-(t.position.column-this._column);o.length!==i&&(o=i===0?"":f.slice(-i),c=o.toLowerCase());const u=typeof t.completion.label=="string"?t.completion.label:t.completion.label.name;if(t.word=o,i===0)t.score=C.FuzzyScore.Default;else{let h=0;for(;h<n;){const v=o.charCodeAt(h);if(v===32||v===9)h+=1;else break}if(h>=i)t.score=C.FuzzyScore.Default;else if(typeof t.completion.filterText=="string"){let v=l(o,c,h,t.completion.filterText,t.filterTextLow,0,!1);if(!v)continue;k.compareIgnoreCase(t.completion.filterText,u)===0?t.score=v:(t.score=C.anyScore(o,c,h,u,t.labelLow,0),t.score[0]=v[0])}else{let v=l(o,c,h,u,t.labelLow,0,!1);if(!v)continue;t.score=v}}t.idx=r,t.distance=this._wordDistance.distance(t.position,t.completion),s.push(t),d.push(u.length)}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:d.length?M.quickSelect(d.length-.85,d,(r,t)=>r-t):0}}static _compareCompletionItems(d,f){return d.score[0]>f.score[0]?-1:d.score[0]<f.score[0]?1:d.distance<f.distance?-1:d.distance>f.distance?1:d.idx<f.idx?-1:d.idx>f.idx?1:0}static _compareCompletionItemsSnippetsDown(d,f){if(d.completion.kind!==f.completion.kind){if(d.completion.kind===27)return 1;if(f.completion.kind===27)return-1}return S._compareCompletionItems(d,f)}static _compareCompletionItemsSnippetsUp(d,f){if(d.completion.kind!==f.completion.kind){if(d.completion.kind===27)return-1;if(f.completion.kind===27)return 1}return S._compareCompletionItems(d,f)}}e.CompletionModel=S}),define(Q[229],J([0,1,4,2,7,104]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new C.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new C.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new k.DisposableStore,this._size=new M.Dimension(0,0),this._minSize=new M.Dimension(0,0),this._maxSize=new M.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new y.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new y.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new y.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:y.OrthogonalEdge.North}),this._southSash=new y.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:y.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let d,f=0,p=0;this._sashListener.add(C.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{d===void 0&&(this._onDidWillResize.fire(),d=this._size,f=0,p=0)})),this._sashListener.add(C.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{d!==void 0&&(d=void 0,f=0,p=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{d&&(p=o.currentX-o.startX,this.layout(d.height+f,d.width+p),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{d&&(p=-(o.currentX-o.startX),this.layout(d.height+f,d.width+p),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{d&&(f=-(o.currentY-o.startY),this.layout(d.height+f,d.width+p),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{d&&(f=o.currentY-o.startY,this.layout(d.height+f,d.width+p),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(C.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(C.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(d,f,p,o){this._northSash.state=d?3:0,this._eastSash.state=f?3:0,this._southSash.state=p?3:0,this._westSash.state=o?3:0}layout(d=this.size.height,f=this.size.width){const{height:p,width:o}=this._minSize,{height:c,width:a}=this._maxSize;d=Math.max(p,Math.min(c,d)),f=Math.max(o,Math.min(a,f));const s=new M.Dimension(f,d);M.Dimension.equals(s,this._size)||(this.domNode.style.height=d+"px",this.domNode.style.width=f+"px",this._size=s,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}get size(){return this._size}set maxSize(d){this._maxSize=d}get maxSize(){return this._maxSize}set minSize(d){this._minSize=d}get minSize(){return this._minSize}set preferredSize(d){this._preferredSize=d}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(Q[404],J([0,1,19,2,90]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class y{constructor(_,d,f){this._disposables=new k.DisposableStore,this._disposables.add(d.onDidShow(()=>this._onItem(d.getFocusedItem()))),this._disposables.add(d.onDidFocus(this._onItem,this)),this._disposables.add(d.onDidHide(this.reset,this)),this._disposables.add(_.onWillType(p=>{if(this._active&&!d.isFrozen()){const o=p.charCodeAt(p.length-1);this._active.acceptCharacters.has(o)&&_.getOption(0)&&f(this._active.item)}}))}_onItem(_){if(!_||!C.isNonEmptyArray(_.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===_.item)){const d=new M.CharacterSet;for(const f of _.item.completion.commitCharacters)f.length>0&&d.add(f.charCodeAt(0));this._active={acceptCharacters:d,item:_}}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=y}),define(Q[405],J([0,1,2]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(y,S){this._disposables=new C.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(y.onWillType(()=>{if(!!this._empty&&!!y.hasModel()){const _=y.getSelections(),d=_.length;let f=!1;for(let o=0;o<d;o++)if(!_[o].isEmpty()){f=!0;break}if(!!f){this._lastOvertyped=[];const p=y.getModel();for(let o=0;o<d;o++){const c=_[o];if(p.getValueLengthInRange(c)>k._maxSelectionLength)return;this._lastOvertyped[o]={value:p.getValueInRange(c),multiline:c.startLineNumber!==c.endLineNumber}}this._empty=!1}}})),this._disposables.add(S.onDidCancel(_=>{!this._empty&&!_.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(y){if(!this._empty&&y>=0&&y<this._lastOvertyped.length)return this._lastOvertyped[y]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(Q[406],J([0,1,19,3,228]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class y{static create(_,d){return De(this,void 0,void 0,function*(){if(!d.getOption(101).localityBonus||!d.hasModel())return y.None;const f=d.getModel(),p=d.getPosition();if(!_.canComputeWordRanges(f.uri))return y.None;const[o]=yield new M.BracketSelectionRangeProvider().provideSelectionRanges(f,[p]);if(o.length===0)return y.None;const c=yield _.computeWordRanges(f.uri,o[0].range);if(!c)return y.None;const a=f.getWordUntilPosition(p);return delete c[a.word],new class extends y{distance(s,l){if(!p.equals(d.getPosition()))return 0;if(l.kind===17)return 2<<20;let r=typeof l.label=="string"?l.label:l.label.name,t=c[r];if(C.isFalsyOrEmpty(t))return 2<<20;let n=C.binarySearch(t,k.Range.fromPositions(s),k.Range.compareRangesUsingStarts),i=n>=0?t[n]:t[Math.max(0,~n-1)],u=o.length;for(const h of o){if(!k.Range.containsRange(h.range,i))break;u-=1}return u}}})}}e.WordDistance=y,y.None=new class extends y{distance(){return 0}}}),define(Q[230],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function C(s){return Array.isArray(s)}e.isFuzzyActionArr=C;function k(s){return!C(s)}e.isFuzzyAction=k;function M(s){return typeof s=="string"}e.isString=M;function y(s){return!M(s)}e.isIAction=y;function S(s){return!s}e.empty=S;function _(s,l){return s.ignoreCase&&l?l.toLowerCase():l}e.fixCase=_;function d(s){return s.replace(/[&<>'"_]/g,"-")}e.sanitize=d;function f(s,l){console.log(`${s.languageId}: ${l}`)}e.log=f;function p(s,l){return new Error(`${s.languageId}: ${l}`)}e.createError=p;function o(s,l,r,t,n){const i=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let u=null;return l.replace(i,function(h,v,m,g,b,w,L,E,N){return S(m)?S(g)?!S(b)&&b<t.length?_(s,t[b]):!S(L)&&s&&typeof s[L]=="string"?s[L]:(u===null&&(u=n.split("."),u.unshift(n)),!S(w)&&w<u.length?_(s,u[w]):""):_(s,r):"$"})}e.substituteMatches=o;function c(s,l){let r=l;for(;r&&r.length>0;){const t=s.tokenizer[r];if(t)return t;const n=r.lastIndexOf(".");n<0?r=null:r=r.substr(0,n)}return null}e.findRules=c;function a(s,l){let r=l;for(;r&&r.length>0;){if(s.stateNames[r])return!0;const n=r.lastIndexOf(".");n<0?r=null:r=r.substr(0,n)}return!1}e.stateExists=a}),define(Q[407],J([0,1,230]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(s,l){if(!l||!Array.isArray(l))return!1;for(const r of l)if(!s(r))return!1;return!0}function M(s,l){return typeof s=="boolean"?s:l}function y(s,l){return typeof s=="string"?s:l}function S(s){const l={};for(const r of s)l[r]=!0;return l}function _(s,l=!1){l&&(s=s.map(function(t){return t.toLowerCase()}));const r=S(s);return l?function(t){return r[t.toLowerCase()]!==void 0&&r.hasOwnProperty(t.toLowerCase())}:function(t){return r[t]!==void 0&&r.hasOwnProperty(t)}}function d(s,l){let r=0;for(;l.indexOf("@")>=0&&r<5;)r++,l=l.replace(/@(\w+)/g,function(n,i){let u="";if(typeof s[i]=="string")u=s[i];else if(s[i]&&s[i]instanceof RegExp)u=s[i].source;else throw s[i]===void 0?C.createError(s,"language definition does not contain attribute '"+i+"', used at: "+l):C.createError(s,"attribute reference '"+i+"' must be a string, used at: "+l);return C.empty(u)?"":"(?:"+u+")"});let t=(s.ignoreCase?"i":"")+(s.unicode?"u":"");return new RegExp(l,t)}function f(s,l,r,t){if(t<0)return s;if(t<l.length)return l[t];if(t>=100){t=t-100;let n=r.split(".");if(n.unshift(r),t<n.length)return n[t]}return null}function p(s,l,r,t){let n=-1,i=r,u=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);u&&(u[3]&&(n=parseInt(u[3]),u[2]&&(n=n+100)),i=u[4]);let h="~",v=i;!i||i.length===0?(h="!=",v=""):/^\w*$/.test(v)?h="==":(u=i.match(/^(@|!@|~|!~|==|!=)(.*)$/),u&&(h=u[1],v=u[2]));let m;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(v)){let g=_(v.split("|"),s.ignoreCase);m=function(b){return h==="~"?g(b):!g(b)}}else if(h==="@"||h==="!@"){let g=s[v];if(!g)throw C.createError(s,"the @ match target '"+v+"' is not defined, in rule: "+l);if(!k(function(w){return typeof w=="string"},g))throw C.createError(s,"the @ match target '"+v+"' must be an array of strings, in rule: "+l);let b=_(g,s.ignoreCase);m=function(w){return h==="@"?b(w):!b(w)}}else if(h==="~"||h==="!~")if(v.indexOf("$")<0){let g=d(s,"^"+v+"$");m=function(b){return h==="~"?g.test(b):!g.test(b)}}else m=function(g,b,w,L){return d(s,"^"+C.substituteMatches(s,v,b,w,L)+"$").test(g)};else if(v.indexOf("$")<0){let g=C.fixCase(s,v);m=function(b){return h==="=="?b===g:b!==g}}else{let g=C.fixCase(s,v);m=function(b,w,L,E,N){let I=C.substituteMatches(s,g,w,L,E);return h==="=="?b===I:b!==I}}return n===-1?{name:r,value:t,test:function(g,b,w,L){return m(g,g,b,w,L)}}:{name:r,value:t,test:function(g,b,w,L){let E=f(g,b,w,n);return m(E||"",g,b,w,L)}}}function o(s,l,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw C.createError(s,"a 'token' attribute must be of type string, in rule: "+l);{let t={token:r.token};if(r.token.indexOf("$")>=0&&(t.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")t.bracket=1;else if(r.bracket==="@close")t.bracket=-1;else throw C.createError(s,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);if(r.next){if(typeof r.next!="string")throw C.createError(s,"the next state must be a string value in rule: "+l);{let n=r.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!C.stateExists(s,C.substituteMatches(s,n,"",[],""))))throw C.createError(s,"the next state '"+r.next+"' is not defined in rule: "+l);t.next=n}}return typeof r.goBack=="number"&&(t.goBack=r.goBack),typeof r.switchTo=="string"&&(t.switchTo=r.switchTo),typeof r.log=="string"&&(t.log=r.log),typeof r.nextEmbedded=="string"&&(t.nextEmbedded=r.nextEmbedded,s.usesEmbedded=!0),t}}else if(Array.isArray(r)){let t=[];for(let n=0,i=r.length;n<i;n++)t[n]=o(s,l,r[n]);return{group:t}}else if(r.cases){let t=[];for(let i in r.cases)if(r.cases.hasOwnProperty(i)){const u=o(s,l,r.cases[i]);i==="@default"||i==="@"||i===""?t.push({test:void 0,value:u,name:i}):i==="@eos"?t.push({test:function(h,v,m,g){return g},value:u,name:i}):t.push(p(s,l,i,u))}const n=s.defaultToken;return{test:function(i,u,h,v){for(const m of t)if(!m.test||m.test(i,u,h,v))return m.value;return n}}}else throw C.createError(s,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}else return{token:""}}class c{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,r){let t;if(typeof r=="string")t=r;else if(r instanceof RegExp)t=r.source;else throw C.createError(l,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=t.length>0&&t[0]==="^",this.name=this.name+": "+t,this.regex=d(l,"^(?:"+(this.matchOnlyAtLineStart?t.substr(1):t)+")")}setAction(l,r){this.action=o(l,this.name,r)}}function a(s,l){if(!l||typeof l!="object")throw new Error("Monarch: expecting a language definition object");let r={};r.languageId=s,r.includeLF=M(l.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof l.start=="string"?l.start:null,r.ignoreCase=M(l.ignoreCase,!1),r.unicode=M(l.unicode,!1),r.tokenPostfix=y(l.tokenPostfix,"."+r.languageId),r.defaultToken=y(l.defaultToken,"source"),r.usesEmbedded=!1;let t=l;t.languageId=s,t.includeLF=r.includeLF,t.ignoreCase=r.ignoreCase,t.unicode=r.unicode,t.noThrow=r.noThrow,t.usesEmbedded=r.usesEmbedded,t.stateNames=l.tokenizer,t.defaultToken=r.defaultToken;function n(u,h,v){for(const m of v){let g=m.include;if(g){if(typeof g!="string")throw C.createError(r,"an 'include' attribute must be a string at: "+u);if(g[0]==="@"&&(g=g.substr(1)),!l.tokenizer[g])throw C.createError(r,"include target '"+g+"' is not defined at: "+u);n(u+"."+g,h,l.tokenizer[g])}else{const b=new c(u);if(Array.isArray(m)&&m.length>=1&&m.length<=3)if(b.setRegex(t,m[0]),m.length>=3)if(typeof m[1]=="string")b.setAction(t,{token:m[1],next:m[2]});else if(typeof m[1]=="object"){const w=m[1];w.next=m[2],b.setAction(t,w)}else throw C.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+u);else b.setAction(t,m[1]);else{if(!m.regex)throw C.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+u);m.name&&typeof m.name=="string"&&(b.name=m.name),m.matchOnlyAtStart&&(b.matchOnlyAtLineStart=M(m.matchOnlyAtLineStart,!1)),b.setRegex(t,m.regex),b.setAction(t,m.action)}h.push(b)}}}if(!l.tokenizer||typeof l.tokenizer!="object")throw C.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let u in l.tokenizer)if(l.tokenizer.hasOwnProperty(u)){r.start||(r.start=u);const h=l.tokenizer[u];r.tokenizer[u]=new Array,n("tokenizer."+u,r.tokenizer[u],h)}if(r.usesEmbedded=t.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw C.createError(r,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let i=[];for(let u of l.brackets){let h=u;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw C.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")i.push({token:h.token+r.tokenPostfix,open:C.fixCase(r,h.open),close:C.fixCase(r,h.close)});else throw C.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=i,r.noThrow=!0,r}e.compile=a}),define(Q[408],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(Q[409],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInput",e)}),define(Q[410],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(Q[231],J([0,1,156,410,27]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const y=k.localize(0,null),S=k.localize(1,null),_=k.localize(2,null);class d extends C.Checkbox{constructor(c){super({icon:M.Codicon.caseSensitive,title:y+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=d;class f extends C.Checkbox{constructor(c){super({icon:M.Codicon.wholeWord,title:S+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.WholeWordsCheckbox=f;class p extends C.Checkbox{constructor(c){super({icon:M.Codicon.regex,title:_+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}e.RegexCheckbox=p}),define(Q[411],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(Q[412],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/iconLabel/iconLabel",e)}),define(Q[171],J([0,1,7,153,2,117,39,17,21,55,412,25,297]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class c{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class a extends M.Disposable{constructor(n,i){super();this.hoverDelegate=void 0,this.customHovers=new Map,this.domNode=this._register(new c(C.append(n,C.$(".monaco-icon-label")))),this.labelContainer=C.append(this.domNode.element,C.$(".monaco-icon-label-container"));const u=C.append(this.labelContainer,C.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new c(C.append(this.labelContainer,C.$("span.monaco-icon-description-container")))),(i==null?void 0:i.supportHighlights)?this.nameNode=new r(u,!!i.supportIcons):this.nameNode=new s(u),(i==null?void 0:i.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new k.HighlightedLabel(C.append(this.descriptionContainer.element,C.$("span.label-description")),!!i.supportIcons):this.descriptionNodeFactory=()=>this._register(new c(C.append(this.descriptionContainer.element,C.$("span.label-description")))),(i==null?void 0:i.hoverDelegate)&&(this.hoverDelegate=i.hoverDelegate)}setLabel(n,i,u){const h=["monaco-icon-label"];u&&(u.extraClasses&&h.push(...u.extraClasses),u.italic&&h.push("italic"),u.strikethrough&&h.push("strikethrough")),this.domNode.className=h.join(" "),this.setupHover(this.labelContainer,u==null?void 0:u.title),this.nameNode.setLabel(n,u),(i||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof k.HighlightedLabel?(this.descriptionNode.set(i||"",u?u.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,u==null?void 0:u.descriptionTitle)):(this.descriptionNode.textContent=i||"",this.setupHover(this.descriptionNode.element,(u==null?void 0:u.descriptionTitle)||""),this.descriptionNode.empty=!i))}setupHover(n,i){const u=this.customHovers.get(n);if(u&&(u.dispose(),this.customHovers.delete(n)),!i){n.removeAttribute("title");return}return this.hoverDelegate?this.setupCustomHover(this.hoverDelegate,n,i):this.setupNativeHover(n,i)}static adjustXAndShowCustomHover(n,i,u,h){n&&h&&(i!==void 0&&(n.target.x=i+10),u.showHover(n))}getTooltipForCustom(n){if(d.isString(n))return()=>De(this,void 0,void 0,function*(){return n});if(d.isFunction(n.markdown))return n.markdown;{const i=n.markdown;return()=>De(this,void 0,void 0,function*(){return i})}}setupCustomHover(n,i,u){i.setAttribute("title",""),i.removeAttribute("title");let h=this.getTooltipForCustom(u);const v=_.isMacintosh?1500:500;let m,g,b=!1,w;function L(N){if(!b){w=new o.CancellationTokenSource;function I(D){b=!1,m=void 0,w.dispose(!0),T.dispose(),O.dispose()}const T=f.domEvent(i,C.EventType.MOUSE_LEAVE,!0)(I.bind(i)),O=f.domEvent(i,C.EventType.MOUSE_DOWN,!0)(I.bind(i));b=!0;function R(D){g=D.x}const F=f.domEvent(i,C.EventType.MOUSE_MOVE,!0)(R.bind(i));setTimeout(()=>De(this,void 0,void 0,function*(){if(b&&h){if(!m){const D={targetElements:[this],dispose:()=>{}};m={text:p.localize(0,null),target:D,anchorPosition:0},a.adjustXAndShowCustomHover(m,g,n,b);const B=yield h(w.token);B&&(m={text:B,target:D,anchorPosition:0})}a.adjustXAndShowCustomHover(m,g,n,b)}F.dispose()}),v)}}const E=this._register(f.domEvent(i,C.EventType.MOUSE_OVER,!0)(L.bind(i)));this.customHovers.set(i,E)}setupNativeHover(n,i){let u="";d.isString(i)?u=i:(i==null?void 0:i.markdownNotSupportedFallback)&&(u=i.markdownNotSupportedFallback),n.title=u}}e.IconLabel=a;class s{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,i){if(!(this.label===n&&S.equals(this.options,i)))if(this.label=n,this.options=i,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=C.append(this.container,C.$("a.label-name",{id:i==null?void 0:i.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let u=0;u<n.length;u++){const h=n[u],v=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${u}`;C.append(this.container,C.$("a.label-name",{id:v,"data-icon-label-count":n.length,"data-icon-label-index":u,role:"treeitem"},h)),u<n.length-1&&C.append(this.container,C.$("span.label-separator",void 0,(i==null?void 0:i.separator)||"/"))}}}}function l(t,n,i){if(!!i){let u=0;return t.map(h=>{const v={start:u,end:u+h.length},m=i.map(g=>y.Range.intersect(v,g)).filter(g=>!y.Range.isEmpty(g)).map(({start:g,end:b})=>({start:g-u,end:b-u}));return u=v.end+n.length,m})}}class r{constructor(n,i){this.container=n,this.supportIcons=i,this.label=void 0,this.singleLabel=void 0}setLabel(n,i){if(!(this.label===n&&S.equals(this.options,i)))if(this.label=n,this.options=i,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(C.append(this.container,C.$("a.label-name",{id:i==null?void 0:i.domId})),this.supportIcons)),this.singleLabel.set(n,i==null?void 0:i.matches,void 0,i==null?void 0:i.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const u=(i==null?void 0:i.separator)||"/",h=l(n,u,i==null?void 0:i.matches);for(let v=0;v<n.length;v++){const m=n[v],g=h?h[v]:void 0,b=(i==null?void 0:i.domId)&&`${i==null?void 0:i.domId}_${v}`,w=C.$("a.label-name",{id:b,"data-icon-label-count":n.length,"data-icon-label-index":v,role:"treeitem"});new k.HighlightedLabel(C.append(this.container,w),this.supportIcons).set(m,g,void 0,i==null?void 0:i.labelEscapeNewLines),v<n.length-1&&C.append(w,C.$("span.label-separator",void 0,u))}}}}}),define(Q[413],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(Q[414],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(Q[415],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/menu/menu",e)}),define(Q[416],J([5,6]),function(G,e){return G.create("vs/base/browser/ui/tree/abstractTree",e)}),define(Q[172],J([0,1,2,123,7,4,56,97,148,19,158,55,66,150,416,15,17,100,192,193,308]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class u extends p.ElementsDragAndDropData{constructor(A){super(A.elements.map(W=>W.element));this.data=A}}function h(B){return B instanceof p.ElementsDragAndDropData?new u(B):B}class v{constructor(A,W){this.modelProvider=A,this.dnd=W,this.autoExpandDisposable=C.Disposable.None}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(V=>V.element),W)}onDragStart(A,W){this.dnd.onDragStart&&this.dnd.onDragStart(h(A),W)}onDragOver(A,W,V,K,j=!0){const ee=this.dnd.onDragOver(h(A),W&&W.element,V,K),re=this.autoExpandNode!==W;if(re&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return ee;if(re&&typeof ee!="boolean"&&ee.autoExpand&&(this.autoExpandDisposable=l.disposableTimeout(()=>{const x=this.modelProvider(),z=x.getNodeLocation(W);x.isCollapsed(z)&&x.setCollapsed(z,!1),this.autoExpandNode=void 0},500)),typeof ee=="boolean"||!ee.accept||typeof ee.bubble=="undefined"||ee.feedback){if(!j){const x=typeof ee=="boolean"?ee:ee.accept,z=typeof ee=="boolean"?void 0:ee.effect;return{accept:x,effect:z,feedback:[V]}}return ee}if(ee.bubble===1){const x=this.modelProvider(),z=x.getNodeLocation(W),U=x.getParentNodeLocation(z),H=x.getNode(U),q=U&&x.getListIndex(U);return this.onDragOver(A,H,q,K,!1)}const te=this.modelProvider(),ae=te.getNodeLocation(W),Y=te.getListIndex(ae),P=te.getListRenderCount(ae);return Object.assign(Object.assign({},ee),{feedback:f.range(Y,Y+P)})}drop(A,W,V,K){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(A),W&&W.element,V,K)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function m(B,A){return A&&Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId(W){return A.identityProvider.getId(W.element)}},dnd:A.dnd&&new v(B,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getSetSize(W){const V=B(),K=V.getNodeLocation(W),j=V.getParentNodeLocation(K);return V.getNode(j).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?W=>A.accessibilityProvider.isChecked(W.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?W=>A.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return A.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return A.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?W=>A.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(W=>A.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:A.simpleKeyboardNavigation})}class g{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,W){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(A.element,W)}}e.ComposedTreeDelegate=g;var b;(function(B){B.None="none",B.OnHover="onHover",B.Always="always"})(b=e.RenderIndentGuides||(e.RenderIndentGuides={}));class w{constructor(A,W=[]){this._elements=W,this.onDidChange=y.Event.forEach(A,V=>this._elements=V)}get elements(){return this._elements}}class L{constructor(A,W,V,K,j={}){this.renderer=A,this.modelProvider=W,this.activeNodes=K,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new n.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=C.Disposable.None,this.disposables=new C.DisposableStore,this.templateId=A.templateId,this.updateOptions(j),y.Event.map(V,ee=>ee.node)(this.onDidChangeNodeTwistieState,this,this.disposables),A.onDidChangeTwistieState&&A.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(A={}){if(typeof A.indent!="undefined"&&(this.indent=t.clamp(A.indent,0,40)),typeof A.renderIndentGuides!="undefined"){const W=A.renderIndentGuides!==b.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const V=new C.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof A.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=A.hideTwistiesOfChildlessElements)}renderTemplate(A){const W=M.append(A,M.$(".monaco-tl-row")),V=M.append(W,M.$(".monaco-tl-indent")),K=M.append(W,M.$(".monaco-tl-twistie")),j=M.append(W,M.$(".monaco-tl-contents")),ee=this.renderer.renderTemplate(j);return{container:A,indent:V,twistie:K,indentGuidesDisposable:C.Disposable.None,templateData:ee}}renderElement(A,W,V,K){typeof K=="number"&&(this.renderedNodes.set(A,{templateData:V,height:K}),this.renderedElements.set(A.element,A));const j=L.DefaultIndent+(A.depth-1)*this.indent;V.twistie.style.paddingLeft=`${j}px`,V.indent.style.width=`${j+this.indent-16}px`,this.renderTwistie(A,V),typeof K=="number"&&this.renderIndentGuides(A,V),this.renderer.renderElement(A,W,V.templateData,K)}disposeElement(A,W,V,K){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(A,W,V.templateData,K),typeof K=="number"&&(this.renderedNodes.delete(A),this.renderedElements.delete(A.element))}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}onDidChangeTwistieState(A){const W=this.renderedElements.get(A);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(A){const W=this.renderedNodes.get(A);!W||(this.renderTwistie(A,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(A,W.templateData))}renderTwistie(A,W){W.twistie.classList.remove(...i.treeItemExpandedIcon.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(A.element,W.twistie)),A.collapsible&&(!this.hideTwistiesOfChildlessElements||A.visibleChildrenCount>0)?(V||W.twistie.classList.add(...i.treeItemExpandedIcon.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",A.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),A.collapsible?W.container.setAttribute("aria-expanded",String(!A.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(A,W){if(M.clearNode(W.indent),W.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){const V=new C.DisposableStore,K=this.modelProvider();let j=A;for(;;){const ee=K.getNodeLocation(j),re=K.getParentNodeLocation(ee);if(!re)break;const te=K.getNode(re),ae=M.$(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(te)&&ae.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(ae):W.indent.insertBefore(ae,W.indent.firstElementChild),this.renderedIndentGuides.add(te,ae),V.add(C.toDisposable(()=>this.renderedIndentGuides.delete(te,ae))),j=te}W.indentGuidesDisposable=V}}_onDidChangeActiveNodes(A){if(!!this.shouldRenderIndentGuides){const W=new Set,V=this.modelProvider();A.forEach(K=>{const j=V.getNodeLocation(K);try{const ee=V.getParentNodeLocation(j);K.collapsible&&K.children.length>0&&!K.collapsed?W.add(K):ee&&W.add(V.getNode(ee))}catch(ee){}}),this.activeIndentNodes.forEach(K=>{W.has(K)||this.renderedIndentGuides.forEach(K,j=>j.classList.remove("active"))}),W.forEach(K=>{this.activeIndentNodes.has(K)||this.renderedIndentGuides.forEach(K,j=>j.classList.add("active"))}),this.activeIndentNodes=W}}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),C.dispose(this.disposables)}}L.DefaultIndent=8;class E{constructor(A,W,V){this.tree=A,this.keyboardNavigationLabelProvider=W,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new C.DisposableStore,A.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(A){this._pattern=A,this._lowercasePattern=A.toLowerCase()}filter(A,W){if(this._filter){const j=this._filter.filter(A,W);if(this.tree.options.simpleKeyboardNavigation)return j;let ee;if(typeof j=="boolean"?ee=j?1:0:a.isFilterResult(j)?ee=a.getVisibleState(j.visibility):ee=j,ee===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:c.FuzzyScore.Default,visibility:!0};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),K=Array.isArray(V)?V:[V];for(const j of K){const ee=j&&j.toString();if(typeof ee=="undefined")return{data:c.FuzzyScore.Default,visibility:!0};const re=c.fuzzyScore(this._pattern,this._lowercasePattern,0,ee,ee.toLowerCase(),0,!0);if(re)return this._matchCount++,K.length===1?{data:re,visibility:!0}:{data:{label:ee,score:re},visibility:!0}}return this.tree.options.filterOnType?2:{data:c.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){C.dispose(this.disposables)}}class N{constructor(A,W,V,K,j){this.tree=A,this.view=V,this.filter=K,this.keyboardNavigationDelegate=j,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new y.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new y.Emitter,this.enabledDisposables=new C.DisposableStore,this.disposables=new C.DisposableStore,this.domNode=M.$(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,o.domEvent(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=M.append(V.getHTMLElement(),M.$(".monaco-list-type-filter-message")),this.labelDomNode=M.append(this.domNode,M.$("span.label"));const ee=M.append(this.domNode,M.$(".controls"));this._filterOnType=!!A.options.filterOnType,this.filterOnTypeDomNode=M.append(ee,M.$("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),o.domEvent(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=M.append(ee,M.$("button.clear"+i.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=s.localize(0,null),this.keyboardNavigationEventFilter=A.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(A.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(A){A.simpleKeyboardNavigation?this.disable():this.enable(),typeof A.filterOnType!="undefined"&&(this._filterOnType=!!A.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof A.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=A.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(!this._enabled){const A=y.Event.chain(o.domEvent(this.view.getHTMLElement(),"keydown")).filter(V=>!k.isInputElement(V.target)||V.target===this.filterOnTypeDomNode).filter(V=>V.key!=="Dead"&&!/^Media/.test(V.key)).map(V=>new S.StandardKeyboardEvent(V)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(V=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(V)&&!(V.keyCode===18||V.keyCode===16||V.keyCode===15||V.keyCode===17)||(this.pattern.length>0||this.triggered)&&(V.keyCode===9||V.keyCode===1)&&!V.altKey&&!V.ctrlKey&&!V.metaKey||V.keyCode===1&&(r.isMacintosh?V.altKey&&!V.metaKey:V.ctrlKey)&&!V.shiftKey).forEach(V=>{V.stopPropagation(),V.preventDefault()}).event,W=o.domEvent(this.clearDomNode,"click");y.Event.chain(y.Event.any(A,W)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(A){typeof A=="string"?this.onInput(A):A instanceof MouseEvent||A.keyCode===9||A.keyCode===1&&(r.isMacintosh?A.altKey:A.ctrlKey)?this.onInput(""):A.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+A.browserEvent.key)}onInput(A){const W=this.view.getHTMLElement();A&&!this.domNode.parentElement?W.append(this.domNode):!A&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=A,this._onDidChangePattern.fire(A),this.filter.pattern=A,this.tree.refilter(),A&&this.tree.focusNext(0,!0,void 0,K=>!c.FuzzyScore.isDefault(K.filterData));const V=this.tree.getFocus();if(V.length>0){const K=V[0];this.tree.getRelativeTop(K)===null&&this.tree.reveal(K,.5)}this.render(),A||(this.triggered=!1)}onDragStart(){const A=this.view.getHTMLElement(),{left:W}=M.getDomNodePagePosition(A),V=A.clientWidth,K=V/2,j=this.domNode.clientWidth,ee=new C.DisposableStore;let re=this.positionClassName;const te=()=>{switch(re){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${V-j-6}px`;break}},ae=P=>{P.preventDefault();const x=P.clientX-W;P.dataTransfer&&(P.dataTransfer.dropEffect="none"),x<K?re="nw":re="ne",te()},Y=()=>{this.positionClassName=re,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",C.dispose(ee)};te(),this.domNode.classList.remove(re),this.domNode.classList.add("dragging"),ee.add(C.toDisposable(()=>this.domNode.classList.remove("dragging"))),o.domEvent(document,"dragover")(ae,null,ee),o.domEvent(this.domNode,"dragend")(Y,null,ee),d.StaticDND.CurrentDragAndDropData=new d.DragAndDropData("vscode-ui"),ee.add(C.toDisposable(()=>d.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...i.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=s.localize(1,null)):(this.filterOnTypeDomNode.classList.remove(...i.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...i.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=s.localize(2,null))}render(){const A=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&A?(this.messageDomNode.textContent=s.localize(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",A),this.domNode.title=s.localize(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(A){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!c.FuzzyScore.isDefault(A.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),C.dispose(this.disposables)}}function I(B){let A=_.TreeMouseEventTarget.Unknown;return M.hasParentWithClass(B.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=_.TreeMouseEventTarget.Twistie:M.hasParentWithClass(B.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(A=_.TreeMouseEventTarget.Element),{browserEvent:B.browserEvent,element:B.element?B.element.element:null,target:A}}function T(B,A){A(B),B.children.forEach(W=>T(W,A))}class O{constructor(A){this.identityProvider=A,this.nodes=[],this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(A,W){var V;!((V=W)===null||V===void 0?void 0:V.__forceEvent)&&f.equals(this.nodes,A)||this._set(A,!1,W)}_set(A,W,V){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!W){const K=this;this._onDidChange.fire({get elements(){return K.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:W}){if(!this.identityProvider){const te=this.createNodeSet(),ae=Y=>te.delete(Y);W.forEach(Y=>T(Y,ae)),this.set([...te.values()]);return}const V=new Set,K=te=>V.add(this.identityProvider.getId(te.element).toString());W.forEach(te=>T(te,K));const j=new Map,ee=te=>j.set(this.identityProvider.getId(te.element).toString(),te);A.forEach(te=>T(te,ee));const re=[];for(const te of this.nodes){const ae=this.identityProvider.getId(te.element).toString();if(!V.has(ae))re.push(te);else{const P=j.get(ae);P&&re.push(P)}}this._set(re,!0)}createNodeSet(){const A=new Set;for(const W of this.nodes)A.add(W);return A}}class R extends k.MouseController{constructor(A,W){super(A);this.tree=W}onViewPointer(A){if(!(k.isInputElement(A.browserEvent.target)||k.isMonacoEditor(A.browserEvent.target))){const W=A.element;if(!W)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const V=A.browserEvent.target,K=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&A.browserEvent.offsetX<16;let j=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?j=this.tree.expandOnlyOnTwistieClick(W.element):j=!!this.tree.expandOnlyOnTwistieClick,j&&!K&&A.browserEvent.detail!==2)return super.onViewPointer(A);if(this.tree.expandOnlyOnDoubleClick&&A.browserEvent.detail!==2&&!K)return super.onViewPointer(A);if(W.collapsible){const ee=this.tree.model,re=ee.getNodeLocation(W),te=A.browserEvent.altKey;if(ee.setCollapsed(re,void 0,te),j&&K)return}super.onViewPointer(A)}}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||super.onDoubleClick(A)}}class F extends k.List{constructor(A,W,V,K,j,ee,re){super(A,W,V,K,re);this.focusTrait=j,this.selectionTrait=ee}createMouseController(A){return new R(this,A.tree)}splice(A,W,V=[]){if(super.splice(A,W,V),V.length!==0){const K=[],j=[];V.forEach((ee,re)=>{this.focusTrait.has(ee)&&K.push(A+re),this.selectionTrait.has(ee)&&j.push(A+re)}),K.length>0&&super.setFocus(f.distinctES6([...super.getFocus(),...K])),j.length>0&&super.setSelection(f.distinctES6([...super.getSelection(),...j]))}}setFocus(A,W,V=!1){super.setFocus(A,W),V||this.focusTrait.set(A.map(K=>this.element(K)),W)}setSelection(A,W,V=!1){super.setSelection(A,W),V||this.selectionTrait.set(A.map(K=>this.element(K)),W)}}class D{constructor(A,W,V,K,j={}){this._options=j,this.eventBufferer=new y.EventBufferer,this.disposables=new C.DisposableStore,this._onWillRefilter=new y.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new y.Emitter;const ee=new g(V),re=new y.Relay,te=new y.Relay,ae=new w(te.event);this.renderers=K.map(x=>new L(x,()=>this.model,re.event,ae,j));for(let x of this.renderers)this.disposables.add(x);let Y;j.keyboardNavigationLabelProvider&&(Y=new E(this,j.keyboardNavigationLabelProvider,j.filter),j=Object.assign(Object.assign({},j),{filter:Y}),this.disposables.add(Y)),this.focus=new O(j.identityProvider),this.selection=new O(j.identityProvider),this.view=new F(A,W,ee,this.renderers,this.focus,this.selection,Object.assign(Object.assign({},m(()=>this.model,j)),{tree:this})),this.model=this.createModel(A,this.view,j),re.input=this.model.onDidChangeCollapseState;const P=y.Event.forEach(this.model.onDidSplice,x=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(x),this.selection.onDidModelSplice(x)})});if(P(()=>null,null,this.disposables),te.input=y.Event.chain(y.Event.any(P,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const x=new Set;for(const z of this.focus.getNodes())x.add(z);for(const z of this.selection.getNodes())x.add(z);return[...x.values()]}).event,j.keyboardSupport!==!1){const x=y.Event.chain(this.view.onKeyDown).filter(z=>!k.isInputElement(z.target)).map(z=>new S.StandardKeyboardEvent(z));x.filter(z=>z.keyCode===15).on(this.onLeftArrow,this,this.disposables),x.filter(z=>z.keyCode===17).on(this.onRightArrow,this,this.disposables),x.filter(z=>z.keyCode===10).on(this.onSpace,this,this.disposables)}if(j.keyboardNavigationLabelProvider){const x=j.keyboardNavigationDelegate||k.DefaultKeyboardNavigationDelegate;this.typeFilterController=new N(this,this.model,this.view,Y,x),this.focusNavigationFilter=z=>this.typeFilterController.shouldAllowFocus(z),this.disposables.add(this.typeFilterController)}this.styleElement=M.createStyleSheet(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return y.Event.map(this.view.onMouseDblClick,I)}get onPointer(){return y.Event.map(this.view.onPointer,I)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnlyOnDoubleClick(){var A;return(A=this._options.expandOnlyOnDoubleClick)!==null&&A!==void 0?A:!1}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!1:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(A={}){this._options=Object.assign(Object.assign({},this._options),A);for(const W of this.renderers)W.updateOptions(A);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}domFocus(){this.view.domFocus()}layout(A,W){this.view.layout(A,W)}style(A){const W=`.${this.view.domId}`,V=[];A.treeIndentGuidesStroke&&(V.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join(`
`),this.view.style(A)}collapse(A,W=!1){return this.model.setCollapsed(A,!0,W)}expand(A,W=!1){return this.model.setCollapsed(A,!1,W)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,W){return this.model.setCollapsible(A,W)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,W){const V=A.map(j=>this.model.getNode(j));this.selection.set(V,W);const K=A.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setSelection(K,W,!0)}getSelection(){return this.selection.get()}setFocus(A,W){const V=A.map(j=>this.model.getNode(j));this.focus.set(V,W);const K=A.map(j=>this.model.getListIndex(j)).filter(j=>j>-1);this.view.setFocus(K,W,!0)}focusNext(A=1,W=!1,V,K=this.focusNavigationFilter){this.view.focusNext(A,W,V,K)}getFocus(){return this.focus.get()}reveal(A,W){this.model.expandTo(A);const V=this.model.getListIndex(A);V!==-1&&this.view.reveal(V,W)}getRelativeTop(A){const W=this.model.getListIndex(A);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const W=this.view.getFocusedElements();if(W.length!==0){const V=W[0],K=this.model.getNodeLocation(V);if(!this.model.setCollapsed(K,!0)){const ee=this.model.getParentNodeLocation(K);if(!ee)return;const re=this.model.getListIndex(ee);this.view.reveal(re),this.view.setFocus([re])}}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const W=this.view.getFocusedElements();if(W.length!==0){const V=W[0],K=this.model.getNodeLocation(V);if(!this.model.setCollapsed(K,!1)){if(!V.children.some(te=>te.visible))return;const[ee]=this.view.getFocus(),re=ee+1;this.view.reveal(re),this.view.setFocus([re])}}}onSpace(A){A.preventDefault(),A.stopPropagation();const W=this.view.getFocusedElements();if(W.length!==0){const V=W[0],K=this.model.getNodeLocation(V),j=A.browserEvent.altKey;this.model.setCollapsed(K,void 0,j)}}dispose(){C.dispose(this.disposables),this.view.dispose()}}e.AbstractTree=D}),define(Q[417],J([0,1,172,151]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class M extends C.AbstractTree{constructor(S,_,d,f,p,o={}){super(S,_,d,f,o);this.user=S,this.dataSource=p,this.identityProvider=o.identityProvider}createModel(S,_,d){return new k.ObjectTreeModel(S,_,d)}}e.DataTree=M}),define(Q[232],J([0,1,54,172,151,276,98]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class _ extends k.AbstractTree{constructor(c,a,s,l,r={}){super(c,a,s,l,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(c,a=C.Iterable.empty()){this.model.setChildren(c,a)}rerender(c){if(c===void 0){this.view.rerender();return}this.model.rerender(c)}hasElement(c){return this.model.has(c)}createModel(c,a,s){return new M.ObjectTreeModel(c,a,s)}}e.ObjectTree=_;class d{constructor(c,a){this._compressedTreeNodeProvider=c,this.renderer=a,this.templateId=a.templateId,a.onDidChangeTwistieState&&(this.onDidChangeTwistieState=a.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(c){const a=this.renderer.renderTemplate(c);return{compressedTreeNode:void 0,data:a}}renderElement(c,a,s,l){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(c.element);r.element.elements.length===1?(s.compressedTreeNode=void 0,this.renderer.renderElement(c,a,s.data,l)):(s.compressedTreeNode=r,this.renderer.renderCompressedElements(r,a,s.data,l))}disposeElement(c,a,s,l){s.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(s.compressedTreeNode,a,s.data,l):this.renderer.disposeElement&&this.renderer.disposeElement(c,a,s.data,l)}disposeTemplate(c){this.renderer.disposeTemplate(c.data)}renderTwistie(c,a){return this.renderer.renderTwistie?this.renderer.renderTwistie(c,a):!1}}Me([S.memoize],d.prototype,"compressedTreeNodeProvider",null);function f(o,c){return c&&Object.assign(Object.assign({},c),{keyboardNavigationLabelProvider:c.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(a){let s;try{s=o().getCompressedTreeNode(a)}catch(l){return c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a)}return s.element.elements.length===1?c.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a):c.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}})}class p extends _{constructor(c,a,s,l,r={}){const t=()=>this,n=l.map(i=>new d(t,i));super(c,a,s,n,f(t,r))}setChildren(c,a=C.Iterable.empty()){this.model.setChildren(c,a)}createModel(c,a,s){return new y.CompressibleObjectTreeModel(c,a,s)}updateOptions(c={}){super.updateOptions(c),typeof c.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(c.compressionEnabled)}getCompressedTreeNode(c=null){return this.model.getCompressedTreeNode(c)}}e.CompressibleObjectTree=p}),define(Q[418],J([0,1,172,232,97,2,4,15,54,158,11,150,193]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function s(T,O){return O.parent?O.parent===T?!0:s(T,O.parent):!1}function l(T,O){return T===O||s(T,O)||s(O,T)}class r{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new r(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class t{constructor(O,R,F){this.renderer=O,this.nodeMapper=R,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,R,F,D){this.renderer.renderElement(this.nodeMapper.map(O),R,F.templateData,D)}renderTwistie(O,R){return O.slow?(R.classList.add(...c.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...c.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,R,F,D){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),R,F.templateData,D)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function n(T){return{browserEvent:T.browserEvent,elements:T.elements.map(O=>O.element)}}function i(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class u extends f.ElementsDragAndDropData{constructor(O){super(O.elements.map(R=>R.element));this.data=O}}function h(T){return T instanceof f.ElementsDragAndDropData?new u(T):T}class v{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(F=>F.element),R)}onDragStart(O,R){this.dnd.onDragStart&&this.dnd.onDragStart(h(O),R)}onDragOver(O,R,F,D,B=!0){return this.dnd.onDragOver(h(O),R&&R.element,F,D)}drop(O,R,F,D){this.dnd.drop(h(O),R&&R.element,F,D)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function m(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(O){return T.identityProvider.getId(O.element)}},dnd:T.dnd&&new v(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?O=>T.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?O=>{var R;return!!((R=T.accessibilityProvider)===null||R===void 0?void 0:R.isChecked(O.element))}:void 0,getAriaLabel(O){return T.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(O=>T.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(O=>T.accessibilityProvider.getActiveDescendantId(O.element))}),filter:T.filter&&{filter(O,R){return T.filter.filter(O.element,R)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick=="undefined"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:O=>T.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:T.additionalScrollHeight})}function g(T,O){O(T),T.children.forEach(R=>g(R,O))}class b{constructor(O,R,F,D,B,A={}){this.user=O,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new M.WeakMapper(W=>new r(W)),this.disposables=new y.DisposableStore,this.identityProvider=A.identityProvider,this.autoExpandSingleChildren=typeof A.autoExpandSingleChildren=="undefined"?!1:A.autoExpandSingleChildren,this.sorter=A.sorter,this.collapseByDefault=A.collapseByDefault,this.tree=this.createTree(O,R,F,D,A),this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,n)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,n)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,i)}get onPointer(){return S.Event.map(this.tree.onPointer,i)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(O,R,F,D,B){const A=new C.ComposedTreeDelegate(F),W=D.map(K=>new t(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=m(B)||{};return new k.ObjectTree(O,R,A,W,V)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,R){this.tree.layout(O,R)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,R){return De(this,void 0,void 0,function*(){this.refreshPromises.forEach(D=>D.cancel()),this.refreshPromises.clear(),this.root.element=O;const F=R&&{viewState:R,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)})}_updateChildren(O=this.root.element,R=!0,F=!1,D){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const B=this.getDataNode(O);if(yield this.refreshAndRenderNode(B,R,D),F)try{this.tree.rerender(B)}catch(A){}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const R=this.getDataNode(O);this.tree.rerender(R)}collapse(O,R=!1){const F=this.getDataNode(O);return this.tree.collapse(F===this.root?null:F,R)}expand(O,R=!1){return De(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new M.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(O);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const D=this.tree.expand(F===this.root?null:F,R);return F.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),D})}setSelection(O,R){const F=O.map(D=>this.getDataNode(D));this.tree.setSelection(F,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(O,R){const F=O.map(D=>this.getDataNode(D));this.tree.setFocus(F,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(O,R){this.tree.reveal(this.getDataNode(O),R)}getDataNode(O){const R=this.nodes.get(O===this.root.element?null:O);if(!R)throw new M.TreeError(this.user,`Data tree node not found: ${O}`);return R}refreshAndRenderNode(O,R,F){return De(this,void 0,void 0,function*(){yield this.refreshNode(O,R,F),this.render(O,F)})}refreshNode(O,R,F){return De(this,void 0,void 0,function*(){let D;return this.subTreeRefreshPromises.forEach((B,A)=>{!D&&l(A,O)&&(D=B.then(()=>this.refreshNode(O,R,F)))}),D||this.doRefreshSubTree(O,R,F)})}doRefreshSubTree(O,R,F){return De(this,void 0,void 0,function*(){let D;O.refreshPromise=new Promise(B=>D=B),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const B=yield this.doRefreshNode(O,R,F);O.stale=!1,yield Promise.all(B.map(A=>this.doRefreshSubTree(A,R,F)))}finally{D()}})}doRefreshNode(O,R,F){return De(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let D;if(!O.hasChildren)D=Promise.resolve(d.Iterable.empty());else{const B=_.timeout(800);B.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},A=>null),D=this.doGetChildren(O).finally(()=>B.cancel())}try{const B=yield D;return this.setChildren(O,B,R,F)}catch(B){if(O!==this.root&&this.tree.collapse(O===this.root?null:O),p.isPromiseCanceledError(B))return[];throw B}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let R=this.refreshPromises.get(O);return R||(R=_.createCancelablePromise(()=>De(this,void 0,void 0,function*(){const F=yield this.dataSource.getChildren(O.element);return this.processChildren(F)})),this.refreshPromises.set(O,R),R.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:R}){O.element!==null&&!O.collapsed&&O.element.stale&&(R?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(p.onUnexpectedError))}setChildren(O,R,F,D){const B=[...R];if(O.children.length===0&&B.length===0)return[];const A=new Map,W=new Map;for(const j of O.children)if(A.set(j.element,j),this.identityProvider){const ee=this.tree.isCollapsed(j);W.set(j.id,{node:j,collapsed:ee})}const V=[],K=B.map(j=>{const ee=!!this.dataSource.hasChildren(j);if(!this.identityProvider){const Y=a({element:j,parent:O,hasChildren:ee});return ee&&this.collapseByDefault&&!this.collapseByDefault(j)&&(Y.collapsedByDefault=!1,V.push(Y)),Y}const re=this.identityProvider.getId(j).toString(),te=W.get(re);if(te){const Y=te.node;return A.delete(Y.element),this.nodes.delete(Y.element),this.nodes.set(j,Y),Y.element=j,Y.hasChildren=ee,F?te.collapsed?(Y.children.forEach(P=>g(P,x=>this.nodes.delete(x.element))),Y.children.splice(0,Y.children.length),Y.stale=!0):V.push(Y):ee&&this.collapseByDefault&&!this.collapseByDefault(j)&&(Y.collapsedByDefault=!1,V.push(Y)),Y}const ae=a({element:j,parent:O,id:re,hasChildren:ee});return D&&D.viewState.focus&&D.viewState.focus.indexOf(re)>-1&&D.focus.push(ae),D&&D.viewState.selection&&D.viewState.selection.indexOf(re)>-1&&D.selection.push(ae),D&&D.viewState.expanded&&D.viewState.expanded.indexOf(re)>-1?V.push(ae):ee&&this.collapseByDefault&&!this.collapseByDefault(j)&&(ae.collapsedByDefault=!1,V.push(ae)),ae});for(const j of A.values())g(j,ee=>this.nodes.delete(ee.element));for(const j of K)this.nodes.set(j.element,j);return O.children.splice(0,O.children.length,...K),O!==this.root&&this.autoExpandSingleChildren&&K.length===1&&V.length===0&&(K[0].collapsedByDefault=!1,V.push(K[0])),V}render(O,R){const F=O.children.map(D=>this.asTreeElement(D,R));this.tree.setChildren(O===this.root?null:O,F),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,R){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let F;return R&&R.viewState.expanded&&O.id&&R.viewState.expanded.indexOf(O.id)>-1?F=!1:F=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?d.Iterable.map(O.children,D=>this.asTreeElement(D,R)):[],collapsible:O.hasChildren,collapsed:F}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=b;class w{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new w(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(O,R,F,D){this.renderer=O,this.nodeMapper=R,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=D,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,R,F,D){this.renderer.renderElement(this.nodeMapper.map(O),R,F.templateData,D)}renderCompressedElements(O,R,F,D){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),R,F.templateData,D)}renderTwistie(O,R){return O.slow?(R.classList.add(...c.treeItemLoadingIcon.classNamesArray),!0):(R.classList.remove(...c.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,R,F,D){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),R,F.templateData,D)}disposeCompressedElements(O,R,F,D){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),R,F.templateData,D)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=y.dispose(this.disposables)}}function E(T){const O=T&&m(T);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(R){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(F=>F.element))}})})}class N extends b{constructor(O,R,F,D,B,A,W={}){super(O,R,F,B,A,W);this.compressionDelegate=D,this.compressibleNodeMapper=new M.WeakMapper(V=>new w(V)),this.filter=W.filter}createTree(O,R,F,D,B){const A=new C.ComposedTreeDelegate(F),W=D.map(K=>new L(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=E(B)||{};return new k.CompressibleObjectTree(O,R,A,W,V)}asTreeElement(O,R){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,R))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,R){if(!this.identityProvider)return super.render(O,R);const F=re=>this.identityProvider.getId(re).toString(),D=re=>{const te=new Set;for(const ae of re){const Y=this.tree.getCompressedTreeNode(ae===this.root?null:ae);if(!!Y.element)for(const P of Y.element.elements)te.add(F(P.element))}return te},B=D(this.tree.getSelection()),A=D(this.tree.getFocus());super.render(O,R);const W=this.getSelection();let V=!1;const K=this.getFocus();let j=!1;const ee=re=>{const te=re.element;if(te)for(let ae=0;ae<te.elements.length;ae++){const Y=F(te.elements[ae].element),P=te.elements[te.elements.length-1].element;B.has(Y)&&W.indexOf(P)===-1&&(W.push(P),V=!0),A.has(Y)&&K.indexOf(P)===-1&&(K.push(P),j=!0)}re.children.forEach(ee)};ee(this.tree.getCompressedTreeNode(O===this.root?null:O)),V&&this.setSelection(W),j&&this.setFocus(K)}processChildren(O){return this.filter&&(O=d.Iterable.filter(O,R=>{const F=this.filter.filter(R,1),D=I(F);if(D===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return D===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=N;function I(T){return typeof T=="boolean"?T?1:0:o.isFilterResult(T)?o.getVisibleState(T.visibility):o.getVisibleState(T)}}),define(Q[419],J([5,6]),function(G,e){return G.create("vs/base/common/actions",e)}),define(Q[48],J([0,1,419,2,4]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class y extends k.Disposable{constructor(o,c="",a="",s=!0,l){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=o,this._label=c,this._cssClass=a,this._enabled=s,this._actionCallback=l}get id(){return this._id}get label(){return this._label}set label(o){this._setLabel(o)}_setLabel(o){this._label!==o&&(this._label=o,this._onDidChange.fire({label:o}))}get tooltip(){return this._tooltip||""}set tooltip(o){this._setTooltip(o)}_setTooltip(o){this._tooltip!==o&&(this._tooltip=o,this._onDidChange.fire({tooltip:o}))}get class(){return this._cssClass}set class(o){this._setClass(o)}_setClass(o){this._cssClass!==o&&(this._cssClass=o,this._onDidChange.fire({class:o}))}get enabled(){return this._enabled}set enabled(o){this._setEnabled(o)}_setEnabled(o){this._enabled!==o&&(this._enabled=o,this._onDidChange.fire({enabled:o}))}get checked(){return this._checked}set checked(o){this._setChecked(o)}_setChecked(o){this._checked!==o&&(this._checked=o,this._onDidChange.fire({checked:o}))}run(o,c){return this._actionCallback?this._actionCallback(o):Promise.resolve(!0)}}e.Action=y;class S extends k.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new M.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new M.Emitter),this.onDidRun=this._onDidRun.event}run(o,c){return De(this,void 0,void 0,function*(){if(!o.enabled)return Promise.resolve(null);this._onBeforeRun.fire({action:o});try{const a=yield this.runAction(o,c);this._onDidRun.fire({action:o,result:a})}catch(a){this._onDidRun.fire({action:o,error:a})}})}runAction(o,c){const a=c?o.run(c):o.run();return Promise.resolve(a)}}e.ActionRunner=S;class _ extends y{constructor(o){super(_.ID,o,o?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=_,_.ID="vs.actions.separator";class d extends y{constructor(o,c,a,s){super(o,c,s,!!(a==null?void 0:a.length));this._actions=a}get actions(){return this._actions}}e.SubmenuAction=d;class f extends y{constructor(){super(f.ID,C.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=f,f.ID="vs.actions.empty"}),define(Q[111],J([0,1,17,408,2,48,21,59,148,34,7,201]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class o extends M.Disposable{constructor(s,l,r={}){super();this.options=r,this._context=s||this,this._action=l,l instanceof y.Action&&this._register(l.onDidChange(t=>{!this.element||this.handleActionChangeEvent(t)}))}handleActionChangeEvent(s){s.enabled!==void 0&&this.updateEnabled(),s.checked!==void 0&&this.updateChecked(),s.class!==void 0&&this.updateClass(),s.label!==void 0&&(this.updateLabel(),this.updateTooltip()),s.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new y.ActionRunner)),this._actionRunner}set actionRunner(s){this._actionRunner=s}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(s){this._context=s}render(s){const l=this.element=s;this._register(_.Gesture.addTarget(s));const r=this.options&&this.options.draggable;r&&(s.draggable=!0,f.isFirefox&&this._register(p.addDisposableListener(s,p.EventType.DRAG_START,t=>{var n;return(n=t.dataTransfer)===null||n===void 0?void 0:n.setData(d.DataTransfers.TEXT,this._action.label)}))),this._register(p.addDisposableListener(l,_.EventType.Tap,t=>this.onClick(t))),this._register(p.addDisposableListener(l,p.EventType.MOUSE_DOWN,t=>{r||p.EventHelper.stop(t,!0),this._action.enabled&&t.button===0&&l.classList.add("active")})),C.isMacintosh&&this._register(p.addDisposableListener(l,p.EventType.CONTEXT_MENU,t=>{t.button===0&&t.ctrlKey===!0&&this.onClick(t)})),this._register(p.addDisposableListener(l,p.EventType.CLICK,t=>{p.EventHelper.stop(t,!0),this.options&&this.options.isMenu||C.setImmediate(()=>this.onClick(t))})),this._register(p.addDisposableListener(l,p.EventType.DBLCLICK,t=>{p.EventHelper.stop(t,!0)})),[p.EventType.MOUSE_UP,p.EventType.MOUSE_OUT].forEach(t=>{this._register(p.addDisposableListener(l,t,n=>{p.EventHelper.stop(n),l.classList.remove("active")}))})}onClick(s){var l;p.EventHelper.stop(s,!0);const r=S.isUndefinedOrNull(this._context)?((l=this.options)===null||l===void 0?void 0:l.useEventAsContext)?s:void 0:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.classList.remove("focused"))}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=o;class c extends o{constructor(s,l,r={}){super(s,l,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(s){super.render(s),this.element&&(this.label=p.append(this.element,p.$("a.action-label"))),this.label&&(this._action.id===y.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(p.append(this.element,p.$("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){super.focus(),this.label&&this.label.focus()}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let s=null;this.getAction().tooltip?s=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(s=this.getAction().label,this.options.keybinding&&(s=k.localize(0,null,s,this.options.keybinding))),s&&this.label&&(this.label.title=s)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled"),this.label.tabIndex=0),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled"),p.removeTabIndexAndUpdateFocus(this.label)),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=c}),define(Q[83],J([0,1,2,48,7,21,56,4,111,201]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class f extends C.Disposable{constructor(o,c={}){var a,s,l,r,t,n;super();this.triggerKeyDown=!1,this._onDidBlur=this._register(new _.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new _.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new _.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new _.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=c,this._context=(a=c.context)!==null&&a!==void 0?a:null,this._orientation=(s=this.options.orientation)!==null&&s!==void 0?s:0,this._triggerKeys={keyDown:(r=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keyDown)!==null&&r!==void 0?r:!1,keys:(n=(t=this.options.triggerKeys)===null||t===void 0?void 0:t.keys)!==null&&n!==void 0?n:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new k.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",c.animated!==!1&&this.domNode.classList.add("animated");let i,u;switch(this._orientation){case 0:i=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[15],u=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[17];break;case 1:i=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[17],u=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[15],this.domNode.className+=" reverse";break;case 2:i=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[16],u=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[18],this.domNode.className+=" vertical";break;case 3:i=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[18],u=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[16],this.domNode.className+=" vertical reverse";break}this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_DOWN,h=>{const v=new S.StandardKeyboardEvent(h);let m=!0;i&&(v.equals(i[0])||v.equals(i[1]))?m=this.focusPrevious():u&&(v.equals(u[0])||v.equals(u[1]))?m=this.focusNext():v.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():this.isTriggerKeyEvent(v)?this._triggerKeys.keyDown?this.doTrigger(v):this.triggerKeyDown=!0:m=!1,m&&(v.preventDefault(),v.stopPropagation())})),this._register(M.addDisposableListener(this.domNode,M.EventType.KEY_UP,h=>{const v=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(v)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(v)),v.preventDefault(),v.stopPropagation()):(v.equals(2)||v.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(M.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(M.getActiveElement()===this.domNode||!M.isAncestor(M.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),o.appendChild(this.domNode)}isTriggerKeyEvent(o){let c=!1;return this._triggerKeys.keys.forEach(a=>{c=c||o.equals(a)}),c}updateFocusedItem(){for(let o=0;o<this.actionsList.children.length;o++){const c=this.actionsList.children[o];if(M.isAncestor(M.getActiveElement(),c)){this.focusedItem=o;break}}}get context(){return this._context}set context(o){this._context=o,this.viewItems.forEach(c=>c.setActionContext(o))}get actionRunner(){return this._actionRunner}set actionRunner(o){o&&(this._actionRunner=o,this.viewItems.forEach(c=>c.actionRunner=o))}getContainer(){return this.domNode}push(o,c={}){const a=Array.isArray(o)?o:[o];let s=y.isNumber(c.index)?c.index:null;a.forEach(l=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(M.addDisposableListener(r,M.EventType.CONTEXT_MENU,n=>{M.EventHelper.stop(n,!0)}));let t;this.options.actionViewItemProvider&&(t=this.options.actionViewItemProvider(l)),t||(t=new d.ActionViewItem(this.context,l,c)),t.actionRunner=this._actionRunner,t.setActionContext(this.context),t.render(r),s===null||s<0||s>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(t),this._actionIds.push(l.id)):(this.actionsList.insertBefore(r,this.actionsList.children[s]),this.viewItems.splice(s,0,t),this._actionIds.splice(s,0,l.id),s++)}),this.focusedItem&&this.focus(this.focusedItem)}clear(){C.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],M.clearNode(this.actionsList)}focus(o){let c=!1,a;if(o===void 0?c=!0:typeof o=="number"?a=o:typeof o=="boolean"&&(c=o),c&&typeof this.focusedItem=="undefined"){const s=this.viewItems.findIndex(l=>l.isEnabled());this.focusedItem=s===-1?void 0:s,this.updateFocus()}else a!==void 0&&(this.focusedItem=a),this.updateFocus()}focusNext(){typeof this.focusedItem=="undefined"&&(this.focusedItem=this.viewItems.length-1);const o=this.focusedItem;let c;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=o,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,c=this.viewItems[this.focusedItem]}while(this.focusedItem!==o&&!c.isEnabled());return this.focusedItem===o&&!c.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(),!0}focusPrevious(){typeof this.focusedItem=="undefined"&&(this.focusedItem=0);const o=this.focusedItem;let c;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=o,!1;this.focusedItem=this.viewItems.length-1}c=this.viewItems[this.focusedItem]}while(this.focusedItem!==o&&!c.isEnabled());return this.focusedItem===o&&!c.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0),!0}updateFocus(o,c){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:c});for(let a=0;a<this.viewItems.length;a++){const l=this.viewItems[a];a===this.focusedItem?y.isFunction(l.isEnabled)&&(l.isEnabled()&&y.isFunction(l.focus)?l.focus(o):this.actionsList.focus({preventScroll:c})):y.isFunction(l.blur)&&l.blur()}}doTrigger(o){if(typeof this.focusedItem!="undefined"){const c=this.viewItems[this.focusedItem];if(c instanceof d.BaseActionViewItem){const a=c._context===null||c._context===void 0?o:c._context;this.run(c._action,a)}}}run(o,c){return this._actionRunner.run(o,c)}dispose(){C.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=f}),define(Q[420],J([0,1,59,48,7,56,4,204]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class _ extends k.ActionRunner{constructor(p,o){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=M.append(p,M.$(".monaco-dropdown")),this._label=M.append(this._element,M.$(".dropdown-label"));let c=o.labelRenderer;c||(c=s=>(s.textContent=o.label||"",null));for(const s of[M.EventType.CLICK,M.EventType.MOUSE_DOWN,C.EventType.Tap])this._register(M.addDisposableListener(this.element,s,l=>M.EventHelper.stop(l,!0)));for(const s of[M.EventType.MOUSE_DOWN,C.EventType.Tap])this._register(M.addDisposableListener(this._label,s,l=>{l instanceof MouseEvent&&l.detail>1||(this.visible?this.hide():this.show())}));this._register(M.addDisposableListener(this._label,M.EventType.KEY_UP,s=>{const l=new y.StandardKeyboardEvent(s);(l.equals(3)||l.equals(10))&&(M.EventHelper.stop(s,!0),this.visible?this.hide():this.show())}));const a=c(this._label);a&&this._register(a),this._register(C.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=_;class d extends _{constructor(p,o){super(p,o);this._actions=[],this._contextMenuProvider=o.contextMenuProvider,this.actions=o.actions||[],this.actionProvider=o.actionProvider,this.menuClassName=o.menuClassName||"",this.menuAsChild=!!o.menuAsChild}set menuOptions(p){this._menuOptions=p}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(p){this._actions=p}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:p=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(p):void 0,getKeyBinding:p=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(p):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=d}),define(Q[421],J([0,1,7,4,111,420,204]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends M.BaseActionViewItem{constructor(d,f,p,o={}){super(null,d,o);this.options=o,this.actionItem=null,this._onDidChangeVisibility=this._register(new k.Emitter),this.menuActionsOrProvider=f,this.contextMenuProvider=p,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(d){this.actionItem=d;const f=c=>{this.element=C.append(c,C.$("a.action-label"));let a=[];return typeof this.options.classNames=="string"?a=this.options.classNames.split(/\s+/g).filter(s=>!!s):this.options.classNames&&(a=this.options.classNames),a.find(s=>s==="icon")||a.push("codicon"),this.element.classList.add(...a),this.element.tabIndex=0,this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},p=Array.isArray(this.menuActionsOrProvider),o={contextMenuProvider:this.contextMenuProvider,labelRenderer:f,menuAsChild:this.options.menuAsChild,actions:p?this.menuActionsOrProvider:void 0,actionProvider:p?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new y.DropdownMenu(d,o)),this._register(this.dropdownMenu.onDidChangeVisibility(c=>{var a;(a=this.element)===null||a===void 0||a.setAttribute("aria-expanded",`${c}`),this._onDidChangeVisibility.fire(c)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const c=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return c.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(d){super.setActionContext(d),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=d:this.dropdownMenu.menuOptions={context:d})}updateEnabled(){var d,f;const p=!this.getAction().enabled;(d=this.actionItem)===null||d===void 0||d.classList.toggle("disabled",p),(f=this.element)===null||f===void 0||f.classList.toggle("disabled",p)}}e.DropdownMenuActionViewItem=S}),define(Q[173],J([0,1,413,7,152,47,83,4,52,29,39,273,60,55,298]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const s=k.$,l={inputBackground:f.Color.fromHex("#3C3C3C"),inputForeground:f.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:f.Color.fromHex("#55AAFF"),inputValidationInfoBackground:f.Color.fromHex("#063B49"),inputValidationWarningBorder:f.Color.fromHex("#B89500"),inputValidationWarningBackground:f.Color.fromHex("#352A05"),inputValidationErrorBorder:f.Color.fromHex("#BE1100"),inputValidationErrorBackground:f.Color.fromHex("#5A1D1D")};class r extends d.Widget{constructor(i,u,h){super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new _.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new _.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=u,this.options=h||Object.create(null),p.mixin(this.options,l,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=k.append(i,s(".monaco-inputbox.idle"));let v=this.options.flexibleHeight?"textarea":"input",m=k.append(this.element,s(".ibwrapper"));if(this.input=k.append(m,s(v+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=k.append(m,s("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new c.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),k.append(i,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(b=>this.input.scrollTop=b.scrollTop));const g=_.Event.filter(a.domEvent(document,"selectionchange"),()=>{const b=document.getSelection();return(b==null?void 0:b.anchorNode)===m});this._register(g(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(i){this.placeholder=i,this.input.setAttribute("placeholder",i),this.input.title=i}setAriaLabel(i){this.ariaLabel=i,i?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(i){this.input.value!==i&&(this.input.value=i,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:k.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(i=null){this.input.select(),i&&this.input.setSelectionRange(i.start,i.end)}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return k.getTotalWidth(this.input)}set width(i){if(this.options.flexibleHeight&&this.options.flexibleWidth){let u=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,v=parseFloat(this.mirror.style.paddingRight||"")||0;u=h+v}this.input.style.width=i-u+"px"}else this.input.style.width=i+"px";this.mirror&&(this.mirror.style.width=i+"px")}set paddingRight(i){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${i}px)`:this.input.style.paddingRight=i+"px",this.mirror&&(this.mirror.style.paddingRight=i+"px")}updateScrollDimensions(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){const i=this.cachedContentHeight,u=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:i,height:u}),this.scrollableElement.setScrollPosition({scrollTop:h})}}showMessage(i,u){this.message=i,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(i.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||u)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let i=null;return this.validation&&(i=this.validation(this.value),i?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(i)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),i==null?void 0:i.type}stylesForType(i){switch(i){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(i){switch(i){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!(!this.contextViewProvider||!this.message)){let i,u=()=>i.style.width=k.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:v=>{if(!this.message)return null;i=k.append(v,s(".monaco-inputbox-container")),u();const m={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?M.renderFormattedText(this.message.content,m):M.renderText(this.message.content,m);g.classList.add(this.classForType(this.message.type));const b=this.stylesForType(this.message.type);return g.style.backgroundColor=b.background?b.background.toString():"",g.style.color=b.foreground?b.foreground.toString():"",g.style.border=b.border?`1px solid ${b.border}`:"",k.append(i,g),null},onHide:()=>{this.state="closed"},layout:u});let h;this.message.type===3?h=C.localize(0,null,this.message.content):this.message.type===2?h=C.localize(1,null,this.message.content):h=C.localize(2,null,this.message.content),y.alert(h),this.state="open"}}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!!this.mirror){const i=this.value,h=i.charCodeAt(i.length-1)===10?" ":"";i+h?this.mirror.textContent=i+h:this.mirror.innerText="\xA0",this.layout()}}style(i){this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const i=this.inputBackground?this.inputBackground.toString():"",u=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=i,this.element.style.color=u,this.input.style.backgroundColor="inherit",this.input.style.color=u,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!!this.mirror){const i=this.cachedContentHeight;this.cachedContentHeight=k.getTotalHeight(this.mirror),i!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}insertAtCursor(i){const u=this.inputElement,h=u.selectionStart,v=u.selectionEnd,m=u.value;h!==null&&v!==null&&(this.value=m.substr(0,h)+i+m.substr(v),u.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class t extends r{constructor(i,u,h){super(i,u,h);this.history=new o.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let i=this.getNextValue();i&&(i=i===this.value?this.getNextValue():i),i&&(this.value=i,y.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let i=this.getPreviousValue();i&&(i=i===this.value?this.getPreviousValue():i),i&&(this.value=i,y.status(this.value))}getCurrentValue(){let i=this.history.current();return i||(i=this.history.last(),this.history.next()),i}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=t}),define(Q[422],J([0,1,409,7,173,52,4,231,205]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const d=C.localize(0,null);class f extends y.Widget{constructor(o,c,a,s){super();this._showOptionButtons=a,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=c,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||d,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const l=s.appendCaseSensitiveLabel||"",r=s.appendWholeWordsLabel||"",t=s.appendRegexLabel||"",n=s.history||[],i=!!s.flexibleHeight,u=!!s.flexibleWidth,h=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:n,flexibleHeight:i,flexibleWidth:u,flexibleMaxHeight:h})),this.regex=this._register(new _.RegexCheckbox({appendTitle:t,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new _.WholeWordsCheckbox({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new _.CaseSensitiveCheckbox({appendTitle:l,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let v=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let b=v.indexOf(document.activeElement);if(b>=0){let w=-1;g.equals(17)?w=(b+1)%v.length:g.equals(15)&&(b===0?w=v.length-1:w=b-1),g.equals(9)?(v[b].blur(),this.inputBox.focus()):w>=0&&v[w].focus(),k.EventHelper.stop(g,!0)}}});let m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.caseSensitive.domNode),m.appendChild(this.wholeWords.domNode),m.appendChild(this.regex.domNode),this.domNode.appendChild(m),o&&o.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(o){this.fixFocusOnOptionClickEnabled=o}setEnabled(o){o?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(o){this.inputBox.value!==o&&(this.inputBox.value=o)}style(o){this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const o={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(o),this.wholeWords.style(o),this.caseSensitive.style(o);const c={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(c)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(o){this.caseSensitive.checked=o}getWholeWords(){return this.wholeWords.checked}setWholeWords(o){this.wholeWords.checked=o}getRegex(){return this.regex.checked}setRegex(o){this.regex.checked=o,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=f}),define(Q[423],J([0,1,411,7,173,52,4,156,27,205]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const f=C.localize(0,null),p=C.localize(1,null);class o extends _.Checkbox{constructor(s){super({icon:d.Codicon.preserveCase,title:p+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=o;class c extends y.Widget{constructor(s,l,r,t){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=l,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||f,this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground;const n=t.appendPreserveCaseLabel||"",i=t.history||[],u=!!t.flexibleHeight,h=!!t.flexibleWidth,v=t.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new M.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:i,flexibleHeight:u,flexibleWidth:h,flexibleMaxHeight:v})),this.preserveCase=this._register(new o({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(b=>{this._onPreserveCaseKeyDown.fire(b)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let m=[this.preserveCase.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let w=m.indexOf(document.activeElement);if(w>=0){let L=-1;b.equals(17)?L=(w+1)%m.length:b.equals(15)&&(w===0?L=m.length-1:L=w-1),b.equals(9)?(m[w].blur(),this.inputBox.focus()):L>=0&&m[L].focus(),k.EventHelper.stop(b,!0)}}});let g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),s&&s.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(s){s?this.enable():this.disable()}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(s);const l={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(l)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(s){this.preserveCase.checked=s}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(s){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=s,this.domNode.style.width=s+"px"}dispose(){super.dispose()}}e.ReplaceInput=c}),define(Q[424],J([0,1,415,8,48,83,7,56,15,2,60,202,17,27,111,157,34,50,102]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const i=a.registerCodicon("menu-selection",a.Codicon.check),u=a.registerCodicon("menu-submenu",a.Codicon.chevronRight);var h;(function(E){E[E.Right=0]="Right",E[E.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class v extends y.ActionBar{constructor(N,I,T={}){N.classList.add("monaco-menu-container"),N.setAttribute("role","presentation");const O=document.createElement("div");O.classList.add("monaco-menu"),O.setAttribute("role","presentation"),super(O,{orientation:2,actionViewItemProvider:D=>this.doGetActionViewItem(D,T,R),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,triggerKeys:{keys:[3,...c.isMacintosh||c.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=O,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new f.DisposableStore),this.initializeStyleSheet(N),S.addDisposableListener(O,S.EventType.KEY_DOWN,D=>{new _.StandardKeyboardEvent(D).equals(2)&&D.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add(S.addDisposableListener(O,S.EventType.KEY_DOWN,D=>{const B=D.key.toLocaleLowerCase();if(this.mnemonics.has(B)){S.EventHelper.stop(D,!0);const A=this.mnemonics.get(B);if(A.length===1&&(A[0]instanceof g&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(D)),A.length>1){const W=A.shift();W&&W.container&&(this.focusItemByElement(W.container),A.push(W)),this.mnemonics.set(B,A)}}})),c.isLinux&&this._register(S.addDisposableListener(O,S.EventType.KEY_DOWN,D=>{const B=new _.StandardKeyboardEvent(D);B.equals(14)||B.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(D,!0)):(B.equals(13)||B.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(D,!0))})),this._register(S.addDisposableListener(this.domNode,S.EventType.MOUSE_OUT,D=>{let B=D.relatedTarget;S.isAncestor(B,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),D.stopPropagation())})),this._register(S.addDisposableListener(this.actionsList,S.EventType.MOUSE_OVER,D=>{let B=D.target;if(!(!B||!S.isAncestor(B,this.actionsList)||B===this.actionsList)){for(;B.parentElement!==this.actionsList&&B.parentElement!==null;)B=B.parentElement;if(B.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(B),A!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new p.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const F=this.scrollableElement.getDomNode();F.style.position="",this._register(S.addDisposableListener(F,S.EventType.MOUSE_UP,D=>{D.preventDefault()})),O.style.maxHeight=`${Math.max(10,window.innerHeight-N.getBoundingClientRect().top-35)}px`,I=I.filter(D=>{var B;return((B=T.submenuIds)===null||B===void 0?void 0:B.has(D.id))?(console.warn(`Found submenu cycle: ${D.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),N.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(D=>!(D instanceof b)).forEach((D,B,A)=>{D.updatePositionInSet(B+1,A.length)})}initializeStyleSheet(N){S.isInShadowDOM(N)?(this.styleSheet=S.createStyleSheet(N),this.styleSheet.textContent=L):(v.globalStyleSheet||(v.globalStyleSheet=S.createStyleSheet(),v.globalStyleSheet.textContent=L),this.styleSheet=v.globalStyleSheet)}style(N){const I=this.getContainer(),T=N.foregroundColor?`${N.foregroundColor}`:"",O=N.backgroundColor?`${N.backgroundColor}`:"",R=N.borderColor?`1px solid ${N.borderColor}`:"",F=N.shadowColor?`0 2px 4px ${N.shadowColor}`:"";I.style.border=R,this.domNode.style.color=T,this.domNode.style.backgroundColor=O,I.style.boxShadow=F,this.viewItems&&this.viewItems.forEach(D=>{(D instanceof m||D instanceof b)&&D.style(N)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(N){const I=this.focusedItem;this.setFocusedItem(N),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(N){for(let I=0;I<this.actionsList.children.length;I++){let T=this.actionsList.children[I];if(N===T){this.focusedItem=I;break}}}updateFocus(N){super.updateFocus(N,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(N,I,T){if(N instanceof M.Separator)return new b(I.context,N,{icon:!0});if(N instanceof M.SubmenuAction){const O=new g(N,N.actions,T,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],N.id])}));if(I.enableMnemonics){const R=O.getMnemonic();if(R&&O.isEnabled()){let F=[];this.mnemonics.has(R)&&(F=this.mnemonics.get(R)),F.push(O),this.mnemonics.set(R,F)}}return O}else{const O={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const F=I.getKeyBinding(N);if(F){const D=F.getLabel();D&&(O.keybinding=D)}}const R=new m(I.context,N,O);if(I.enableMnemonics){const F=R.getMnemonic();if(F&&R.isEnabled()){let D=[];this.mnemonics.has(F)&&(D=this.mnemonics.get(F)),D.push(R),this.mnemonics.set(F,D)}}return R}}}e.Menu=v;class m extends s.BaseActionViewItem{constructor(N,I,T={}){if(T.isMenu=!0,super(I,I,T),this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){let O=this.getAction().label;if(O){let R=e.MENU_MNEMONIC_REGEX.exec(O);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new d.RunOnceScheduler(()=>{!this.element||(this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_UP,O=>{if(S.EventHelper.stop(O,!0),r.isFirefox){if(new t.StandardMouseEvent(O).rightButton)return;this.onClick(O)}else setTimeout(()=>{this.onClick(O)},0)})),this._register(S.addDisposableListener(this.element,S.EventType.CONTEXT_MENU,O=>{S.EventHelper.stop(O,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(N){super.render(N),!!this.element&&(this.container=N,this.item=S.append(this.element,S.$("a.action-menu-item")),this._action.id===M.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=S.append(this.item,S.$("span.menu-item-check"+i.cssSelector)),this.check.setAttribute("role","none"),this.label=S.append(this.item,S.$("span.action-label")),this.options.label&&this.options.keybinding&&(S.append(this.item,S.$("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(N,I){this.item&&(this.item.setAttribute("aria-posinset",`${N}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){if(!!this.label&&this.options.label){S.clearNode(this.label);let N=n.stripIcons(this.getAction().label);if(N){const I=w(N);this.options.enableMnemonics||(N=I),this.label.setAttribute("aria-label",I.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(N);if(T){N=k.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;O&&O[1];)O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const R=F=>F.replace(/&amp;&amp;/g,"&amp;");O?this.label.append(k.ltrim(R(N.substr(0,O.index))," "),S.$("u",{"aria-hidden":"true"},O[3]),k.rtrim(R(N.substr(O.index+O[0].length))," ")):this.label.innerText=R(N).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){let N=null;this.getAction().tooltip?N=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(N=this.getAction().label,this.options.keybinding&&(N=C.localize(0,null,N,this.options.keybinding))),N&&this.item&&(this.item.title=N)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&this.element.classList.remove("disabled"),this.item&&(this.item.classList.remove("disabled"),this.item.tabIndex=0)):(this.element&&this.element.classList.add("disabled"),this.item&&(this.item.classList.add("disabled"),S.removeTabIndexAndUpdateFocus(this.item)))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!!this.menuStyle){const N=this.element&&this.element.classList.contains("focused"),I=N&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=N&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,O=N&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=I?I.toString():"",this.item.style.backgroundColor=T?T.toString():""),this.check&&(this.check.style.color=I?I.toString():""),this.container&&(this.container.style.border=O)}}style(N){this.menuStyle=N,this.applyStyle()}}class g extends m{constructor(N,I,T,O){super(N,N,O);this.submenuActions=I,this.parentData=T,this.submenuOptions=O,this.mysubmenu=null,this.submenuDisposables=this._register(new f.DisposableStore),this.mouseOver=!1,this.expandDirection=O&&O.expandDirection!==void 0?O.expandDirection:h.Right,this.showScheduler=new d.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new d.RunOnceScheduler(()=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(N){super.render(N),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=S.append(this.item,S.$("span.submenu-indicator"+u.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(S.addDisposableListener(this.element,S.EventType.KEY_UP,I=>{let T=new _.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(S.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register(S.addDisposableListener(this.element,S.EventType.KEY_DOWN,I=>{let T=new _.StandardKeyboardEvent(I);S.getActiveElement()===this.item&&(T.equals(17)||T.equals(3))&&S.EventHelper.stop(I,!0)})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register(S.addDisposableListener(this.element,S.EventType.FOCUS_OUT,I=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(N){S.EventHelper.stop(N,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(N){if(this.parentData.submenu&&(N||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(I){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(N,I,T,O){const R={top:0,left:0};return R.left=o.layout(N.width,I.width,{position:O===h.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+I.width<=N.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=o.layout(N.height,I.height,{position:0,offset:T.top,size:0}),R.top+I.height===T.top&&R.top+T.height+I.height<=N.height&&(R.top+=T.height),R}createSubmenu(N=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=S.append(this.element,S.$("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new v(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new M.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const O=this.element.getBoundingClientRect(),R={top:O.top-T,left:O.left,height:O.height+2*T,width:O.width},F=this.submenuContainer.getBoundingClientRect(),{top:D,left:B}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(F),R,this.expandDirection);this.submenuContainer.style.left=`${B}px`,this.submenuContainer.style.top=`${D}px`,this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_UP,A=>{new _.StandardKeyboardEvent(A).equals(15)&&(S.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_DOWN,A=>{new _.StandardKeyboardEvent(A).equals(15)&&S.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(N),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(N){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",N))}applyStyle(){if(super.applyStyle(),!!this.menuStyle){const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I?`${I}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends s.ActionViewItem{style(N){this.label&&(this.label.style.borderBottomColor=N.separatorColor?`${N.separatorColor}`:"")}}function w(E){const N=e.MENU_MNEMONIC_REGEX,I=N.exec(E);if(!I)return E;const T=!I[1];return E.replace(N,T?"$2$3":"").trim()}e.cleanMnemonic=w;let L=`
.monaco-menu {
	font-size: 13px;

}

${l.formatRule(i)}
${l.formatRule(u)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(Q[425],J([0,1,7,173,2,56,81,50,124]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const d=C.$;class f extends M.Disposable{constructor(o){super();this.parent=o,this.onKeyDown=c=>C.addDisposableListener(this.inputBox.inputElement,C.EventType.KEY_DOWN,a=>{c(new y.StandardKeyboardEvent(a))}),this.onMouseDown=c=>C.addDisposableListener(this.inputBox.inputElement,C.EventType.MOUSE_DOWN,a=>{c(new _.StandardMouseEvent(a))}),this.onDidChange=c=>this.inputBox.onDidChange(c),this.container=C.append(this.parent,d(".quick-input-box")),this.inputBox=this._register(new k.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(o){this.inputBox.value=o}select(o=null){this.inputBox.select(o)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(o){this.inputBox.setPlaceHolder(o)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(o){this.inputBox.setAriaLabel(o)}get password(){return this.inputBox.inputElement.type==="password"}set password(o){this.inputBox.inputElement.type=o?"password":"text"}setAttribute(o,c){this.inputBox.inputElement.setAttribute(o,c)}removeAttribute(o){this.inputBox.inputElement.removeAttribute(o)}showDecoration(o){o===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:o===S.default.Info?1:o===S.default.Warning?2:3,content:""})}stylesForType(o){return this.inputBox.stylesForType(o===S.default.Info?1:o===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(o){this.inputBox.style(o)}}e.QuickInputBox=f}),define(Q[426],J([5,6]),function(G,e){return G.create("vs/base/common/errorMessage",e)}),define(Q[427],J([0,1,426,21,19]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function y(f,p){return p&&(f.stack||f.stacktrace)?C.localize(0,null,_(f),S(f.stack)||S(f.stacktrace)):_(f)}function S(f){return Array.isArray(f)?f.join(`
`):f}function _(f){return typeof f.code=="string"&&typeof f.errno=="number"&&typeof f.syscall=="string"?C.localize(1,null,f.message):f.message||C.localize(2,null)}function d(f=null,p=!1){if(!f)return C.localize(3,null);if(Array.isArray(f)){const o=M.coalesce(f),c=d(o[0],p);return o.length>1?C.localize(4,null,c,o.length):c}if(k.isString(f))return f;if(f.detail){const o=f.detail;if(o.error)return y(o.error,p);if(o.exception)return y(o.exception,p)}return f.stack?y(f,p):f.message?f.message:C.localize(5,null)}e.toErrorMessage=d}),define(Q[428],J([5,6]),function(G,e){return G.create("vs/base/common/keybindingLabels",e)}),define(Q[233],J([0,1,428]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,_,d=_){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=_,this.modifierLabels[3]=d}toLabel(S,_,d){if(_.length===0)return null;const f=[];for(let p=0,o=_.length;p<o;p++){const c=_[p],a=d(c);if(a===null)return null;f[p]=M(c,a,this.modifierLabels[S])}return f.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:C.localize(0,null),shiftKey:C.localize(1,null),altKey:C.localize(2,null),metaKey:C.localize(3,null),separator:"+"},{ctrlKey:C.localize(4,null),shiftKey:C.localize(5,null),altKey:C.localize(6,null),metaKey:C.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:C.localize(8,null),shiftKey:C.localize(9,null),altKey:C.localize(10,null),metaKey:C.localize(11,null),separator:"+"},{ctrlKey:C.localize(12,null),shiftKey:C.localize(13,null),altKey:C.localize(14,null),metaKey:C.localize(15,null),separator:"+"},{ctrlKey:C.localize(16,null),shiftKey:C.localize(17,null),altKey:C.localize(18,null),metaKey:C.localize(19,null),separator:"+"});function M(y,S,_){if(S===null)return"";const d=[];return y.ctrlKey&&d.push(_.ctrlKey),y.shiftKey&&d.push(_.shiftKey),y.altKey&&d.push(_.altKey),y.metaKey&&d.push(_.metaKey),S!==""&&d.push(S),d.join(_.separator)}}),define(Q[429],J([0,1,39,233,7,414,299]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=M.$;class _{constructor(f,p,o){this.os=p,this.options=o,this.domNode=M.append(f,S(".monaco-keybinding")),this.didEverRender=!1,f.appendChild(this.domNode)}set(f,p){this.didEverRender&&this.keybinding===f&&_.areSame(this.matches,p)||(this.keybinding=f,this.matches=p,this.render())}render(){if(M.clearNode(this.domNode),this.keybinding){let[f,p]=this.keybinding.getParts();f&&this.renderPart(this.domNode,f,this.matches?this.matches.firstPart:null),p&&(M.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,p,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}renderPart(f,p,o){const c=k.UILabelProvider.modifierLabels[this.os];p.ctrlKey&&this.renderKey(f,c.ctrlKey,Boolean(o==null?void 0:o.ctrlKey),c.separator),p.shiftKey&&this.renderKey(f,c.shiftKey,Boolean(o==null?void 0:o.shiftKey),c.separator),p.altKey&&this.renderKey(f,c.altKey,Boolean(o==null?void 0:o.altKey),c.separator),p.metaKey&&this.renderKey(f,c.metaKey,Boolean(o==null?void 0:o.metaKey),c.separator);const a=p.keyLabel;a&&this.renderKey(f,a,Boolean(o==null?void 0:o.keyCode),"")}renderKey(f,p,o,c){M.append(f,S("span.monaco-keybinding-key"+(o?".highlight":""),void 0,p)),c&&M.append(f,S("span.monaco-keybinding-key-separator",void 0,c))}renderUnbound(f){M.append(f,S("span.monaco-keybinding-key",void 0,y.localize(0,null)))}static areSame(f,p){return f===p||!f&&!p?!0:!!f&&!!p&&C.equals(f.firstPart,p.firstPart)&&C.equals(f.chordPart,p.chordPart)}}e.KeybindingLabel=_}),define(Q[430],J([5,6]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(Q[431],J([5,6]),function(G,e){return G.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(Q[432],J([0,1,7,2,102,278,4,56,171,153,98,19,17,83,48,208,21,429,431,124]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const i=C.$;class u{constructor(E){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,E)}get checked(){return!!this._checked}set checked(E){E!==this._checked&&(this._checked=E,this._onChecked.fire(E))}dispose(){this._onChecked.dispose()}}class h{get templateId(){return h.ID}renderTemplate(E){const N=Object.create(null);N.toDisposeElement=[],N.toDisposeTemplate=[],N.entry=C.append(E,i(".quick-input-list-entry"));const I=C.append(N.entry,i("label.quick-input-list-label"));N.toDisposeTemplate.push(C.addStandardDisposableListener(I,C.EventType.CLICK,B=>{N.checkbox.offsetParent||B.preventDefault()})),N.checkbox=C.append(I,i("input.quick-input-list-checkbox")),N.checkbox.type="checkbox",N.toDisposeTemplate.push(C.addStandardDisposableListener(N.checkbox,C.EventType.CHANGE,B=>{N.element.checked=N.checkbox.checked}));const T=C.append(I,i(".quick-input-list-rows")),O=C.append(T,i(".quick-input-list-row")),R=C.append(T,i(".quick-input-list-row"));N.label=new d.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const F=C.append(O,i(".quick-input-list-entry-keybinding"));N.keybinding=new t.KeybindingLabel(F,c.OS);const D=C.append(R,i(".quick-input-list-label-meta"));return N.detail=new f.HighlightedLabel(D,!0),N.separator=C.append(N.entry,i(".quick-input-list-separator")),N.actionBar=new a.ActionBar(N.entry),N.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),N.toDisposeTemplate.push(N.actionBar),N}renderElement(E,N,I){I.toDisposeElement=k.dispose(I.toDisposeElement),I.element=E,I.checkbox.checked=E.checked,I.toDisposeElement.push(E.onChecked(B=>I.checkbox.checked=B));const{labelHighlights:T,descriptionHighlights:O,detailHighlights:R}=E,F=Object.create(null);F.matches=T||[],F.descriptionTitle=E.saneDescription,F.descriptionMatches=O||[],F.extraClasses=E.item.iconClasses,F.italic=E.item.italic,F.strikethrough=E.item.strikethrough,I.label.setLabel(E.saneLabel,E.saneDescription,F),I.keybinding.set(E.item.keybinding),I.detail.set(E.saneDetail,R),E.separator&&E.separator.label?(I.separator.textContent=E.separator.label,I.separator.style.display=""):I.separator.style.display="none",I.entry.classList.toggle("quick-input-list-separator-border",!!E.separator),I.actionBar.clear();const D=E.item.buttons;D&&D.length?(I.actionBar.push(D.map((B,A)=>{let W=B.iconClass||(B.iconPath?l.getIconClass(B.iconPath):void 0);B.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible");const V=new s.Action(`id-${A}`,"",W,!0,()=>De(this,void 0,void 0,function*(){E.fireButtonTriggered({button:B,item:E.item})}));return V.tooltip=B.tooltip||"",V}),{icon:!0,label:!1}),I.entry.classList.add("has-actions")):I.entry.classList.remove("has-actions")}disposeElement(E,N,I){I.toDisposeElement=k.dispose(I.toDisposeElement)}disposeTemplate(E){E.toDisposeElement=k.dispose(E.toDisposeElement),E.toDisposeTemplate=k.dispose(E.toDisposeTemplate)}}h.ID="listelement";class v{getHeight(E){return E.saneDetail?44:22}getTemplateId(E){return h.ID}}var m;(function(L){L[L.First=1]="First",L[L.Second=2]="Second",L[L.Last=3]="Last",L[L.Next=4]="Next",L[L.Previous=5]="Previous",L[L.NextPage=6]="NextPage",L[L.PreviousPage=7]="PreviousPage"})(m=e.QuickInputListFocus||(e.QuickInputListFocus={}));class g{constructor(E,N,I){this.parent=E,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=N,this.container=C.append(this.parent,i(".quick-input-list"));const T=new v,O=new w;this.list=I.createList("QuickInput",this.container,T,[new h],{identityProvider:{getId:R=>R.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:O}),this.list.getHTMLElement().id=N,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(R=>{const F=new _.StandardKeyboardEvent(R);switch(F.keyCode){case 10:this.toggleCheckbox();break;case 31:(c.isMacintosh?R.metaKey:R.ctrlKey)&&this.list.setFocus(o.range(this.list.length));break;case 16:const D=this.list.getFocus();D.length===1&&D[0]===0&&this._onLeave.fire();break;case 18:const B=this.list.getFocus();B.length===1&&B[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(F)})),this.disposables.push(this.list.onMouseDown(R=>{R.browserEvent.button!==2&&R.browserEvent.preventDefault()})),this.disposables.push(C.addDisposableListener(this.container,C.EventType.CLICK,R=>{(R.x||R.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(R=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(R=>{typeof R.index=="number"&&(R.browserEvent.preventDefault(),this.list.setSelection([R.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,E=>E.elements.map(N=>N.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,E=>({items:E.elements.map(N=>N.item),event:E.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(E,N=!0){for(let I=0,T=E.length;I<T;I++){const O=E[I];if(!O.hidden)if(O.checked)N=!0;else return!1}return N}getCheckedCount(){let E=0;const N=this.elements;for(let I=0,T=N.length;I<T;I++)N[I].checked&&E++;return E}getVisibleCount(){let E=0;const N=this.elements;for(let I=0,T=N.length;I<T;I++)N[I].hidden||E++;return E}setAllVisibleChecked(E){try{this._fireCheckedEvents=!1,this.elements.forEach(N=>{N.hidden||(N.checked=E)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(E){this.elementDisposables=k.dispose(this.elementDisposables);const N=I=>this.fireButtonTriggered(I);this.inputElements=E,this.elements=E.reduce((I,T,O)=>{var R,F,D;if(T.type!=="separator"){const B=O&&E[O-1],A=T.label&&T.label.replace(/\r?\n/g," "),W=T.meta&&T.meta.replace(/\r?\n/g," "),V=T.description&&T.description.replace(/\r?\n/g," "),K=T.detail&&T.detail.replace(/\r?\n/g," "),j=T.ariaLabel||[A,V,K].map(ee=>ee&&M.parseLabelWithIcons(ee).text).filter(ee=>!!ee).join(", ");I.push(new u({index:O,item:T,saneLabel:A,saneMeta:W,saneAriaLabel:j,saneDescription:V,saneDetail:K,labelHighlights:(R=T.highlights)===null||R===void 0?void 0:R.label,descriptionHighlights:(F=T.highlights)===null||F===void 0?void 0:F.description,detailHighlights:(D=T.highlights)===null||D===void 0?void 0:D.detail,checked:!1,separator:B&&B.type==="separator"?B:void 0,fireButtonTriggered:N}))}return I},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(I=>I.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((I,T,O)=>(I.set(T.item,O),I),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(E=>E.item)}setFocusedElements(E){if(this.list.setFocus(E.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N))),E.length>0){const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(E){this.list.setSelection(E.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N)))}getCheckedElements(){return this.elements.filter(E=>E.checked).map(E=>E.item)}setCheckedElements(E){try{this._fireCheckedEvents=!1;const N=new Set;for(const I of E)N.add(I);for(const I of this.elements)I.checked=N.has(I.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(E){this.list.getHTMLElement().style.pointerEvents=E?"":"none"}focus(E){if(!!this.list.length){switch(E===m.Next&&this.list.getFocus()[0]===this.list.length-1&&(E=m.First),E===m.Previous&&this.list.getFocus()[0]===0&&(E=m.Last),E===m.Second&&this.list.length<2&&(E=m.First),E){case m.First:this.list.focusFirst();break;case m.Second:this.list.focusNth(1);break;case m.Last:this.list.focusLast();break;case m.Next:this.list.focusNext();break;case m.Previous:this.list.focusPrevious();break;case m.NextPage:this.list.focusNextPage();break;case m.PreviousPage:this.list.focusPreviousPage();break}const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(E){this.list.getHTMLElement().style.maxHeight=E?`calc(${Math.floor(E/44)*44}px)`:"",this.list.layout()}filter(E){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;E=E.trim(),!E||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach(I=>{I.labelHighlights=void 0,I.descriptionHighlights=void 0,I.detailHighlights=void 0,I.hidden=!1;const T=I.index&&this.inputElements[I.index-1];I.separator=T&&T.type==="separator"?T:void 0}):this.elements.forEach(I=>{const T=this.matchOnLabel?r.withNullAsUndefined(M.matchesFuzzyIconAware(E,M.parseLabelWithIcons(I.saneLabel))):void 0,O=this.matchOnDescription?r.withNullAsUndefined(M.matchesFuzzyIconAware(E,M.parseLabelWithIcons(I.saneDescription||""))):void 0,R=this.matchOnDetail?r.withNullAsUndefined(M.matchesFuzzyIconAware(E,M.parseLabelWithIcons(I.saneDetail||""))):void 0,F=this.matchOnMeta?r.withNullAsUndefined(M.matchesFuzzyIconAware(E,M.parseLabelWithIcons(I.saneMeta||""))):void 0;T||O||R||F?(I.labelHighlights=T,I.descriptionHighlights=O,I.detailHighlights=R,I.hidden=!1):(I.labelHighlights=void 0,I.descriptionHighlights=void 0,I.detailHighlights=void 0,I.hidden=!I.item.alwaysShow),I.separator=void 0});const N=this.elements.filter(I=>!I.hidden);if(this.sortByLabel&&E){const I=E.toLowerCase();N.sort((T,O)=>b(T,O,I))}return this.elementsToIndexes=N.reduce((I,T,O)=>(I.set(T.item,O),I),new Map),this.list.splice(0,this.list.length,N),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(N.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const E=this.list.getFocusedElements(),N=this.allVisibleChecked(E);for(const I of E)I.checked=!N}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(E){this.container.style.display=E?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=k.dispose(this.elementDisposables),this.disposables=k.dispose(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(E){this._onButtonTriggered.fire(E)}style(E){this.list.style(E)}}Me([p.memoize],g.prototype,"onDidChangeFocus",null),Me([p.memoize],g.prototype,"onDidChangeSelection",null),e.QuickInputList=g;function b(L,E,N){const I=L.labelHighlights||[],T=E.labelHighlights||[];return I.length&&!T.length?-1:!I.length&&T.length?1:I.length===0&&T.length===0?0:y.compareAnything(L.saneLabel,E.saneLabel,N)}class w{getWidgetAriaLabel(){return n.localize(0,null)}getAriaLabel(E){return E.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(Q[433],J([0,1,200,7,25,432,425,56,430,203,302,4,290,2,81,83,48,19,15,208,27,8,103,124]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=k.$,b={iconClass:u.registerCodicon("quick-input-back",u.Codicon.arrowLeft).classNames,tooltip:d.localize(0,null),handle:-1};class w extends a.Disposable{constructor(I){super();this.ui=I,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new a.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(I){this._title=I,this.update()}get description(){return this._description}set description(I){this._description=I,this.update()}get step(){return this._steps}set step(I){this._steps=I,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(I){this._totalSteps=I,this.update()}get enabled(){return this._enabled}set enabled(I){this._enabled=I,this.update()}get contextKey(){return this._contextKey}set contextKey(I){this._contextKey=I,this.update()}get busy(){return this._busy}set busy(I){this._busy=I,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(I){this._ignoreFocusOut=I,this.update()}get buttons(){return this._buttons}set buttons(I){this._buttons=I,this.buttonsUpdated=!0,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(I=>{this.buttons.indexOf(I)!==-1&&this.onDidTriggerButtonEmitter.fire(I)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire()}update(){if(!!this.visible){const I=this.getTitle();I&&this.ui.title.textContent!==I?this.ui.title.textContent=I:!I&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const T=this.getDescription();if(this.ui.description1.textContent!==T&&(this.ui.description1.textContent=T),this.ui.description2.textContent!==T&&(this.ui.description2.textContent=T),this.busy&&!this.busyDelay&&(this.busyDelay=new n.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(F=>F===b);this.ui.leftActionBar.push(O.map((F,D)=>{const B=new r.Action(`id-${D}`,"",F.iconClass||i.getIconClass(F.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return B.tooltip=F.tooltip||"",B}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const R=this.buttons.filter(F=>F!==b);this.ui.rightActionBar.push(R.map((F,D)=>{const B=new r.Action(`id-${D}`,"",F.iconClass||i.getIconClass(F.iconPath),!0,()=>De(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(F)}));return B.tooltip=F.tooltip||"",B}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?d.localize(1,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(I){if(this.ui.inputBox.showDecoration(I),I===s.default.Error){const T=this.ui.inputBox.stylesForType(I);this.ui.message.style.color=T.foreground?`${T.foreground}`:"",this.ui.message.style.backgroundColor=T.background?`${T.background}`:"",this.ui.message.style.border=T.border?`1px solid ${T.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class L extends w{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?C.ItemActivation.NONE:C.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=I=>I,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(I){this._quickNavigate=I,this.update()}get value(){return this._value}set value(I){this._value=I||"",this.update()}set ariaLabel(I){this._ariaLabel=I,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(I){this._placeholder=I,this.update()}get items(){return this._items}set items(I){this._items=I,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(I){this._canSelectMany=I,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(I){this._canAcceptInBackground=I}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(I){this._matchOnDescription=I,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(I){this._matchOnDetail=I,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(I){this._matchOnLabel=I,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(I){this._sortByLabel=I,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(I){this._autoFocusOnList=I,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(I){this._itemActivation=I}get activeItems(){return this._activeItems}set activeItems(I){this._activeItems=I,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(I){this._selectedItems=I,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?C.NO_KEY_MODS:this.ui.keyMods}set valueSelection(I){this._valueSelection=I,this.valueSelectionUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(I){this._validationMessage=I,this.update()}get customButton(){return this._customButton}set customButton(I){this._customButton=I,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(I){this._customButtonLabel=I,this.update()}get customHover(){return this._customButtonHover}set customHover(I){this._customButtonHover=I,this.update()}get ok(){return this._ok}set ok(I){this._ok=I,this.update()}get hideInput(){return!!this._hideInput}set hideInput(I){this._hideInput=I,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(y.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(I=>{I!==this.value&&(this._value=I,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(I))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(I=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(I=>{switch(I.keyCode){case 18:this.ui.list.focus(y.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(y.QuickInputListFocus.Previous):this.ui.list.focus(y.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 12:this.ui.list.focus(y.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 11:this.ui.list.focus(y.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),k.EventHelper.stop(I,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(y.QuickInputListFocus.First),k.EventHelper.stop(I,!0));break;case 13:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(y.QuickInputListFocus.Last),k.EventHelper.stop(I,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(I=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&t.equals(I,this._activeItems,(T,O)=>T===O)||(this._activeItems=I,this.onDidChangeActiveEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:I,event:T})=>{if(this.canSelectMany){I.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&t.equals(I,this._selectedItems,(O,R)=>O===R)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I),I.length&&this.onDidAcceptEmitter.fire({inBackground:T instanceof MouseEvent&&T.button===1}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(I=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&t.equals(I,this._selectedItems,(T,O)=>T===O)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(I=>this.onDidTriggerItemButtonEmitter.fire(I))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return k.addDisposableListener(this.ui.container,k.EventType.KEY_UP,I=>{if(!(this.canSelectMany||!this._quickNavigate)){const T=new _.StandardKeyboardEvent(I),O=T.keyCode;this._quickNavigate.keybindings.some(D=>{const[B,A]=D.getParts();return A?!1:B.shiftKey&&O===4?!(T.ctrlKey||T.altKey||T.metaKey):!!(B.altKey&&O===6||B.ctrlKey&&O===5||B.metaKey&&O===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}})}update(){if(!!this.visible){let I=!1,T=!1;!!this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?T=!0:I=!0),this.ui.container.classList.toggle("hidden-input",I&&!this.description);const O={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!I,progressBar:!I,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(O),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),T)this.ui.inputBox.ariaLabel="";else{const F=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==F&&(this.ui.inputBox.ariaLabel=F)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case C.ItemActivation.NONE:this._itemActivation=C.ItemActivation.FIRST;break;case C.ItemActivation.SECOND:this.ui.list.focus(y.QuickInputListFocus.Second),this._itemActivation=C.ItemActivation.FIRST;break;case C.ItemActivation.LAST:this.ui.list.focus(y.QuickInputListFocus.Last),this._itemActivation=C.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null));const R=this.validationMessage||"";this._lastValidationMessage!==R&&(this._lastValidationMessage=R,k.reset(this.ui.message,...v.renderLabelWithIcons(h.escape(R))),this.showMessageDecoration(this.validationMessage?s.default.Error:s.default.Ignore)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),O.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(y.QuickInputListFocus.First))}}}L.DEFAULT_ARIA_LABEL=d.localize(2,null);class E extends a.Disposable{constructor(I){super();this.options=I,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=I.idPrefix,this.parentElement=I.container,this.styles=I.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const I=T=>{this.keyMods.ctrlCmd=T.ctrlKey||T.metaKey,this.keyMods.alt=T.altKey};this._register(k.addDisposableListener(window,k.EventType.KEY_DOWN,I,!0)),this._register(k.addDisposableListener(window,k.EventType.KEY_UP,I,!0)),this._register(k.addDisposableListener(window,k.EventType.MOUSE_DOWN,I,!0))}getUI(){if(this.ui)return this.ui;const I=k.append(this.parentElement,m(".quick-input-widget.show-file-icons"));I.tabIndex=-1,I.style.display="none";const T=k.createStyleSheet(I),O=k.append(I,m(".quick-input-titlebar")),R=this._register(new l.ActionBar(O));R.domNode.classList.add("quick-input-left-action-bar");const F=k.append(O,m(".quick-input-title")),D=this._register(new l.ActionBar(O));D.domNode.classList.add("quick-input-right-action-bar");const B=k.append(I,m(".quick-input-description")),A=k.append(I,m(".quick-input-header")),W=k.append(A,m("input.quick-input-check-all"));W.type="checkbox",this._register(k.addStandardDisposableListener(W,k.EventType.CHANGE,ue=>{const Z=W.checked;ie.setAllVisibleChecked(Z)})),this._register(k.addDisposableListener(W,k.EventType.CLICK,ue=>{(ue.x||ue.y)&&ee.setFocus()}));const V=k.append(A,m(".quick-input-description")),K=k.append(A,m(".quick-input-and-message")),j=k.append(K,m(".quick-input-filter")),ee=this._register(new S.QuickInputBox(j));ee.setAttribute("aria-describedby",`${this.idPrefix}message`);const re=k.append(j,m(".quick-input-visible-count"));re.setAttribute("aria-live","polite"),re.setAttribute("aria-atomic","true");const te=new f.CountBadge(re,{countFormat:d.localize(3,null)}),ae=k.append(j,m(".quick-input-count"));ae.setAttribute("aria-live","polite");const Y=new f.CountBadge(ae,{countFormat:d.localize(4,null)}),P=k.append(A,m(".quick-input-action")),x=new c.Button(P);x.label=d.localize(5,null),this._register(x.onDidClick(ue=>{this.onDidAcceptEmitter.fire()}));const z=k.append(A,m(".quick-input-action")),U=new c.Button(z);U.label=d.localize(6,null),this._register(U.onDidClick(ue=>{this.onDidCustomEmitter.fire()}));const H=k.append(K,m(`#${this.idPrefix}message.quick-input-message`)),q=new p.ProgressBar(I);q.getContainer().classList.add("quick-input-progress");const ie=this._register(new y.QuickInputList(I,this.idPrefix+"list",this.options));this._register(ie.onChangedAllVisibleChecked(ue=>{W.checked=ue})),this._register(ie.onChangedVisibleCount(ue=>{te.setCount(ue)})),this._register(ie.onChangedCheckedCount(ue=>{Y.setCount(ue)})),this._register(ie.onLeave(()=>{setTimeout(()=>{ee.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&ie.clearFocus()},0)})),this._register(ie.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ce=k.trackFocus(I);return this._register(ce),this._register(k.addDisposableListener(I,k.EventType.FOCUS,ue=>{this.previousFocusElement=ue.relatedTarget instanceof HTMLElement?ue.relatedTarget:void 0},!0)),this._register(ce.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(),this.previousFocusElement=void 0})),this._register(k.addDisposableListener(I,k.EventType.FOCUS,ue=>{ee.setFocus()})),this._register(k.addDisposableListener(I,k.EventType.KEY_DOWN,ue=>{const Z=new _.StandardKeyboardEvent(ue);switch(Z.keyCode){case 3:k.EventHelper.stop(ue,!0),this.onDidAcceptEmitter.fire();break;case 9:k.EventHelper.stop(ue,!0),this.hide();break;case 2:if(!Z.altKey&&!Z.ctrlKey&&!Z.metaKey){const ne=[".action-label.codicon"];I.classList.contains("show-checkboxes")?ne.push("input"):ne.push("input[type=text]"),this.getUI().list.isDisplayed()&&ne.push(".monaco-list");const $=I.querySelectorAll(ne.join(", "));Z.shiftKey&&Z.target===$[0]?(k.EventHelper.stop(ue,!0),$[$.length-1].focus()):!Z.shiftKey&&Z.target===$[$.length-1]&&(k.EventHelper.stop(ue,!0),$[0].focus())}break}})),this.ui={container:I,styleSheet:T,leftActionBar:R,titleBar:O,title:F,description1:B,description2:V,rightActionBar:D,checkAll:W,filterContainer:j,inputBox:ee,visibleCountContainer:re,visibleCount:te,countContainer:ae,count:Y,okContainer:P,ok:x,message:H,customButtonContainer:z,customButton:U,progressBar:q,list:ie,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:ue=>this.show(ue),hide:()=>this.hide(),setVisibilities:ue=>this.setVisibilities(ue),setComboboxAccessibility:ue=>this.setComboboxAccessibility(ue),setEnabled:ue=>this.setEnabled(ue),setContextKey:ue=>this.options.setContextKey(ue)},this.updateStyles(),this.ui}pick(I,T={},O=M.CancellationToken.None){return new Promise((R,F)=>{let D=V=>{D=R,T.onKeyMods&&T.onKeyMods(B.keyMods),R(V)};if(O.isCancellationRequested){D(void 0);return}const B=this.createQuickPick();let A;const W=[B,B.onDidAccept(()=>{if(B.canSelectMany)D(B.selectedItems.slice()),B.hide();else{const V=B.activeItems[0];V&&(D(V),B.hide())}}),B.onDidChangeActive(V=>{const K=V[0];K&&T.onDidFocus&&T.onDidFocus(K)}),B.onDidChangeSelection(V=>{if(!B.canSelectMany){const K=V[0];K&&(D(K),B.hide())}}),B.onDidTriggerItemButton(V=>T.onDidTriggerItemButton&&T.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const K=B.items.indexOf(V.item);if(K!==-1){const j=B.items.slice();j.splice(K,1),B.items=j}}}))),B.onDidChangeValue(V=>{A&&!V&&(B.activeItems.length!==1||B.activeItems[0]!==A)&&(B.activeItems=[A])}),O.onCancellationRequested(()=>{B.hide()}),B.onDidHide(()=>{a.dispose(W),D(void 0)})];B.canSelectMany=!!T.canPickMany,B.placeholder=T.placeHolder,B.ignoreFocusOut=!!T.ignoreFocusLost,B.matchOnDescription=!!T.matchOnDescription,B.matchOnDetail=!!T.matchOnDetail,B.matchOnLabel=T.matchOnLabel===void 0||T.matchOnLabel,B.autoFocusOnList=T.autoFocusOnList===void 0||T.autoFocusOnList,B.quickNavigate=T.quickNavigate,B.contextKey=T.contextKey,B.busy=!0,Promise.all([I,T.activeItem]).then(([V,K])=>{A=K,B.busy=!1,B.items=V,B.canSelectMany&&(B.selectedItems=V.filter(j=>j.type!=="separator"&&j.picked)),A&&(B.activeItems=[A])}),B.show(),Promise.resolve(I).then(void 0,V=>{F(V),B.hide()})})}createQuickPick(){const I=this.getUI();return new L(I)}show(I){const T=this.getUI();this.onShowEmitter.fire();const O=this.controller;this.controller=I,O&&O.didHide(),this.setEnabled(!0),T.leftActionBar.clear(),T.title.textContent="",T.description1.textContent="",T.description2.textContent="",T.rightActionBar.clear(),T.checkAll.checked=!1,T.inputBox.placeholder="",T.inputBox.password=!1,T.inputBox.showDecoration(s.default.Ignore),T.visibleCount.setCount(0),T.count.setCount(0),k.reset(T.message),T.progressBar.stop(),T.list.setElements([]),T.list.matchOnDescription=!1,T.list.matchOnDetail=!1,T.list.matchOnLabel=!0,T.list.sortByLabel=!0,T.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),T.inputBox.ariaLabel="";const R=this.options.backKeybindingLabel();b.tooltip=R?d.localize(7,null,R):d.localize(8,null),T.container.style.display="",this.updateLayout(),T.inputBox.setFocus()}setVisibilities(I){const T=this.getUI();T.title.style.display=I.title?"":"none",T.description1.style.display=I.description&&(I.inputBox||I.checkAll)?"":"none",T.description2.style.display=I.description&&!(I.inputBox||I.checkAll)?"":"none",T.checkAll.style.display=I.checkAll?"":"none",T.filterContainer.style.display=I.inputBox?"":"none",T.visibleCountContainer.style.display=I.visibleCount?"":"none",T.countContainer.style.display=I.count?"":"none",T.okContainer.style.display=I.ok?"":"none",T.customButtonContainer.style.display=I.customButton?"":"none",T.message.style.display=I.message?"":"none",T.progressBar.getContainer().style.display=I.progressBar?"":"none",T.list.display(!!I.list),T.container.classList[I.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(I){if(I!==this.comboboxAccessibility){const T=this.getUI();this.comboboxAccessibility=I,this.comboboxAccessibility?(T.inputBox.setAttribute("role","combobox"),T.inputBox.setAttribute("aria-haspopup","true"),T.inputBox.setAttribute("aria-autocomplete","list"),T.inputBox.setAttribute("aria-activedescendant",T.list.getActiveDescendant()||"")):(T.inputBox.removeAttribute("role"),T.inputBox.removeAttribute("aria-haspopup"),T.inputBox.removeAttribute("aria-autocomplete"),T.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(I){if(I!==this.enabled){this.enabled=I;for(const T of this.getUI().leftActionBar.viewItems)T.getAction().enabled=I;for(const T of this.getUI().rightActionBar.viewItems)T.getAction().enabled=I;this.getUI().checkAll.disabled=!I,this.getUI().ok.enabled=I,this.getUI().list.enabled=I}}hide(){var I;const T=this.controller;if(T){const O=!((I=this.ui)===null||I===void 0?void 0:I.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",O||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),T.didHide()}}layout(I,T){this.dimension=I,this.titleBarOffset=T,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const I=this.ui.container.style,T=Math.min(this.dimension.width*.62,E.MAX_WIDTH);I.width=T+"px",I.marginLeft="-"+T/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(I){this.styles=I,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:I,quickInputBackground:T,quickInputForeground:O,contrastBorder:R,widgetShadow:F}=this.styles.widget;this.ui.titleBar.style.backgroundColor=I?I.toString():"",this.ui.container.style.backgroundColor=T?T.toString():"",this.ui.container.style.color=O?O.toString():"",this.ui.container.style.border=R?`1px solid ${R}`:"",this.ui.container.style.boxShadow=F?`0 0 8px 2px ${F}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const D=[];this.styles.list.listInactiveFocusForeground&&(D.push(`.monaco-list .monaco-list-row.focused { color:  ${this.styles.list.listInactiveFocusForeground}; }`),D.push(`.monaco-list .monaco-list-row.focused:hover { color:  ${this.styles.list.listInactiveFocusForeground}; }`)),this.styles.list.pickerGroupBorder&&D.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&D.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);const B=D.join(`
`);B!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=B)}}}e.QuickInputController=E,E.MAX_WIDTH=600}),define(Q[434],J([5,6]),function(G,e){return G.create("vs/editor/browser/controller/coreCommands",e)}),define(Q[435],J([5,6]),function(G,e){return G.create("vs/editor/browser/controller/textAreaHandler",e)}),define(Q[436],J([5,6]),function(G,e){return G.create("vs/editor/browser/editorExtensions",e)}),define(Q[437],J([5,6]),function(G,e){return G.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(Q[438],J([5,6]),function(G,e){return G.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(Q[439],J([5,6]),function(G,e){return G.create("vs/editor/browser/widget/diffReview",e)}),define(Q[440],J([5,6]),function(G,e){return G.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(Q[441],J([0,1,440,7,48,2,3,27]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class d extends y.Disposable{constructor(p,o,c,a,s,l){super();this._viewZoneId=p,this._marginDomNode=o,this.editor=c,this.diff=a,this._contextMenuService=s,this._clipboardService=l,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=c.getOption(53),t=c.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const n=[];n.push(new M.Action("diff.clipboard.copyDeletedContent",a.originalEndLineNumber>a.modifiedStartLineNumber?C.localize(0,null):C.localize(1,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),g=a.originalModel.getValueInRange(m);yield this._clipboardService.writeText(g)})));let i=0,u;a.originalEndLineNumber>a.modifiedStartLineNumber&&(u=new M.Action("diff.clipboard.copyDeletedLineContent",C.localize(2,null,a.originalStartLineNumber),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=a.originalModel.getLineContent(a.originalStartLineNumber+i);yield this._clipboardService.writeText(m)})),n.push(u)),c.getOption(75)||n.push(new M.Action("diff.inline.revertChange",C.localize(3,null),void 0,!0,()=>De(this,void 0,void 0,function*(){const m=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),g=a.originalModel.getValueInRange(m);if(a.modifiedEndLineNumber===0){const b=c.getModel().getLineMaxColumn(a.modifiedStartLineNumber);c.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,b,a.modifiedStartLineNumber,b),text:t+g}])}else{const b=c.getModel().getLineMaxColumn(a.modifiedEndLineNumber);c.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,b),text:g}])}})));const v=(m,g)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:g}),getActions:()=>(u&&(u.label=C.localize(4,null,a.originalStartLineNumber+i)),n),autoSelectFirstItem:!0})};this._register(k.addStandardDisposableListener(this._diffActions,"mousedown",m=>{const{top:g,height:b}=k.getDomNodePagePosition(this._diffActions);let w=Math.floor(r/3);m.preventDefault(),v(m.posx,g+b+w)})),this._register(c.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,i=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(c.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),i=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,r),v(m.event.posx,m.event.posy+r))}))}get visibility(){return this._visibility}set visibility(p){this._visibility!==p&&(this._visibility=p,p?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(p,o,c){const{top:a}=k.getDomNodePagePosition(p),s=o-a,l=Math.floor(s/c),r=l*c;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let t=0;for(let n=0;n<this.diff.viewLineCounts.length;n++)if(t+=this.diff.viewLineCounts[n],l<t)return n}return l}}e.InlineDiffMargin=d}),define(Q[442],J([5,6]),function(G,e){return G.create("vs/editor/common/config/commonEditorConfig",e)}),define(Q[443],J([5,6]),function(G,e){return G.create("vs/editor/common/config/editorOptions",e)}),define(Q[37],J([0,1,443,17,127]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class y{constructor($){this._values=$}hasChanged($){return this._values[$]}}e.ConfigurationChangedEvent=y;class S{constructor(){this._values=[]}_read($){return this._values[$]}get($){return this._values[$]}_write($,X){this._values[$]=X}}e.ValidatedEditorOptions=S;class _{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=_;class d{constructor($,X,de,fe){this.id=$,this.name=X,this.defaultValue=de,this.schema=fe}compute($,X,de){return de}}class f{constructor($,X=null){this.schema=void 0,this.id=$,this.name="_never_",this.defaultValue=void 0,this.deps=X}validate($){return this.defaultValue}}class p{constructor($,X,de,fe){this.id=$,this.name=X,this.defaultValue=de,this.schema=fe}validate($){return typeof $=="undefined"?this.defaultValue:$}compute($,X,de){return de}}function o(ne,$){return typeof ne=="undefined"?$:ne==="false"?!1:Boolean(ne)}e.boolean=o;class c extends p{constructor($,X,de,fe=void 0){typeof fe!="undefined"&&(fe.type="boolean",fe.default=de),super($,X,de,fe)}validate($){return o($,this.defaultValue)}}class a extends p{constructor($,X,de,fe,se,le=void 0){typeof le!="undefined"&&(le.type="integer",le.default=de,le.minimum=fe,le.maximum=se),super($,X,de,le),this.minimum=fe,this.maximum=se}static clampedInt($,X,de,fe){if(typeof $=="undefined")return X;let se=parseInt($,10);return isNaN(se)?X:(se=Math.max(de,se),se=Math.min(fe,se),se|0)}validate($){return a.clampedInt($,this.defaultValue,this.minimum,this.maximum)}}class s extends p{constructor($,X,de,fe,se){typeof se!="undefined"&&(se.type="number",se.default=de),super($,X,de,se),this.validationFn=fe}static clamp($,X,de){return $<X?X:$>de?de:$}static float($,X){if(typeof $=="number")return $;if(typeof $=="undefined")return X;const de=parseFloat($);return isNaN(de)?X:de}validate($){return this.validationFn(s.float($,this.defaultValue))}}class l extends p{static string($,X){return typeof $!="string"?X:$}constructor($,X,de,fe=void 0){typeof fe!="undefined"&&(fe.type="string",fe.default=de),super($,X,de,fe)}validate($){return l.string($,this.defaultValue)}}function r(ne,$,X){return typeof ne!="string"||X.indexOf(ne)===-1?$:ne}e.stringSet=r;class t extends p{constructor($,X,de,fe,se=void 0){typeof se!="undefined"&&(se.type="string",se.enum=fe,se.default=de),super($,X,de,se),this._allowedValues=fe}validate($){return r($,this.defaultValue,this._allowedValues)}}class n extends d{constructor($,X,de,fe,se,le,me=void 0){typeof me!="undefined"&&(me.type="string",me.enum=se,me.default=fe),super($,X,de,me),this._allowedValues=se,this._convert=le}validate($){return typeof $!="string"?this.defaultValue:this._allowedValues.indexOf($)===-1?this.defaultValue:this._convert($)}}function i(ne){switch(ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class u extends d{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[C.localize(0,null),C.localize(1,null),C.localize(2,null)],default:"auto",description:C.localize(3,null)})}validate($){switch($){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute($,X,de){return de===0?$.accessibilitySupport:de}}class h extends d{constructor(){const $={insertSpace:!0,ignoreEmptyLines:!0};super(16,"comments",$,{"editor.comments.insertSpace":{type:"boolean",default:$.insertSpace,description:C.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:$.ignoreEmptyLines,description:C.localize(5,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{insertSpace:o(X.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:o(X.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function v(ne){switch(ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var m;(function(ne){ne[ne.Line=1]="Line",ne[ne.Block=2]="Block",ne[ne.Underline=3]="Underline",ne[ne.LineThin=4]="LineThin",ne[ne.BlockOutline=5]="BlockOutline",ne[ne.UnderlineThin=6]="UnderlineThin"})(m=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function g(ne){switch(ne){case"line":return m.Line;case"block":return m.Block;case"underline":return m.Underline;case"line-thin":return m.LineThin;case"block-outline":return m.BlockOutline;case"underline-thin":return m.UnderlineThin}}class b extends f{constructor(){super(120,[60,29])}compute($,X,de){const fe=["monaco-editor"];return X.get(29)&&fe.push(X.get(29)),$.extraEditorClassName&&fe.push($.extraEditorClassName),X.get(60)==="default"?fe.push("mouse-default"):X.get(60)==="copy"&&fe.push("mouse-copy"),X.get(95)&&fe.push("showUnused"),X.get(119)&&fe.push("showDeprecated"),fe.join(" ")}}class w extends c{constructor(){super(28,"emptySelectionClipboard",!0,{description:C.localize(6,null)})}compute($,X,de){return de&&$.emptySelectionClipboard}}class L extends d{constructor(){const $={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,"find",$,{"editor.find.cursorMoveOnType":{type:"boolean",default:$.cursorMoveOnType,description:C.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:$.seedSearchStringFromSelection,description:C.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:$.autoFindInSelection,enumDescriptions:[C.localize(9,null),C.localize(10,null),C.localize(11,null)],description:C.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:$.globalFindClipboard,description:C.localize(13,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:$.addExtraSpaceOnTop,description:C.localize(14,null)},"editor.find.loop":{type:"boolean",default:$.loop,description:C.localize(15,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{cursorMoveOnType:o(X.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:o(X.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof $.autoFindInSelection=="boolean"?$.autoFindInSelection?"always":"never":r(X.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:o(X.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:o(X.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:o(X.loop,this.defaultValue.loop)}}}class E extends d{constructor(){super(39,"fontLigatures",E.OFF,{anyOf:[{type:"boolean",description:C.localize(16,null)},{type:"string",description:C.localize(17,null)}],description:C.localize(18,null),default:!1})}validate($){return typeof $=="undefined"?this.defaultValue:typeof $=="string"?$==="false"?E.OFF:$==="true"?E.ON:$:Boolean($)?E.ON:E.OFF}}e.EditorFontLigatures=E,E.OFF='"liga" off, "calt" off',E.ON='"liga" on, "calt" on';class N extends f{constructor(){super(38)}compute($,X,de){return $.fontInfo}}class I extends p{constructor(){super(40,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:C.localize(19,null)})}validate($){let X=s.float($,this.defaultValue);return X===0?e.EDITOR_FONT_DEFAULTS.fontSize:s.clamp(X,6,100)}compute($,X,de){return $.fontInfo.fontSize}}class T extends d{constructor(){super(41,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:T.MINIMUM_VALUE,maximum:T.MAXIMUM_VALUE,errorMessage:C.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:T.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:C.localize(21,null)})}validate($){return $==="normal"||$==="bold"?$:String(a.clampedInt($,e.EDITOR_FONT_DEFAULTS.fontWeight,T.MINIMUM_VALUE,T.MAXIMUM_VALUE))}}T.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],T.MINIMUM_VALUE=1,T.MAXIMUM_VALUE=1e3;class O extends d{constructor(){const $={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},X={type:"string",enum:["peek","gotoAndPeek","goto"],default:$.multiple,enumDescriptions:[C.localize(22,null),C.localize(23,null),C.localize(24,null)]};super(45,"gotoLocation",$,{"editor.gotoLocation.multiple":{deprecationMessage:C.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:C.localize(26,null)},X),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:C.localize(27,null)},X),"editor.gotoLocation.multipleDeclarations":Object.assign({description:C.localize(28,null)},X),"editor.gotoLocation.multipleImplementations":Object.assign({description:C.localize(29,null)},X),"editor.gotoLocation.multipleReferences":Object.assign({description:C.localize(30,null)},X),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:$.alternativeDefinitionCommand,description:C.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:$.alternativeTypeDefinitionCommand,description:C.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:$.alternativeDeclarationCommand,description:C.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:$.alternativeImplementationCommand,description:C.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:$.alternativeReferenceCommand,description:C.localize(35,null)}})}validate($){var X,de,fe,se,le;if(!$||typeof $!="object")return this.defaultValue;const me=$;return{multiple:r(me.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(X=me.multipleDefinitions)!==null&&X!==void 0?X:r(me.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(de=me.multipleTypeDefinitions)!==null&&de!==void 0?de:r(me.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(fe=me.multipleDeclarations)!==null&&fe!==void 0?fe:r(me.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(se=me.multipleImplementations)!==null&&se!==void 0?se:r(me.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(le=me.multipleReferences)!==null&&le!==void 0?le:r(me.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(me.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(me.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(me.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(me.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(me.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class R extends d{constructor(){const $={enabled:!0,delay:300,sticky:!0};super(48,"hover",$,{"editor.hover.enabled":{type:"boolean",default:$.enabled,description:C.localize(36,null)},"editor.hover.delay":{type:"number",default:$.delay,description:C.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:$.sticky,description:C.localize(38,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{enabled:o(X.enabled,this.defaultValue.enabled),delay:a.clampedInt(X.delay,this.defaultValue.delay,0,1e4),sticky:o(X.sticky,this.defaultValue.sticky)}}}class F extends f{constructor(){super(123,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute($,X,de){return F.computeLayout(X,{memory:$.memory,outerWidth:$.outerWidth,outerHeight:$.outerHeight,isDominatedByLongLines:$.isDominatedByLongLines,lineHeight:$.fontInfo.lineHeight,viewLineCount:$.viewLineCount,lineNumbersDigitCount:$.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:$.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:$.fontInfo.maxDigitWidth,pixelRatio:$.pixelRatio})}static computeContainedMinimapLineCount($){const X=$.height/$.lineHeight,de=$.scrollBeyondLastLine?X-1:0,fe=($.viewLineCount+de)/($.pixelRatio*$.height),se=Math.floor($.viewLineCount/fe);return{typicalViewportLineCount:X,extraLinesBeyondLastLine:de,desiredRatio:fe,minimapLineCount:se}}static _computeMinimapLayout($,X){const de=$.outerWidth,fe=$.outerHeight,se=$.pixelRatio;if(!$.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(se*fe),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:fe};const le=X.stableMinimapLayoutInput,me=le&&$.outerHeight===le.outerHeight&&$.lineHeight===le.lineHeight&&$.typicalHalfwidthCharacterWidth===le.typicalHalfwidthCharacterWidth&&$.pixelRatio===le.pixelRatio&&$.scrollBeyondLastLine===le.scrollBeyondLastLine&&$.minimap.enabled===le.minimap.enabled&&$.minimap.side===le.minimap.side&&$.minimap.size===le.minimap.size&&$.minimap.showSlider===le.minimap.showSlider&&$.minimap.renderCharacters===le.minimap.renderCharacters&&$.minimap.maxColumn===le.minimap.maxColumn&&$.minimap.scale===le.minimap.scale&&$.verticalScrollbarWidth===le.verticalScrollbarWidth&&$.isViewportWrapping===le.isViewportWrapping,be=$.lineHeight,ye=$.typicalHalfwidthCharacterWidth,Le=$.scrollBeyondLastLine,Ie=$.minimap.renderCharacters;let Te=se>=2?Math.round($.minimap.scale*2):$.minimap.scale;const Ne=$.minimap.maxColumn,Pe=$.minimap.size,Fe=$.minimap.side,Re=$.verticalScrollbarWidth,Be=$.viewLineCount,Se=$.remainingWidth,Ce=$.isViewportWrapping,ge=Ie?2:3;let oe=Math.floor(se*fe);const he=oe/se;let _e=!1,ve=!1,we=ge*Te,Ee=Te/se,ke=1;if(Pe==="fill"||Pe==="fit"){const{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:je,desiredRatio:Ke,minimapLineCount:qe}=F.computeContainedMinimapLineCount({viewLineCount:Be,scrollBeyondLastLine:Le,height:fe,lineHeight:be,pixelRatio:se});if(Be/qe>1)_e=!0,ve=!0,Te=1,we=1,Ee=Te/se;else{let Ze=!1,Ge=Te+1;if(Pe==="fit"){const Xe=Math.ceil((Be+je)*we);Ce&&me&&Se<=X.stableFitRemainingWidth?(Ze=!0,Ge=X.stableFitMaxMinimapScale):(Ze=Xe>oe,Ce&&Ze?(X.stableMinimapLayoutInput=$,X.stableFitRemainingWidth=Se):(X.stableMinimapLayoutInput=null,X.stableFitRemainingWidth=0))}if(Pe==="fill"||Ze){_e=!0;const Xe=Te;we=Math.min(be*se,Math.max(1,Math.floor(1/Ke))),Te=Math.min(Ge,Math.max(1,Math.floor(we/ge))),Te>Xe&&(ke=Math.min(2,Te/Xe)),Ee=Te/se/ke,oe=Math.ceil(Math.max(Ue,Be+je)*we),Ce&&Ze&&(X.stableFitMaxMinimapScale=Te)}}}const Ae=Math.floor(Ne*Ee),xe=Math.min(Ae,Math.max(0,Math.floor((Se-Re-2)*Ee/(ye+Ee)))+e.MINIMAP_GUTTER_WIDTH);let We=Math.floor(se*xe);const He=We/se;We=Math.floor(We*ke);const ze=Ie?1:2,Oe=Fe==="left"?0:de-xe-Re;return{renderMinimap:ze,minimapLeft:Oe,minimapWidth:xe,minimapHeightIsEditorHeight:_e,minimapIsSampling:ve,minimapScale:Te,minimapLineHeight:we,minimapCanvasInnerWidth:We,minimapCanvasInnerHeight:oe,minimapCanvasOuterWidth:He,minimapCanvasOuterHeight:he}}static computeLayout($,X){const de=X.outerWidth|0,fe=X.outerHeight|0,se=X.lineHeight|0,le=X.lineNumbersDigitCount|0,me=X.typicalHalfwidthCharacterWidth,be=X.maxDigitWidth,ye=X.pixelRatio,Le=X.viewLineCount,Ie=$.get(116),Te=Ie==="inherit"?$.get(115):Ie,Ne=Te==="inherit"?$.get(111):Te,Pe=$.get(114),Fe=$.get(2),Re=X.isDominatedByLongLines,Be=$.get(44),Se=$.get(54).renderType!==0,Ce=$.get(55),ge=$.get(89),oe=$.get(59),he=$.get(87),_e=he.verticalScrollbarSize,ve=he.verticalHasArrows,we=he.arrowSize,Ee=he.horizontalScrollbarSize,ke=$.get(52),Ae=$.get(33);let xe;if(typeof ke=="string"&&/^\d+(\.\d+)?ch$/.test(ke)){const et=parseFloat(ke.substr(0,ke.length-2));xe=a.clampedInt(et*me,0,0,1e3)}else xe=a.clampedInt(ke,0,0,1e3);Ae&&(xe+=16);let We=0;if(Se){const et=Math.max(le,Ce);We=Math.round(et*be)}let He=0;Be&&(He=se);let ze=0,Oe=ze+He,Ue=Oe+We,je=Ue+xe;const Ke=de-He-We-xe;let qe=!1,Ve=!1,Ze=-1;Fe!==2&&(Te==="inherit"&&Re?(qe=!0,Ve=!0):Ne==="on"||Ne==="bounded"?Ve=!0:Ne==="wordWrapColumn"&&(Ze=Pe));const Ge=F._computeMinimapLayout({outerWidth:de,outerHeight:fe,lineHeight:se,typicalHalfwidthCharacterWidth:me,pixelRatio:ye,scrollBeyondLastLine:ge,minimap:oe,verticalScrollbarWidth:_e,viewLineCount:Le,remainingWidth:Ke,isViewportWrapping:Ve},X.memory||new _);Ge.renderMinimap!==0&&Ge.minimapLeft===0&&(ze+=Ge.minimapWidth,Oe+=Ge.minimapWidth,Ue+=Ge.minimapWidth,je+=Ge.minimapWidth);const Xe=Ke-Ge.minimapWidth,Qe=Math.max(1,Math.floor((Xe-_e-2)/me)),Je=ve?we:0;return Ve&&(Ze=Math.max(1,Qe),Ne==="bounded"&&(Ze=Math.min(Ze,Pe))),{width:de,height:fe,glyphMarginLeft:ze,glyphMarginWidth:He,lineNumbersLeft:Oe,lineNumbersWidth:We,decorationsLeft:Ue,decorationsWidth:xe,contentLeft:je,contentWidth:Xe,minimap:Ge,viewportColumn:Qe,isWordWrapMinified:qe,isViewportWrapping:Ve,wrappingColumn:Ze,verticalScrollbarWidth:_e,horizontalScrollbarHeight:Ee,overviewRuler:{top:Je,width:_e,height:fe-2*Je,right:0}}}}e.EditorLayoutInfoComputer=F;class D extends d{constructor(){const $={enabled:!0};super(51,"lightbulb",$,{"editor.lightbulb.enabled":{type:"boolean",default:$.enabled,description:C.localize(39,null)}})}validate($){return!$||typeof $!="object"?this.defaultValue:{enabled:o($.enabled,this.defaultValue.enabled)}}}class B extends a{constructor(){super(53,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:C.localize(40,null)})}compute($,X,de){return $.fontInfo.lineHeight}}class A extends d{constructor(){const $={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(59,"minimap",$,{"editor.minimap.enabled":{type:"boolean",default:$.enabled,description:C.localize(41,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[C.localize(42,null),C.localize(43,null),C.localize(44,null)],default:$.size,description:C.localize(45,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:$.side,description:C.localize(46,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:$.showSlider,description:C.localize(47,null)},"editor.minimap.scale":{type:"number",default:$.scale,minimum:1,maximum:3,enum:[1,2,3],description:C.localize(48,null)},"editor.minimap.renderCharacters":{type:"boolean",default:$.renderCharacters,description:C.localize(49,null)},"editor.minimap.maxColumn":{type:"number",default:$.maxColumn,description:C.localize(50,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{enabled:o(X.enabled,this.defaultValue.enabled),size:r(X.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(X.side,this.defaultValue.side,["right","left"]),showSlider:r(X.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:o(X.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(X.scale,1,1,3),maxColumn:a.clampedInt(X.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function W(ne){return ne==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class V extends d{constructor(){super(69,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:C.localize(51,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:C.localize(52,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{top:a.clampedInt(X.top,0,0,1e3),bottom:a.clampedInt(X.bottom,0,0,1e3)}}}class K extends d{constructor(){const $={enabled:!0,cycle:!1};super(70,"parameterHints",$,{"editor.parameterHints.enabled":{type:"boolean",default:$.enabled,description:C.localize(53,null)},"editor.parameterHints.cycle":{type:"boolean",default:$.cycle,description:C.localize(54,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{enabled:o(X.enabled,this.defaultValue.enabled),cycle:o(X.cycle,this.defaultValue.cycle)}}}class j extends f{constructor(){super(121)}compute($,X,de){return $.pixelRatio}}class ee extends d{constructor(){const $={other:!0,comments:!1,strings:!1};super(73,"quickSuggestions",$,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:$.strings,description:C.localize(55,null)},comments:{type:"boolean",default:$.comments,description:C.localize(56,null)},other:{type:"boolean",default:$.other,description:C.localize(57,null)}}}],default:$,description:C.localize(58,null)});this.defaultValue=$}validate($){if(typeof $=="boolean")return $;if($&&typeof $=="object"){const X=$,de={other:o(X.other,this.defaultValue.other),comments:o(X.comments,this.defaultValue.comments),strings:o(X.strings,this.defaultValue.strings)};return de.other&&de.comments&&de.strings?!0:!de.other&&!de.comments&&!de.strings?!1:de}return this.defaultValue}}class re extends d{constructor(){super(54,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[C.localize(59,null),C.localize(60,null),C.localize(61,null),C.localize(62,null)],default:"on",description:C.localize(63,null)})}validate($){let X=this.defaultValue.renderType,de=this.defaultValue.renderFn;return typeof $!="undefined"&&(typeof $=="function"?(X=4,de=$):$==="interval"?X=3:$==="relative"?X=2:$==="on"?X=1:X=0),{renderType:X,renderFn:de}}}function te(ne){const $=ne.get(82);return $==="editable"?ne.get(75):$!=="on"}e.filterValidationDecorations=te;class ae extends d{constructor(){const $=[],X={type:"number",description:C.localize(64,null)};super(86,"rulers",$,{type:"array",items:{anyOf:[X,{type:["object"],properties:{column:X,color:{type:"string",description:C.localize(65,null),format:"color-hex"}}}]},default:$,description:C.localize(66,null)})}validate($){if(Array.isArray($)){let X=[];for(let de of $)if(typeof de=="number")X.push({column:a.clampedInt(de,0,0,1e4),color:null});else if(de&&typeof de=="object"){const fe=de;X.push({column:a.clampedInt(fe.column,0,0,1e4),color:fe.color})}return X.sort((de,fe)=>de.column-fe.column),X}return this.defaultValue}}function Y(ne,$){if(typeof ne!="string")return $;switch(ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class P extends d{constructor(){super(87,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$,de=a.clampedInt(X.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),fe=a.clampedInt(X.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(X.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Y(X.vertical,this.defaultValue.vertical),horizontal:Y(X.horizontal,this.defaultValue.horizontal),useShadows:o(X.useShadows,this.defaultValue.useShadows),verticalHasArrows:o(X.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:o(X.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:o(X.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:o(X.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:de,horizontalSliderSize:a.clampedInt(X.horizontalSliderSize,de,0,1e3),verticalScrollbarSize:fe,verticalSliderSize:a.clampedInt(X.verticalSliderSize,fe,0,1e3),scrollByPage:o(X.scrollByPage,this.defaultValue.scrollByPage)}}}class x extends d{constructor(){const $={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,"suggest",$,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[C.localize(67,null),C.localize(68,null)],default:$.insertMode,description:C.localize(69,null)},"editor.suggest.filterGraceful":{type:"boolean",default:$.filterGraceful,description:C.localize(70,null)},"editor.suggest.localityBonus":{type:"boolean",default:$.localityBonus,description:C.localize(71,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:$.shareSuggestSelections,markdownDescription:C.localize(72,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:$.snippetsPreventQuickSuggestions,description:C.localize(73,null)},"editor.suggest.showIcons":{type:"boolean",default:$.showIcons,description:C.localize(74,null)},"editor.suggest.showStatusBar":{type:"boolean",default:$.showStatusBar,description:C.localize(75,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:$.showInlineDetails,description:C.localize(76,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:C.localize(77,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:C.localize(78,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:C.localize(79,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:C.localize(80,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:C.localize(81,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:C.localize(82,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:C.localize(83,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:C.localize(84,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:C.localize(85,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:C.localize(86,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:C.localize(87,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:C.localize(88,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:C.localize(89,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:C.localize(90,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:C.localize(91,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:C.localize(92,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:C.localize(93,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:C.localize(94,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:C.localize(95,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:C.localize(96,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:C.localize(97,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:C.localize(98,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:C.localize(99,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:C.localize(100,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:C.localize(101,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:C.localize(102,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:C.localize(103,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:C.localize(104,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:C.localize(105,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:C.localize(106,null)}})}validate($){if(!$||typeof $!="object")return this.defaultValue;const X=$;return{insertMode:r(X.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:o(X.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:o(X.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:o(X.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:o(X.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:o(X.showIcons,this.defaultValue.showIcons),showStatusBar:o(X.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:o(X.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:o(X.showMethods,this.defaultValue.showMethods),showFunctions:o(X.showFunctions,this.defaultValue.showFunctions),showConstructors:o(X.showConstructors,this.defaultValue.showConstructors),showFields:o(X.showFields,this.defaultValue.showFields),showVariables:o(X.showVariables,this.defaultValue.showVariables),showClasses:o(X.showClasses,this.defaultValue.showClasses),showStructs:o(X.showStructs,this.defaultValue.showStructs),showInterfaces:o(X.showInterfaces,this.defaultValue.showInterfaces),showModules:o(X.showModules,this.defaultValue.showModules),showProperties:o(X.showProperties,this.defaultValue.showProperties),showEvents:o(X.showEvents,this.defaultValue.showEvents),showOperators:o(X.showOperators,this.defaultValue.showOperators),showUnits:o(X.showUnits,this.defaultValue.showUnits),showValues:o(X.showValues,this.defaultValue.showValues),showConstants:o(X.showConstants,this.defaultValue.showConstants),showEnums:o(X.showEnums,this.defaultValue.showEnums),showEnumMembers:o(X.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:o(X.showKeywords,this.defaultValue.showKeywords),showWords:o(X.showWords,this.defaultValue.showWords),showColors:o(X.showColors,this.defaultValue.showColors),showFiles:o(X.showFiles,this.defaultValue.showFiles),showReferences:o(X.showReferences,this.defaultValue.showReferences),showFolders:o(X.showFolders,this.defaultValue.showFolders),showTypeParameters:o(X.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:o(X.showSnippets,this.defaultValue.showSnippets),showUsers:o(X.showUsers,this.defaultValue.showUsers),showIssues:o(X.showIssues,this.defaultValue.showIssues)}}}class z extends d{constructor(){super(97,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:C.localize(107,null),default:!0,type:"boolean"}})}validate($){return!$||typeof $!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:o($.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class U extends f{constructor(){super(122,[75])}compute($,X,de){return X.get(75)?!0:$.tabFocusMode}}function H(ne){switch(ne){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class q extends f{constructor(){super(124,[123])}compute($,X,de){const fe=X.get(123);return{isDominatedByLongLines:$.isDominatedByLongLines,isWordWrapMinified:fe.isWordWrapMinified,isViewportWrapping:fe.isViewportWrapping,wrappingColumn:fe.wrappingColumn}}}const ie="Consolas, 'Courier New', monospace",ce="Menlo, Monaco, 'Courier New', monospace",ue="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?ce:k.isLinux?ue:ie,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Z(ne){return e.editorOptionsRegistry[ne.id]=ne,ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:Z(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:C.localize(108,null)})),acceptSuggestionOnEnter:Z(new t(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",C.localize(109,null),""],markdownDescription:C.localize(110,null)})),accessibilitySupport:Z(new u),accessibilityPageSize:Z(new a(3,"accessibilityPageSize",10,1,1073741824,{description:C.localize(111,null)})),ariaLabel:Z(new l(4,"ariaLabel",C.localize(112,null))),autoClosingBrackets:Z(new t(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.localize(113,null),C.localize(114,null),""],description:C.localize(115,null)})),autoClosingOvertype:Z(new t(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",C.localize(116,null),""],description:C.localize(117,null)})),autoClosingQuotes:Z(new t(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.localize(118,null),C.localize(119,null),""],description:C.localize(120,null)})),autoIndent:Z(new n(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],i,{enumDescriptions:[C.localize(121,null),C.localize(122,null),C.localize(123,null),C.localize(124,null),C.localize(125,null)],description:C.localize(126,null)})),automaticLayout:Z(new c(9,"automaticLayout",!1)),autoSurround:Z(new t(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[C.localize(127,null),C.localize(128,null),C.localize(129,null),""],description:C.localize(130,null)})),stickyTabStops:Z(new c(99,"stickyTabStops",!1,{description:C.localize(131,null)})),codeLens:Z(new c(11,"codeLens",!0,{description:C.localize(132,null)})),codeLensFontFamily:Z(new l(12,"codeLensFontFamily","",{description:C.localize(133,null)})),codeLensFontSize:Z(new a(13,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:C.localize(134,null)})),colorDecorators:Z(new c(14,"colorDecorators",!0,{description:C.localize(135,null)})),columnSelection:Z(new c(15,"columnSelection",!1,{description:C.localize(136,null)})),comments:Z(new h),contextmenu:Z(new c(17,"contextmenu",!0)),copyWithSyntaxHighlighting:Z(new c(18,"copyWithSyntaxHighlighting",!0,{description:C.localize(137,null)})),cursorBlinking:Z(new n(19,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],v,{description:C.localize(138,null)})),cursorSmoothCaretAnimation:Z(new c(20,"cursorSmoothCaretAnimation",!1,{description:C.localize(139,null)})),cursorStyle:Z(new n(21,"cursorStyle",m.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],g,{description:C.localize(140,null)})),cursorSurroundingLines:Z(new a(22,"cursorSurroundingLines",0,0,1073741824,{description:C.localize(141,null)})),cursorSurroundingLinesStyle:Z(new t(23,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[C.localize(142,null),C.localize(143,null)],description:C.localize(144,null)})),cursorWidth:Z(new a(24,"cursorWidth",0,0,1073741824,{markdownDescription:C.localize(145,null)})),disableLayerHinting:Z(new c(25,"disableLayerHinting",!1)),disableMonospaceOptimizations:Z(new c(26,"disableMonospaceOptimizations",!1)),dragAndDrop:Z(new c(27,"dragAndDrop",!0,{description:C.localize(146,null)})),emptySelectionClipboard:Z(new w),extraEditorClassName:Z(new l(29,"extraEditorClassName","")),fastScrollSensitivity:Z(new s(30,"fastScrollSensitivity",5,ne=>ne<=0?5:ne,{markdownDescription:C.localize(147,null)})),find:Z(new L),fixedOverflowWidgets:Z(new c(32,"fixedOverflowWidgets",!1)),folding:Z(new c(33,"folding",!0,{description:C.localize(148,null)})),foldingStrategy:Z(new t(34,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[C.localize(149,null),C.localize(150,null)],description:C.localize(151,null)})),foldingHighlight:Z(new c(35,"foldingHighlight",!0,{description:C.localize(152,null)})),unfoldOnClickAfterEndOfLine:Z(new c(36,"unfoldOnClickAfterEndOfLine",!1,{description:C.localize(153,null)})),fontFamily:Z(new l(37,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:C.localize(154,null)})),fontInfo:Z(new N),fontLigatures2:Z(new E),fontSize:Z(new I),fontWeight:Z(new T),formatOnPaste:Z(new c(42,"formatOnPaste",!1,{description:C.localize(155,null)})),formatOnType:Z(new c(43,"formatOnType",!1,{description:C.localize(156,null)})),glyphMargin:Z(new c(44,"glyphMargin",!0,{description:C.localize(157,null)})),gotoLocation:Z(new O),hideCursorInOverviewRuler:Z(new c(46,"hideCursorInOverviewRuler",!1,{description:C.localize(158,null)})),highlightActiveIndentGuide:Z(new c(47,"highlightActiveIndentGuide",!0,{description:C.localize(159,null)})),hover:Z(new R),inDiffEditor:Z(new c(49,"inDiffEditor",!1)),letterSpacing:Z(new s(50,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ne=>s.clamp(ne,-5,20),{description:C.localize(160,null)})),lightbulb:Z(new D),lineDecorationsWidth:Z(new p(52,"lineDecorationsWidth",10)),lineHeight:Z(new B),lineNumbers:Z(new re),lineNumbersMinChars:Z(new a(55,"lineNumbersMinChars",5,1,300)),linkedEditing:Z(new c(56,"linkedEditing",!1,{description:C.localize(161,null)})),links:Z(new c(57,"links",!0,{description:C.localize(162,null)})),matchBrackets:Z(new t(58,"matchBrackets","always",["always","near","never"],{description:C.localize(163,null)})),minimap:Z(new A),mouseStyle:Z(new t(60,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Z(new s(61,"mouseWheelScrollSensitivity",1,ne=>ne===0?1:ne,{markdownDescription:C.localize(164,null)})),mouseWheelZoom:Z(new c(62,"mouseWheelZoom",!1,{markdownDescription:C.localize(165,null)})),multiCursorMergeOverlapping:Z(new c(63,"multiCursorMergeOverlapping",!0,{description:C.localize(166,null)})),multiCursorModifier:Z(new n(64,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],W,{markdownEnumDescriptions:[C.localize(167,null),C.localize(168,null)],markdownDescription:C.localize(169,null)})),multiCursorPaste:Z(new t(65,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[C.localize(170,null),C.localize(171,null)],markdownDescription:C.localize(172,null)})),occurrencesHighlight:Z(new c(66,"occurrencesHighlight",!0,{description:C.localize(173,null)})),overviewRulerBorder:Z(new c(67,"overviewRulerBorder",!0,{description:C.localize(174,null)})),overviewRulerLanes:Z(new a(68,"overviewRulerLanes",3,0,3)),padding:Z(new V),parameterHints:Z(new K),peekWidgetDefaultFocus:Z(new t(71,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[C.localize(175,null),C.localize(176,null)],description:C.localize(177,null)})),definitionLinkOpensInPeek:Z(new c(72,"definitionLinkOpensInPeek",!1,{description:C.localize(178,null)})),quickSuggestions:Z(new ee),quickSuggestionsDelay:Z(new a(74,"quickSuggestionsDelay",10,0,1073741824,{description:C.localize(179,null)})),readOnly:Z(new c(75,"readOnly",!1)),renameOnType:Z(new c(76,"renameOnType",!1,{description:C.localize(180,null),markdownDeprecationMessage:C.localize(181,null)})),renderControlCharacters:Z(new c(77,"renderControlCharacters",!1,{description:C.localize(182,null)})),renderIndentGuides:Z(new c(78,"renderIndentGuides",!0,{description:C.localize(183,null)})),renderFinalNewline:Z(new c(79,"renderFinalNewline",!0,{description:C.localize(184,null)})),renderLineHighlight:Z(new t(80,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",C.localize(185,null)],description:C.localize(186,null)})),renderLineHighlightOnlyWhenFocus:Z(new c(81,"renderLineHighlightOnlyWhenFocus",!1,{description:C.localize(187,null)})),renderValidationDecorations:Z(new t(82,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Z(new t(83,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",C.localize(188,null),C.localize(189,null),C.localize(190,null),""],description:C.localize(191,null)})),revealHorizontalRightPadding:Z(new a(84,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Z(new c(85,"roundedSelection",!0,{description:C.localize(192,null)})),rulers:Z(new ae),scrollbar:Z(new P),scrollBeyondLastColumn:Z(new a(88,"scrollBeyondLastColumn",5,0,1073741824,{description:C.localize(193,null)})),scrollBeyondLastLine:Z(new c(89,"scrollBeyondLastLine",!0,{description:C.localize(194,null)})),scrollPredominantAxis:Z(new c(90,"scrollPredominantAxis",!0,{description:C.localize(195,null)})),selectionClipboard:Z(new c(91,"selectionClipboard",!0,{description:C.localize(196,null),included:k.isLinux})),selectionHighlight:Z(new c(92,"selectionHighlight",!0,{description:C.localize(197,null)})),selectOnLineNumbers:Z(new c(93,"selectOnLineNumbers",!0)),showFoldingControls:Z(new t(94,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[C.localize(198,null),C.localize(199,null)],description:C.localize(200,null)})),showUnused:Z(new c(95,"showUnused",!0,{description:C.localize(201,null)})),showDeprecated:Z(new c(119,"showDeprecated",!0,{description:C.localize(202,null)})),snippetSuggestions:Z(new t(96,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[C.localize(203,null),C.localize(204,null),C.localize(205,null),C.localize(206,null)],description:C.localize(207,null)})),smartSelect:Z(new z),smoothScrolling:Z(new c(98,"smoothScrolling",!1,{description:C.localize(208,null)})),stopRenderingLineAfter:Z(new a(100,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Z(new x),suggestFontSize:Z(new a(102,"suggestFontSize",0,0,1e3,{markdownDescription:C.localize(209,null)})),suggestLineHeight:Z(new a(103,"suggestLineHeight",0,0,1e3,{markdownDescription:C.localize(210,null)})),suggestOnTriggerCharacters:Z(new c(104,"suggestOnTriggerCharacters",!0,{description:C.localize(211,null)})),suggestSelection:Z(new t(105,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[C.localize(212,null),C.localize(213,null),C.localize(214,null)],description:C.localize(215,null)})),tabCompletion:Z(new t(106,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[C.localize(216,null),C.localize(217,null),C.localize(218,null)],description:C.localize(219,null)})),tabIndex:Z(new a(107,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Z(new t(108,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[C.localize(220,null),C.localize(221,null),C.localize(222,null)],description:C.localize(223,null)})),useTabStops:Z(new c(109,"useTabStops",!0,{description:C.localize(224,null)})),wordSeparators:Z(new l(110,"wordSeparators",M.USUAL_WORD_SEPARATORS,{description:C.localize(225,null)})),wordWrap:Z(new t(111,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[C.localize(226,null),C.localize(227,null),C.localize(228,null),C.localize(229,null)],description:C.localize(230,null)})),wordWrapBreakAfterCharacters:Z(new l(112,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Z(new l(113,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Z(new a(114,"wordWrapColumn",80,1,1073741824,{markdownDescription:C.localize(231,null)})),wordWrapOverride1:Z(new t(115,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Z(new t(116,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Z(new n(117,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],H,{enumDescriptions:[C.localize(232,null),C.localize(233,null),C.localize(234,null),C.localize(235,null)],description:C.localize(236,null)})),wrappingStrategy:Z(new t(118,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[C.localize(237,null),C.localize(238,null)],description:C.localize(239,null)})),editorClassName:Z(new b),pixelRatio:Z(new j),tabFocusMode:Z(new U),layoutInfo:Z(new F),wrappingInfo:Z(new q)}}),define(Q[444],J([0,1,12,3,62,37]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(d,f,p,o,c){this.editorId=d,this.model=f,this.configuration=p,this._linesCollection=o,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(d){const f=d.id;let p=this._decorationsCache[f];if(!p){const o=d.range,c=d.options;let a;if(c.isWholeLine){const s=this._coordinatesConverter.convertModelPositionToViewPosition(new C.Position(o.startLineNumber,1)),l=this._coordinatesConverter.convertModelPositionToViewPosition(new C.Position(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber)));a=new k.Range(s.lineNumber,s.column,l.lineNumber,l.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(o);p=new M.ViewModelDecoration(a,c),this._decorationsCache[f]=p}return p}getDecorationsViewportData(d){let f=this._cachedModelDecorationsResolver!==null;return f=f&&d.equalsRange(this._cachedModelDecorationsResolverViewRange),f||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(d),this._cachedModelDecorationsResolverViewRange=d),this._cachedModelDecorationsResolver}_getDecorationsViewportData(d){const f=this._linesCollection.getDecorationsInRange(d,this.editorId,y.filterValidationDecorations(this.configuration.options)),p=d.startLineNumber,o=d.endLineNumber;let c=[],a=0,s=[];for(let l=p;l<=o;l++)s[l-p]=[];for(let l=0,r=f.length;l<r;l++){let t=f[l],n=t.options,i=this._getOrCreateViewModelDecoration(t),u=i.range;if(c[a++]=i,n.inlineClassName){let h=new M.InlineDecoration(u,n.inlineClassName,n.inlineClassNameAffectsLetterSpacing?3:0),v=Math.max(p,u.startLineNumber),m=Math.min(o,u.endLineNumber);for(let g=v;g<=m;g++)s[g-p].push(h)}if(n.beforeContentClassName&&p<=u.startLineNumber&&u.startLineNumber<=o){let h=new M.InlineDecoration(new k.Range(u.startLineNumber,u.startColumn,u.startLineNumber,u.startColumn),n.beforeContentClassName,1);s[u.startLineNumber-p].push(h)}if(n.afterContentClassName&&p<=u.endLineNumber&&u.endLineNumber<=o){let h=new M.InlineDecoration(new k.Range(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn),n.afterContentClassName,2);s[u.endLineNumber-p].push(h)}}return{decorations:c,inlineDecorations:s}}}e.ViewModelDecorations=S}),define(Q[445],J([5,6]),function(G,e){return G.create("vs/editor/common/model/editStack",e)}),define(Q[234],J([0,1,445,11,20,23,216,120,40]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=void 0;function f(r){return r.toString()}class p{constructor(t,n,i,u,h,v,m){this.beforeVersionId=t,this.afterVersionId=n,this.beforeEOL=i,this.afterEOL=u,this.beforeCursorState=h,this.afterCursorState=v,this.changes=m}static create(t,n){const i=t.getAlternativeVersionId(),u=a(t);return new p(i,i,u,u,n,n,[])}append(t,n,i,u,h){n.length>0&&(this.changes=S.compressConsecutiveTextChanges(this.changes,n)),this.afterEOL=i,this.afterVersionId=u,this.afterCursorState=h}static _writeSelectionsSize(t){return 4+4*4*(t?t.length:0)}static _writeSelections(t,n,i){if(_.writeUInt32BE(t,n?n.length:0,i),i+=4,n)for(const u of n)_.writeUInt32BE(t,u.selectionStartLineNumber,i),i+=4,_.writeUInt32BE(t,u.selectionStartColumn,i),i+=4,_.writeUInt32BE(t,u.positionLineNumber,i),i+=4,_.writeUInt32BE(t,u.positionColumn,i),i+=4;return i}static _readSelections(t,n,i){const u=_.readUInt32BE(t,n);n+=4;for(let h=0;h<u;h++){const v=_.readUInt32BE(t,n);n+=4;const m=_.readUInt32BE(t,n);n+=4;const g=_.readUInt32BE(t,n);n+=4;const b=_.readUInt32BE(t,n);n+=4,i.push(new M.Selection(v,m,g,b))}return n}serialize(){let t=4+4+1+1+p._writeSelectionsSize(this.beforeCursorState)+p._writeSelectionsSize(this.afterCursorState)+4;for(const u of this.changes)t+=u.writeSize();const n=new Uint8Array(t);let i=0;_.writeUInt32BE(n,this.beforeVersionId,i),i+=4,_.writeUInt32BE(n,this.afterVersionId,i),i+=4,_.writeUInt8(n,this.beforeEOL,i),i+=1,_.writeUInt8(n,this.afterEOL,i),i+=1,i=p._writeSelections(n,this.beforeCursorState,i),i=p._writeSelections(n,this.afterCursorState,i),_.writeUInt32BE(n,this.changes.length,i),i+=4;for(const u of this.changes)i=u.write(n,i);return n.buffer}static deserialize(t){const n=new Uint8Array(t);let i=0;const u=_.readUInt32BE(n,i);i+=4;const h=_.readUInt32BE(n,i);i+=4;const v=_.readUInt8(n,i);i+=1;const m=_.readUInt8(n,i);i+=1;const g=[];i=p._readSelections(n,i,g);const b=[];i=p._readSelections(n,i,b);const w=_.readUInt32BE(n,i);i+=4;const L=[];for(let E=0;E<w;E++)i=S.TextChange.read(n,i,L);return new p(u,h,v,m,g,b,L)}}class o{constructor(t,n){this.model=t,this._data=p.create(t,n)}get type(){return 0}get resource(){return y.URI.isUri(this.model)?this.model:this.model.uri}get label(){return C.localize(0,null)}toString(){return(this._data instanceof p?this._data:p.deserialize(this._data)).changes.map(n=>n.toString()).join(", ")}matchesResource(t){return(y.URI.isUri(this.model)?this.model:this.model.uri).toString()===t.toString()}setModel(t){this.model=t}canAppend(t){return this.model===t&&this._data instanceof p}append(t,n,i,u,h){this._data instanceof p&&this._data.append(t,n,i,u,h)}close(){this._data instanceof p&&(this._data=this._data.serialize())}open(){this._data instanceof p||(this._data=p.deserialize(this._data))}undo(){if(y.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const t=p.deserialize(this._data);this.model._applyUndo(t.changes,t.beforeEOL,t.beforeVersionId,t.beforeCursorState)}redo(){if(y.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const t=p.deserialize(this._data);this.model._applyRedo(t.changes,t.afterEOL,t.afterVersionId,t.afterCursorState)}heapSize(){return this._data instanceof p&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=o;class c{constructor(t,n){this.type=1,this.label=t,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const u=f(i.resource);this._editStackElementsMap.set(u,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(t=>t.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(t){const n=f(t);return this._editStackElementsMap.has(n)}setModel(t){const n=f(y.URI.isUri(t)?t:t.uri);this._editStackElementsMap.has(n)&&this._editStackElementsMap.get(n).setModel(t)}canAppend(t){if(!this._isOpen)return!1;const n=f(t.uri);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).canAppend(t):!1}append(t,n,i,u,h){const v=f(t.uri);this._editStackElementsMap.get(v).append(t,n,i,u,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const t of this._editStackElementsArr)t.undo()}redo(){for(const t of this._editStackElementsArr)t.redo()}heapSize(t){const n=f(t);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).heapSize():0}split(){return this._editStackElementsArr}toString(){let t=[];for(const n of this._editStackElementsArr)t.push(`${d.basename(n.resource)}: ${n}`);return`{${t.join(", ")}}`}}e.MultiModelEditStackElement=c;function a(r){return r.getEOL()===`
`?0:1}function s(r){return r?r instanceof o||r instanceof c:!1}e.isEditStackElement=s;class l{constructor(t,n){this._model=t,this._undoRedoService=n}pushStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);s(t)&&t.close()}popStackElement(){const t=this._undoRedoService.getLastElement(this._model.uri);s(t)&&t.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(t){const n=this._undoRedoService.getLastElement(this._model.uri);if(s(n)&&n.canAppend(this._model))return n;const i=new o(this._model,t);return this._undoRedoService.pushElement(i),i}pushEOL(t){const n=this._getOrCreateEditStackElement(null);this._model.setEOL(t),n.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(t,n,i){const u=this._getOrCreateEditStackElement(t),h=this._model.applyEdits(n,!0),v=l._computeCursorState(i,h),m=h.map((g,b)=>({index:b,textChange:g.textChange}));return m.sort((g,b)=>g.textChange.oldPosition===b.textChange.oldPosition?g.index-b.index:g.textChange.oldPosition-b.textChange.oldPosition),u.append(this._model,m.map(g=>g.textChange),a(this._model),this._model.getAlternativeVersionId(),v),v}static _computeCursorState(t,n){try{return t?t(n):null}catch(i){return k.onUnexpectedError(i),null}}}e.EditStack=l}),define(Q[446],J([5,6]),function(G,e){return G.create("vs/editor/common/modes/modesRegistry",e)}),define(Q[447],J([5,6]),function(G,e){return G.create("vs/editor/common/standaloneStrings",e)}),define(Q[63],J([0,1,447]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var k;(function(c){c.noSelection=C.localize(0,null),c.singleSelectionRange=C.localize(1,null),c.singleSelection=C.localize(2,null),c.multiSelectionRange=C.localize(3,null),c.multiSelection=C.localize(4,null),c.emergencyConfOn=C.localize(5,null),c.openingDocs=C.localize(6,null),c.readonlyDiffEditor=C.localize(7,null),c.editableDiffEditor=C.localize(8,null),c.readonlyEditor=C.localize(9,null),c.editableEditor=C.localize(10,null),c.changeConfigToOnMac=C.localize(11,null),c.changeConfigToOnWinLinux=C.localize(12,null),c.auto_on=C.localize(13,null),c.auto_off=C.localize(14,null),c.tabFocusModeOnMsg=C.localize(15,null),c.tabFocusModeOnMsgNoKb=C.localize(16,null),c.tabFocusModeOffMsg=C.localize(17,null),c.tabFocusModeOffMsgNoKb=C.localize(18,null),c.openDocMac=C.localize(19,null),c.openDocWinLinux=C.localize(20,null),c.outroMsg=C.localize(21,null),c.showAccessibilityHelpAction=C.localize(22,null)})(k=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var M;(function(c){c.inspectTokensAction=C.localize(23,null)})(M=e.InspectTokensNLS||(e.InspectTokensNLS={}));var y;(function(c){c.gotoLineActionLabel=C.localize(24,null)})(y=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(c){c.helpQuickAccessActionLabel=C.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var _;(function(c){c.quickCommandActionLabel=C.localize(26,null),c.quickCommandHelp=C.localize(27,null)})(_=e.QuickCommandNLS||(e.QuickCommandNLS={}));var d;(function(c){c.quickOutlineActionLabel=C.localize(28,null),c.quickOutlineByCategoryActionLabel=C.localize(29,null)})(d=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var f;(function(c){c.editorViewAccessibleLabel=C.localize(30,null),c.accessibilityHelpMessage=C.localize(31,null)})(f=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var p;(function(c){c.toggleHighContrast=C.localize(32,null)})(p=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var o;(function(c){c.bulkEditServiceSummary=C.localize(33,null)})(o=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(Q[448],J([5,6]),function(G,e){return G.create("vs/editor/common/view/editorColorRegistry",e)}),define(Q[449],J([5,6]),function(G,e){return G.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(Q[450],J([5,6]),function(G,e){return G.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(Q[451],J([5,6]),function(G,e){return G.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(Q[452],J([5,6]),function(G,e){return G.create("vs/editor/contrib/caretOperations/transpose",e)}),define(Q[453],J([5,6]),function(G,e){return G.create("vs/editor/contrib/clipboard/clipboard",e)}),define(Q[454],J([5,6]),function(G,e){return G.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(Q[455],J([5,6]),function(G,e){return G.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(Q[456],J([5,6]),function(G,e){return G.create("vs/editor/contrib/codelens/codelensController",e)}),define(Q[457],J([5,6]),function(G,e){return G.create("vs/editor/contrib/comment/comment",e)}),define(Q[458],J([5,6]),function(G,e){return G.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(Q[459],J([5,6]),function(G,e){return G.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(Q[460],J([5,6]),function(G,e){return G.create("vs/editor/contrib/find/findController",e)}),define(Q[461],J([5,6]),function(G,e){return G.create("vs/editor/contrib/find/findWidget",e)}),define(Q[462],J([5,6]),function(G,e){return G.create("vs/editor/contrib/folding/folding",e)}),define(Q[463],J([5,6]),function(G,e){return G.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(Q[464],J([5,6]),function(G,e){return G.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(Q[465],J([5,6]),function(G,e){return G.create("vs/editor/contrib/format/format",e)}),define(Q[466],J([5,6]),function(G,e){return G.create("vs/editor/contrib/format/formatActions",e)}),define(Q[467],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoError/gotoError",e)}),define(Q[468],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(Q[469],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(Q[470],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(Q[471],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(Q[472],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(Q[473],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(Q[474],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(Q[131],J([0,1,474,4,40,2,8,99,3,51,11]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class o{constructor(r,t,n,i,u){this.isProviderFirst=r,this.parent=t,this.uri=n,this._range=i,this._rangeCallback=u,this.id=_.defaultGenerator.nextId()}get range(){return this._range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const t=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return t?C.localize(1,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):C.localize(0,null,M.basename(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=o;class c{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,t=8){const n=this._modelReference.object.textEditorModel;if(!!n){const{startLineNumber:i,startColumn:u,endLineNumber:h,endColumn:v}=r,m=n.getWordUntilPosition({lineNumber:i,column:u-t}),g=new d.Range(i,m.startColumn,i,u),b=new d.Range(h,v,h,1073741824),w=n.getValueInRange(g).replace(/^\s+/,""),L=n.getValueInRange(r),E=n.getValueInRange(b).replace(/\s+$/,"");return{value:w+L+E,highlight:{start:w.length,end:w.length+L.length}}}}}e.FilePreview=c;class a{constructor(r,t){this.parent=r,this.uri=t,this.children=[],this._previews=new f.ResourceMap}dispose(){y.dispose(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?C.localize(2,null,M.basename(this.uri),this.uri.fsPath):C.localize(3,null,r,M.basename(this.uri),this.uri.fsPath)}resolve(r){return De(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield r.createModelReference(t.uri);this._previews.set(t.uri,new c(n))}catch(n){p.onUnexpectedError(n)}return this})}}e.FileReferences=a;class s{constructor(r,t){this._disposables=new y.DisposableStore,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=t;const[n]=r;r.sort(s._compareReferences);let i;for(let u of r)if((!i||!M.extUri.isEqual(i.uri,u.uri,!0))&&(i=new a(this,u.uri),this.groups.push(i)),i.children.length===0||s._compareReferences(u,i.children[i.children.length-1])!==0){const h=new o(n===u,i,u.uri,u.targetSelectionRange||u.range,v=>this._onDidChangeReferenceRange.fire(v));this.references.push(h),i.children.push(h)}}dispose(){y.dispose(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new s(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?C.localize(4,null):this.references.length===1?C.localize(5,null,this.references[0].uri.fsPath):this.groups.length===1?C.localize(6,null,this.references.length,this.groups[0].uri.fsPath):C.localize(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,t){let{parent:n}=r,i=n.children.indexOf(r),u=n.children.length,h=n.parent.groups.length;return h===1||t&&i+1<u||!t&&i>0?(t?i=(i+1)%u:i=(i+u-1)%u,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%h,n.parent.groups[i].children[0]):(i=(i+h-1)%h,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))}nearestReference(r,t){const n=this.references.map((i,u)=>({idx:u,prefixLen:S.commonPrefixLength(i.uri.toString(),r.toString()),offsetDist:Math.abs(i.range.startLineNumber-t.lineNumber)*100+Math.abs(i.range.startColumn-t.column)})).sort((i,u)=>i.prefixLen>u.prefixLen?-1:i.prefixLen<u.prefixLen?1:i.offsetDist<u.offsetDist?-1:i.offsetDist>u.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(r,t){for(const n of this.references)if(n.uri.toString()===r.toString()&&d.Range.containsPosition(n.range,t))return n}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,t){return M.extUri.compare(r.uri,t.uri)||d.Range.compareRangesUsingStarts(r.range,t.range)}}e.ReferencesModel=s}),define(Q[475],J([5,6]),function(G,e){return G.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(Q[476],J([5,6]),function(G,e){return G.create("vs/editor/contrib/hover/hover",e)}),define(Q[477],J([5,6]),function(G,e){return G.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(Q[478],J([5,6]),function(G,e){return G.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(Q[479],J([5,6]),function(G,e){return G.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(Q[480],J([5,6]),function(G,e){return G.create("vs/editor/contrib/indentation/indentation",e)}),define(Q[481],J([5,6]),function(G,e){return G.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(Q[482],J([5,6]),function(G,e){return G.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(Q[483],J([5,6]),function(G,e){return G.create("vs/editor/contrib/links/links",e)}),define(Q[484],J([5,6]),function(G,e){return G.create("vs/editor/contrib/message/messageController",e)}),define(Q[485],J([5,6]),function(G,e){return G.create("vs/editor/contrib/multicursor/multicursor",e)}),define(Q[486],J([5,6]),function(G,e){return G.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(Q[487],J([5,6]),function(G,e){return G.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(Q[488],J([5,6]),function(G,e){return G.create("vs/editor/contrib/peekView/peekView",e)}),define(Q[489],J([5,6]),function(G,e){return G.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(Q[490],J([5,6]),function(G,e){return G.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(Q[491],J([5,6]),function(G,e){return G.create("vs/editor/contrib/rename/rename",e)}),define(Q[492],J([5,6]),function(G,e){return G.create("vs/editor/contrib/rename/renameInputField",e)}),define(Q[493],J([5,6]),function(G,e){return G.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(Q[494],J([5,6]),function(G,e){return G.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(Q[495],J([5,6]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestController",e)}),define(Q[496],J([5,6]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(Q[497],J([5,6]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(Q[498],J([5,6]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(Q[499],J([5,6]),function(G,e){return G.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(Q[500],J([5,6]),function(G,e){return G.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(Q[501],J([5,6]),function(G,e){return G.create("vs/editor/contrib/tokenization/tokenization",e)}),define(Q[502],J([5,6]),function(G,e){return G.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(Q[503],J([5,6]),function(G,e){return G.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(Q[504],J([5,6]),function(G,e){return G.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(Q[505],J([5,6]),function(G,e){return G.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(Q[506],J([5,6]),function(G,e){return G.create("vs/platform/configuration/common/configurationRegistry",e)}),define(Q[507],J([5,6]),function(G,e){return G.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(Q[508],J([5,6]),function(G,e){return G.create("vs/platform/list/browser/listService",e)}),define(Q[509],J([5,6]),function(G,e){return G.create("vs/platform/markers/common/markers",e)}),define(Q[510],J([5,6]),function(G,e){return G.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(Q[511],J([5,6]),function(G,e){return G.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(Q[512],J([5,6]),function(G,e){return G.create("vs/platform/theme/common/colorRegistry",e)}),define(Q[513],J([5,6]),function(G,e){return G.create("vs/platform/theme/common/iconRegistry",e)}),define(Q[514],J([5,6]),function(G,e){return G.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(Q[515],J([0,1,7]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class k{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(y,S){return De(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,y);return}try{return yield navigator.clipboard.writeText(y)}catch(f){console.error(f)}const _=document.activeElement,d=document.body.appendChild(C.$("textarea",{"aria-hidden":!0}));d.style.height="1px",d.style.width="1px",d.style.position="absolute",d.value=y,d.focus(),d.select(),document.execCommand("copy"),_ instanceof HTMLElement&&_.focus(),document.body.removeChild(d)})}readText(y){return De(this,void 0,void 0,function*(){if(y)return this.mapTextToType.get(y)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return De(this,void 0,void 0,function*(){return this.findText})}writeFindText(y){return De(this,void 0,void 0,function*(){this.findText=y})}}e.BrowserClipboardService=k}),define(Q[516],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=void 0,e.InputFocusedContextKey="inputFocus"}),define(Q[517],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var C;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(C=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(Q[518],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class C{constructor(M){this.value=M,this._lower=M.toLowerCase()}static toKey(M){return typeof M=="string"?M.toLowerCase():M._lower}}e.ExtensionIdentifier=C}),define(Q[235],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var C;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(C=e.FileKind||(e.FileKind={}))}),define(Q[236],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class C{constructor(M,y=[],S=!1){this.ctor=M,this.staticArguments=y,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=C}),define(Q[72],J([0,1,236]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function M(S,_,d){k.push([S,new C.SyncDescriptor(_,[],d)])}e.registerSingleton=M;function y(){return k}e.getSingletonServiceDescriptors=y}),define(Q[519],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class C{constructor(y){this.incoming=new Map,this.outgoing=new Map,this.data=y}}e.Node=C;class k{constructor(y){this._hashFn=y,this._nodes=new Map}roots(){const y=[];for(let S of this._nodes.values())S.outgoing.size===0&&y.push(S);return y}insertEdge(y,S){const _=this.lookupOrInsertNode(y),d=this.lookupOrInsertNode(S);_.outgoing.set(this._hashFn(S),d),d.incoming.set(this._hashFn(y),_)}removeNode(y){const S=this._hashFn(y);this._nodes.delete(S);for(let _ of this._nodes.values())_.outgoing.delete(S),_.incoming.delete(S)}lookupOrInsertNode(y){const S=this._hashFn(y);let _=this._nodes.get(S);return _||(_=new C(y),this._nodes.set(S,_)),_}isEmpty(){return this._nodes.size===0}toString(){let y=[];for(let[S,_]of this._nodes)y.push(`${S}, (incoming)[${[..._.incoming.keys()].join(", ")}], (outgoing)[${[..._.outgoing.keys()].join(",")}]`);return y.join(`
`)}}e.Graph=k}),define(Q[9],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var C;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function _(d){return d[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=_})(C=e._util||(e._util={})),e.IInstantiationService=M("instantiationService");function k(S,_,d,f){_[C.DI_TARGET]===_?_[C.DI_DEPENDENCIES].push({id:S,index:d,optional:f}):(_[C.DI_DEPENDENCIES]=[{id:S,index:d,optional:f}],_[C.DI_TARGET]=_)}function M(S){if(C.serviceIds.has(S))return C.serviceIds.get(S);const _=function(d,f,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(_,d,p,!1)};return _.toString=()=>S,C.serviceIds.set(S,_),_}e.createDecorator=M;function y(S){return function(_,d,f){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(S,_,f,!0)}}e.optional=y}),define(Q[132],J([0,1,9,23,21]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=C.createDecorator("IWorkspaceEditService");function y(p){return M.isObject(p)&&(Boolean(p.newUri)||Boolean(p.oldUri))}function S(p){return M.isObject(p)&&k.URI.isUri(p.resource)&&M.isObject(p.edit)}class _{constructor(o){this.metadata=o}static convert(o){return o.edits.map(c=>{if(S(c))return new d(c.resource,c.edit,c.modelVersionId,c.metadata);if(y(c))return new f(c.oldUri,c.newUri,c.options,c.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=_;class d extends _{constructor(o,c,a,s){super(s);this.resource=o,this.textEdit=c,this.versionId=a,this.metadata=s}}e.ResourceTextEdit=d;class f extends _{constructor(o,c,a,s){super(s);this.oldResource=o,this.newResource=c,this.options=a,this.metadata=s}}e.ResourceFileEdit=f}),define(Q[28],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=C.createDecorator("codeEditorService")}),define(Q[73],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=C.createDecorator(e.ID_EDITOR_WORKER_SERVICE)}),define(Q[237],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=C.createDecorator("markerDecorationsService")}),define(Q[67],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=C.createDecorator("modeService")}),define(Q[45],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=C.createDecorator("modelService");function k(M){return!M.isTooLargeForSyncing()&&!M.isForSimpleWidget}e.shouldSynchronizeModel=k}),define(Q[174],J([0,1,4,101,2,51,100,365,45]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function f(c){return typeof c=="string"?!1:Array.isArray(c)?c.every(f):!!c.exclusive}class p{constructor(){this._clock=0,this._entries=[],this._onDidChange=new C.Emitter}get onDidChange(){return this._onDidChange.event}register(a,s){let l={selector:a,provider:s,_score:-1,_time:this._clock++};return this._entries.push(l),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),M.toDisposable(()=>{if(l){let r=this._entries.indexOf(l);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),l=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const s=[];for(let l of this._entries)l._score>0&&s.push(l.provider);return s}ordered(a){const s=[];return this._orderedForEach(a,l=>s.push(l.provider)),s}orderedGroups(a){const s=[];let l,r;return this._orderedForEach(a,t=>{l&&r===t._score?l.push(t.provider):(r=t._score,l=[t.provider],s.push(l))}),s}_orderedForEach(a,s){if(!!a){this._updateScores(a);for(const l of this._entries)l._score>0&&s(l)}}_updateScores(a){let s={uri:a.uri.toString(),language:a.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===s.language&&this._lastCandidate.uri===s.uri)){this._lastCandidate=s;for(let l of this._entries)if(l._score=_.score(l.selector,a.uri,a.getLanguageIdentifier().language,d.shouldSynchronizeModel(a)),f(l.selector)&&l._score>0){for(let r of this._entries)r._score=0;l._score=1e3;break}this._entries.sort(p._compareByScoreAndTime)}}static _compareByScoreAndTime(a,s){return a._score<s._score?1:a._score>s._score?-1:a._time<s._time?1:a._time>s._time?-1:0}}e.LanguageFeatureRegistry=p;class o{constructor(a,s,l=Number.MAX_SAFE_INTEGER){this._registry=a,this.min=s,this.max=l,this._cache=new y.LRUCache(50,.7)}_key(a){return a.id+k.hash(this._registry.all(a))}_clamp(a){return a===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(a*1.3)))}get(a){const s=this._key(a),l=this._cache.get(s);return this._clamp(l==null?void 0:l.value)}update(a,s){const l=this._key(a);let r=this._cache.get(l);return r||(r=new S.MovingAverage,this._cache.set(l,r)),r.update(s),this.get(a)}}e.LanguageFeatureRequestDelays=o}),define(Q[18],J([0,1,23,3,174,373,27]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class _{constructor(l,r){this.language=l,this.id=r}}e.LanguageIdentifier=_;class d{static getLanguageId(l){return(l&255)>>>0}static getTokenType(l){return(l&1792)>>>8}static getFontStyle(l){return(l&14336)>>>11}static getForeground(l){return(l&8372224)>>>14}static getBackground(l){return(l&4286578688)>>>23}static getClassNameFromMetadata(l){let r=this.getForeground(l),t="mtk"+r,n=this.getFontStyle(l);return n&1&&(t+=" mtki"),n&2&&(t+=" mtkb"),n&4&&(t+=" mtku"),t}static getInlineStyleFromMetadata(l,r){const t=this.getForeground(l),n=this.getFontStyle(l);let i=`color: ${r[t]};`;return n&1&&(i+="font-style: italic;"),n&2&&(i+="font-weight: bold;"),n&4&&(i+="text-decoration: underline;"),i}}e.TokenMetadata=d,e.completionKindToCssClass=function(){let s=Object.create(null);return s[0]="symbol-method",s[1]="symbol-function",s[2]="symbol-constructor",s[3]="symbol-field",s[4]="symbol-variable",s[5]="symbol-class",s[6]="symbol-struct",s[7]="symbol-interface",s[8]="symbol-module",s[9]="symbol-property",s[10]="symbol-event",s[11]="symbol-operator",s[12]="symbol-unit",s[13]="symbol-value",s[14]="symbol-constant",s[15]="symbol-enum",s[16]="symbol-enum-member",s[17]="symbol-keyword",s[27]="symbol-snippet",s[18]="symbol-text",s[19]="symbol-color",s[20]="symbol-file",s[21]="symbol-reference",s[22]="symbol-customcolor",s[23]="symbol-folder",s[24]="symbol-type-parameter",s[25]="account",s[26]="issues",function(l){const r=s[l];let t=r&&S.iconRegistry.get(r);return t||(console.info("No codicon found for CompletionItemKind "+l),t=S.Codicon.symbolProperty),t.classNames}}(),e.completionKindFromString=function(){let s=Object.create(null);return s.method=0,s.function=1,s.constructor=2,s.field=3,s.variable=4,s.class=5,s.struct=6,s.interface=7,s.module=8,s.property=9,s.event=10,s.operator=11,s.unit=12,s.value=13,s.constant=14,s.enum=15,s["enum-member"]=16,s.enumMember=16,s.keyword=17,s.snippet=27,s.text=18,s.color=19,s.file=20,s.reference=21,s.customcolor=22,s.folder=23,s["type-parameter"]=24,s.typeParameter=24,s.account=25,s.issue=26,function(l,r){let t=s[l];return typeof t=="undefined"&&!r&&(t=9),t}}();var f;(function(s){s[s.Invoke=1]="Invoke",s[s.TriggerCharacter=2]="TriggerCharacter",s[s.ContentChange=3]="ContentChange"})(f=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var p;(function(s){s[s.Text=0]="Text",s[s.Read=1]="Read",s[s.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function o(s){return s&&C.URI.isUri(s.uri)&&k.Range.isIRange(s.range)&&(k.Range.isIRange(s.originSelectionRange)||k.Range.isIRange(s.targetSelectionRange))}e.isLocationLink=o;var c;(function(s){const l=new Map;l.set("file",0),l.set("module",1),l.set("namespace",2),l.set("package",3),l.set("class",4),l.set("method",5),l.set("property",6),l.set("field",7),l.set("constructor",8),l.set("enum",9),l.set("interface",10),l.set("function",11),l.set("variable",12),l.set("constant",13),l.set("string",14),l.set("number",15),l.set("boolean",16),l.set("array",17),l.set("object",18),l.set("key",19),l.set("null",20),l.set("enum-member",21),l.set("struct",22),l.set("event",23),l.set("operator",24),l.set("type-parameter",25);const r=new Map;r.set(0,"file"),r.set(1,"module"),r.set(2,"namespace"),r.set(3,"package"),r.set(4,"class"),r.set(5,"method"),r.set(6,"property"),r.set(7,"field"),r.set(8,"constructor"),r.set(9,"enum"),r.set(10,"interface"),r.set(11,"function"),r.set(12,"variable"),r.set(13,"constant"),r.set(14,"string"),r.set(15,"number"),r.set(16,"boolean"),r.set(17,"array"),r.set(18,"object"),r.set(19,"key"),r.set(20,"null"),r.set(21,"enum-member"),r.set(22,"struct"),r.set(23,"event"),r.set(24,"operator"),r.set(25,"type-parameter");function t(u){return l.get(u)}s.fromString=t;function n(u){return r.get(u)}s.toString=n;function i(u,h){const v=r.get(u);let m=v&&S.iconRegistry.get("symbol-"+v);return m||(console.info("No codicon found for SymbolKind "+u),m=S.Codicon.symbolProperty),`${h?"inline":"block"} ${m.classNames}`}s.toCssClassName=i})(c=e.SymbolKinds||(e.SymbolKinds={}));class a{constructor(l){this.value=l}}e.FoldingRangeKind=a,a.Comment=new a("comment"),a.Imports=new a("imports"),a.Region=new a("region"),e.ReferenceProviderRegistry=new M.LanguageFeatureRegistry,e.RenameProviderRegistry=new M.LanguageFeatureRegistry,e.CompletionProviderRegistry=new M.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new M.LanguageFeatureRegistry,e.HoverProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new M.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new M.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new M.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new M.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new M.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new M.LanguageFeatureRegistry,e.LinkProviderRegistry=new M.LanguageFeatureRegistry,e.ColorProviderRegistry=new M.LanguageFeatureRegistry,e.SelectionRangeRegistry=new M.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new M.LanguageFeatureRegistry,e.TokenizationRegistry=new y.TokenizationRegistryImpl}),define(Q[112],J([0,1,18]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class k{constructor(S,_){this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=_}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,_,d){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const f=_<<1,p=f+(d<<1);for(let o=f;o<p;o++)if(this._tokens[o]!==S._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const _=this._tokens[(S<<1)+1];return C.TokenMetadata.getLanguageId(_)}getStandardTokenType(S){const _=this._tokens[(S<<1)+1];return C.TokenMetadata.getTokenType(_)}getForeground(S){const _=this._tokens[(S<<1)+1];return C.TokenMetadata.getForeground(_)}getClassName(S){const _=this._tokens[(S<<1)+1];return C.TokenMetadata.getClassNameFromMetadata(_)}getInlineStyle(S,_){const d=this._tokens[(S<<1)+1];return C.TokenMetadata.getInlineStyleFromMetadata(d,_)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,_,d){return new M(this,S,_,d)}static convertToEndOffset(S,_){const f=(S.length>>>1)-1;for(let p=0;p<f;p++)S[p<<1]=S[p+1<<1];S[f<<1]=_}static findIndexInTokensArray(S,_){if(S.length<=2)return 0;let d=0,f=(S.length>>>1)-1;for(;d<f;){const p=d+Math.floor((f-d)/2),o=S[p<<1];if(o===_)return p+1;o<_?d=p+1:o>_&&(f=p)}return d}}e.LineTokens=k;class M{constructor(S,_,d,f){this._source=S,this._startOffset=_,this._endOffset=d,this._deltaOffset=f,this._firstTokenIndex=S.findTokenIndexAtOffset(_),this._tokensCount=0;for(let p=this._firstTokenIndex,o=S.getCount();p<o&&!(S.getStartOffset(p)>=d);p++)this._tokensCount++}equals(S){return S instanceof M?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const _=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,_){return this._source.getInlineStyle(this._firstTokenIndex+S,_)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=M}),define(Q[133],J([0,1,19,112,12,3,18]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function _(n){let i=0,u=0,h=0,v=0;for(let m=0,g=n.length;m<g;m++){const b=n.charCodeAt(m);b===13?(i===0&&(u=m),i++,m+1<g&&n.charCodeAt(m+1)===10?(v|=2,m++):v|=3,h=m+1):b===10&&(v|=1,i===0&&(u=m),i++,h=m+1)}return i===0&&(u=n.length),[i,u,n.length-h,v]}e.countEOL=_;function d(n){return(n<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const f=new Uint32Array(0).buffer;class p{constructor(){this.tokens=[]}add(i,u){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===i){h.tokens.push(u);return}}this.tokens.push(new s(i,[u]))}}e.MultilineTokensBuilder=p;class o{constructor(i){this._tokens=i,this._tokenCount=i.length/4}toString(i){let u=[];for(let h=0;h<this._tokenCount;h++)u.push(`(${this._getDeltaLine(h)+i},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${u.join(",")}]`}getMaxDeltaLine(){const i=this._getTokenCount();return i===0?-1:this._getDeltaLine(i-1)}getRange(){const i=this._getTokenCount();if(i===0)return null;const u=this._getStartCharacter(0),h=this._getDeltaLine(i-1),v=this._getEndCharacter(i-1);return new y.Range(0,u+1,h,v+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(i){return this._tokens[4*i]}_getStartCharacter(i){return this._tokens[4*i+1]}_getEndCharacter(i){return this._tokens[4*i+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(i){let u=0,h=this._getTokenCount()-1;for(;u<h;){const v=u+Math.floor((h-u)/2),m=this._getDeltaLine(v);if(m<i)u=v+1;else if(m>i)h=v-1;else{let g=v;for(;g>u&&this._getDeltaLine(g-1)===i;)g--;let b=v;for(;b<h&&this._getDeltaLine(b+1)===i;)b++;return new c(this._tokens.subarray(4*g,4*b+4))}}return this._getDeltaLine(u)===i?new c(this._tokens.subarray(4*u,4*u+4)):null}clear(){this._tokenCount=0}removeTokens(i,u,h,v){const m=this._tokens,g=this._tokenCount;let b=0,w=!1,L=0;for(let E=0;E<g;E++){const N=4*E,I=m[N],T=m[N+1],O=m[N+2],R=m[N+3];if((I>i||I===i&&O>=u)&&(I<h||I===h&&T<=v))w=!0;else{if(b===0&&(L=I),w){const F=4*b;m[F]=I-L,m[F+1]=T,m[F+2]=O,m[F+3]=R}b++}}return this._tokenCount=b,L}split(i,u,h,v){const m=this._tokens,g=this._tokenCount;let b=[],w=[],L=b,E=0,N=0;for(let I=0;I<g;I++){const T=4*I,O=m[T],R=m[T+1],F=m[T+2],D=m[T+3];if(O>i||O===i&&F>=u){if(O<h||O===h&&R<=v)continue;L!==w&&(L=w,E=0,N=O)}L[E++]=O-N,L[E++]=R,L[E++]=F,L[E++]=D}return[new o(new Uint32Array(b)),new o(new Uint32Array(w)),N]}acceptDeleteRange(i,u,h,v,m){const g=this._tokens,b=this._tokenCount,w=v-u;let L=0,E=!1;for(let N=0;N<b;N++){const I=4*N;let T=g[I],O=g[I+1],R=g[I+2];const F=g[I+3];if(T<u||T===u&&R<=h){L++;continue}else if(T===u&&O<h)T===v&&R>m?R-=m-h:R=h;else if(T===u&&O===h)if(T===v&&R>m)R-=m-h;else{E=!0;continue}else if(T<v||T===v&&O<m)if(T===v&&R>m)T===u?(O=h,R=O+(R-m)):(O=0,R=O+(R-m));else{E=!0;continue}else if(T>v){if(w===0&&!E){L=b;break}T-=w}else if(T===v&&O>=m)i&&T===0&&(O+=i,R+=i),T-=w,O-=m-h,R-=m-h;else throw new Error("Not possible!");const D=4*L;g[D]=T,g[D+1]=O,g[D+2]=R,g[D+3]=F,L++}this._tokenCount=L}acceptInsertText(i,u,h,v,m,g){const b=h===0&&v===1&&(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122),w=this._tokens,L=this._tokenCount;for(let E=0;E<L;E++){const N=4*E;let I=w[N],T=w[N+1],O=w[N+2];if(!(I<i||I===i&&O<u)){if(I===i&&O===u)if(b)O+=1;else continue;else if(I===i&&T<u&&u<O)h===0?O+=v:O=u;else{if(I===i&&T===u&&b)continue;if(I===i)if(I+=h,h===0)T+=v,O+=v;else{const R=O-T;T=m+(T-u),O=T+R}else I+=h}w[N]=I,w[N+1]=T,w[N+2]=O}}}}e.SparseEncodedTokens=o;class c{constructor(i){this._tokens=i}getCount(){return this._tokens.length/4}getStartCharacter(i){return this._tokens[4*i+1]}getEndCharacter(i){return this._tokens[4*i+2]}getMetadata(i){return this._tokens[4*i+3]}}e.LineTokens2=c;class a{constructor(i,u){this.startLineNumber=i,this.tokens=u,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(i){return this.startLineNumber<=i&&i<=this.endLineNumber?this.tokens.getLineTokens(i-this.startLineNumber):null}getRange(){const i=this.tokens.getRange();return i&&new y.Range(this.startLineNumber+i.startLineNumber,i.startColumn,this.startLineNumber+i.endLineNumber,i.endColumn)}removeTokens(i){const u=i.startLineNumber-this.startLineNumber,h=i.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(u,i.startColumn-1,h,i.endColumn-1),this._updateEndLineNumber()}split(i){const u=i.startLineNumber-this.startLineNumber,h=i.endLineNumber-this.startLineNumber,[v,m,g]=this.tokens.split(u,i.startColumn-1,h,i.endColumn-1);return[new a(this.startLineNumber,v),new a(this.startLineNumber+g,m)]}applyEdit(i,u){const[h,v,m]=_(u);this.acceptEdit(i,h,v,m,u.length>0?u.charCodeAt(0):0)}acceptEdit(i,u,h,v,m){this._acceptDeleteRange(i),this._acceptInsertText(new M.Position(i.startLineNumber,i.startColumn),u,h,v,m),this._updateEndLineNumber()}_acceptDeleteRange(i){if(!(i.startLineNumber===i.endLineNumber&&i.startColumn===i.endColumn)){const u=i.startLineNumber-this.startLineNumber,h=i.endLineNumber-this.startLineNumber;if(h<0){const m=h-u;this.startLineNumber-=m;return}const v=this.tokens.getMaxDeltaLine();if(!(u>=v+1)){if(u<0&&h>=v+1){this.startLineNumber=0,this.tokens.clear();return}if(u<0){const m=-u;this.startLineNumber-=m,this.tokens.acceptDeleteRange(i.startColumn-1,0,0,h,i.endColumn-1)}else this.tokens.acceptDeleteRange(0,u,i.startColumn-1,h,i.endColumn-1)}}}_acceptInsertText(i,u,h,v,m){if(!(u===0&&h===0)){const g=i.lineNumber-this.startLineNumber;if(g<0){this.startLineNumber+=u;return}const b=this.tokens.getMaxDeltaLine();g>=b+1||this.tokens.acceptInsertText(g,i.column-1,u,h,v,m)}}}e.MultilineTokens2=a;class s{constructor(i,u){this.startLineNumber=i,this.tokens=u}}e.MultilineTokens=s;function l(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class r{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(i,u){this._pieces=i||[],this._isComplete=u}setPartial(i,u){let h=i;if(u.length>0){const m=u[0].getRange(),g=u[u.length-1].getRange();if(!m||!g)return i;h=i.plusRange(m).plusRange(g)}let v=null;for(let m=0,g=this._pieces.length;m<g;m++){const b=this._pieces[m];if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){v=v||{index:m};break}if(b.removeTokens(h),b.isEmpty()){this._pieces.splice(m,1),m--,g--;continue}if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){v=v||{index:m};continue}const[w,L]=b.split(h);if(w.isEmpty()){v=v||{index:m};continue}L.isEmpty()||(this._pieces.splice(m,1,w,L),m++,g++,v=v||{index:m})}}}return v=v||{index:this._pieces.length},u.length>0&&(this._pieces=C.arrayInsert(this._pieces,v.index,u)),h}isComplete(){return this._isComplete}addSemanticTokens(i,u){const h=this._pieces;if(h.length===0)return u;const v=r._findFirstPieceWithLine(h,i),m=h[v].getLineTokens(i);if(!m)return u;const g=u.getCount(),b=m.getCount();let w=0,L=[],E=0,N=0;const I=(T,O)=>{T!==N&&(N=T,L[E++]=T,L[E++]=O)};for(let T=0;T<b;T++){const O=m.getStartCharacter(T),R=m.getEndCharacter(T),F=m.getMetadata(T),D=((F&1?2048:0)|(F&2?4096:0)|(F&4?8192:0)|(F&8?8372224:0)|(F&16?4286578688:0))>>>0,B=~D>>>0;for(;w<g&&u.getEndOffset(w)<=O;)I(u.getEndOffset(w),u.getMetadata(w)),w++;for(w<g&&u.getStartOffset(w)<O&&I(O,u.getMetadata(w));w<g&&u.getEndOffset(w)<R;)I(u.getEndOffset(w),u.getMetadata(w)&B|F&D),w++;if(w<g)I(R,u.getMetadata(w)&B|F&D),u.getEndOffset(w)===R&&w++;else{const A=Math.min(Math.max(0,w-1),g-1);I(R,u.getMetadata(A)&B|F&D)}}for(;w<g;)I(u.getEndOffset(w),u.getMetadata(w)),w++;return new k.LineTokens(new Uint32Array(L),u.getLineContent())}static _findFirstPieceWithLine(i,u){let h=0,v=i.length-1;for(;h<v;){let m=h+Math.floor((v-h)/2);if(i[m].endLineNumber<u)h=m+1;else if(i[m].startLineNumber>u)v=m-1;else{for(;m>h&&i[m-1].startLineNumber<=u&&u<=i[m-1].endLineNumber;)m--;return m}}return h}acceptEdit(i,u,h,v,m){for(const g of this._pieces)g.acceptEdit(i,u,h,v,m)}}e.TokensStore2=r;class t{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(i,u,h){let v=null;if(u<this._len&&(v=this._lineTokens[u]),v!==null&&v!==f)return new k.LineTokens(l(v),h);let m=new Uint32Array(2);return m[0]=h.length,m[1]=d(i),new k.LineTokens(m,h)}static _massageTokens(i,u,h){const v=h?l(h):null;if(u===0){let m=!1;if(v&&v.length>1&&(m=S.TokenMetadata.getLanguageId(v[1])!==i),!m)return f}if(!v||v.length===0){const m=new Uint32Array(2);return m[0]=u,m[1]=d(i),m.buffer}return v[v.length-2]=u,v.byteOffset===0&&v.byteLength===v.buffer.byteLength?v.buffer:v}_ensureLine(i){for(;i>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(i,u){u!==0&&(i+u>this._len&&(u=this._len-i),this._lineTokens.splice(i,u),this._len-=u)}_insertLines(i,u){if(u!==0){let h=[];for(let v=0;v<u;v++)h[v]=null;this._lineTokens=C.arrayInsert(this._lineTokens,i,h),this._len+=u}}setTokens(i,u,h,v,m){const g=t._massageTokens(i,h,v);this._ensureLine(u);const b=this._lineTokens[u];return this._lineTokens[u]=g,m?!t._equals(b,g):!1}static _equals(i,u){if(!i||!u)return!i&&!u;const h=l(i),v=l(u);if(h.length!==v.length)return!1;for(let m=0,g=h.length;m<g;m++)if(h[m]!==v[m])return!1;return!0}acceptEdit(i,u,h){this._acceptDeleteRange(i),this._acceptInsertText(new M.Position(i.startLineNumber,i.startColumn),u,h)}_acceptDeleteRange(i){const u=i.startLineNumber-1;if(!(u>=this._len)){if(i.startLineNumber===i.endLineNumber){if(i.startColumn===i.endColumn)return;this._lineTokens[u]=t._delete(this._lineTokens[u],i.startColumn-1,i.endColumn-1);return}this._lineTokens[u]=t._deleteEnding(this._lineTokens[u],i.startColumn-1);const h=i.endLineNumber-1;let v=null;h<this._len&&(v=t._deleteBeginning(this._lineTokens[h],i.endColumn-1)),this._lineTokens[u]=t._append(this._lineTokens[u],v),this._deleteLines(i.startLineNumber,i.endLineNumber-i.startLineNumber)}}_acceptInsertText(i,u,h){if(!(u===0&&h===0)){const v=i.lineNumber-1;if(!(v>=this._len)){if(u===0){this._lineTokens[v]=t._insert(this._lineTokens[v],i.column-1,h);return}this._lineTokens[v]=t._deleteEnding(this._lineTokens[v],i.column-1),this._lineTokens[v]=t._insert(this._lineTokens[v],i.column-1,h),this._insertLines(i.lineNumber,u)}}}static _deleteBeginning(i,u){return i===null||i===f?i:t._delete(i,0,u)}static _deleteEnding(i,u){if(i===null||i===f)return i;const h=l(i),v=h[h.length-2];return t._delete(i,u,v)}static _delete(i,u,h){if(i===null||i===f||u===h)return i;const v=l(i),m=v.length>>>1;if(u===0&&v[v.length-2]===h)return f;const g=k.LineTokens.findIndexInTokensArray(v,u),b=g>0?v[g-1<<1]:0,w=v[g<<1];if(h<w){const T=h-u;for(let O=g;O<m;O++)v[O<<1]-=T;return i}let L,E;b!==u?(v[g<<1]=u,L=g+1<<1,E=u):(L=g<<1,E=b);const N=h-u;for(let T=g+1;T<m;T++){const O=v[T<<1]-N;O>E&&(v[L++]=O,v[L++]=v[(T<<1)+1],E=O)}if(L===v.length)return i;let I=new Uint32Array(L);return I.set(v.subarray(0,L),0),I.buffer}static _append(i,u){if(u===f)return i;if(i===f)return u;if(i===null)return i;if(u===null)return null;const h=l(i),v=l(u),m=v.length>>>1;let g=new Uint32Array(h.length+v.length);g.set(h,0);let b=h.length;const w=h[h.length-2];for(let L=0;L<m;L++)g[b++]=v[L<<1]+w,g[b++]=v[(L<<1)+1];return g.buffer}static _insert(i,u,h){if(i===null||i===f)return i;const v=l(i),m=v.length>>>1;let g=k.LineTokens.findIndexInTokensArray(v,u);g>0&&v[g-1<<1]===u&&g--;for(let b=g;b<m;b++)v[b<<1]+=h;return i}}e.TokensStore=t}),define(Q[520],J([0,1,4,8,3,53,217,133,216,2]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class p extends f.Disposable{constructor(c,a,s,l,r,t,n){super();this._onDidChangeContent=this._register(new C.Emitter),this._BOM=a,this._mightContainNonBasicASCII=!t,this._mightContainRTL=l,this._mightContainUnusualLineTerminators=r,this._pieceTree=new S.PieceTreeBase(c,s,n)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(c){return this._pieceTree.createSnapshot(c?this._BOM:"")}getOffsetAt(c,a){return this._pieceTree.getOffsetAt(c,a)}getPositionAt(c){return this._pieceTree.getPositionAt(c)}getRangeAt(c,a){let s=c+a;const l=this.getPositionAt(c),r=this.getPositionAt(s);return new M.Range(l.lineNumber,l.column,r.lineNumber,r.column)}getValueInRange(c,a=0){if(c.isEmpty())return"";const s=this._getEndOfLine(a);return this._pieceTree.getValueInRange(c,s)}getValueLengthInRange(c,a=0){if(c.isEmpty())return 0;if(c.startLineNumber===c.endLineNumber)return c.endColumn-c.startColumn;let s=this.getOffsetAt(c.startLineNumber,c.startColumn);return this.getOffsetAt(c.endLineNumber,c.endColumn)-s}getCharacterCountInRange(c,a=0){if(this._mightContainNonBasicASCII){let s=0;const l=c.startLineNumber,r=c.endLineNumber;for(let t=l;t<=r;t++){const n=this.getLineContent(t),i=t===l?c.startColumn-1:0,u=t===r?c.endColumn-1:n.length;for(let h=i;h<u;h++)k.isHighSurrogate(n.charCodeAt(h))?(s=s+1,h=h+1):s=s+1}return s+=this._getEndOfLine(a).length*(r-l),s}return this.getValueLengthInRange(c,a)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(c){return this._pieceTree.getLineContent(c)}getLineCharCode(c,a){return this._pieceTree.getLineCharCode(c,a)}getLineLength(c){return this._pieceTree.getLineLength(c)}getLineFirstNonWhitespaceColumn(c){const a=k.firstNonWhitespaceIndex(this.getLineContent(c));return a===-1?0:a+1}getLineLastNonWhitespaceColumn(c){const a=k.lastNonWhitespaceIndex(this.getLineContent(c));return a===-1?0:a+2}_getEndOfLine(c){switch(c){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(c){this._pieceTree.setEOL(c)}applyEdits(c,a,s){let l=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,t=this._mightContainNonBasicASCII,n=!0,i=[];for(let w=0;w<c.length;w++){let L=c[w];n&&L._isTracked&&(n=!1);let E=L.range;if(L.text){let R=!0;t||(R=!k.isBasicASCII(L.text),t=R),!l&&R&&(l=k.containsRTL(L.text)),!r&&R&&(r=k.containsUnusualLineTerminators(L.text))}let N="",I=0,T=0,O=0;if(L.text){let R;[I,T,O,R]=_.countEOL(L.text);const F=this.getEOL();R===0||R===(F===`\r
`?2:1)?N=L.text:N=L.text.replace(/\r\n|\r|\n/g,F)}i[w]={sortIndex:w,identifier:L.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:N,eolCount:I,firstLineLength:T,lastLineLength:O,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}i.sort(p._sortOpsAscending);let u=!1;for(let w=0,L=i.length-1;w<L;w++){let E=i[w].range.getEndPosition(),N=i[w+1].range.getStartPosition();if(N.isBeforeOrEqual(E)){if(N.isBefore(E))throw new Error("Overlapping ranges are not allowed!");u=!0}}n&&(i=this._reduceOperations(i));let h=s||a?p._getInverseEditRanges(i):[],v=[];if(a)for(let w=0;w<i.length;w++){let L=i[w],E=h[w];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let N=E.startLineNumber;N<=E.endLineNumber;N++){let I="";N===E.startLineNumber&&(I=this.getLineContent(L.range.startLineNumber),k.firstNonWhitespaceIndex(I)!==-1)||v.push({lineNumber:N,oldContent:I})}}let m=null;if(s){let w=0;m=[];for(let L=0;L<i.length;L++){const E=i[L],N=h[L],I=this.getValueInRange(E.range),T=E.rangeOffset+w;w+=E.text.length-I.length,m[L]={sortIndex:E.sortIndex,identifier:E.identifier,range:N,text:I,textChange:new d.TextChange(E.rangeOffset,I,T,E.text)}}u||m.sort((L,E)=>L.sortIndex-E.sortIndex)}this._mightContainRTL=l,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=t;const g=this._doApplyEdits(i);let b=null;if(a&&v.length>0){v.sort((w,L)=>L.lineNumber-w.lineNumber),b=[];for(let w=0,L=v.length;w<L;w++){let E=v[w].lineNumber;if(!(w>0&&v[w-1].lineNumber===E)){let N=v[w].oldContent,I=this.getLineContent(E);I.length===0||I===N||k.firstNonWhitespaceIndex(I)!==-1||b.push(E)}}}return this._onDidChangeContent.fire(),new y.ApplyEditsResult(m,g,b)}_reduceOperations(c){return c.length<1e3?c:[this._toSingleEditOperation(c)]}_toSingleEditOperation(c){let a=!1;const s=c[0].range,l=c[c.length-1].range,r=new M.Range(s.startLineNumber,s.startColumn,l.endLineNumber,l.endColumn);let t=s.startLineNumber,n=s.startColumn;const i=[];for(let g=0,b=c.length;g<b;g++){const w=c[g],L=w.range;a=a||w.forceMoveMarkers,i.push(this.getValueInRange(new M.Range(t,n,L.startLineNumber,L.startColumn))),w.text.length>0&&i.push(w.text),t=L.endLineNumber,n=L.endColumn}const u=i.join(""),[h,v,m]=_.countEOL(u);return{sortIndex:0,identifier:c[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:u,eolCount:h,firstLineLength:v,lastLineLength:m,forceMoveMarkers:a,isAutoWhitespaceEdit:!1}}_doApplyEdits(c){c.sort(p._sortOpsDescending);let a=[];for(let s=0;s<c.length;s++){let l=c[s];const r=l.range.startLineNumber,t=l.range.startColumn,n=l.range.endLineNumber,i=l.range.endColumn;if(!(r===n&&t===i&&l.text.length===0)){l.text?(this._pieceTree.delete(l.rangeOffset,l.rangeLength),this._pieceTree.insert(l.rangeOffset,l.text,!0)):this._pieceTree.delete(l.rangeOffset,l.rangeLength);const u=new M.Range(r,t,n,i);a.push({range:u,rangeLength:l.rangeLength,text:l.text,rangeOffset:l.rangeOffset,forceMoveMarkers:l.forceMoveMarkers})}}return a}findMatchesLineByLine(c,a,s,l){return this._pieceTree.findMatchesLineByLine(c,a,s,l)}static _getInverseEditRanges(c){let a=[],s=0,l=0,r=null;for(let t=0,n=c.length;t<n;t++){let i=c[t],u,h;r?r.range.endLineNumber===i.range.startLineNumber?(u=s,h=l+(i.range.startColumn-r.range.endColumn)):(u=s+(i.range.startLineNumber-r.range.endLineNumber),h=i.range.startColumn):(u=i.range.startLineNumber,h=i.range.startColumn);let v;if(i.text.length>0){const m=i.eolCount+1;m===1?v=new M.Range(u,h,u,h+i.firstLineLength):v=new M.Range(u,h,u+m-1,i.lastLineLength+1)}else v=new M.Range(u,h,u,h);s=v.endLineNumber,l=v.endColumn,a.push(v),r=i}return a}static _sortOpsAscending(c,a){let s=M.Range.compareRangesUsingEnds(c.range,a.range);return s===0?c.sortIndex-a.sortIndex:s}static _sortOpsDescending(c,a){let s=M.Range.compareRangesUsingEnds(c.range,a.range);return s===0?a.sortIndex-c.sortIndex:-s}}e.PieceTreeTextBuffer=p}),define(Q[521],J([0,1,8,217,520]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class y{constructor(d,f,p,o,c,a,s,l,r){this._chunks=d,this._bom=f,this._cr=p,this._lf=o,this._crlf=c,this._containsRTL=a,this._containsUnusualLineTerminators=s,this._isBasicASCII=l,this._normalizeEOL=r}_getEOL(d){const f=this._cr+this._lf+this._crlf,p=this._cr+this._crlf;return f===0?d===1?`
`:`\r
`:p>f/2?`\r
`:`
`}create(d){const f=this._getEOL(d);let p=this._chunks;if(this._normalizeEOL&&(f===`\r
`&&(this._cr>0||this._lf>0)||f===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,c=p.length;o<c;o++){let a=p[o].buffer.replace(/\r\n|\r|\n/g,f),s=k.createLineStartsFast(a);p[o]=new k.StringBuffer(a,s)}return new M.PieceTreeTextBuffer(p,this._bom,f,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL)}}e.PieceTreeTextBufferFactory=y;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(d){if(d.length!==0){this.chunks.length===0&&C.startsWithUTF8BOM(d)&&(this.BOM=C.UTF8_BOM_CHARACTER,d=d.substr(1));const f=d.charCodeAt(d.length-1);f===13||f>=55296&&f<=56319?(this._acceptChunk1(d.substr(0,d.length-1),!1),this._hasPreviousChar=!0,this._previousChar=f):(this._acceptChunk1(d,!1),this._hasPreviousChar=!1,this._previousChar=f)}}_acceptChunk1(d,f){!f&&d.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+d):this._acceptChunk2(d))}_acceptChunk2(d){const f=k.createLineStarts(this._tmpLineStarts,d);this.chunks.push(new k.StringBuffer(d,f.lineStarts)),this.cr+=f.cr,this.lf+=f.lf,this.crlf+=f.crlf,this.isBasicASCII&&(this.isBasicASCII=f.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=C.containsRTL(d)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=C.containsUnusualLineTerminators(d))}finish(d=!0){return this._finish(),new y(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,d)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let d=this.chunks[this.chunks.length-1];d.buffer+=String.fromCharCode(this._previousChar);let f=k.createLineStartsFast(d.buffer);d.lineStarts=f,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(Q[74],J([0,1,126,18]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class M{clone(){return this}equals(d){return this===d}}e.NULL_STATE=new M,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.NULL_MODE_ID,0);function y(_,d,f,p){return new C.TokenizationResult([new C.Token(p,"",_)],f)}e.nullTokenize=y;function S(_,d,f,p){let o=new Uint32Array(2);return o[0]=p,o[1]=(_<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new C.TokenizationResult2(o,f===null?e.NULL_STATE:f)}e.nullTokenize2=S}),define(Q[522],J([0,1,19,11,112,12,18,74,2,80,133,17]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class c{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(t){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,t&&this._setBeginState(0,t)}flush(t){this._reset(t)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(t){t<this._len&&(this._valid[t]=!1),t<this._invalidLineStartIndex&&(this._invalidLineStartIndex=t)}_isValid(t){return t<this._len?this._valid[t]:!1}getBeginState(t){return t<this._len?this._beginState[t]:null}_ensureLine(t){for(;t>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(t,n){n!==0&&(t+n>this._len&&(n=this._len-t),this._beginState.splice(t,n),this._valid.splice(t,n),this._len-=n)}_insertLines(t,n){if(n!==0){let i=[],u=[];for(let h=0;h<n;h++)i[h]=null,u[h]=!1;this._beginState=C.arrayInsert(this._beginState,t,i),this._valid=C.arrayInsert(this._valid,t,u),this._len+=n}}_setValid(t,n){this._ensureLine(t),this._valid[t]=n}_setBeginState(t,n){this._ensureLine(t),this._beginState[t]=n}setEndState(t,n,i){if(this._setValid(n,!0),this._invalidLineStartIndex=n+1,n!==t-1){const u=this.getBeginState(n+1);if(u===null||!i.equals(u)){this._setBeginState(n+1,i),this._invalidateLine(n+1);return}let h=n+1;for(;h<t&&this._isValid(h);)h++;this._invalidLineStartIndex=h}}setFakeTokens(t){this._setValid(t,!1)}applyEdits(t,n){const i=t.endLineNumber-t.startLineNumber,h=Math.min(i,n);for(let v=h;v>=0;v--)this._invalidateLine(t.startLineNumber+v-1);this._acceptDeleteRange(t),this._acceptInsertText(new y.Position(t.startLineNumber,t.startColumn),n)}_acceptDeleteRange(t){t.startLineNumber-1>=this._len||this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,n){t.lineNumber-1>=this._len||this._insertLines(t.lineNumber,n)}}e.TokenizationStateStore=c;class a extends d.Disposable{constructor(t){super();this._isDisposed=!1,this._textModel=t,this._tokenizationStateStore=new c,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(n=>{const i=this._textModel.getLanguageIdentifier();n.changedLanguages.indexOf(i.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(n=>{if(n.containsEvent(1)){this._resetTokenizationState();return}})),this._register(this._textModel.onDidChangeContentFast(n=>{for(let i=0,u=n.changes.length;i<u;i++){const h=n.changes[i],[v]=p.countEOL(h.text);this._tokenizationStateStore.applyEdits(h.range,v)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[t,n]=s(this._textModel);this._tokenizationSupport=t,this._tokenizationStateStore.flush(n),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&o.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(t=this._textModel.getLineCount()){const n=1,i=new p.MultilineTokensBuilder,u=f.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(u.elapsed()>n||this._tokenizeOneInvalidLine(i)>=t););this._beginBackgroundTokenization(),this._textModel.setTokens(i.tokens)}tokenizeViewport(t,n){const i=new p.MultilineTokensBuilder;this._tokenizeViewport(i,t,n),this._textModel.setTokens(i.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(t){const n=new p.MultilineTokensBuilder;this._updateTokensUntilLine(n,t),this._textModel.setTokens(n.tokens)}isCheapToTokenize(t){if(!this._tokenizationSupport)return!0;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return t>n?!1:t<n||this._textModel.getLineLength(t)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(t){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(t,n),n}_updateTokensUntilLine(t,n){if(!!this._tokenizationSupport){const i=this._textModel.getLanguageIdentifier(),u=this._textModel.getLineCount(),h=n-1;for(let v=this._tokenizationStateStore.invalidLineStartIndex;v<=h;v++){const m=this._textModel.getLineContent(v+1),g=this._tokenizationStateStore.getBeginState(v),b=l(i,this._tokenizationSupport,m,!0,g);t.add(v+1,b.tokens),this._tokenizationStateStore.setEndState(u,v,b.endState),v=this._tokenizationStateStore.invalidLineStartIndex-1}}}_tokenizeViewport(t,n,i){if(!!this._tokenizationSupport&&!(i<=this._tokenizationStateStore.invalidLineStartIndex)){if(n<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(t,i);return}let u=this._textModel.getLineFirstNonWhitespaceColumn(n),h=[],v=null;for(let b=n-1;u>0&&b>=1;b--){let w=this._textModel.getLineFirstNonWhitespaceColumn(b);if(w!==0&&w<u){if(v=this._tokenizationStateStore.getBeginState(b-1),v)break;h.push(this._textModel.getLineContent(b)),u=w}}v||(v=this._tokenizationSupport.getInitialState());const m=this._textModel.getLanguageIdentifier();let g=v;for(let b=h.length-1;b>=0;b--)g=l(m,this._tokenizationSupport,h[b],!1,g).endState;for(let b=n;b<=i;b++){let w=this._textModel.getLineContent(b),L=l(m,this._tokenizationSupport,w,!0,g);t.add(b,L.tokens),this._tokenizationStateStore.setFakeTokens(b-1),g=L.endState}}}}e.TextModelTokenization=a;function s(r){const t=r.getLanguageIdentifier();let n=r.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(t.language),i=null;if(n)try{i=n.getInitialState()}catch(u){k.onUnexpectedError(u),n=null}return[n,i]}function l(r,t,n,i,u){let h=null;if(t)try{h=t.tokenize2(n,i,u.clone(),0)}catch(v){k.onUnexpectedError(v)}return h||(h=_.nullTokenize2(r.id,n,u,0)),M.LineTokens.convertToEndOffset(h.tokens,n.length),h}}),define(Q[31],J([0,1,11,4,2,8,23,37,12,3,20,53,234,360,361,521,363,162,522,127,41,74,163,164,133,29]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function w(){return new l.PieceTreeTextBufferBuilder}function L(Y){const P=w();return P.acceptChunk(Y),P.finish()}e.createTextBufferFactory=L;function E(Y,P){return(typeof Y=="string"?L(Y):Y).create(P)}e.createTextBuffer=E;let N=0;const I=999;e.LONG_LINE_BOUNDARY=1e4;class T{constructor(P){this._source=P,this._eos=!1}read(){if(this._eos)return null;let P=[],x=0,z=0;do{let U=this._source.read();if(U===null)return this._eos=!0,x===0?null:P.join("");if(U.length>0&&(P[x++]=U,z+=U.length),z>=64*1024)return P.join("")}while(!0)}}const O=()=>{throw new Error("Invalid change accessor")};class R{constructor(){this._searchCanceledBrand=void 0}}R.INSTANCE=new R;function F(Y){return Y instanceof R?null:Y}class D extends M.Disposable{constructor(P,x,z,U=null,H){super();this._onWillDispose=this._register(new k.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new te),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new k.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new k.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new k.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new k.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new k.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new ae),N++,this.id="$model"+N,this.isForSimpleWidget=x.isForSimpleWidget,typeof U=="undefined"||U===null?this._associatedResource=S.URI.parse("inmemory://model/"+N):this._associatedResource=U,this._undoRedoService=H,this._attachedEditorCount=0,this._buffer=E(P,x.defaultEOL),this._options=D.resolveOptions(this._buffer,x);const q=this._buffer.getLineCount(),ie=this._buffer.getValueLengthInRange(new f.Range(1,1,q,this._buffer.getLineLength(q)+1),0);x.largeFileOptimizations?this._isTooLargeForTokenization=ie>D.LARGE_FILE_SIZE_THRESHOLD||q>D.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=ie>D.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=z||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=u.LanguageConfigurationRegistry.onDidChange(ce=>{ce.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=y.singleLetterHash(N),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new B,this._commandManager=new c.EditStack(this,H),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new g.TokensStore,this._tokens2=new g.TokensStore2,this._tokenization=new n.TextModelTokenization(this)}static resolveOptions(P,x){if(x.detectIndentation){const z=a.guessIndentation(P,x.tabSize,x.insertSpaces);return new o.TextModelResolvedOptions({tabSize:z.tabSize,indentSize:z.tabSize,insertSpaces:z.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}return new o.TextModelResolvedOptions({tabSize:x.tabSize,indentSize:x.indentSize,insertSpaces:x.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}onDidChangeRawContentFast(P){return this._eventEmitter.fastEvent(x=>P(x.rawContentChangedEvent))}onDidChangeContentFast(P){return this._eventEmitter.fastEvent(x=>P(x.contentChangedEvent))}onDidChangeContent(P){return this._eventEmitter.slowEvent(x=>P(x.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._isDisposing=!1,this._buffer=E("",this._options.defaultEOL)}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(P,x){this._isDisposing||this._eventEmitter.fire(new r.InternalModelContentChangeEvent(P,x))}setValue(P){if(this._assertNotDisposed(),P!==null){const x=E(P,this._options.defaultEOL);this.setValueFromTextBuffer(x)}}_createContentChanged2(P,x,z,U,H,q,ie){return{changes:[{range:P,rangeOffset:x,rangeLength:z,text:U}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:H,isRedoing:q,isFlush:ie}}setValueFromTextBuffer(P){if(this._assertNotDisposed(),P!==null){const x=this.getFullModelRange(),z=this.getValueLengthInRange(x),U=this.getLineCount(),H=this.getLineMaxColumn(U);this._buffer=P,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new B,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new f.Range(1,1,U,H),0,z,this.getValue(),!1,!1,!0))}}setEOL(P){this._assertNotDisposed();const x=P===1?`\r
`:`
`;if(this._buffer.getEOL()!==x){const z=this.getFullModelRange(),U=this.getValueLengthInRange(z),H=this.getLineCount(),q=this.getLineMaxColumn(H);this._onBeforeEOLChange(),this._buffer.setEOL(x),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent([new r.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new f.Range(1,1,H,q),0,U,this.getValue(),!1,!1,!1))}}_onBeforeEOLChange(){const P=this.getVersionId(),x=this._decorationsTree.search(0,!1,!1,P);this._ensureNodesHaveRanges(x)}_onAfterEOLChange(){const P=this.getVersionId(),x=this._decorationsTree.collectNodesPostOrder();for(let z=0,U=x.length;z<U;z++){const H=x[z],q=H.cachedAbsoluteStart-H.start,ie=this._buffer.getOffsetAt(H.range.startLineNumber,H.range.startColumn),ce=this._buffer.getOffsetAt(H.range.endLineNumber,H.range.endColumn);H.cachedAbsoluteStart=ie,H.cachedAbsoluteEnd=ce,H.cachedVersionId=P,H.start=ie-q,H.end=ce-q,s.recomputeMaxEnd(H)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let P=0,x=0;const z=this._buffer.getLineCount();for(let U=1;U<=z;U++){const H=this._buffer.getLineLength(U);H>=e.LONG_LINE_BOUNDARY?x+=H:P+=H}return x>P}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(P){this._assertNotDisposed();let x=typeof P.tabSize!="undefined"?P.tabSize:this._options.tabSize,z=typeof P.indentSize!="undefined"?P.indentSize:this._options.indentSize,U=typeof P.insertSpaces!="undefined"?P.insertSpaces:this._options.insertSpaces,H=typeof P.trimAutoWhitespace!="undefined"?P.trimAutoWhitespace:this._options.trimAutoWhitespace,q=new o.TextModelResolvedOptions({tabSize:x,indentSize:z,insertSpaces:U,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:H});if(!this._options.equals(q)){let ie=this._options.createChangeEvent(q);this._options=q,this._onDidChangeOptions.fire(ie)}}detectIndentation(P,x){this._assertNotDisposed();let z=a.guessIndentation(this._buffer,x,P);this.updateOptions({insertSpaces:z.insertSpaces,tabSize:z.tabSize,indentSize:z.tabSize})}static _normalizeIndentationFromWhitespace(P,x,z){let U=0;for(let q=0;q<P.length;q++)P.charAt(q)==="	"?U+=x:U++;let H="";if(!z){let q=Math.floor(U/x);U=U%x;for(let ie=0;ie<q;ie++)H+="	"}for(let q=0;q<U;q++)H+=" ";return H}static normalizeIndentation(P,x,z){let U=y.firstNonWhitespaceIndex(P);return U===-1&&(U=P.length),D._normalizeIndentationFromWhitespace(P.substring(0,U),x,z)+P.substring(U)}normalizeIndentation(P){return this._assertNotDisposed(),D.normalizeIndentation(P,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(P=null){const x=this.findMatches(y.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(P,x.map(z=>({range:z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(P){this._assertNotDisposed();let x=this._validatePosition(P.lineNumber,P.column,0);return this._buffer.getOffsetAt(x.lineNumber,x.column)}getPositionAt(P){this._assertNotDisposed();let x=Math.min(this._buffer.getLength(),Math.max(0,P));return this._buffer.getPositionAt(x)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(P){this._versionId=P}_overwriteAlternativeVersionId(P){this._alternativeVersionId=P}_overwriteInitialUndoRedoSnapshot(P){this._initialUndoRedoSnapshot=P}getValue(P,x=!1){this._assertNotDisposed();const z=this.getFullModelRange(),U=this.getValueInRange(z,P);return x?this._buffer.getBOM()+U:U}createSnapshot(P=!1){return new T(this._buffer.createSnapshot(P))}getValueLength(P,x=!1){this._assertNotDisposed();const z=this.getFullModelRange(),U=this.getValueLengthInRange(z,P);return x?this._buffer.getBOM().length+U:U}getValueInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(P),x)}getValueLengthInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(P),x)}getCharacterCountInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(P),x)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(P)}getLineLength(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(P){return this._assertNotDisposed(),1}getLineMaxColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)+1}getLineFirstNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(P)}getLineLastNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(P)}_validateRangeRelaxedNoAllocations(P){const x=this._buffer.getLineCount(),z=P.startLineNumber,U=P.startColumn;let H,q;if(z<1)H=1,q=1;else if(z>x)H=x,q=this.getLineMaxColumn(H);else if(H=z|0,U<=1)q=1;else{const ne=this.getLineMaxColumn(H);U>=ne?q=ne:q=U|0}const ie=P.endLineNumber,ce=P.endColumn;let ue,Z;if(ie<1)ue=1,Z=1;else if(ie>x)ue=x,Z=this.getLineMaxColumn(ue);else if(ue=ie|0,ce<=1)Z=1;else{const ne=this.getLineMaxColumn(ue);ce>=ne?Z=ne:Z=ce|0}return z===H&&U===q&&ie===ue&&ce===Z&&P instanceof f.Range&&!(P instanceof p.Selection)?P:new f.Range(H,q,ue,Z)}_isValidPosition(P,x,z){if(typeof P!="number"||typeof x!="number"||isNaN(P)||isNaN(x)||P<1||x<1||(P|0)!==P||(x|0)!==x)return!1;const U=this._buffer.getLineCount();if(P>U)return!1;if(x===1)return!0;const H=this.getLineMaxColumn(P);if(x>H)return!1;if(z===1){const q=this._buffer.getLineCharCode(P,x-2);if(y.isHighSurrogate(q))return!1}return!0}_validatePosition(P,x,z){const U=Math.floor(typeof P=="number"&&!isNaN(P)?P:1),H=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),q=this._buffer.getLineCount();if(U<1)return new d.Position(1,1);if(U>q)return new d.Position(q,this.getLineMaxColumn(q));if(H<=1)return new d.Position(U,1);const ie=this.getLineMaxColumn(U);if(H>=ie)return new d.Position(U,ie);if(z===1){const ce=this._buffer.getLineCharCode(U,H-2);if(y.isHighSurrogate(ce))return new d.Position(U,H-1)}return new d.Position(U,H)}validatePosition(P){const x=1;return this._assertNotDisposed(),P instanceof d.Position&&this._isValidPosition(P.lineNumber,P.column,x)?P:this._validatePosition(P.lineNumber,P.column,x)}_isValidRange(P,x){const z=P.startLineNumber,U=P.startColumn,H=P.endLineNumber,q=P.endColumn;if(!this._isValidPosition(z,U,0)||!this._isValidPosition(H,q,0))return!1;if(x===1){const ie=U>1?this._buffer.getLineCharCode(z,U-2):0,ce=q>1&&q<=this._buffer.getLineLength(H)?this._buffer.getLineCharCode(H,q-2):0,ue=y.isHighSurrogate(ie),Z=y.isHighSurrogate(ce);return!ue&&!Z}return!0}validateRange(P){const x=1;if(this._assertNotDisposed(),P instanceof f.Range&&!(P instanceof p.Selection)&&this._isValidRange(P,x))return P;const z=this._validatePosition(P.startLineNumber,P.startColumn,0),U=this._validatePosition(P.endLineNumber,P.endColumn,0),H=z.lineNumber,q=z.column,ie=U.lineNumber,ce=U.column;if(x===1){const ue=q>1?this._buffer.getLineCharCode(H,q-2):0,Z=ce>1&&ce<=this._buffer.getLineLength(ie)?this._buffer.getLineCharCode(ie,ce-2):0,ne=y.isHighSurrogate(ue),$=y.isHighSurrogate(Z);return!ne&&!$?new f.Range(H,q,ie,ce):H===ie&&q===ce?new f.Range(H,q-1,ie,ce-1):ne&&$?new f.Range(H,q-1,ie,ce+1):ne?new f.Range(H,q-1,ie,ce):new f.Range(H,q,ie,ce+1)}return new f.Range(H,q,ie,ce)}modifyPosition(P,x){this._assertNotDisposed();let z=this.getOffsetAt(P)+x;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,z)))}getFullModelRange(){this._assertNotDisposed();const P=this.getLineCount();return new f.Range(1,1,P,this.getLineMaxColumn(P))}findMatchesLineByLine(P,x,z,U){return this._buffer.findMatchesLineByLine(P,x,z,U)}findMatches(P,x,z,U,H,q,ie=I){this._assertNotDisposed();let ce=null;x!==null&&(Array.isArray(x)||(x=[x]),x.every(ne=>f.Range.isIRange(ne))&&(ce=x.map(ne=>this.validateRange(ne)))),ce===null&&(ce=[this.getFullModelRange()]),ce=ce.sort((ne,$)=>ne.startLineNumber-$.startLineNumber||ne.startColumn-$.startColumn);const ue=[];ue.push(ce.reduce((ne,$)=>f.Range.areIntersecting(ne,$)?ne.plusRange($):(ue.push(ne),$)));let Z;if(!z&&P.indexOf(`
`)<0){const $=new t.SearchParams(P,z,U,H).parseSearchRequest();if(!$)return[];Z=X=>this.findMatchesLineByLine(X,$,q,ie)}else Z=ne=>t.TextModelSearch.findMatches(this,new t.SearchParams(P,z,U,H),ne,q,ie);return ue.map(Z).reduce((ne,$)=>ne.concat($),[])}findNextMatch(P,x,z,U,H,q){this._assertNotDisposed();const ie=this.validatePosition(x);if(!z&&P.indexOf(`
`)<0){const ue=new t.SearchParams(P,z,U,H).parseSearchRequest();if(!ue)return null;const Z=this.getLineCount();let ne=new f.Range(ie.lineNumber,ie.column,Z,this.getLineMaxColumn(Z)),$=this.findMatchesLineByLine(ne,ue,q,1);return t.TextModelSearch.findNextMatch(this,new t.SearchParams(P,z,U,H),ie,q),$.length>0||(ne=new f.Range(1,1,ie.lineNumber,this.getLineMaxColumn(ie.lineNumber)),$=this.findMatchesLineByLine(ne,ue,q,1),$.length>0)?$[0]:null}return t.TextModelSearch.findNextMatch(this,new t.SearchParams(P,z,U,H),ie,q)}findPreviousMatch(P,x,z,U,H,q){this._assertNotDisposed();const ie=this.validatePosition(x);return t.TextModelSearch.findPreviousMatch(this,new t.SearchParams(P,z,U,H),ie,q)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(P){if((this.getEOL()===`
`?0:1)!==P)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(P)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(P){return P instanceof o.ValidAnnotatedEditOperation?P:new o.ValidAnnotatedEditOperation(P.identifier||null,this.validateRange(P.range),P.text,P.forceMoveMarkers||!1,P.isAutoWhitespaceEdit||!1,P._isTracked||!1)}_validateEditOperations(P){const x=[];for(let z=0,U=P.length;z<U;z++)x[z]=this._validateEditOperation(P[z]);return x}pushEditOperations(P,x,z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(P,this._validateEditOperations(x),z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(P,x,z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let U=x.map(q=>({range:this.validateRange(q.range),text:q.text})),H=!0;if(P)for(let q=0,ie=P.length;q<ie;q++){let ce=P[q],ue=!1;for(let Z=0,ne=U.length;Z<ne;Z++){let $=U[Z].range,X=$.startLineNumber>ce.endLineNumber,de=ce.startLineNumber>$.endLineNumber;if(!X&&!de){ue=!0;break}}if(!ue){H=!1;break}}if(H)for(let q=0,ie=this._trimAutoWhitespaceLines.length;q<ie;q++){let ce=this._trimAutoWhitespaceLines[q],ue=this.getLineMaxColumn(ce),Z=!0;for(let ne=0,$=U.length;ne<$;ne++){let X=U[ne].range,de=U[ne].text;if(!(ce<X.startLineNumber||ce>X.endLineNumber)&&!(ce===X.startLineNumber&&X.startColumn===ue&&X.isEmpty()&&de&&de.length>0&&de.charAt(0)===`
`)&&!(ce===X.startLineNumber&&X.startColumn===1&&X.isEmpty()&&de&&de.length>0&&de.charAt(de.length-1)===`
`)){Z=!1;break}}if(Z){const ne=new f.Range(ce,1,ce,ue);x.push(new o.ValidAnnotatedEditOperation(null,ne,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(P,x,z)}_applyUndo(P,x,z,U){const H=P.map(q=>{const ie=this.getPositionAt(q.newPosition),ce=this.getPositionAt(q.newEnd);return{range:new f.Range(ie.lineNumber,ie.column,ce.lineNumber,ce.column),text:q.oldText}});this._applyUndoRedoEdits(H,x,!0,!1,z,U)}_applyRedo(P,x,z,U){const H=P.map(q=>{const ie=this.getPositionAt(q.oldPosition),ce=this.getPositionAt(q.oldEnd);return{range:new f.Range(ie.lineNumber,ie.column,ce.lineNumber,ce.column),text:q.newText}});this._applyUndoRedoEdits(H,x,!1,!0,z,U)}_applyUndoRedoEdits(P,x,z,U,H,q){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=z,this._isRedoing=U,this.applyEdits(P,!1),this.setEOL(x),this._overwriteAlternativeVersionId(H)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(q),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(P,x=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const z=this._validateEditOperations(P);return this._doApplyEdits(z,x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(P,x){const z=this._buffer.getLineCount(),U=this._buffer.applyEdits(P,this._options.trimAutoWhitespace,x),H=this._buffer.getLineCount(),q=U.changes;if(this._trimAutoWhitespaceLines=U.trimAutoWhitespaceLineNumbers,q.length!==0){let ie=[],ce=z;for(let ue=0,Z=q.length;ue<Z;ue++){const ne=q[ue],[$,X,de]=g.countEOL(ne.text);this._tokens.acceptEdit(ne.range,$,X),this._tokens2.acceptEdit(ne.range,$,X,de,ne.text.length>0?ne.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers);const fe=ne.range.startLineNumber,se=ne.range.endLineNumber,le=se-fe,me=$,be=Math.min(le,me),ye=me-le;for(let Le=be;Le>=0;Le--){const Ie=fe+Le,Te=H-ce-ye+Ie;ie.push(new r.ModelRawLineChanged(Ie,this.getLineContent(Te)))}if(be<le){const Le=fe+be;ie.push(new r.ModelRawLinesDeleted(Le+1,se))}if(be<me){const Le=fe+be,Ie=me-be,Te=H-ce-Ie+Le+1;let Ne=[];for(let Pe=0;Pe<Ie;Pe++){let Fe=Te+Pe;Ne[Fe-Te]=this.getLineContent(Fe)}ie.push(new r.ModelRawLinesInserted(Le+1,fe+me,Ne))}ce+=ye}this._increaseVersionId(),this._emitContentChangedEvent(new r.ModelRawContentChangedEvent(ie,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:q,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return U.reverseEdits===null?void 0:U.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(P,x=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(x,P)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(P,x){let z={addDecoration:(H,q)=>this._deltaDecorationsImpl(P,[],[{range:H,options:q}])[0],changeDecoration:(H,q)=>{this._changeDecorationImpl(H,q)},changeDecorationOptions:(H,q)=>{this._changeDecorationOptionsImpl(H,re(q))},removeDecoration:H=>{this._deltaDecorationsImpl(P,[H],[])},deltaDecorations:(H,q)=>H.length===0&&q.length===0?[]:this._deltaDecorationsImpl(P,H,q)},U=null;try{U=x(z)}catch(H){C.onUnexpectedError(H)}return z.addDecoration=O,z.changeDecoration=O,z.changeDecorationOptions=O,z.removeDecoration=O,z.deltaDecorations=O,U}deltaDecorations(P,x,z=0){if(this._assertNotDisposed(),P||(P=[]),P.length===0&&x.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(z,P,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(P){return this.getDecorationRange(P)}_setTrackedRange(P,x,z){const U=P?this._decorations[P]:null;if(!U)return x?this._deltaDecorationsImpl(0,[],[{range:x,options:ee[z]}])[0]:null;if(!x)return this._decorationsTree.delete(U),delete this._decorations[U.id],null;const H=this._validateRangeRelaxedNoAllocations(x),q=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),ie=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);return this._decorationsTree.delete(U),U.reset(this.getVersionId(),q,ie,H),U.setOptions(ee[z]),this._decorationsTree.insert(U),U.id}removeAllDecorationsWithOwnerId(P){if(!this._isDisposed){const x=this._decorationsTree.collectNodesFromOwner(P);for(let z=0,U=x.length;z<U;z++){const H=x[z];this._decorationsTree.delete(H),delete this._decorations[H.id]}}}getDecorationOptions(P){const x=this._decorations[P];return x?x.options:null}getDecorationRange(P){const x=this._decorations[P];if(!x)return null;const z=this.getVersionId();return x.cachedVersionId!==z&&this._decorationsTree.resolveNode(x,z),x.range===null&&(x.range=this._getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}getLineDecorations(P,x=0,z=!1){return P<1||P>this.getLineCount()?[]:this.getLinesDecorations(P,P,x,z)}getLinesDecorations(P,x,z=0,U=!1){let H=this.getLineCount(),q=Math.min(H,Math.max(1,P)),ie=Math.min(H,Math.max(1,x)),ce=this.getLineMaxColumn(ie);return this._getDecorationsInRange(new f.Range(q,1,ie,ce),z,U)}getDecorationsInRange(P,x=0,z=!1){let U=this.validateRange(P);return this._getDecorationsInRange(U,x,z)}getOverviewRulerDecorations(P=0,x=!1){const z=this.getVersionId(),U=this._decorationsTree.search(P,x,!0,z);return this._ensureNodesHaveRanges(U)}getAllDecorations(P=0,x=!1){const z=this.getVersionId(),U=this._decorationsTree.search(P,x,!1,z);return this._ensureNodesHaveRanges(U)}_getDecorationsInRange(P,x,z){const U=this._buffer.getOffsetAt(P.startLineNumber,P.startColumn),H=this._buffer.getOffsetAt(P.endLineNumber,P.endColumn),q=this.getVersionId(),ie=this._decorationsTree.intervalSearch(U,H,x,z,q);return this._ensureNodesHaveRanges(ie)}_ensureNodesHaveRanges(P){for(let x=0,z=P.length;x<z;x++){const U=P[x];U.range===null&&(U.range=this._getRangeAt(U.cachedAbsoluteStart,U.cachedAbsoluteEnd))}return P}_getRangeAt(P,x){return this._buffer.getRangeAt(P,x-P)}_changeDecorationImpl(P,x){const z=this._decorations[P];if(!!z){const U=this._validateRangeRelaxedNoAllocations(x),H=this._buffer.getOffsetAt(U.startLineNumber,U.startColumn),q=this._buffer.getOffsetAt(U.endLineNumber,U.endColumn);this._decorationsTree.delete(z),z.reset(this.getVersionId(),H,q,U),this._decorationsTree.insert(z),this._onDidChangeDecorations.checkAffectedAndFire(z.options)}}_changeDecorationOptionsImpl(P,x){const z=this._decorations[P];if(!!z){const U=!!(z.options.overviewRuler&&z.options.overviewRuler.color),H=!!(x.overviewRuler&&x.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(z.options),this._onDidChangeDecorations.checkAffectedAndFire(x),U!==H?(this._decorationsTree.delete(z),z.setOptions(x),this._decorationsTree.insert(z)):z.setOptions(x)}}_deltaDecorationsImpl(P,x,z){const U=this.getVersionId(),H=x.length;let q=0;const ie=z.length;let ce=0,ue=new Array(ie);for(;q<H||ce<ie;){let Z=null;if(q<H){do Z=this._decorations[x[q++]];while(!Z&&q<H);Z&&(this._decorationsTree.delete(Z),this._onDidChangeDecorations.checkAffectedAndFire(Z.options))}if(ce<ie){if(!Z){const se=++this._lastDecorationId,le=`${this._instanceId};${se}`;Z=new s.IntervalNode(le,0,0),this._decorations[le]=Z}const ne=z[ce],$=this._validateRangeRelaxedNoAllocations(ne.range),X=re(ne.options),de=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),fe=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);Z.ownerId=P,Z.reset(U,de,fe,$),Z.setOptions(X),this._onDidChangeDecorations.checkAffectedAndFire(X),this._decorationsTree.insert(Z),ue[ce]=Z.id,ce++}else Z&&delete this._decorations[Z.id]}return ue}setTokens(P){if(P.length!==0){let x=[];for(let z=0,U=P.length;z<U;z++){const H=P[z];let q=0,ie=0,ce=!1;for(let ue=0,Z=H.tokens.length;ue<Z;ue++){const ne=H.startLineNumber+ue;ce?(this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),H.tokens[ue],!1),ie=ne):this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),H.tokens[ue],!0)&&(ce=!0,q=ne,ie=ne)}ce&&x.push({fromLineNumber:q,toLineNumber:ie})}x.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:x})}}setSemanticTokens(P,x){this._tokens2.set(P,x),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:P!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(P,x){if(!this.hasCompleteSemanticTokens()){const z=this._tokens2.setPartial(P,x);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:z.startLineNumber,toLineNumber:z.endLineNumber}]})}}tokenizeViewport(P,x){P=Math.max(1,P),x=Math.min(this._buffer.getLineCount(),x),this._tokenization.tokenizeViewport(P,x)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(P){this._isDisposing||this._onDidChangeTokens.fire(P)}resetTokenization(){this._tokenization.reset()}forceTokenization(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(P)}isCheapToTokenize(P){return this._tokenization.isCheapToTokenize(P)}tokenizeIfCheap(P){this.isCheapToTokenize(P)&&this.forceTokenization(P)}getLineTokens(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(P)}_getLineTokens(P){const x=this.getLineContent(P),z=this._tokens.getTokens(this._languageIdentifier.id,P-1,x);return this._tokens2.addSemanticTokens(P,z)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(P){if(this._languageIdentifier.id!==P.id){let x={oldLanguage:this._languageIdentifier.language,newLanguage:P.language};this._languageIdentifier=P,this._onDidChangeLanguage.fire(x),this._onDidChangeLanguageConfiguration.fire({})}}getLanguageIdAtPosition(P,x){const z=this.validatePosition(new d.Position(P,x)),U=this.getLineTokens(z.lineNumber);return U.getLanguageId(U.findTokenIndexAtOffset(z.column-1))}getWordAtPosition(P){this._assertNotDisposed();const x=this.validatePosition(P),z=this.getLineContent(x.lineNumber),U=this._getLineTokens(x.lineNumber),H=U.findTokenIndexAtOffset(x.column-1),[q,ie]=D._findLanguageBoundaries(U,H),ce=i.getWordAtText(x.column,u.LanguageConfigurationRegistry.getWordDefinition(U.getLanguageId(H)),z.substring(q,ie),q);if(ce&&ce.startColumn<=P.column&&P.column<=ce.endColumn)return ce;if(H>0&&q===x.column-1){const[ue,Z]=D._findLanguageBoundaries(U,H-1),ne=i.getWordAtText(x.column,u.LanguageConfigurationRegistry.getWordDefinition(U.getLanguageId(H-1)),z.substring(ue,Z),ue);if(ne&&ne.startColumn<=P.column&&P.column<=ne.endColumn)return ne}return null}static _findLanguageBoundaries(P,x){const z=P.getLanguageId(x);let U=0;for(let q=x;q>=0&&P.getLanguageId(q)===z;q--)U=P.getStartOffset(q);let H=P.getLineContent().length;for(let q=x,ie=P.getCount();q<ie&&P.getLanguageId(q)===z;q++)H=P.getEndOffset(q);return[U,H]}getWordUntilPosition(P){const x=this.getWordAtPosition(P);return x?{word:x.word.substr(0,P.column-x.startColumn),startColumn:x.startColumn,endColumn:P.column}:{word:"",startColumn:P.column,endColumn:P.column}}findMatchingBracketUp(P,x){let z=P.toLowerCase(),U=this.validatePosition(x),H=this._getLineTokens(U.lineNumber),q=H.getLanguageId(H.findTokenIndexAtOffset(U.column-1)),ie=u.LanguageConfigurationRegistry.getBracketsSupport(q);if(!ie)return null;let ce=ie.textIsBracket[z];return ce?F(this._findMatchingBracketUp(ce,U,null)):null}matchBracket(P){return this._matchBracket(this.validatePosition(P))}_matchBracket(P){const x=P.lineNumber,z=this._getLineTokens(x),U=z.getCount(),H=this._buffer.getLineContent(x),q=z.findTokenIndexAtOffset(P.column-1);if(q<0)return null;const ie=u.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(q));if(ie&&!v.ignoreBracketsInToken(z.getStandardTokenType(q))){let ce=Math.max(0,P.column-1-ie.maxBracketLength);for(let ne=q-1;ne>=0;ne--){const $=z.getEndOffset(ne);if($<=ce)break;v.ignoreBracketsInToken(z.getStandardTokenType(ne))&&(ce=$)}const ue=Math.min(H.length,P.column-1+ie.maxBracketLength);let Z=null;for(;;){const ne=m.BracketsUtils.findNextBracketInRange(ie.forwardRegex,x,H,ce,ue);if(!ne)break;if(ne.startColumn<=P.column&&P.column<=ne.endColumn){const $=H.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),X=this._matchFoundBracket(ne,ie.textIsBracket[$],ie.textIsOpenBracket[$],null);if(X){if(X instanceof R)return null;Z=X}}ce=ne.endColumn-1}if(Z)return Z}if(q>0&&z.getStartOffset(q)===P.column-1){const ce=q-1,ue=u.LanguageConfigurationRegistry.getBracketsSupport(z.getLanguageId(ce));if(ue&&!v.ignoreBracketsInToken(z.getStandardTokenType(ce))){const Z=Math.max(0,P.column-1-ue.maxBracketLength);let ne=Math.min(H.length,P.column-1+ue.maxBracketLength);for(let X=ce+1;X<U;X++){const de=z.getStartOffset(X);if(de>=ne)break;v.ignoreBracketsInToken(z.getStandardTokenType(X))&&(ne=de)}const $=m.BracketsUtils.findPrevBracketInRange(ue.reversedRegex,x,H,Z,ne);if($&&$.startColumn<=P.column&&P.column<=$.endColumn){const X=H.substring($.startColumn-1,$.endColumn-1).toLowerCase(),de=this._matchFoundBracket($,ue.textIsBracket[X],ue.textIsOpenBracket[X],null);if(de)return de instanceof R?null:de}}}return null}_matchFoundBracket(P,x,z,U){if(!x)return null;const H=z?this._findMatchingBracketDown(x,P.getEndPosition(),U):this._findMatchingBracketUp(x,P.getStartPosition(),U);return H?H instanceof R?H:[P,H]:null}_findMatchingBracketUp(P,x,z){const U=P.languageIdentifier.id,H=P.reversedRegex;let q=-1,ie=0;const ce=(ue,Z,ne,$)=>{for(;;){if(z&&++ie%100==0&&!z())return R.INSTANCE;const X=m.BracketsUtils.findPrevBracketInRange(H,ue,Z,ne,$);if(!X)break;const de=Z.substring(X.startColumn-1,X.endColumn-1).toLowerCase();if(P.isOpen(de)?q++:P.isClose(de)&&q--,q===0)return X;$=X.startColumn-1}return null};for(let ue=x.lineNumber;ue>=1;ue--){const Z=this._getLineTokens(ue),ne=Z.getCount(),$=this._buffer.getLineContent(ue);let X=ne-1,de=$.length,fe=$.length;ue===x.lineNumber&&(X=Z.findTokenIndexAtOffset(x.column-1),de=x.column-1,fe=x.column-1);let se=!0;for(;X>=0;X--){const le=Z.getLanguageId(X)===U&&!v.ignoreBracketsInToken(Z.getStandardTokenType(X));if(le)se?de=Z.getStartOffset(X):(de=Z.getStartOffset(X),fe=Z.getEndOffset(X));else if(se&&de!==fe){const me=ce(ue,$,de,fe);if(me)return me}se=le}if(se&&de!==fe){const le=ce(ue,$,de,fe);if(le)return le}}return null}_findMatchingBracketDown(P,x,z){const U=P.languageIdentifier.id,H=P.forwardRegex;let q=1,ie=0;const ce=(Z,ne,$,X)=>{for(;;){if(z&&++ie%100==0&&!z())return R.INSTANCE;const de=m.BracketsUtils.findNextBracketInRange(H,Z,ne,$,X);if(!de)break;const fe=ne.substring(de.startColumn-1,de.endColumn-1).toLowerCase();if(P.isOpen(fe)?q++:P.isClose(fe)&&q--,q===0)return de;$=de.endColumn-1}return null},ue=this.getLineCount();for(let Z=x.lineNumber;Z<=ue;Z++){const ne=this._getLineTokens(Z),$=ne.getCount(),X=this._buffer.getLineContent(Z);let de=0,fe=0,se=0;Z===x.lineNumber&&(de=ne.findTokenIndexAtOffset(x.column-1),fe=x.column-1,se=x.column-1);let le=!0;for(;de<$;de++){const me=ne.getLanguageId(de)===U&&!v.ignoreBracketsInToken(ne.getStandardTokenType(de));if(me)le||(fe=ne.getStartOffset(de)),se=ne.getEndOffset(de);else if(le&&fe!==se){const be=ce(Z,X,fe,se);if(be)return be}le=me}if(le&&fe!==se){const me=ce(Z,X,fe,se);if(me)return me}}return null}findPrevBracket(P){const x=this.validatePosition(P);let z=-1,U=null;for(let H=x.lineNumber;H>=1;H--){const q=this._getLineTokens(H),ie=q.getCount(),ce=this._buffer.getLineContent(H);let ue=ie-1,Z=ce.length,ne=ce.length;if(H===x.lineNumber){ue=q.findTokenIndexAtOffset(x.column-1),Z=x.column-1,ne=x.column-1;const X=q.getLanguageId(ue);z!==X&&(z=X,U=u.LanguageConfigurationRegistry.getBracketsSupport(z))}let $=!0;for(;ue>=0;ue--){const X=q.getLanguageId(ue);if(z!==X){if(U&&$&&Z!==ne){const fe=m.BracketsUtils.findPrevBracketInRange(U.reversedRegex,H,ce,Z,ne);if(fe)return this._toFoundBracket(U,fe);$=!1}z=X,U=u.LanguageConfigurationRegistry.getBracketsSupport(z)}const de=!!U&&!v.ignoreBracketsInToken(q.getStandardTokenType(ue));if(de)$?Z=q.getStartOffset(ue):(Z=q.getStartOffset(ue),ne=q.getEndOffset(ue));else if(U&&$&&Z!==ne){const fe=m.BracketsUtils.findPrevBracketInRange(U.reversedRegex,H,ce,Z,ne);if(fe)return this._toFoundBracket(U,fe)}$=de}if(U&&$&&Z!==ne){const X=m.BracketsUtils.findPrevBracketInRange(U.reversedRegex,H,ce,Z,ne);if(X)return this._toFoundBracket(U,X)}}return null}findNextBracket(P){const x=this.validatePosition(P),z=this.getLineCount();let U=-1,H=null;for(let q=x.lineNumber;q<=z;q++){const ie=this._getLineTokens(q),ce=ie.getCount(),ue=this._buffer.getLineContent(q);let Z=0,ne=0,$=0;if(q===x.lineNumber){Z=ie.findTokenIndexAtOffset(x.column-1),ne=x.column-1,$=x.column-1;const de=ie.getLanguageId(Z);U!==de&&(U=de,H=u.LanguageConfigurationRegistry.getBracketsSupport(U))}let X=!0;for(;Z<ce;Z++){const de=ie.getLanguageId(Z);if(U!==de){if(H&&X&&ne!==$){const se=m.BracketsUtils.findNextBracketInRange(H.forwardRegex,q,ue,ne,$);if(se)return this._toFoundBracket(H,se);X=!1}U=de,H=u.LanguageConfigurationRegistry.getBracketsSupport(U)}const fe=!!H&&!v.ignoreBracketsInToken(ie.getStandardTokenType(Z));if(fe)X||(ne=ie.getStartOffset(Z)),$=ie.getEndOffset(Z);else if(H&&X&&ne!==$){const se=m.BracketsUtils.findNextBracketInRange(H.forwardRegex,q,ue,ne,$);if(se)return this._toFoundBracket(H,se)}X=fe}if(H&&X&&ne!==$){const de=m.BracketsUtils.findNextBracketInRange(H.forwardRegex,q,ue,ne,$);if(de)return this._toFoundBracket(H,de)}}return null}findEnclosingBrackets(P,x){let z;if(typeof x=="undefined")z=null;else{const X=Date.now();z=()=>Date.now()-X<=x}const U=this.validatePosition(P),H=this.getLineCount(),q=new Map;let ie=[];const ce=(X,de)=>{if(!q.has(X)){let fe=[];for(let se=0,le=de?de.brackets.length:0;se<le;se++)fe[se]=0;q.set(X,fe)}ie=q.get(X)};let ue=0;const Z=(X,de,fe,se,le)=>{for(;;){if(z&&++ue%100==0&&!z())return R.INSTANCE;const me=m.BracketsUtils.findNextBracketInRange(X.forwardRegex,de,fe,se,le);if(!me)break;const be=fe.substring(me.startColumn-1,me.endColumn-1).toLowerCase(),ye=X.textIsBracket[be];if(ye&&(ye.isOpen(be)?ie[ye.index]++:ye.isClose(be)&&ie[ye.index]--,ie[ye.index]===-1))return this._matchFoundBracket(me,ye,!1,z);se=me.endColumn-1}return null};let ne=-1,$=null;for(let X=U.lineNumber;X<=H;X++){const de=this._getLineTokens(X),fe=de.getCount(),se=this._buffer.getLineContent(X);let le=0,me=0,be=0;if(X===U.lineNumber){le=de.findTokenIndexAtOffset(U.column-1),me=U.column-1,be=U.column-1;const Le=de.getLanguageId(le);ne!==Le&&(ne=Le,$=u.LanguageConfigurationRegistry.getBracketsSupport(ne),ce(ne,$))}let ye=!0;for(;le<fe;le++){const Le=de.getLanguageId(le);if(ne!==Le){if($&&ye&&me!==be){const Te=Z($,X,se,me,be);if(Te)return F(Te);ye=!1}ne=Le,$=u.LanguageConfigurationRegistry.getBracketsSupport(ne),ce(ne,$)}const Ie=!!$&&!v.ignoreBracketsInToken(de.getStandardTokenType(le));if(Ie)ye||(me=de.getStartOffset(le)),be=de.getEndOffset(le);else if($&&ye&&me!==be){const Te=Z($,X,se,me,be);if(Te)return F(Te)}ye=Ie}if($&&ye&&me!==be){const Le=Z($,X,se,me,be);if(Le)return F(Le)}}return null}_toFoundBracket(P,x){if(!x)return null;let z=this.getValueInRange(x);z=z.toLowerCase();let U=P.textIsBracket[z];return U?{range:x,open:U.open,close:U.close,isOpen:P.textIsOpenBracket[z]}:null}static computeIndentLevel(P,x){let z=0,U=0,H=P.length;for(;U<H;){let q=P.charCodeAt(U);if(q===32)z++;else if(q===9)z=z-z%x+x;else break;U++}return U===H?-1:z}_computeIndentLevel(P){return D.computeIndentLevel(this._buffer.getLineContent(P+1),this._options.tabSize)}getActiveIndentGuide(P,x,z){this._assertNotDisposed();const U=this.getLineCount();if(P<1||P>U)throw new Error("Illegal value for lineNumber");const H=u.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),q=Boolean(H&&H.offSide);let ie=-2,ce=-1,ue=-2,Z=-1;const ne=Te=>{if(ie!==-1&&(ie===-2||ie>Te-1)){ie=-1,ce=-1;for(let Ne=Te-2;Ne>=0;Ne--){let Pe=this._computeIndentLevel(Ne);if(Pe>=0){ie=Ne,ce=Pe;break}}}if(ue===-2){ue=-1,Z=-1;for(let Ne=Te;Ne<U;Ne++){let Pe=this._computeIndentLevel(Ne);if(Pe>=0){ue=Ne,Z=Pe;break}}}};let $=-2,X=-1,de=-2,fe=-1;const se=Te=>{if($===-2){$=-1,X=-1;for(let Ne=Te-2;Ne>=0;Ne--){let Pe=this._computeIndentLevel(Ne);if(Pe>=0){$=Ne,X=Pe;break}}}if(de!==-1&&(de===-2||de<Te-1)){de=-1,fe=-1;for(let Ne=Te;Ne<U;Ne++){let Pe=this._computeIndentLevel(Ne);if(Pe>=0){de=Ne,fe=Pe;break}}}};let le=0,me=!0,be=0,ye=!0,Le=0,Ie=0;for(let Te=0;me||ye;Te++){const Ne=P-Te,Pe=P+Te;Te>1&&(Ne<1||Ne<x)&&(me=!1),Te>1&&(Pe>U||Pe>z)&&(ye=!1),Te>5e4&&(me=!1,ye=!1);let Fe=-1;if(me){const Be=this._computeIndentLevel(Ne-1);Be>=0?(ue=Ne-1,Z=Be,Fe=Math.ceil(Be/this._options.indentSize)):(ne(Ne),Fe=this._getIndentLevelForWhitespaceLine(q,ce,Z))}let Re=-1;if(ye){const Be=this._computeIndentLevel(Pe-1);Be>=0?($=Pe-1,X=Be,Re=Math.ceil(Be/this._options.indentSize)):(se(Pe),Re=this._getIndentLevelForWhitespaceLine(q,X,fe))}if(Te===0){Ie=Fe;continue}if(Te===1){if(Pe<=U&&Re>=0&&Ie+1===Re){me=!1,le=Pe,be=Pe,Le=Re;continue}if(Ne>=1&&Fe>=0&&Fe-1===Ie){ye=!1,le=Ne,be=Ne,Le=Fe;continue}if(le=P,be=P,Le=Ie,Le===0)return{startLineNumber:le,endLineNumber:be,indent:Le}}me&&(Fe>=Le?le=Ne:me=!1),ye&&(Re>=Le?be=Pe:ye=!1)}return{startLineNumber:le,endLineNumber:be,indent:Le}}getLinesIndentGuides(P,x){this._assertNotDisposed();const z=this.getLineCount();if(P<1||P>z)throw new Error("Illegal value for startLineNumber");if(x<1||x>z)throw new Error("Illegal value for endLineNumber");const U=u.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),H=Boolean(U&&U.offSide);let q=new Array(x-P+1),ie=-2,ce=-1,ue=-2,Z=-1;for(let ne=P;ne<=x;ne++){let $=ne-P;const X=this._computeIndentLevel(ne-1);if(X>=0){ie=ne-1,ce=X,q[$]=Math.ceil(X/this._options.indentSize);continue}if(ie===-2){ie=-1,ce=-1;for(let de=ne-2;de>=0;de--){let fe=this._computeIndentLevel(de);if(fe>=0){ie=de,ce=fe;break}}}if(ue!==-1&&(ue===-2||ue<ne-1)){ue=-1,Z=-1;for(let de=ne;de<z;de++){let fe=this._computeIndentLevel(de);if(fe>=0){ue=de,Z=fe;break}}}q[$]=this._getIndentLevelForWhitespaceLine(H,ce,Z)}return q}_getIndentLevelForWhitespaceLine(P,x,z){return x===-1||z===-1?0:x<z?1+Math.floor(x/this._options.indentSize):x===z?Math.ceil(z/this._options.indentSize):P?Math.ceil(z/this._options.indentSize):1+Math.floor(z/this._options.indentSize)}}e.TextModel=D,D.MODEL_SYNC_LIMIT=50*1024*1024,D.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,D.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,D.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:_.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:_.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:_.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};class B{constructor(){this._decorationsTree0=new s.IntervalTree,this._decorationsTree1=new s.IntervalTree}intervalSearch(P,x,z,U,H){const q=this._decorationsTree0.intervalSearch(P,x,z,U,H),ie=this._decorationsTree1.intervalSearch(P,x,z,U,H);return q.concat(ie)}search(P,x,z,U){if(z)return this._decorationsTree1.search(P,x,U);{const H=this._decorationsTree0.search(P,x,U),q=this._decorationsTree1.search(P,x,U);return H.concat(q)}}collectNodesFromOwner(P){const x=this._decorationsTree0.collectNodesFromOwner(P),z=this._decorationsTree1.collectNodesFromOwner(P);return x.concat(z)}collectNodesPostOrder(){const P=this._decorationsTree0.collectNodesPostOrder(),x=this._decorationsTree1.collectNodesPostOrder();return P.concat(x)}insert(P){s.getNodeIsInOverviewRuler(P)?this._decorationsTree1.insert(P):this._decorationsTree0.insert(P)}delete(P){s.getNodeIsInOverviewRuler(P)?this._decorationsTree1.delete(P):this._decorationsTree0.delete(P)}resolveNode(P,x){s.getNodeIsInOverviewRuler(P)?this._decorationsTree1.resolveNode(P,x):this._decorationsTree0.resolveNode(P,x)}acceptReplace(P,x,z,U){this._decorationsTree0.acceptReplace(P,x,z,U),this._decorationsTree1.acceptReplace(P,x,z,U)}}function A(Y){return Y.replace(/[^a-z0-9\-_]/gi," ")}class W{constructor(P){this.color=P.color||"",this.darkColor=P.darkColor||""}}class V extends W{constructor(P){super(P);this._resolvedColor=null,this.position=typeof P.position=="number"?P.position:o.OverviewRulerLane.Center}getColor(P){return this._resolvedColor||(P.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,P):this._resolvedColor=this._resolveColor(this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(P,x){if(typeof P=="string")return P;let z=P?x.getColor(P.id):null;return z?z.toString():""}}e.ModelDecorationOverviewRulerOptions=V;class K extends W{constructor(P){super(P);this.position=P.position}getColor(P){return this._resolvedColor||(P.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,P):this._resolvedColor=this._resolveColor(this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(P,x){return typeof P=="string"?b.Color.fromHex(P):x.getColor(P.id)}}e.ModelDecorationMinimapOptions=K;class j{constructor(P){this.stickiness=P.stickiness||0,this.zIndex=P.zIndex||0,this.className=P.className?A(P.className):null,this.hoverMessage=P.hoverMessage||null,this.glyphMarginHoverMessage=P.glyphMarginHoverMessage||null,this.isWholeLine=P.isWholeLine||!1,this.showIfCollapsed=P.showIfCollapsed||!1,this.collapseOnReplaceEdit=P.collapseOnReplaceEdit||!1,this.overviewRuler=P.overviewRuler?new V(P.overviewRuler):null,this.minimap=P.minimap?new K(P.minimap):null,this.glyphMarginClassName=P.glyphMarginClassName?A(P.glyphMarginClassName):null,this.linesDecorationsClassName=P.linesDecorationsClassName?A(P.linesDecorationsClassName):null,this.firstLineDecorationClassName=P.firstLineDecorationClassName?A(P.firstLineDecorationClassName):null,this.marginClassName=P.marginClassName?A(P.marginClassName):null,this.inlineClassName=P.inlineClassName?A(P.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=P.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=P.beforeContentClassName?A(P.beforeContentClassName):null,this.afterContentClassName=P.afterContentClassName?A(P.afterContentClassName):null}static register(P){return new j(P)}static createDynamic(P){return new j(P)}}e.ModelDecorationOptions=j,j.EMPTY=j.register({});const ee=[j.register({stickiness:0}),j.register({stickiness:1}),j.register({stickiness:2}),j.register({stickiness:3})];function re(Y){return Y instanceof j?Y:j.createDynamic(Y)}class te extends M.Disposable{constructor(){super();this._actual=this._register(new k.Emitter),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,this._deferredCnt===0&&this._shouldFire){const P={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(P)}}checkAffectedAndFire(P){this._affectsMinimap||(this._affectsMinimap=!!(P.minimap&&P.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(P.overviewRuler&&P.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=te;class ae extends M.Disposable{constructor(){super();this._fastEmitter=this._register(new k.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new k.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(P=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=P;const x=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}fire(P){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(P):this._deferredEvent=P;return}this._fastEmitter.fire(P),this._slowEmitter.fire(P)}}e.DidChangeContentEmitter=ae}),define(Q[42],J([0,1,11,8,12,3,20,31,41]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const f=()=>!0,p=()=>!1,o=h=>h===" "||h==="	";class c{constructor(v,m,g){this._languageIdentifier=v;const b=g.options,w=b.get(123);this.readOnly=b.get(75),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=b.get(99),this.lineHeight=b.get(53),this.pageSize=Math.max(1,Math.floor(w.height/this.lineHeight)-2),this.useTabStops=b.get(109),this.wordSeparators=b.get(110),this.emptySelectionClipboard=b.get(28),this.copyWithSyntaxHighlighting=b.get(18),this.multiCursorMergeOverlapping=b.get(63),this.multiCursorPaste=b.get(65),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(7),this.autoClosingOvertype=b.get(6),this.autoSurround=b.get(10),this.autoIndent=b.get(8),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:c._getShouldAutoClose(v,this.autoClosingQuotes),bracket:c._getShouldAutoClose(v,this.autoClosingBrackets)},this.autoClosingPairs=d.LanguageConfigurationRegistry.getAutoClosingPairs(v.id);let L=c._getSurroundingPairs(v);if(L)for(const E of L)this.surroundingPairs[E.open]=E.close}static shouldRecreate(v){return v.hasChanged(123)||v.hasChanged(110)||v.hasChanged(28)||v.hasChanged(63)||v.hasChanged(65)||v.hasChanged(5)||v.hasChanged(7)||v.hasChanged(6)||v.hasChanged(10)||v.hasChanged(109)||v.hasChanged(53)||v.hasChanged(75)}get electricChars(){if(!this._electricChars){this._electricChars={};let v=c._getElectricCharacters(this._languageIdentifier);if(v)for(const m of v)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(v){return _.TextModel.normalizeIndentation(v,this.indentSize,this.insertSpaces)}static _getElectricCharacters(v){try{return d.LanguageConfigurationRegistry.getElectricCharacters(v.id)}catch(m){return C.onUnexpectedError(m),null}}static _getShouldAutoClose(v,m){switch(m){case"beforeWhitespace":return o;case"languageDefined":return c._getLanguageDefinedShouldAutoClose(v);case"always":return f;case"never":return p}}static _getLanguageDefinedShouldAutoClose(v){try{const m=d.LanguageConfigurationRegistry.getAutoCloseBeforeSet(v.id);return g=>m.indexOf(g)!==-1}catch(m){return C.onUnexpectedError(m),p}}static _getSurroundingPairs(v){try{return d.LanguageConfigurationRegistry.getSurroundingPairs(v.id)}catch(m){return C.onUnexpectedError(m),null}}}e.CursorConfiguration=c;class a{constructor(v,m,g,b){this.selectionStart=v,this.selectionStartLeftoverVisibleColumns=m,this.position=g,this.leftoverVisibleColumns=b,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(v){return this.selectionStartLeftoverVisibleColumns===v.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===v.leftoverVisibleColumns&&this.position.equals(v.position)&&this.selectionStart.equalsRange(v.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(v,m,g,b){return v?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new M.Position(m,g),b):new a(new y.Range(m,g,m,g),b,new M.Position(m,g),b)}static _computeSelection(v,m){let g,b,w,L;return v.isEmpty()?(g=v.startLineNumber,b=v.startColumn,w=m.lineNumber,L=m.column):m.isBeforeOrEqual(v.getStartPosition())?(g=v.endLineNumber,b=v.endColumn,w=m.lineNumber,L=m.column):(g=v.startLineNumber,b=v.startColumn,w=m.lineNumber,L=m.column),new S.Selection(g,b,w,L)}}e.SingleCursorState=a;class s{constructor(v,m,g){this.model=v,this.coordinatesConverter=m,this.cursorConfig=g}}e.CursorContext=s;class l{constructor(v){this.modelState=v,this.viewState=null}}e.PartialModelCursorState=l;class r{constructor(v){this.modelState=null,this.viewState=v}}e.PartialViewCursorState=r;class t{constructor(v,m){this.modelState=v,this.viewState=m}static fromModelState(v){return new l(v)}static fromViewState(v){return new r(v)}static fromModelSelection(v){const m=v.selectionStartLineNumber,g=v.selectionStartColumn,b=v.positionLineNumber,w=v.positionColumn,L=new a(new y.Range(m,g,m,g),0,new M.Position(b,w),0);return t.fromModelState(L)}static fromModelSelections(v){let m=[];for(let g=0,b=v.length;g<b;g++)m[g]=this.fromModelSelection(v[g]);return m}equals(v){return this.viewState.equals(v.viewState)&&this.modelState.equals(v.modelState)}}e.CursorState=t;class n{constructor(v,m,g){this.type=v,this.commands=m,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=n;class i{static visibleColumnFromColumn(v,m,g){const b=v.length,w=m-1<b?m-1:b;let L=0,E=0;for(;E<w;){const N=k.getNextCodePoint(v,w,E);if(E+=N>=65536?2:1,N===9)L=i.nextRenderTabStop(L,g);else{let I=k.getGraphemeBreakType(N);for(;E<w;){const T=k.getNextCodePoint(v,w,E),O=k.getGraphemeBreakType(T);if(k.breakBetweenGraphemeBreakType(I,O))break;E+=T>=65536?2:1,I=O}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?L=L+2:L=L+1}}return L}static visibleColumnFromColumn2(v,m,g){return this.visibleColumnFromColumn(m.getLineContent(g.lineNumber),g.column,v.tabSize)}static columnFromVisibleColumn(v,m,g){if(m<=0)return 1;const b=v.length;let w=0,L=1,E=0;for(;E<b;){const N=k.getNextCodePoint(v,b,E);E+=N>=65536?2:1;let I;if(N===9)I=i.nextRenderTabStop(w,g);else{let O=k.getGraphemeBreakType(N);for(;E<b;){const R=k.getNextCodePoint(v,b,E),F=k.getGraphemeBreakType(R);if(k.breakBetweenGraphemeBreakType(O,F))break;E+=R>=65536?2:1,O=F}k.isFullWidthCharacter(N)||k.isEmojiImprecise(N)?I=w+2:I=w+1}const T=E+1;if(I>=m){const O=m-w;return I-m<O?T:L}w=I,L=T}return b+1}static columnFromVisibleColumn2(v,m,g,b){let w=this.columnFromVisibleColumn(m.getLineContent(g),b,v.tabSize),L=m.getLineMinColumn(g);if(w<L)return L;let E=m.getLineMaxColumn(g);return w>E?E:w}static nextRenderTabStop(v,m){return v+m-v%m}static nextIndentTabStop(v,m){return v+m-v%m}static prevRenderTabStop(v,m){return v-1-(v-1)%m}static prevIndentTabStop(v,m){return v-1-(v-1)%m}}e.CursorColumns=i;function u(h){return h==="'"||h==='"'||h==="`"}e.isQuote=u}),define(Q[175],J([0,1,8,42,3,20,41]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const _=Object.create(null);function d(p,o){_[p]||(_[p]=["",p]);const c=_[p];for(let a=c.length;a<=o;a++)c[a]=c[a-1]+p;return c[o]}e.cachedStringRepeat=d;class f{constructor(o,c){this._opts=c,this._selection=o,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(o,c,a,s,l){const r=k.CursorColumns.visibleColumnFromColumn(o,c,a);if(l){const t=d(" ",s),i=k.CursorColumns.prevIndentTabStop(r,s)/s;return d(t,i)}else{const t="	",i=k.CursorColumns.prevRenderTabStop(r,a)/a;return d(t,i)}}static shiftIndent(o,c,a,s,l){const r=k.CursorColumns.visibleColumnFromColumn(o,c,a);if(l){const t=d(" ",s),i=k.CursorColumns.nextIndentTabStop(r,s)/s;return d(t,i)}else{const t="	",i=k.CursorColumns.nextRenderTabStop(r,a)/a;return d(t,i)}}_addEditOperation(o,c,a){this._useLastEditRangeForCursorEndPosition?o.addTrackedEditOperation(c,a):o.addEditOperation(c,a)}getEditOperations(o,c){const a=this._selection.startLineNumber;let s=this._selection.endLineNumber;this._selection.endColumn===1&&a!==s&&(s=s-1);const{tabSize:l,indentSize:r,insertSpaces:t}=this._opts,n=a===s;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(o.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let i=0,u=0;for(let h=a;h<=s;h++,i=u){u=0;let v=o.getLineContent(h),m=C.firstNonWhitespaceIndex(v);if(!(this._opts.isUnshift&&(v.length===0||m===0))&&!(!n&&!this._opts.isUnshift&&v.length===0)){if(m===-1&&(m=v.length),h>1&&k.CursorColumns.visibleColumnFromColumn(v,m+1,l)%r!=0&&o.isCheapToTokenize(h-1)){let w=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,o,new M.Range(h-1,o.getLineMaxColumn(h-1),h-1,o.getLineMaxColumn(h-1)));if(w){if(u=i,w.appendText)for(let L=0,E=w.appendText.length;L<E&&u<r&&w.appendText.charCodeAt(L)===32;L++)u++;w.removeText&&(u=Math.max(0,u-w.removeText));for(let L=0;L<u&&!(m===0||v.charCodeAt(m-1)!==32);L++)m--}}if(!(this._opts.isUnshift&&m===0)){let g;this._opts.isUnshift?g=f.unshiftIndent(v,m+1,l,r,t):g=f.shiftIndent(v,m+1,l,r,t),this._addEditOperation(c,new M.Range(h,1,h,m+1),g),h===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&o.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const i=t?d(" ",r):"	";for(let u=a;u<=s;u++){const h=o.getLineContent(u);let v=C.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||v===0))&&!(!n&&!this._opts.isUnshift&&h.length===0)&&(v===-1&&(v=h.length),!(this._opts.isUnshift&&v===0)))if(this._opts.isUnshift){v=Math.min(v,r);for(let m=0;m<v;m++)if(h.charCodeAt(m)===9){v=m+1;break}this._addEditOperation(c,new M.Range(u,1,u,v+1),"")}else this._addEditOperation(c,new M.Range(u,1,u,1),i),u===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=c.trackSelection(this._selection)}computeCursorState(o,c){if(this._useLastEditRangeForCursorEndPosition){let s=c.getInverseEditOperations()[0];return new y.Selection(s.range.endLineNumber,s.range.endColumn,s.range.endLineNumber,s.range.endColumn)}const a=c.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let s=this._selection.startColumn;return a.startColumn<=s?a:a.getDirection()===0?new y.Selection(a.startLineNumber,s,a.endLineNumber,a.endColumn):new y.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,s)}return a}}e.ShiftCommand=f}),define(Q[238],J([0,1,42]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(y,S,_){const d=y.length;let f=0,p=-1,o=-1;for(let c=0;c<d;c++){if(c===S)return[p,o,f];switch(f%_==0&&(p=c,o=f),y.charCodeAt(c)){case 32:f+=1;break;case 9:f=C.CursorColumns.nextRenderTabStop(f,_);break;default:return[-1,-1,-1]}}return S===d?[p,o,f]:[-1,-1,-1]}static atomicPosition(y,S,_,d){const f=y.length,[p,o,c]=k.whitespaceVisibleColumn(y,S,_);if(c===-1)return-1;let a;switch(d){case 0:a=!0;break;case 1:a=!1;break;case 2:if(c%_==0)return S;a=c%_<=_/2;break}if(a){if(p===-1)return-1;let r=o;for(let t=p;t<f;++t){if(r===o+_)return p;switch(y.charCodeAt(t)){case 32:r+=1;break;case 9:r=C.CursorColumns.nextRenderTabStop(r,_);break;default:return-1}}return r===o+_?p:-1}const s=C.CursorColumns.nextRenderTabStop(c,_);let l=c;for(let r=S;r<f;r++){if(l===s)return r;switch(y.charCodeAt(r)){case 32:l+=1;break;case 9:l=C.CursorColumns.nextRenderTabStop(l,_);break;default:return-1}}return l===s?f:-1}}e.AtomicTabMoveOperations=k}),define(Q[523],J([0,1,42,12,3]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class y{static columnSelect(_,d,f,p,o,c){let a=Math.abs(o-f)+1,s=f>o,l=p>c,r=p<c,t=[];for(let n=0;n<a;n++){let i=f+(s?-n:n),u=C.CursorColumns.columnFromVisibleColumn2(_,d,i,p),h=C.CursorColumns.columnFromVisibleColumn2(_,d,i,c),v=C.CursorColumns.visibleColumnFromColumn2(_,d,new k.Position(i,u)),m=C.CursorColumns.visibleColumnFromColumn2(_,d,new k.Position(i,h));r&&(v>c||m<p)||l&&(m>p||v<c)||t.push(new C.SingleCursorState(new M.Range(i,u,i,u),0,new k.Position(i,h),0))}if(t.length===0)for(let n=0;n<a;n++){const i=f+(s?-n:n),u=d.getLineMaxColumn(i);t.push(new C.SingleCursorState(new M.Range(i,u,i,u),0,new k.Position(i,u),0))}return{viewStates:t,reversed:s,fromLineNumber:f,fromVisualColumn:p,toLineNumber:o,toVisualColumn:c}}static columnSelectLeft(_,d,f){let p=f.toViewVisualColumn;return p>1&&p--,y.columnSelect(_,d,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,p)}static columnSelectRight(_,d,f){let p=0;const o=Math.min(f.fromViewLineNumber,f.toViewLineNumber),c=Math.max(f.fromViewLineNumber,f.toViewLineNumber);for(let s=o;s<=c;s++){const l=d.getLineMaxColumn(s),r=C.CursorColumns.visibleColumnFromColumn2(_,d,new k.Position(s,l));p=Math.max(p,r)}let a=f.toViewVisualColumn;return a<p&&a++,this.columnSelect(_,d,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,a)}static columnSelectUp(_,d,f,p){const o=p?_.pageSize:1,c=Math.max(1,f.toViewLineNumber-o);return this.columnSelect(_,d,f.fromViewLineNumber,f.fromViewVisualColumn,c,f.toViewVisualColumn)}static columnSelectDown(_,d,f,p){const o=p?_.pageSize:1,c=Math.min(d.getLineCount(),f.toViewLineNumber+o);return this.columnSelect(_,d,f.fromViewLineNumber,f.fromViewVisualColumn,c,f.toViewVisualColumn)}}e.ColumnSelection=y}),define(Q[176],J([0,1,42,12,3,8,238]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class _{constructor(p,o,c){this.lineNumber=p,this.column=o,this.leftoverVisibleColumns=c}}e.CursorPosition=_;class d{static leftPosition(p,o,c){return c>p.getLineMinColumn(o)?c=c-y.prevCharLength(p.getLineContent(o),c-1):o>1&&(o=o-1,c=p.getLineMaxColumn(o)),new k.Position(o,c)}static leftPositionAtomicSoftTabs(p,o,c,a){const s=p.getLineMinColumn(o),l=p.getLineContent(o),r=S.AtomicTabMoveOperations.atomicPosition(l,c-1,a,0);return r===-1||r+1<s?this.leftPosition(p,o,c):new k.Position(o,r+1)}static left(p,o,c,a){const s=p.stickyTabStops?d.leftPositionAtomicSoftTabs(o,c,a,p.tabSize):d.leftPosition(o,c,a);return new _(s.lineNumber,s.column,0)}static moveLeft(p,o,c,a,s){let l,r;if(c.hasSelection()&&!a)l=c.selection.startLineNumber,r=c.selection.startColumn;else{let t=d.left(p,o,c.position.lineNumber,c.position.column-(s-1));l=t.lineNumber,r=t.column}return c.move(a,l,r,0)}static rightPosition(p,o,c){return c<p.getLineMaxColumn(o)?c=c+y.nextCharLength(p.getLineContent(o),c-1):o<p.getLineCount()&&(o=o+1,c=p.getLineMinColumn(o)),new k.Position(o,c)}static rightPositionAtomicSoftTabs(p,o,c,a,s){const l=p.getLineContent(o),r=S.AtomicTabMoveOperations.atomicPosition(l,c-1,a,1);return r===-1?this.rightPosition(p,o,c):new k.Position(o,r+1)}static right(p,o,c,a){const s=p.stickyTabStops?d.rightPositionAtomicSoftTabs(o,c,a,p.tabSize,p.indentSize):d.rightPosition(o,c,a);return new _(s.lineNumber,s.column,0)}static moveRight(p,o,c,a,s){let l,r;if(c.hasSelection()&&!a)l=c.selection.endLineNumber,r=c.selection.endColumn;else{let t=d.right(p,o,c.position.lineNumber,c.position.column+(s-1));l=t.lineNumber,r=t.column}return c.move(a,l,r,0)}static down(p,o,c,a,s,l,r){const t=C.CursorColumns.visibleColumnFromColumn(o.getLineContent(c),a,p.tabSize)+s,n=o.getLineCount(),i=c===n&&a===o.getLineMaxColumn(c);return c=c+l,c>n?(c=n,r?a=o.getLineMaxColumn(c):a=Math.min(o.getLineMaxColumn(c),a)):a=C.CursorColumns.columnFromVisibleColumn2(p,o,c,t),i?s=0:s=t-C.CursorColumns.visibleColumnFromColumn(o.getLineContent(c),a,p.tabSize),new _(c,a,s)}static moveDown(p,o,c,a,s){let l,r;c.hasSelection()&&!a?(l=c.selection.endLineNumber,r=c.selection.endColumn):(l=c.position.lineNumber,r=c.position.column);let t=d.down(p,o,l,r,c.leftoverVisibleColumns,s,!0);return c.move(a,t.lineNumber,t.column,t.leftoverVisibleColumns)}static translateDown(p,o,c){let a=c.selection,s=d.down(p,o,a.selectionStartLineNumber,a.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),l=d.down(p,o,a.positionLineNumber,a.positionColumn,c.leftoverVisibleColumns,1,!1);return new C.SingleCursorState(new M.Range(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new k.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(p,o,c,a,s,l,r){const t=C.CursorColumns.visibleColumnFromColumn(o.getLineContent(c),a,p.tabSize)+s,n=c===1&&a===1;return c=c-l,c<1?(c=1,r?a=o.getLineMinColumn(c):a=Math.min(o.getLineMaxColumn(c),a)):a=C.CursorColumns.columnFromVisibleColumn2(p,o,c,t),n?s=0:s=t-C.CursorColumns.visibleColumnFromColumn(o.getLineContent(c),a,p.tabSize),new _(c,a,s)}static moveUp(p,o,c,a,s){let l,r;c.hasSelection()&&!a?(l=c.selection.startLineNumber,r=c.selection.startColumn):(l=c.position.lineNumber,r=c.position.column);let t=d.up(p,o,l,r,c.leftoverVisibleColumns,s,!0);return c.move(a,t.lineNumber,t.column,t.leftoverVisibleColumns)}static translateUp(p,o,c){let a=c.selection,s=d.up(p,o,a.selectionStartLineNumber,a.selectionStartColumn,c.selectionStartLeftoverVisibleColumns,1,!1),l=d.up(p,o,a.positionLineNumber,a.positionColumn,c.leftoverVisibleColumns,1,!1);return new C.SingleCursorState(new M.Range(s.lineNumber,s.column,s.lineNumber,s.column),s.leftoverVisibleColumns,new k.Position(l.lineNumber,l.column),l.leftoverVisibleColumns)}static moveToBeginningOfLine(p,o,c,a){let s=c.position.lineNumber,l=o.getLineMinColumn(s),r=o.getLineFirstNonWhitespaceColumn(s)||l,t;return c.position.column===r?t=l:t=r,c.move(a,s,t,0)}static moveToEndOfLine(p,o,c,a,s){let l=c.position.lineNumber,r=o.getLineMaxColumn(l);return c.move(a,l,r,s?1073741824-r:0)}static moveToBeginningOfBuffer(p,o,c,a){return c.move(a,1,1,0)}static moveToEndOfBuffer(p,o,c,a){let s=o.getLineCount(),l=o.getLineMaxColumn(s);return c.move(a,s,l,0)}}e.MoveOperations=d}),define(Q[177],J([0,1,8,91,42,176,3]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class _{static deleteRight(f,p,o,c){let a=[],s=f!==3;for(let l=0,r=c.length;l<r;l++){const t=c[l];let n=t;if(n.isEmpty()){let i=t.getPosition(),u=y.MoveOperations.right(p,o,i.lineNumber,i.column);n=new S.Range(u.lineNumber,u.column,i.lineNumber,i.column)}if(n.isEmpty()){a[l]=null;continue}n.startLineNumber!==n.endLineNumber&&(s=!0),a[l]=new k.ReplaceCommand(n,"")}return[s,a]}static isAutoClosingPairDelete(f,p,o,c,a){if(f==="never"&&p==="never")return!1;for(let s=0,l=a.length;s<l;s++){const r=a[s],t=r.getPosition();if(!r.isEmpty())return!1;const n=c.getLineContent(t.lineNumber);if(t.column<2||t.column>=n.length+1)return!1;const i=n.charAt(t.column-2),u=o.get(i);if(!u)return!1;if(M.isQuote(i)){if(p==="never")return!1}else if(f==="never")return!1;const h=n.charAt(t.column-1);let v=!1;for(const m of u)m.open===i&&m.close===h&&(v=!0);if(!v)return!1}return!0}static _runAutoClosingPairDelete(f,p,o){let c=[];for(let a=0,s=o.length;a<s;a++){const l=o[a].getPosition(),r=new S.Range(l.lineNumber,l.column-1,l.lineNumber,l.column+1);c[a]=new k.ReplaceCommand(r,"")}return[!0,c]}static deleteLeft(f,p,o,c){if(this.isAutoClosingPairDelete(p.autoClosingBrackets,p.autoClosingQuotes,p.autoClosingPairs.autoClosingPairsOpenByEnd,o,c))return this._runAutoClosingPairDelete(p,o,c);let a=[],s=f!==2;for(let l=0,r=c.length;l<r;l++){const t=c[l];let n=t;if(n.isEmpty()){let i=t.getPosition();if(p.useTabStops&&i.column>1){let u=o.getLineContent(i.lineNumber),h=C.firstNonWhitespaceIndex(u),v=h===-1?u.length+1:h+1;if(i.column<=v){let m=M.CursorColumns.visibleColumnFromColumn2(p,o,i),g=M.CursorColumns.prevIndentTabStop(m,p.indentSize),b=M.CursorColumns.columnFromVisibleColumn2(p,o,i.lineNumber,g);n=new S.Range(i.lineNumber,b,i.lineNumber,i.column)}else n=new S.Range(i.lineNumber,i.column-1,i.lineNumber,i.column)}else{let u=y.MoveOperations.left(p,o,i.lineNumber,i.column);n=new S.Range(u.lineNumber,u.column,i.lineNumber,i.column)}}if(n.isEmpty()){a[l]=null;continue}n.startLineNumber!==n.endLineNumber&&(s=!0),a[l]=new k.ReplaceCommand(n,"")}return[s,a]}static cut(f,p,o){let c=[];for(let a=0,s=o.length;a<s;a++){const l=o[a];if(l.isEmpty())if(f.emptySelectionClipboard){let r=l.getPosition(),t,n,i,u;r.lineNumber<p.getLineCount()?(t=r.lineNumber,n=1,i=r.lineNumber+1,u=1):r.lineNumber>1?(t=r.lineNumber-1,n=p.getLineMaxColumn(r.lineNumber-1),i=r.lineNumber,u=p.getLineMaxColumn(r.lineNumber)):(t=r.lineNumber,n=1,i=r.lineNumber,u=p.getLineMaxColumn(r.lineNumber));let h=new S.Range(t,n,i,u);h.isEmpty()?c[a]=null:c[a]=new k.ReplaceCommand(h,"")}else c[a]=null;else c[a]=new k.ReplaceCommand(l,"")}return new M.EditOperationResult(0,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=_}),define(Q[178],J([0,1,11,8,91,175,358,42,105,3,20,108,41]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class a{static indent(r,t,n){if(t===null||n===null)return[];let i=[];for(let u=0,h=n.length;u<h;u++)i[u]=new y.ShiftCommand(n[u],{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return i}static outdent(r,t,n){let i=[];for(let u=0,h=n.length;u<h;u++)i[u]=new y.ShiftCommand(n[u],{isUnshift:!0,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent});return i}static shiftIndent(r,t,n){return n=n||1,y.ShiftCommand.shiftIndent(t,t.length+n,r.tabSize,r.indentSize,r.insertSpaces)}static unshiftIndent(r,t,n){return n=n||1,y.ShiftCommand.unshiftIndent(t,t.length+n,r.tabSize,r.indentSize,r.insertSpaces)}static _distributedPaste(r,t,n,i){let u=[];for(let h=0,v=n.length;h<v;h++)u[h]=new M.ReplaceCommand(n[h],i[h]);return new _.EditOperationResult(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(r,t,n,i,u){let h=[];for(let v=0,m=n.length;v<m;v++){const g=n[v];let b=g.getPosition();if(u&&!g.isEmpty()&&(u=!1),u&&i.indexOf(`
`)!==i.length-1&&(u=!1),u){let w=new f.Range(b.lineNumber,1,b.lineNumber,1);h[v]=new M.ReplaceCommandThatPreservesSelection(w,i,g,!0)}else h[v]=new M.ReplaceCommand(g,i)}return new _.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(r,t,n,i,u){if(i||t.length===1)return null;if(u&&u.length===t.length)return u;if(r.multiCursorPaste==="spread"){n.charCodeAt(n.length-1)===10&&(n=n.substr(0,n.length-1)),n.charCodeAt(n.length-1)===13&&(n=n.substr(0,n.length-1));let h=k.splitLines(n);if(h.length===t.length)return h}return null}static paste(r,t,n,i,u,h){const v=this._distributePasteToCursors(r,n,i,u,h);return v?(n=n.sort(f.Range.compareRangesUsingStarts),this._distributedPaste(r,t,n,v)):this._simplePaste(r,t,n,i,u)}static _goodIndentForLine(r,t,n){let i=null,u="";const h=c.LanguageConfigurationRegistry.getInheritIndentForLine(r.autoIndent,t,n,!1);if(h)i=h.action,u=h.indentation;else if(n>1){let v;for(v=n-1;v>=1;v--){const b=t.getLineContent(v);if(k.lastNonWhitespaceIndex(b)>=0)break}if(v<1)return null;const m=t.getLineMaxColumn(v),g=c.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,t,new f.Range(v,m,v,m));g&&(u=g.indentation+g.appendText)}return i&&(i===o.IndentAction.Indent&&(u=a.shiftIndent(r,u)),i===o.IndentAction.Outdent&&(u=a.unshiftIndent(r,u)),u=r.normalizeIndentation(u)),u||null}static _replaceJumpToNextIndent(r,t,n,i){let u="",h=n.getStartPosition();if(r.insertSpaces){let v=_.CursorColumns.visibleColumnFromColumn2(r,t,h),m=r.indentSize,g=m-v%m;for(let b=0;b<g;b++)u+=" "}else u="	";return new M.ReplaceCommand(n,u,i)}static tab(r,t,n){let i=[];for(let u=0,h=n.length;u<h;u++){const v=n[u];if(v.isEmpty()){let m=t.getLineContent(v.startLineNumber);if(/^\s*$/.test(m)&&t.isCheapToTokenize(v.startLineNumber)){let g=this._goodIndentForLine(r,t,v.startLineNumber);g=g||"	";let b=r.normalizeIndentation(g);if(!m.startsWith(b)){i[u]=new M.ReplaceCommand(new f.Range(v.startLineNumber,1,v.startLineNumber,m.length+1),b,!0);continue}}i[u]=this._replaceJumpToNextIndent(r,t,v,!0)}else{if(v.startLineNumber===v.endLineNumber){let m=t.getLineMaxColumn(v.startLineNumber);if(v.startColumn!==1||v.endColumn!==m){i[u]=this._replaceJumpToNextIndent(r,t,v,!1);continue}}i[u]=new y.ShiftCommand(v,{isUnshift:!1,tabSize:r.tabSize,indentSize:r.indentSize,insertSpaces:r.insertSpaces,useTabStops:r.useTabStops,autoIndent:r.autoIndent})}}return i}static replacePreviousChar(r,t,n,i,u,h){let v=[];for(let m=0,g=i.length;m<g;m++){const b=i[m];if(!b.isEmpty()){v[m]=null;continue}const w=b.getPosition(),L=Math.max(1,w.column-h),E=new f.Range(w.lineNumber,L,w.lineNumber,w.column);if(n.getValueInRange(E)===u){v[m]=null;continue}v[m]=new M.ReplaceCommand(E,u)}return new _.EditOperationResult(1,v,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _typeCommand(r,t,n){return n?new M.ReplaceCommandWithoutChangingPosition(r,t,!0):new M.ReplaceCommand(r,t,!0)}static _enter(r,t,n,i){if(r.autoIndent===0)return a._typeCommand(i,`
`,n);if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)||r.autoIndent===1){let m=t.getLineContent(i.startLineNumber),g=k.getLeadingWhitespace(m).substring(0,i.startColumn-1);return a._typeCommand(i,`
`+r.normalizeIndentation(g),n)}const u=c.LanguageConfigurationRegistry.getEnterAction(r.autoIndent,t,i);if(u){if(u.indentAction===o.IndentAction.None)return a._typeCommand(i,`
`+r.normalizeIndentation(u.indentation+u.appendText),n);if(u.indentAction===o.IndentAction.Indent)return a._typeCommand(i,`
`+r.normalizeIndentation(u.indentation+u.appendText),n);if(u.indentAction===o.IndentAction.IndentOutdent){const m=r.normalizeIndentation(u.indentation),g=r.normalizeIndentation(u.indentation+u.appendText),b=`
`+g+`
`+m;return n?new M.ReplaceCommandWithoutChangingPosition(i,b,!0):new M.ReplaceCommandWithOffsetCursorState(i,b,-1,g.length-m.length,!0)}else if(u.indentAction===o.IndentAction.Outdent){const m=a.unshiftIndent(r,u.indentation);return a._typeCommand(i,`
`+r.normalizeIndentation(m+u.appendText),n)}}const h=t.getLineContent(i.startLineNumber),v=k.getLeadingWhitespace(h).substring(0,i.startColumn-1);if(r.autoIndent>=4){const m=c.LanguageConfigurationRegistry.getIndentForEnter(r.autoIndent,t,i,{unshiftIndent:g=>a.unshiftIndent(r,g),shiftIndent:g=>a.shiftIndent(r,g),normalizeIndentation:g=>r.normalizeIndentation(g)});if(m){let g=_.CursorColumns.visibleColumnFromColumn2(r,t,i.getEndPosition());const b=i.endColumn,w=t.getLineContent(i.endLineNumber),L=k.firstNonWhitespaceIndex(w);if(L>=0?i=i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,L+1)):i=i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new M.ReplaceCommandWithoutChangingPosition(i,`
`+r.normalizeIndentation(m.afterEnter),!0);{let E=0;return b<=L+1&&(r.insertSpaces||(g=Math.ceil(g/r.indentSize)),E=Math.min(g+1-r.normalizeIndentation(m.afterEnter).length-1,0)),new M.ReplaceCommandWithOffsetCursorState(i,`
`+r.normalizeIndentation(m.afterEnter),0,E,!0)}}}return a._typeCommand(i,`
`+r.normalizeIndentation(v),n)}static _isAutoIndentType(r,t,n){if(r.autoIndent<4)return!1;for(let i=0,u=n.length;i<u;i++)if(!t.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(r,t,n,i){const u=c.LanguageConfigurationRegistry.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),h=c.LanguageConfigurationRegistry.getIndentActionForType(r.autoIndent,t,n,i,{shiftIndent:v=>a.shiftIndent(r,v),unshiftIndent:v=>a.unshiftIndent(r,v)});if(h===null)return null;if(h!==r.normalizeIndentation(u)){const v=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return v===0?a._typeCommand(new f.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn),r.normalizeIndentation(h)+i,!1):a._typeCommand(new f.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn),r.normalizeIndentation(h)+t.getLineContent(n.startLineNumber).substring(v-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(r,t,n,i,u){if(r.autoClosingOvertype==="never"||!r.autoClosingPairs.autoClosingPairsCloseSingleChar.has(u))return!1;for(let h=0,v=n.length;h<v;h++){const m=n[h];if(!m.isEmpty())return!1;const g=m.getPosition(),b=t.getLineContent(g.lineNumber);if(b.charAt(g.column-1)!==u)return!1;const L=_.isQuote(u);if((g.column>2?b.charCodeAt(g.column-2):0)===92&&L)return!1;if(r.autoClosingOvertype==="auto"){let N=!1;for(let I=0,T=i.length;I<T;I++){const O=i[I];if(g.lineNumber===O.startLineNumber&&g.column===O.startColumn){N=!0;break}}if(!N)return!1}}return!0}static _runAutoClosingOvertype(r,t,n,i,u){let h=[];for(let v=0,m=i.length;v<m;v++){const b=i[v].getPosition(),w=new f.Range(b.lineNumber,b.column,b.lineNumber,b.column+1);h[v]=new M.ReplaceCommand(w,u)}return new _.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(r,t){const n=t.charAt(0),i=r.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],u=r.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],h=i.some(m=>t.startsWith(m.open)),v=u.some(m=>t.startsWith(m.close));return!h&&v}static _findAutoClosingPairOpen(r,t,n,i){const u=r.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!u)return null;let h=null;for(const v of u)if(h===null||v.open.length>h.open.length){let m=!0;for(const g of n)if(t.getValueInRange(new f.Range(g.lineNumber,g.column-v.open.length+1,g.lineNumber,g.column))+i!==v.open){m=!1;break}m&&(h=v)}return h}static _findSubAutoClosingPairClose(r,t){if(t.open.length<=1)return"";const n=t.close.charAt(t.close.length-1),i=r.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let u=null;for(const h of i)h.open!==t.open&&t.open.includes(h.open)&&t.close.endsWith(h.close)&&(!u||h.open.length>u.open.length)&&(u=h);return u?u.close:""}static _getAutoClosingPairClose(r,t,n,i,u){const h=_.isQuote(i),v=h?r.autoClosingQuotes:r.autoClosingBrackets;if(v==="never")return null;const m=this._findAutoClosingPairOpen(r,t,n.map(L=>L.getPosition()),i);if(!m)return null;const g=this._findSubAutoClosingPairClose(r,m);let b=!0;const w=h?r.shouldAutoCloseBefore.quote:r.shouldAutoCloseBefore.bracket;for(let L=0,E=n.length;L<E;L++){const N=n[L];if(!N.isEmpty())return null;const I=N.getPosition(),T=t.getLineContent(I.lineNumber),O=T.substring(I.column-1);if(O.startsWith(g)||(b=!1),T.length>I.column-1){const D=T.charAt(I.column-1);if(!a._isBeforeClosingBrace(r,O)&&!w(D))return null}if(!t.isCheapToTokenize(I.lineNumber))return null;if(m.open.length===1&&h&&v!=="always"){const D=d.getMapForWordSeparators(r.wordSeparators);if(u&&I.column>1&&D.get(T.charCodeAt(I.column-2))===0||!u&&I.column>2&&D.get(T.charCodeAt(I.column-3))===0)return null}t.forceTokenization(I.lineNumber);const R=t.getLineTokens(I.lineNumber);let F=!1;try{F=c.LanguageConfigurationRegistry.shouldAutoClosePair(m,R,u?I.column:I.column-1)}catch(D){C.onUnexpectedError(D)}if(!F)return null}return b?m.close.substring(0,m.close.length-g.length):m.close}static _runAutoClosingOpenCharType(r,t,n,i,u,h,v){let m=[];for(let g=0,b=i.length;g<b;g++){const w=i[g];m[g]=new s(w,u,h,v)}return new _.EditOperationResult(1,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(r,t){return _.isQuote(t)?r.autoSurround==="quotes"||r.autoSurround==="languageDefined":r.autoSurround==="brackets"||r.autoSurround==="languageDefined"}static _isSurroundSelectionType(r,t,n,i){if(!a._shouldSurroundChar(r,i)||!r.surroundingPairs.hasOwnProperty(i))return!1;const u=_.isQuote(i);for(let h=0,v=n.length;h<v;h++){const m=n[h];if(m.isEmpty())return!1;let g=!0;for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const w=t.getLineContent(b),L=b===m.startLineNumber?m.startColumn-1:0,E=b===m.endLineNumber?m.endColumn-1:w.length,N=w.substring(L,E);if(/[^ \t]/.test(N)){g=!1;break}}if(g)return!1;if(u&&m.startLineNumber===m.endLineNumber&&m.startColumn+1===m.endColumn){const b=t.getValueInRange(m);if(_.isQuote(b))return!1}}return!0}static _runSurroundSelectionType(r,t,n,i,u){let h=[];for(let v=0,m=i.length;v<m;v++){const g=i[v],b=t.surroundingPairs[u];h[v]=new S.SurroundSelectionCommand(g,u,b)}return new _.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(r,t,n){return!!(n.length===1&&t.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(r,t,n,i,u){if(!t.electricChars.hasOwnProperty(u)||!i.isEmpty())return null;let h=i.getPosition();n.forceTokenization(h.lineNumber);let v=n.getLineTokens(h.lineNumber),m;try{m=c.LanguageConfigurationRegistry.onElectricCharacter(u,v,h.column)}catch(g){return C.onUnexpectedError(g),null}if(!m)return null;if(m.matchOpenBracket){let g=(v.getLineContent()+u).lastIndexOf(m.matchOpenBracket)+1,b=n.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:h.lineNumber,column:g});if(b){if(b.startLineNumber===h.lineNumber)return null;let w=n.getLineContent(b.startLineNumber),L=k.getLeadingWhitespace(w),E=t.normalizeIndentation(L),N=n.getLineContent(h.lineNumber),I=n.getLineFirstNonWhitespaceColumn(h.lineNumber)||h.column,T=N.substring(I-1,h.column-1),O=E+T+u,R=new f.Range(h.lineNumber,1,h.lineNumber,h.column);const F=new M.ReplaceCommand(R,O);return new _.EditOperationResult(1,[F],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(r,t,n,i,u,h){if(!i||p.Selection.selectionsArrEqual(i,u))return null;let v=null;for(const g of u){if(!g.isEmpty())return null;const b=g.getPosition(),w=n.getValueInRange(new f.Range(b.lineNumber,b.column-1,b.lineNumber,b.column));if(v===null)v=w;else if(v!==w)return null}if(!v)return null;if(this._isAutoClosingOvertype(t,n,u,h,v)){const g=u.map(b=>new M.ReplaceCommand(new f.Range(b.positionLineNumber,b.positionColumn,b.positionLineNumber,b.positionColumn+1),"",!1));return new _.EditOperationResult(1,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(t,n,u,v,!1);return m!==null?this._runAutoClosingOpenCharType(r,t,n,u,v,!1,m):null}static typeWithInterceptors(r,t,n,i,u,h,v){if(!r&&v===`
`){let b=[];for(let w=0,L=u.length;w<L;w++)b[w]=a._enter(n,i,!1,u[w]);return new _.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoIndentType(n,i,u)){let b=[],w=!1;for(let L=0,E=u.length;L<E;L++)if(b[L]=this._runAutoIndentType(n,i,u[L],v),!b[L]){w=!0;break}if(!w)return new _.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!r&&this._isAutoClosingOvertype(n,i,u,h,v))return this._runAutoClosingOvertype(t,n,i,u,v);if(!r){const b=this._getAutoClosingPairClose(n,i,u,v,!0);if(b)return this._runAutoClosingOpenCharType(t,n,i,u,v,!0,b)}if(this._isSurroundSelectionType(n,i,u,v))return this._runSurroundSelectionType(t,n,i,u,v);if(!r&&this._isTypeInterceptorElectricChar(n,i,u)){const b=this._typeInterceptorElectricChar(t,n,i,u[0],v);if(b)return b}let m=[];for(let b=0,w=u.length;b<w;b++)m[b]=new M.ReplaceCommand(u[b],v);let g=t!==1;return v===" "&&(g=!0),new _.EditOperationResult(1,m,{shouldPushStackElementBefore:g,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(r,t,n,i,u){let h=[];for(let v=0,m=i.length;v<m;v++)h[v]=new M.ReplaceCommand(i[v],u);return new _.EditOperationResult(1,h,{shouldPushStackElementBefore:r!==1,shouldPushStackElementAfter:!1})}static lineInsertBefore(r,t,n){if(t===null||n===null)return[];let i=[];for(let u=0,h=n.length;u<h;u++){let v=n[u].positionLineNumber;if(v===1)i[u]=new M.ReplaceCommandWithoutChangingPosition(new f.Range(1,1,1,1),`
`);else{v--;let m=t.getLineMaxColumn(v);i[u]=this._enter(r,t,!1,new f.Range(v,m,v,m))}}return i}static lineInsertAfter(r,t,n){if(t===null||n===null)return[];let i=[];for(let u=0,h=n.length;u<h;u++){const v=n[u].positionLineNumber;let m=t.getLineMaxColumn(v);i[u]=this._enter(r,t,!1,new f.Range(v,m,v,m))}return i}static lineBreakInsert(r,t,n){let i=[];for(let u=0,h=n.length;u<h;u++)i[u]=this._enter(r,t,!0,n[u]);return i}}e.TypeOperations=a;class s extends M.ReplaceCommandWithOffsetCursorState{constructor(r,t,n,i){super(r,(n?t:"")+i,0,-i.length);this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(r,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new f.Range(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new f.Range(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(r,t)}}e.TypeWithAutoClosingCommand=s}),define(Q[134],J([0,1,8,42,177,105,12,3]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class d{static _createWord(c,a,s,l,r){return{start:l,end:r,wordType:a,nextCharClass:s}}static _findPreviousWordOnLine(c,a,s){let l=a.getLineContent(s.lineNumber);return this._doFindPreviousWordOnLine(l,c,s)}static _doFindPreviousWordOnLine(c,a,s){let l=0;for(let r=s.column-2;r>=0;r--){let t=c.charCodeAt(r),n=a.get(t);if(n===0){if(l===2)return this._createWord(c,l,n,r+1,this._findEndOfWord(c,a,l,r+1));l=1}else if(n===2){if(l===1)return this._createWord(c,l,n,r+1,this._findEndOfWord(c,a,l,r+1));l=2}else if(n===1&&l!==0)return this._createWord(c,l,n,r+1,this._findEndOfWord(c,a,l,r+1))}return l!==0?this._createWord(c,l,1,0,this._findEndOfWord(c,a,l,0)):null}static _findEndOfWord(c,a,s,l){let r=c.length;for(let t=l;t<r;t++){let n=c.charCodeAt(t),i=a.get(n);if(i===1||s===1&&i===2||s===2&&i===0)return t}return r}static _findNextWordOnLine(c,a,s){let l=a.getLineContent(s.lineNumber);return this._doFindNextWordOnLine(l,c,s)}static _doFindNextWordOnLine(c,a,s){let l=0,r=c.length;for(let t=s.column-1;t<r;t++){let n=c.charCodeAt(t),i=a.get(n);if(i===0){if(l===2)return this._createWord(c,l,i,this._findStartOfWord(c,a,l,t-1),t);l=1}else if(i===2){if(l===1)return this._createWord(c,l,i,this._findStartOfWord(c,a,l,t-1),t);l=2}else if(i===1&&l!==0)return this._createWord(c,l,i,this._findStartOfWord(c,a,l,t-1),t)}return l!==0?this._createWord(c,l,1,this._findStartOfWord(c,a,l,r-1),r):null}static _findStartOfWord(c,a,s,l){for(let r=l;r>=0;r--){let t=c.charCodeAt(r),n=a.get(t);if(n===1||s===1&&n===2||s===2&&n===0)return r+1}return 0}static moveWordLeft(c,a,s,l){let r=s.lineNumber,t=s.column;t===1&&r>1&&(r=r-1,t=a.getLineMaxColumn(r));let n=d._findPreviousWordOnLine(c,a,new S.Position(r,t));if(l===0)return new S.Position(r,n?n.start+1:1);if(l===1)return n&&n.wordType===2&&n.end-n.start==1&&n.nextCharClass===0&&(n=d._findPreviousWordOnLine(c,a,new S.Position(r,n.start+1))),new S.Position(r,n?n.start+1:1);if(l===3){for(;n&&n.wordType===2;)n=d._findPreviousWordOnLine(c,a,new S.Position(r,n.start+1));return new S.Position(r,n?n.start+1:1)}return n&&t<=n.end+1&&(n=d._findPreviousWordOnLine(c,a,new S.Position(r,n.start+1))),new S.Position(r,n?n.end+1:1)}static _moveWordPartLeft(c,a){const s=a.lineNumber,l=c.getLineMaxColumn(s);if(a.column===1)return s>1?new S.Position(s-1,c.getLineMaxColumn(s-1)):a;const r=c.getLineContent(s);for(let t=a.column-1;t>1;t--){const n=r.charCodeAt(t-2),i=r.charCodeAt(t-1);if(n===95&&i!==95)return new S.Position(s,t);if(C.isLowerAsciiLetter(n)&&C.isUpperAsciiLetter(i))return new S.Position(s,t);if(C.isUpperAsciiLetter(n)&&C.isUpperAsciiLetter(i)&&t+1<l){const u=r.charCodeAt(t);if(C.isLowerAsciiLetter(u))return new S.Position(s,t)}}return new S.Position(s,1)}static moveWordRight(c,a,s,l){let r=s.lineNumber,t=s.column,n=!1;t===a.getLineMaxColumn(r)&&r<a.getLineCount()&&(n=!0,r=r+1,t=1);let i=d._findNextWordOnLine(c,a,new S.Position(r,t));if(l===2)i&&i.wordType===2&&i.end-i.start==1&&i.nextCharClass===0&&(i=d._findNextWordOnLine(c,a,new S.Position(r,i.end+1))),i?t=i.end+1:t=a.getLineMaxColumn(r);else if(l===3){for(n&&(t=0);i&&(i.wordType===2||i.start+1<=t);)i=d._findNextWordOnLine(c,a,new S.Position(r,i.end+1));i?t=i.start+1:t=a.getLineMaxColumn(r)}else i&&!n&&t>=i.start+1&&(i=d._findNextWordOnLine(c,a,new S.Position(r,i.end+1))),i?t=i.start+1:t=a.getLineMaxColumn(r);return new S.Position(r,t)}static _moveWordPartRight(c,a){const s=a.lineNumber,l=c.getLineMaxColumn(s);if(a.column===l)return s<c.getLineCount()?new S.Position(s+1,1):a;const r=c.getLineContent(s);for(let t=a.column+1;t<l;t++){const n=r.charCodeAt(t-2),i=r.charCodeAt(t-1);if(n!==95&&i===95)return new S.Position(s,t);if(C.isLowerAsciiLetter(n)&&C.isUpperAsciiLetter(i))return new S.Position(s,t);if(C.isUpperAsciiLetter(n)&&C.isUpperAsciiLetter(i)&&t+1<l){const u=r.charCodeAt(t);if(C.isLowerAsciiLetter(u))return new S.Position(s,t)}}return new S.Position(s,l)}static _deleteWordLeftWhitespace(c,a){const s=c.getLineContent(a.lineNumber),l=a.column-2,r=C.lastNonWhitespaceIndex(s,l);return r+1<l?new _.Range(a.lineNumber,r+2,a.lineNumber,a.column):null}static deleteWordLeft(c,a){const s=c.wordSeparators,l=c.model,r=c.selection,t=c.whitespaceHeuristics;if(!r.isEmpty())return r;if(M.DeleteOperations.isAutoClosingPairDelete(c.autoClosingBrackets,c.autoClosingQuotes,c.autoClosingPairs.autoClosingPairsOpenByEnd,c.model,[c.selection])){const v=c.selection.getPosition();return new _.Range(v.lineNumber,v.column-1,v.lineNumber,v.column+1)}const n=new S.Position(r.positionLineNumber,r.positionColumn);let i=n.lineNumber,u=n.column;if(i===1&&u===1)return null;if(t){let v=this._deleteWordLeftWhitespace(l,n);if(v)return v}let h=d._findPreviousWordOnLine(s,l,n);return a===0?h?u=h.start+1:u>1?u=1:(i--,u=l.getLineMaxColumn(i)):(h&&u<=h.end+1&&(h=d._findPreviousWordOnLine(s,l,new S.Position(i,h.start+1))),h?u=h.end+1:u>1?u=1:(i--,u=l.getLineMaxColumn(i))),new _.Range(i,u,n.lineNumber,n.column)}static deleteInsideWord(c,a,s){if(!s.isEmpty())return s;const l=new S.Position(s.positionLineNumber,s.positionColumn);let r=this._deleteInsideWordWhitespace(a,l);return r||this._deleteInsideWordDetermineDeleteRange(c,a,l)}static _charAtIsWhitespace(c,a){const s=c.charCodeAt(a);return s===32||s===9}static _deleteInsideWordWhitespace(c,a){const s=c.getLineContent(a.lineNumber),l=s.length;if(l===0)return null;let r=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(s,r))return null;let t=Math.min(a.column-1,l-1);if(!this._charAtIsWhitespace(s,t))return null;for(;r>0&&this._charAtIsWhitespace(s,r-1);)r--;for(;t+1<l&&this._charAtIsWhitespace(s,t+1);)t++;return new _.Range(a.lineNumber,r+1,a.lineNumber,t+2)}static _deleteInsideWordDetermineDeleteRange(c,a,s){const l=a.getLineContent(s.lineNumber),r=l.length;if(r===0)return s.lineNumber>1?new _.Range(s.lineNumber-1,a.getLineMaxColumn(s.lineNumber-1),s.lineNumber,1):s.lineNumber<a.getLineCount()?new _.Range(s.lineNumber,1,s.lineNumber+1,1):new _.Range(s.lineNumber,1,s.lineNumber,1);const t=v=>v.start+1<=s.column&&s.column<=v.end+1,n=(v,m)=>(v=Math.min(v,s.column),m=Math.max(m,s.column),new _.Range(s.lineNumber,v,s.lineNumber,m)),i=v=>{let m=v.start+1,g=v.end+1,b=!1;for(;g-1<r&&this._charAtIsWhitespace(l,g-1);)b=!0,g++;if(!b)for(;m>1&&this._charAtIsWhitespace(l,m-2);)m--;return n(m,g)},u=d._findPreviousWordOnLine(c,a,s);if(u&&t(u))return i(u);const h=d._findNextWordOnLine(c,a,s);return h&&t(h)?i(h):u&&h?n(u.end+1,h.start+1):u?n(u.start+1,u.end+1):h?n(h.start+1,h.end+1):n(1,r+1)}static _deleteWordPartLeft(c,a){if(!a.isEmpty())return a;const s=a.getPosition(),l=d._moveWordPartLeft(c,s);return new _.Range(s.lineNumber,s.column,l.lineNumber,l.column)}static _findFirstNonWhitespaceChar(c,a){let s=c.length;for(let l=a;l<s;l++){let r=c.charAt(l);if(r!==" "&&r!=="	")return l}return s}static _deleteWordRightWhitespace(c,a){const s=c.getLineContent(a.lineNumber),l=a.column-1,r=this._findFirstNonWhitespaceChar(s,l);return l+1<r?new _.Range(a.lineNumber,a.column,a.lineNumber,r+1):null}static deleteWordRight(c,a){const s=c.wordSeparators,l=c.model,r=c.selection,t=c.whitespaceHeuristics;if(!r.isEmpty())return r;const n=new S.Position(r.positionLineNumber,r.positionColumn);let i=n.lineNumber,u=n.column;const h=l.getLineCount(),v=l.getLineMaxColumn(i);if(i===h&&u===v)return null;if(t){let g=this._deleteWordRightWhitespace(l,n);if(g)return g}let m=d._findNextWordOnLine(s,l,n);return a===2?m?u=m.end+1:u<v||i===h?u=v:(i++,m=d._findNextWordOnLine(s,l,new S.Position(i,1)),m?u=m.start+1:u=l.getLineMaxColumn(i)):(m&&u>=m.start+1&&(m=d._findNextWordOnLine(s,l,new S.Position(i,m.end+1))),m?u=m.start+1:u<v||i===h?u=v:(i++,m=d._findNextWordOnLine(s,l,new S.Position(i,1)),m?u=m.start+1:u=l.getLineMaxColumn(i))),new _.Range(i,u,n.lineNumber,n.column)}static _deleteWordPartRight(c,a){if(!a.isEmpty())return a;const s=a.getPosition(),l=d._moveWordPartRight(c,s);return new _.Range(s.lineNumber,s.column,l.lineNumber,l.column)}static _createWordAtPosition(c,a,s){const l=new _.Range(a,s.start+1,a,s.end+1);return{word:c.getValueInRange(l),startColumn:l.startColumn,endColumn:l.endColumn}}static getWordAtPosition(c,a,s){const l=y.getMapForWordSeparators(a),r=d._findPreviousWordOnLine(l,c,s);if(r&&r.wordType===1&&r.start<=s.column-1&&s.column-1<=r.end)return d._createWordAtPosition(c,s.lineNumber,r);const t=d._findNextWordOnLine(l,c,s);return t&&t.wordType===1&&t.start<=s.column-1&&s.column-1<=t.end?d._createWordAtPosition(c,s.lineNumber,t):null}static word(c,a,s,l,r){const t=y.getMapForWordSeparators(c.wordSeparators);let n=d._findPreviousWordOnLine(t,a,r),i=d._findNextWordOnLine(t,a,r);if(!l){let g,b;return n&&n.wordType===1&&n.start<=r.column-1&&r.column-1<=n.end?(g=n.start+1,b=n.end+1):i&&i.wordType===1&&i.start<=r.column-1&&r.column-1<=i.end?(g=i.start+1,b=i.end+1):(n?g=n.end+1:g=1,i?b=i.start+1:b=a.getLineMaxColumn(r.lineNumber)),new k.SingleCursorState(new _.Range(r.lineNumber,g,r.lineNumber,b),0,new S.Position(r.lineNumber,b),0)}let u,h;n&&n.wordType===1&&n.start<r.column-1&&r.column-1<n.end?(u=n.start+1,h=n.end+1):i&&i.wordType===1&&i.start<r.column-1&&r.column-1<i.end?(u=i.start+1,h=i.end+1):(u=r.column,h=r.column);let v=r.lineNumber,m;if(s.selectionStart.containsPosition(r))m=s.selectionStart.endColumn;else if(r.isBeforeOrEqual(s.selectionStart.getStartPosition())){m=u;let g=new S.Position(v,m);s.selectionStart.containsPosition(g)&&(m=s.selectionStart.endColumn)}else{m=h;let g=new S.Position(v,m);s.selectionStart.containsPosition(g)&&(m=s.selectionStart.startColumn)}return s.move(!0,v,m,0)}}e.WordOperations=d;class f extends d{static deleteWordPartLeft(c){const a=p([d.deleteWordLeft(c,0),d.deleteWordLeft(c,2),d._deleteWordPartLeft(c.model,c.selection)]);return a.sort(_.Range.compareRangesUsingEnds),a[2]}static deleteWordPartRight(c){const a=p([d.deleteWordRight(c,0),d.deleteWordRight(c,2),d._deleteWordPartRight(c.model,c.selection)]);return a.sort(_.Range.compareRangesUsingStarts),a[0]}static moveWordPartLeft(c,a,s){const l=p([d.moveWordLeft(c,a,s,0),d.moveWordLeft(c,a,s,2),d._moveWordPartLeft(a,s)]);return l.sort(S.Position.compare),l[2]}static moveWordPartRight(c,a,s){const l=p([d.moveWordRight(c,a,s,0),d.moveWordRight(c,a,s,2),d._moveWordPartRight(a,s)]);return l.sort(S.Position.compare),l[0]}}e.WordPartOperations=f;function p(o){return o.filter(c=>Boolean(c))}}),define(Q[239],J([0,1,21,42,176,134,12,3]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class d{static addCursorDown(o,c,a){let s=[],l=0;for(let r=0,t=c.length;r<t;r++){const n=c[r];s[l++]=new k.CursorState(n.modelState,n.viewState),a?s[l++]=k.CursorState.fromModelState(M.MoveOperations.translateDown(o.cursorConfig,o.model,n.modelState)):s[l++]=k.CursorState.fromViewState(M.MoveOperations.translateDown(o.cursorConfig,o,n.viewState))}return s}static addCursorUp(o,c,a){let s=[],l=0;for(let r=0,t=c.length;r<t;r++){const n=c[r];s[l++]=new k.CursorState(n.modelState,n.viewState),a?s[l++]=k.CursorState.fromModelState(M.MoveOperations.translateUp(o.cursorConfig,o.model,n.modelState)):s[l++]=k.CursorState.fromViewState(M.MoveOperations.translateUp(o.cursorConfig,o,n.viewState))}return s}static moveToBeginningOfLine(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l];s[l]=this._moveToLineStart(o,t,a)}return s}static _moveToLineStart(o,c,a){const s=c.viewState.position.column,l=c.modelState.position.column,r=s===l,t=c.viewState.position.lineNumber,n=o.getLineFirstNonWhitespaceColumn(t);return!r&&!(s===n)?this._moveToLineStartByView(o,c,a):this._moveToLineStartByModel(o,c,a)}static _moveToLineStartByView(o,c,a){return k.CursorState.fromViewState(M.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o,c.viewState,a))}static _moveToLineStartByModel(o,c,a){return k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o.model,c.modelState,a))}static moveToEndOfLine(o,c,a,s){let l=[];for(let r=0,t=c.length;r<t;r++){const n=c[r];l[r]=this._moveToLineEnd(o,n,a,s)}return l}static _moveToLineEnd(o,c,a,s){const l=c.viewState.position,r=o.getLineMaxColumn(l.lineNumber),t=l.column===r,n=c.modelState.position,i=o.model.getLineMaxColumn(n.lineNumber),u=r-l.column==i-n.column;return t||u?this._moveToLineEndByModel(o,c,a,s):this._moveToLineEndByView(o,c,a,s)}static _moveToLineEndByView(o,c,a,s){return k.CursorState.fromViewState(M.MoveOperations.moveToEndOfLine(o.cursorConfig,o,c.viewState,a,s))}static _moveToLineEndByModel(o,c,a,s){return k.CursorState.fromModelState(M.MoveOperations.moveToEndOfLine(o.cursorConfig,o.model,c.modelState,a,s))}static expandLineSelection(o,c){let a=[];for(let s=0,l=c.length;s<l;s++){const r=c[s],t=r.modelState.selection.startLineNumber,n=o.model.getLineCount();let i=r.modelState.selection.endLineNumber,u;i===n?u=o.model.getLineMaxColumn(n):(i++,u=1),a[s]=k.CursorState.fromModelState(new k.SingleCursorState(new _.Range(t,1,t,1),0,new S.Position(i,u),0))}return a}static moveToBeginningOfBuffer(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l];s[l]=k.CursorState.fromModelState(M.MoveOperations.moveToBeginningOfBuffer(o.cursorConfig,o.model,t.modelState,a))}return s}static moveToEndOfBuffer(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l];s[l]=k.CursorState.fromModelState(M.MoveOperations.moveToEndOfBuffer(o.cursorConfig,o.model,t.modelState,a))}return s}static selectAll(o,c){const a=o.model.getLineCount(),s=o.model.getLineMaxColumn(a);return k.CursorState.fromModelState(new k.SingleCursorState(new _.Range(1,1,1,1),0,new S.Position(a,s),0))}static line(o,c,a,s,l){const r=o.model.validatePosition(s),t=l?o.coordinatesConverter.validateViewPosition(new S.Position(l.lineNumber,l.column),r):o.coordinatesConverter.convertModelPositionToViewPosition(r);if(!a||!c.modelState.hasSelection()){const i=o.model.getLineCount();let u=r.lineNumber+1,h=1;return u>i&&(u=i,h=o.model.getLineMaxColumn(u)),k.CursorState.fromModelState(new k.SingleCursorState(new _.Range(r.lineNumber,1,u,h),0,new S.Position(u,h),0))}const n=c.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<n)return k.CursorState.fromViewState(c.viewState.move(c.modelState.hasSelection(),t.lineNumber,1,0));if(r.lineNumber>n){const i=o.getLineCount();let u=t.lineNumber+1,h=1;return u>i&&(u=i,h=o.getLineMaxColumn(u)),k.CursorState.fromViewState(c.viewState.move(c.modelState.hasSelection(),u,h,0))}else{const i=c.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(c.modelState.move(c.modelState.hasSelection(),i.lineNumber,i.column,0))}}static word(o,c,a,s){const l=o.model.validatePosition(s);return k.CursorState.fromModelState(y.WordOperations.word(o.cursorConfig,o.model,c.modelState,a,l))}static cancelSelection(o,c){if(!c.modelState.hasSelection())return new k.CursorState(c.modelState,c.viewState);const a=c.viewState.position.lineNumber,s=c.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new _.Range(a,s,a,s),0,new S.Position(a,s),0))}static moveTo(o,c,a,s,l){const r=o.model.validatePosition(s),t=l?o.coordinatesConverter.validateViewPosition(new S.Position(l.lineNumber,l.column),r):o.coordinatesConverter.convertModelPositionToViewPosition(r);return k.CursorState.fromViewState(c.viewState.move(a,t.lineNumber,t.column,0))}static simpleMove(o,c,a,s,l,r){switch(a){case 0:return r===4?this._moveHalfLineLeft(o,c,s):this._moveLeft(o,c,s,l);case 1:return r===4?this._moveHalfLineRight(o,c,s):this._moveRight(o,c,s,l);case 2:return r===2?this._moveUpByViewLines(o,c,s,l):this._moveUpByModelLines(o,c,s,l);case 3:return r===2?this._moveDownByViewLines(o,c,s,l):this._moveDownByModelLines(o,c,s,l);case 4:return this._moveToViewMinColumn(o,c,s);case 5:return this._moveToViewFirstNonWhitespaceColumn(o,c,s);case 6:return this._moveToViewCenterColumn(o,c,s);case 7:return this._moveToViewMaxColumn(o,c,s);case 8:return this._moveToViewLastNonWhitespaceColumn(o,c,s);default:return null}}static viewportMove(o,c,a,s,l){const r=o.getCompletelyVisibleViewRange(),t=o.coordinatesConverter.convertViewRangeToModelRange(r);switch(a){case 9:{const n=this._firstLineNumberInRange(o.model,t,l),i=o.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(o,c[0],s,n,i)]}case 11:{const n=this._lastLineNumberInRange(o.model,t,l),i=o.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(o,c[0],s,n,i)]}case 10:{const n=Math.round((t.startLineNumber+t.endLineNumber)/2),i=o.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(o,c[0],s,n,i)]}case 12:{let n=[];for(let i=0,u=c.length;i<u;i++){const h=c[i];n[i]=this.findPositionInViewportIfOutside(o,h,r,s)}return n}default:return null}}static findPositionInViewportIfOutside(o,c,a,s){let l=c.viewState.position.lineNumber;if(a.startLineNumber<=l&&l<=a.endLineNumber-1)return new k.CursorState(c.modelState,c.viewState);{l>a.endLineNumber-1&&(l=a.endLineNumber-1),l<a.startLineNumber&&(l=a.startLineNumber);const r=o.getLineFirstNonWhitespaceColumn(l);return this._moveToViewPosition(o,c,s,l,r)}}static _firstLineNumberInRange(o,c,a){let s=c.startLineNumber;return c.startColumn!==o.getLineMinColumn(s)&&s++,Math.min(c.endLineNumber,s+a-1)}static _lastLineNumberInRange(o,c,a){let s=c.startLineNumber;return c.startColumn!==o.getLineMinColumn(s)&&s++,Math.max(s,c.endLineNumber-a+1)}static _moveLeft(o,c,a,s){const l=c.length>1;let r=[];for(let t=0,n=c.length;t<n;t++){const i=c[t],u=l||!i.viewState.hasSelection();let h=M.MoveOperations.moveLeft(o.cursorConfig,o,i.viewState,a,s);u&&s===1&&i.viewState.position.column===o.getLineMinColumn(i.viewState.position.lineNumber)&&h.position.lineNumber!==i.viewState.position.lineNumber&&o.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===i.modelState.position.lineNumber&&(h=M.MoveOperations.moveLeft(o.cursorConfig,o,h,a,1)),r[t]=k.CursorState.fromViewState(h)}return r}static _moveHalfLineLeft(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=Math.round(o.getLineContent(n).length/2);s[l]=k.CursorState.fromViewState(M.MoveOperations.moveLeft(o.cursorConfig,o,t.viewState,a,i))}return s}static _moveRight(o,c,a,s){const l=c.length>1;let r=[];for(let t=0,n=c.length;t<n;t++){const i=c[t],u=l||!i.viewState.hasSelection();let h=M.MoveOperations.moveRight(o.cursorConfig,o,i.viewState,a,s);u&&s===1&&i.viewState.position.column===o.getLineMaxColumn(i.viewState.position.lineNumber)&&h.position.lineNumber!==i.viewState.position.lineNumber&&o.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===i.modelState.position.lineNumber&&(h=M.MoveOperations.moveRight(o.cursorConfig,o,h,a,1)),r[t]=k.CursorState.fromViewState(h)}return r}static _moveHalfLineRight(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=Math.round(o.getLineContent(n).length/2);s[l]=k.CursorState.fromViewState(M.MoveOperations.moveRight(o.cursorConfig,o,t.viewState,a,i))}return s}static _moveDownByViewLines(o,c,a,s){let l=[];for(let r=0,t=c.length;r<t;r++){const n=c[r];l[r]=k.CursorState.fromViewState(M.MoveOperations.moveDown(o.cursorConfig,o,n.viewState,a,s))}return l}static _moveDownByModelLines(o,c,a,s){let l=[];for(let r=0,t=c.length;r<t;r++){const n=c[r];l[r]=k.CursorState.fromModelState(M.MoveOperations.moveDown(o.cursorConfig,o.model,n.modelState,a,s))}return l}static _moveUpByViewLines(o,c,a,s){let l=[];for(let r=0,t=c.length;r<t;r++){const n=c[r];l[r]=k.CursorState.fromViewState(M.MoveOperations.moveUp(o.cursorConfig,o,n.viewState,a,s))}return l}static _moveUpByModelLines(o,c,a,s){let l=[];for(let r=0,t=c.length;r<t;r++){const n=c[r];l[r]=k.CursorState.fromModelState(M.MoveOperations.moveUp(o.cursorConfig,o.model,n.modelState,a,s))}return l}static _moveToViewPosition(o,c,a,s,l){return k.CursorState.fromViewState(c.viewState.move(a,s,l,0))}static _moveToModelPosition(o,c,a,s,l){return k.CursorState.fromModelState(c.modelState.move(a,s,l,0))}static _moveToViewMinColumn(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=o.getLineMinColumn(n);s[l]=this._moveToViewPosition(o,t,a,n,i)}return s}static _moveToViewFirstNonWhitespaceColumn(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=o.getLineFirstNonWhitespaceColumn(n);s[l]=this._moveToViewPosition(o,t,a,n,i)}return s}static _moveToViewCenterColumn(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=Math.round((o.getLineMaxColumn(n)+o.getLineMinColumn(n))/2);s[l]=this._moveToViewPosition(o,t,a,n,i)}return s}static _moveToViewMaxColumn(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=o.getLineMaxColumn(n);s[l]=this._moveToViewPosition(o,t,a,n,i)}return s}static _moveToViewLastNonWhitespaceColumn(o,c,a){let s=[];for(let l=0,r=c.length;l<r;l++){const t=c[l],n=t.viewState.position.lineNumber,i=o.getLineLastNonWhitespaceColumn(n);s[l]=this._moveToViewPosition(o,t,a,n,i)}return s}}e.CursorMoveCommands=d;var f;(function(p){const o=function(a){if(!C.isObject(a))return!1;let s=a;return!(!C.isString(s.to)||!C.isUndefined(s.select)&&!C.isBoolean(s.select)||!C.isUndefined(s.by)&&!C.isString(s.by)||!C.isUndefined(s.value)&&!C.isNumber(s.value))};p.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down'
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:o,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},p.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},p.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function c(a){if(!a.to)return null;let s;switch(a.to){case p.RawDirection.Left:s=0;break;case p.RawDirection.Right:s=1;break;case p.RawDirection.Up:s=2;break;case p.RawDirection.Down:s=3;break;case p.RawDirection.WrappedLineStart:s=4;break;case p.RawDirection.WrappedLineFirstNonWhitespaceCharacter:s=5;break;case p.RawDirection.WrappedLineColumnCenter:s=6;break;case p.RawDirection.WrappedLineEnd:s=7;break;case p.RawDirection.WrappedLineLastNonWhitespaceCharacter:s=8;break;case p.RawDirection.ViewPortTop:s=9;break;case p.RawDirection.ViewPortBottom:s=11;break;case p.RawDirection.ViewPortCenter:s=10;break;case p.RawDirection.ViewPortIfOutside:s=12;break;default:return null}let l=0;switch(a.by){case p.RawUnit.Line:l=1;break;case p.RawUnit.WrappedLine:l=2;break;case p.RawUnit.Character:l=3;break;case p.RawUnit.HalfLine:l=4;break}return{direction:s,unit:l,select:!!a.select,value:a.value||1}}p.parse=c})(f=e.CursorMove||(e.CursorMove={}))}),define(Q[524],J([0,1,42,12,3,20]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OneCursor=void 0;class S{constructor(d){this._selTrackedRange=null,this._trackSelection=!0,this._setState(d,new C.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0),new C.SingleCursorState(new M.Range(1,1,1,1),0,new k.Position(1,1),0))}dispose(d){this._removeTrackedRange(d)}startTrackingSelection(d){this._trackSelection=!0,this._updateTrackedRange(d)}stopTrackingSelection(d){this._trackSelection=!1,this._removeTrackedRange(d)}_updateTrackedRange(d){!this._trackSelection||(this._selTrackedRange=d.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(d){this._selTrackedRange=d.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new C.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(d){const f=d.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new y.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):new y.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn)}ensureValidState(d){this._setState(d,this.modelState,this.viewState)}setState(d,f,p){this._setState(d,f,p)}_setState(d,f,p){if(f){const o=d.model.validateRange(f.selectionStart),c=f.selectionStart.equalsRange(o)?f.selectionStartLeftoverVisibleColumns:0,a=d.model.validatePosition(f.position),s=f.position.equals(a)?f.leftoverVisibleColumns:0;f=new C.SingleCursorState(o,c,a,s)}else{if(!p)return;const o=d.model.validateRange(d.coordinatesConverter.convertViewRangeToModelRange(p.selectionStart)),c=d.model.validatePosition(d.coordinatesConverter.convertViewPositionToModelPosition(p.position));f=new C.SingleCursorState(o,p.selectionStartLeftoverVisibleColumns,c,p.leftoverVisibleColumns)}if(p){const o=d.coordinatesConverter.validateViewRange(p.selectionStart,f.selectionStart),c=d.coordinatesConverter.validateViewPosition(p.position,f.position);p=new C.SingleCursorState(o,f.selectionStartLeftoverVisibleColumns,c,f.leftoverVisibleColumns)}else{const o=d.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.startLineNumber,f.selectionStart.startColumn)),c=d.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(f.selectionStart.endLineNumber,f.selectionStart.endColumn)),a=new M.Range(o.lineNumber,o.column,c.lineNumber,c.column),s=d.coordinatesConverter.convertModelPositionToViewPosition(f.position);p=new C.SingleCursorState(a,f.selectionStartLeftoverVisibleColumns,s,f.leftoverVisibleColumns)}this.modelState=f,this.viewState=p,this._updateTrackedRange(d)}}e.OneCursor=S}),define(Q[525],J([0,1,42,524,20]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class y{constructor(_){this.context=_,this.primaryCursor=new k.OneCursor(_),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let _=0,d=this.secondaryCursors.length;_<d;_++)this.secondaryCursors[_].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let _=0,d=this.secondaryCursors.length;_<d;_++)this.secondaryCursors[_].stopTrackingSelection(this.context)}updateContext(_){this.context=_}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let _=0,d=this.secondaryCursors.length;_<d;_++)this.secondaryCursors[_].ensureValidState(this.context)}readSelectionFromMarkers(){let _=[];_[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d].readSelectionFromMarkers(this.context);return _}getAll(){let _=[];_[0]=this.primaryCursor.asCursorState();for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d].asCursorState();return _}getViewPositions(){let _=[];_[0]=this.primaryCursor.viewState.position;for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d].viewState.position;return _}getTopMostViewPosition(){let _=this.primaryCursor.viewState.position;for(let d=0,f=this.secondaryCursors.length;d<f;d++){const p=this.secondaryCursors[d].viewState.position;p.isBefore(_)&&(_=p)}return _}getBottomMostViewPosition(){let _=this.primaryCursor.viewState.position;for(let d=0,f=this.secondaryCursors.length;d<f;d++){const p=this.secondaryCursors[d].viewState.position;_.isBeforeOrEqual(p)&&(_=p)}return _}getSelections(){let _=[];_[0]=this.primaryCursor.modelState.selection;for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d].modelState.selection;return _}getViewSelections(){let _=[];_[0]=this.primaryCursor.viewState.selection;for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d].viewState.selection;return _}setSelections(_){this.setStates(C.CursorState.fromModelSelections(_))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(_){_!==null&&(this.primaryCursor.setState(this.context,_[0].modelState,_[0].viewState),this._setSecondaryStates(_.slice(1)))}_setSecondaryStates(_){const d=this.secondaryCursors.length,f=_.length;if(d<f){let p=f-d;for(let o=0;o<p;o++)this._addSecondaryCursor()}else if(d>f){let p=d-f;for(let o=0;o<p;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let p=0;p<f;p++)this.secondaryCursors[p].setState(this.context,_[p].modelState,_[p].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new k.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(_){this.lastAddedCursorIndex>=_+1&&this.lastAddedCursorIndex--,this.secondaryCursors[_].dispose(this.context),this.secondaryCursors.splice(_,1)}_getAll(){let _=[];_[0]=this.primaryCursor;for(let d=0,f=this.secondaryCursors.length;d<f;d++)_[d+1]=this.secondaryCursors[d];return _}normalize(){if(this.secondaryCursors.length!==0){let _=this._getAll(),d=[];for(let f=0,p=_.length;f<p;f++)d.push({index:f,selection:_[f].modelState.selection});d.sort((f,p)=>f.selection.startLineNumber===p.selection.startLineNumber?f.selection.startColumn-p.selection.startColumn:f.selection.startLineNumber-p.selection.startLineNumber);for(let f=0;f<d.length-1;f++){const p=d[f],o=d[f+1],c=p.selection,a=o.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){let s;if(a.isEmpty()||c.isEmpty()?s=a.getStartPosition().isBeforeOrEqual(c.getEndPosition()):s=a.getStartPosition().isBefore(c.getEndPosition()),s){const l=p.index<o.index?f:f+1,r=p.index<o.index?f+1:f,t=d[r].index,n=d[l].index,i=d[r].selection,u=d[l].selection;if(!i.equalsSelection(u)){const h=i.plusRange(u),v=i.selectionStartLineNumber===i.startLineNumber&&i.selectionStartColumn===i.startColumn,m=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn;let g;t===this.lastAddedCursorIndex?(g=v,this.lastAddedCursorIndex=n):g=m;let b;g?b=new M.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):b=new M.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),d[l].selection=b;const w=C.CursorState.fromModelSelection(b);_[n].setState(this.context,w.modelState,w.viewState)}for(const h of d)h.index>t&&h.index--;_.splice(t,1),d.splice(r,1),this._removeSecondaryCursor(t-1),f--}}}}}}e.CursorCollection=y}),define(Q[240],J([0,1,11,8,525,42,177,178,3,20,166,2,169]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.CursorModelState=void 0;class a{constructor(n,i){this.modelVersionId=n.getVersionId(),this.cursorState=i.getCursorStates()}equals(n){if(!n||this.modelVersionId!==n.modelVersionId||this.cursorState.length!==n.cursorState.length)return!1;for(let i=0,u=this.cursorState.length;i<u;i++)if(!this.cursorState[i].equals(n.cursorState[i]))return!1;return!0}}e.CursorModelState=a;class s{constructor(n,i,u){this._model=n,this._autoClosedCharactersDecorations=i,this._autoClosedEnclosingDecorations=u}static getAllAutoClosedCharacters(n){let i=[];for(const u of n)i=i.concat(u.getAutoClosedCharactersRanges());return i}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let n=[];for(let i=0;i<this._autoClosedCharactersDecorations.length;i++){const u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[i]);u&&n.push(u)}return n}isValid(n){let i=[];for(let u=0;u<this._autoClosedEnclosingDecorations.length;u++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(h&&(i.push(h),h.startLineNumber!==h.endLineNumber))return!1}i.sort(d.Range.compareRangesUsingStarts),n.sort(d.Range.compareRangesUsingStarts);for(let u=0;u<n.length;u++)if(u>=i.length||!i[u].strictContainsRange(n[u]))return!1;return!0}}class l extends o.Disposable{constructor(n,i,u,h){super();this._model=n,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=i,this._coordinatesConverter=u,this.context=new y.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new M.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=o.dispose(this._autoClosedActions),super.dispose()}updateConfiguration(n){this.context=new y.CursorContext(this._model,this._coordinatesConverter,n),this._cursors.updateContext(this.context)}onLineMappingChanged(n){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(n,"viewModel",0,this.getCursorStates())}setHasFocus(n){this._hasFocus=n}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let n=this._cursors.getSelections();for(let i=0;i<this._autoClosedActions.length;i++){const u=this._autoClosedActions[i];u.isValid(n)||(u.dispose(),this._autoClosedActions.splice(i,1),i--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(n,i,u,h){let v=!1;h!==null&&h.length>l.MAX_CURSOR_COUNT&&(h=h.slice(0,l.MAX_CURSOR_COUNT),v=!0);const m=new a(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,i,u,m,v)}setCursorColumnSelectData(n){this._columnSelectData=n}revealPrimary(n,i,u,h){const v=this._cursors.getViewPositions();if(v.length>1){this._emitCursorRevealRange(n,i,null,this._cursors.getViewSelections(),0,u,h);return}else{const m=v[0],g=new d.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._emitCursorRevealRange(n,i,g,null,0,u,h)}}_revealPrimaryCursor(n,i,u,h,v){const m=this._cursors.getViewPositions();if(m.length>1)this._emitCursorRevealRange(n,i,null,this._cursors.getViewSelections(),u,h,v);else{const g=m[0],b=new d.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(n,i,b,null,u,h,v)}}_emitCursorRevealRange(n,i,u,h,v,m,g){n.emitViewEvent(new p.ViewRevealRangeRequestEvent(i,u,h,v,m,g))}saveState(){let n=[];const i=this._cursors.getSelections();for(let u=0,h=i.length;u<h;u++){const v=i[u];n.push({inSelectionMode:!v.isEmpty(),selectionStart:{lineNumber:v.selectionStartLineNumber,column:v.selectionStartColumn},position:{lineNumber:v.positionLineNumber,column:v.positionColumn}})}return n}restoreState(n,i){let u=[];for(let h=0,v=i.length;h<v;h++){const m=i[h];let g=1,b=1;m.position&&m.position.lineNumber&&(g=m.position.lineNumber),m.position&&m.position.column&&(b=m.position.column);let w=g,L=b;m.selectionStart&&m.selectionStart.lineNumber&&(w=m.selectionStart.lineNumber),m.selectionStart&&m.selectionStart.column&&(L=m.selectionStart.column),u.push({selectionStartLineNumber:w,selectionStartColumn:L,positionLineNumber:g,positionColumn:b})}this.setStates(n,"restoreState",0,y.CursorState.fromModelSelections(u)),this.revealPrimary(n,"restoreState",!0,1)}onModelContentChanged(n,i){if(this._knownModelVersionId=i.versionId,!this._isHandling){const u=i.containsEvent(1);if(this._prevEditOperationType=0,u)this._cursors.dispose(),this._cursors=new M.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,"model",1,null,!1);else if(this._hasFocus&&i.resultingSelection&&i.resultingSelection.length>0){const h=y.CursorState.fromModelSelections(i.resultingSelection);this.setStates(n,"modelChange",i.isUndoing?5:i.isRedoing?6:2,h)&&this._revealPrimaryCursor(n,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(n,"modelChange",2,y.CursorState.fromModelSelections(h))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const n=this._cursors.getPrimaryCursor(),i=n.viewState.selectionStart.getStartPosition(),u=n.viewState.position;return{isReal:!1,fromViewLineNumber:i.lineNumber,fromViewVisualColumn:y.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i),toViewLineNumber:u.lineNumber,toViewVisualColumn:y.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,u)}}getSelections(){return this._cursors.getSelections()}setSelections(n,i,u,h){this.setStates(n,i,h,y.CursorState.fromModelSelections(u))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(n){this._prevEditOperationType=n}_pushAutoClosedAction(n,i){let u=[],h=[];for(let g=0,b=n.length;g<b;g++)u.push({range:n[g],options:{inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:i[g],options:{stickiness:1}});const v=this._model.deltaDecorations([],u),m=this._model.deltaDecorations([],h);this._autoClosedActions.push(new s(this._model,v,m))}_executeEditOperation(n){if(!!n){n.shouldPushStackElementBefore&&this._model.pushStackElement();const i=r.executeCommands(this._model,this._cursors.getSelections(),n.commands);if(i){this._interpretCommandResult(i);let u=[],h=[];for(let v=0;v<n.commands.length;v++){const m=n.commands[v];m instanceof _.TypeWithAutoClosingCommand&&m.enclosingRange&&m.closeCharacterRange&&(u.push(m.closeCharacterRange),h.push(m.enclosingRange))}u.length>0&&this._pushAutoClosedAction(u,h),this._prevEditOperationType=n.type}n.shouldPushStackElementAfter&&this._model.pushStackElement()}}_interpretCommandResult(n){(!n||n.length===0)&&(n=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(n),this._cursors.normalize()}_emitStateChangedIfNecessary(n,i,u,h,v){const m=new a(this._model,this);if(m.equals(h))return!1;const g=this._cursors.getSelections(),b=this._cursors.getViewSelections();if(n.emitViewEvent(new p.ViewCursorStateChangedEvent(b,g)),!h||h.cursorState.length!==m.cursorState.length||m.cursorState.some((w,L)=>!w.modelState.equals(h.cursorState[L].modelState))){const w=h?h.cursorState.map(E=>E.modelState.selection):null,L=h?h.modelVersionId:0;n.emitOutgoingEvent(new c.CursorStateChangedEvent(w,g,L,m.modelVersionId,i||"keyboard",u,v))}return!0}_findAutoClosingPairs(n){if(!n.length)return null;let i=[];for(let u=0,h=n.length;u<h;u++){const v=n[u];if(!v.text||v.text.indexOf(`
`)>=0)return null;const m=v.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;const g=m[1],b=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!b||b.length!==1)return null;const w=b[0].open,L=v.text.length-m[2].length-1,E=v.text.lastIndexOf(w,L-1);if(E===-1)return null;i.push([E,L])}return i}executeEdits(n,i,u,h){let v=null;i==="snippet"&&(v=this._findAutoClosingPairs(u)),v&&(u[0]._isTracked=!0);let m=[],g=[];const b=this._model.pushEditOperations(this.getSelections(),u,w=>{if(v)for(let E=0,N=v.length;E<N;E++){const[I,T]=v[E],O=w[E],R=O.range.startLineNumber,F=O.range.startColumn-1+I,D=O.range.startColumn-1+T;m.push(new d.Range(R,D+1,R,D+2)),g.push(new d.Range(R,F+1,R,D+2))}const L=h(w);return L&&(this._isHandling=!0),L});b&&(this._isHandling=!1,this.setSelections(n,i,b,0)),m.length>0&&this._pushAutoClosedAction(m,g)}_executeEdit(n,i,u,h=0){if(!this.context.cursorConfig.readOnly){const v=new a(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),n()}catch(m){C.onUnexpectedError(m)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,u,h,v,!1)&&this._revealPrimaryCursor(i,u,0,!0,0)}}setIsDoingComposition(n){this._isDoingComposition=n}startComposition(n){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(n,i){this._executeEdit(()=>{if(i==="keyboard"){const u=s.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(_.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),u)),this._selectionsWhenCompositionStarted=null}},n,i)}type(n,i,u){this._executeEdit(()=>{if(u==="keyboard"){const h=i.length;let v=0;for(;v<h;){const m=k.nextCharLength(i,v),g=i.substr(v,m),b=s.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(_.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b,g)),v+=m}}else this._executeEditOperation(_.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),i))},n,u)}replacePreviousChar(n,i,u,h){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.replacePreviousChar(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),i,u))},n,h)}paste(n,i,u,h,v){this._executeEdit(()=>{this._executeEditOperation(_.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),i,u,h||[]))},n,v,4)}cut(n,i){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},n,i)}executeCommand(n,i,u){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new y.EditOperationResult(0,[i],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,u)}executeCommands(n,i,u){this._executeEdit(()=>{this._executeEditOperation(new y.EditOperationResult(0,i,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,u)}}e.Cursor=l,l.MAX_CURSOR_COUNT=1e4;class r{static executeCommands(n,i,u){const h={model:n,selectionsBefore:i,trackedRanges:[],trackedRangesDirection:[]},v=this._innerExecuteCommands(h,u);for(let m=0,g=h.trackedRanges.length;m<g;m++)h.model._setTrackedRange(h.trackedRanges[m],null,0);return v}static _innerExecuteCommands(n,i){if(this._arrayIsEmpty(i))return null;const u=this._getEditOperations(n,i);if(u.operations.length===0)return null;const h=u.operations,v=this._getLoserCursorMap(h);if(v.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let m=[];for(let w=0,L=h.length;w<L;w++)v.hasOwnProperty(h[w].identifier.major.toString())||m.push(h[w]);u.hadTrackedEditOperation&&m.length>0&&(m[0]._isTracked=!0);let g=n.model.pushEditOperations(n.selectionsBefore,m,w=>{let L=[];for(let I=0;I<n.selectionsBefore.length;I++)L[I]=[];for(const I of w)!I.identifier||L[I.identifier.major].push(I);const E=(I,T)=>I.identifier.minor-T.identifier.minor;let N=[];for(let I=0;I<n.selectionsBefore.length;I++)L[I].length>0?(L[I].sort(E),N[I]=i[I].computeCursorState(n.model,{getInverseEditOperations:()=>L[I],getTrackedSelection:T=>{const O=parseInt(T,10),R=n.model._getTrackedRange(n.trackedRanges[O]);return n.trackedRangesDirection[O]===0?new f.Selection(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn):new f.Selection(R.endLineNumber,R.endColumn,R.startLineNumber,R.startColumn)}})):N[I]=n.selectionsBefore[I];return N});g||(g=n.selectionsBefore);let b=[];for(let w in v)v.hasOwnProperty(w)&&b.push(parseInt(w,10));b.sort((w,L)=>L-w);for(const w of b)g.splice(w,1);return g}static _arrayIsEmpty(n){for(let i=0,u=n.length;i<u;i++)if(n[i])return!1;return!0}static _getEditOperations(n,i){let u=[],h=!1;for(let v=0,m=i.length;v<m;v++){const g=i[v];if(g){const b=this._getEditOperationsFromCommand(n,v,g);u=u.concat(b.operations),h=h||b.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(n,i,u){let h=[],v=0;const m=(E,N,I=!1)=>{d.Range.isEmpty(E)&&N===""||h.push({identifier:{major:i,minor:v++},range:E,text:N,forceMoveMarkers:I,isAutoWhitespaceEdit:u.insertsAutoWhitespace})};let g=!1;const L={addEditOperation:m,addTrackedEditOperation:(E,N,I)=>{g=!0,m(E,N,I)},trackSelection:(E,N)=>{const I=f.Selection.liftSelection(E);let T;if(I.isEmpty())if(typeof N=="boolean")N?T=2:T=3;else{const F=n.model.getLineMaxColumn(I.startLineNumber);I.startColumn===F?T=2:T=3}else T=1;const O=n.trackedRanges.length,R=n.model._setTrackedRange(null,I,T);return n.trackedRanges[O]=R,n.trackedRangesDirection[O]=I.getDirection(),O.toString()}};try{u.getEditOperations(n.model,L)}catch(E){return C.onUnexpectedError(E),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:g}}static _getLoserCursorMap(n){n=n.slice(0),n.sort((u,h)=>-d.Range.compareRangesUsingEnds(u.range,h.range));let i={};for(let u=1;u<n.length;u++){const h=n[u-1],v=n[u];if(d.Range.getStartPosition(h.range).isBefore(d.Range.getEndPosition(v.range))){let m;h.identifier.major>v.identifier.major?m=h.identifier.major:m=v.identifier.major,i[m.toString()]=!0;for(let g=0;g<n.length;g++)n[g].identifier.major===m&&(n.splice(g,1),g<u&&u--,g--);u>0&&u--}}return i}}}),define(Q[241],J([0,1,8,112,74]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const y={getInitialState:()=>M.NULL_STATE,tokenize2:(f,p,o,c)=>M.nullTokenize2(0,f,o,c)};function S(f,p=y){return d(f,p||y)}e.tokenizeToString=S;function _(f,p,o,c,a,s,l){let r="<div>",t=c,n=0;for(let i=0,u=p.getCount();i<u;i++){const h=p.getEndOffset(i);if(!(h<=c)){let v="";for(;t<h&&t<a;t++){const m=f.charCodeAt(t);switch(m){case 9:let g=s-(t+n)%s;for(n+=g-1;g>0;)v+=l?"&#160;":" ",g--;break;case 60:v+="&lt;";break;case 62:v+="&gt;";break;case 38:v+="&amp;";break;case 0:v+="&#00;";break;case 65279:case 8232:case 8233:case 133:v+="\uFFFD";break;case 13:v+="&#8203";break;case 32:v+=l?"&#160;":" ";break;default:v+=String.fromCharCode(m)}}if(r+=`<span style="${p.getInlineStyle(i,o)}">${v}</span>`,h>a||t>=a)break}}return r+="</div>",r}e.tokenizeLineToHTML=_;function d(f,p){let o='<div class="monaco-tokenized-source">',c=C.splitLines(f),a=p.getInitialState();for(let s=0,l=c.length;s<l;s++){let r=c[s];s>0&&(o+="<br/>");let t=p.tokenize2(r,!0,a,0);k.LineTokens.convertToEndOffset(t.tokens,r.length);let i=new k.LineTokens(t.tokens,r).inflate(),u=0;for(let h=0,v=i.getCount();h<v;h++){const m=i.getClassName(h),g=i.getEndOffset(h);o+=`<span class="${m}">${C.escape(r.substring(u,g))}</span>`,u=g}a=t.endState}return o+="</div>",o}}),define(Q[75],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=C.createDecorator("textModelService")}),define(Q[135],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=C.createDecorator("textResourceConfigurationService"),e.ITextResourcePropertiesService=C.createDecorator("textResourcePropertiesService")}),define(Q[242],J([0,1,4,213,18]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y{constructor(){this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),M.TokenizationRegistry.onDidChange(_=>{_.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new y),this._INSTANCE}_updateColorMap(){const _=M.TokenizationRegistry.getColorMap();if(!_){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let f=1;f<_.length;f++){const p=_[f].rgba;this._colors[f]=new k.RGBA8(p.r,p.g,p.b,Math.round(p.a*255))}let d=_[2].getRelativeLuminance();this._backgroundIsLight=d>=.5,this._onDidChange.fire(void 0)}getColor(_){return(_<1||_>=this._colors.length)&&(_=2),this._colors[_]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(Q[526],J([0,1,19,12,3,31,166,220,62]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class f{constructor(m){this._lines=m}convertViewPositionToModelPosition(m){return this._lines.convertViewPositionToModelPosition(m.lineNumber,m.column)}convertViewRangeToModelRange(m){return this._lines.convertViewRangeToModelRange(m)}validateViewPosition(m,g){return this._lines.validateViewPosition(m.lineNumber,m.column,g)}validateViewRange(m,g){return this._lines.validateViewRange(m,g)}convertModelPositionToViewPosition(m){return this._lines.convertModelPositionToViewPosition(m.lineNumber,m.column)}convertModelRangeToViewRange(m){return this._lines.convertModelRangeToViewRange(m)}modelPositionIsVisible(m){return this._lines.modelPositionIsVisible(m.lineNumber,m.column)}getModelLineViewLineCount(m){return this._lines.getModelLineViewLineCount(m)}}e.CoordinatesConverter=f;class p{constructor(m){this._counts=m,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,g=this._counts.length;m<g;m++){const b=this._counts[m],w=m>0?this._modelToView[m-1]:0;this._modelToView[m]=w+b;for(let L=0;L<b;L++)this._viewToModel[w+L]=m}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(m,g){this._counts[m]!==g&&(this._counts[m]=g,this._invalidate(m))}removeValues(m,g){this._counts.splice(m,g),this._invalidate(m)}insertValues(m,g){this._counts=C.arrayInsert(this._counts,m,g),this._invalidate(m)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(m){return this._ensureValid(),this._modelToView[m]}getIndexOf(m){this._ensureValid();const g=this._viewToModel[m],b=g>0?this._modelToView[g-1]:0;return new _.PrefixSumIndexOfResult(g,m-b)}}class o{constructor(m,g,b,w,L,E,N,I){this.model=m,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=w,this.tabSize=L,this.wrappingStrategy=E,this.wrappingColumn=N,this.wrappingIndent=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new f(this)}_constructLines(m,g){this.lines=[],m&&(this.hiddenAreasIds=[]);let b=this.model.getLinesContent();const w=b.length,L=this.createLineBreaksComputer();for(let D=0;D<w;D++)L.addRequest(b[D],g?g[D]:null);const E=L.finalize();let N=[],I=this.hiddenAreasIds.map(D=>this.model.getDecorationRange(D)).sort(M.Range.compareRangesUsingStarts),T=1,O=0,R=-1,F=R+1<I.length?O+1:w+2;for(let D=0;D<w;D++){let B=D+1;B===F&&(R++,T=I[R].startLineNumber,O=I[R].endLineNumber,F=R+1<I.length?O+1:w+2);let A=B>=T&&B<=O,W=n(E[D],!A);N[D]=W.getViewLineCount(),this.lines[D]=W}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new p(N)}getHiddenAreas(){return this.hiddenAreasIds.map(m=>this.model.getDecorationRange(m))}_reduceRanges(m){if(m.length===0)return[];let g=m.map(E=>this.model.validateRange(E)).sort(M.Range.compareRangesUsingStarts),b=[],w=g[0].startLineNumber,L=g[0].endLineNumber;for(let E=1,N=g.length;E<N;E++){let I=g[E];I.startLineNumber>L+1?(b.push(new M.Range(w,1,L,1)),w=I.startLineNumber,L=I.endLineNumber):I.endLineNumber>L&&(L=I.endLineNumber)}return b.push(new M.Range(w,1,L,1)),b}setHiddenAreas(m){let g=this._reduceRanges(m),b=this.hiddenAreasIds.map(R=>this.model.getDecorationRange(R)).sort(M.Range.compareRangesUsingStarts);if(g.length===b.length){let R=!1;for(let F=0;F<g.length;F++)if(!g[F].equalsRange(b[F])){R=!0;break}if(!R)return!1}let w=[];for(const R of g)w.push({range:R,options:y.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,w);let L=g,E=1,N=0,I=-1,T=I+1<L.length?N+1:this.lines.length+2,O=!1;for(let R=0;R<this.lines.length;R++){let F=R+1;F===T&&(I++,E=L[I].startLineNumber,N=L[I].endLineNumber,T=I+1<L.length?N+1:this.lines.length+2);let D=!1;if(F>=E&&F<=N?this.lines[R].isVisible()&&(this.lines[R]=this.lines[R].setVisible(!1),D=!0):(O=!0,this.lines[R].isVisible()||(this.lines[R]=this.lines[R].setVisible(!0),D=!0)),D){let B=this.lines[R].getViewLineCount();this.prefixSumComputer.changeValue(R,B)}}return O||this.setHiddenAreas([]),!0}modelPositionIsVisible(m,g){return m<1||m>this.lines.length?!1:this.lines[m-1].isVisible()}getModelLineViewLineCount(m){return m<1||m>this.lines.length?1:this.lines[m-1].getViewLineCount()}setTabSize(m){return this.tabSize===m?!1:(this.tabSize=m,this._constructLines(!1,null),!0)}setWrappingSettings(m,g,b,w){const L=this.fontInfo.equals(m),E=this.wrappingStrategy===g,N=this.wrappingColumn===b,I=this.wrappingIndent===w;if(L&&E&&N&&I)return!1;const T=L&&E&&!N&&I;this.fontInfo=m,this.wrappingStrategy=g,this.wrappingColumn=b,this.wrappingIndent=w;let O=null;if(T){O=[];for(let R=0,F=this.lines.length;R<F;R++)O[R]=this.lines[R].getLineBreakData()}return this._constructLines(!1,O),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(m,g,b){if(m<=this._validModelVersionId)return null;let w=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,L=this.prefixSumComputer.getAccumulatedValue(b-1);return this.lines.splice(g-1,b-g+1),this.prefixSumComputer.removeValues(g-1,b-g+1),new S.ViewLinesDeletedEvent(w,L)}onModelLinesInserted(m,g,b,w){if(m<=this._validModelVersionId)return null;const L=g>2&&!this.lines[g-2].isVisible();let E=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,N=0,I=[],T=[];for(let O=0,R=w.length;O<R;O++){let F=n(w[O],!L);I.push(F);let D=F.getViewLineCount();N+=D,T[O]=D}return this.lines=this.lines.slice(0,g-1).concat(I).concat(this.lines.slice(g-1)),this.prefixSumComputer.insertValues(g-1,T),new S.ViewLinesInsertedEvent(E,E+N-1)}onModelLineChanged(m,g,b){if(m<=this._validModelVersionId)return[!1,null,null,null];let w=g-1,L=this.lines[w].getViewLineCount(),E=this.lines[w].isVisible(),N=n(b,E);this.lines[w]=N;let I=this.lines[w].getViewLineCount(),T=!1,O=0,R=-1,F=0,D=-1,B=0,A=-1;L>I?(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=O+I-1,B=R+1,A=B+(L-I)-1,T=!0):L<I?(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=O+L-1,F=R+1,D=F+(I-L)-1,T=!0):(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,R=O+I-1),this.prefixSumComputer.changeValue(w,I);const W=O<=R?new S.ViewLinesChangedEvent(O,R):null,V=F<=D?new S.ViewLinesInsertedEvent(F,D):null,K=B<=A?new S.ViewLinesDeletedEvent(B,A):null;return[T,W,V,K]}acceptVersionId(m){this._validModelVersionId=m,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(m){if(m<1)return 1;const g=this.getViewLineCount();return m>g?g:m|0}getActiveIndentGuide(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g),b=this._toValidViewLineNumber(b);const w=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),L=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),E=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),N=this.model.getActiveIndentGuide(w.lineNumber,L.lineNumber,E.lineNumber),I=this.convertModelPositionToViewPosition(N.startLineNumber,1),T=this.convertModelPositionToViewPosition(N.endLineNumber,this.model.getLineMaxColumn(N.endLineNumber));return{startLineNumber:I.lineNumber,endLineNumber:T.lineNumber,indent:N.indent}}getViewLinesIndentGuides(m,g){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);const b=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),w=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let L=[],E=[],N=[];const I=b.lineNumber-1,T=w.lineNumber-1;let O=null;for(let B=I;B<=T;B++){const A=this.lines[B];if(A.isVisible()){let W=A.getViewLineNumberOfModelPosition(0,B===I?b.column:1),V=A.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(B+1)),K=V-W+1,j=0;K>1&&A.getViewLineMinColumn(this.model,B+1,V)===1&&(j=W===0?1:2),E.push(K),N.push(j),O===null&&(O=new k.Position(B+1,0))}else O!==null&&(L=L.concat(this.model.getLinesIndentGuides(O.lineNumber,B)),O=null)}O!==null&&(L=L.concat(this.model.getLinesIndentGuides(O.lineNumber,w.lineNumber)),O=null);const R=g-m+1;let F=new Array(R),D=0;for(let B=0,A=L.length;B<A;B++){let W=L[B],V=Math.min(R-D,E[B]),K=N[B],j;K===2?j=0:K===1?j=1:j=V;for(let ee=0;ee<V;ee++)ee===j&&(W=0),F[D++]=W}return F}getViewLineContent(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,w=g.remainder;return this.lines[b].getViewLineContent(this.model,b+1,w)}getViewLineLength(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,w=g.remainder;return this.lines[b].getViewLineLength(this.model,b+1,w)}getViewLineMinColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,w=g.remainder;return this.lines[b].getViewLineMinColumn(this.model,b+1,w)}getViewLineMaxColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,w=g.remainder;return this.lines[b].getViewLineMaxColumn(this.model,b+1,w)}getViewLineData(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,w=g.remainder;return this.lines[b].getViewLineData(this.model,b+1,w)}getViewLinesData(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);let w=this.prefixSumComputer.getIndexOf(m-1),L=m,E=w.index,N=w.remainder,I=[];for(let T=E,O=this.model.getLineCount();T<O;T++){let R=this.lines[T];if(!!R.isVisible()){let F=T===E?N:0,D=R.getViewLineCount()-F,B=!1;L+D>g&&(B=!0,D=g-L+1);let A=F+D;if(R.getViewLinesData(this.model,T+1,F,A,L-m,b,I),L+=D,B)break}}return I}validateViewPosition(m,g,b){m=this._toValidViewLineNumber(m);let w=this.prefixSumComputer.getIndexOf(m-1),L=w.index,E=w.remainder,N=this.lines[L],I=N.getViewLineMinColumn(this.model,L+1,E),T=N.getViewLineMaxColumn(this.model,L+1,E);g<I&&(g=I),g>T&&(g=T);let O=N.getModelColumnOfViewPosition(E,g);return this.model.validatePosition(new k.Position(L+1,O)).equals(b)?new k.Position(m,g):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(m,g){const b=this.validateViewPosition(m.startLineNumber,m.startColumn,g.getStartPosition()),w=this.validateViewPosition(m.endLineNumber,m.endColumn,g.getEndPosition());return new M.Range(b.lineNumber,b.column,w.lineNumber,w.column)}convertViewPositionToModelPosition(m,g){m=this._toValidViewLineNumber(m);let b=this.prefixSumComputer.getIndexOf(m-1),w=b.index,L=b.remainder,E=this.lines[w].getModelColumnOfViewPosition(L,g);return this.model.validatePosition(new k.Position(w+1,E))}convertViewRangeToModelRange(m){const g=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),b=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);return new M.Range(g.lineNumber,g.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(m,g){const b=this.model.validatePosition(new k.Position(m,g)),w=b.lineNumber,L=b.column;let E=w-1,N=!1;for(;E>0&&!this.lines[E].isVisible();)E--,N=!0;if(E===0&&!this.lines[E].isVisible())return new k.Position(1,1);const I=1+(E===0?0:this.prefixSumComputer.getAccumulatedValue(E-1));let T;return N?T=this.lines[E].getViewPositionOfModelPosition(I,this.model.getLineMaxColumn(E+1)):T=this.lines[w-1].getViewPositionOfModelPosition(I,L),T}convertModelRangeToViewRange(m){let g=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn),b=this.convertModelPositionToViewPosition(m.endLineNumber,m.endColumn);return m.startLineNumber===m.endLineNumber&&g.lineNumber!==b.lineNumber&&b.column===this.getViewLineMinColumn(b.lineNumber)?new M.Range(g.lineNumber,g.column,b.lineNumber-1,this.getViewLineMaxColumn(b.lineNumber-1)):new M.Range(g.lineNumber,g.column,b.lineNumber,b.column)}_getViewLineNumberForModelPosition(m,g){let b=m-1;if(this.lines[b].isVisible()){const L=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(L,g)}for(;b>0&&!this.lines[b].isVisible();)b--;if(b===0&&!this.lines[b].isVisible())return 1;const w=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(w,this.model.getLineMaxColumn(b+1))}getAllOverviewRulerDecorations(m,g,b){const w=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const E of w){const N=E.options.overviewRuler,I=N?N.position:0;if(I!==0){const T=N.getColor(b),O=this._getViewLineNumberForModelPosition(E.range.startLineNumber,E.range.startColumn),R=this._getViewLineNumberForModelPosition(E.range.endLineNumber,E.range.endColumn);L.accept(T,O,R,I)}}return L.result}getDecorationsInRange(m,g,b){const w=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),L=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);if(L.lineNumber-w.lineNumber<=m.endLineNumber-m.startLineNumber)return this.model.getDecorationsInRange(new M.Range(w.lineNumber,1,L.lineNumber,L.column),g,b);let E=[];const N=w.lineNumber-1,I=L.lineNumber-1;let T=null;for(let D=N;D<=I;D++)if(this.lines[D].isVisible())T===null&&(T=new k.Position(D+1,D===N?w.column:1));else if(T!==null){const A=this.model.getLineMaxColumn(D);E=E.concat(this.model.getDecorationsInRange(new M.Range(T.lineNumber,T.column,D,A),g,b)),T=null}T!==null&&(E=E.concat(this.model.getDecorationsInRange(new M.Range(T.lineNumber,T.column,L.lineNumber,L.column),g,b)),T=null),E.sort((D,B)=>{const A=M.Range.compareRangesUsingStarts(D.range,B.range);return A===0?D.id<B.id?-1:D.id>B.id?1:0:A});let O=[],R=0,F=null;for(const D of E){const B=D.id;F!==B&&(F=B,O[R++]=D)}return O}}e.SplitLinesCollection=o;class c{constructor(){}isVisible(){return!0}setVisible(m){return m?this:a.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(m,g,b){return m.getLineContent(g)}getViewLineLength(m,g,b){return m.getLineLength(g)}getViewLineMinColumn(m,g,b){return m.getLineMinColumn(g)}getViewLineMaxColumn(m,g,b){return m.getLineMaxColumn(g)}getViewLineData(m,g,b){let w=m.getLineTokens(g),L=w.getLineContent();return new d.ViewLineData(L,!1,1,L.length+1,0,w.inflate())}getViewLinesData(m,g,b,w,L,E,N){if(!E[L]){N[L]=null;return}N[L]=this.getViewLineData(m,g,0)}getModelColumnOfViewPosition(m,g){return g}getViewPositionOfModelPosition(m,g){return new k.Position(m,g)}getViewLineNumberOfModelPosition(m,g){return m}}c.INSTANCE=new c;class a{constructor(){}isVisible(){return!1}setVisible(m){return m?c.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(m,g,b){throw new Error("Not supported")}getViewLineLength(m,g,b){throw new Error("Not supported")}getViewLineMinColumn(m,g,b){throw new Error("Not supported")}getViewLineMaxColumn(m,g,b){throw new Error("Not supported")}getViewLineData(m,g,b){throw new Error("Not supported")}getViewLinesData(m,g,b,w,L,E,N){throw new Error("Not supported")}getModelColumnOfViewPosition(m,g){throw new Error("Not supported")}getViewPositionOfModelPosition(m,g){throw new Error("Not supported")}getViewLineNumberOfModelPosition(m,g){throw new Error("Not supported")}}a.INSTANCE=new a;class s{constructor(m,g){this._lineBreakData=m,this._isVisible=g}isVisible(){return this._isVisible}setVisible(m){return this._isVisible=m,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(m){return d.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,0)}getInputEndOffsetOfOutputLineIndex(m,g,b){return b+1===this._lineBreakData.breakOffsets.length?m.getLineMaxColumn(g)-1:d.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,b+1,0)}getViewLineContent(m,g,b){if(!this._isVisible)throw new Error("Not supported");let w=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),E=m.getValueInRange({startLineNumber:g,startColumn:w+1,endLineNumber:g,endColumn:L+1});return b>0&&(E=r(this._lineBreakData.wrappedTextIndentLength)+E),E}getViewLineLength(m,g,b){if(!this._isVisible)throw new Error("Not supported");let w=this.getInputStartOffsetOfOutputLineIndex(b),E=this.getInputEndOffsetOfOutputLineIndex(m,g,b)-w;return b>0&&(E=this._lineBreakData.wrappedTextIndentLength+E),E}getViewLineMinColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return b>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(m,g,b).length+1}getViewLineData(m,g,b){if(!this._isVisible)throw new Error("Not supported");let w=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),E=m.getValueInRange({startLineNumber:g,startColumn:w+1,endLineNumber:g,endColumn:L+1});b>0&&(E=r(this._lineBreakData.wrappedTextIndentLength)+E);let N=b>0?this._lineBreakData.wrappedTextIndentLength+1:1,I=E.length+1,T=b+1<this.getViewLineCount(),O=0;b>0&&(O=this._lineBreakData.wrappedTextIndentLength);let R=m.getLineTokens(g);const F=b===0?0:this._lineBreakData.breakOffsetsVisibleColumn[b-1];return new d.ViewLineData(E,T,N,I,F,R.sliceAndInflate(w,L,O))}getViewLinesData(m,g,b,w,L,E,N){if(!this._isVisible)throw new Error("Not supported");for(let I=b;I<w;I++){let T=L+I-b;if(!E[T]){N[T]=null;continue}N[T]=this.getViewLineData(m,g,I)}}getModelColumnOfViewPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=g-1;return m>0&&(b<this._lineBreakData.wrappedTextIndentLength?b=0:b-=this._lineBreakData.wrappedTextIndentLength),d.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,b)+1}getViewPositionOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=d.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1),w=b.outputLineIndex,L=b.outputOffset+1;return w>0&&(L+=this._lineBreakData.wrappedTextIndentLength),new k.Position(m+w,L)}getViewLineNumberOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");const b=d.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1);return m+b.outputLineIndex}}e.SplitLine=s;let l=[""];function r(v){if(v>=l.length)for(let m=1;m<=v;m++)l[m]=t(m);return l[v]}function t(v){return new Array(v+1).join(" ")}function n(v,m){return v===null?m?c.INSTANCE:a.INSTANCE:new s(v,m)}class i{constructor(m){this._lines=m}_validPosition(m){return this._lines.model.validatePosition(m)}_validRange(m){return this._lines.model.validateRange(m)}convertViewPositionToModelPosition(m){return this._validPosition(m)}convertViewRangeToModelRange(m){return this._validRange(m)}validateViewPosition(m,g){return this._validPosition(g)}validateViewRange(m,g){return this._validRange(g)}convertModelPositionToViewPosition(m){return this._validPosition(m)}convertModelRangeToViewRange(m){return this._validRange(m)}modelPositionIsVisible(m){const g=this._lines.model.getLineCount();return!(m.lineNumber<1||m.lineNumber>g)}getModelLineViewLineCount(m){return 1}}e.IdentityCoordinatesConverter=i;class u{constructor(m){this.model=m}dispose(){}createCoordinatesConverter(){return new i(this)}getHiddenAreas(){return[]}setHiddenAreas(m){return!1}setTabSize(m){return!1}setWrappingSettings(m,g,b,w){return!1}createLineBreaksComputer(){let m=[];return{addRequest:(g,b)=>{m.push(null)},finalize:()=>m}}onModelFlushed(){}onModelLinesDeleted(m,g,b){return new S.ViewLinesDeletedEvent(g,b)}onModelLinesInserted(m,g,b,w){return new S.ViewLinesInsertedEvent(g,b)}onModelLineChanged(m,g,b){return[!1,new S.ViewLinesChangedEvent(g,g),null,null]}acceptVersionId(m){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(m,g,b){return{startLineNumber:m,endLineNumber:m,indent:0}}getViewLinesIndentGuides(m,g){const b=g-m+1;let w=new Array(b);for(let L=0;L<b;L++)w[L]=0;return w}getViewLineContent(m){return this.model.getLineContent(m)}getViewLineLength(m){return this.model.getLineLength(m)}getViewLineMinColumn(m){return this.model.getLineMinColumn(m)}getViewLineMaxColumn(m){return this.model.getLineMaxColumn(m)}getViewLineData(m){let g=this.model.getLineTokens(m),b=g.getLineContent();return new d.ViewLineData(b,!1,1,b.length+1,0,g.inflate())}getViewLinesData(m,g,b){const w=this.model.getLineCount();m=Math.min(Math.max(1,m),w),g=Math.min(Math.max(1,g),w);let L=[];for(let E=m;E<=g;E++){let N=E-m;b[N]||(L[N]=null),L[N]=this.getViewLineData(E)}return L}getAllOverviewRulerDecorations(m,g,b){const w=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const E of w){const N=E.options.overviewRuler,I=N?N.position:0;if(I!==0){const T=N.getColor(b),O=E.range.startLineNumber,R=E.range.endLineNumber;L.accept(T,O,R,I)}}return L.result}getDecorationsInRange(m,g,b){return this.model.getDecorationsInRange(m,g,b)}}e.IdentityLinesCollection=u;class h{constructor(){this.result=Object.create(null)}accept(m,g,b,w){let L=this.result[m];if(L){const E=L[L.length-3],N=L[L.length-1];if(E===w&&N+1>=g){b>N&&(L[L.length-1]=b);return}L.push(w,g,b)}else this.result[m]=[w,g,b]}}}),define(Q[527],J([0,1,29,2,8,37,12,3,18,241,242,166,388,526,62,444,15,17,240,42,169]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class v extends k.Disposable{constructor(g,b,w,L,E,N){super();if(this._editorId=g,this._configuration=b,this.model=w,this._eventDispatcher=new u.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new i.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new r.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new r.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,h&&this.model.isTooLargeForTokenization())this._lines=new a.IdentityLinesCollection(this.model);else{const I=this._configuration.options,T=I.get(38),O=I.get(118),R=I.get(124),F=I.get(117);this._lines=new a.SplitLinesCollection(this.model,L,E,T,this.model.getOptions().tabSize,O,R.wrappingColumn,F)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new n.Cursor(w,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new c.ViewLayout(this._configuration,this.getLineCount(),N)),this._register(this.viewLayout.onDidScroll(I=>{I.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new o.ViewScrollChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new u.ScrollChangedEvent(I.oldScrollWidth,I.oldScrollLeft,I.oldScrollHeight,I.oldScrollTop,I.scrollWidth,I.scrollLeft,I.scrollHeight,I.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(I=>{this._eventDispatcher.emitOutgoingEvent(I)})),this._decorations=new l.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(I=>{try{const T=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(T,I)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(p.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),b=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),w=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(b.lineNumber,w.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new o.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new u.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new o.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new o.ViewThemeChangedEvent)}_onConfigurationChanged(g,b){let w=null;if(this._viewportStartLine!==-1){let R=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));w=this.coordinatesConverter.convertViewPositionToModelPosition(R)}let L=!1;const E=this._configuration.options,N=E.get(38),I=E.get(118),T=E.get(124),O=E.get(117);if(this._lines.setWrappingSettings(N,I,T.wrappingColumn,O)&&(g.emitViewEvent(new o.ViewFlushedEvent),g.emitViewEvent(new o.ViewLineMappingChangedEvent),g.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(L=!0),this._updateConfigurationViewLineCount.schedule()),b.hasChanged(75)&&(this._decorations.reset(),g.emitViewEvent(new o.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new o.ViewConfigurationChangedEvent(b)),this.viewLayout.onConfigurationChanged(b),L&&w){const R=this.coordinatesConverter.convertModelPositionToViewPosition(w),F=this.viewLayout.getVerticalOffsetForLineNumber(R.lineNumber);this.viewLayout.setScrollPosition({scrollTop:F+this._viewportStartLineDelta},1)}i.CursorConfiguration.shouldRecreate(b)&&(this.cursorConfig=new i.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(g=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let w=!1,L=!1;const E=g.changes,N=g.versionId,I=this._lines.createLineBreaksComputer();for(const R of E)switch(R.changeType){case 4:{for(const F of R.detail)I.addRequest(F,null);break}case 2:{I.addRequest(R.detail,null);break}}const T=I.finalize();let O=0;for(const R of E)switch(R.changeType){case 1:{this._lines.onModelFlushed(),b.emitViewEvent(new o.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),w=!0;break}case 3:{const F=this._lines.onModelLinesDeleted(N,R.fromLineNumber,R.toLineNumber);F!==null&&(b.emitViewEvent(F),this.viewLayout.onLinesDeleted(F.fromLineNumber,F.toLineNumber)),w=!0;break}case 4:{const F=T.slice(O,O+R.detail.length);O+=R.detail.length;const D=this._lines.onModelLinesInserted(N,R.fromLineNumber,R.toLineNumber,F);D!==null&&(b.emitViewEvent(D),this.viewLayout.onLinesInserted(D.fromLineNumber,D.toLineNumber)),w=!0;break}case 2:{const F=T[O];O++;const[D,B,A,W]=this._lines.onModelLineChanged(N,R.lineNumber,F);L=D,B&&b.emitViewEvent(B),A&&(b.emitViewEvent(A),this.viewLayout.onLinesInserted(A.fromLineNumber,A.toLineNumber)),W&&(b.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber));break}case 5:break}this._lines.acceptVersionId(N),this.viewLayout.onHeightMaybeChanged(),!w&&L&&(b.emitViewEvent(new o.ViewLineMappingChangedEvent),b.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const b=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(b){const w=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),L=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber);this.viewLayout.setScrollPosition({scrollTop:L+this._viewportStartLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(b,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let b=[];for(let w=0,L=g.ranges.length;w<L;w++){const E=g.ranges[w],N=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(E.fromLineNumber,1)).lineNumber,I=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(E.toLineNumber,this.model.getLineMaxColumn(E.toLineNumber))).lineNumber;b[w]={fromLineNumber:N,toLineNumber:I}}this._eventDispatcher.emitSingleViewEvent(new o.ViewTokensChangedEvent(b)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new o.ViewLanguageConfigurationEvent),this.cursorConfig=new i.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new i.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const b=this._eventDispatcher.beginEmitViewEvents();b.emitViewEvent(new o.ViewFlushedEvent),b.emitViewEvent(new o.ViewLineMappingChangedEvent),b.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new i.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new o.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const b=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(b.emitViewEvent(new o.ViewFlushedEvent),b.emitViewEvent(new o.ViewLineMappingChangedEvent),b.emitViewEvent(new o.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(123),b=this._configuration.options.get(53),w=Math.max(20,Math.round(g.height/b)),L=this.viewLayout.getLinesViewportData(),E=Math.max(1,L.completelyVisibleStartLineNumber-w),N=Math.min(this.getLineCount(),L.completelyVisibleEndLineNumber+w);return this._toModelVisibleRanges(new _.Range(E,this.getLineMinColumn(E),N,this.getLineMaxColumn(N)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const b=this.coordinatesConverter.convertViewRangeToModelRange(g),w=this._lines.getHiddenAreas();if(w.length===0)return[b];let L=[],E=0,N=b.startLineNumber,I=b.startColumn,T=b.endLineNumber,O=b.endColumn;for(let R=0,F=w.length;R<F;R++){const D=w[R].startLineNumber,B=w[R].endLineNumber;B<N||D>T||(N<D&&(L[E++]=new _.Range(N,I,D-1,this.model.getLineMaxColumn(D-1))),N=B+1,I=1)}return(N<T||N===T&&I<O)&&(L[E++]=new _.Range(N,I,T,O)),L}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),b=g.completelyVisibleStartLineNumber,w=g.completelyVisibleEndLineNumber;return new _.Range(b,this.getLineMinColumn(b),w,this.getLineMaxColumn(w))}getCompletelyVisibleViewRangeAtScrollTop(g){const b=this.viewLayout.getLinesViewportDataAtScrollTop(g),w=b.completelyVisibleStartLineNumber,L=b.completelyVisibleEndLineNumber;return new _.Range(w,this.getLineMinColumn(w),L,this.getLineMaxColumn(L))}saveState(){const g=this.viewLayout.saveState(),b=g.scrollTop,w=this.viewLayout.getLineNumberAtVerticalOffset(b),L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(w,this.getLineMinColumn(w))),E=this.viewLayout.getVerticalOffsetForLineNumber(w)-b;return{scrollLeft:g.scrollLeft,firstPosition:L,firstPositionDeltaTop:E}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const b=this.model.validatePosition(g.firstPosition),w=this.coordinatesConverter.convertModelPositionToViewPosition(b),L=this.viewLayout.getVerticalOffsetForLineNumber(w.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:L}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,b,w){this._viewportStartLine=g;let L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new _.Range(L.lineNumber,L.column,L.lineNumber,L.column),1);const E=this.viewLayout.getVerticalOffsetForLineNumber(g),N=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=N-E}getActiveIndentGuide(g,b,w){return this._lines.getActiveIndentGuide(g,b,w)}getLinesIndentGuides(g,b){return this._lines.getViewLinesIndentGuides(g,b)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const b=M.firstNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+1}getLineLastNonWhitespaceColumn(g){const b=M.lastNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getViewLineRenderingData(g,b){let w=this.model.mightContainRTL(),L=this.model.mightContainNonBasicASCII(),E=this.getTabSize(),N=this._lines.getViewLineData(b),T=this._decorations.getDecorationsViewportData(g).inlineDecorations[b-g.startLineNumber];return new s.ViewLineRenderingData(N.minColumn,N.maxColumn,N.content,N.continuesWithWrappedLine,w,L,N.tokens,T,E,N.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,b,w){let L=this._lines.getViewLinesData(g,b,w);return new s.MinimapLinesRenderingData(this.getTabSize(),L)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,y.filterValidationDecorations(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const b of g){const w=b.options.overviewRuler;w&&w.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const b of g){const w=b.options.minimap;w&&w.invalidateCachedColor()}}getValueInRange(g,b){const w=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(w,b)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,b,w){const L=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(b<0?b-=w:b+=w);const N=this.model.getOffsetAt(L)+b;return this.model.getPositionAt(N)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,b,w){const L=w?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(_.Range.compareRangesUsingStarts);let E=!1,N=!1;for(const T of g)T.isEmpty()?E=!0:N=!0;if(!N){if(!b)return"";const T=g.map(R=>R.startLineNumber);let O="";for(let R=0;R<T.length;R++)R>0&&T[R-1]===T[R]||(O+=this.model.getLineContent(T[R])+L);return O}if(E&&b){let T=[],O=0;for(const R of g){const F=R.startLineNumber;R.isEmpty()?F!==O&&T.push(this.model.getLineContent(F)):T.push(this.model.getValueInRange(R,w?2:0)),O=F}return T.length===1?T[0]:T}let I=[];for(const T of g)T.isEmpty()||I.push(this.model.getValueInRange(T,w?2:0));return I.length===1?I[0]:I}getRichTextToCopy(g,b){const w=this.model.getLanguageIdentifier();if(w.id===1||g.length!==1)return null;let L=g[0];if(L.isEmpty()){if(!b)return null;const T=L.startLineNumber;L=new _.Range(T,this.model.getLineMinColumn(T),T,this.model.getLineMaxColumn(T))}const E=this._configuration.options.get(38),N=this._getColorMap(),I=E.fontFamily===y.EDITOR_FONT_DEFAULTS.fontFamily?E.fontFamily:`'${E.fontFamily}', ${y.EDITOR_FONT_DEFAULTS.fontFamily}`;return{mode:w.language,html:`<div style="color: ${N[1]};background-color: ${N[2]};font-family: ${I};font-weight: ${E.fontWeight};font-size: ${E.fontSize}px;line-height: ${E.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(L,N)+"</div>"}}_getHTMLToCopy(g,b){const w=g.startLineNumber,L=g.startColumn,E=g.endLineNumber,N=g.endColumn,I=this.getTabSize();let T="";for(let O=w;O<=E;O++){const R=this.model.getLineTokens(O),F=R.getLineContent(),D=O===w?L-1:0,B=O===E?N-1:F.length;F===""?T+="<br>":T+=f.tokenizeLineToHTML(F,R.inflate(),b,D,B,I,t.isWindows)}return T}_getColorMap(){let g=d.TokenizationRegistry.getColorMap(),b=["#000000"];if(g)for(let w=1,L=g.length;w<L;w++)b[w]=C.Color.Format.CSS.formatHex(g[w]);return b}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,b,w){this._withViewEventsCollector(L=>this._cursor.setStates(L,g,b,w))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,b,w=0){this._withViewEventsCollector(L=>this._cursor.setSelections(L,g,b,w))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(b=>this._cursor.restoreState(b,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new u.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,b,w){this._executeCursorEdit(L=>this._cursor.executeEdits(L,g,b,w))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(b=>this._cursor.endComposition(b,g))}type(g,b){this._executeCursorEdit(w=>this._cursor.type(w,g,b))}replacePreviousChar(g,b,w){this._executeCursorEdit(L=>this._cursor.replacePreviousChar(L,g,b,w))}paste(g,b,w,L){this._executeCursorEdit(E=>this._cursor.paste(E,g,b,w,L))}cut(g){this._executeCursorEdit(b=>this._cursor.cut(b,g))}executeCommand(g,b){this._executeCursorEdit(w=>this._cursor.executeCommand(w,g,b))}executeCommands(g,b){this._executeCursorEdit(w=>this._cursor.executeCommands(w,g,b))}revealPrimaryCursor(g,b){this._withViewEventsCollector(w=>this._cursor.revealPrimary(w,g,b,0))}revealTopMostCursor(g){const b=this._cursor.getTopMostViewPosition(),w=new _.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,w,null,0,!0,0)))}revealBottomMostCursor(g){const b=this._cursor.getBottomMostViewPosition(),w=new _.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,w,null,0,!0,0)))}revealRange(g,b,w,L,E){this._withViewEventsCollector(N=>N.emitViewEvent(new o.ViewRevealRangeRequestEvent(g,w,null,L,b,E)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,b){this.viewLayout.setScrollPosition({scrollTop:g},b)}setScrollPosition(g,b){this.viewLayout.setScrollPosition(g,b)}deltaScrollNow(g,b){this.viewLayout.deltaScrollNow(g,b)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new o.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new u.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const b=this._eventDispatcher.beginEmitViewEvents();g(b)}finally{this._eventDispatcher.endEmitViewEvents()}}}e.ViewModel=v}),define(Q[243],J([0,1,19,25,11,51,3,18,54,174]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class p{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(l,r){let t;typeof l=="string"?t=`${r.id}/${l}`:(t=`${r.id}/${l.name}`,r.children.get(t)!==void 0&&(t=`${r.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let n=t;for(let i=0;r.children.get(n)!==void 0;i++)n=`${t}_${i}`;return n}static empty(l){return l.children.size===0}}e.TreeElement=p;class o extends p{constructor(l,r,t){super();this.id=l,this.parent=r,this.symbol=t,this.children=new Map}}e.OutlineElement=o;class c extends p{constructor(l,r,t,n){super();this.id=l,this.parent=r,this.label=t,this.order=n,this.children=new Map}}e.OutlineGroup=c;class a extends p{constructor(l){super();this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(l,r){let t=this._keys.for(l,!0),n=a._requests.get(t);if(!n){let i=new k.CancellationTokenSource;n={promiseCnt:0,source:i,promise:a._create(l,i.token),model:void 0},a._requests.set(t,n);const u=Date.now();n.promise.then(()=>{this._requestDurations.update(l,Date.now()-u)})}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,r.onCancellationRequested(()=>{--n.promiseCnt==0&&(n.source.cancel(),a._requests.delete(t))}),new Promise((i,u)=>{n.promise.then(h=>{n.model=h,i(h)},h=>{a._requests.delete(t),u(h)})}))}static _create(l,r){const t=new k.CancellationTokenSource(r),n=new a(l.uri),i=_.DocumentSymbolProviderRegistry.ordered(l),u=i.map((v,m)=>{var g;let b=p.findId(`provider_${m}`,n),w=new c(b,n,(g=v.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",m);return Promise.resolve(v.provideDocumentSymbols(l,t.token)).then(L=>{for(const E of L||[])a._makeOutlineElement(E,w);return w},L=>(M.onUnexpectedExternalError(L),w)).then(L=>{p.empty(L)?L.remove():n._groups.set(b,L)})}),h=_.DocumentSymbolProviderRegistry.onDidChange(()=>{const v=_.DocumentSymbolProviderRegistry.ordered(l);C.equals(v,i)||t.cancel()});return Promise.all(u).then(()=>t.token.isCancellationRequested&&!r.isCancellationRequested?a._create(l,r):n._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(l,r){let t=p.findId(l,r),n=new o(t,r,l);if(l.children)for(const i of l.children)a._makeOutlineElement(i,n);r.children.set(n.id,n)}_compact(){let l=0;for(const[r,t]of this._groups)t.children.size===0?this._groups.delete(r):l+=1;if(l!==1)this.children=this._groups;else{let r=d.Iterable.first(this._groups.values());for(let[,t]of r.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const l=[];for(const r of this.children.values())r instanceof o?l.push(r.symbol):l.push(...d.Iterable.map(r.children.values(),t=>t.symbol));return l.sort((r,t)=>S.Range.compareRangesUsingStarts(r.range,t.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),r=[];return a._flattenDocumentSymbols(r,l,""),r.sort((t,n)=>S.Range.compareRangesUsingStarts(t.range,n.range))}static _flattenDocumentSymbols(l,r,t){for(const n of r)l.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||t,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&a._flattenDocumentSymbols(l,n.children,n.name)}}e.OutlineModel=a,a._requestDurations=new f.LanguageFeatureRequestDelays(_.DocumentSymbolProviderRegistry,350),a._requests=new y.LRUCache(9,.75),a._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(s,l){return`${s.id}/${l?s.getVersionId():""}/${this._hash(_.DocumentSymbolProviderRegistry.all(s))}`}_hash(s){let l="";for(const r of s){let t=this._data.get(r);typeof t=="undefined"&&(t=this._counter++,this._data.set(r,t)),l+=t}return l}}}),define(Q[528],J([0,1,170,31,41]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const y=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(p){this.editorModel=p,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(p){let o=M.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),c=o&&!!o.offSide,a=o&&o.markers;return Promise.resolve(d(this.editorModel,c,a))}}e.IndentRangeProvider=S;class _{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,o,c){if(!(p>C.MAX_LINE_NUMBER||o>C.MAX_LINE_NUMBER)){let a=this._length;this._startIndexes[a]=p,this._endIndexes[a]=o,this._length++,c<1e3&&(this._indentOccurrences[c]=(this._indentOccurrences[c]||0)+1)}}toIndentRanges(p){if(this._length<=this._foldingRangesLimit){let o=new Uint32Array(this._length),c=new Uint32Array(this._length);for(let a=this._length-1,s=0;a>=0;a--,s++)o[s]=this._startIndexes[a],c[s]=this._endIndexes[a];return new C.FoldingRegions(o,c)}else{let o=0,c=this._indentOccurrences.length;for(let r=0;r<this._indentOccurrences.length;r++){let t=this._indentOccurrences[r];if(t){if(t+o>this._foldingRangesLimit){c=r;break}o+=t}}const a=p.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),l=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,t=0;r>=0;r--){let n=this._startIndexes[r],i=p.getLineContent(n),u=k.TextModel.computeIndentLevel(i,a);(u<c||u===c&&o++<this._foldingRangesLimit)&&(s[t]=n,l[t]=this._endIndexes[r],t++)}return new C.FoldingRegions(s,l)}}}e.RangesCollector=_;function d(f,p,o,c=y){const a=f.getOptions().tabSize;let s=new _(c),l;o&&(l=new RegExp(`(${o.start.source})|(?:${o.end.source})`));let r=[],t=f.getLineCount()+1;r.push({indent:-1,endAbove:t,line:t});for(let n=f.getLineCount();n>0;n--){let i=f.getLineContent(n),u=k.TextModel.computeIndentLevel(i,a),h=r[r.length-1];if(u===-1){p&&(h.endAbove=n);continue}let v;if(l&&(v=i.match(l)))if(v[1]){let m=r.length-1;for(;m>0&&r[m].indent!==-2;)m--;if(m>0){r.length=m+1,h=r[m],s.insertFirst(n,h.line,u),h.line=n,h.indent=u,h.endAbove=n;continue}}else{r.push({indent:-2,endAbove:n,line:n});continue}if(h.indent>u){do r.pop(),h=r[r.length-1];while(h.indent>u);let m=h.endAbove-1;m-n>=1&&s.insertFirst(n,m,u)}h.indent===u?h.endAbove=n:r.push({indent:u,endAbove:n,line:n})}return s.toIndentRanges(f)}e.computeRanges=d}),define(Q[529],J([0,1,8,175,3,20,108,41,227]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class f{constructor(o,c,a){this._selection=o,this._isMovingDown=c,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(o,c){let a=o.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=c.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=c.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,o.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:l,indentSize:r,insertSpaces:t}=o.getOptions();let n=this.buildIndentConverter(l,r,t),i={getLineTokens:u=>o.getLineTokens(u),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(u,h)=>o.getLanguageIdAtPosition(u,h),getLineContent:null};if(s.startLineNumber===s.endLineNumber&&o.getLineMaxColumn(s.startLineNumber)===1){let u=s.startLineNumber,h=this._isMovingDown?u+1:u-1;o.getLineMaxColumn(h)===1?c.addEditOperation(new M.Range(1,1,1,1),null):(c.addEditOperation(new M.Range(u,1,u,1),o.getLineContent(h)),c.addEditOperation(new M.Range(h,1,h,o.getLineMaxColumn(h)),null)),s=new y.Selection(h,1,h,1)}else{let u,h;if(this._isMovingDown){u=s.endLineNumber+1,h=o.getLineContent(u),c.addEditOperation(new M.Range(u-1,o.getLineMaxColumn(u-1),u,o.getLineMaxColumn(u)),null);let v=h;if(this.shouldAutoIndent(o,s)){let m=this.matchEnterRule(o,n,l,u,s.startLineNumber-1);if(m!==null){let b=C.getLeadingWhitespace(o.getLineContent(u)),w=m+d.getSpaceCnt(b,l);v=d.generateIndent(w,l,t)+this.trimLeft(h)}else{i.getLineContent=w=>w===s.startLineNumber?o.getLineContent(u):o.getLineContent(w);let b=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,i,o.getLanguageIdAtPosition(u,1),s.startLineNumber,n);if(b!==null){let w=C.getLeadingWhitespace(o.getLineContent(u)),L=d.getSpaceCnt(b,l),E=d.getSpaceCnt(w,l);L!==E&&(v=d.generateIndent(L,l,t)+this.trimLeft(h))}}c.addEditOperation(new M.Range(s.startLineNumber,1,s.startLineNumber,1),v+`
`);let g=this.matchEnterRuleMovingDown(o,n,l,s.startLineNumber,u,v);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(o,c,s,l,t,g);else{i.getLineContent=w=>w===s.startLineNumber?v:w>=s.startLineNumber+1&&w<=s.endLineNumber+1?o.getLineContent(w-1):o.getLineContent(w);let b=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,i,o.getLanguageIdAtPosition(u,1),s.startLineNumber+1,n);if(b!==null){const w=C.getLeadingWhitespace(o.getLineContent(s.startLineNumber)),L=d.getSpaceCnt(b,l),E=d.getSpaceCnt(w,l);if(L!==E){const N=L-E;this.getIndentEditsOfMovingBlock(o,c,s,l,t,N)}}}}else c.addEditOperation(new M.Range(s.startLineNumber,1,s.startLineNumber,1),v+`
`)}else if(u=s.startLineNumber-1,h=o.getLineContent(u),c.addEditOperation(new M.Range(u,1,u+1,1),null),c.addEditOperation(new M.Range(s.endLineNumber,o.getLineMaxColumn(s.endLineNumber),s.endLineNumber,o.getLineMaxColumn(s.endLineNumber)),`
`+h),this.shouldAutoIndent(o,s)){i.getLineContent=m=>m===u?o.getLineContent(s.startLineNumber):o.getLineContent(m);let v=this.matchEnterRule(o,n,l,s.startLineNumber,s.startLineNumber-2);if(v!==null)v!==0&&this.getIndentEditsOfMovingBlock(o,c,s,l,t,v);else{let m=_.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,i,o.getLanguageIdAtPosition(s.startLineNumber,1),u,n);if(m!==null){let g=C.getLeadingWhitespace(o.getLineContent(s.startLineNumber)),b=d.getSpaceCnt(m,l),w=d.getSpaceCnt(g,l);if(b!==w){let L=b-w;this.getIndentEditsOfMovingBlock(o,c,s,l,t,L)}}}}}this._selectionId=c.trackSelection(s)}buildIndentConverter(o,c,a){return{shiftIndent:s=>k.ShiftCommand.shiftIndent(s,s.length+1,o,c,a),unshiftIndent:s=>k.ShiftCommand.unshiftIndent(s,s.length+1,o,c,a)}}parseEnterResult(o,c,a,s,l){if(l){let r=l.indentation;l.indentAction===S.IndentAction.None||l.indentAction===S.IndentAction.Indent?r=l.indentation+l.appendText:l.indentAction===S.IndentAction.IndentOutdent?r=l.indentation:l.indentAction===S.IndentAction.Outdent&&(r=c.unshiftIndent(l.indentation)+l.appendText);let t=o.getLineContent(s);if(this.trimLeft(t).indexOf(this.trimLeft(r))>=0){let n=C.getLeadingWhitespace(o.getLineContent(s)),i=C.getLeadingWhitespace(r),u=_.LanguageConfigurationRegistry.getIndentMetadata(o,s);u!==null&&u&2&&(i=c.unshiftIndent(i));let h=d.getSpaceCnt(i,a),v=d.getSpaceCnt(n,a);return h-v}}return null}matchEnterRuleMovingDown(o,c,a,s,l,r){if(C.lastNonWhitespaceIndex(r)>=0){let t=o.getLineMaxColumn(l),n=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,o,new M.Range(l,t,l,t));return this.parseEnterResult(o,c,a,s,n)}else{let t=s-1;for(;t>=1;){let u=o.getLineContent(t);if(C.lastNonWhitespaceIndex(u)>=0)break;t--}if(t<1||s>o.getLineCount())return null;let n=o.getLineMaxColumn(t),i=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,o,new M.Range(t,n,t,n));return this.parseEnterResult(o,c,a,s,i)}}matchEnterRule(o,c,a,s,l,r){let t=l;for(;t>=1;){let u;if(t===l&&r!==void 0?u=r:u=o.getLineContent(t),C.lastNonWhitespaceIndex(u)>=0)break;t--}if(t<1||s>o.getLineCount())return null;let n=o.getLineMaxColumn(t),i=_.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,o,new M.Range(t,n,t,n));return this.parseEnterResult(o,c,a,s,i)}trimLeft(o){return o.replace(/^\s+/,"")}shouldAutoIndent(o,c){if(this._autoIndent<4||!o.isCheapToTokenize(c.startLineNumber))return!1;let a=o.getLanguageIdAtPosition(c.startLineNumber,1),s=o.getLanguageIdAtPosition(c.endLineNumber,1);return!(a!==s||_.LanguageConfigurationRegistry.getIndentRulesSupport(a)===null)}getIndentEditsOfMovingBlock(o,c,a,s,l,r){for(let t=a.startLineNumber;t<=a.endLineNumber;t++){let n=o.getLineContent(t),i=C.getLeadingWhitespace(n),h=d.getSpaceCnt(i,s)+r,v=d.generateIndent(h,s,l);v!==i&&(c.addEditOperation(new M.Range(t,1,t,i.length+1),v),t===a.endLineNumber&&a.endColumn<=i.length+1&&v===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(o,c){let a=c.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}}e.MoveLinesCommand=f}),define(Q[530],J([0,1,7,104,29,99,2,39,3,31,345]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const p=new M.Color(new M.RGBA(0,122,204)),o={showArrow:!0,showFrame:!0,className:"",frameColor:p,arrowColor:p,keepEditorSelection:!1},c="vs.editor.contrib.zoneWidget";class a{constructor(n,i,u,h,v,m){this.id="",this.domNode=n,this.afterLineNumber=i,this.afterColumn=u,this.heightInLines=h,this._onDomNodeTop=v,this._onComputedHeight=m}onDomNodeTop(n){this._onDomNodeTop(n)}onComputedHeight(n){this._onComputedHeight(n)}}e.ViewZoneDelegate=a;class s{constructor(n,i){this._id=n,this._domNode=i}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=s;class l{constructor(n){this._editor=n,this._ruleName=l._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),C.removeCSSRulesContainingSelector(this._ruleName)}set color(n){this._color!==n&&(this._color=n,this._updateStyle())}set height(n){this._height!==n&&(this._height=n,this._updateStyle())}_updateStyle(){C.removeCSSRulesContainingSelector(this._ruleName),C.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(n){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:d.Range.fromPositions(n),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}l._IdGenerator=new y.IdGenerator(".arrow-decoration-");class r{constructor(n,i={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=n,this.options=_.deepClone(i),_.mixin(this.options,o,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(u=>{const h=this._getWidth(u);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(u)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new l(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(n){n.frameColor&&(this.options.frameColor=n.frameColor),n.arrowColor&&(this.options.arrowColor=n.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let n=this.options.frameColor.toString();this.container.style.borderTopColor=n,this.container.style.borderBottomColor=n}if(this._arrow&&this.options.arrowColor){let n=this.options.arrowColor.toString();this._arrow.color=n}}_getWidth(n){return n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}_getLeft(n){return n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?n.minimap.minimapWidth:0}_onViewZoneTop(n){this.domNode.style.top=n+"px"}_onViewZoneHeight(n){if(this.domNode.style.height=`${n}px`,this.container){let i=n-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const u=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(u))}this._resizeSash&&this._resizeSash.layout()}get position(){const[n]=this._positionMarkerId;if(!!n){const i=this.editor.getModel();if(!!i){const u=i.getDecorationRange(n);if(!!u)return u.getStartPosition()}}}show(n,i){const u=d.Range.isIRange(n)?d.Range.lift(n):d.Range.fromPositions(n);this._isShowing=!0,this._showImpl(u,i),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:u,options:f.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let n=this.editor.getOption(53),i=0;if(this.options.showArrow){let u=Math.round(n/3);i+=2*u}if(this.options.showFrame){let u=Math.round(n/9);i+=2*u}return i}_showImpl(n,i){const u=n.getStartPosition(),h=this.editor.getLayoutInfo(),v=this._getWidth(h);this.domNode.style.width=`${v}px`,this.domNode.style.left=this._getLeft(h)+"px";const m=document.createElement("div");m.style.overflow="hidden";const g=this.editor.getOption(53),b=Math.max(12,this.editor.getLayoutInfo().height/g*.8);i=Math.min(i,b);let w=0,L=0;if(this._arrow&&this.options.showArrow&&(w=Math.round(g/3),this._arrow.height=w,this._arrow.show(u)),this.options.showFrame&&(L=Math.round(g/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new a(m,u.lineNumber,u.column,i,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new s(c+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let E=i*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=w+"px",this.container.style.height=E+"px",this.container.style.overflow="hidden"),this._doLayout(E,v),this.options.keepEditorSelection||this.editor.setSelection(n);const N=this.editor.getModel();if(N){const I=n.endLineNumber+1;I<=N.getLineCount()?this.revealLine(I,!1):this.revealLine(N.getLineCount(),!0)}}revealLine(n,i){i?this.editor.revealLineInCenter(n,0):this.editor.revealLine(n,0)}setCssClass(n,i){!this.container||(i&&this.container.classList.remove(i),this.container.classList.add(n))}_onWidth(n){}_doLayout(n,i){}_relayout(n){this._viewZone&&this._viewZone.heightInLines!==n&&this.editor.changeViewZones(i=>{this._viewZone&&(this._viewZone.heightInLines=n,i.layoutZone(this._viewZone.id))})}_initSash(){if(!this._resizeSash){this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let n;this._disposables.add(this._resizeSash.onDidStart(i=>{this._viewZone&&(n={startY:i.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{n=void 0})),this._disposables.add(this._resizeSash.onDidChange(i=>{if(n){let u=(i.currentY-n.startY)/this.editor.getOption(53),h=u<0?Math.ceil(u):Math.floor(u),v=n.heightInLines+h;v>5&&v<35&&this._relayout(v)}}))}}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const n=this.editor.getLayoutInfo();return n.width-n.minimap.minimapWidth}}e.ZoneWidget=r}),define(Q[244],J([0,1,126,18,74,230]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class _{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,i){return this._INSTANCE.create(n,i)}create(n,i){if(n!==null&&n.depth>=this._maxCacheDepth)return new d(n,i);let u=d.getStackElementId(n);u.length>0&&(u+="|"),u+=i;let h=this._entries[u];return h||(h=new d(n,i),this._entries[u]=h,h)}}_._INSTANCE=new _(S);class d{constructor(n,i){this.parent=n,this.state=i,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(n){let i="";for(;n!==null;)i.length>0&&(i+="|"),i+=n.state,n=n.parent;return i}static _equals(n,i){for(;n!==null&&i!==null;){if(n===i)return!0;if(n.state!==i.state)return!1;n=n.parent,i=i.parent}return n===null&&i===null}equals(n){return d._equals(this,n)}push(n){return _.create(this,n)}pop(){return this.parent}popall(){let n=this;for(;n.parent;)n=n.parent;return n}switchTo(n){return _.create(this.parent,n)}}class f{constructor(n,i){this.modeId=n,this.state=i}equals(n){return this.modeId===n.modeId&&this.state.equals(n.state)}clone(){return this.state.clone()===this.state?this:new f(this.modeId,this.state)}}class p{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,i){return this._INSTANCE.create(n,i)}create(n,i){if(i!==null)return new o(n,i);if(n!==null&&n.depth>=this._maxCacheDepth)return new o(n,i);let u=d.getStackElementId(n),h=this._entries[u];return h||(h=new o(n,null),this._entries[u]=h,h)}}p._INSTANCE=new p(S);class o{constructor(n,i){this.stack=n,this.embeddedModeData=i}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:p.create(this.stack,this.embeddedModeData)}equals(n){return!(n instanceof o)||!this.stack.equals(n.stack)?!1:this.embeddedModeData===null&&n.embeddedModeData===null?!0:this.embeddedModeData===null||n.embeddedModeData===null?!1:this.embeddedModeData.equals(n.embeddedModeData)}}class c{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(n,i){this._language=i}emit(n,i){this._lastTokenType===i&&this._lastTokenLanguage===this._language||(this._lastTokenType=i,this._lastTokenLanguage=this._language,this._tokens.push(new C.Token(n,i,this._language)))}nestedModeTokenize(n,i,u,h){const v=u.modeId,m=u.state,g=k.TokenizationRegistry.get(v);if(!g)return this.enterMode(h,v),this.emit(h,""),m;let b=g.tokenize(n,i,m,h);return this._tokens=this._tokens.concat(b.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,b.endState}finalize(n){return new C.TokenizationResult(this._tokens,n)}}class a{constructor(n,i){this._modeService=n,this._theme=i,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(n,i){this._currentLanguageId=this._modeService.getLanguageIdentifier(i).id}emit(n,i){let u=this._theme.match(this._currentLanguageId,i);this._lastTokenMetadata!==u&&(this._lastTokenMetadata=u,this._tokens.push(n),this._tokens.push(u))}static _merge(n,i,u){let h=n!==null?n.length:0,v=i.length,m=u!==null?u.length:0;if(h===0&&v===0&&m===0)return new Uint32Array(0);if(h===0&&v===0)return u;if(v===0&&m===0)return n;let g=new Uint32Array(h+v+m);n!==null&&g.set(n);for(let b=0;b<v;b++)g[h+b]=i[b];return u!==null&&g.set(u,h+v),g}nestedModeTokenize(n,i,u,h){const v=u.modeId,m=u.state,g=k.TokenizationRegistry.get(v);if(!g)return this.enterMode(h,v),this.emit(h,""),m;let b=g.tokenize2(n,i,m,h);return this._prependTokens=a._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(n){return new C.TokenizationResult2(a._merge(this._prependTokens,this._tokens,null),n)}}class s{constructor(n,i,u,h){this._modeService=n,this._standaloneThemeService=i,this._modeId=u,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let v=!1;this._tokenizationRegistryListener=k.TokenizationRegistry.onDidChange(m=>{if(!v){let g=!1;for(let b=0,w=m.changedLanguages.length;b<w;b++){let L=m.changedLanguages[b];if(this._embeddedModes[L]){g=!0;break}}g&&(v=!0,k.TokenizationRegistry.fire([this._modeId]),v=!1)}})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let n=[];for(let i in this._embeddedModes){const u=k.TokenizationRegistry.get(i);if(u){if(u instanceof s){const v=u.getLoadStatus();v.loaded===!1&&n.push(v.promise)}continue}const h=k.TokenizationRegistry.getPromise(i);h&&n.push(h)}return n.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(i=>{})}}getInitialState(){let n=_.create(null,this._lexer.start);return p.create(n,null)}tokenize(n,i,u,h){let v=new c,m=this._tokenize(n,i,u,h,v);return v.finalize(m)}tokenize2(n,i,u,h){let v=new a(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),m=this._tokenize(n,i,u,h,v);return v.finalize(m)}_tokenize(n,i,u,h,v){return u.embeddedModeData?this._nestedTokenize(n,i,u,h,v):this._myTokenize(n,i,u,h,v)}_findLeavingNestedModeOffset(n,i){let u=this._lexer.tokenizer[i.stack.state];if(!u&&(u=y.findRules(this._lexer,i.stack.state),!u))throw y.createError(this._lexer,"tokenizer state is not defined: "+i.stack.state);let h=-1,v=!1;for(const m of u)if(!(!y.isIAction(m.action)||m.action.nextEmbedded!=="@pop")){v=!0;let g=m.regex,b=m.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){let L=(g.ignoreCase?"i":"")+(g.unicode?"u":"");g=new RegExp(b.substr(4,b.length-5),L)}let w=n.search(g);w===-1||w!==0&&m.matchOnlyAtLineStart||(h===-1||w<h)&&(h=w)}if(!v)throw y.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+i.stack.state);return h}_nestedTokenize(n,i,u,h,v){let m=this._findLeavingNestedModeOffset(n,u);if(m===-1){let w=v.nestedModeTokenize(n,i,u.embeddedModeData,h);return p.create(u.stack,new f(u.embeddedModeData.modeId,w))}let g=n.substring(0,m);g.length>0&&v.nestedModeTokenize(g,!1,u.embeddedModeData,h);let b=n.substring(m);return this._myTokenize(b,i,u,h+m,v)}_safeRuleName(n){return n?n.name:"(unknown)"}_myTokenize(n,i,u,h,v){v.enterMode(h,this._modeId);const m=n.length,g=i&&this._lexer.includeLF?n+`
`:n,b=g.length;let w=u.embeddedModeData,L=u.stack,E=0,N=null,I=!0;for(;I||E<b;){const T=E,O=L.depth,R=N?N.groups.length:0,F=L.state;let D=null,B=null,A=null,W=null,V=null;if(N){D=N.matches;const ee=N.groups.shift();B=ee.matched,A=ee.action,W=N.rule,N.groups.length===0&&(N=null)}else{if(!I&&E>=b)break;I=!1;let ee=this._lexer.tokenizer[F];if(!ee&&(ee=y.findRules(this._lexer,F),!ee))throw y.createError(this._lexer,"tokenizer state is not defined: "+F);let re=g.substr(E);for(const te of ee)if((E===0||!te.matchOnlyAtLineStart)&&(D=re.match(te.regex),D)){B=D[0],A=te.action;break}}if(D||(D=[""],B=""),A||(E<b&&(D=[g.charAt(E)],B=D[0]),A=this._lexer.defaultToken),B===null)break;for(E+=B.length;y.isFuzzyAction(A)&&y.isIAction(A)&&A.test;)A=A.test(B,D,F,E===b);let K=null;if(typeof A=="string"||Array.isArray(A))K=A;else if(A.group)K=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?K=y.substituteMatches(this._lexer,A.token,B,D,F):K=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!w)throw y.createError(this._lexer,"cannot pop embedded mode if not inside one");w=null}else{if(w)throw y.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");V=y.substituteMatches(this._lexer,A.nextEmbedded,B,D,F)}if(A.goBack&&(E=Math.max(0,E-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let ee=y.substituteMatches(this._lexer,A.switchTo,B,D,F);if(ee[0]==="@"&&(ee=ee.substr(1)),y.findRules(this._lexer,ee))L=L.switchTo(ee);else throw y.createError(this._lexer,"trying to switch to a state '"+ee+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(A.transform&&typeof A.transform=="function")throw y.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(L.depth>=this._lexer.maxStack)throw y.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(F)}else if(A.next==="@pop"){if(L.depth<=1)throw y.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));L=L.pop()}else if(A.next==="@popall")L=L.popall();else{let ee=y.substituteMatches(this._lexer,A.next,B,D,F);if(ee[0]==="@"&&(ee=ee.substr(1)),y.findRules(this._lexer,ee))L=L.push(ee);else throw y.createError(this._lexer,"trying to set a next state '"+ee+"' that is undefined in rule: "+this._safeRuleName(W))}}A.log&&typeof A.log=="string"&&y.log(this._lexer,this._lexer.languageId+": "+y.substituteMatches(this._lexer,A.log,B,D,F))}if(K===null)throw y.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const j=ee=>{let re=this._modeService.getModeIdForLanguageName(ee);re&&(ee=re);const te=this._getNestedEmbeddedModeData(ee);if(E<b){const ae=n.substr(E);return this._nestedTokenize(ae,i,p.create(L,te),h+E,v)}else return p.create(L,te)};if(Array.isArray(K)){if(N&&N.groups.length>0)throw y.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(D.length!==K.length+1)throw y.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let ee=0;for(let re=1;re<D.length;re++)ee+=D[re].length;if(ee!==B.length)throw y.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));N={rule:W,matches:D,groups:[]};for(let re=0;re<K.length;re++)N.groups[re]={action:K[re],matched:D[re+1]};E-=B.length;continue}else{if(K==="@rematch"&&(E-=B.length,B="",D=null,K="",V!==null))return j(V);if(B.length===0){if(b===0||O!==L.depth||F!==L.state||(N?N.groups.length:0)!==R)continue;throw y.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let ee=null;if(y.isString(K)&&K.indexOf("@brackets")===0){let re=K.substr("@brackets".length),te=l(this._lexer,B);if(!te)throw y.createError(this._lexer,"@brackets token returned but no bracket defined as: "+B);ee=y.sanitize(te.token+re)}else{let re=K===""?"":K+this._lexer.tokenPostfix;ee=y.sanitize(re)}T<m&&v.emit(T+h,ee)}if(V!==null)return j(V)}return p.create(L,w)}_getNestedEmbeddedModeData(n){let i=this._locateMode(n);if(i){let u=k.TokenizationRegistry.get(i);if(u)return new f(i,u.getInitialState())}return new f(i||M.NULL_MODE_ID,M.NULL_STATE)}_locateMode(n){if(!n||!this._modeService.isRegisteredMode(n))return null;if(n===this._modeId)return n;let i=this._modeService.getModeId(n);return i&&(this._modeService.triggerMode(i),this._embeddedModes[i]=!0),i}}e.MonarchTokenizer=s;function l(t,n){if(!n)return null;n=y.fixCase(t,n);let i=t.brackets;for(const u of i){if(u.open===n)return{token:u.token,bracketType:1};if(u.close===n)return{token:u.token,bracketType:-1}}return null}function r(t,n,i,u){return new s(t,n,i,u)}e.createTokenizationSupport=r}),define(Q[531],J([0,1,15,8,112,18,128,62,244]),function(G,e,C,k,M,y,S,_,d){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const p=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("standaloneColorizer",{createHTML:l=>l});class o{static colorizeElement(r,t,n,i){i=i||{};let u=i.theme||"vs",h=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();r.setTheme(u);let v=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+u;let m=g=>{var b;const w=(b=p==null?void 0:p.createHTML(g))!==null&&b!==void 0?b:g;n.innerHTML=w};return this.colorize(t,v||"",h,i).then(m,g=>console.error(g))}static colorize(r,t,n,i){let u=4;i&&typeof i.tabSize=="number"&&(u=i.tabSize),k.startsWithUTF8BOM(t)&&(t=t.substr(1));let h=k.splitLines(t),v=r.getModeId(n);if(!v)return Promise.resolve(a(h,u));r.triggerMode(v);const m=y.TokenizationRegistry.get(v);if(m)return c(h,u,m);const g=y.TokenizationRegistry.getPromise(v);return g?new Promise((b,w)=>{g.then(L=>{c(h,u,L).then(b,w)},w)}):new Promise((b,w)=>{let L=null,E=null;const N=()=>{L&&(L.dispose(),L=null),E&&(E.dispose(),E=null);const I=y.TokenizationRegistry.get(v);if(I){c(h,u,I).then(b,w);return}b(a(h,u))};E=new C.TimeoutTimer,E.cancelAndSet(N,500),L=y.TokenizationRegistry.onDidChange(I=>{I.changedLanguages.indexOf(v)>=0&&N()})})}static colorizeLine(r,t,n,i,u=4){const h=_.ViewLineRenderingData.isBasicASCII(r,t),v=_.ViewLineRenderingData.containsRTL(r,h,n);return S.renderViewLine2(new S.RenderLineInput(!1,!0,r,!1,h,v,0,i,[],u,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,t,n=4){let i=r.getLineContent(t);r.forceTokenization(t);let h=r.getLineTokens(t).inflate();return this.colorizeLine(i,r.mightContainNonBasicASCII(),r.mightContainRTL(),h,n)}}e.Colorizer=o;function c(l,r,t){return new Promise((n,i)=>{const u=()=>{const h=s(l,r,t);if(t instanceof d.MonarchTokenizer){const v=t.getLoadStatus();if(v.loaded===!1){v.promise.then(u,i);return}}n(h)};u()})}function a(l,r){let t=[];const n=(0<<11|1<<14|2<<23)>>>0,i=new Uint32Array(2);i[0]=0,i[1]=n;for(let u=0,h=l.length;u<h;u++){let v=l[u];i[0]=v.length;const m=new M.LineTokens(i,v),g=_.ViewLineRenderingData.isBasicASCII(v,!0),b=_.ViewLineRenderingData.containsRTL(v,g,!0);let w=S.renderViewLine2(new S.RenderLineInput(!1,!0,v,!1,g,b,0,m,[],r,0,0,0,0,-1,"none",!1,!1,null));t=t.concat(w.html),t.push("<br/>")}return t.join("")}function s(l,r,t){let n=[],i=t.getInitialState();for(let u=0,h=l.length;u<h;u++){let v=l[u],m=t.tokenize2(v,!0,i,0);M.LineTokens.convertToEndOffset(m.tokens,v.length);let g=new M.LineTokens(m.tokens,v);const b=_.ViewLineRenderingData.isBasicASCII(v,!0),w=_.ViewLineRenderingData.containsRTL(v,b,!0);let L=S.renderViewLine2(new S.RenderLineInput(!1,!0,v,!1,b,w,0,g.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(L.html),n.push("<br/>"),i=m.endState}return n.join("")}}),define(Q[113],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=C.createDecorator("themeService")}),define(Q[84],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=C.createDecorator("clipboardService")}),define(Q[26],J([0,1,2,21,9,4,71,54]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=M.createDecorator("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(d,f){if(!d)throw new Error("invalid command");if(typeof d=="string"){if(!f)throw new Error("invalid command");return this.registerCommand({id:d,handler:f})}if(d.description){const s=[];for(let r of d.description.args)s.push(r.constraint);const l=d.handler;d.handler=function(r,...t){return k.validateConstraints(t,s),l(r,...t)}}const{id:p}=d;let o=this._commands.get(p);o||(o=new S.LinkedList,this._commands.set(p,o));let c=o.unshift(d),a=C.toDisposable(()=>{c();const s=this._commands.get(p);(s==null?void 0:s.isEmpty())&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),a}registerCommandAlias(d,f){return e.CommandsRegistry.registerCommand(d,(p,...o)=>p.get(e.ICommandService).executeCommand(f,...o))}getCommand(d){const f=this._commands.get(d);if(!(!f||f.isEmpty()))return _.Iterable.first(f)}getCommands(){const d=new Map;for(const f of this._commands.keys()){const p=this.getCommand(f);p&&d.set(f,p)}return d}}}),define(Q[245],J([0,1,19,25,11,23,18,45,2,26,21]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class o{constructor(){this.lenses=[],this._disposables=new d.DisposableStore}dispose(){this._disposables.dispose()}add(s,l){this._disposables.add(s);for(const r of s.lenses)this.lenses.push({symbol:r,provider:l})}}e.CodeLensModel=o;function c(a,s){return De(this,void 0,void 0,function*(){const l=S.CodeLensProviderRegistry.ordered(a),r=new Map,t=new o,n=l.map((i,u)=>De(this,void 0,void 0,function*(){r.set(i,u);try{const h=yield Promise.resolve(i.provideCodeLenses(a,s));h&&t.add(h,i)}catch(h){M.onUnexpectedExternalError(h)}}));return yield Promise.all(n),t.lenses=C.mergeSort(t.lenses,(i,u)=>i.symbol.range.startLineNumber<u.symbol.range.startLineNumber?-1:i.symbol.range.startLineNumber>u.symbol.range.startLineNumber?1:r.get(i.provider)<r.get(u.provider)?-1:r.get(i.provider)>r.get(u.provider)?1:i.symbol.range.startColumn<u.symbol.range.startColumn?-1:i.symbol.range.startColumn>u.symbol.range.startColumn?1:0),t})}e.getCodeLensModel=c,f.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...s){let[l,r]=s;p.assertType(y.URI.isUri(l)),p.assertType(typeof r=="number"||!r);const t=a.get(_.IModelService).getModel(l);if(!t)throw M.illegalArgument();const n=[],i=new d.DisposableStore;return c(t,k.CancellationToken.None).then(u=>{i.add(u);let h=[];for(const v of u.lenses)r==null||Boolean(v.symbol.command)?n.push(v.symbol):r-- >0&&v.provider.resolveCodeLens&&h.push(Promise.resolve(v.provider.resolveCodeLens(t,v.symbol,k.CancellationToken.None)).then(m=>n.push(m||v.symbol)));return Promise.all(h)}).then(()=>n).finally(()=>{setTimeout(()=>i.dispose(),100)})})}),define(Q[246],J([0,1,25,11,23,3,18,45,26]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function f(o,c){const a=[],l=S.ColorProviderRegistry.ordered(o).reverse().map(r=>Promise.resolve(r.provideDocumentColors(o,c)).then(t=>{if(Array.isArray(t))for(let n of t)a.push({colorInfo:n,provider:r})}));return Promise.all(l).then(()=>a)}e.getColors=f;function p(o,c,a,s){return Promise.resolve(a.provideColorPresentations(o,c,s))}e.getColorPresentations=p,d.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(o,...c){const[a]=c;if(!(a instanceof M.URI))throw k.illegalArgument();const s=o.get(_.IModelService).getModel(a);if(!s)throw k.illegalArgument();const l=[],t=S.ColorProviderRegistry.ordered(s).reverse().map(n=>Promise.resolve(n.provideDocumentColors(s,C.CancellationToken.None)).then(i=>{if(Array.isArray(i))for(let u of i)l.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]})}));return Promise.all(t).then(()=>l)}),d.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(o,...c){const[a,s]=c,{uri:l,range:r}=s;if(!(l instanceof M.URI)||!Array.isArray(a)||a.length!==4||!y.Range.isIRange(r))throw k.illegalArgument();const[t,n,i,u]=a,h=o.get(_.IModelService).getModel(l);if(!h)throw k.illegalArgument();const v={range:r,color:{red:t,green:n,blue:i,alpha:u}},m=[],b=S.ColorProviderRegistry.ordered(h).reverse().map(w=>Promise.resolve(w.provideColorPresentations(h,v,C.CancellationToken.None)).then(L=>{Array.isArray(L)&&m.push(...L)}));return Promise.all(b).then(()=>m)})}),define(Q[532],J([0,1,23,45,25,75,243,26,21]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function f(p,o,c){return De(this,void 0,void 0,function*(){const a=yield S.OutlineModel.create(p,c);return o?a.asListOfDocumentSymbols():a.getTopLevelSymbols()})}e.getDocumentSymbols=f,_.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(p,...o){return De(this,void 0,void 0,function*(){const[c]=o;d.assertType(C.URI.isUri(c));const a=p.get(k.IModelService).getModel(c);if(a)return f(a,!1,M.CancellationToken.None);const s=yield p.get(y.ITextModelService).createModelReference(c);try{return yield f(s.object.textEditorModel,!1,M.CancellationToken.None)}finally{s.dispose()}})})}),define(Q[533],J([0,1,25,11,23,3,18,45,26,2,19,21]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class c{constructor(r,t){this._link=r,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return De(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=c;class a{constructor(r){this._disposables=new f.DisposableStore;let t=[];for(const[n,i]of r){const u=n.links.map(h=>new c(h,i));t=a._union(t,u),f.isDisposable(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,t){let n=[],i,u,h,v;for(i=0,h=0,u=r.length,v=t.length;i<u&&h<v;){const m=r[i],g=t[h];if(y.Range.areIntersectingOrTouching(m.range,g.range)){i++;continue}y.Range.compareRangesUsingStarts(m.range,g.range)<0?(n.push(m),i++):(n.push(g),h++)}for(;i<u;i++)n.push(r[i]);for(;h<v;h++)n.push(t[h]);return n}}e.LinksList=a;function s(l,r){const t=[],n=S.LinkProviderRegistry.ordered(l).reverse().map((i,u)=>Promise.resolve(i.provideLinks(l,r)).then(h=>{h&&(t[u]=[h,i])},k.onUnexpectedExternalError));return Promise.all(n).then(()=>{const i=new a(p.coalesce(t));return r.isCancellationRequested?(i.dispose(),new a([])):i})}e.getLinks=s,d.CommandsRegistry.registerCommand("_executeLinkProvider",(l,...r)=>De(void 0,void 0,void 0,function*(){let[t,n]=r;o.assertType(t instanceof M.URI),typeof n!="number"&&(n=0);const i=l.get(_.IModelService).getModel(t);if(!i)return[];const u=yield s(i,C.CancellationToken.None);if(!u)return[];for(let v=0;v<Math.min(n,u.links.length);v++)yield u.links[v].resolve(C.CancellationToken.None);const h=u.links.slice(0);return u.dispose(),h}))}),define(Q[16],J([0,1,8,9,17]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let y=M.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",M.isMacintosh),S.set("isLinux",M.isLinux),S.set("isWindows",M.isWindows),S.set("isWeb",M.isWeb),S.set("isMacNative",M.isMacintosh&&!M.isWeb),S.set("isEdge",y.indexOf("Edg/")>=0),S.set("isFirefox",y.indexOf("Firefox")>=0),S.set("isChrome",y.indexOf("Chrome")>=0),S.set("isSafari",y.indexOf("Safari")>=0),S.set("isIPad",y.indexOf("iPad")>=0);const _=Object.prototype.hasOwnProperty;class d{static has(I){return c.create(I)}static equals(I,T){return a.create(I,T)}static regex(I,T){return v.create(I,T)}static not(I){return t.create(I)}static and(...I){return g.create(I)}static or(...I){return b.create(I)}static deserialize(I,T=!1){if(!!I)return this._deserializeOrExpression(I,T)}static _deserializeOrExpression(I,T){let O=I.split("||");return b.create(O.map(R=>this._deserializeAndExpression(R,T)))}static _deserializeAndExpression(I,T){let O=I.split("&&");return g.create(O.map(R=>this._deserializeOne(R,T)))}static _deserializeOne(I,T){if(I=I.trim(),I.indexOf("!=")>=0){let O=I.split("!=");return r.create(O[0].trim(),this._deserializeValue(O[1],T))}if(I.indexOf("==")>=0){let O=I.split("==");return a.create(O[0].trim(),this._deserializeValue(O[1],T))}if(I.indexOf("=~")>=0){let O=I.split("=~");return v.create(O[0].trim(),this._deserializeRegexValue(O[1],T))}if(I.indexOf(" in ")>=0){let O=I.split(" in ");return s.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(I)){const O=I.split(">=");return i.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(I)){const O=I.split(">");return n.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(I)){const O=I.split("<=");return h.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(I)){const O=I.split("<");return u.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(I)?t.create(I.substr(1).trim()):c.create(I)}static _deserializeValue(I,T){if(I=I.trim(),I==="true")return!0;if(I==="false")return!1;let O=/^'([^']*)'$/.exec(I);return O?O[1].trim():I}static _deserializeRegexValue(I,T){if(C.isFalsyOrWhitespace(I)){if(T)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=I.indexOf("/"),R=I.lastIndexOf("/");if(O===R||O<0){if(T)throw new Error(`bad regexp-value '${I}', missing /-enclosure`);return console.warn(`bad regexp-value '${I}', missing /-enclosure`),null}let F=I.slice(O+1,R),D=I[R+1]==="i"?"i":"";try{return new RegExp(F,D)}catch(B){if(T)throw new Error(`bad regexp-value '${I}', parse error: ${B}`);return console.warn(`bad regexp-value '${I}', parse error: ${B}`),null}}}e.ContextKeyExpr=d;function f(N,I){return N.cmp(I)}class p{constructor(){this.type=0}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!1}serialize(){return"false"}keys(){return[]}negate(){return o.INSTANCE}}e.ContextKeyFalseExpr=p,p.INSTANCE=new p;class o{constructor(){this.type=1}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!0}serialize(){return"true"}keys(){return[]}negate(){return p.INSTANCE}}e.ContextKeyTrueExpr=o,o.INSTANCE=new o;class c{constructor(I){this.key=I,this.type=2}static create(I){const T=S.get(I);return typeof T=="boolean"?T?o.INSTANCE:p.INSTANCE:new c(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!!I.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return t.create(this.key)}}e.ContextKeyDefinedExpr=c;class a{constructor(I,T){this.key=I,this.value=T,this.type=4}static create(I,T){if(typeof T=="boolean")return T?c.create(I):t.create(I);const O=S.get(I);return typeof O=="boolean"?T===(O?"true":"false")?o.INSTANCE:p.INSTANCE:new a(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return r.create(this.key,this.value)}}e.ContextKeyEqualsExpr=a;class s{constructor(I,T){this.key=I,this.valueKey=T,this.type=10}static create(I,T){return new s(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.valueKey,I.key,I.valueKey)}equals(I){return I.type===this.type?this.key===I.key&&this.valueKey===I.valueKey:!1}evaluate(I){const T=I.getValue(this.valueKey),O=I.getValue(this.key);return Array.isArray(T)?T.indexOf(O)>=0:typeof O=="string"&&typeof T=="object"&&T!==null?_.call(T,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return l.create(this)}}e.ContextKeyInExpr=s;class l{constructor(I){this._actual=I,this.type=11}static create(I){return new l(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=l;class r{constructor(I,T){this.key=I,this.value=T,this.type=5}static create(I,T){if(typeof T=="boolean")return T?t.create(I):c.create(I);const O=S.get(I);return typeof O=="boolean"?T===(O?"true":"false")?p.INSTANCE:o.INSTANCE:new r(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return a.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=r;class t{constructor(I){this.key=I,this.type=3}static create(I){const T=S.get(I);return typeof T=="boolean"?T?p.INSTANCE:o.INSTANCE:new t(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!I.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return c.create(this.key)}}e.ContextKeyNotExpr=t;class n{constructor(I,T){this.key=I,this.value=T,this.type=12}static create(I,T){return new n(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=n;class i{constructor(I,T){this.key=I,this.value=T,this.type=13}static create(I,T){return new i(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return u.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=i;class u{constructor(I,T){this.key=I,this.value=T,this.type=14}static create(I,T){return new u(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return i.create(this.key,this.value)}}e.ContextKeySmallerExpr=u;class h{constructor(I,T){this.key=I,this.value=T,this.type=15}static create(I,T){return new h(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:E(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return n.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class v{constructor(I,T){this.key=I,this.regexp=T,this.type=7}static create(I,T){return new v(I,T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.key<I.key)return-1;if(this.key>I.key)return 1;const T=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return T<O?-1:T>O?1:0}equals(I){if(I.type===this.type){const T=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return this.key===I.key&&T===O}return!1}evaluate(I){let T=I.getValue(this.key);return this.regexp?this.regexp.test(T):!1}serialize(){const I=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${I}`}keys(){return[this.key]}negate(){return m.create(this)}}e.ContextKeyRegexExpr=v;class m{constructor(I){this._actual=I,this.type=8}static create(I){return new m(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;class g{constructor(I){this.expr=I,this.type=6}static create(I){return g._normalizeArr(I)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,O=this.expr.length;T<O;T++){const R=f(this.expr[T],I.expr[T]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].evaluate(I))return!1;return!0}static _normalizeArr(I){const T=[];let O=!1;for(const R of I)if(!!R){if(R.type===1){O=!0;continue}if(R.type===0)return p.INSTANCE;if(R.type===6){T.push(...R.expr);continue}T.push(R)}if(T.length===0&&O)return o.INSTANCE;if(T.length!==0){if(T.length===1)return T[0];for(T.sort(f);T.length>1;){const R=T[T.length-1];if(R.type!==9)break;T.pop();const F=T.pop(),D=b.create(R.expr.map(B=>g.create([B,F])));D&&(T.push(D),T.sort(f))}return T.length===1?T[0]:new g(T)}}serialize(){return this.expr.map(I=>I.serialize()).join(" && ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let T of this.expr)I.push(T.negate());return b.create(I)}}e.ContextKeyAndExpr=g;class b{constructor(I){this.expr=I,this.type=9}static create(I){const T=b._normalizeArr(I);if(T.length!==0)return T.length===1?T[0]:new b(T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,O=this.expr.length;T<O;T++){const R=f(this.expr[T],I.expr[T]);if(R!==0)return R}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,O=this.expr.length;T<O;T++)if(this.expr[T].evaluate(I))return!0;return!1}static _normalizeArr(I){let T=[],O=!1;if(I){for(let R=0,F=I.length;R<F;R++){const D=I[R];if(!!D){if(D.type===0){O=!0;continue}if(D.type===1)return[o.INSTANCE];if(D.type===9){T=T.concat(D.expr);continue}T.push(D)}}if(T.length===0&&O)return[p.INSTANCE];T.sort(f)}return T}serialize(){return this.expr.map(I=>I.serialize()).join(" || ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let O of this.expr)I.push(O.negate());const T=O=>O.type===9?O.expr:[O];for(;I.length>1;){const O=I.shift(),R=I.shift(),F=[];for(const D of T(O))for(const B of T(R))F.push(d.and(D,B));I.unshift(d.or(...F))}return I[0]}}e.ContextKeyOrExpr=b;class w extends c{constructor(I,T){super(I);this._defaultValue=T}bindTo(I){return I.createKey(this.key,this._defaultValue)}getValue(I){return I.getContextKeyValue(this.key)}toNegated(){return d.not(this.key)}isEqualTo(I){return d.equals(this.key,I)}}e.RawContextKey=w,e.IContextKeyService=k.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function L(N,I){return N<I?-1:N>I?1:0}function E(N,I,T,O){return N<T?-1:N>T?1:I<O?-1:I>O?1:0}}),define(Q[24],J([0,1,16]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(M){M.editorSimpleInput=new C.RawContextKey("editorSimpleInput",!1),M.editorTextFocus=new C.RawContextKey("editorTextFocus",!1),M.focus=new C.RawContextKey("editorFocus",!1),M.textInputFocus=new C.RawContextKey("textInputFocus",!1),M.readOnly=new C.RawContextKey("editorReadonly",!1),M.inDiffEditor=new C.RawContextKey("inDiffEditor",!1),M.columnSelection=new C.RawContextKey("editorColumnSelection",!1),M.writable=M.readOnly.toNegated(),M.hasNonEmptySelection=new C.RawContextKey("editorHasSelection",!1),M.hasOnlyEmptySelection=M.hasNonEmptySelection.toNegated(),M.hasMultipleSelections=new C.RawContextKey("editorHasMultipleSelections",!1),M.hasSingleSelection=M.hasMultipleSelections.toNegated(),M.tabMovesFocus=new C.RawContextKey("editorTabMovesFocus",!1),M.tabDoesNotMoveFocus=M.tabMovesFocus.toNegated(),M.isInWalkThroughSnippet=new C.RawContextKey("isInEmbeddedEditor",!1),M.canUndo=new C.RawContextKey("canUndo",!1),M.canRedo=new C.RawContextKey("canRedo",!1),M.hoverVisible=new C.RawContextKey("editorHoverVisible",!1),M.inCompositeEditor=new C.RawContextKey("inCompositeEditor",void 0),M.notInCompositeEditor=M.inCompositeEditor.toNegated(),M.languageId=new C.RawContextKey("editorLangId",""),M.hasCompletionItemProvider=new C.RawContextKey("editorHasCompletionItemProvider",!1),M.hasCodeActionsProvider=new C.RawContextKey("editorHasCodeActionsProvider",!1),M.hasCodeLensProvider=new C.RawContextKey("editorHasCodeLensProvider",!1),M.hasDefinitionProvider=new C.RawContextKey("editorHasDefinitionProvider",!1),M.hasDeclarationProvider=new C.RawContextKey("editorHasDeclarationProvider",!1),M.hasImplementationProvider=new C.RawContextKey("editorHasImplementationProvider",!1),M.hasTypeDefinitionProvider=new C.RawContextKey("editorHasTypeDefinitionProvider",!1),M.hasHoverProvider=new C.RawContextKey("editorHasHoverProvider",!1),M.hasDocumentHighlightProvider=new C.RawContextKey("editorHasDocumentHighlightProvider",!1),M.hasDocumentSymbolProvider=new C.RawContextKey("editorHasDocumentSymbolProvider",!1),M.hasReferenceProvider=new C.RawContextKey("editorHasReferenceProvider",!1),M.hasRenameProvider=new C.RawContextKey("editorHasRenameProvider",!1),M.hasSignatureHelpProvider=new C.RawContextKey("editorHasSignatureHelpProvider",!1),M.hasDocumentFormattingProvider=new C.RawContextKey("editorHasDocumentFormattingProvider",!1),M.hasDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1),M.hasMultipleDocumentFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1),M.hasMultipleDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(Q[179],J([0,1,15,11,12,18,16,25,26,23,21,75]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new S.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new S.RawContextKey("parameterHintsMultipleSignatures",!1)};function c(a,s,l,r){const t=y.SignatureHelpProviderRegistry.ordered(a);return C.first(t.map(n=>()=>Promise.resolve(n.provideSignatureHelp(a,s,r,l)).catch(i=>k.onUnexpectedExternalError(i))))}e.provideSignatureHelp=c,d.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(a,...s)=>De(void 0,void 0,void 0,function*(){const[l,r,t]=s;p.assertType(f.URI.isUri(l)),p.assertType(M.Position.isIPosition(r)),p.assertType(typeof t=="string"||!t);const n=yield a.get(o.ITextModelService).createModelReference(l);try{const i=yield c(n.object.textEditorModel,M.Position.lift(r),{triggerKind:y.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:t},_.CancellationToken.None);return i?(setTimeout(()=>i.dispose(),0),i.value):void 0}finally{n.dispose()}}))}),define(Q[534],J([0,1,15,11,4,2,90,18,179]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var f;(function(c){c.Default={type:0};class a{constructor(r,t){this.request=r,this.previouslyActiveHints=t,this.type=2}}c.Pending=a;class s{constructor(r){this.hints=r,this.type=1}}c.Active=s})(f||(f={}));class p extends y.Disposable{constructor(a,s=p.DEFAULT_DELAY){super();this._onChangedHints=this._register(new M.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new y.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=a,this.throttledDelayer=new C.Delayer(s),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(l=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(l=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(l=>this.onCursorChange(l))),this._register(this.editor.onDidChangeModelContent(l=>this.onModelContentChange())),this._register(_.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(l=>this.onDidType(l))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(a){this._state.type===2&&this._state.request.cancel(),this._state=a}cancel(a=!1){this.state=f.Default,this.throttledDelayer.cancel(),a||this._onChangedHints.fire(void 0)}trigger(a,s){const l=this.editor.getModel();if(!(!l||!_.SignatureHelpProviderRegistry.has(l))){const r=++this.triggerId;this._pendingTriggers.push(a),this.throttledDelayer.trigger(()=>this.doTrigger(r),s).catch(k.onUnexpectedError)}}next(){if(this.state.type===1){const a=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s%a==a-1,r=this.editor.getOption(70).cycle;if((a<2||l)&&!r){this.cancel();return}this.updateActiveSignature(l&&r?0:s+1)}}previous(){if(this.state.type===1){const a=this.state.hints.signatures.length,s=this.state.hints.activeSignature,l=s===0,r=this.editor.getOption(70).cycle;if((a<2||l)&&!r){this.cancel();return}this.updateActiveSignature(l&&r?a-1:s-1)}}updateActiveSignature(a){this.state.type===1&&(this.state=new f.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:a})),this._onChangedHints.fire(this.state.hints))}doTrigger(a){return De(this,void 0,void 0,function*(){const s=this.state.type===1||this.state.type===2,l=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(o);this._pendingTriggers=[];const t={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:s,activeSignatureHelp:l};if(!this.editor.hasModel())return!1;const n=this.editor.getModel(),i=this.editor.getPosition();this.state=new f.Pending(C.createCancelablePromise(u=>d.provideSignatureHelp(n,i,t,u)),l);try{const u=yield this.state.request;return a!==this.triggerId?(u==null||u.dispose(),!1):!u||!u.value.signatures||u.value.signatures.length===0?(u==null||u.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new f.Active(u.value),this._lastSignatureHelpResult.value=u,this._onChangedHints.fire(this.state.hints),!0)}catch(u){return a===this.triggerId&&(this.state=f.Default),k.onUnexpectedError(u),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const a=this.editor.getModel();if(!!a)for(const s of _.SignatureHelpProviderRegistry.ordered(a)){for(const l of s.signatureHelpTriggerCharacters||[])this.triggerChars.add(l.charCodeAt(0)),this.retriggerChars.add(l.charCodeAt(0));for(const l of s.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(l.charCodeAt(0))}}onDidType(a){if(!!this.triggerOnType){const s=a.length-1,l=a.charCodeAt(s);(this.triggerChars.has(l)||this.isTriggered&&this.retriggerChars.has(l))&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:a.charAt(s)})}}onCursorChange(a){a.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(70).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=p,p.DEFAULT_DELAY=120;function o(c,a){switch(a.triggerKind){case _.SignatureHelpTriggerKind.Invoke:return a;case _.SignatureHelpTriggerKind.ContentChange:return c;case _.SignatureHelpTriggerKind.TriggerCharacter:default:return a}}});var pe=this&&this.__param||function(G,e){return function(C,k){e(C,k,G)}};define(Q[535],J([0,1,16]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let k=class rt{constructor(y,S){this._editor=y,this._index=0,this._ckOtherSuggestions=rt.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:S},_){if(y.items.length===0){this.reset();return}if(rt._moveIndex(!0,y,S)===S){this.reset();return}this._acceptNext=_,this._model=y,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,S,_){let d=_;for(;d=(d+S.items.length+(y?1:-1))%S.items.length,!(d===_||!S.items[d].completion.additionalTextEdits););return d}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(!!this._model)try{this._ignore=!0,this._index=rt._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};k.OtherSuggestions=new C.RawContextKey("hasOtherSuggestions",!1),k=Me([pe(1,C.IContextKeyService)],k),e.SuggestAlternatives=k}),define(Q[536],J([0,1,16,2]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let M=class Dt extends k.Disposable{constructor(S,_){super();this._editor=S,this._enabled=!1,this._ckAtEnd=Dt.AtEnd.bindTo(_),this._register(this._editor.onDidChangeConfiguration(d=>d.hasChanged(106)&&this._update())),this._update()}dispose(){var S;super.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(106)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const _=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const d=this._editor.getModel(),f=this._editor.getSelection(),p=d.getWordAtPosition(f.getStartPosition());if(!p){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(p.endColumn===f.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(_),_()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};M.AtEnd=new C.RawContextKey("atEndOfWord",!1),M=Me([pe(1,C.IContextKeyService)],M),e.WordContextKey=M}),define(Q[64],J([0,1,9,16]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=C.createDecorator("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new k.RawContextKey("accessibilityModeEnabled",!1)}),define(Q[35],J([0,1,48,9,16,26,2,4,54,71]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function p(s){return s.command!==void 0}e.isIMenuItem=p;class o{constructor(l){this.id=o._idPool++,this._debugName=l}}e.MenuId=o,o._idPool=0,o.CommandPalette=new o("CommandPalette"),o.EditorContext=new o("EditorContext"),o.EditorContextPeek=new o("EditorContextPeek"),o.MenubarEditMenu=new o("MenubarEditMenu"),o.MenubarGoMenu=new o("MenubarGoMenu"),o.MenubarSelectionMenu=new o("MenubarSelectionMenu"),e.IMenuService=k.createDecorator("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new _.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:s=>s===o.CommandPalette}}addCommand(s){return this.addCommands(d.Iterable.single(s))}addCommands(s){for(const l of s)this._commands.set(l.id,l);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),S.toDisposable(()=>{let l=!1;for(const r of s)l=this._commands.delete(r.id)||l;l&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((l,r)=>s.set(r,l)),s}appendMenuItem(s,l){return this.appendMenuItems(d.Iterable.single({id:s,item:l}))}appendMenuItems(s){const l=new Set,r=new f.LinkedList;for(const{id:t,item:n}of s){let i=this._menuItems.get(t);i||(i=new f.LinkedList,this._menuItems.set(t,i)),r.push(i.push(n)),l.add(t)}return this._onDidChangeMenu.fire(l),S.toDisposable(()=>{if(r.size>0){for(let t of r)t();this._onDidChangeMenu.fire(l),r.clear()}})}getMenuItems(s){let l;return this._menuItems.has(s)?l=[...this._menuItems.get(s)]:l=[],s===o.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(s){const l=new Set;for(const r of s)p(r)&&(l.add(r.command.id),r.alt&&l.add(r.alt.id));this._commands.forEach((r,t)=>{l.has(t)||s.push({command:r})})}};class c extends C.SubmenuAction{constructor(l,r,t,n){const i=[],u=r.createMenu(l.submenu,t),h=u.getActions(n);u.dispose();for(let v of h){const[,m]=v;m.length>0&&(i.push(...m),i.push(new C.Separator))}i.length&&i.pop(),super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,i,"submenu"),this.item=l}}e.SubmenuItemAction=c;let a=class Nt{constructor(l,r,t,n,i){var u;if(this._commandService=i,this.id=l.id,this.label=typeof l.title=="string"?l.title:l.title.value,this.tooltip=(u=l.tooltip)!==null&&u!==void 0?u:"",this.enabled=!l.precondition||n.contextMatchesRules(l.precondition),this.checked=!1,l.toggled){const h=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=n.contextMatchesRules(h.condition),this.checked&&h.tooltip&&(this.tooltip=typeof h.tooltip=="string"?h.tooltip:h.tooltip.value)}this.item=l,this.alt=r?new Nt(r,void 0,t,n,i):void 0,this._options=t}dispose(){}run(...l){var r,t;let n=[];return((r=this._options)===null||r===void 0?void 0:r.arg)&&(n=[...n,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(n=[...n,...l]),this._commandService.executeCommand(this.id,...n)}};a=Me([pe(3,M.IContextKeyService),pe(4,y.ICommandService)],a),e.MenuItemAction=a}),define(Q[114],J([0,1,11,18,12,16,25,3,66,2,35,130,80,26,21,23,75]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new y.RawContextKey("suggestWidgetVisible",!1),DetailsVisible:new y.RawContextKey("suggestWidgetDetailsVisible",!1),MultipleSuggestions:new y.RawContextKey("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new y.RawContextKey("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new y.RawContextKey("acceptSuggestionOnEnter",!0),HasInsertAndReplaceRange:new y.RawContextKey("suggestionHasInsertAndReplaceRange",!1),InsertMode:new y.RawContextKey("suggestionInsertMode",void 0),CanResolve:new y.RawContextKey("suggestionCanResolve",!1)},e.suggestWidgetStatusbarMenu=new p.MenuId("suggestWidgetStatusBar");class t{constructor(T,O,R,F){this.position=T,this.completion=O,this.container=R,this.provider=F,this.isInvalid=!1,this.score=d.FuzzyScore.Default,this.distance=0,this.textLabel=typeof O.label=="string"?O.label:O.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=O.sortText&&O.sortText.toLowerCase(),this.filterTextLow=O.filterText&&O.filterText.toLowerCase(),_.Range.isIRange(O.range)?(this.editStart=new M.Position(O.range.startLineNumber,O.range.startColumn),this.editInsertEnd=new M.Position(O.range.endLineNumber,O.range.endColumn),this.editReplaceEnd=new M.Position(O.range.endLineNumber,O.range.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(O.range)||O.range.startLineNumber!==T.lineNumber):(this.editStart=new M.Position(O.range.insert.startLineNumber,O.range.insert.startColumn),this.editInsertEnd=new M.Position(O.range.insert.endLineNumber,O.range.insert.endColumn),this.editReplaceEnd=new M.Position(O.range.replace.endLineNumber,O.range.replace.endColumn),this.isInvalid=this.isInvalid||_.Range.spansMultipleLines(O.range.insert)||_.Range.spansMultipleLines(O.range.replace)||O.range.insert.startLineNumber!==T.lineNumber||O.range.replace.startLineNumber!==T.lineNumber||O.range.insert.startColumn!==O.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(T){return De(this,void 0,void 0,function*(){if(!this._resolveCache){const O=T.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,T)).then(R=>{Object.assign(this.completion,R),this._isResolved=!0,O.dispose()},R=>{C.isPromiseCanceledError(R)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=t;class n{constructor(T=2,O=new Set,R=new Set){this.snippetSortOrder=T,this.kindFilter=O,this.providerFilter=R}}e.CompletionOptions=n,n.default=new n;let i;function u(){return i}e.getSnippetSuggestSupport=u;class h{constructor(T,O,R,F){this.items=T,this.needsClipboard=O,this.durations=R,this.disposable=F}}e.CompletionItemModel=h;function v(I,T,O=n.default,R={triggerKind:0},F=S.CancellationToken.None){return De(this,void 0,void 0,function*(){const D=new c.StopWatch(!0);T=T.clone();const B=I.getWordAtPosition(T),A=B?new _.Range(T.lineNumber,B.startColumn,T.lineNumber,B.endColumn):_.Range.fromPositions(T),W={replace:A,insert:A.setEndPosition(T.lineNumber,T.column)},V=[],K=new f.DisposableStore,j=[];let ee=!1;const re=(ae,Y,P)=>{var x,z;if(!!Y){for(let U of Y.suggestions)O.kindFilter.has(U.kind)||(U.range||(U.range=W),U.sortText||(U.sortText=typeof U.label=="string"?U.label:U.label.name),!ee&&U.insertTextRules&&U.insertTextRules&4&&(ee=o.SnippetParser.guessNeedsClipboard(U.insertText)),V.push(new t(T,U,Y,ae)));f.isDisposable(Y)&&K.add(Y),j.push({providerName:(x=ae._debugDisplayName)!==null&&x!==void 0?x:"unkown_provider",elapsedProvider:(z=Y.duration)!==null&&z!==void 0?z:-1,elapsedOverall:P.elapsed()})}},te=(()=>De(this,void 0,void 0,function*(){if(!(!i||O.kindFilter.has(27))&&!(O.providerFilter.size>0&&!O.providerFilter.has(i))){const ae=new c.StopWatch(!0),Y=yield i.provideCompletionItems(I,T,R,F);re(i,Y,ae)}}))();for(let ae of k.CompletionProviderRegistry.orderedGroups(I)){let Y=V.length;if(yield Promise.all(ae.map(P=>De(this,void 0,void 0,function*(){if(!(O.providerFilter.size>0&&!O.providerFilter.has(P)))try{const x=new c.StopWatch(!0),z=yield P.provideCompletionItems(I,T,R,F);re(P,z,x)}catch(x){C.onUnexpectedExternalError(x)}}))),Y!==V.length||F.isCancellationRequested)break}return yield te,F.isCancellationRequested?(K.dispose(),Promise.reject(C.canceled())):new h(V.sort(L(O.snippetSortOrder)),ee,{entries:j,elapsed:D.elapsed()},K)})}e.provideSuggestionItems=v;function m(I,T){if(I.sortTextLow&&T.sortTextLow){if(I.sortTextLow<T.sortTextLow)return-1;if(I.sortTextLow>T.sortTextLow)return 1}return I.completion.label<T.completion.label?-1:I.completion.label>T.completion.label?1:I.completion.kind-T.completion.kind}function g(I,T){if(I.completion.kind!==T.completion.kind){if(I.completion.kind===27)return-1;if(T.completion.kind===27)return 1}return m(I,T)}function b(I,T){if(I.completion.kind!==T.completion.kind){if(I.completion.kind===27)return 1;if(T.completion.kind===27)return-1}return m(I,T)}const w=new Map;w.set(0,g),w.set(2,b),w.set(1,m);function L(I){return w.get(I)}e.getSuggestionComparator=L,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(I,...T)=>De(void 0,void 0,void 0,function*(){const[O,R,F,D]=T;s.assertType(l.URI.isUri(O)),s.assertType(M.Position.isIPosition(R)),s.assertType(typeof F=="string"||!F),s.assertType(typeof D=="number"||!D);const B=yield I.get(r.ITextModelService).createModelReference(O);try{const A={incomplete:!1,suggestions:[]},W=[],V=yield v(B.object.textEditorModel,M.Position.lift(R),void 0,{triggerCharacter:F,triggerKind:F?1:0});for(const K of V.items)W.length<(D!=null?D:0)&&W.push(K.resolve(S.CancellationToken.None)),A.incomplete=A.incomplete||K.container.incomplete,A.suggestions.push(K.completion);try{return yield Promise.all(W),A}finally{setTimeout(()=>V.disposable.dispose(),100)}}finally{B.dispose()}}));const E=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let T={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,T}};k.CompletionProviderRegistry.register("*",E);function N(I,T){setTimeout(()=>{E.onlyOnceSuggestions.push(...T),I.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(E))},0)}e.showSimpleSuggestions=N}),define(Q[537],J([0,1,15,4,2,35,26,16]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let d=class{constructor(o){this._commandService=o}createMenu(o,c){return new f(o,this._commandService,c,this)}};d=Me([pe(0,S.ICommandService)],d),e.MenuService=d;let f=class tt{constructor(o,c,a,s){this._id=o,this._commandService=c,this._contextKeyService=a,this._menuService=s,this._dispoables=new M.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const l=new C.RunOnceScheduler(()=>this._build(),50);this._dispoables.add(l),this._dispoables.add(y.MenuRegistry.onDidChangeMenu(t=>{t.has(o)&&l.schedule()}));const r=new C.RunOnceScheduler(()=>this._onDidChange.fire(this),50);this._dispoables.add(r),this._dispoables.add(a.onDidChangeContext(t=>{t.affectsSome(this._contextKeys)&&r.schedule()}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const o=y.MenuRegistry.getMenuItems(this._id);let c;o.sort(tt._compareMenuItems);for(let a of o){const s=a.group||"";if((!c||c[0]!==s)&&(c=[s,[]],this._menuGroups.push(c)),c[1].push(a),tt._fillInKbExprKeys(a.when,this._contextKeys),y.isIMenuItem(a)&&a.command.precondition&&tt._fillInKbExprKeys(a.command.precondition,this._contextKeys),y.isIMenuItem(a)&&a.command.toggled){const l=a.command.toggled.condition||a.command.toggled;tt._fillInKbExprKeys(l,this._contextKeys)}}this._onDidChange.fire(this)}getActions(o){const c=[];for(let a of this._menuGroups){const[s,l]=a,r=[];for(const t of l)if(this._contextKeyService.contextMatchesRules(t.when)){const n=y.isIMenuItem(t)?new y.MenuItemAction(t.command,t.alt,o,this._contextKeyService,this._commandService):new y.SubmenuItemAction(t,this._menuService,this._contextKeyService,o);r.push(n)}r.length>0&&c.push([s,r])}return c}static _fillInKbExprKeys(o,c){if(o)for(let a of o.keys())c.add(a)}static _compareMenuItems(o,c){let a=o.group,s=c.group;if(a!==s){if(a){if(!s)return-1}else return 1;if(a==="navigation")return-1;if(s==="navigation")return 1;let t=a.localeCompare(s);if(t!==0)return t}let l=o.order||0,r=c.order||0;return l<r?-1:l>r?1:tt._compareTitles(y.isIMenuItem(o)?o.command.title:o.title,y.isIMenuItem(c)?c.command.title:c.title)}static _compareTitles(o,c){const a=typeof o=="string"?o:o.original,s=typeof c=="string"?c:c.original;return a.localeCompare(s)}};f=Me([pe(1,S.ICommandService),pe(2,_.IContextKeyService),pe(3,y.IMenuService)],f)}),define(Q[68],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=C.createDecorator("contextViewService"),e.IContextMenuService=C.createDecorator("contextMenuService")}),define(Q[180],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=C.createDecorator("dialogService")}),define(Q[136],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class C{constructor(...M){this._entries=new Map;for(let[y,S]of M)this.set(y,S)}set(M,y){const S=this._entries.get(M);return this._entries.set(M,y),S}has(M){return this._entries.has(M)}get(M){return this._entries.get(M)}}e.ServiceCollection=C}),define(Q[538],J([0,1,11,519,236,9,136,15]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const d=!1;class f extends Error{constructor(a){super("cyclic dependency between services");this.message=a.toString()}}class p{constructor(a=new S.ServiceCollection,s=!1,l){this._services=a,this._strict=s,this._parent=l,this._services.set(y.IInstantiationService,this)}createChild(a){return new p(a,this._strict,this)}invokeFunction(a,...s){let l=o.traceInvocation(a),r=!1;try{return a({get:(n,i)=>{if(r)throw C.illegalState("service accessor is only valid during the invocation of its target method");const u=this._getOrCreateServiceInstance(n,l);if(!u&&i!==y.optional)throw new Error(`[invokeFunction] unknown service '${n}'`);return u}},...s)}finally{r=!0,l.stop()}}createInstance(a,...s){let l,r;return a instanceof M.SyncDescriptor?(l=o.traceCreation(a.ctor),r=this._createInstance(a.ctor,a.staticArguments.concat(s),l)):(l=o.traceCreation(a),r=this._createInstance(a,s,l)),l.stop(),r}_createInstance(a,s=[],l){let r=y._util.getServiceDependencies(a).sort((i,u)=>i.index-u.index),t=[];for(const i of r){let u=this._getOrCreateServiceInstance(i.id,l);if(!u&&this._strict&&!i.optional)throw new Error(`[createInstance] ${a.name} depends on UNKNOWN service ${i.id}.`);t.push(u)}let n=r.length>0?r[0].index:s.length;if(s.length!==n){console.warn(`[createInstance] First service dependency of ${a.name} at position ${n+1} conflicts with ${s.length} static arguments`);let i=n-s.length;i>0?s=s.concat(new Array(i)):s=s.slice(0,n)}return new a(...[...s,...t])}_setServiceInstance(a,s){if(this._services.get(a)instanceof M.SyncDescriptor)this._services.set(a,s);else if(this._parent)this._parent._setServiceInstance(a,s);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){let s=this._services.get(a);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):s}_getOrCreateServiceInstance(a,s){let l=this._getServiceInstanceOrDescriptor(a);return l instanceof M.SyncDescriptor?this._createAndCacheServiceInstance(a,l,s.branch(a,!0)):(s.branch(a,!1),l)}_createAndCacheServiceInstance(a,s,l){const r=new k.Graph(i=>i.id.toString());let t=0;const n=[{id:a,desc:s,_trace:l}];for(;n.length;){const i=n.pop();if(r.lookupOrInsertNode(i),t++>1e3)throw new f(r);for(let u of y._util.getServiceDependencies(i.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(u.id);if(!h&&!u.optional&&console.warn(`[createInstance] ${a} depends on ${u.id} which is NOT registered.`),h instanceof M.SyncDescriptor){const v={id:u.id,desc:h,_trace:i._trace.branch(u.id,!0)};r.insertEdge(i,v),n.push(v)}}}for(;;){const i=r.roots();if(i.length===0){if(!r.isEmpty())throw new f(r);break}for(const{data:u}of i){if(this._getServiceInstanceOrDescriptor(u.id)instanceof M.SyncDescriptor){const v=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setServiceInstance(u.id,v)}r.removeNode(u)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,s,l=[],r,t){if(this._services.get(a)instanceof M.SyncDescriptor)return this._createServiceInstance(s,l,r,t);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,s,l,r,t);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(a,s=[],l,r){if(l){const t=new _.IdleValue(()=>this._createInstance(a,s,r));return new Proxy(Object.create(null),{get(n,i){if(i in n)return n[i];let u=t.value,h=u[i];return typeof h!="function"||(h=h.bind(u),n[i]=h),h},set(n,i,u){return t.value[i]=u,!0}})}else return this._createInstance(a,s,r)}}e.InstantiationService=p;class o{constructor(a,s){this.type=a,this.name=s,this._start=Date.now(),this._dep=[]}static traceInvocation(a){return d?new o(1,a.name||a.toString().substring(0,42).replace(/\n/g,"")):o._None}static traceCreation(a){return d?new o(0,a.name):o._None}branch(a,s){let l=new o(2,a.toString());return this._dep.push([a,s,l]),l}stop(){let a=Date.now()-this._start;o._totals+=a;let s=!1;function l(t,n){let i=[],u=new Array(t+1).join("	");for(const[h,v,m]of n._dep)if(v&&m){s=!0,i.push(`${u}CREATES -> ${h}`);let g=l(t+1,m);g&&i.push(g)}else i.push(`${u}uses -> ${h}`);return i.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${l(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${o._totals.toFixed(2)}ms)`];(a>2||s)&&console.log(r.join(`
`))}}o._None=new class extends o{constructor(){super(-1,null)}stop(){}branch(){return this}},o._totals=0}),define(Q[539],J([0,1,507,15,4,2]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends y.Disposable{constructor(d,f,p,o,c){super();this._contextKeyService=d,this._commandService=f,this._telemetryService=p,this._notificationService=o,this._logService=c,this._onDidUpdateKeybindings=this._register(new M.Emitter),this._currentChord=null,this._currentChordChecker=new k.IntervalTimer,this._currentChordStatusMessage=null,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:M.Event.None}dispose(){super.dispose()}_log(d){this._logging&&this._logService.info(`[KeybindingService]: ${d}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(d){const f=this._getResolver().lookupPrimaryKeybinding(d);if(!!f)return f.resolvedKeybinding}dispatchEvent(d,f){return this._dispatch(d,f)}softDispatch(d,f){const p=this.resolveKeyboardEvent(d);if(p.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[o]=p.getDispatchParts();if(o===null)return null;const c=this._contextKeyService.getContext(f),a=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(c,a,o)}_enterChordMode(d,f){this._currentChord={keypress:d,label:f},this._currentChordStatusMessage=this._notificationService.status(C.localize(0,null,f));const p=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-p>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(d,f){return this._doDispatch(this.resolveKeyboardEvent(d),f)}_doDispatch(d,f){let p=!1;if(d.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;const[o]=d.getDispatchParts();if(o===null)return this._log("\\ Keyboard event cannot be dispatched."),p;const c=this._contextKeyService.getContext(f),a=this._currentChord?this._currentChord.keypress:null,s=d.getLabel(),l=this._getResolver().resolve(c,a,o);return this._logService.trace("KeybindingService#dispatch",s,l==null?void 0:l.commandId),l&&l.enterChord?(p=!0,this._enterChordMode(o,s),p):(this._currentChord&&(!l||!l.commandId)&&(this._notificationService.status(C.localize(1,null,this._currentChord.label,s),{hideAfter:10*1e3}),p=!0),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(p=!0),typeof l.commandArgs=="undefined"?this._commandService.executeCommand(l.commandId).then(void 0,r=>this._notificationService.warn(r)):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,r=>this._notificationService.warn(r)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),p)}mightProducePrintableCharacter(d){return d.ctrlKey||d.metaKey?!1:d.keyCode>=31&&d.keyCode<=56||d.keyCode>=21&&d.keyCode<=30}}e.AbstractKeybindingService=S}),define(Q[540],J([0,1,11,233,38]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class y extends M.ResolvedKeybinding{constructor(_,d){super();if(d.length===0)throw C.illegalArgument("parts");this._os=_,this._parts=d}getLabel(){return k.UILabelProvider.toLabel(this._os,this._parts,_=>this._getLabel(_))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._parts,_=>this._getAriaLabel(_))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(_=>this._getPart(_))}_getPart(_){return new M.ResolvedKeybindingPart(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,this._getLabel(_),this._getAriaLabel(_))}getDispatchParts(){return this._parts.map(_=>this._getDispatchPart(_))}}e.BaseResolvedKeybinding=y}),define(Q[36],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=C.createDecorator("keybindingService")}),define(Q[247],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class C{constructor(S,_,d){this._log=d,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let f=0,p=S.length;f<p;f++){const o=S[f].command;o&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=C.combine(S,_);for(let f=0,p=this._keybindings.length;f<p;f++){let o=this._keybindings[f];o.keypressParts.length!==0&&(o.when&&o.when.type===0||this._addKeyPress(o.keypressParts[0],o))}}static _isTargetedForRemoval(S,_,d,f,p){return!(S.command!==f||_&&S.keypressParts[0]!==_||d&&S.keypressParts[1]!==d||p&&(!S.when||!p.equals(S.when)))}static combine(S,_){S=S.slice(0);let d=[];for(const f of _){if(!f.command||f.command.length===0||f.command.charAt(0)!=="-"){d.push(f);continue}const p=f.command.substr(1),o=f.keypressParts[0],c=f.keypressParts[1],a=f.when;for(let s=S.length-1;s>=0;s--)this._isTargetedForRemoval(S[s],o,c,p,a)&&S.splice(s,1)}return S.concat(d)}_addKeyPress(S,_){const d=this._map.get(S);if(typeof d=="undefined"){this._map.set(S,[_]),this._addToLookupMap(_);return}for(let f=d.length-1;f>=0;f--){let p=d[f];if(p.command!==_.command){const o=p.keypressParts.length>1,c=_.keypressParts.length>1;o&&c&&p.keypressParts[1]!==_.keypressParts[1]||C.whenIsEntirelyIncluded(p.when,_.when)&&this._removeFromLookupMap(p)}}d.push(_),this._addToLookupMap(_)}_addToLookupMap(S){if(!!S.command){let _=this._lookupMap.get(S.command);typeof _=="undefined"?(_=[S],this._lookupMap.set(S.command,_)):_.push(S)}}_removeFromLookupMap(S){if(!!S.command){let _=this._lookupMap.get(S.command);if(typeof _!="undefined"){for(let d=0,f=_.length;d<f;d++)if(_[d]===S){_.splice(d,1);return}}}}static whenIsEntirelyIncluded(S,_){return _?S?this._implies(S,_):!1:!0}static _implies(S,_){const d=S.negate(),f=o=>o.type===9?o.expr:[o];let p=f(d).concat(f(_));for(let o=0;o<p.length;o++){const a=p[o].negate();for(let s=o+1;s<p.length;s++){const l=p[s];if(a.equals(l))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S){let _=this._lookupMap.get(S);return typeof _=="undefined"||_.length===0?null:_[_.length-1]}resolve(S,_,d){this._log(`| Resolving ${d}${_?` chorded from ${_}`:""}`);let f=null;if(_!==null){const o=this._map.get(_);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;f=[];for(let c=0,a=o.length;c<a;c++){let s=o[c];s.keypressParts[1]===d&&f.push(s)}}else{const o=this._map.get(d);if(typeof o=="undefined")return this._log("\\ No keybinding entries."),null;f=o}let p=this._findCommand(S,f);return p?_===null&&p.keypressParts.length>1&&p.keypressParts[1]!==null?(this._log(`\\ From ${f.length} keybinding entries, matched chord, when: ${k(p.when)}, source: ${M(p)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${f.length} keybinding entries, matched ${p.command}, when: ${k(p.when)}, source: ${M(p)}.`),{enterChord:!1,leaveChord:p.keypressParts.length>1,commandId:p.command,commandArgs:p.commandArgs,bubble:p.bubble}):(this._log(`\\ From ${f.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,_){for(let d=_.length-1;d>=0;d--){let f=_[d];if(!!C.contextMatchesRules(S,f.when))return f}return null}static contextMatchesRules(S,_){return _?_.evaluate(S):!0}}e.KeybindingResolver=C;function k(y){return y?`${y.serialize()}`:"no when condition"}function M(y){return y.extensionId?y.isBuiltinExtension?`built-in extension ${y.extensionId}`:`user extension ${y.extensionId}`:y.isDefault?"built-in":"user"}}),define(Q[541],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class C{constructor(y,S,_,d,f,p,o){this.resolvedKeybinding=y,this.keypressParts=y?k(y.getDispatchParts()):[],this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=_,this.when=d,this.isDefault=f,this.extensionId=p,this.isBuiltinExtension=o}}e.ResolvedKeybindingItem=C;function k(M){let y=[];for(let S=0,_=M.length;S<_;S++){const d=M[S];if(!d)return y;y.push(d)}return y}e.removeElementsAfterNulls=k}),define(Q[542],J([0,1,38,540]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class M extends k.BaseResolvedKeybinding{constructor(S,_){super(_,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return C.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":C.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return M.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let _="";return S.ctrlKey&&(_+="ctrl+"),S.shiftKey&&(_+="shift+"),S.altKey&&(_+="alt+"),S.metaKey&&(_+="meta+"),_+=C.KeyCodeUtils.toString(S.keyCode),_}}e.USLayoutResolvedKeybinding=M}),define(Q[137],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=C.createDecorator("labelService")}),define(Q[138],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=C.createDecorator("layoutService")}),define(Q[543],J([0,1,202,2,138]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let y=class extends k.Disposable{constructor(_){super();this.layoutService=_,this.currentViewDisposable=k.Disposable.None,this.container=_.container,this.contextView=this._register(new C.ContextView(this.container,1)),this.layout(),this._register(_.onLayout(()=>this.layout()))}setContainer(_,d){this.contextView.setContainer(_,d||1)}showContextView(_,d,f){d?d!==this.container&&(this.container=d,this.setContainer(d,f?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(_);const p=k.toDisposable(()=>{this.currentViewDisposable===p&&this.hideContextView()});return this.currentViewDisposable=p,p}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(_){this.contextView.hide(_)}};y=Me([pe(0,M.ILayoutService)],y),e.ContextViewService=y}),define(Q[76],J([0,1,9,2,4]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleLogService=e.AbstractLogService=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=C.createDecorator("logService");var y;(function(d){d[d.Trace=0]="Trace",d[d.Debug=1]="Debug",d[d.Info=2]="Info",d[d.Warning=3]="Warning",d[d.Error=4]="Error",d[d.Critical=5]="Critical",d[d.Off=6]="Off"})(y=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=y.Info;class S extends k.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new M.Emitter)}setLevel(f){this.level!==f&&(this.level=f,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogService=S;class _ extends S{constructor(f=e.DEFAULT_LOG_LEVEL){super();this.setLevel(f)}trace(f,...p){this.getLevel()<=y.Trace&&console.log("%cTRACE","color: #888",f,...p)}debug(f,...p){this.getLevel()<=y.Debug&&console.log("%cDEBUG","background: #eee; color: #888",f,...p)}info(f,...p){this.getLevel()<=y.Info&&console.log("%c INFO","color: #33f",f,...p)}error(f,...p){this.getLevel()<=y.Error&&console.log("%c  ERR","color: #f33",f,...p)}dispose(){}}e.ConsoleLogService=_}),define(Q[248],J([0,1,15,2,199,287,3,18,41,379,45,135,8,19,76,80,11]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const t=60*1e3,n=5*60*1e3;function i(L,E){let N=L.getModel(E);return!(!N||N.isTooLargeForSyncing())}let u=class extends k.Disposable{constructor(E,N,I){super();this._modelService=E,this._workerManager=this._register(new v(this._modelService)),this._logService=I,this._register(_.LinkProviderRegistry.register("*",{provideLinks:(T,O)=>i(this._modelService,T.uri)?this._workerManager.withWorker().then(R=>R.computeLinks(T.uri)).then(R=>R&&{links:R}):Promise.resolve({links:[]})})),this._register(_.CompletionProviderRegistry.register("*",new h(this._workerManager,N,this._modelService)))}dispose(){super.dispose()}canComputeDiff(E,N){return i(this._modelService,E)&&i(this._modelService,N)}computeDiff(E,N,I,T){return this._workerManager.withWorker().then(O=>O.computeDiff(E,N,I,T))}computeMoreMinimalEdits(E,N){if(a.isNonEmptyArray(N)){if(!i(this._modelService,E))return Promise.resolve(N);const I=l.StopWatch.create(!0),T=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(E,N));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",E.toString(!0),I.elapsed())),Promise.race([T,C.timeout(1e3).then(()=>N)])}else return Promise.resolve(void 0)}canNavigateValueSet(E){return i(this._modelService,E)}navigateValueSet(E,N,I){return this._workerManager.withWorker().then(T=>T.navigateValueSet(E,N,I))}canComputeWordRanges(E){return i(this._modelService,E)}computeWordRanges(E,N){return this._workerManager.withWorker().then(I=>I.computeWordRanges(E,N))}};u=Me([pe(0,p.IModelService),pe(1,o.ITextResourceConfigurationService),pe(2,s.ILogService)],u),e.EditorWorkerServiceImpl=u;class h{constructor(E,N,I){this._debugDisplayName="wordbasedCompletions",this._workerManager=E,this._configurationService=N,this._modelService=I}provideCompletionItems(E,N){return De(this,void 0,void 0,function*(){const I=this._configurationService.getValue(E.uri,N,"editor");if(!!I.wordBasedSuggestions){const T=[];if(I.wordBasedSuggestionsMode==="currentDocument")i(this._modelService,E.uri)&&T.push(E.uri);else for(const W of this._modelService.getModels())!i(this._modelService,W.uri)||(W===E?T.unshift(W.uri):(I.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageIdentifier().id===E.getLanguageIdentifier().id)&&T.push(W.uri));if(T.length!==0){const O=d.LanguageConfigurationRegistry.getWordDefinition(E.getLanguageIdentifier().id),R=E.getWordAtPosition(N),F=R?new S.Range(N.lineNumber,R.startColumn,N.lineNumber,R.endColumn):S.Range.fromPositions(N),D=F.setEndPosition(N.lineNumber,N.column),A=yield(yield this._workerManager.withWorker()).textualSuggest(T,R==null?void 0:R.word,O);if(!!A)return{duration:A.duration,suggestions:A.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:D,replace:F}}))}}}})}}class v extends k.Disposable{constructor(E){super();this._modelService=E,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new C.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(n/2)),this._register(this._modelService.onModelRemoved(I=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){!this._editorWorkerClient||this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){!this._editorWorkerClient||new Date().getTime()-this._lastWorkerUsedTime>n&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new w(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class m extends k.Disposable{constructor(E,N,I){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=E,this._modelService=N,!I){let T=new C.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(t/2)),this._register(T)}}dispose(){for(let E in this._syncedModels)k.dispose(this._syncedModels[E]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(E){for(const N of E){let I=N.toString();this._syncedModels[I]||this._beginModelSync(N),this._syncedModels[I]&&(this._syncedModelsLastUsedTime[I]=new Date().getTime())}}_checkStopModelSync(){let E=new Date().getTime(),N=[];for(let I in this._syncedModelsLastUsedTime)E-this._syncedModelsLastUsedTime[I]>t&&N.push(I);for(const I of N)this._stopModelSync(I)}_beginModelSync(E){let N=this._modelService.getModel(E);if(!!N&&!N.isTooLargeForSyncing()){let I=E.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const T=new k.DisposableStore;T.add(N.onDidChangeContent(O=>{this._proxy.acceptModelChanged(I.toString(),O)})),T.add(N.onWillDispose(()=>{this._stopModelSync(I)})),T.add(k.toDisposable(()=>{this._proxy.acceptRemovedModel(I)})),this._syncedModels[I]=T}}_stopModelSync(E){let N=this._syncedModels[E];delete this._syncedModels[E],delete this._syncedModelsLastUsedTime[E],k.dispose(N)}}class g{constructor(E){this._instance=E,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class b{constructor(E){this._workerClient=E}fhr(E,N){return this._workerClient.fhr(E,N)}}e.EditorWorkerHost=b;class w extends k.Disposable{constructor(E,N,I){super();this._disposed=!1,this._modelService=E,this._keepIdleModels=N,this._workerFactory=new y.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(E,N){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new M.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(E){M.logOnceWebWorkerWarning(E),this._worker=new g(new f.EditorSimpleWorker(new b(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,E=>(M.logOnceWebWorkerWarning(E),this._worker=new g(new f.EditorSimpleWorker(new b(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(E){return this._modelManager||(this._modelManager=this._register(new m(E,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(E){return this._disposed?Promise.reject(r.canceled()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(E),N))}computeDiff(E,N,I,T){return this._withSyncedResources([E,N]).then(O=>O.computeDiff(E.toString(),N.toString(),I,T))}computeMoreMinimalEdits(E,N){return this._withSyncedResources([E]).then(I=>I.computeMoreMinimalEdits(E.toString(),N))}computeLinks(E){return this._withSyncedResources([E]).then(N=>N.computeLinks(E.toString()))}textualSuggest(E,N,I){return De(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(E),O=I.source,R=c.regExpFlags(I);return T.textualSuggest(E.map(F=>F.toString()),N,O,R)})}computeWordRanges(E,N){return this._withSyncedResources([E]).then(I=>{let T=this._modelService.getModel(E);if(!T)return Promise.resolve(null);let O=d.LanguageConfigurationRegistry.getWordDefinition(T.getLanguageIdentifier().id),R=O.source,F=c.regExpFlags(O);return I.computeWordRanges(E.toString(),N,R,F)})}navigateValueSet(E,N,I){return this._withSyncedResources([E]).then(T=>{let O=this._modelService.getModel(E);if(!O)return null;let R=d.LanguageConfigurationRegistry.getWordDefinition(O.getLanguageIdentifier().id),F=R.source,D=c.regExpFlags(R);return T.navigateValueSet(E.toString(),N,I,F,D)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=w}),define(Q[249],J([0,1,18,76,133]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class y{constructor(p,o,c){this._legend=p,this._themeService=o,this._logService=c,this._hashTable=new d}getMetadata(p,o,c){const a=this._hashTable.get(p,o,c.id);let s;if(a)s=a.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${p} / ${o}: foreground ${C.TokenMetadata.getForeground(s)}, fontStyle ${C.TokenMetadata.getFontStyle(s).toString(2)}`);else{let l=this._legend.tokenTypes[p];const r=[];if(l){let t=o;for(let i=0;t>0&&i<this._legend.tokenModifiers.length;i++)t&1&&r.push(this._legend.tokenModifiers[i]),t=t>>1;t>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${o.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(l,r,c.language);typeof n=="undefined"?s=2147483647:(s=0,typeof n.italic!="undefined"&&(s|=(n.italic?1:0)<<11|1),typeof n.bold!="undefined"&&(s|=(n.bold?2:0)<<11|2),typeof n.underline!="undefined"&&(s|=(n.underline?4:0)<<11|4),n.foreground&&(s|=n.foreground<<14|8),s===0&&(s=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${p} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,l="not-in-legend";this._hashTable.add(p,o,c.id,s),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${p} (${l}) / ${o} (${r.join(" ")}): foreground ${C.TokenMetadata.getForeground(s)}, fontStyle ${C.TokenMetadata.getFontStyle(s).toString(2)}`)}return s}}e.SemanticTokensProviderStyling=y;function S(f,p,o){const c=f.data,a=f.data.length/5|0,s=Math.max(Math.ceil(a/1024),400),l=[];let r=0,t=1,n=0;for(;r<a;){const i=r;let u=Math.min(i+s,a);if(u<a){let b=u;for(;b-1>i&&c[5*b]===0;)b--;if(b-1===i){let w=u;for(;w+1<a&&c[5*w]===0;)w++;u=w}else u=b}let h=new Uint32Array((u-i)*4),v=0,m=0;for(;r<u;){const b=5*r,w=c[b],L=c[b+1],E=t+w,N=w===0?n+L:L,I=c[b+2],T=c[b+3],O=c[b+4],R=p.getMetadata(T,O,o);R!==2147483647&&(m===0&&(m=E),h[v]=E-m,h[v+1]=N,h[v+2]=N+I,h[v+3]=R,v+=4),t=E,n=N,r++}v!==h.length&&(h=h.subarray(0,v));const g=new M.MultilineTokens2(m,new M.SparseEncodedTokens(h));l.push(g)}return l}e.toMultilineTokens2=S;class _{constructor(p,o,c,a){this.tokenTypeIndex=p,this.tokenModifierSet=o,this.languageId=c,this.metadata=a,this.next=null}}class d{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(p,o){for(let c=0;c<o;c++)p[c]=null}_hash2(p,o){return(p<<5)-p+o|0}_hashFunc(p,o,c){return this._hash2(this._hash2(p,o),c)%this._currentLength}get(p,o,c){const a=this._hashFunc(p,o,c);let s=this._elements[a];for(;s;){if(s.tokenTypeIndex===p&&s.tokenModifierSet===o&&s.languageId===c)return s;s=s.next}return null}add(p,o,c,a){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const s=this._elements;this._currentLengthIndex++,this._currentLength=d._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<d._SIZES.length?2/3*this._currentLength:0),this._elements=[],d._nullOutEntries(this._elements,this._currentLength);for(const l of s){let r=l;for(;r;){const t=r.next;r.next=null,this._add(r),r=t}}}this._add(new _(p,o,c,a))}_add(p){const o=this._hashFunc(p.tokenTypeIndex,p.tokenModifierSet,p.languageId);p.next=this._elements[o],this._elements[o]=p}}d._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(Q[544],J([0,1,248,21]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function M(S,_){return new y(S,_)}e.createWebWorker=M;class y extends C.EditorWorkerClient{constructor(_,d){super(_,d.keepIdleModels||!1,d.label);this._foreignModuleId=d.moduleId,this._foreignModuleCreateData=d.createData||null,this._foreignModuleHost=d.host||null,this._foreignProxy=null}fhr(_,d){if(!this._foreignModuleHost||typeof this._foreignModuleHost[_]!="function")return Promise.reject(new Error("Missing method "+_+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[_].apply(this._foreignModuleHost,d))}catch(f){return Promise.reject(f)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(_=>{const d=this._foreignModuleHost?k.getAllMethodNames(this._foreignModuleHost):[];return _.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,d).then(f=>{this._foreignModuleCreateData=null;const p=(a,s)=>_.fmr(a,s),o=(a,s)=>function(){const l=Array.prototype.slice.call(arguments,0);return s(a,l)};let c={};for(const a of f)c[a]=o(a,p);return c})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(_){return this._withSyncedResources(_).then(d=>this.getProxy())}}}),define(Q[85],J([0,1,9,509,81]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var y;(function(_){_[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error"})(y=e.MarkerSeverity||(e.MarkerSeverity={})),function(_){function d(a,s){return s-a}_.compare=d;const f=Object.create(null);f[_.Error]=k.localize(0,null),f[_.Warning]=k.localize(1,null),f[_.Info]=k.localize(2,null);function p(a){return f[a]||""}_.toString=p;function o(a){switch(a){case M.default.Error:return _.Error;case M.default.Warning:return _.Warning;case M.default.Info:return _.Info;case M.default.Ignore:return _.Hint}}_.fromSeverity=o;function c(a){switch(a){case _.Error:return M.default.Error;case _.Warning:return M.default.Warning;case _.Info:return M.default.Info;case _.Hint:return M.default.Ignore}}_.toSeverity=c}(y=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(_){const d="";function f(o){return p(o,!0)}_.makeKey=f;function p(o,c){let a=[d];return o.source?a.push(o.source.replace("\xA6","\\\xA6")):a.push(d),o.code?typeof o.code=="string"?a.push(o.code.replace("\xA6","\\\xA6")):a.push(o.code.value.replace("\xA6","\\\xA6")):a.push(d),o.severity!==void 0&&o.severity!==null?a.push(y.toString(o.severity)):a.push(d),o.message&&c?a.push(o.message.replace("\xA6","\\\xA6")):a.push(d),o.startLineNumber!==void 0&&o.startLineNumber!==null?a.push(o.startLineNumber.toString()):a.push(d),o.startColumn!==void 0&&o.startColumn!==null?a.push(o.startColumn.toString()):a.push(d),o.endLineNumber!==void 0&&o.endLineNumber!==null?a.push(o.endLineNumber.toString()):a.push(d),o.endColumn!==void 0&&o.endColumn!==null?a.push(o.endColumn.toString()):a.push(d),a.push(d),a.join("\xA6")}_.makeKeyOptionalMessage=p})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=C.createDecorator("markerService")}),define(Q[545],J([0,1,85,23,4,2,3,8,19,9,72,71]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class c{constructor(r,t,n){this.marker=r,this.index=t,this.total=n}}e.MarkerCoordinate=c;let a=class kt{constructor(r,t){this._markerService=t,this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,k.URI.isUri(r)?this._resourceFilter=i=>i.toString()===r.toString():r&&(this._resourceFilter=r);const n=()=>{this._markers=this._markerService.read({resource:k.URI.isUri(r)?r:void 0,severities:C.MarkerSeverity.Error|C.MarkerSeverity.Warning|C.MarkerSeverity.Info}),typeof r=="function"&&(this._markers=this._markers.filter(i=>this._resourceFilter(i.resource))),this._markers.sort(kt._compareMarker)};n(),this._dispoables.add(t.onMarkerChanged(i=>{(!this._resourceFilter||i.some(u=>this._resourceFilter(u)))&&(n(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(r){return!this._resourceFilter&&!r?!0:!this._resourceFilter||!r?!1:this._resourceFilter(r)}get selected(){const r=this._markers[this._nextIdx];return r&&new c(r,this._nextIdx+1,this._markers.length)}_initIdx(r,t,n){let i=!1,u=this._markers.findIndex(h=>h.resource.toString()===r.uri.toString());u<0&&(u=d.binarySearch(this._markers,{resource:r.uri},(h,v)=>_.compare(h.resource.toString(),v.resource.toString())),u<0&&(u=~u));for(let h=u;h<this._markers.length;h++){let v=S.Range.lift(this._markers[h]);if(v.isEmpty()){const m=r.getWordAtPosition(v.getStartPosition());m&&(v=new S.Range(v.startLineNumber,m.startColumn,v.startLineNumber,m.endColumn))}if(t&&(v.containsPosition(t)||t.isBeforeOrEqual(v.getStartPosition()))){this._nextIdx=h,i=!0;break}if(this._markers[h].resource.toString()!==r.uri.toString())break}i||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(r,t,n){if(this._markers.length===0)return!1;let i=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,n,r):r?this._nextIdx=(this._nextIdx+1)%this._markers.length:r||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),i!==this._nextIdx}find(r,t){let n=this._markers.findIndex(i=>i.resource.toString()===r.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(S.Range.containsPosition(this._markers[n],t))return new c(this._markers[n],n+1,this._markers.length)}}static _compareMarker(r,t){let n=_.compare(r.resource.toString(),t.resource.toString());return n===0&&(n=C.MarkerSeverity.compare(r.severity,t.severity)),n===0&&(n=S.Range.compareRangesUsingStarts(r,t)),n}};a=Me([pe(1,C.IMarkerService)],a),e.MarkerList=a,e.IMarkerNavigationService=f.createDecorator("IMarkerNavigationService");let s=class{constructor(r){this._markerService=r,this._provider=new o.LinkedList}getMarkerList(r){for(let t of this._provider){const n=t.getMarkerList(r);if(n)return n}return new a(r,this._markerService)}};s=Me([pe(0,C.IMarkerService)],s),p.registerSingleton(e.IMarkerNavigationService,s,!0)}),define(Q[546],J([0,1,19,43,23,4,85,51,54]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class f{constructor(){this._byResource=new _.ResourceMap,this._byOwner=new Map}set(a,s,l){let r=this._byResource.get(a);r||(r=new Map,this._byResource.set(a,r)),r.set(s,l);let t=this._byOwner.get(s);t||(t=new _.ResourceMap,this._byOwner.set(s,t)),t.set(a,l)}get(a,s){let l=this._byResource.get(a);return l==null?void 0:l.get(s)}delete(a,s){let l=!1,r=!1,t=this._byResource.get(a);t&&(l=t.delete(s));let n=this._byOwner.get(s);if(n&&(r=n.delete(a)),l!==r)throw new Error("illegal state");return l&&r}values(a){var s,l,r,t;return typeof a=="string"?(l=(s=this._byOwner.get(a))===null||s===void 0?void 0:s.values())!==null&&l!==void 0?l:d.Iterable.empty():M.URI.isUri(a)?(t=(r=this._byResource.get(a))===null||r===void 0?void 0:r.values())!==null&&t!==void 0?t:d.Iterable.empty():d.Iterable.map(d.Iterable.concat(...this._byOwner.values()),n=>n[1])}}class p{constructor(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new _.ResourceMap,this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(a){for(const s of a){const l=this._data.get(s);l&&this._substract(l);const r=this._resourceStats(s);this._add(r),this._data.set(s,r)}}_resourceStats(a){const s={errors:0,warnings:0,infos:0,unknowns:0};if(a.scheme===k.Schemas.inMemory||a.scheme===k.Schemas.walkThrough||a.scheme===k.Schemas.walkThroughSnippet)return s;for(const{severity:l}of this._service.read({resource:a}))l===S.MarkerSeverity.Error?s.errors+=1:l===S.MarkerSeverity.Warning?s.warnings+=1:l===S.MarkerSeverity.Info?s.infos+=1:s.unknowns+=1;return s}_substract(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns}_add(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns}}class o{constructor(){this._onMarkerChanged=new y.Emitter,this.onMarkerChanged=y.Event.debounce(this._onMarkerChanged.event,o._debouncer,0),this._data=new f,this._stats=new p(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(a,s){for(const l of s||[])this.changeOne(a,l,[])}changeOne(a,s,l){if(C.isFalsyOrEmpty(l))this._data.delete(s,a)&&this._onMarkerChanged.fire([s]);else{const r=[];for(const t of l){const n=o._toMarker(a,s,t);n&&r.push(n)}this._data.set(s,a,r),this._onMarkerChanged.fire([s])}}static _toMarker(a,s,l){let{code:r,severity:t,message:n,source:i,startLineNumber:u,startColumn:h,endLineNumber:v,endColumn:m,relatedInformation:g,tags:b}=l;if(!!n)return u=u>0?u:1,h=h>0?h:1,v=v>=u?v:u,m=m>0?m:h,{resource:s,owner:a,code:r,severity:t,message:n,source:i,startLineNumber:u,startColumn:h,endLineNumber:v,endColumn:m,relatedInformation:g,tags:b}}read(a=Object.create(null)){let{owner:s,resource:l,severities:r,take:t}=a;if((!t||t<0)&&(t=-1),s&&l){const n=this._data.get(l,s);if(n){const i=[];for(const u of n)if(o._accept(u,r)){const h=i.push(u);if(t>0&&h===t)break}return i}else return[]}else if(!s&&!l){const n=[];for(let i of this._data.values())for(let u of i)if(o._accept(u,r)){const h=n.push(u);if(t>0&&h===t)return n}return n}else{const n=this._data.values(l!=null?l:s),i=[];for(const u of n)for(const h of u)if(o._accept(h,r)){const v=i.push(h);if(t>0&&v===t)return i}return i}}static _accept(a,s){return s===void 0||(s&a.severity)===a.severity}static _debouncer(a,s){a||(o._dedupeMap=new _.ResourceMap,a=[]);for(const l of s)o._dedupeMap.has(l)||(o._dedupeMap.set(l,!0),a.push(l));return a}}e.MarkerService=o}),define(Q[32],J([0,1,81,9]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=C.default,e.INotificationService=k.createDecorator("notificationService");class M{}e.NoOpNotification=M}),define(Q[57],J([0,1,23,9,2,8]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=k.createDecorator("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return M.Disposable.None},registerValidator(){return M.Disposable.None},registerExternalUriResolver(){return M.Disposable.None},setDefaultExternalOpener(){},registerExternalOpenerProvider(){return M.Disposable.None},open(){return De(this,void 0,void 0,function*(){return!1})},resolveExternalUri(_){return De(this,void 0,void 0,function*(){return{resolved:_,dispose(){}}})}});function S(_,d){return C.URI.isUri(_)?y.equalsIgnoreCase(_.scheme,d):y.startsWithIgnoreCase(_,d+":")}e.matchesScheme=S}),define(Q[139],J([0,1,284,57,67,11,241,4,2,18]),function(G,e,C,k,M,y,S,_,d,f){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let o=class Mt{constructor(a,s,l){this._options=a,this._modeService=s,this._openerService=l,this._onDidRenderAsync=new _.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,s,l){const r=new d.DisposableStore;let t;return a?t=C.renderMarkdown(a,Object.assign(Object.assign({},this._getRenderOptions(r)),s),l):t=document.createElement("span"),{element:t,dispose:()=>r.dispose()}}_getRenderOptions(a){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(s,l)=>De(this,void 0,void 0,function*(){var r,t,n,i;let u;s?u=this._modeService.getModeIdForLanguageName(s):this._options.editor&&(u=(r=this._options.editor.getModel())===null||r===void 0?void 0:r.getLanguageIdentifier().language),u||(u="plaintext"),this._modeService.triggerMode(u);const h=(t=yield f.TokenizationRegistry.getPromise(u))!==null&&t!==void 0?t:void 0,v=document.createElement("span");v.innerHTML=(i=(n=Mt._ttpTokenizer)===null||n===void 0?void 0:n.createHTML(l,h))!==null&&i!==void 0?i:S.tokenizeToString(l,h);let m=this._options.codeBlockFontFamily;return this._options.editor&&(m=this._options.editor.getOption(38).fontFamily),m&&(v.style.fontFamily=m),v}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:s=>this._openerService.open(s,{fromUserGesture:!0}).catch(y.onUnexpectedError),disposeables:a}}}};o._ttpTokenizer=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("tokenizeToString",{createHTML(c,a){return S.tokenizeToString(c,a)}}),o=Me([pe(1,M.IModeService),pe(2,k.IOpenerService)],o),e.MarkdownRenderer=o}),define(Q[547],J([0,1,7,71,51,197,43,40,23,28,26,517,57]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let a=class{constructor(t){this._commandService=t}open(t){return De(this,void 0,void 0,function*(){if(!c.matchesScheme(t,S.Schemas.command))return!1;typeof t=="string"&&(t=d.URI.parse(t));let n=[];try{n=y.parse(decodeURIComponent(t.query))}catch(i){try{n=y.parse(t.query)}catch(u){}}return Array.isArray(n)||(n=[n]),yield this._commandService.executeCommand(t.path,...n),!0})}};a=Me([pe(0,p.ICommandService)],a);let s=class{constructor(t){this._editorService=t}open(t,n){return De(this,void 0,void 0,function*(){typeof t=="string"&&(t=d.URI.parse(t));let i;const u=/^L?(\d+)(?:,(\d+))?/.exec(t.fragment);return u&&(i={startLineNumber:parseInt(u[1]),startColumn:u[2]?parseInt(u[2]):1},t=t.with({fragment:""})),t.scheme===S.Schemas.file&&(t=_.normalizePath(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:i,context:(n==null?void 0:n.fromUserGesture)?o.EditorOpenContext.USER:o.EditorOpenContext.API},n==null?void 0:n.editorOptions)},this._editorService.getFocusedCodeEditor(),n==null?void 0:n.openToSide),!0})}};s=Me([pe(0,f.ICodeEditorService)],s);let l=class{constructor(t,n){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new M.ResourceMap(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpenerProviders=new k.LinkedList,this._defaultExternalOpener={openExternal:i=>De(this,void 0,void 0,function*(){return c.matchesScheme(i,S.Schemas.http)||c.matchesScheme(i,S.Schemas.https)?C.windowOpenNoOpener(i):window.location.href=i,!0})},this._openers.push({open:(i,u)=>De(this,void 0,void 0,function*(){return(u==null?void 0:u.openExternal)||c.matchesScheme(i,S.Schemas.mailto)||c.matchesScheme(i,S.Schemas.http)||c.matchesScheme(i,S.Schemas.https)?(yield this._doOpenExternal(i,u),!0):!1})}),this._openers.push(new a(n)),this._openers.push(new s(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpenerProvider(t){return{dispose:this._externalOpenerProviders.push(t)}}open(t,n){var i;return De(this,void 0,void 0,function*(){const u=typeof t=="string"?d.URI.parse(t):t,h=(i=this._resolvedUriTargets.get(u))!==null&&i!==void 0?i:t;for(const v of this._validators)if(!(yield v.shouldOpen(h)))return!1;for(const v of this._openers)if(yield v.open(t,n))return!0;return!1})}resolveExternalUri(t,n){return De(this,void 0,void 0,function*(){for(const i of this._resolvers){const u=yield i.resolveExternalUri(t,n);if(u)return this._resolvedUriTargets.set(u.resolved,t),u}return{resolved:t,dispose:()=>{}}})}_doOpenExternal(t,n){return De(this,void 0,void 0,function*(){const i=typeof t=="string"?d.URI.parse(t):t,{resolved:u}=yield this.resolveExternalUri(i,n);let h;typeof t=="string"&&i.toString()===u.toString()?h=t:h=encodeURI(u.toString(!0));for(const v of this._externalOpenerProviders){const m=yield v.provideExternalOpener(t);if(m)return m.openExternal(h)}return this._defaultExternalOpener.openExternal(h)})}dispose(){this._validators.clear()}};l=Me([pe(0,f.ICodeEditorService),pe(1,p.ICommandService)],l),e.OpenerService=l}),define(Q[548],J([0,1,7,82,2,226,398,139,57,19]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class p{constructor(a){this._editor=a,this._lineNumber=-1,this._result=[]}setLineNumber(a){this._lineNumber=a,this._result=[]}clearResult(){this._result=[]}computeSync(){const a=r=>({value:r}),s=this._editor.getLineDecorations(this._lineNumber),l=[];if(!s)return l;for(const r of s)if(!!r.options.glyphMarginClassName){const t=r.options.glyphMarginHoverMessage;!t||k.isEmptyMarkdownString(t)||l.push(...f.asArray(t).map(a))}return l}onResult(a,s){this._result=this._result.concat(a)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class o extends S.GlyphHoverWidget{constructor(a,s,l=d.NullOpenerService){super(o.ID,a);this._renderDisposeables=this._register(new M.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new _.MarkdownRenderer({editor:this._editor},s,l)),this._computer=new p(this._editor),this._hoverOperation=new y.HoverOperation(this._computer,r=>this._withResult(r),void 0,r=>this._withResult(r),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(a){this._lastLineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=a,this._computer.setLineNumber(a),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(a,s){this._renderDisposeables.clear();const l=document.createDocumentFragment();for(const r of s){const t=this._markdownRenderer.render(r.value);this._renderDisposeables.add(t),l.appendChild(C.$("div.hover-row",void 0,t.element))}this.updateContents(l),this.showAt(a)}}e.ModesGlyphHoverWidget=o,o.ID="editor.contrib.modesGlyphHoverWidget"}),define(Q[250],J([0,1,497,2,7,60,139,82,27,4,229,9]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function c(l){return!!l&&Boolean(l.completion.documentation||l.completion.detail&&l.completion.detail!==l.completion.label)}e.canExpandCompletionItem=c;let a=class{constructor(r,t){this._editor=r,this._onDidClose=new f.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new f.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new k.DisposableStore,this._renderDisposeable=new k.DisposableStore,this._borderWidth=1,this._size=new M.Dimension(330,0),this.domNode=M.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(S.MarkdownRenderer,{editor:r}),this._body=M.$(".body"),this._scrollbar=new y.DomScrollableElement(this._body,{}),M.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=M.append(this._body,M.$(".header")),this._close=M.append(this._header,M.$("span"+d.Codicon.close.cssSelector)),this._close.title=C.localize(0,null),this._type=M.append(this._header,M.$("p.type")),this._docs=M.append(this._body,M.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(38)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const r=this._editor.getOptions(),t=r.get(38),n=t.fontFamily,i=r.get(102)||t.fontSize,u=r.get(103)||t.lineHeight,h=t.fontWeight,v=`${i}px`,m=`${u}px`;this.domNode.style.fontSize=v,this.domNode.style.lineHeight=m,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const r=this._editor.getOption(103)||this._editor.getOption(38).lineHeight,t=this._borderWidth,n=t*2;return{lineHeight:r,borderWidth:t,borderHeight:n,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=C.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(r,t){this._renderDisposeable.clear();let{detail:n,documentation:i}=r.completion;if(t){let u="";u+=`score: ${r.score[0]}${r.word?`, compared '${r.completion.filterText&&r.completion.filterText+" (filterText)"||typeof r.completion.label=="string"?r.completion.label:r.completion.label.name}' with '${r.word}'`:" (no prefix)"}
`,u+=`distance: ${r.distance}, see localityBonus-setting
`,u+=`index: ${r.idx}, based on ${r.completion.sortText&&`sortText: "${r.completion.sortText}"`||"label"}
`,u+=`commit characters: ${r.completion.commitCharacters}
`,i=new _.MarkdownString().appendCodeblock("empty",u),n=`Provider: ${r.provider._debugDisplayName}`}if(!t&&!c(r)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),n){const u=n.length>1e5?`${n.substr(0,1e5)}\u2026`:n;this._type.textContent=u,this._type.title=u,M.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(u))}else M.clearNode(this._type),this._type.title="",M.hide(this._type),this.domNode.classList.add("no-type");if(M.clearNode(this._docs),typeof i=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=i;else if(i){this._docs.classList.add("markdown-docs"),M.clearNode(this._docs);const u=this._markdownRenderer.render(i);this._docs.appendChild(u.element),this._renderDisposeable.add(u),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=u=>{u.preventDefault(),u.stopPropagation()},this._close.onclick=u=>{u.preventDefault(),u.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(r,t){const n=new M.Dimension(r,t);M.Dimension.equals(n,this._size)||(this._size=n,M.size(this.domNode,r,t)),this._scrollbar.scanDomNode()}scrollDown(r=8){this._body.scrollTop+=r}scrollUp(r=8){this._body.scrollTop-=r}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(r){this._borderWidth=r}get borderWidth(){return this._borderWidth}};a=Me([pe(1,o.IInstantiationService)],a),e.SuggestDetailsWidget=a;class s{constructor(r,t){this.widget=r,this._editor=t,this._disposables=new k.DisposableStore,this._added=!1,this._resizable=new p.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(r.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,i,u=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,i=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(v=>{if(n&&i){this.widget.layout(v.dimension.width,v.dimension.height);let m=!1;v.west&&(h=i.width-v.dimension.width,m=!0),v.north&&(u=i.height-v.dimension.height,m=!0),m&&this._applyTopLeft({top:n.top+u,left:n.left+h})}v.done&&(n=void 0,i=void 0,u=0,h=0,this._userSize=v.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var v;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(v=this._userSize)!==null&&v!==void 0?v:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(r=!1){this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),r&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(r){var t;const n=M.getDomNodePagePosition(r);this._anchorBox=n,this._placeAtAnchor(this._anchorBox,(t=this._userSize)!==null&&t!==void 0?t:this.widget.size)}_placeAtAnchor(r,t){const n=M.getClientArea(document.body),i=this.widget.getLayoutInfo();let u,h,v=new M.Dimension(220,2*i.lineHeight),m=0,g=r.top,b=r.top+r.height-i.borderHeight,w,L,E=n.width-(r.left+r.width+i.borderWidth+i.horizontalPadding);m=-i.borderWidth+r.left+r.width,L=!0,u=new M.Dimension(E,n.height-r.top-i.borderHeight-i.verticalPadding),h=u.with(void 0,r.top+r.height-i.borderHeight-i.verticalPadding),t.width>E&&(r.left>E&&(E=r.left-i.borderWidth-i.horizontalPadding,L=!1,m=Math.max(i.horizontalPadding,r.left-t.width-i.borderWidth),u=u.with(E),h=u.with(void 0,h.height)),r.width>E*1.3&&n.height-(r.top+r.height)>r.height&&(E=r.width,m=r.left,g=-i.borderWidth+r.top+r.height,u=new M.Dimension(r.width-i.borderHeight,n.height-r.top-r.height-i.verticalPadding),h=u.with(void 0,r.top-i.verticalPadding),v=v.with(u.width)));let N=t.height,I=Math.max(u.height,h.height);N>I&&(N=I);let T;N<=u.height?(w=!0,T=u):(w=!1,T=h),this._applyTopLeft({left:m,top:w?g:b-N}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!w,L,w,!L),this._resizable.minSize=v,this._resizable.maxSize=T,this._resizable.layout(N,Math.min(T.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(r){this._topLeft=r,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=s}),define(Q[58],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class k{constructor(y){this.callback=y}report(y){this._value=y,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=C.createDecorator("editorProgressService")}),define(Q[549],J([0,1,25,2,15]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(f){f[f.NO_ACTION=0]="NO_ACTION",f[f.CLOSE_PICKER=1]="CLOSE_PICKER",f[f.REFRESH_PICKER=2]="REFRESH_PICKER",f[f.REMOVE_ITEM=3]="REMOVE_ITEM"})(y=e.TriggerAction||(e.TriggerAction={}));function S(f){const p=f;return Array.isArray(p.items)}function _(f){const p=f;return!!p.picks&&p.additionalPicks instanceof Promise}class d extends k.Disposable{constructor(p,o){super();this.prefix=p,this.options=o}provide(p,o){var c;const a=new k.DisposableStore;p.canAcceptInBackground=!!((c=this.options)===null||c===void 0?void 0:c.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;let s;const l=a.add(new k.MutableDisposable),r=()=>De(this,void 0,void 0,function*(){const t=l.value=new k.DisposableStore;s==null||s.dispose(!0),p.busy=!1,s=new C.CancellationTokenSource(o);const n=s.token,i=p.value.substr(this.prefix.length).trim(),u=this.getPicks(i,t,n),h=(v,m)=>{var g;let b,w;if(S(v)?(b=v.items,w=v.active):b=v,b.length===0){if(m)return!1;i.length>0&&((g=this.options)===null||g===void 0?void 0:g.noResultsPick)&&(b=[this.options.noResultsPick])}return p.items=b,w&&(p.activeItems=[w]),!0};if(u!==null)if(_(u)){let v=!1,m=!1;yield Promise.all([(()=>De(this,void 0,void 0,function*(){yield M.timeout(d.FAST_PICKS_RACE_DELAY),!n.isCancellationRequested&&(m||(v=h(u.picks,!0)))}))(),(()=>De(this,void 0,void 0,function*(){p.busy=!0;try{const g=yield u.additionalPicks;if(n.isCancellationRequested)return;let b,w;S(u.picks)?(b=u.picks.items,w=u.picks.active):b=u.picks;let L,E;if(S(g)?(L=g.items,E=g.active):L=g,L.length>0||!v){let N;if(!w&&!E){const I=p.activeItems[0];I&&b.indexOf(I)!==-1&&(N=I)}h({items:[...b,...L],active:w||E||N})}}finally{n.isCancellationRequested||(p.busy=!1),m=!0}}))()])}else if(!(u instanceof Promise))h(u);else{p.busy=!0;try{const v=yield u;if(n.isCancellationRequested)return;h(v)}finally{n.isCancellationRequested||(p.busy=!1)}}});return a.add(p.onDidChangeValue(()=>r())),r(),a.add(p.onDidAccept(t=>{const[n]=p.selectedItems;typeof(n==null?void 0:n.accept)=="function"&&(t.inBackground||p.hide(),n.accept(p.keyMods,t))})),a.add(p.onDidTriggerItemButton(({button:t,item:n})=>De(this,void 0,void 0,function*(){var i,u;if(typeof n.trigger=="function"){const h=(u=(i=n.buttons)===null||i===void 0?void 0:i.indexOf(t))!==null&&u!==void 0?u:-1;if(h>=0){const v=n.trigger(h,p.keyMods),m=typeof v=="number"?v:yield v;if(o.isCancellationRequested)return;switch(m){case y.NO_ACTION:break;case y.CLOSE_PICKER:p.hide();break;case y.REFRESH_PICKER:r();break;case y.REMOVE_ITEM:const g=p.items.indexOf(n);if(g!==-1){const b=p.items.slice();b.splice(g,1),p.items=b}break}}}}))),a}}e.PickerQuickAccessProvider=d,d.FAST_PICKS_RACE_DELAY=200});var gt=this&&this.__createBinding||(Object.create?function(G,e,C,k){k===void 0&&(k=C),Object.defineProperty(G,k,{enumerable:!0,get:function(){return e[C]}})}:function(G,e,C,k){k===void 0&&(k=C),G[k]=e[C]}),ft=this&&this.__exportStar||function(G,e){for(var C in G)C!=="default"&&!Object.prototype.hasOwnProperty.call(e,C)&&gt(e,G,C)};define(Q[77],J([0,1,9,200]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ft(k,e),e.IQuickInputService=C.createDecorator("quickInputService")}),define(Q[33],J([0,1,21,191]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class M{constructor(){this.data=new Map}add(S,_){k.ok(C.isString(S)),k.ok(C.isObject(_)),k.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,_)}as(S){return this.data.get(S)||null}}e.Registry=new M}),define(Q[140],J([0,1,446,4,18,41,33]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class _{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let p=0,o=this._languages.length;p<o;p++)if(this._languages[p]===f){this._languages.splice(p,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=_,e.ModesRegistry=new _,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new M.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[".txt"],aliases:[C.localize(0,null),"text"],mimetypes:["text/plain"]}),y.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}})}),define(Q[550],J([0,1,43,40,140,235]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(f,p,o,c){const a=c===y.FileKind.ROOT_FOLDER?["rootfolder-icon"]:c===y.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(o){let s;if(o.scheme===C.Schemas.data?s=k.DataUri.parseMetaData(o).get(k.DataUri.META_DATA_LABEL):s=d(k.basenameOrAuthority(o).toLowerCase()),c===y.FileKind.FOLDER)a.push(`${s}-name-folder-icon`);else{if(s){a.push(`${s}-name-file-icon`);const r=s.split(".");for(let t=1;t<r.length;t++)a.push(`${r.slice(t).join(".")}-ext-file-icon`);a.push("ext-file-icon")}const l=_(f,p,o);l&&a.push(`${d(l)}-lang-file-icon`)}}return a}e.getIconClasses=S;function _(f,p,o){if(!o)return null;let c=null;if(o.scheme===C.Schemas.data){const s=k.DataUri.parseMetaData(o).get(k.DataUri.META_DATA_MIME);s&&(c=p.getModeId(s))}else{const a=f.getModel(o);a&&(c=a.getModeId())}return c&&c!==M.PLAINTEXT_MODE_ID?c:p.getModeIdByFilepathOrFirstLine(o)}e.detectModeId=_;function d(f){return f.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=d}),define(Q[181],J([0,1,33,4]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function M(_){return _.length>0&&_.charAt(_.length-1)==="#"?_.substring(0,_.length-1):_}class y{constructor(){this._onDidChangeSchema=new k.Emitter,this.schemasById={}}registerSchema(d,f){this.schemasById[M(d)]=f,this._onDidChangeSchema.fire(d)}notifySchemaChanged(d){this._onDidChangeSchema.fire(d)}}const S=new y;C.Registry.add(e.Extensions.JSONContribution,S)}),define(Q[94],J([0,1,506,4,33,21,181]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const _=M.Registry.as(S.Extensions.JSONContribution);class d{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:C.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},_.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(l,r=!0){this.registerConfigurations([l],r)}registerConfigurations(l,r=!0){const t=[];l.forEach(n=>{t.push(...this.validateAndRegisterProperties(n,r)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),_.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(t)}registerOverrideIdentifiers(l){for(const r of l)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(l,r=!0,t=3){t=y.isUndefinedOrNull(l.scope)?t:l.scope;let n=[],i=l.properties;if(i)for(let h in i){if(r&&a(h)){delete i[h];continue}const v=i[h];if(this.updatePropertyDefaultValue(h,v),e.OVERRIDE_PROPERTY_PATTERN.test(h)?v.scope=void 0:v.scope=y.isUndefinedOrNull(v.scope)?t:v.scope,i[h].hasOwnProperty("included")&&!i[h].included){this.excludedConfigurationProperties[h]=i[h],delete i[h];continue}else this.configurationProperties[h]=i[h];!i[h].deprecationMessage&&i[h].markdownDeprecationMessage&&(i[h].deprecationMessage=i[h].markdownDeprecationMessage),n.push(h)}let u=l.allOf;if(u)for(let h of u)n.push(...this.validateAndRegisterProperties(h,r,t));return n}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(l){const r=t=>{let n=t.properties;if(n)for(const u in n)this.updateSchema(u,n[u]);let i=t.allOf;i&&i.forEach(r)};r(l)}updateSchema(l,r){switch(e.allSettings.properties[l]=r,r.scope){case 1:e.applicationSettings.properties[l]=r;break;case 2:e.machineSettings.properties[l]=r;break;case 6:e.machineOverridableSettings.properties[l]=r;break;case 3:e.windowSettings.properties[l]=r;break;case 4:e.resourceSettings.properties[l]=r;break;case 5:e.resourceSettings.properties[l]=r,this.resourceLanguageSettingsSchema.properties[l]=r;break}}updateOverridePropertyPatternKey(){for(const l of this.overrideIdentifiers.values()){const r=`[${l}]`,t={type:"object",description:C.localize(1,null),errorMessage:C.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,t),e.allSettings.properties[r]=t,e.applicationSettings.properties[r]=t,e.machineSettings.properties[r]=t,e.machineOverridableSettings.properties[r]=t,e.windowSettings.properties[r]=t,e.resourceSettings.properties[r]=t}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(l,r){let t=this.defaultValues[l];y.isUndefined(t)&&(t=r.default),y.isUndefined(t)&&(t=o(r.type)),r.default=t}}const f="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(f);function p(s){return s.substring(1,s.length-1)}e.overrideIdentifierFromKey=p;function o(s){switch(Array.isArray(s)?s[0]:s){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=o;const c=new d;M.Registry.add(e.Extensions.Configuration,c);function a(s){return s.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(s)?C.localize(4,null,s):c.getConfigurationProperties()[s]!==void 0?C.localize(5,null,s):null:C.localize(3,null)}e.validateProperty=a}),define(Q[182],J([0,1,442,4,2,39,19,37,125,160,94,33,192]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new k.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const a=Object.hasOwnProperty;class s{constructor(){this._values=[]}_read(E){return this._values[E]}get(E){return this._values[E]}_write(E,N){this._values[E]=N}}e.ComputedEditorOptions=s;class l{constructor(){this._values=[]}_read(E){return this._values[E]}_write(E,N){this._values[E]=N}}class r{static readOptions(E){const N=E,I=new l;for(const T of _.editorOptionsRegistry){const O=T.name==="_never_"?void 0:N[T.name];I._write(T.id,O)}return I}static validateOptions(E){const N=new _.ValidatedEditorOptions;for(const I of _.editorOptionsRegistry)N._write(I.id,I.validate(E._read(I.id)));return N}static computeOptions(E,N){const I=new s;for(const T of _.editorOptionsRegistry)I._write(T.id,T.compute(N,I,E._read(T.id)));return I}static _deepEquals(E,N){if(typeof E!="object"||typeof N!="object")return E===N;if(Array.isArray(E)||Array.isArray(N))return Array.isArray(E)&&Array.isArray(N)?S.equals(E,N):!1;for(let I in E)if(!r._deepEquals(E[I],N[I]))return!1;return!0}static checkEquals(E,N){const I=[];let T=!1;for(const O of _.editorOptionsRegistry){const R=!r._deepEquals(E._read(O.id),N._read(O.id));I[O.id]=R,R&&(T=!0)}return T?new _.ConfigurationChangedEvent(I):null}}function t(L){const E=L.wordWrap;E===!0?L.wordWrap="on":E===!1&&(L.wordWrap="off");const N=L.lineNumbers;N===!0?L.lineNumbers="on":N===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const O=L.renderWhitespace;O===!0?L.renderWhitespace="boundary":O===!1&&(L.renderWhitespace="none");const R=L.renderLineHighlight;R===!0?L.renderLineHighlight="line":R===!1&&(L.renderLineHighlight="none");const F=L.acceptSuggestionOnEnter;F===!0?L.acceptSuggestionOnEnter="on":F===!1&&(L.acceptSuggestionOnEnter="off");const D=L.tabCompletion;D===!1?L.tabCompletion="off":D===!0&&(L.tabCompletion="onlySnippets");const B=L.suggest;if(B&&typeof B.filteredTypes=="object"&&B.filteredTypes){const j={};j.method="showMethods",j.function="showFunctions",j.constructor="showConstructors",j.field="showFields",j.variable="showVariables",j.class="showClasses",j.struct="showStructs",j.interface="showInterfaces",j.module="showModules",j.property="showProperties",j.event="showEvents",j.operator="showOperators",j.unit="showUnits",j.value="showValues",j.constant="showConstants",j.enum="showEnums",j.enumMember="showEnumMembers",j.keyword="showKeywords",j.text="showWords",j.color="showColors",j.file="showFiles",j.reference="showReferences",j.folder="showFolders",j.typeParameter="showTypeParameters",j.snippet="showSnippets",c.forEach(j,ee=>{const re=B.filteredTypes[ee.key];re===!1&&(B[ee.value]=re)})}const A=L.hover;A===!0?L.hover={enabled:!0}:A===!1&&(L.hover={enabled:!1});const W=L.parameterHints;W===!0?L.parameterHints={enabled:!0}:W===!1&&(L.parameterHints={enabled:!1});const V=L.autoIndent;V===!0?L.autoIndent="full":V===!1&&(L.autoIndent="advanced");const K=L.matchBrackets;K===!0?L.matchBrackets="always":K===!1&&(L.matchBrackets="never")}function n(L){const E=y.deepClone(L);return t(E),E}class i extends M.Disposable{constructor(E,N){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=E,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new _.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=n(N),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._register(d.EditorZoom.onDidChangeZoomLevel(I=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(I=>this._recomputeOptions()))}observeReferenceElement(E){}updatePixelRatio(){}_recomputeOptions(){const E=this.options,N=this._computeInternalOptions();if(!E)this.options=N;else{const I=r.checkEquals(E,N);if(I===null)return;this.options=N,this._onDidChangeFast.fire(I),this._onDidChange.fire(I)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const E=this._getEnvConfiguration(),N=f.BareFontInfo.createFromValidatedSettings(this._validatedOptions,E.zoomLevel,E.pixelRatio,this.isSimpleWidget),I={memory:this._computeOptionsMemory,outerWidth:E.outerWidth,outerHeight:E.outerHeight,fontInfo:this.readConfiguration(N),extraEditorClassName:E.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:E.emptySelectionClipboard,pixelRatio:E.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:E.accessibilitySupport};return r.computeOptions(this._validatedOptions,I)}static _subsetEquals(E,N){for(const I in N)if(a.call(N,I)){const T=N[I],O=E[I];if(O===T)continue;if(Array.isArray(O)&&Array.isArray(T)){if(!S.equals(O,T))return!1;continue}if(O&&typeof O=="object"&&T&&typeof T=="object"){if(!this._subsetEquals(O,T))return!1;continue}return!1}return!0}updateOptions(E){if(typeof E!="undefined"){const N=n(E);i._subsetEquals(this._rawOptions,N)||(this._rawOptions=y.mixin(this._rawOptions,N||{}),this._readOptions=r.readOptions(this._rawOptions),this._validatedOptions=r.validateOptions(this._readOptions),this._recomputeOptions())}}setIsDominatedByLongLines(E){this._isDominatedByLongLines=E,this._recomputeOptions()}setMaxLineNumber(E){const N=i._digitCount(E);this._lineNumbersDigitCount!==N&&(this._lineNumbersDigitCount=N,this._recomputeOptions())}setViewLineCount(E){this._viewLineCount!==E&&(this._viewLineCount=E,this._recomputeOptions())}static _digitCount(E){let N=0;for(;E;)E=Math.floor(E/10),N++;return N||1}}e.CommonEditorConfiguration=i,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:C.localize(0,null),scope:5});const u=o.Registry.as(p.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:_.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:C.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:C.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:C.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:C.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:C.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:C.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[C.localize(7,null),C.localize(8,null),C.localize(9,null)],description:C.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[C.localize(11,null),C.localize(12,null),C.localize(13,null)],default:"configuredByTheme",description:C.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:C.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:C.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:C.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:C.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:C.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:C.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:C.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[C.localize(22,null),C.localize(23,null),C.localize(24,null)]}}});function v(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of _.editorOptionsRegistry){const E=L.schema;if(typeof E!="undefined")if(v(E))h.properties[`editor.${L.name}`]=E;else for(let N in E)a.call(E,N)&&(h.properties[N]=E[N])}let m=null;function g(){return m===null&&(m=Object.create(null),Object.keys(h.properties).forEach(L=>{m[L]=!0})),m}function b(L){return g()[`editor.${L}`]||!1}e.isEditorConfigurationKey=b;function w(L){return g()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=w,u.registerConfiguration(h)}),define(Q[69],J([0,1,34,4,2,17,352,209,182,37,160]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class o{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(r){const t=r.getId();return!!this._values[t]}get(r){const t=r.getId();return this._values[t]}put(r,t){const n=r.getId();this._keys[n]=r,this._values[n]=t}remove(r){const t=r.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(r=>this._values[r])}}function c(){a.INSTANCE.clearCache()}e.clearAllFontInfos=c;class a extends M.Disposable{constructor(){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new o,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new o,this._onDidChange.fire()}_writeToCache(r,t){this._cache.put(r,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const r=this._cache.getValues();let t=!1;for(const n of r)n.isTrusted||(t=!0,this._cache.remove(n));t&&this._onDidChange.fire()}readConfiguration(r){if(!this._cache.has(r)){let t=a._actualReadConfiguration(r);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new p.FontInfo({zoomLevel:C.getZoomLevel(),pixelRatio:C.getPixelRatio(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(r,t)}return this._cache.get(r)}static createRequest(r,t,n,i){const u=new S.CharWidthRequest(r,t);return n.push(u),i&&i.push(u),u}static _actualReadConfiguration(r){const t=[],n=[],i=this.createRequest("n",0,t,n),u=this.createRequest("\uFF4D",0,t,null),h=this.createRequest(" ",0,t,n),v=this.createRequest("0",0,t,n),m=this.createRequest("1",0,t,n),g=this.createRequest("2",0,t,n),b=this.createRequest("3",0,t,n),w=this.createRequest("4",0,t,n),L=this.createRequest("5",0,t,n),E=this.createRequest("6",0,t,n),N=this.createRequest("7",0,t,n),I=this.createRequest("8",0,t,n),T=this.createRequest("9",0,t,n),O=this.createRequest("\u2192",0,t,n),R=this.createRequest("\uFFEB",0,t,null),F=this.createRequest("\xB7",0,t,n),D=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),S.readCharWidths(r,t);const B=Math.max(v.width,m.width,g.width,b.width,w.width,L.width,E.width,N.width,I.width,T.width);let A=r.fontFeatureSettings===f.EditorFontLigatures.OFF;const W=n[0].width;for(let j=1,ee=n.length;A&&j<ee;j++){const re=W-n[j].width;if(re<-.001||re>.001){A=!1;break}}let V=!0;A&&R.width!==W&&(V=!1),R.width>O.width&&(V=!1);const K=C.getTimeSinceLastZoomLevelChanged()>2e3;return new p.FontInfo({zoomLevel:C.getZoomLevel(),pixelRatio:C.getPixelRatio(),fontFamily:r.fontFamily,fontWeight:r.fontWeight,fontSize:r.fontSize,fontFeatureSettings:r.fontFeatureSettings,lineHeight:r.lineHeight,letterSpacing:r.letterSpacing,isMonospace:A,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:u.width,canUseHalfwidthRightwardsArrow:V,spaceWidth:h.width,middotWidth:F.width,wsmiddotWidth:D.width,maxDigitWidth:B},K)}}a.INSTANCE=new a;class s extends d.CommonEditorConfiguration{constructor(r,t,n=null,i){super(r,t);this.accessibilityService=i,this._elementSizeObserver=this._register(new _.ElementSizeObserver(n,t.dimension,()=>this._recomputeOptions())),this._register(a.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(9)&&this._elementSizeObserver.startObserving(),this._register(C.onDidChangeZoomLevel(u=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(r,t){r.style.fontFamily=t.getMassagedFontFamily(),r.style.fontWeight=t.fontWeight,r.style.fontSize=t.fontSize+"px",r.style.fontFeatureSettings=t.fontFeatureSettings,r.style.lineHeight=t.lineHeight+"px",r.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(r,t){r.setFontFamily(t.getMassagedFontFamily()),r.setFontWeight(t.fontWeight),r.setFontSize(t.fontSize),r.setFontFeatureSettings(t.fontFeatureSettings),r.setLineHeight(t.lineHeight),r.setLetterSpacing(t.letterSpacing)}observeReferenceElement(r){this._elementSizeObserver.observe(r)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let r="";return!C.isSafari&&!C.isWebkitWebView&&(r+="no-user-select "),C.isSafari&&(r+="no-minimap-shadow "),y.isMacintosh&&(r+="mac "),r}_getEnvConfiguration(){return{extraEditorClassName:s._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:C.isWebKit||C.isFirefox,pixelRatio:C.getPixelRatio(),zoomLevel:C.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(r){return a.INSTANCE.readConfiguration(r)}}e.Configuration=s}),define(Q[551],J([0,1,92,8,69,62]),function(G,e,C,k,M,y){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const _=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("domLineBreaksComputer",{createHTML:s=>s});class d{static create(){return new d}constructor(){}createLineBreaksComputer(l,r,t,n){r=r|0,t=+t;let i=[];return{addRequest:(u,h)=>{i.push(u)},finalize:()=>f(i,l,r,t,n)}}}e.DOMLineBreaksComputerFactory=d;function f(s,l,r,t,n){var i;if(t===-1){const R=[];for(let F=0,D=s.length;F<D;F++)R[F]=null;return R}const u=Math.round(t*l.typicalHalfwidthCharacterWidth);(n===2||n===3)&&(n=1);const h=document.createElement("div");M.Configuration.applyFontInfoSlow(h,l);const v=C.createStringBuilder(1e4),m=[],g=[],b=[],w=[],L=[];for(let R=0;R<s.length;R++){const F=s[R];let D=0,B=0,A=u;if(n!==0)if(D=k.firstNonWhitespaceIndex(F),D===-1)D=0;else{for(let j=0;j<D;j++)B+=F.charCodeAt(j)===9?r-B%r:1;const K=Math.ceil(l.spaceWidth*B);K+l.typicalFullwidthCharacterWidth>u?(D=0,B=0):A=u-K}const W=F.substr(D),V=p(W,B,r,A,v);m[R]=D,g[R]=B,b[R]=W,w[R]=V[0],L[R]=V[1]}const E=v.build(),N=(i=_==null?void 0:_.createHTML(E))!==null&&i!==void 0?i:E;h.innerHTML=N,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let I=document.createRange();const T=Array.prototype.slice.call(h.children,0);let O=[];for(let R=0;R<s.length;R++){const F=T[R],D=o(I,F,b[R],w[R]);if(D===null){O[R]=null;continue}const B=m[R],A=g[R],W=L[R],V=[];for(let K=0,j=D.length;K<j;K++)V[K]=W[D[K]];if(B!==0)for(let K=0,j=D.length;K<j;K++)D[K]+=B;O[R]=new y.LineBreakData(D,V,A)}return document.body.removeChild(h),O}function p(s,l,r,t,n){n.appendASCIIString('<div style="width:'),n.appendASCIIString(String(t)),n.appendASCIIString('px;">');const i=s.length;let u=l,h=0,v=[],m=[],g=0<i?s.charCodeAt(0):0;n.appendASCIIString("<span>");for(let b=0;b<i;b++){b!==0&&b%16384==0&&n.appendASCIIString("</span><span>"),v[b]=h,m[b]=u;const w=g;g=b+1<i?s.charCodeAt(b+1):0;let L=1,E=1;switch(w){case 9:L=r-u%r,E=L;for(let N=1;N<=L;N++)N<L?n.write1(160):n.appendASCII(32);break;case 32:g===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:k.isFullWidthCharacter(w)&&E++,n.write1(w)}h+=L,u+=E}return n.appendASCIIString("</span>"),v[s.length]=h,m[s.length]=u,n.appendASCIIString("</div>"),[v,m]}function o(s,l,r,t){if(r.length<=1)return null;const n=Array.prototype.slice.call(l.children,0),i=[];try{c(s,n,t,0,null,r.length-1,null,i)}catch(u){return console.log(u),null}return i.length===0?null:(i.push(r.length),i)}function c(s,l,r,t,n,i,u,h){if(t!==i&&(n=n||a(s,l,r[t],r[t+1]),u=u||a(s,l,r[i],r[i+1]),!(Math.abs(n[0].top-u[0].top)<=.1))){if(t+1===i){h.push(i);return}const v=t+(i-t)/2|0,m=a(s,l,r[v],r[v+1]);c(s,l,r,t,n,v,m,h),c(s,l,r,v,m,i,u,h)}}function a(s,l,r,t){return s.setStart(l[r/16384|0].firstChild,r%16384),s.setEnd(l[t/16384|0].firstChild,t%16384),s.getClientRects()}}),define(Q[552],J([0,1,30,69,161,44]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends y.ViewPart{constructor(o){super(o);this._visibleLines=new M.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let o=0,c=this._dynamicOverlays.length;o<c;o++)if(this._dynamicOverlays[o].shouldRender())return!0;return!1}dispose(){super.dispose();for(let o=0,c=this._dynamicOverlays.length;o<c;o++)this._dynamicOverlays[o].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(o){this._dynamicOverlays.push(o)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o);const c=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let s=c;s<=a;s++)this._visibleLines.getVisibleLine(s).onConfigurationChanged(o);return!0}onFlushed(o){return this._visibleLines.onFlushed(o)}onFocusChanged(o){return this._isFocused=o.isFocused,!0}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onScrollChanged(o){return this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._visibleLines.onZonesChanged(o)}prepareRender(o){const c=this._dynamicOverlays.filter(a=>a.shouldRender());for(let a=0,s=c.length;a<s;a++){const l=c[a];l.prepareRender(o),l.onDidRender()}}render(o){this._viewOverlaysRender(o),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(o){this._visibleLines.renderLines(o.viewportData)}}e.ViewOverlays=S;class _{constructor(o,c){this._configuration=o,this._lineHeight=this._configuration.options.get(53),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(o){this._domNode=C.createFastDomNode(o)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(o){this._lineHeight=this._configuration.options.get(53)}renderLine(o,c,a,s){let l="";for(let r=0,t=this._dynamicOverlays.length;r<t;r++)l+=this._dynamicOverlays[r].render(a.startLineNumber,o);return this._renderedContent===l?!1:(this._renderedContent=l,s.appendASCIIString('<div style="position:absolute;top:'),s.appendASCIIString(String(c)),s.appendASCIIString("px;width:100%;height:"),s.appendASCIIString(String(this._lineHeight)),s.appendASCIIString('px;">'),s.appendASCIIString(l),s.appendASCIIString("</div>"),!0)}layoutLine(o,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=_;class d extends S{constructor(o){super(o);const a=this._context.configuration.options.get(123);this._contentWidth=a.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(o){const a=this._context.configuration.options.get(123);return this._contentWidth=a.contentWidth,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollWidthChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o),this.domNode.setWidth(Math.max(o.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=d;class f extends S{constructor(o){super(o);const c=this._context.configuration.options,a=c.get(123);this._contentLeft=a.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),k.Configuration.applyFontInfo(this.domNode,c.get(38))}onConfigurationChanged(o){const c=this._context.configuration.options;k.Configuration.applyFontInfo(this.domNode,c.get(38));const a=c.get(123);return this._contentLeft=a.contentLeft,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollHeightChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o);const c=Math.min(o.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=f}),define(Q[553],J([0,1,7,30,8,69,37,12,3,122]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class p{constructor(a,s,l,r,t,n){this.top=a,this.left=s,this.width=l,this.height=r,this.textContent=t,this.textContentClassName=n}}class o{constructor(a){this._context=a;const s=this._context.configuration.options,l=s.get(38);this._cursorStyle=s.get(21),this._lineHeight=s.get(53),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(24),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),y.Configuration.applyFontInfo(this._domNode,l),this._domNode.setDisplay("none"),this._position=new _.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(a){const s=this._context.configuration.options,l=s.get(38);return this._cursorStyle=s.get(21),this._lineHeight=s.get(53),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(s.get(24),this._typicalHalfwidthCharacterWidth),y.Configuration.applyFontInfo(this._domNode,l),!0}onCursorPositionChanged(a){return this._position=a,!0}_prepareRender(a){let s="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const g=a.visibleRangeForPosition(this._position);if(!g||g.outsideRenderedLine)return null;let b;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(b=C.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),b>2){const E=this._context.model.getLineContent(this._position.lineNumber),N=M.nextCharLength(E,this._position.column-1);s=E.substr(this._position.column-1,N)}}else b=C.computeScreenAwareSize(1);let w=g.left;b>=2&&w>=1&&(w-=1);const L=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta;return new p(L,w,b,this._lineHeight,s,"")}const l=this._context.model.getLineContent(this._position.lineNumber),r=M.nextCharLength(l,this._position.column-1),t=a.linesVisibleRangesForRange(new d.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!t||t.length===0)return null;const n=t[0];if(n.outsideRenderedLine||n.ranges.length===0)return null;const i=n.ranges[0],u=i.width<1?this._typicalHalfwidthCharacterWidth:i.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const g=this._context.model.getViewLineData(this._position.lineNumber);s=l.substr(this._position.column-1,r);const b=g.tokens.findTokenIndexAtOffset(this._position.column-1);h=g.tokens.getClassName(b)}let v=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(v+=this._lineHeight-2,m=2),new p(v,i.left,u,m,s,h)}prepareRender(a){this._renderData=this._prepareRender(a)}render(a){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=o}),define(Q[554],J([0,1,11,4,2,285,8,18,140,74,94,33]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const c=Object.prototype.hasOwnProperty;class a extends M.Disposable{constructor(l=!0,r=!1){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=r,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},l&&(this._initializeFromRegistry(),this._register(d.ModesRegistry.onDidChangeLanguages(t=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const l=d.ModesRegistry.getLanguages();this._registerLanguages(l)}_registerLanguages(l){for(const r of l)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{let t=this._languages[r];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=t.identifier}),t.mimetypes.forEach(n=>{this._mimeTypesMap[n]=t.identifier})}),o.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(d.ModesRegistry.getLanguages().map(r=>r.id)),this._onDidChange.fire()}_getLanguageId(l){if(this._languageToLanguageId[l])return this._languageToLanguageId[l];const r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=l,this._languageToLanguageId[l]=r,r}_registerLanguage(l){const r=l.id;let t;if(c.call(this._languages,r))t=this._languages[r];else{const n=this._getLanguageId(r);t={identifier:new _.LanguageIdentifier(r,n),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[r]=t}this._mergeLanguage(t,l)}_mergeLanguage(l,r){const t=r.id;let n=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(l.mimetypes.push(...r.mimetypes),n=r.mimetypes[0]),n||(n=`text/x-${t}`,l.mimetypes.push(n)),Array.isArray(r.extensions)){r.configuration?l.extensions=r.extensions.concat(l.extensions):l.extensions=l.extensions.concat(r.extensions);for(let h of r.extensions)y.registerTextMime({id:t,mime:n,extension:h},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let h of r.filenames)y.registerTextMime({id:t,mime:n,filename:h},this._warnOnOverwrite),l.filenames.push(h);if(Array.isArray(r.filenamePatterns))for(let h of r.filenamePatterns)y.registerTextMime({id:t,mime:n,filepattern:h},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let h=r.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let v=new RegExp(h);S.regExpLeadsToEndlessLoop(v)||y.registerTextMime({id:t,mime:n,firstline:v},this._warnOnOverwrite)}catch(v){C.onUnexpectedError(v)}}l.aliases.push(t);let i=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?i=[null]:i=r.aliases),i!==null)for(const h of i)!h||h.length===0||l.aliases.push(h);let u=i!==null&&i.length>0;if(!(u&&i[0]===null)){let h=(u?i[0]:null)||t;(u||!l.name)&&(l.name=h)}r.configuration&&l.configurationFiles.push(r.configuration)}isRegisteredMode(l){return c.call(this._mimeTypesMap,l)?!0:c.call(this._languages,l)}getModeIdForLanguageNameLowercase(l){return c.call(this._lowercaseNameMap,l)?this._lowercaseNameMap[l].language:null}extractModeIds(l){return l?l.split(",").map(r=>r.trim()).map(r=>c.call(this._mimeTypesMap,r)?this._mimeTypesMap[r].language:r).filter(r=>c.call(this._languages,r)):[]}getLanguageIdentifier(l){if(l===f.NULL_MODE_ID||l===0)return f.NULL_LANGUAGE_IDENTIFIER;let r;if(typeof l=="string")r=l;else if(r=this._languageIdToLanguage[l],!r)return null;return c.call(this._languages,r)?this._languages[r].identifier:null}getModeIdsFromFilepathOrFirstLine(l,r){if(!l&&!r)return[];let t=y.guessMimeTypes(l,r);return this.extractModeIds(t.join(","))}}e.LanguagesRegistry=a}),define(Q[555],J([0,1,4,2,364,74,554,19]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class d extends k.Disposable{constructor(o,c){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._selector=c,this.languageIdentifier=this._selector(),this._register(o(()=>this._evaluate()))}_evaluate(){let o=this._selector();o.id!==this.languageIdentifier.id&&(this.languageIdentifier=o,this._onDidChange.fire(this.languageIdentifier))}}class f{constructor(o=!1){this._onDidCreateMode=new C.Emitter,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new C.Emitter,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new S.LanguagesRegistry(!0,o),this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire())}isRegisteredMode(o){return this._registry.isRegisteredMode(o)}getModeIdForLanguageName(o){return this._registry.getModeIdForLanguageNameLowercase(o)}getModeIdByFilepathOrFirstLine(o,c){const a=this._registry.getModeIdsFromFilepathOrFirstLine(o,c);return _.firstOrDefault(a,null)}getModeId(o){const c=this._registry.extractModeIds(o);return _.firstOrDefault(c,null)}getLanguageIdentifier(o){return this._registry.getLanguageIdentifier(o)}create(o){return new d(this.onLanguagesMaybeChanged,()=>{const c=this.getModeId(o);return this._createModeAndGetLanguageIdentifier(c)})}createByFilepathOrFirstLine(o,c){return new d(this.onLanguagesMaybeChanged,()=>{const a=this.getModeIdByFilepathOrFirstLine(o,c);return this._createModeAndGetLanguageIdentifier(a)})}_createModeAndGetLanguageIdentifier(o){const c=this.getLanguageIdentifier(o||"plaintext")||y.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(c.language),c}triggerMode(o){const c=this.getModeId(o);this._getOrCreateMode(c||"plaintext")}_getOrCreateMode(o){if(!this._instantiatedModes.hasOwnProperty(o)){let c=this.getLanguageIdentifier(o)||y.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[o]=new M.FrankensteinMode(c),this._onDidCreateMode.fire(this._instantiatedModes[o])}return this._instantiatedModes[o]}}e.ModeServiceImpl=f}),define(Q[46],J([0,1,33,9,94]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=k.createDecorator("configurationService");function y(c,a){const s=Object.create(null);for(let l in c)S(s,l,c[l],a);return s}e.toValuesTree=y;function S(c,a,s,l){const r=a.split("."),t=r.pop();let n=c;for(let i=0;i<r.length;i++){let u=r[i],h=n[u];switch(typeof h){case"undefined":h=n[u]=Object.create(null);break;case"object":break;default:l(`Ignoring ${a} as ${r.slice(0,i+1).join(".")} is ${JSON.stringify(h)}`);return}n=h}if(typeof n=="object"&&n!==null)try{n[t]=s}catch(i){l(`Ignoring ${a} as ${r.join(".")} is ${JSON.stringify(n)}`)}else l(`Ignoring ${a} as ${r.join(".")} is ${JSON.stringify(n)}`)}e.addToValueTree=S;function _(c,a){const s=a.split(".");d(c,s)}e.removeFromValueTree=_;function d(c,a){const s=a.shift();if(a.length===0){delete c[s];return}if(Object.keys(c).indexOf(s)!==-1){const l=c[s];typeof l=="object"&&!Array.isArray(l)&&(d(l,a),Object.keys(l).length===0&&delete c[s])}}function f(c,a,s){function l(n,i){let u=n;for(const h of i){if(typeof u!="object"||u===null)return;u=u[h]}return u}const r=a.split("."),t=l(c,r);return typeof t=="undefined"?s:t}e.getConfigurationValue=f;function p(){const c=C.Registry.as(M.Extensions.Configuration).getConfigurationProperties();return Object.keys(c)}e.getConfigurationKeys=p;function o(){const c=Object.create(null),a=C.Registry.as(M.Extensions.Configuration).getConfigurationProperties();for(let s in a){let l=a[s].default;S(c,s,l,r=>console.error(`Conflict in default settings: ${r}`))}return c}e.getDefaultValues=o}),define(Q[556],J([0,1,2,64,4,16,46]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let _=class extends C.Disposable{constructor(f,p){super();this._contextKeyService=f,this._configurationService=p,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new M.Emitter,this._accessibilityModeEnabledContext=k.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire())})),o(),this.onDidChangeScreenReaderOptimized(()=>o())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const f=this._configurationService.getValue("editor.accessibilitySupport");return f==="on"||f==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};_=Me([pe(0,y.IContextKeyService),pe(1,S.IConfigurationService)],_),e.AccessibilityService=_}),define(Q[557],J([0,1,51,19,21,39,23,94,46]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class f{constructor(s={},l=[],r=[]){this._contents=s,this._keys=l,this._overrides=r,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(s){return s?d.getConfigurationValue(this.contents,s):this.contents}override(s){const l=this.getContentsForOverrideIdentifer(s);if(!l||typeof l!="object"||!Object.keys(l).length)return this;let r={};for(const t of k.distinct([...Object.keys(this.contents),...Object.keys(l)])){let n=this.contents[t],i=l[t];i&&(typeof n=="object"&&typeof i=="object"?(n=y.deepClone(n),this.mergeContents(n,i)):n=i),r[t]=n}return new f(r,this.keys,this.overrides)}merge(...s){const l=y.deepClone(this.contents),r=y.deepClone(this.overrides),t=[...this.keys];for(const n of s){this.mergeContents(l,n.contents);for(const i of n.overrides){const[u]=r.filter(h=>k.equals(h.identifiers,i.identifiers));u?this.mergeContents(u.contents,i.contents):r.push(y.deepClone(i))}for(const i of n.keys)t.indexOf(i)===-1&&t.push(i)}return new f(l,t,r)}freeze(){return this.isFrozen=!0,this}mergeContents(s,l){for(const r of Object.keys(l)){if(r in s&&M.isObject(s[r])&&M.isObject(l[r])){this.mergeContents(s[r],l[r]);continue}s[r]=y.deepClone(l[r])}}checkAndFreeze(s){return this.isFrozen&&!Object.isFrozen(s)?y.deepFreeze(s):s}getContentsForOverrideIdentifer(s){for(const l of this.overrides)if(l.identifiers.indexOf(s)!==-1)return l.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(s,l){this.addKey(s),d.addToValueTree(this.contents,s,l,r=>{throw new Error(r)})}removeValue(s){this.removeKey(s)&&d.removeFromValueTree(this.contents,s)}addKey(s){let l=this.keys.length;for(let r=0;r<l;r++)s.indexOf(this.keys[r])===0&&(l=r);this.keys.splice(l,1,s)}removeKey(s){let l=this.keys.indexOf(s);return l!==-1?(this.keys.splice(l,1),!0):!1}}e.ConfigurationModel=f;class p extends f{constructor(){const s=d.getDefaultValues(),l=d.getConfigurationKeys(),r=[];for(const t of Object.keys(s))_.OVERRIDE_PROPERTY_PATTERN.test(t)&&r.push({identifiers:[_.overrideIdentifierFromKey(t).trim()],keys:Object.keys(s[t]),contents:d.toValuesTree(s[t],n=>console.error(`Conflict in default settings file: ${n}`))});super(s,l,r)}}e.DefaultConfigurationModel=p;class o{constructor(s,l,r=new f,t=new f,n=new C.ResourceMap,i=new f,u=new C.ResourceMap,h=!0){this._defaultConfiguration=s,this._localUserConfiguration=l,this._remoteUserConfiguration=r,this._workspaceConfiguration=t,this._folderConfigurations=n,this._memoryConfiguration=i,this._memoryConfigurationByResource=u,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new C.ResourceMap,this._userConfiguration=null}getValue(s,l,r){return this.getConsolidateConfigurationModel(l,r).getValue(s)}updateValue(s,l,r={}){let t;r.resource?(t=this._memoryConfigurationByResource.get(r.resource),t||(t=new f,this._memoryConfigurationByResource.set(r.resource,t))):t=this._memoryConfiguration,l===void 0?t.removeValue(s):t.setValue(s,l),r.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(s,l){let r=this.getConsolidatedConfigurationModelForResource(s,l);return s.overrideIdentifier?r.override(s.overrideIdentifier):r}getConsolidatedConfigurationModelForResource({resource:s},l){let r=this.getWorkspaceConsolidatedConfiguration();if(l&&s){const t=l.getFolder(s);t&&(r=this.getFolderConsolidatedConfiguration(t.uri)||r);const n=this._memoryConfigurationByResource.get(s);n&&(r=r.merge(n))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let l=this._foldersConsolidatedConfigurations.get(s);if(!l){const r=this.getWorkspaceConsolidatedConfiguration(),t=this._folderConfigurations.get(s);t?(l=r.merge(t),this._freeze&&(l=l.freeze()),this._foldersConsolidatedConfigurations.set(s,l)):l=r}return l}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,l)=>{const{contents:r,overrides:t,keys:n}=this._folderConfigurations.get(l);return s.push([l,{contents:r,overrides:t,keys:n}]),s},[])}}static parse(s){const l=this.parseConfigurationModel(s.defaults),r=this.parseConfigurationModel(s.user),t=this.parseConfigurationModel(s.workspace),n=s.folders.reduce((i,u)=>(i.set(S.URI.revive(u[0]),this.parseConfigurationModel(u[1])),i),new C.ResourceMap);return new o(l,r,new f,t,n,new f,new C.ResourceMap,!1)}static parseConfigurationModel(s){return new f(s.contents,s.keys,s.overrides).freeze()}}e.Configuration=o;class c{constructor(s,l,r,t){this.change=s,this.previous=l,this.currentConfiguraiton=r,this.currentWorkspace=t,this._previousConfiguration=void 0;const n=new Set;s.keys.forEach(u=>n.add(u)),s.overrides.forEach(([,u])=>u.forEach(h=>n.add(h))),this.affectedKeys=[...n.values()];const i=new f;this.affectedKeys.forEach(u=>i.setValue(u,{})),this.affectedKeysTree=i.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=o.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(s,l){var r;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,s)){if(l){const t=this.previousConfiguration?this.previousConfiguration.getValue(s,l,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,n=this.currentConfiguraiton.getValue(s,l,this.currentWorkspace);return!y.equals(t,n)}return!0}return!1}doesAffectedKeysTreeContains(s,l){let r=d.toValuesTree({[l]:!0},()=>{}),t;for(;typeof r=="object"&&(t=Object.keys(r)[0]);){if(s=s[t],!s)return!1;r=r[t]}return!0}}e.ConfigurationChangeEvent=c}),define(Q[558],J([0,1,4,54,2,51,26,46,16,247]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const p="data-keybinding-context";class o{constructor(m,g){this._id=m,this._parent=g,this._value=Object.create(null),this._value._contextId=m}setValue(m,g){return this._value[m]!==g?(this._value[m]=g,!0):!1}removeValue(m){return m in this._value?(delete this._value[m],!0):!1}getValue(m){const g=this._value[m];return typeof g=="undefined"&&this._parent?this._parent.getValue(m):g}}e.Context=o;class c extends o{constructor(){super(-1,null)}setValue(m,g){return!1}removeValue(m){return!1}getValue(m){}}c.INSTANCE=new c;class a extends o{constructor(m,g,b){super(m,null);this._configurationService=g,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(w=>{if(w.source===6){const L=Array.from(k.Iterable.map(this._values,([E])=>E));this._values.clear(),b.fire(new r(L))}else{const L=[];for(const E of w.affectedKeys){const N=`config.${E}`,I=this._values.findSuperstr(N);I!==void 0&&(L.push(...k.Iterable.map(I,([T])=>T)),this._values.deleteSuperstr(N)),this._values.has(N)&&(L.push(N),this._values.delete(N))}b.fire(new r(L))}})}dispose(){this._listener.dispose()}getValue(m){if(m.indexOf(a._keyPrefix)!==0)return super.getValue(m);if(this._values.has(m))return this._values.get(m);const g=m.substr(a._keyPrefix.length),b=this._configurationService.getValue(g);let w;switch(typeof b){case"number":case"boolean":case"string":w=b;break;default:Array.isArray(b)?w=JSON.stringify(b):w=b}return this._values.set(m,w),w}setValue(m,g){return super.setValue(m,g)}removeValue(m){return super.removeValue(m)}}a._keyPrefix="config.";class s{constructor(m,g,b){this._service=m,this._key=g,this._defaultValue=b,this.reset()}set(m){this._service.setContext(this._key,m)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class l{constructor(m){this.key=m}affectsSome(m){return m.has(this.key)}}class r{constructor(m){this.keys=m}affectsSome(m){for(const g of this.keys)if(m.has(g))return!0;return!1}}class t{constructor(m){this.events=m}affectsSome(m){for(const g of this.events)if(g.affectsSome(m))return!0;return!1}}class n{constructor(m){this._onDidChangeContext=new C.PauseableEmitter({merge:g=>new t(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=m}createKey(m,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new s(this,m,g)}bufferChangeEvents(m){this._onDidChangeContext.pause();try{m()}finally{this._onDidChangeContext.resume()}}createScoped(m){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new u(this,m)}contextMatchesRules(m){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return f.KeybindingResolver.contextMatchesRules(g,m)}getContextKeyValue(m){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(m)}setContext(m,g){if(!this._isDisposed){const b=this.getContextValuesContainer(this._myContextId);!b||b.setValue(m,g)&&this._onDidChangeContext.fire(new l(m))}}removeContext(m){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(m)&&this._onDidChangeContext.fire(new l(m))}getContext(m){return this._isDisposed?c.INSTANCE:this.getContextValuesContainer(h(m))}}e.AbstractContextKeyService=n;let i=class extends n{constructor(m){super(0);this._contexts=new Map,this._toDispose=new M.DisposableStore,this._lastContextId=0;const g=new a(this._myContextId,m,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(m){return this._isDisposed?c.INSTANCE:this._contexts.get(m)||c.INSTANCE}createChildContext(m=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new o(g,this.getContextValuesContainer(m))),g}disposeContext(m){this._isDisposed||this._contexts.delete(m)}};i=Me([pe(0,_.IConfigurationService)],i),e.ContextKeyService=i;class u extends n{constructor(m,g){super(m.createChildContext());if(this._parentChangeListener=new M.MutableDisposable,this._parent=m,this._updateParentChangeListener(),g){if(this._domNode=g,this._domNode.hasAttribute(p)){let b="";this._domNode.classList&&(b=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${b?": "+b:""}`)}this._domNode.setAttribute(p,String(this._myContextId))}}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){var m;this._onDidChangeContext.dispose(),this._isDisposed=!0,this._parent.disposeContext(this._myContextId),(m=this._parentChangeListener)===null||m===void 0||m.dispose(),this._domNode&&(this._domNode.removeAttribute(p),this._domNode=void 0)}getContextValuesContainer(m){return this._isDisposed?c.INSTANCE:this._parent.getContextValuesContainer(m)}createChildContext(m=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(m)}disposeContext(m){this._isDisposed||this._parent.disposeContext(m)}}function h(v){for(;v;){if(v.hasAttribute(p)){const m=v.getAttribute(p);return m?parseInt(m,10):NaN}v=v.parentElement}return 0}S.CommandsRegistry.registerCommand(d.SET_CONTEXT_COMMAND_ID,function(v,m,g){v.get(d.IContextKeyService).createKey(String(m),g)})}),define(Q[86],J([0,1,38,17,26,33]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(f){if(k.OS===1){if(f&&f.win)return f.win}else if(k.OS===2){if(f&&f.mac)return f.mac}else if(f&&f.linux)return f.linux;return f}registerKeybindingRule(f){const p=S.bindToCurrentPlatform(f);if(p&&p.primary){const o=C.createKeybinding(p.primary,k.OS);o&&this._registerDefaultKeybinding(o,f.id,f.args,f.weight,0,f.when)}if(p&&Array.isArray(p.secondary))for(let o=0,c=p.secondary.length;o<c;o++){const a=p.secondary[o],s=C.createKeybinding(a,k.OS);s&&this._registerDefaultKeybinding(s,f.id,f.args,f.weight,-o-1,f.when)}}registerCommandAndKeybindingRule(f){this.registerKeybindingRule(f),M.CommandsRegistry.registerCommand(f)}static _mightProduceChar(f){return f>=21&&f<=30||f>=31&&f<=56?!0:f===80||f===81||f===82||f===83||f===84||f===85||f===86||f===110||f===111||f===87||f===88||f===89||f===90||f===91||f===92}_assertNoCtrlAlt(f,p){f.ctrlKey&&f.altKey&&!f.metaKey&&S._mightProduceChar(f.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",f," for ",p)}_registerDefaultKeybinding(f,p,o,c,a,s){k.OS===1&&this._assertNoCtrlAlt(f.parts[0],p),this._coreKeybindings.push({keybinding:f,command:p,commandArgs:o,when:s,weight1:c,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},y.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function _(d,f){return d.weight1!==f.weight1?d.weight1-f.weight1:d.command<f.command?-1:d.command>f.command?1:d.weight2-f.weight2}}),define(Q[559],J([0,1,16,422,86,423]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(c,a,s){new C.RawContextKey(s,a).bindTo(c)}function _(c,a){return c.createScoped(a.target)}function d(c,a){return c.getContext(document.activeElement).getValue(a)}function f(c,a){const s=_(c,a);S(s,a,e.HistoryNavigationWidgetContext);const l=new C.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(s);return{scopedContextKeyService:s,historyNavigationEnablement:l}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=f;let p=class extends k.FindInput{constructor(a,s,l,r,t=!1){super(a,s,t,l);this._register(f(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};p=Me([pe(3,C.IContextKeyService)],p),e.ContextScopedFindInput=p;let o=class extends y.ReplaceInput{constructor(a,s,l,r,t=!1){super(a,s,t,l);this._register(f(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};o=Me([pe(3,C.IContextKeyService)],o),e.ContextScopedReplaceInput=o,M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:C.ContextKeyExpr.and(C.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),C.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(c,a)=>{const s=d(c.get(C.IContextKeyService),e.HistoryNavigationWidgetContext);s&&s.historyNavigator.showPreviousValue()}}),M.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:C.ContextKeyExpr.and(C.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),C.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(c,a)=>{const s=d(c.get(C.IContextKeyService),e.HistoryNavigationWidgetContext);s&&s.historyNavigator.showNextValue()}})}),define(Q[95],J([0,1,33,19,2]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var y;(function(_){_[_.PRESERVE=0]="PRESERVE",_[_.LAST=1]="LAST"})(y=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(d){return d.prefix.length===0?this.defaultProvider=d:this.providers.push(d),this.providers.sort((f,p)=>p.prefix.length-f.prefix.length),M.toDisposable(()=>{this.providers.splice(this.providers.indexOf(d),1),this.defaultProvider===d&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return k.coalesce([this.defaultProvider,...this.providers])}getQuickAccessProvider(d){return d&&this.providers.find(p=>d.startsWith(p.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,C.Registry.add(e.Extensions.Quickaccess,new S)}),define(Q[560],J([0,1,77,95,33,511,2]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let _=class ot{constructor(f){this.quickInputService=f,this.registry=M.Registry.as(k.Extensions.Quickaccess)}provide(f){const p=new S.DisposableStore;p.add(f.onDidAccept(()=>{const[a]=f.selectedItems;a&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),p.add(f.onDidChangeValue(a=>{const s=this.registry.getQuickAccessProvider(a.substr(ot.PREFIX.length));s&&s.prefix&&s.prefix!==ot.PREFIX&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})}));const{editorProviders:o,globalProviders:c}=this.getQuickAccessProviders();return f.items=o.length===0||c.length===0?[...o.length===0?c:o]:[{label:y.localize(0,null),type:"separator"},...c,{label:y.localize(1,null),type:"separator"},...o],p}getQuickAccessProviders(){const f=[],p=[];for(const o of this.registry.getQuickAccessProviders().sort((c,a)=>c.prefix.localeCompare(a.prefix)))if(o.prefix!==ot.PREFIX)for(const c of o.helpEntries){const a=c.prefix||o.prefix,s=a||"\u2026";(c.needsEditor?p:f).push({prefix:a,label:s,ariaLabel:y.localize(2,null,s,c.description),description:c.description})}return{editorProviders:p,globalProviders:f}}};_.PREFIX="?",_=Me([pe(0,C.IQuickInputService)],_),e.HelpQuickAccessProvider=_}),define(Q[561],J([0,1,33,95,63,560]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),C.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:y.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:M.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(Q[562],J([0,1,77,2,95,33,25,9,88]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let f=class extends k.Disposable{constructor(o,c){super();this.quickInputService=o,this.instantiationService=c,this.registry=y.Registry.as(M.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(o="",c){var a;const[s,l]=this.getOrInstantiateProvider(o),r=this.visibleQuickAccess,t=r==null?void 0:r.descriptor;if(r&&l&&t===l){o!==l.prefix&&!(c==null?void 0:c.preserveValue)&&(r.picker.value=o),this.adjustValueSelection(r.picker,l,c);return}if(l&&!(c==null?void 0:c.preserveValue)){let h;if(r&&t&&t!==l){const v=r.value.substr(t.prefix.length);v&&(h=`${l.prefix}${v}`)}if(!h){const v=s==null?void 0:s.defaultFilterValue;v===M.DefaultQuickAccessFilterValue.LAST?h=this.lastAcceptedPickerValues.get(l):typeof v=="string"&&(h=`${l.prefix}${v}`)}typeof h=="string"&&(o=h)}const n=new k.DisposableStore,i=n.add(this.quickInputService.createQuickPick());i.value=o,this.adjustValueSelection(i,l,c),i.placeholder=l==null?void 0:l.placeholder,i.quickNavigate=c==null?void 0:c.quickNavigateConfiguration,i.hideInput=!!i.quickNavigate&&!r,(typeof(c==null?void 0:c.itemActivation)=="number"||(c==null?void 0:c.quickNavigateConfiguration))&&(i.itemActivation=(a=c==null?void 0:c.itemActivation)!==null&&a!==void 0?a:C.ItemActivation.SECOND),i.contextKey=l==null?void 0:l.contextKey,i.filterValue=h=>h.substring(l?l.prefix.length:0),(l==null?void 0:l.placeholder)&&(i.ariaLabel=l==null?void 0:l.placeholder);const u=this.registerPickerListeners(i,s,l,o,n);s&&n.add(s.provide(i,u)),i.show()}adjustValueSelection(o,c,a){var s;let l;(a==null?void 0:a.preserveValue)?l=[o.value.length,o.value.length]:l=[(s=c==null?void 0:c.prefix.length)!==null&&s!==void 0?s:0,o.value.length],o.valueSelection=l}registerPickerListeners(o,c,a,s,l){const r=this.visibleQuickAccess={picker:o,descriptor:a,value:s};l.add(k.toDisposable(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),l.add(o.onDidChangeValue(n=>{const[i]=this.getOrInstantiateProvider(n);i!==c?this.show(n,{preserveValue:!0}):r.value=n})),a&&l.add(o.onDidAccept(()=>{this.lastAcceptedPickerValues.set(a,o.value)}));const t=l.add(new S.CancellationTokenSource);return d.once(o.onDidHide)(()=>{o.selectedItems.length===0&&t.cancel(),l.dispose()}),t.token}getOrInstantiateProvider(o){const c=this.registry.getQuickAccessProvider(o);if(!c)return[void 0,void 0];let a=this.mapProviderToDescriptor.get(c);return a||(a=this.instantiationService.createInstance(c.ctor),this.mapProviderToDescriptor.set(c,a)),[a,c]}};f=Me([pe(0,C.IQuickInputService),pe(1,_.IInstantiationService)],f),e.QuickAccessController=f}),define(Q[78],J([0,1,9,4,2,21]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const S="__$__targetStorageMarker";e.IStorageService=C.createDecorator("storageService");var _;(function(p){p[p.NONE=0]="NONE",p[p.SHUTDOWN=1]="SHUTDOWN"})(_=e.WillSaveStateReason||(e.WillSaveStateReason={}));class d extends M.Disposable{constructor(){super(...arguments);this._onDidChangeValue=this._register(new k.PauseableEmitter),this._onDidChangeTarget=this._register(new k.PauseableEmitter),this._onWillSaveState=this._register(new k.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(o,c){c===S?(o===0?this._globalKeyTargets=void 0:o===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:o})):this._onDidChangeValue.fire({scope:o,key:c,target:this.getKeyTargets(o)[c]})}store(o,c,a,s){if(y.isUndefinedOrNull(c)){this.remove(o,a);return}this.withPausedEmitters(()=>{this.updateKeyTarget(o,a,s),this.doStore(o,c,a)})}remove(o,c){this.withPausedEmitters(()=>{this.updateKeyTarget(o,c,void 0),this.doRemove(o,c)})}withPausedEmitters(o){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{o()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(o,c,a){const s=this.getKeyTargets(c);typeof a=="number"?s[o]!==a&&(s[o]=a,this.doStore(S,JSON.stringify(s),c)):typeof s[o]=="number"&&(delete s[o],this.doStore(S,JSON.stringify(s),c))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(o){return o===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(o){const c=this.get(S,o);if(c)try{return JSON.parse(c)}catch(a){}return Object.create(null)}}e.AbstractStorageService=d;class f extends d{constructor(){super(...arguments);this.globalCache=new Map,this.workspaceCache=new Map}getCache(o){return o===0?this.globalCache:this.workspaceCache}get(o,c,a){const s=this.getCache(c).get(o);return y.isUndefinedOrNull(s)?a:s}getBoolean(o,c,a){const s=this.getCache(c).get(o);return y.isUndefinedOrNull(s)?a:s==="true"}getNumber(o,c,a){const s=this.getCache(c).get(o);return y.isUndefinedOrNull(s)?a:parseInt(s,10)}doStore(o,c,a){const s=String(c);this.getCache(a).get(o)!==s&&(this.getCache(a).set(o,s),this.emitDidChangeValue(a,o))}doRemove(o,c){!this.getCache(c).delete(o)||this.emitDidChangeValue(c,o)}}e.InMemoryStorageService=f}),define(Q[563],J([0,1,9,72,245,51,78,3,15,88]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=C.createDecorator("ICodeLensCache");class p{constructor(a,s){this.lineCount=a,this.data=s}}let o=class{constructor(a){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.LRUCache(20,.75);const s="codelens/cache";d.runWhenIdle(()=>a.remove(s,1));const l="codelens/cache2",r=a.get(l,1,"{}");this._deserialize(r),f.once(a.onWillSaveState)(t=>{t.reason===S.WillSaveStateReason.SHUTDOWN&&a.store(l,this._serialize(),1,1)})}put(a,s){const l=s.lenses.map(n=>{var i;return{range:n.symbol.range,command:n.symbol.command&&{id:"",title:(i=n.symbol.command)===null||i===void 0?void 0:i.title}}}),r=new M.CodeLensModel;r.add({lenses:l,dispose:()=>{}},this._fakeProvider);const t=new p(a.getLineCount(),r);this._cache.set(a.uri.toString(),t)}get(a){const s=this._cache.get(a.uri.toString());return s&&s.lineCount===a.getLineCount()?s.data:void 0}delete(a){this._cache.delete(a.uri.toString())}_serialize(){const a=Object.create(null);for(const[s,l]of this._cache){const r=new Set;for(const t of l.data.lenses)r.add(t.symbol.range.startLineNumber);a[s]={lineCount:l.lineCount,lines:[...r.values()]}}return JSON.stringify(a)}_deserialize(a){try{const s=JSON.parse(a);for(const l in s){const r=s[l],t=[];for(const i of r.lines)t.push({range:new _.Range(i,1,i,11)});const n=new M.CodeLensModel;n.add({lenses:t,dispose(){}},this._fakeProvider),this._cache.set(l,new p(r.lineCount,n))}}catch(s){}}};o=Me([pe(0,S.IStorageService)],o),e.CodeLensCache=o,k.registerSingleton(e.ICodeLensCache,o)}),define(Q[564],J([0,1,51,78,18,2,15,9,46,72,67]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class o{constructor(t){this.name=t}select(t,n,i){if(i.length===0)return 0;let u=i[0].score[0];for(let h=0;h<i.length;h++){const{score:v,completion:m}=i[h];if(v[0]!==u)break;if(m.preselect)return h}return 0}}e.Memory=o;class c extends o{constructor(){super("first")}memorize(t,n,i){}toJSON(){}fromJSON(){}}e.NoMemory=c;class a extends o{constructor(){super("recentlyUsed");this._cache=new C.LRUCache(300,.66),this._seq=0}memorize(t,n,i){const u=`${t.getLanguageIdentifier().language}/${i.textLabel}`;this._cache.set(u,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(t,n,i){if(i.length===0)return 0;const u=t.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(u))return super.select(t,n,i);let h=i[0].score[0],v=-1,m=-1,g=-1;for(let b=0;b<i.length&&i[b].score[0]===h;b++){const w=`${t.getLanguageIdentifier().language}/${i[b].textLabel}`,L=this._cache.peek(w);if(L&&L.touch>g&&L.type===i[b].completion.kind&&L.insertText===i[b].completion.insertText&&(g=L.touch,m=b),i[b].completion.preselect&&v===-1)return v=b}return m!==-1?m:v!==-1?v:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();let n=0;for(const[i,u]of t)u.touch=n,u.type=typeof u.type=="number"?u.type:M.completionKindFromString(u.type),this._cache.set(i,u);this._seq=this._cache.size}}e.LRUMemory=a;class s extends o{constructor(){super("recentlyUsedByPrefix");this._trie=C.TernarySearchTree.forStrings(),this._seq=0}memorize(t,n,i){const{word:u}=t.getWordUntilPosition(n),h=`${t.getLanguageIdentifier().language}/${u}`;this._trie.set(h,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(t,n,i){let{word:u}=t.getWordUntilPosition(n);if(!u)return super.select(t,n,i);let h=`${t.getLanguageIdentifier().language}/${u}`,v=this._trie.get(h);if(v||(v=this._trie.findSubstr(h)),v)for(let m=0;m<i.length;m++){let{kind:g,insertText:b}=i[m].completion;if(g===v.type&&b===v.insertText)return m}return super.select(t,n,i)}toJSON(){let t=[];return this._trie.forEach((n,i)=>t.push([i,n])),t.sort((n,i)=>-(n[1].touch-i[1].touch)).forEach((n,i)=>n[1].touch=i),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(const[n,i]of t)i.type=typeof i.type=="number"?i.type:M.completionKindFromString(i.type),this._trie.set(n,i)}}}e.PrefixMemory=s;let l=class at{constructor(t,n,i){this._storageService=t,this._modeService=n,this._configService=i,this._disposables=new y.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(u=>{u.reason===k.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,n,i){this._withStrategy(t,n).memorize(t,n,i),this._persistSoon.schedule()}select(t,n,i){return this._withStrategy(t,n).select(t,n,i)}_withStrategy(t,n){var i,u;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(i=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(n.lineNumber,n.column)))===null||i===void 0?void 0:i.language,resource:t.uri});if(((u=this._strategy)===null||u===void 0?void 0:u.name)!==h){this._saveState();const v=at._strategyCtors.get(h)||c;this._strategy=new v;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${at._storagePrefix}/${h}`,g);b&&this._strategy.fromJSON(JSON.parse(b))}catch(m){}}return this._strategy}_saveState(){if(this._strategy){const n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${at._storagePrefix}/${this._strategy.name}`,i,n,1)}}};l._strategyCtors=new Map([["recentlyUsedByPrefix",s],["recentlyUsed",a],["first",c]]),l._storagePrefix="suggest/memories",l=Me([pe(0,k.IStorageService),pe(1,p.IModeService),pe(2,d.IConfigurationService)],l),e.SuggestMemoryService=l,e.ISuggestMemoryService=_.createDecorator("ISuggestMemories"),f.registerSingleton(e.ISuggestMemoryService,l,!0)}),define(Q[87],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=C.createDecorator("telemetryService")}),define(Q[13],J([0,1,436,23,28,12,45,75,35,26,16,86,33,87,21]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class l{constructor(R){this.id=R.id,this.precondition=R.precondition,this._kbOpts=R.kbOpts,this._menuOpts=R.menuOpts,this._description=R.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let R=this._kbOpts.kbExpr;this.precondition&&(R?R=p.ContextKeyExpr.and(R,this.precondition):R=this.precondition),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:this.id,handler:(F,D)=>this.runCommand(F,D),weight:this._kbOpts.weight,args:this._kbOpts.args,when:R,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else f.CommandsRegistry.registerCommand({id:this.id,handler:(R,F)=>this.runCommand(R,F),description:this._description})}_registerMenuItem(R){d.MenuRegistry.appendMenuItem(R.menuId,{group:R.group,command:{id:this.id,title:R.title,icon:R.icon,precondition:this.precondition},when:R.when,order:R.order})}}e.Command=l;class r extends l{constructor(){super(...arguments);this._implementations=[]}addImplementation(R,F){return this._implementations.push([R,F]),this._implementations.sort((D,B)=>B[0]-D[0]),{dispose:()=>{for(let D=0;D<this._implementations.length;D++)if(this._implementations[D][1]===F){this._implementations.splice(D,1);return}}}}runCommand(R,F){for(const D of this._implementations){const B=D[1](R,F);if(B)return typeof B=="boolean"?void 0:B}}}e.MultiCommand=r;class t extends l{constructor(R,F){super(F);this.command=R}runCommand(R,F){return this.command.runCommand(R,F)}}e.ProxyCommand=t;class n extends l{static bindToContribution(R){return class extends n{constructor(D){super(D);this._callback=D.handler}runEditorCommand(D,B,A){R(B)&&this._callback(R(B),A)}}}runCommand(R,F){const D=R.get(M.ICodeEditorService),B=D.getFocusedCodeEditor()||D.getActiveCodeEditor();if(!!B)return B.invokeWithinContext(A=>{if(!!A.get(p.IContextKeyService).contextMatchesRules(s.withNullAsUndefined(this.precondition)))return this.runEditorCommand(A,B,F)})}}e.EditorCommand=n;class i extends n{constructor(R){super(i.convertOptions(R));this.label=R.label,this.alias=R.alias}static convertOptions(R){let F;Array.isArray(R.menuOpts)?F=R.menuOpts:R.menuOpts?F=[R.menuOpts]:F=[];function D(B){return B.menuId||(B.menuId=d.MenuId.EditorContext),B.title||(B.title=R.label),B.when=p.ContextKeyExpr.and(R.precondition,B.when),B}return Array.isArray(R.contextMenuOpts)?F.push(...R.contextMenuOpts.map(D)):R.contextMenuOpts&&F.push(D(R.contextMenuOpts)),R.menuOpts=F,R}runEditorCommand(R,F,D){return this.reportTelemetry(R,F),this.run(R,F,D||{})}reportTelemetry(R,F){R.get(a.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=i;class u extends i{constructor(R){super(R);this._implementations=[]}runEditorCommand(R,F,D){this.reportTelemetry(R,F);for(const B of this._implementations)if(B[1](R,D))return;return this.run(R,F,D||{})}}e.MultiEditorAction=u;function h(O,R){f.CommandsRegistry.registerCommand(O,function(F,...D){const[B,A]=D;s.assertType(k.URI.isUri(B)),s.assertType(y.Position.isIPosition(A));const W=F.get(S.IModelService).getModel(B);if(W){const V=y.Position.lift(A);return R(W,V,...D.slice(2))}return F.get(_.ITextModelService).createModelReference(B).then(V=>new Promise((K,j)=>{try{const ee=R(V.object.textEditorModel,y.Position.lift(A),D.slice(2));K(ee)}catch(ee){j(ee)}}).finally(()=>{V.dispose()}))})}e.registerModelAndPositionCommand=h;function v(O,R){f.CommandsRegistry.registerCommand(O,function(F,...D){const[B]=D;s.assertType(k.URI.isUri(B));const A=F.get(S.IModelService).getModel(B);return A?R(A,...D.slice(1)):F.get(_.ITextModelService).createModelReference(B).then(W=>new Promise((V,K)=>{try{const j=R(W.object.textEditorModel,D.slice(1));V(j)}catch(j){K(j)}}).finally(()=>{W.dispose()}))})}e.registerModelCommand=v;function m(O){return I.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=m;function g(O){const R=new O;return I.INSTANCE.registerEditorAction(R),R}e.registerEditorAction=g;function b(O){return I.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=b;function w(O){I.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=w;function L(O,R){I.INSTANCE.registerEditorContribution(O,R)}e.registerEditorContribution=L;var E;(function(O){function R(W){return I.INSTANCE.getEditorCommand(W)}O.getEditorCommand=R;function F(){return I.INSTANCE.getEditorActions()}O.getEditorActions=F;function D(){return I.INSTANCE.getEditorContributions()}O.getEditorContributions=D;function B(W){return I.INSTANCE.getEditorContributions().filter(V=>W.indexOf(V.id)>=0)}O.getSomeEditorContributions=B;function A(){return I.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=A})(E=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const N={EditorCommonContributions:"editor.contributions"};class I{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(R,F){this.editorContributions.push({id:R,ctor:F})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(R){R.register(),this.editorActions.push(R)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(R){R.register(),this.editorCommands[R.id]=R}getEditorCommand(R){return this.editorCommands[R]||null}}I.INSTANCE=new I,c.Registry.add(N.EditorCommonContributions,I.INSTANCE);function T(O){return O.register(),O}e.UndoCommand=T(new r({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:d.MenuId.MenubarEditMenu,group:"1_do",title:C.localize(0,null),order:1},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(1,null),order:1}]})),T(new t(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=T(new r({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:d.MenuId.MenubarEditMenu,group:"1_do",title:C.localize(2,null),order:2},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(3,null),order:1}]})),T(new t(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=T(new r({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:d.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(4,null),order:1},{menuId:d.MenuId.CommandPalette,group:"",title:C.localize(5,null),order:1}]}))}),define(Q[183],J([0,1,434,34,21,13,28,523,42,177,239,178,12,3,24,16,86]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const t=0;class n extends y.EditorCommand{runEditorCommand(I,T,O){const R=T._getViewModel();!R||this.runCoreEditorCommand(R,O||{})}}e.CoreEditorCommand=n;var i;(function(N){const I=function(O){if(!M.isObject(O))return!1;const R=O;return!(!M.isString(R.to)||!M.isUndefined(R.by)&&!M.isString(R.by)||!M.isUndefined(R.value)&&!M.isNumber(R.value)||!M.isUndefined(R.revealCursor)&&!M.isBoolean(R.revealCursor))};N.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:I,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Down:"down"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function T(O){let R;switch(O.to){case N.RawDirection.Up:R=1;break;case N.RawDirection.Down:R=2;break;default:return null}let F;switch(O.by){case N.RawUnit.Line:F=1;break;case N.RawUnit.WrappedLine:F=2;break;case N.RawUnit.Page:F=3;break;case N.RawUnit.HalfPage:F=4;break;default:F=2}const D=Math.floor(O.value||1),B=!!O.revealCursor;return{direction:R,unit:F,value:D,revealCursor:B,select:!!O.select}}N.parse=T})(i=e.EditorScroll_||(e.EditorScroll_={}));var u;(function(N){const I=function(T){if(!M.isObject(T))return!1;const O=T;return!(!M.isNumber(O.lineNumber)&&!M.isString(O.lineNumber)||!M.isUndefined(O.at)&&!M.isString(O.at))};N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:I,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(u=e.RevealLine_||(e.RevealLine_={}));class h{constructor(I){I.addImplementation(1e4,(T,O)=>{const R=T.get(S.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(T,R,O):!1}),I.addImplementation(1e3,(T,O)=>{const R=document.activeElement;return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),I.addImplementation(0,(T,O)=>{const R=T.get(S.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(T,R,O)):!1})}_runEditorCommand(I,T,O){const R=this.runEditorCommand(I,T,O);return R||!0}}var v;(function(N){class I extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,[p.CursorMoveCommands.moveTo(P,P.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),P.revealPrimaryCursor(x.source,!0)}}N.MoveTo=y.registerEditorCommand(new I({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=y.registerEditorCommand(new I({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class T extends n{runCoreEditorCommand(P,x){P.model.pushStackElement();const z=this._getColumnSelectResult(P,P.getPrimaryCursorState(),P.getCursorColumnSelectData(),x);P.setCursorStates(x.source,3,z.viewStates.map(U=>d.CursorState.fromViewState(U))),P.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:z.fromLineNumber,fromViewVisualColumn:z.fromVisualColumn,toViewLineNumber:z.toLineNumber,toViewVisualColumn:z.toVisualColumn}),z.reversed?P.revealTopMostCursor(x.source):P.revealBottomMostCursor(x.source)}}N.ColumnSelect=y.registerEditorCommand(new class extends T{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Y,P,x,z){const U=Y.model.validatePosition(z.position),H=Y.coordinatesConverter.validateViewPosition(new c.Position(z.viewPosition.lineNumber,z.viewPosition.column),U);let q=z.doColumnSelect?x.fromViewLineNumber:H.lineNumber,ie=z.doColumnSelect?x.fromViewVisualColumn:z.mouseColumn-1;return _.ColumnSelection.columnSelect(Y.cursorConfig,Y,q,ie,H.lineNumber,z.mouseColumn-1)}}),N.CursorColumnSelectLeft=y.registerEditorCommand(new class extends T{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(Y,P,x,z){return _.ColumnSelection.columnSelectLeft(Y.cursorConfig,Y,x)}}),N.CursorColumnSelectRight=y.registerEditorCommand(new class extends T{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(Y,P,x,z){return _.ColumnSelection.columnSelectRight(Y.cursorConfig,Y,x)}});class O extends T{constructor(P){super(P);this._isPaged=P.isPaged}_getColumnSelectResult(P,x,z,U){return _.ColumnSelection.columnSelectUp(P.cursorConfig,P,z,this._isPaged)}}N.CursorColumnSelectUp=y.registerEditorCommand(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),N.CursorColumnSelectPageUp=y.registerEditorCommand(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class R extends T{constructor(P){super(P);this._isPaged=P.isPaged}_getColumnSelectResult(P,x,z,U){return _.ColumnSelection.columnSelectDown(P.cursorConfig,P,z,this._isPaged)}}N.CursorColumnSelectDown=y.registerEditorCommand(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),N.CursorColumnSelectPageDown=y.registerEditorCommand(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class F extends n{constructor(){super({id:"cursorMove",precondition:void 0,description:p.CursorMove.description})}runCoreEditorCommand(P,x){const z=p.CursorMove.parse(x);!z||this._runCursorMove(P,x.source,z)}_runCursorMove(P,x,z){P.model.pushStackElement(),P.setCursorStates(x,3,F._move(P,P.getCursorStates(),z)),P.revealPrimaryCursor(x,!0)}static _move(P,x,z){const U=z.select,H=z.value;switch(z.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return p.CursorMoveCommands.simpleMove(P,x,z.direction,U,H,z.unit);case 9:case 11:case 10:case 12:return p.CursorMoveCommands.viewportMove(P,x,z.direction,U,H);default:return null}}}N.CursorMoveImpl=F,N.CursorMove=y.registerEditorCommand(new F);class D extends n{constructor(P){super(P);this._staticArgs=P.args}runCoreEditorCommand(P,x){let z=this._staticArgs;this._staticArgs.value===-1&&(z={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:P.cursorConfig.pageSize}),P.model.pushStackElement(),P.setCursorStates(x.source,3,p.CursorMoveCommands.simpleMove(P,P.getCursorStates(),z.direction,z.select,z.value,z.unit)),P.revealPrimaryCursor(x.source,!0)}}N.CursorLeft=y.registerEditorCommand(new D({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),N.CursorLeftSelect=y.registerEditorCommand(new D({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|15}})),N.CursorRight=y.registerEditorCommand(new D({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),N.CursorRightSelect=y.registerEditorCommand(new D({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|17}})),N.CursorUp=y.registerEditorCommand(new D({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),N.CursorUpSelect=y.registerEditorCommand(new D({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),N.CursorPageUp=y.registerEditorCommand(new D({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=y.registerEditorCommand(new D({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|11}})),N.CursorDown=y.registerEditorCommand(new D({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),N.CursorDownSelect=y.registerEditorCommand(new D({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),N.CursorPageDown=y.registerEditorCommand(new D({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=y.registerEditorCommand(new D({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|12}})),N.CreateCursor=y.registerEditorCommand(new class extends n{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Y,P){let x;P.wholeLine?x=p.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),!1,P.position,P.viewPosition):x=p.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),!1,P.position,P.viewPosition);const z=Y.getCursorStates();if(z.length>1){const U=x.modelState?x.modelState.position:null,H=x.viewState?x.viewState.position:null;for(let q=0,ie=z.length;q<ie;q++){const ce=z[q];if(!(U&&!ce.modelState.selection.containsPosition(U))&&!(H&&!ce.viewState.selection.containsPosition(H))){z.splice(q,1),Y.model.pushStackElement(),Y.setCursorStates(P.source,3,z);return}}}z.push(x),Y.model.pushStackElement(),Y.setCursorStates(P.source,3,z)}}),N.LastCursorMoveToSelect=y.registerEditorCommand(new class extends n{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Y,P){const x=Y.getLastAddedCursorIndex(),z=Y.getCursorStates(),U=z.slice(0);U[x]=p.CursorMoveCommands.moveTo(Y,z[x],!0,P.position,P.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(P.source,3,U)}});class B extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,p.CursorMoveCommands.moveToBeginningOfLine(P,P.getCursorStates(),this._inSelectionMode)),P.revealPrimaryCursor(x.source,!0)}}N.CursorHome=y.registerEditorCommand(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),N.CursorHomeSelect=y.registerEditorCommand(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class A extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,this._exec(P.getCursorStates())),P.revealPrimaryCursor(x.source,!0)}_exec(P){const x=[];for(let z=0,U=P.length;z<U;z++){const H=P[z],q=H.modelState.position.lineNumber;x[z]=d.CursorState.fromModelState(H.modelState.move(this._inSelectionMode,q,1,0))}return x}}N.CursorLineStart=y.registerEditorCommand(new A({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),N.CursorLineStartSelect=y.registerEditorCommand(new A({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class W extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,p.CursorMoveCommands.moveToEndOfLine(P,P.getCursorStates(),this._inSelectionMode,x.sticky||!1)),P.revealPrimaryCursor(x.source,!0)}}N.CursorEnd=y.registerEditorCommand(new W({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=y.registerEditorCommand(new W({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.localize(1,null),type:"boolean",default:!1}}}}]}}));class V extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,this._exec(P,P.getCursorStates())),P.revealPrimaryCursor(x.source,!0)}_exec(P,x){const z=[];for(let U=0,H=x.length;U<H;U++){const q=x[U],ie=q.modelState.position.lineNumber,ce=P.model.getLineMaxColumn(ie);z[U]=d.CursorState.fromModelState(q.modelState.move(this._inSelectionMode,ie,ce,0))}return z}}N.CursorLineEnd=y.registerEditorCommand(new V({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),N.CursorLineEndSelect=y.registerEditorCommand(new V({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,p.CursorMoveCommands.moveToBeginningOfBuffer(P,P.getCursorStates(),this._inSelectionMode)),P.revealPrimaryCursor(x.source,!0)}}N.CursorTop=y.registerEditorCommand(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),N.CursorTopSelect=y.registerEditorCommand(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class j extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,p.CursorMoveCommands.moveToEndOfBuffer(P,P.getCursorStates(),this._inSelectionMode)),P.revealPrimaryCursor(x.source,!0)}}N.CursorBottom=y.registerEditorCommand(new j({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),N.CursorBottomSelect=y.registerEditorCommand(new j({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class ee extends n{constructor(){super({id:"editorScroll",precondition:void 0,description:i.description})}runCoreEditorCommand(P,x){const z=i.parse(x);!z||this._runEditorScroll(P,x.source,z)}_runEditorScroll(P,x,z){const U=this._computeDesiredScrollTop(P,z);if(z.revealCursor){const H=P.getCompletelyVisibleViewRangeAtScrollTop(U);P.setCursorStates(x,3,[p.CursorMoveCommands.findPositionInViewportIfOutside(P,P.getPrimaryCursorState(),H,z.select)])}P.setScrollTop(U,0)}_computeDesiredScrollTop(P,x){if(x.unit===1){const H=P.getCompletelyVisibleViewRange(),q=P.coordinatesConverter.convertViewRangeToModelRange(H);let ie;x.direction===1?ie=Math.max(1,q.startLineNumber-x.value):ie=Math.min(P.model.getLineCount(),q.startLineNumber+x.value);const ce=P.coordinatesConverter.convertModelPositionToViewPosition(new c.Position(ie,1));return P.getVerticalOffsetForLineNumber(ce.lineNumber)}let z;x.unit===3?z=P.cursorConfig.pageSize*x.value:x.unit===4?z=Math.round(P.cursorConfig.pageSize/2)*x.value:z=x.value;const U=(x.direction===1?-1:1)*z;return P.getScrollTop()+U*P.cursorConfig.lineHeight}}N.EditorScrollImpl=ee,N.EditorScroll=y.registerEditorCommand(new ee),N.ScrollLineUp=y.registerEditorCommand(new class extends n{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(Y,P){N.EditorScroll._runEditorScroll(Y,P.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageUp=y.registerEditorCommand(new class extends n{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(Y,P){N.EditorScroll._runEditorScroll(Y,P.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollLineDown=y.registerEditorCommand(new class extends n{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(Y,P){N.EditorScroll._runEditorScroll(Y,P.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageDown=y.registerEditorCommand(new class extends n{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(Y,P){N.EditorScroll._runEditorScroll(Y,P.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class re extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,[p.CursorMoveCommands.word(P,P.getPrimaryCursorState(),this._inSelectionMode,x.position)]),P.revealPrimaryCursor(x.source,!0)}}N.WordSelect=y.registerEditorCommand(new re({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=y.registerEditorCommand(new re({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=y.registerEditorCommand(new class extends n{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Y,P){const x=Y.getLastAddedCursorIndex(),z=Y.getCursorStates(),U=z.slice(0),H=z[x];U[x]=p.CursorMoveCommands.word(Y,H,H.modelState.hasSelection(),P.position),Y.model.pushStackElement(),Y.setCursorStates(P.source,3,U)}});class te extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){P.model.pushStackElement(),P.setCursorStates(x.source,3,[p.CursorMoveCommands.line(P,P.getPrimaryCursorState(),this._inSelectionMode,x.position,x.viewPosition)]),P.revealPrimaryCursor(x.source,!1)}}N.LineSelect=y.registerEditorCommand(new te({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=y.registerEditorCommand(new te({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ae extends n{constructor(P){super(P);this._inSelectionMode=P.inSelectionMode}runCoreEditorCommand(P,x){const z=P.getLastAddedCursorIndex(),U=P.getCursorStates(),H=U.slice(0);H[z]=p.CursorMoveCommands.line(P,U[z],this._inSelectionMode,x.position,x.viewPosition),P.model.pushStackElement(),P.setCursorStates(x.source,3,H)}}N.LastCursorLineSelect=y.registerEditorCommand(new ae({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=y.registerEditorCommand(new ae({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.ExpandLineSelection=y.registerEditorCommand(new class extends n{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(Y,P){Y.model.pushStackElement(),Y.setCursorStates(P.source,3,p.CursorMoveCommands.expandLineSelection(Y,Y.getCursorStates())),Y.revealPrimaryCursor(P.source,!0)}}),N.CancelSelection=y.registerEditorCommand(new class extends n{constructor(){super({id:"cancelSelection",precondition:s.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,P){Y.model.pushStackElement(),Y.setCursorStates(P.source,3,[p.CursorMoveCommands.cancelSelection(Y,Y.getPrimaryCursorState())]),Y.revealPrimaryCursor(P.source,!0)}}),N.RemoveSecondaryCursors=y.registerEditorCommand(new class extends n{constructor(){super({id:"removeSecondaryCursors",precondition:s.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:t+1,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(Y,P){Y.model.pushStackElement(),Y.setCursorStates(P.source,3,[Y.getPrimaryCursorState()]),Y.revealPrimaryCursor(P.source,!0)}}),N.RevealLine=y.registerEditorCommand(new class extends n{constructor(){super({id:"revealLine",precondition:void 0,description:u.description})}runCoreEditorCommand(Y,P){const x=P,z=x.lineNumber||0;let U=typeof z=="number"?z+1:parseInt(z)+1;U<1&&(U=1);const H=Y.model.getLineCount();U>H&&(U=H);const q=new a.Range(U,1,U,Y.model.getLineMaxColumn(U));let ie=0;if(x.at)switch(x.at){case u.RawAtArgument.Top:ie=3;break;case u.RawAtArgument.Center:ie=1;break;case u.RawAtArgument.Bottom:ie=4;break;default:break}const ce=Y.coordinatesConverter.convertModelRangeToViewRange(q);Y.revealRange(P.source,!1,ce,ie,0)}}),N.SelectAll=new class extends h{constructor(){super(y.SelectAllCommand)}runDOMCommand(){k.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Y,P,x){const z=P._getViewModel();!z||this.runCoreEditorCommand(z,x)}runCoreEditorCommand(Y,P){Y.model.pushStackElement(),Y.setCursorStates("keyboard",3,[p.CursorMoveCommands.selectAll(Y,Y.getPrimaryCursorState())])}},N.SetSelection=y.registerEditorCommand(new class extends n{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Y,P){Y.model.pushStackElement(),Y.setCursorStates(P.source,3,[d.CursorState.fromModelSelection(P.selection)])}})})(v=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const m=l.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,s.EditorContextKeys.columnSelection);function g(N,I){r.KeybindingsRegistry.registerKeybindingRule({id:N,primary:I,when:m,weight:t+1})}g(v.CursorColumnSelectLeft.id,1024|15),g(v.CursorColumnSelectRight.id,1024|17),g(v.CursorColumnSelectUp.id,1024|16),g(v.CursorColumnSelectPageUp.id,1024|11),g(v.CursorColumnSelectDown.id,1024|18),g(v.CursorColumnSelectPageDown.id,1024|12);function b(N){return N.register(),N}var w;(function(N){class I extends y.EditorCommand{runEditorCommand(O,R,F){const D=R._getViewModel();!D||this.runCoreEditingCommand(R,D,F||{})}}N.CoreEditingCommand=I,N.LineBreakInsert=y.registerEditorCommand(new class extends I{constructor(){super({id:"lineBreakInsert",precondition:s.EditorContextKeys.writable,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(T,O,R){T.pushUndoStop(),T.executeCommands(this.id,o.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection)))}}),N.Outdent=y.registerEditorCommand(new class extends I{constructor(){super({id:"outdent",precondition:s.EditorContextKeys.writable,kbOpts:{weight:t,kbExpr:l.ContextKeyExpr.and(s.EditorContextKeys.editorTextFocus,s.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(T,O,R){T.pushUndoStop(),T.executeCommands(this.id,o.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),T.pushUndoStop()}}),N.Tab=y.registerEditorCommand(new class extends I{constructor(){super({id:"tab",precondition:s.EditorContextKeys.writable,kbOpts:{weight:t,kbExpr:l.ContextKeyExpr.and(s.EditorContextKeys.editorTextFocus,s.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(T,O,R){T.pushUndoStop(),T.executeCommands(this.id,o.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection))),T.pushUndoStop()}}),N.DeleteLeft=y.registerEditorCommand(new class extends I{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(T,O,R){const[F,D]=f.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection));F&&T.pushUndoStop(),T.executeCommands(this.id,D),O.setPrevEditOperationType(2)}}),N.DeleteRight=y.registerEditorCommand(new class extends I{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:t,kbExpr:s.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(T,O,R){const[F,D]=f.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection));F&&T.pushUndoStop(),T.executeCommands(this.id,D),O.setPrevEditOperationType(3)}}),N.Undo=new class extends h{constructor(){super(y.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(T,O,R){if(!(!O.hasModel()||O.getOption(75)===!0))return O.getModel().undo()}},N.Redo=new class extends h{constructor(){super(y.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(T,O,R){if(!(!O.hasModel()||O.getOption(75)===!0))return O.getModel().redo()}}})(w=e.CoreEditingCommands||(e.CoreEditingCommands={}));class L extends y.Command{constructor(I,T,O){super({id:I,precondition:void 0,description:O});this._handlerId=T}runCommand(I,T){const O=I.get(S.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,T)}}function E(N,I){b(new L("default:"+N,N)),b(new L(N,N,I))}E("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),E("replacePreviousChar"),E("compositionStart"),E("compositionEnd"),E("paste"),E("cut")}),define(Q[565],J([0,1,13,16,25,71,9,72]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const d=S.createDecorator("IEditorCancelService"),f=new k.RawContextKey("cancellableOperation",!1);_.registerSingleton(d,class{constructor(){this._tokens=new WeakMap}add(o,c){let a=this._tokens.get(o);a||(a=o.invokeWithinContext(l=>{const r=f.bindTo(l.get(k.IContextKeyService)),t=new y.LinkedList;return{key:r,tokens:t}}),this._tokens.set(o,a));let s;return a.key.set(!0),s=a.tokens.push(c),()=>{s&&(s(),a.key.set(!a.tokens.isEmpty()),s=void 0)}}cancel(o){const c=this._tokens.get(o);if(!!c){const a=c.tokens.pop();a&&(a.cancel(),c.key.set(!c.tokens.isEmpty()))}}},!0);class p extends M.CancellationTokenSource{constructor(c,a){super(a);this.editor=c,this._unregister=c.invokeWithinContext(s=>s.get(d).add(c,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=p,C.registerEditorCommand(new class extends C.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:f})}runEditorCommand(o,c){o.get(d).cancel(c)}})}),define(Q[70],J([0,1,8,3,25,2,565]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class _{constructor(c,a){if(this.flags=a,(this.flags&1)!=0){const s=c.getModel();this.modelVersionId=s?C.format("{0}#{1}",s.uri.toString(),s.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=c.getPosition():this.position=null,(this.flags&2)!=0?this.selection=c.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=c.getScrollLeft(),this.scrollTop=c.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(c){if(!(c instanceof _))return!1;const a=c;return!(this.modelVersionId!==a.modelVersionId||this.scrollLeft!==a.scrollLeft||this.scrollTop!==a.scrollTop||!this.position&&a.position||this.position&&!a.position||this.position&&a.position&&!this.position.equals(a.position)||!this.selection&&a.selection||this.selection&&!a.selection||this.selection&&a.selection&&!this.selection.equalsRange(a.selection))}validate(c){return this._equals(new _(c,this.flags))}}e.EditorState=_;class d extends S.EditorKeybindingCancellationTokenSource{constructor(c,a,s,l){super(c,l);this.editor=c,this._listener=new y.DisposableStore,a&4&&this._listener.add(c.onDidChangeCursorPosition(r=>{(!s||!k.Range.containsPosition(s,r.position))&&this.cancel()})),a&2&&this._listener.add(c.onDidChangeCursorSelection(r=>{(!s||!k.Range.containsRange(s,r.selection))&&this.cancel()})),a&8&&this._listener.add(c.onDidScrollChange(r=>this.cancel())),a&1&&(this._listener.add(c.onDidChangeModel(r=>this.cancel())),this._listener.add(c.onDidChangeModelContent(r=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=d;class f extends M.CancellationTokenSource{constructor(c,a){super(a);this._listener=c.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=f;class p{constructor(c,a,s){this._visiblePosition=c,this._visiblePositionScrollDelta=a,this._cursorPosition=s}static capture(c){let a=null,s=0;if(c.getScrollTop()!==0){const l=c.getVisibleRanges();if(l.length>0){a=l[0].getStartPosition();const r=c.getTopForPosition(a.lineNumber,a.column);s=c.getScrollTop()-r}}return new p(a,s,c.getPosition())}restore(c){if(this._visiblePosition){const a=c.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);c.setScrollTop(a+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(c){const a=c.getPosition();if(!(!this._cursorPosition||!a)){const s=c.getTopForLineNumber(a.lineNumber)-c.getTopForLineNumber(this._cursorPosition.lineNumber);c.setScrollTop(c.getScrollTop()+s)}}}e.StableEditorScrollState=p}),define(Q[566],J([0,1,183,12,17]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class y{constructor(_,d,f,p){this.configuration=_,this.viewModel=d,this.userInputEvents=f,this.commandDelegate=p}paste(_,d,f,p){this.commandDelegate.paste(_,d,f,p)}type(_){this.commandDelegate.type(_)}replacePreviousChar(_,d){this.commandDelegate.replacePreviousChar(_,d)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(_){C.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:_})}_validateViewColumn(_){const d=this.viewModel.getLineMinColumn(_.lineNumber);return _.column<d?new k.Position(_.lineNumber,d):_}_hasMulticursorModifier(_){switch(this.configuration.options.get(64)){case"altKey":return _.altKey;case"ctrlKey":return _.ctrlKey;case"metaKey":return _.metaKey;default:return!1}}_hasNonMulticursorModifier(_){switch(this.configuration.options.get(64)){case"altKey":return _.ctrlKey||_.metaKey;case"ctrlKey":return _.altKey||_.metaKey;case"metaKey":return _.ctrlKey||_.altKey;default:return!1}}dispatchMouse(_){const d=this.configuration.options,f=M.isLinux&&d.get(91),p=d.get(15);_.middleButton&&!f?this._columnSelect(_.position,_.mouseColumn,_.inSelectionMode):_.startedOnLineNumbers?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelect(_.position):this._createCursor(_.position,!0):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount>=4?this._selectAll():_.mouseDownCount===3?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelectDrag(_.position):this._lastCursorLineSelect(_.position):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount===2?this._hasMulticursorModifier(_)?this._lastCursorWordSelect(_.position):_.inSelectionMode?this._wordSelectDrag(_.position):this._wordSelect(_.position):this._hasMulticursorModifier(_)?this._hasNonMulticursorModifier(_)||(_.shiftKey?this._columnSelect(_.position,_.mouseColumn,!0):_.inSelectionMode?this._lastCursorMoveToSelect(_.position):this._createCursor(_.position,!1)):_.inSelectionMode?_.altKey?this._columnSelect(_.position,_.mouseColumn,!0):p?this._columnSelect(_.position,_.mouseColumn,!0):this._moveToSelect(_.position):this.moveTo(_.position)}_usualArgs(_){return _=this._validateViewColumn(_),{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_}}moveTo(_){C.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_moveToSelect(_){C.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_columnSelect(_,d,f){_=this._validateViewColumn(_),C.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,mouseColumn:d,doColumnSelect:f})}_createCursor(_,d){_=this._validateViewColumn(_),C.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,wholeLine:d})}_lastCursorMoveToSelect(_){C.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelect(_){C.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelectDrag(_){C.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorWordSelect(_){C.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelect(_){C.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelectDrag(_){C.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelect(_){C.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelectDrag(_){C.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_selectAll(){C.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(_){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_)}emitKeyDown(_){this.userInputEvents.emitKeyDown(_)}emitKeyUp(_){this.userInputEvents.emitKeyUp(_)}emitContextMenu(_){this.userInputEvents.emitContextMenu(_)}emitMouseMove(_){this.userInputEvents.emitMouseMove(_)}emitMouseLeave(_){this.userInputEvents.emitMouseLeave(_)}emitMouseUp(_){this.userInputEvents.emitMouseUp(_)}emitMouseDown(_){this.userInputEvents.emitMouseDown(_)}emitMouseDrag(_){this.userInputEvents.emitMouseDrag(_)}emitMouseDrop(_){this.userInputEvents.emitMouseDrop(_)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(_){this.userInputEvents.emitMouseWheel(_)}}e.ViewController=y}),define(Q[567],J([0,1,13,449,24,20,38,16,82,47,327]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new _.RawContextKey("selectionAnchorSet",!1);let p=class Tt{constructor(r,t){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(t),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Tt.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:y.Selection.fromPositions(r,r),options:{stickiness:1,hoverMessage:new d.MarkdownString().appendText(k.localize(0,null)),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),f.alert(k.localize(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const t=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(r.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};p.ID="editor.contrib.selectionAnchorController",p=Me([pe(1,_.IContextKeyService)],p);class o extends C.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:k.localize(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|32),weight:100}})}run(r,t){return De(this,void 0,void 0,function*(){p.get(t).setSelectionAnchor()})}}class c extends C.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:k.localize(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,t){return De(this,void 0,void 0,function*(){p.get(t).goToSelectionAnchor()})}}class a extends C.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:k.localize(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|41),weight:100}})}run(r,t){return De(this,void 0,void 0,function*(){p.get(t).selectFromAnchorToCursor()})}}class s extends C.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:k.localize(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:M.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,t){return De(this,void 0,void 0,function*(){p.get(t).cancelSelectionAnchor()})}}C.registerEditorContribution(p.ID,p),C.registerEditorAction(o),C.registerEditorAction(c),C.registerEditorAction(a),C.registerEditorAction(s)}),define(Q[568],J([0,1,451,13,24,389]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends k.EditorAction{constructor(p,o){super(o);this.left=p}run(p,o){if(!!o.hasModel()){let c=[],a=o.getSelections();for(const s of a)c.push(new y.MoveCaretCommand(s,this.left));o.pushUndoStop(),o.executeCommands(this.id,c),o.pushUndoStop()}}}class _ extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:C.localize(0,null),alias:"Move Selected Text Left",precondition:M.EditorContextKeys.writable})}}class d extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:C.localize(1,null),alias:"Move Selected Text Right",precondition:M.EditorContextKeys.writable})}}k.registerEditorAction(_),k.registerEditorAction(d)}),define(Q[569],J([0,1,452,13,91,3,24,176]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class d extends k.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:C.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(p,o){if(!!o.hasModel()){let c=o.getModel(),a=[],s=o.getSelections();for(let l of s)if(!!l.isEmpty()){let r=l.startLineNumber,t=l.startColumn,n=c.getLineMaxColumn(r);if(!(r===1&&(t===1||t===2&&n===2))){let i=t===n?l.getPosition():_.MoveOperations.rightPosition(c,l.getPosition().lineNumber,l.getPosition().column),u=_.MoveOperations.leftPosition(c,i.lineNumber,i.column),h=_.MoveOperations.leftPosition(c,u.lineNumber,u.column),v=c.getValueInRange(y.Range.fromPositions(h,u)),m=c.getValueInRange(y.Range.fromPositions(u,i)),g=y.Range.fromPositions(h,i);a.push(new M.ReplaceCommand(g,m+v))}}a.length>0&&(o.pushUndoStop(),o.executeCommands(this.id,a),o.pushUndoStop())}}}k.registerEditorAction(d)}),define(Q[570],J([0,1,453,34,17,214,13,28,24,35,84]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const o="9_cutcopypaste",c=M.isNative||document.queryCommandSupported("cut"),a=M.isNative||document.queryCommandSupported("copy"),s=a&&!k.isEdge,l=k.isFirefox?document.queryCommandSupported("paste"):!0;function r(i){return i.register(),i}e.CutAction=c?r(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:f.MenuId.EditorContext,group:o,title:C.localize(1,null),when:d.EditorContextKeys.writable,order:1},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1}]})):void 0,e.CopyAction=a?r(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(3,null),order:2},{menuId:f.MenuId.EditorContext,group:o,title:C.localize(4,null),order:2},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(5,null),order:1}]})):void 0,e.PasteAction=l?r(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:M.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(6,null),order:3},{menuId:f.MenuId.EditorContext,group:o,title:C.localize(7,null),when:d.EditorContextKeys.writable,order:3},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(8,null),order:1}]})):void 0;class t extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(9,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(u,h){!h.hasModel()||!h.getOption(28)&&h.getSelection().isEmpty()||(y.CopyOptions.forceCopyWithSyntaxHighlighting=!0,h.focus(),document.execCommand("copy"),y.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(i,u){!i||(i.addImplementation(1e4,(h,v)=>{const m=h.get(_.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const g=m.getOption(28),b=m.getSelection();return b&&b.isEmpty()&&!g||document.execCommand(u),!0}return!1}),i.addImplementation(0,(h,v)=>(document.execCommand(u),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,(i,u)=>{const h=i.get(_.ICodeEditorService),v=i.get(p.IClipboardService),m=h.getFocusedCodeEditor();return m&&m.hasTextFocus()?(!document.execCommand("paste")&&M.isWeb&&(()=>De(void 0,void 0,void 0,function*(){const b=yield v.readText();if(b!==""){const w=y.InMemoryClipboardMetadataManager.INSTANCE.get(b);let L=!1,E=null,N=null;w&&(L=m.getOption(28)&&!!w.isFromEmptySelection,E=typeof w.multicursorText!="undefined"?w.multicursorText:null,N=w.mode),m.trigger("keyboard","paste",{text:b,pasteOnNewLine:L,multicursorText:E,mode:N})}}))(),!0):!1}),e.PasteAction.addImplementation(0,(i,u)=>(document.execCommand("paste"),!0))),s&&S.registerEditorAction(t)}),define(Q[141],J([0,1,19,25,11,2,23,70,3,20,18,45,129,58,26]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class l{constructor(v,m){this.action=v,this.provider=m}resolve(v){var m;return De(this,void 0,void 0,function*(){if(((m=this.provider)===null||m===void 0?void 0:m.resolveCodeAction)&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,v)}catch(b){M.onUnexpectedExternalError(b)}g&&(this.action.edit=g.edit)}return this})}}e.CodeActionItem=l;class r extends y.Disposable{constructor(v,m,g){super();this.documentation=m,this._register(g),this.allActions=C.mergeSort([...v],r.codeActionsComparator),this.validActions=this.allActions.filter(({action:b})=>!b.disabled)}static codeActionsComparator({action:v},{action:m}){return v.isPreferred&&!m.isPreferred?-1:!v.isPreferred&&m.isPreferred?1:C.isNonEmptyArray(v.diagnostics)?C.isNonEmptyArray(m.diagnostics)?v.diagnostics[0].message.localeCompare(m.diagnostics[0].message):-1:C.isNonEmptyArray(m.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:v})=>!!v.kind&&c.CodeActionKind.QuickFix.contains(new c.CodeActionKind(v.kind))&&!!v.isPreferred)}}const t={actions:[],documentation:void 0};function n(h,v,m,g,b){var w;const L=m.filter||{},E={only:(w=L.include)===null||w===void 0?void 0:w.value,trigger:m.type},N=new _.TextModelCancellationTokenSource(h,b),I=i(h,L),T=new y.DisposableStore,O=I.map(F=>De(this,void 0,void 0,function*(){try{g.report(F);const D=yield F.provideCodeActions(h,v,E,N.token);if(D&&T.add(D),N.token.isCancellationRequested)return t;const B=((D==null?void 0:D.actions)||[]).filter(W=>W&&c.filtersAction(L,W)),A=u(F,B,L.include);return{actions:B.map(W=>new l(W,F)),documentation:A}}catch(D){if(M.isPromiseCanceledError(D))throw D;return M.onUnexpectedExternalError(D),t}})),R=p.CodeActionProviderRegistry.onDidChange(()=>{const F=p.CodeActionProviderRegistry.all(h);C.equals(F,I)||N.cancel()});return Promise.all(O).then(F=>{const D=C.flatten(F.map(A=>A.actions)),B=C.coalesce(F.map(A=>A.documentation));return new r(D,B,T)}).finally(()=>{R.dispose(),N.dispose()})}e.getCodeActions=n;function i(h,v){return p.CodeActionProviderRegistry.all(h).filter(m=>m.providedCodeActionKinds?m.providedCodeActionKinds.some(g=>c.mayIncludeActionsOfKind(v,new c.CodeActionKind(g))):!0)}function u(h,v,m){if(!!h.documentation){const g=h.documentation.map(b=>({kind:new c.CodeActionKind(b.kind),command:b.command}));if(m){let b;for(const w of g)w.kind.contains(m)&&(b?b.kind.contains(w.kind)&&(b=w):b=w);if(b)return b==null?void 0:b.command}for(const b of v)if(!!b.kind){for(const w of g)if(w.kind.contains(new c.CodeActionKind(b.kind)))return w.command}}}s.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,...v){return De(this,void 0,void 0,function*(){const[m,g,b,w]=v;if(!(m instanceof S.URI))throw M.illegalArgument();const L=h.get(o.IModelService).getModel(m);if(!L)throw M.illegalArgument();const E=f.Selection.isISelection(g)?f.Selection.liftSelection(g):d.Range.isIRange(g)?L.validateRange(g):void 0;if(!E)throw M.illegalArgument();const N=yield n(L,E,{type:2,filter:{includeSourceActions:!0,include:b&&b.value?new c.CodeActionKind(b.value):void 0}},a.Progress.None,k.CancellationToken.None),I=[],T=Math.min(N.validActions.length,typeof w=="number"?w:0);for(let O=0;O<T;O++)I.push(N.validActions[O].resolve(k.CancellationToken.None));try{return yield Promise.all(I),N.validActions.map(O=>O.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(Q[571],J([0,1,7,48,11,149,2,12,18,141,129,68,36]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class a extends k.Action{constructor(n,i){super(n.command?n.command.id:n.title,s(n.title),void 0,!n.disabled,i);this.action=n}}function s(t){return t.replace(/\r\n|\r|\n/g," ")}let l=class extends S.Disposable{constructor(n,i,u,h){super();this._editor=n,this._delegate=i,this._contextMenuService=u,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(n,i,u,h){return De(this,void 0,void 0,function*(){const v=h.includeDisabledActions?i.allActions:i.validActions;if(!v.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,M.canceled();this._visible=!0,this._showingActions.value=i;const m=this.getMenuActions(n,v,i.documentation),g=_.Position.isIPosition(u)?this._toCoords(u):u||{x:0,y:0},b=this._keybindingResolver.getResolver();this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>g,getActions:()=>m,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:w=>w instanceof a?b(w.action):void 0})})}getMenuActions(n,i,u){var h,v;const m=L=>new a(L.action,()=>this._delegate.onSelectCodeAction(L)),g=i.map(m),b=[...u],w=this._editor.getModel();if(w&&g.length)for(const L of d.CodeActionProviderRegistry.all(w))L._getAdditionalMenuItems&&b.push(...L._getAdditionalMenuItems({trigger:n.type,only:(v=(h=n.filter)===null||h===void 0?void 0:h.include)===null||v===void 0?void 0:v.value},i.map(E=>E.action)));return b.length&&g.push(new k.Separator,...b.map(L=>m(new f.CodeActionItem({title:L.title,command:L},void 0)))),g}_toCoords(n){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(n,1),this._editor.render();const i=this._editor.getScrolledVisiblePosition(n),u=C.getDomNodePagePosition(this._editor.getDomNode()),h=u.left+i.left,v=u.top+i.top+i.height;return{x:h,y:v}}};l=Me([pe(2,o.IContextMenuService),pe(3,c.IKeybindingService)],l),e.CodeActionMenu=l;class r{constructor(n){this._keybindingProvider=n}getResolver(){const n=new y.Lazy(()=>this._keybindingProvider.getKeybindings().filter(i=>r.codeActionCommands.indexOf(i.command)>=0).filter(i=>i.resolvedKeybinding).map(i=>{let u=i.commandArgs;return i.command===f.organizeImportsCommandId?u={kind:p.CodeActionKind.SourceOrganizeImports.value}:i.command===f.fixAllCommandId&&(u={kind:p.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:i.resolvedKeybinding},p.CodeActionCommandArgs.fromUser(u,{kind:p.CodeActionKind.None,apply:"never"}))}));return i=>{if(i.kind){const u=this.bestKeybindingForCodeAction(i,n.getValue());return u==null?void 0:u.resolvedKeybinding}}}bestKeybindingForCodeAction(n,i){if(!!n.kind){const u=new p.CodeActionKind(n.kind);return i.filter(h=>h.kind.contains(u)).filter(h=>h.preferred?n.isPreferred:!0).reduceRight((h,v)=>h?h.kind.contains(v.kind)?v:h:v,void 0)}}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[f.refactorCommandId,f.codeActionCommandId,f.sourceActionCommandId,f.organizeImportsCommandId,f.fixAllCommandId]}),define(Q[572],J([0,1,15,4,2,3,18,16,58,141,40]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new _.RawContextKey("supportedCodeAction","");class o extends M.Disposable{constructor(l,r,t,n=250){super();this._editor=l,this._markerService=r,this._signalChange=t,this._delay=n,this._autoTriggerTimer=this._register(new C.TimeoutTimer),this._register(this._markerService.onMarkerChanged(i=>this._onMarkerChanges(i))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(l){const r=this._getRangeOfSelectionUnlessWhitespaceEnclosed(l);return this._createEventAndSignalChange(l,r)}_onMarkerChanges(l){const r=this._editor.getModel();!r||l.some(t=>p.isEqual(t,r.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_getRangeOfMarker(l){const r=this._editor.getModel();if(!!r)for(const t of this._markerService.read({resource:r.uri})){const n=r.validateRange(t);if(y.Range.intersectRanges(n,l))return y.Range.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(l){if(!!this._editor.hasModel()){const r=this._editor.getModel(),t=this._editor.getSelection();if(t.isEmpty()&&l.type===1){const{lineNumber:n,column:i}=t.getPosition(),u=r.getLineContent(n);if(u.length===0)return;if(i===1){if(/\s/.test(u[0]))return}else if(i===r.getLineMaxColumn(n)){if(/\s/.test(u[u.length-1]))return}else if(/\s/.test(u[i-2])&&/\s/.test(u[i-1]))return}return t}}_createEventAndSignalChange(l,r){const t=this._editor.getModel();if(!r||!t){this._signalChange(void 0);return}const n=this._getRangeOfMarker(r),i=n?n.getStartPosition():r.getStartPosition(),u={trigger:l,selection:r,position:i};return this._signalChange(u),u}}var c;(function(s){s.Empty={type:0};class l{constructor(t,n,i,u){this.trigger=t,this.rangeOrSelection=n,this.position=i,this.actions=u,this.type=1}}s.Triggered=l})(c=e.CodeActionsState||(e.CodeActionsState={}));class a extends M.Disposable{constructor(l,r,t,n){super();this._editor=l,this._markerService=r,this._progressService=n,this._codeActionOracle=this._register(new M.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(t),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(S.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){super.dispose(),this.setState(c.Empty,!0)}_update(){this._codeActionOracle.value=void 0,this.setState(c.Empty);const l=this._editor.getModel();if(l&&S.CodeActionProviderRegistry.has(l)&&!this._editor.getOption(75)){const r=[];for(const t of S.CodeActionProviderRegistry.all(l))Array.isArray(t.providedCodeActionKinds)&&r.push(...t.providedCodeActionKinds);this._supportedCodeActions.set(r.join(" ")),this._codeActionOracle.value=new o(this._editor,this._markerService,t=>{var n;if(!t){this.setState(c.Empty);return}const i=C.createCancelablePromise(u=>f.getCodeActions(l,t.selection,t.trigger,d.Progress.None,u));t.trigger.type===2&&((n=this._progressService)===null||n===void 0||n.showWhile(i,250)),this.setState(new c.Triggered(t.trigger,t.selection,t.position,i))},void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()}trigger(l){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(l)}setState(l,r){l!==this._state&&(this._state.type===1&&this._state.actions.cancel(),this._state=l,r||this._onDidChangeState.fire(l))}}e.CodeActionModel=a}),define(Q[251],J([0,1,15,29,11,101,2,13,28,3,31,18,246,46]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const s=500;let l=class Rt extends S.Disposable{constructor(t,n,i){super();this._editor=t,this._codeEditorService=n,this._configurationService=i,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(t.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(t.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(o.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(t.onDidChangeConfiguration(()=>{let u=this._isEnabled;this._isEnabled=this.isEnabled(),u!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const t=this._editor.getModel();if(!t)return!1;const n=t.getLanguageIdentifier(),i=this._configurationService.getValue(n.language);if(i){const u=i.colorDecorators;if(u&&u.enable!==void 0&&!u.enable)return u.enable}return this._editor.getOption(14)}static get(t){return t.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!!this._isEnabled){const t=this._editor.getModel();!t||!o.ColorProviderRegistry.has(t)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new C.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Rt.RECOMPUTE_TIME))})),this.beginCompute())}}beginCompute(){this._computePromise=C.createCancelablePromise(t=>{const n=this._editor.getModel();return n?c.getColors(n,t):Promise.resolve([])}),this._computePromise.then(t=>{this.updateDecorations(t),this.updateColorDecorators(t),this._computePromise=null},M.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(t){const n=t.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:p.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((i,u)=>this._colorDatas.set(i,t[u]))}updateColorDecorators(t){let n=[],i={};for(let u=0;u<t.length&&n.length<s;u++){const{red:h,green:v,blue:m,alpha:g}=t[u].colorInfo.color,b=new k.RGBA(Math.round(h*255),Math.round(v*255),Math.round(m*255),g);let w=y.hash(`rgba(${b.r},${b.g},${b.b},${b.a})`).toString(16),L=`rgba(${b.r}, ${b.g}, ${b.b}, ${b.a})`,E="colorBox-"+w;!this._decorationsTypes.has(E)&&!i[E]&&this._codeEditorService.registerDecorationType(E,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:L},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[E]=!0,n.push({range:{startLineNumber:t[u].colorInfo.range.startLineNumber,startColumn:t[u].colorInfo.range.startColumn,endLineNumber:t[u].colorInfo.range.endLineNumber,endColumn:t[u].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(E,!0)})}this._decorationsTypes.forEach(u=>{i[u]||this._codeEditorService.removeDecorationType(u)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(t=>{this._codeEditorService.removeDecorationType(t)})}getColorData(t){const n=this._editor.getModel();if(!n)return null;const i=n.getDecorationsInRange(f.Range.fromPositions(t,t)).filter(u=>this._colorDatas.has(u.id));return i.length===0?null:this._colorDatas.get(i[0].id)}};l.ID="editor.contrib.colorDetector",l.RECOMPUTE_TIME=1e3,l=Me([pe(1,d.ICodeEditorService),pe(2,a.IConfigurationService)],l),e.ColorDetector=l,_.registerEditorContribution(l.ID,l)}),define(Q[573],J([0,1,457,38,13,3,24,222,391,35]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends M.EditorAction{constructor(r,t){super(t);this._type=r}run(r,t){if(!!t.hasModel()){const n=t.getModel(),i=[],u=n.getOptions(),h=t.getOption(16),v=t.getSelections().map((g,b)=>({selection:g,index:b,ignoreFirstLine:!1}));v.sort((g,b)=>y.Range.compareRangesUsingStarts(g.selection,b.selection));let m=v[0];for(let g=1;g<v.length;g++){const b=v[g];m.selection.endLineNumber===b.selection.startLineNumber&&(m.index<b.index?b.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=b))}for(const g of v)i.push(new d.LineCommentCommand(g.selection,u.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,g.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}}class o extends p{constructor(){super(0,{id:"editor.action.commentLine",label:C.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:f.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(1,null),order:1}})}}class c extends p{constructor(){super(1,{id:"editor.action.addCommentLine",label:C.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|33),weight:100}})}}class a extends p{constructor(){super(2,{id:"editor.action.removeCommentLine",label:C.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|51),weight:100}})}}class s extends M.EditorAction{constructor(){super({id:"editor.action.blockComment",label:C.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:f.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(5,null),order:2}})}run(r,t){if(!!t.hasModel()){const n=t.getOption(16),i=[],u=t.getSelections();for(const h of u)i.push(new _.BlockCommentCommand(h,n.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}}M.registerEditorAction(o),M.registerEditorAction(c),M.registerEditorAction(a),M.registerEditorAction(s)}),define(Q[574],J([0,1,458,7,48,2,13,24,35,16,68,36,111]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let a=class At{constructor(r,t,n,i,u,h){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=u,this._menuService=h,this._toDispose=new y.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=r,this._toDispose.add(this._editor.onContextMenu(v=>this._onContextMenu(v))),this._toDispose.add(this._editor.onMouseWheel(v=>{if(this._contextMenuIsBeingShownCount>0){const m=this._contextViewService.getContextViewElement(),g=v.srcElement;g.shadowRoot&&k.getShadowRoot(m)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(v=>{v.keyCode===58&&(v.preventDefault(),v.stopPropagation(),this.showContextMenu())}))}static get(r){return r.getContribution(At.ID)}_onContextMenu(r){if(!!this._editor.hasModel()){if(!this._editor.getOption(17)){this._editor.focus(),r.target.position&&!this._editor.getSelection().containsPosition(r.target.position)&&this._editor.setPosition(r.target.position);return}if(r.target.type!==12&&(r.event.preventDefault(),!(r.target.type!==6&&r.target.type!==7&&r.target.type!==1))){if(this._editor.focus(),r.target.position){let n=!1;for(const i of this._editor.getSelections())if(i.containsPosition(r.target.position)){n=!0;break}n||this._editor.setPosition(r.target.position)}let t=null;r.target.type!==1&&(t={x:r.event.posx-1,width:2,y:r.event.posy-1,height:2}),this.showContextMenu(t)}}}showContextMenu(r){if(!!this._editor.getOption(17)&&!!this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}const t=this._getMenuActions(this._editor.getModel(),d.MenuId.EditorContext);t.length>0&&this._doShowContextMenu(t,r)}}_getMenuActions(r,t){const n=[],i=this._menuService.createMenu(t,this._contextKeyService),u=i.getActions({arg:r.uri});i.dispose();for(let h of u){const[,v]=h;let m=0;for(const g of v)if(g instanceof d.SubmenuItemAction){const b=this._getMenuActions(r,g.item.submenu);b.length>0&&(n.push(new M.SubmenuAction(g.id,g.label,b)),m++)}else n.push(g),m++;m&&n.push(new M.Separator)}return n.length&&n.pop(),n}_doShowContextMenu(r,t=null){if(!!this._editor.hasModel()){const n=this._editor.getOption(48);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const i=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=k.getDomNodePagePosition(this._editor.getDomNode()),h=u.left+i.left,v=u.top+i.top+i.height;t={x:h,y:v}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>t,getActions:()=>r,getActionViewItem:i=>{const u=this._keybindingFor(i);if(u)return new c.ActionViewItem(i,i,{label:!0,keybinding:u.getLabel(),isMenu:!0});const h=i;return typeof h.getActionViewItem=="function"?h.getActionViewItem():new c.ActionViewItem(i,i,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:i=>this._keybindingFor(i),onHide:i=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}}_keybindingFor(r){return this._keybindingService.lookupKeybinding(r.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};a.ID="editor.contrib.contextmenu",a=Me([pe(1,p.IContextMenuService),pe(2,p.IContextViewService),pe(3,f.IContextKeyService),pe(4,o.IKeybindingService),pe(5,d.IMenuService)],a),e.ContextMenuController=a;class s extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:C.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(r,t){a.get(t).showContextMenu()}}S.registerEditorContribution(a.ID,a),S.registerEditorAction(s)}),define(Q[575],J([0,1,459,2,13,24]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(c){this.selections=c}equals(c){const a=this.selections.length,s=c.selections.length;if(a!==s)return!1;for(let l=0;l<a;l++)if(!this.selections[l].equalsSelection(c.selections[l]))return!1;return!0}}class _{constructor(c,a,s){this.cursorState=c,this.scrollTop=a,this.scrollLeft=s}}class d extends k.Disposable{constructor(c){super();this._editor=c,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(c.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(c.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(c.onDidChangeCursorSelection(a=>{if(!this._isCursorUndoRedo&&!!a.oldSelections&&a.oldModelVersionId===a.modelVersionId){const s=new S(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(s)||(this._undoStack.push(new _(s,c.getScrollTop(),c.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}}))}static get(c){return c.getContribution(d.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(c){this._isCursorUndoRedo=!0,this._editor.setSelections(c.cursorState.selections),this._editor.setScrollPosition({scrollTop:c.scrollTop,scrollLeft:c.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=d,d.ID="editor.contrib.cursorUndoRedoController";class f extends M.EditorAction{constructor(){super({id:"cursorUndo",label:C.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(c,a,s){d.get(a).cursorUndo()}}e.CursorUndo=f;class p extends M.EditorAction{constructor(){super({id:"cursorRedo",label:C.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(c,a,s){d.get(a).cursorRedo()}}e.CursorRedo=p,M.registerEditorContribution(d.ID,d),M.registerEditorAction(f),M.registerEditorAction(p)}),define(Q[576],J([0,1,2,17,13,12,3,20,392,31,332]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function p(c){return k.isMacintosh?c.altKey:c.ctrlKey}class o extends C.Disposable{constructor(a){super();this._editor=a,this._register(this._editor.onMouseDown(s=>this._onEditorMouseDown(s))),this._register(this._editor.onMouseUp(s=>this._onEditorMouseUp(s))),this._register(this._editor.onMouseDrag(s=>this._onEditorMouseDrag(s))),this._register(this._editor.onMouseDrop(s=>this._onEditorMouseDrop(s))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(s=>this.onEditorKeyDown(s))),this._register(this._editor.onKeyUp(s=>this.onEditorKeyUp(s))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(a){!this._editor.getOption(27)||this._editor.getOption(15)||(p(a)&&(this._modifierPressed=!0),this._mouseDown&&p(a)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(a){!this._editor.getOption(27)||this._editor.getOption(15)||(p(a)&&(this._modifierPressed=!1),this._mouseDown&&a.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(a){this._mouseDown=!0}_onEditorMouseUp(a){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(a){let s=a.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(t=>s.position&&t.containsPosition(s.position));if(r.length===1)this._dragSelection=r[0];else return}p(a.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),s.position&&(this._dragSelection.containsPosition(s.position)?this._removeDecoration():this.showAt(s.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(a){if(a.target&&(this._hitContent(a.target)||this._hitMargin(a.target))&&a.target.position){let s=new y.Position(a.target.position.lineNumber,a.target.position.column);if(this._dragSelection===null){let l=null;if(a.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:t,selectionStartColumn:n}=r;l=[new _.Selection(t,n,s.lineNumber,s.column)]}}else l=(this._editor.getSelections()||[]).map(r=>r.containsPosition(s)?new _.Selection(s.lineNumber,s.column,s.lineNumber,s.column):r);this._editor.setSelections(l||[],"mouse",3)}else(!this._dragSelection.containsPosition(s)||(p(a.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(s)||this._dragSelection.getStartPosition().equals(s)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new d.DragAndDropCommand(this._dragSelection,s,p(a.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(a){let s=[{range:new S.Range(a.lineNumber,a.column,a.lineNumber,a.column),options:o._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,s),this._editor.revealPosition(a,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(a){return a.type===6||a.type===7}_hitMargin(a){return a.type===2||a.type===3||a.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=o,o.ID="editor.contrib.dragAndDrop",o.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,o._DECORATION_OPTIONS=f.ModelDecorationOptions.register({className:"dnd-target"}),M.registerEditorContribution(o.ID,o)}),define(Q[577],J([0,1,464,13,125]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:C.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(f,p){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()+1)}}class S extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:C.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(f,p){M.EditorZoom.setZoomLevel(M.EditorZoom.getZoomLevel()-1)}}class _ extends k.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:C.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(f,p){M.EditorZoom.setZoomLevel(0)}}k.registerEditorAction(y),k.registerEditorAction(S),k.registerEditorAction(_)}),define(Q[578],J([0,1,47,19,25,11,23,70,107,12,3,20,18,73,45,224,465,518,9,71,26,21,54]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function m(R){if(R=R.filter(A=>A.range),!!R.length){let{range:F}=R[0];for(let A=1;A<R.length;A++)F=p.Range.plusRange(F,R[A].range);const{startLineNumber:D,endLineNumber:B}=F;D===B?R.length===1?C.alert(r.localize(0,null,D)):C.alert(r.localize(1,null,R.length,D)):R.length===1?C.alert(r.localize(2,null,D,B)):C.alert(r.localize(3,null,R.length,D,B))}}e.alertFormattingEdits=m;function g(R){const F=[],D=new Set,B=c.DocumentFormattingEditProviderRegistry.ordered(R);for(const W of B)F.push(W),W.extensionId&&D.add(t.ExtensionIdentifier.toKey(W.extensionId));const A=c.DocumentRangeFormattingEditProviderRegistry.ordered(R);for(const W of A){if(W.extensionId){if(D.has(t.ExtensionIdentifier.toKey(W.extensionId)))continue;D.add(t.ExtensionIdentifier.toKey(W.extensionId))}F.push({displayName:W.displayName,extensionId:W.extensionId,provideDocumentFormattingEdits(V,K,j){return W.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),K,j)}})}return F}e.getRealAndSyntheticDocumentFormattersOrdered=g;class b{static select(F,D,B){return De(this,void 0,void 0,function*(){if(F.length!==0){const A=v.Iterable.first(b._selectors);if(A)return yield A(F,D,B)}})}}e.FormattingConflicts=b,b._selectors=new i.LinkedList;function w(R,F,D,B,A,W){return De(this,void 0,void 0,function*(){const V=R.get(n.IInstantiationService),K=d.isCodeEditor(F)?F.getModel():F,j=c.DocumentRangeFormattingEditProviderRegistry.ordered(K),ee=yield b.select(j,K,B);ee&&(A.report(ee),yield V.invokeFunction(L,ee,F,D,W))})}e.formatDocumentRangesWithSelectedProvider=w;function L(R,F,D,B,A){return De(this,void 0,void 0,function*(){const W=R.get(a.IEditorWorkerService);let V,K;d.isCodeEditor(D)?(V=D.getModel(),K=new _.EditorStateCancellationTokenSource(D,1|4,void 0,A)):(V=D,K=new _.TextModelCancellationTokenSource(D,A));let j=[],ee=0;for(let te of k.asArray(B).sort(p.Range.compareRangesUsingStarts))ee>0&&p.Range.areIntersectingOrTouching(j[ee-1],te)?j[ee-1]=p.Range.fromPositions(j[ee-1].getStartPosition(),te.getEndPosition()):ee=j.push(te);const re=[];for(let te of j)try{const ae=yield F.provideDocumentRangeFormattingEdits(V,te,V.getFormattingOptions(),K.token),Y=yield W.computeMoreMinimalEdits(V.uri,ae);if(Y&&re.push(...Y),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(re.length===0)return!1;if(d.isCodeEditor(D))l.FormattingEdit.execute(D,re,!0),m(re),D.revealPositionInCenterIfOutsideViewport(D.getPosition(),1);else{const[{range:te}]=re,ae=new o.Selection(te.startLineNumber,te.startColumn,te.endLineNumber,te.endColumn);V.pushEditOperations([ae],re.map(Y=>({text:Y.text,range:p.Range.lift(Y.range),forceMoveMarkers:!0})),Y=>{for(const{range:P}of Y)if(p.Range.areIntersectingOrTouching(P,ae))return[new o.Selection(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function E(R,F,D,B,A){return De(this,void 0,void 0,function*(){const W=R.get(n.IInstantiationService),V=d.isCodeEditor(F)?F.getModel():F,K=g(V),j=yield b.select(K,V,D);j&&(B.report(j),yield W.invokeFunction(N,j,F,D,A))})}e.formatDocumentWithSelectedProvider=E;function N(R,F,D,B,A){return De(this,void 0,void 0,function*(){const W=R.get(a.IEditorWorkerService);let V,K;d.isCodeEditor(D)?(V=D.getModel(),K=new _.EditorStateCancellationTokenSource(D,1|4,void 0,A)):(V=D,K=new _.TextModelCancellationTokenSource(D,A));let j;try{const ee=yield F.provideDocumentFormattingEdits(V,V.getFormattingOptions(),K.token);if(j=yield W.computeMoreMinimalEdits(V.uri,ee),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(!j||j.length===0)return!1;if(d.isCodeEditor(D))l.FormattingEdit.execute(D,j,B!==2),B!==2&&(m(j),D.revealPositionInCenterIfOutsideViewport(D.getPosition(),1));else{const[{range:ee}]=j,re=new o.Selection(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn);V.pushEditOperations([re],j.map(te=>({text:te.text,range:p.Range.lift(te.range),forceMoveMarkers:!0})),te=>{for(const{range:ae}of te)if(p.Range.areIntersectingOrTouching(ae,re))return[new o.Selection(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function I(R,F,D,B,A){return De(this,void 0,void 0,function*(){const W=c.DocumentRangeFormattingEditProviderRegistry.ordered(F);for(const V of W){let K=yield Promise.resolve(V.provideDocumentRangeFormattingEdits(F,D,B,A)).catch(y.onUnexpectedExternalError);if(k.isNonEmptyArray(K))return yield R.computeMoreMinimalEdits(F.uri,K)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function T(R,F,D,B){return De(this,void 0,void 0,function*(){const A=g(F);for(const W of A){let V=yield Promise.resolve(W.provideDocumentFormattingEdits(F,D,B)).catch(y.onUnexpectedExternalError);if(k.isNonEmptyArray(V))return yield R.computeMoreMinimalEdits(F.uri,V)}})}e.getDocumentFormattingEditsUntilResult=T;function O(R,F,D,B,A){const W=c.OnTypeFormattingEditProviderRegistry.ordered(F);return W.length===0||W[0].autoFormatTriggerCharacters.indexOf(B)<0?Promise.resolve(void 0):Promise.resolve(W[0].provideOnTypeFormattingEdits(F,D,B,A,M.CancellationToken.None)).catch(y.onUnexpectedExternalError).then(V=>R.computeMoreMinimalEdits(F.uri,V))}e.getOnTypeFormattingEdits=O,u.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(R,...F){const[D,B,A]=F;h.assertType(S.URI.isUri(D)),h.assertType(p.Range.isIRange(B));const W=R.get(s.IModelService).getModel(D);if(!W)throw y.illegalArgument("resource");return I(R.get(a.IEditorWorkerService),W,p.Range.lift(B),A,M.CancellationToken.None)}),u.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(R,...F){const[D,B]=F;h.assertType(S.URI.isUri(D));const A=R.get(s.IModelService).getModel(D);if(!A)throw y.illegalArgument("resource");return T(R.get(a.IEditorWorkerService),A,B,M.CancellationToken.None)}),u.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(R,...F){const[D,B,A,W]=F;h.assertType(S.URI.isUri(D)),h.assertType(f.Position.isIPosition(B)),h.assertType(typeof A=="string");const V=R.get(s.IModelService).getModel(D);if(!V)throw y.illegalArgument("resource");return O(R.get(a.IEditorWorkerService),V,f.Position.lift(B),A,W)})}),define(Q[579],J([0,1,19,25,38,2,13,28,90,3,24,18,73,578,224,466,26,16,9,11,58]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(w,L){this._workerService=L,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._editor=w,this._callOnDispose.add(w.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(w.onDidChangeModel(()=>this._update())),this._callOnDispose.add(w.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(o.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!!this._editor.getOption(43)&&!!this._editor.hasModel()){const w=this._editor.getModel(),[L]=o.OnTypeFormattingEditProviderRegistry.ordered(w);if(!(!L||!L.autoFormatTriggerCharacters)){let E=new d.CharacterSet;for(let N of L.autoFormatTriggerCharacters)E.add(N.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(N=>{let I=N.charCodeAt(N.length-1);E.has(I)&&this._trigger(String.fromCharCode(I))}))}}}_trigger(w){if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1)){const L=this._editor.getModel(),E=this._editor.getPosition();let N=!1;const I=this._editor.onDidChangeModelContent(T=>{if(T.isFlush){N=!0,I.dispose();return}for(let O=0,R=T.changes.length;O<R;O++)if(T.changes[O].range.endLineNumber<=E.lineNumber){N=!0,I.dispose();return}});a.getOnTypeFormattingEdits(this._workerService,L,E,w,L.getFormattingOptions()).then(T=>{I.dispose(),!N&&C.isNonEmptyArray(T)&&(s.FormattingEdit.execute(this._editor,T,!0),a.alertFormattingEdits(T))},T=>{throw I.dispose(),T})}}};h.ID="editor.contrib.autoFormat",h=Me([pe(1,c.IEditorWorkerService)],h);let v=class{constructor(w,L){this.editor=w,this._instantiationService=L,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(w.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(w.onDidChangeModel(()=>this._update())),this._callOnDispose.add(w.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(o.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(42)&&(!this.editor.hasModel()||!o.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:w})=>this._trigger(w))))}_trigger(w){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(a.formatDocumentRangesWithSelectedProvider,this.editor,w,2,u.Progress.None,k.CancellationToken.None).catch(i.onUnexpectedError)}};v.ID="editor.contrib.formatOnPaste",v=Me([pe(1,n.IInstantiationService)],v);class m extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:l.localize(0,null),alias:"Format Document",precondition:t.ContextKeyExpr.and(p.EditorContextKeys.notInCompositeEditor,p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(w,L){return De(this,void 0,void 0,function*(){if(L.hasModel()){const E=w.get(n.IInstantiationService);yield w.get(u.IEditorProgressService).showWhile(E.invokeFunction(a.formatDocumentWithSelectedProvider,L,1,u.Progress.None,k.CancellationToken.None),250)}})}}class g extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:l.localize(1,null),alias:"Format Selection",precondition:t.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|36),weight:100},contextMenuOpts:{when:p.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(w,L){return De(this,void 0,void 0,function*(){if(!!L.hasModel()){const E=w.get(n.IInstantiationService),N=L.getModel(),I=L.getSelections().map(O=>O.isEmpty()?new f.Range(O.startLineNumber,1,O.startLineNumber,N.getLineMaxColumn(O.startLineNumber)):O);yield w.get(u.IEditorProgressService).showWhile(E.invokeFunction(a.formatDocumentRangesWithSelectedProvider,L,I,1,u.Progress.None,k.CancellationToken.None),250)}})}}S.registerEditorContribution(h.ID,h),S.registerEditorContribution(v.ID,v),S.registerEditorAction(m),S.registerEditorAction(g),r.CommandsRegistry.registerCommand("editor.action.format",b=>De(void 0,void 0,void 0,function*(){const w=b.get(_.ICodeEditorService).getFocusedCodeEditor();if(!(!w||!w.hasModel())){const L=b.get(r.ICommandService);w.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}}))}),define(Q[252],J([0,1,25,11,13,18]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function S(c,a,s,l){const t=s.ordered(c).map(n=>Promise.resolve(l(n,c,a)).then(void 0,i=>{k.onUnexpectedExternalError(i)}));return Promise.all(t).then(n=>{const i=[];for(let u of n)Array.isArray(u)?i.push(...u):u&&i.push(u);return i})}function _(c,a,s){return S(c,a,y.DefinitionProviderRegistry,(l,r,t)=>l.provideDefinition(r,t,s))}e.getDefinitionsAtPosition=_;function d(c,a,s){return S(c,a,y.DeclarationProviderRegistry,(l,r,t)=>l.provideDeclaration(r,t,s))}e.getDeclarationsAtPosition=d;function f(c,a,s){return S(c,a,y.ImplementationProviderRegistry,(l,r,t)=>l.provideImplementation(r,t,s))}e.getImplementationsAtPosition=f;function p(c,a,s){return S(c,a,y.TypeDefinitionProviderRegistry,(l,r,t)=>l.provideTypeDefinition(r,t,s))}e.getTypeDefinitionsAtPosition=p;function o(c,a,s,l){return S(c,a,y.ReferenceProviderRegistry,(r,t,n)=>De(this,void 0,void 0,function*(){const i=yield r.provideReferences(t,n,{includeDeclaration:!0},l);if(!s||!i||i.length!==2)return i;const u=yield r.provideReferences(t,n,{includeDeclaration:!1},l);return u&&u.length===1?u:i}))}e.getReferencesAtPosition=o,M.registerModelAndPositionCommand("_executeDefinitionProvider",(c,a)=>_(c,a,C.CancellationToken.None)),M.registerModelAndPositionCommand("_executeDeclarationProvider",(c,a)=>d(c,a,C.CancellationToken.None)),M.registerModelAndPositionCommand("_executeImplementationProvider",(c,a)=>f(c,a,C.CancellationToken.None)),M.registerModelAndPositionCommand("_executeTypeDefinitionProvider",(c,a)=>p(c,a,C.CancellationToken.None)),M.registerModelAndPositionCommand("_executeReferenceProvider",(c,a)=>o(c,a,!1,C.CancellationToken.None))}),define(Q[580],J([0,1,16,9,72,86,13,28,3,2,4,475,36,32,40]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new C.RawContextKey("hasSymbols",!1),e.ISymbolNavigationService=k.createDecorator("ISymbolNavigationService");let l=class{constructor(n,i,u,h){this._editorService=i,this._notificationService=u,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(n)}reset(){var n,i;this._ctxHasSymbols.reset(),(n=this._currentState)===null||n===void 0||n.dispose(),(i=this._currentMessage)===null||i===void 0||i.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(n){const i=n.parent.parent;if(i.references.length<=1){this.reset();return}this._currentModel=i,this._currentIdx=i.references.indexOf(n),this._ctxHasSymbols.set(!0),this._showMessage();const u=new r(this._editorService),h=u.onDidChange(v=>{if(!this._ignoreEditorChange){const m=this._editorService.getActiveCodeEditor();if(!!m){const g=m.getModel(),b=m.getPosition();if(!(!g||!b)){let w=!1,L=!1;for(const E of i.references)if(s.isEqual(E.uri,g.uri))w=!0,L=L||d.Range.containsPosition(E.range,b);else if(w)break;(!w||!L)&&this.reset()}}}});this._currentState=f.combinedDisposable(u,h)}revealNext(n){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const i=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:i.uri,options:{selection:d.Range.collapseToStart(i.range),selectionRevealType:3}},n).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var n;(n=this._currentMessage)===null||n===void 0||n.dispose();const i=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),u=i?o.localize(0,null,this._currentIdx+1,this._currentModel.references.length,i.getLabel()):o.localize(1,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(u)}};l=Me([pe(0,C.IContextKeyService),pe(1,_.ICodeEditorService),pe(2,a.INotificationService),pe(3,c.IKeybindingService)],l),M.registerSingleton(e.ISymbolNavigationService,l,!0),S.registerEditorCommand(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(t,n){return t.get(e.ISymbolNavigationService).revealNext(n)}}),y.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(t){t.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(n){this._listener=new Map,this._disposables=new f.DisposableStore,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(n.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(n.onCodeEditorAdd(this._onDidAddEditor,this)),n.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),f.dispose(this._listener.values())}_onDidAddEditor(n){this._listener.set(n,f.combinedDisposable(n.onDidChangeCursorPosition(i=>this._onDidChange.fire({editor:n})),n.onDidChangeModelContent(i=>this._onDidChange.fire({editor:n}))))}_onDidRemoveEditor(n){var i;(i=this._listener.get(n))===null||i===void 0||i.dispose(),this._listener.delete(n)}};r=Me([pe(0,_.ICodeEditorService)],r)}),define(Q[581],J([0,1,19,25,11,13,18]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function _(f,p,o){const a=S.HoverProviderRegistry.ordered(f).map(s=>Promise.resolve(s.provideHover(f,p,o)).then(l=>l&&d(l)?l:void 0,l=>{M.onUnexpectedExternalError(l)}));return Promise.all(a).then(C.coalesce)}e.getHover=_,y.registerModelAndPositionCommand("_executeHoverProvider",(f,p)=>_(f,p,k.CancellationToken.None));function d(f){const p=typeof f.range!="undefined",o=typeof f.contents!="undefined"&&f.contents&&f.contents.length>0;return p&&o}}),define(Q[582],J([0,1,477,7,82,2,3,139,19,57,67,18,581,12]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const s=k.$;class l{constructor(n,i){this.range=n,this.contents=i}equals(n){return n instanceof l?M.markedStringsEquals(this.contents,n.contents):!1}}e.MarkdownHover=l;let r=class{constructor(n,i,u,h){this._editor=n,this._hover=i,this._modeService=u,this._openerService=h}createLoadingMessage(n){return new l(n,[new M.MarkdownString().appendText(C.localize(0,null))])}computeSync(n,i){if(!this._editor.hasModel())return[];const u=this._editor.getModel(),h=n.startLineNumber,v=u.getLineMaxColumn(h),m=[];for(const g of i){const b=g.range.startLineNumber===h?g.range.startColumn:1,w=g.range.endLineNumber===h?g.range.endColumn:v,L=g.options.hoverMessage;if(!(!L||M.isEmptyMarkdownString(L))){const E=new S.Range(n.startLineNumber,b,n.startLineNumber,w);m.push(new l(E,d.asArray(L)))}}return m}computeAsync(n,i){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!n)return Promise.resolve([]);const u=this._editor.getModel();if(!o.HoverProviderRegistry.has(u))return Promise.resolve([]);const h=yield c.getHover(u,new a.Position(n.startLineNumber,n.startColumn),i),v=[];for(const m of h)if(!M.isEmptyMarkdownString(m.contents)){const g=m.range?S.Range.lift(m.range):n;v.push(new l(g,m.contents))}return v})}renderHoverParts(n,i){const u=new y.DisposableStore;for(const h of n)for(const v of h.contents)if(!M.isEmptyMarkdownString(v)){const m=s("div.hover-row.markdown-hover"),g=k.append(m,s("div.hover-contents")),b=u.add(new _.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));u.add(b.onDidRenderAsync(()=>{g.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const w=u.add(b.render(v));g.appendChild(w.element),i.appendChild(m)}return u}};r=Me([pe(2,p.IModeService),pe(3,f.IOpenerService)],r),e.MarkdownHoverParticipant=r}),define(Q[583],J([0,1,480,2,8,13,175,61,3,20,24,31,41,45,227,77]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function r(I,T,O,R){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];let F=c.LanguageConfigurationRegistry.getIndentationRules(I.getLanguageIdentifier().id);if(!F)return[];for(O=Math.min(O,I.getLineCount());T<=O&&F.unIndentedLinePattern;){let ae=I.getLineContent(T);if(!F.unIndentedLinePattern.test(ae))break;T++}if(T>O-1)return[];const{tabSize:D,indentSize:B,insertSpaces:A}=I.getOptions(),W=(ae,Y)=>(Y=Y||1,S.ShiftCommand.shiftIndent(ae,ae.length+Y,D,B,A)),V=(ae,Y)=>(Y=Y||1,S.ShiftCommand.unshiftIndent(ae,ae.length+Y,D,B,A));let K=[],j,ee=I.getLineContent(T),re=ee;if(R!=null){j=R;let ae=M.getLeadingWhitespace(ee);re=j+ee.substring(ae.length),F.decreaseIndentPattern&&F.decreaseIndentPattern.test(re)&&(j=V(j),re=j+ee.substring(ae.length)),ee!==re&&K.push(_.EditOperation.replaceMove(new f.Selection(T,1,T,ae.length+1),o.TextModel.normalizeIndentation(j,B,A)))}else j=M.getLeadingWhitespace(ee);let te=j;F.increaseIndentPattern&&F.increaseIndentPattern.test(re)?(te=W(te),j=W(j)):F.indentNextLinePattern&&F.indentNextLinePattern.test(re)&&(te=W(te)),T++;for(let ae=T;ae<=O;ae++){let Y=I.getLineContent(ae),P=M.getLeadingWhitespace(Y),x=te+Y.substring(P.length);F.decreaseIndentPattern&&F.decreaseIndentPattern.test(x)&&(te=V(te),j=V(j)),P!==te&&K.push(_.EditOperation.replaceMove(new f.Selection(ae,1,ae,P.length+1),o.TextModel.normalizeIndentation(te,B,A))),!(F.unIndentedLinePattern&&F.unIndentedLinePattern.test(Y))&&(F.increaseIndentPattern&&F.increaseIndentPattern.test(x)?(j=W(j),te=j):F.indentNextLinePattern&&F.indentNextLinePattern.test(x)?te=W(te):te=j)}return K}e.getReindentEditOperations=r;class t extends y.EditorAction{constructor(){super({id:t.ID,label:C.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable})}run(T,O){let R=O.getModel();if(!!R){let F=R.getOptions(),D=O.getSelection();if(!!D){const B=new E(D,F.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),R.updateOptions({insertSpaces:!0})}}}}e.IndentationToSpacesAction=t,t.ID="editor.action.indentationToSpaces";class n extends y.EditorAction{constructor(){super({id:n.ID,label:C.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable})}run(T,O){let R=O.getModel();if(!!R){let F=R.getOptions(),D=O.getSelection();if(!!D){const B=new N(D,F.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[B]),O.pushUndoStop(),R.updateOptions({insertSpaces:!1})}}}}e.IndentationToTabsAction=n,n.ID="editor.action.indentationToTabs";class i extends y.EditorAction{constructor(T,O){super(O);this.insertSpaces=T}run(T,O){const R=T.get(l.IQuickInputService),F=T.get(a.IModelService);let D=O.getModel();if(!!D){let B=F.getCreationOptions(D.getLanguageIdentifier().language,D.uri,D.isForSimpleWidget);const A=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===B.tabSize?C.localize(2,null):void 0})),W=Math.min(D.getOptions().tabSize-1,7);setTimeout(()=>{R.pick(A,{placeHolder:C.localize(3,null),activeItem:A[W]}).then(V=>{V&&D&&!D.isDisposed()&&D.updateOptions({tabSize:parseInt(V.label,10),insertSpaces:this.insertSpaces})})},50)}}}e.ChangeIndentationSizeAction=i;class u extends i{constructor(){super(!1,{id:u.ID,label:C.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=u,u.ID="editor.action.indentUsingTabs";class h extends i{constructor(){super(!0,{id:h.ID,label:C.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class v extends y.EditorAction{constructor(){super({id:v.ID,label:C.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,O){const R=T.get(a.IModelService);let F=O.getModel();if(!!F){let D=R.getCreationOptions(F.getLanguageIdentifier().language,F.uri,F.isForSimpleWidget);F.detectIndentation(D.insertSpaces,D.tabSize)}}}e.DetectIndentation=v,v.ID="editor.action.detectIndentation";class m extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:C.localize(7,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable})}run(T,O){let R=O.getModel();if(!!R){let F=r(R,1,R.getLineCount());F.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,F),O.pushUndoStop())}}}e.ReindentLinesAction=m;class g extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:C.localize(8,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable})}run(T,O){let R=O.getModel();if(!!R){let F=O.getSelections();if(F!==null){let D=[];for(let B of F){let A=B.startLineNumber,W=B.endLineNumber;if(A!==W&&B.endColumn===1&&W--,A===1){if(A===W)continue}else A--;let V=r(R,A,W);D.push(...V)}D.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,D),O.pushUndoStop())}}}}e.ReindentSelectedLinesAction=g;class b{constructor(T,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let R of T)R.range&&typeof R.text=="string"&&this._edits.push(R)}getEditOperations(T,O){for(let F of this._edits)O.addEditOperation(d.Range.lift(F.range),F.text);let R=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(R=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(R=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),R||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(T,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=b;class w{constructor(T){this.callOnDispose=new k.DisposableStore,this.callOnModel=new k.DisposableStore,this.editor=T,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(8)<4||this.editor.getOption(42))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)})))}trigger(T){let O=this.editor.getSelections();if(!(O===null||O.length>1)){const R=this.editor.getModel();if(!!R&&!!R.isCheapToTokenize(T.getStartPosition().lineNumber)){const F=this.editor.getOption(8),{tabSize:D,indentSize:B,insertSpaces:A}=R.getOptions();let W=[],V={shiftIndent:re=>S.ShiftCommand.shiftIndent(re,re.length+1,D,B,A),unshiftIndent:re=>S.ShiftCommand.unshiftIndent(re,re.length+1,D,B,A)},K=T.startLineNumber;for(;K<=T.endLineNumber;){if(this.shouldIgnoreLine(R,K)){K++;continue}break}if(!(K>T.endLineNumber)){let j=R.getLineContent(K);if(!/\S/.test(j.substring(0,T.startColumn-1))){let re=c.LanguageConfigurationRegistry.getGoodIndentForLine(F,R,R.getLanguageIdentifier().id,K,V);if(re!==null){let te=M.getLeadingWhitespace(j),ae=s.getSpaceCnt(re,D),Y=s.getSpaceCnt(te,D);if(ae!==Y){let P=s.generateIndent(ae,D,A);W.push({range:new d.Range(K,1,K,te.length+1),text:P}),j=P+j.substr(te.length)}else{let P=c.LanguageConfigurationRegistry.getIndentMetadata(R,K);if(P===0||P===8)return}}}const ee=K;for(;K<T.endLineNumber;){if(!/\S/.test(R.getLineContent(K+1))){K++;continue}break}if(K!==T.endLineNumber){let re={getLineTokens:ae=>R.getLineTokens(ae),getLanguageIdentifier:()=>R.getLanguageIdentifier(),getLanguageIdAtPosition:(ae,Y)=>R.getLanguageIdAtPosition(ae,Y),getLineContent:ae=>ae===ee?j:R.getLineContent(ae)},te=c.LanguageConfigurationRegistry.getGoodIndentForLine(F,re,R.getLanguageIdentifier().id,K+1,V);if(te!==null){let ae=s.getSpaceCnt(te,D),Y=s.getSpaceCnt(M.getLeadingWhitespace(R.getLineContent(K+1)),D);if(ae!==Y){let P=ae-Y;for(let x=K+1;x<=T.endLineNumber;x++){let z=R.getLineContent(x),U=M.getLeadingWhitespace(z),q=s.getSpaceCnt(U,D)+P,ie=s.generateIndent(q,D,A);ie!==U&&W.push({range:new d.Range(x,1,x,U.length+1),text:ie})}}}}if(W.length>0){this.editor.pushUndoStop();let re=new b(W,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",re),this.editor.pushUndoStop()}}}}}shouldIgnoreLine(T,O){T.forceTokenization(O);let R=T.getLineFirstNonWhitespaceColumn(O);if(R===0)return!0;let F=T.getLineTokens(O);if(F.getCount()>0){let D=F.findTokenIndexAtOffset(R);if(D>=0&&F.getStandardTokenType(D)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=w,w.ID="editor.contrib.autoIndentOnPaste";function L(I,T,O,R){if(!(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)){let F="";for(let B=0;B<O;B++)F+=" ";let D=new RegExp(F,"gi");for(let B=1,A=I.getLineCount();B<=A;B++){let W=I.getLineFirstNonWhitespaceColumn(B);if(W===0&&(W=I.getLineMaxColumn(B)),W!==1){const V=new d.Range(B,1,B,W),K=I.getValueInRange(V),j=R?K.replace(/\t/ig,F):K.replace(D,"	");T.addEditOperation(V,j)}}}}class E{constructor(T,O){this.selection=T,this.tabSize=O,this.selectionId=null}getEditOperations(T,O){this.selectionId=O.trackSelection(this.selection),L(T,O,this.tabSize,!0)}computeCursorState(T,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=E;class N{constructor(T,O){this.selection=T,this.tabSize=O,this.selectionId=null}getEditOperations(T,O){this.selectionId=O.trackSelection(this.selection),L(T,O,this.tabSize,!1)}computeCursorState(T,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,y.registerEditorContribution(w.ID,w),y.registerEditorAction(t),y.registerEditorAction(n),y.registerEditorAction(u),y.registerEditorAction(h),y.registerEditorAction(v),y.registerEditorAction(m),y.registerEditorAction(g)}),define(Q[584],J([0,1,481,38,183,13,91,357,178,61,12,3,20,24,400,529,401,35]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class n extends y.EditorAction{constructor(ae,Y){super(Y);this.down=ae}run(ae,Y){if(!!Y.hasModel()){const P=Y.getSelections().map((U,H)=>({selection:U,index:H,ignore:!1}));P.sort((U,H)=>o.Range.compareRangesUsingStarts(U.selection,H.selection));let x=P[0];for(let U=1;U<P.length;U++){const H=P[U];x.selection.endLineNumber===H.selection.startLineNumber&&(x.index<H.index?H.ignore=!0:(x.ignore=!0,x=H))}const z=[];for(const U of P)z.push(new s.CopyLinesCommand(U.selection,this.down,U.ignore));Y.pushUndoStop(),Y.executeCommands(this.id,z),Y.pushUndoStop()}}}class i extends n{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:C.localize(0,null),alias:"Copy Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(1,null),order:1}})}}class u extends n{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:C.localize(2,null),alias:"Copy Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(3,null),order:2}})}}class h extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:C.localize(4,null),alias:"Duplicate Selection",precondition:a.EditorContextKeys.writable,menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(5,null),order:5}})}run(ae,Y,P){if(!!Y.hasModel()){const x=[],z=Y.getSelections(),U=Y.getModel();for(const H of z)if(H.isEmpty())x.push(new s.CopyLinesCommand(H,!0));else{const q=new c.Selection(H.endLineNumber,H.endColumn,H.endLineNumber,H.endColumn);x.push(new S.ReplaceCommandThatSelectsText(q,U.getValueInRange(H)))}Y.pushUndoStop(),Y.executeCommands(this.id,x),Y.pushUndoStop()}}}e.DuplicateSelectionAction=h;class v extends y.EditorAction{constructor(ae,Y){super(Y);this.down=ae}run(ae,Y){let P=[],x=Y.getSelections()||[];const z=Y.getOption(8);for(const U of x)P.push(new l.MoveLinesCommand(U,this.down,z));Y.pushUndoStop(),Y.executeCommands(this.id,P),Y.pushUndoStop()}}class m extends v{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:C.localize(6,null),alias:"Move Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(7,null),order:3}})}}class g extends v{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:C.localize(8,null),alias:"Move Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(9,null),order:4}})}}class b extends y.EditorAction{constructor(ae,Y){super(Y);this.descending=ae}run(ae,Y){const P=Y.getSelections()||[];for(const z of P)if(!r.SortLinesCommand.canRun(Y.getModel(),z,this.descending))return;let x=[];for(let z=0,U=P.length;z<U;z++)x[z]=new r.SortLinesCommand(P[z],this.descending);Y.pushUndoStop(),Y.executeCommands(this.id,x),Y.pushUndoStop()}}e.AbstractSortLinesAction=b;class w extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:C.localize(10,null),alias:"Sort Lines Ascending",precondition:a.EditorContextKeys.writable})}}e.SortLinesAscendingAction=w;class L extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:C.localize(11,null),alias:"Sort Lines Descending",precondition:a.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class E extends y.EditorAction{constructor(){super({id:E.ID,label:C.localize(12,null),alias:"Trim Trailing Whitespace",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|54),weight:100}})}run(ae,Y,P){let x=[];P.reason==="auto-save"&&(x=(Y.getSelections()||[]).map(H=>new p.Position(H.positionLineNumber,H.positionColumn)));let z=Y.getSelection();if(z!==null){let U=new _.TrimTrailingWhitespaceCommand(z,x);Y.pushUndoStop(),Y.executeCommands(this.id,[U]),Y.pushUndoStop()}}}e.TrimTrailingWhitespaceAction=E,E.ID="editor.action.trimTrailingWhitespace";class N extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:C.localize(13,null),alias:"Delete Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ae,Y){if(!!Y.hasModel()){let P=this._getLinesToRemove(Y),x=Y.getModel();if(!(x.getLineCount()===1&&x.getLineMaxColumn(1)===1)){let z=0,U=[],H=[];for(let q=0,ie=P.length;q<ie;q++){const ce=P[q];let ue=ce.startLineNumber,Z=ce.endLineNumber,ne=1,$=x.getLineMaxColumn(Z);Z<x.getLineCount()?(Z+=1,$=1):ue>1&&(ue-=1,ne=x.getLineMaxColumn(ue)),U.push(f.EditOperation.replace(new c.Selection(ue,ne,Z,$),"")),H.push(new c.Selection(ue-z,ce.positionColumn,ue-z,ce.positionColumn)),z+=ce.endLineNumber-ce.startLineNumber+1}Y.pushUndoStop(),Y.executeEdits(this.id,U,H),Y.pushUndoStop()}}}_getLinesToRemove(ae){let Y=ae.getSelections().map(z=>{let U=z.endLineNumber;return z.startLineNumber<z.endLineNumber&&z.endColumn===1&&(U-=1),{startLineNumber:z.startLineNumber,selectionStartColumn:z.selectionStartColumn,endLineNumber:U,positionColumn:z.positionColumn}});Y.sort((z,U)=>z.startLineNumber===U.startLineNumber?z.endLineNumber-U.endLineNumber:z.startLineNumber-U.startLineNumber);let P=[],x=Y[0];for(let z=1;z<Y.length;z++)x.endLineNumber+1>=Y[z].startLineNumber?x.endLineNumber=Y[z].endLineNumber:(P.push(x),x=Y[z]);return P.push(x),P}}e.DeleteLinesAction=N;class I extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:C.localize(14,null),alias:"Indent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ae,Y){const P=Y._getViewModel();!P||(Y.pushUndoStop(),Y.executeCommands(this.id,d.TypeOperations.indent(P.cursorConfig,Y.getModel(),Y.getSelections())),Y.pushUndoStop())}}e.IndentLinesAction=I;class T extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:C.localize(15,null),alias:"Outdent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ae,Y){M.CoreEditingCommands.Outdent.runEditorCommand(ae,Y,null)}}class O extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:C.localize(16,null),alias:"Insert Line Above",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ae,Y){const P=Y._getViewModel();!P||(Y.pushUndoStop(),Y.executeCommands(this.id,d.TypeOperations.lineInsertBefore(P.cursorConfig,Y.getModel(),Y.getSelections())))}}e.InsertLineBeforeAction=O;class R extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:C.localize(17,null),alias:"Insert Line Below",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ae,Y){const P=Y._getViewModel();!P||(Y.pushUndoStop(),Y.executeCommands(this.id,d.TypeOperations.lineInsertAfter(P.cursorConfig,Y.getModel(),Y.getSelections())))}}e.InsertLineAfterAction=R;class F extends y.EditorAction{run(ae,Y){if(!!Y.hasModel()){const P=Y.getSelection();let x=this._getRangesToDelete(Y),z=[];for(let q=0,ie=x.length-1;q<ie;q++){let ce=x[q],ue=x[q+1];o.Range.intersectRanges(ce,ue)===null?z.push(ce):x[q+1]=o.Range.plusRange(ce,ue)}z.push(x[x.length-1]);let U=this._getEndCursorState(P,z),H=z.map(q=>f.EditOperation.replace(q,""));Y.pushUndoStop(),Y.executeEdits(this.id,H,U),Y.pushUndoStop()}}}e.AbstractDeleteAllToBoundaryAction=F;class D extends F{constructor(){super({id:"deleteAllLeft",label:C.localize(18,null),alias:"Delete All Left",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ae,Y){let P=null,x=[],z=0;return Y.forEach(U=>{let H;if(U.endColumn===1&&z>0){let q=U.startLineNumber-z;H=new c.Selection(q,U.startColumn,q,U.startColumn)}else H=new c.Selection(U.startLineNumber,U.startColumn,U.startLineNumber,U.startColumn);z+=U.endLineNumber-U.startLineNumber,U.intersectRanges(ae)?P=H:x.push(H)}),P&&x.unshift(P),x}_getRangesToDelete(ae){let Y=ae.getSelections();if(Y===null)return[];let P=Y,x=ae.getModel();return x===null?[]:(P.sort(o.Range.compareRangesUsingStarts),P=P.map(z=>{if(z.isEmpty())if(z.startColumn===1){let U=Math.max(1,z.startLineNumber-1),H=z.startLineNumber===1?1:x.getLineContent(U).length+1;return new o.Range(U,H,z.startLineNumber,1)}else return new o.Range(z.startLineNumber,1,z.startLineNumber,z.startColumn);else return new o.Range(z.startLineNumber,1,z.endLineNumber,z.endColumn)}),P)}}e.DeleteAllLeftAction=D;class B extends F{constructor(){super({id:"deleteAllRight",label:C.localize(19,null),alias:"Delete All Right",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ae,Y){let P=null,x=[];for(let z=0,U=Y.length,H=0;z<U;z++){let q=Y[z],ie=new c.Selection(q.startLineNumber-H,q.startColumn,q.startLineNumber-H,q.startColumn);q.intersectRanges(ae)?P=ie:x.push(ie)}return P&&x.unshift(P),x}_getRangesToDelete(ae){let Y=ae.getModel();if(Y===null)return[];let P=ae.getSelections();if(P===null)return[];let x=P.map(z=>{if(z.isEmpty()){const U=Y.getLineMaxColumn(z.startLineNumber);return z.startColumn===U?new o.Range(z.startLineNumber,z.startColumn,z.startLineNumber+1,1):new o.Range(z.startLineNumber,z.startColumn,z.startLineNumber,U)}return z});return x.sort(o.Range.compareRangesUsingStarts),x}}e.DeleteAllRightAction=B;class A extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:C.localize(20,null),alias:"Join Lines",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ae,Y){let P=Y.getSelections();if(P!==null){let x=Y.getSelection();if(x!==null){P.sort(o.Range.compareRangesUsingStarts);let z=[],U=P.reduce((Z,ne)=>Z.isEmpty()?Z.endLineNumber===ne.startLineNumber?(x.equalsSelection(Z)&&(x=ne),ne):ne.startLineNumber>Z.endLineNumber+1?(z.push(Z),ne):new c.Selection(Z.startLineNumber,Z.startColumn,ne.endLineNumber,ne.endColumn):ne.startLineNumber>Z.endLineNumber?(z.push(Z),ne):new c.Selection(Z.startLineNumber,Z.startColumn,ne.endLineNumber,ne.endColumn));z.push(U);let H=Y.getModel();if(H!==null){let q=[],ie=[],ce=x,ue=0;for(let Z=0,ne=z.length;Z<ne;Z++){let $=z[Z],X=$.startLineNumber,de=1,fe=0,se,le,me=H.getLineContent($.endLineNumber).length-$.endColumn;if($.isEmpty()||$.startLineNumber===$.endLineNumber){let Le=$.getStartPosition();Le.lineNumber<H.getLineCount()?(se=X+1,le=H.getLineMaxColumn(se)):(se=Le.lineNumber,le=H.getLineMaxColumn(Le.lineNumber))}else se=$.endLineNumber,le=H.getLineMaxColumn(se);let be=H.getLineContent(X);for(let Le=X+1;Le<=se;Le++){let Ie=H.getLineContent(Le),Te=H.getLineFirstNonWhitespaceColumn(Le);if(Te>=1){let Ne=!0;be===""&&(Ne=!1),Ne&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Ne=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let Pe=Ie.substr(Te-1);be+=(Ne?" ":"")+Pe,Ne?fe=Pe.length+1:fe=Pe.length}else fe=0}let ye=new o.Range(X,de,se,le);if(!ye.isEmpty()){let Le;$.isEmpty()?(q.push(f.EditOperation.replace(ye,be)),Le=new c.Selection(ye.startLineNumber-ue,be.length-fe+1,X-ue,be.length-fe+1)):$.startLineNumber===$.endLineNumber?(q.push(f.EditOperation.replace(ye,be)),Le=new c.Selection($.startLineNumber-ue,$.startColumn,$.endLineNumber-ue,$.endColumn)):(q.push(f.EditOperation.replace(ye,be)),Le=new c.Selection($.startLineNumber-ue,$.startColumn,$.startLineNumber-ue,be.length-me)),o.Range.intersectRanges(ye,x)!==null?ce=Le:ie.push(Le)}ue+=ye.endLineNumber-ye.startLineNumber}ie.unshift(ce),Y.pushUndoStop(),Y.executeEdits(this.id,q,ie),Y.pushUndoStop()}}}}}e.JoinLinesAction=A;class W extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:C.localize(21,null),alias:"Transpose characters around the cursor",precondition:a.EditorContextKeys.writable})}run(ae,Y){let P=Y.getSelections();if(P!==null){let x=Y.getModel();if(x!==null){let z=[];for(let U=0,H=P.length;U<H;U++){let q=P[U];if(!!q.isEmpty()){let ie=q.getStartPosition(),ce=x.getLineMaxColumn(ie.lineNumber);if(ie.column>=ce){if(ie.lineNumber===x.getLineCount())continue;let ue=new o.Range(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber+1,1),Z=x.getValueInRange(ue).split("").reverse().join("");z.push(new S.ReplaceCommand(new c.Selection(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber+1,1),Z))}else{let ue=new o.Range(ie.lineNumber,Math.max(1,ie.column-1),ie.lineNumber,ie.column+1),Z=x.getValueInRange(ue).split("").reverse().join("");z.push(new S.ReplaceCommandThatPreservesSelection(ue,Z,new c.Selection(ie.lineNumber,ie.column+1,ie.lineNumber,ie.column+1)))}}}Y.pushUndoStop(),Y.executeCommands(this.id,z),Y.pushUndoStop()}}}}e.TransposeAction=W;class V extends y.EditorAction{run(ae,Y){const P=Y.getSelections();if(P!==null){const x=Y.getModel();if(x!==null){const z=Y.getOption(110),U=[];for(const H of P)if(H.isEmpty()){const q=H.getStartPosition(),ie=Y.getConfiguredWordAtPosition(q);if(!ie)continue;const ce=new o.Range(q.lineNumber,ie.startColumn,q.lineNumber,ie.endColumn),ue=x.getValueInRange(ce);U.push(f.EditOperation.replace(ce,this._modifyText(ue,z)))}else{const q=x.getValueInRange(H);U.push(f.EditOperation.replace(H,this._modifyText(q,z)))}Y.pushUndoStop(),Y.executeEdits(this.id,U),Y.pushUndoStop()}}}}e.AbstractCaseAction=V;class K extends V{constructor(){super({id:"editor.action.transformToUppercase",label:C.localize(22,null),alias:"Transform to Uppercase",precondition:a.EditorContextKeys.writable})}_modifyText(ae,Y){return ae.toLocaleUpperCase()}}e.UpperCaseAction=K;class j extends V{constructor(){super({id:"editor.action.transformToLowercase",label:C.localize(23,null),alias:"Transform to Lowercase",precondition:a.EditorContextKeys.writable})}_modifyText(ae,Y){return ae.toLocaleLowerCase()}}e.LowerCaseAction=j;class ee extends V{constructor(){super({id:"editor.action.transformToTitlecase",label:C.localize(24,null),alias:"Transform to Title Case",precondition:a.EditorContextKeys.writable})}_modifyText(ae,Y){const x=(`\r
	 `+Y).split("");let z="",U=!0;for(let H=0;H<ae.length;H++){let q=ae[H];x.indexOf(q)>=0?(U=!0,z+=q):U?(U=!1,z+=q.toLocaleUpperCase()):z+=q.toLocaleLowerCase()}return z}}e.TitleCaseAction=ee;class re extends V{constructor(){super({id:"editor.action.transformToSnakecase",label:C.localize(25,null),alias:"Transform to Snake Case",precondition:a.EditorContextKeys.writable})}_modifyText(ae,Y){return ae.replace(/(\p{Ll})(\p{Lu})/gmu,"$1_$2").replace(/([^\b_])(\p{Lu})(\p{Ll})/gmu,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=re,y.registerEditorAction(i),y.registerEditorAction(u),y.registerEditorAction(h),y.registerEditorAction(m),y.registerEditorAction(g),y.registerEditorAction(w),y.registerEditorAction(L),y.registerEditorAction(E),y.registerEditorAction(N),y.registerEditorAction(I),y.registerEditorAction(T),y.registerEditorAction(O),y.registerEditorAction(R),y.registerEditorAction(D),y.registerEditorAction(B),y.registerEditorAction(A),y.registerEditorAction(W),y.registerEditorAction(K),y.registerEditorAction(j),y.registerEditorAction(ee),y.registerEditorAction(re)}),define(Q[585],J([0,1,19,25,13,12,3,20,24,18,493,35,402,228,26,11]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class r{constructor(m,g){this.index=m,this.ranges=g}mov(m){let g=this.index+(m?1:-1);if(g<0||g>=this.ranges.length)return this;const b=new r(g,this.ranges);return b.ranges[g].equalsRange(this.ranges[this.index])?b.mov(m):b}}class t{constructor(m){this._editor=m,this._ignoreSelection=!1}static get(m){return m.getContribution(t.ID)}dispose(){var m;(m=this._selectionListener)===null||m===void 0||m.dispose()}run(m){return De(this,void 0,void 0,function*(){if(!!this._editor.hasModel()){const g=this._editor.getSelections(),b=this._editor.getModel();if(!!f.SelectionRangeRegistry.has(b)&&(this._state||(yield h(b,g.map(L=>L.getPosition()),this._editor.getOption(97),k.CancellationToken.None).then(L=>{var E;if(!(!C.isNonEmptyArray(L)||L.length!==g.length)&&!(!this._editor.hasModel()||!C.equals(this._editor.getSelections(),g,(N,I)=>N.equalsSelection(I)))){for(let N=0;N<L.length;N++)L[N]=L[N].filter(I=>I.containsPosition(g[N].getStartPosition())&&I.containsPosition(g[N].getEndPosition())),L[N].unshift(g[N]);this._state=L.map(N=>new r(0,N)),(E=this._selectionListener)===null||E===void 0||E.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||((N=this._selectionListener)===null||N===void 0||N.dispose(),this._state=void 0)})}})),!!this._state)){this._state=this._state.map(L=>L.mov(m));const w=this._state.map(L=>_.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(w)}finally{this._ignoreSelection=!1}}}})}}t.ID="editor.contrib.smartSelectController";class n extends M.EditorAction{constructor(m,g){super(g);this._forward=m}run(m,g){return De(this,void 0,void 0,function*(){let b=t.get(g);b&&(yield b.run(this._forward))})}}class i extends n{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:o.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(1,null),order:2}})}}s.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class u extends n{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:o.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(3,null),order:3}})}}M.registerEditorContribution(t.ID,t),M.registerEditorAction(i),M.registerEditorAction(u),f.SelectionRangeRegistry.register("*",new c.WordSelectionRangeProvider);function h(v,m,g,b){return De(this,void 0,void 0,function*(){const w=f.SelectionRangeRegistry.all(v);w.length===1&&w.unshift(new a.BracketSelectionRangeProvider);let L=[],E=[];for(const N of w)L.push(Promise.resolve(N.provideSelectionRanges(v,m,b)).then(I=>{if(C.isNonEmptyArray(I)&&I.length===m.length)for(let T=0;T<m.length;T++){E[T]||(E[T]=[]);for(const O of I[T])S.Range.isIRange(O.range)&&S.Range.containsPosition(O.range,m[T])&&E[T].push(S.Range.lift(O.range))}},l.onUnexpectedExternalError));return yield Promise.all(L),E.map(N=>{if(N.length===0)return[];N.sort((R,F)=>y.Position.isBefore(R.getStartPosition(),F.getStartPosition())?1:y.Position.isBefore(F.getStartPosition(),R.getStartPosition())||y.Position.isBefore(R.getEndPosition(),F.getEndPosition())?-1:y.Position.isBefore(F.getEndPosition(),R.getEndPosition())?1:0);let I=[],T;for(const R of N)(!T||S.Range.containsRange(R,T)&&!S.Range.equalsRange(R,T))&&(I.push(R),T=R);if(!g.selectLeadingAndTrailingWhitespace)return I;let O=[I[0]];for(let R=1;R<I.length;R++){const F=I[R-1],D=I[R];if(D.startLineNumber!==F.startLineNumber||D.endLineNumber!==F.endLineNumber){const B=new S.Range(F.startLineNumber,v.getLineFirstNonWhitespaceColumn(F.startLineNumber),F.endLineNumber,v.getLineLastNonWhitespaceColumn(F.endLineNumber));B.containsRange(F)&&!B.equalsRange(F)&&D.containsRange(B)&&!D.equalsRange(B)&&O.push(B);const A=new S.Range(F.startLineNumber,1,F.endLineNumber,v.getLineMaxColumn(F.endLineNumber));A.containsRange(F)&&!A.equalsRange(B)&&D.containsRange(A)&&!D.equalsRange(A)&&O.push(A)}O.push(D)}return O})})}e.provideSelectionRanges=h,M.registerModelCommand("_executeSelectionRangeProvider",function(v,...m){const[g]=m;return h(v,g,{selectLeadingAndTrailingWhitespace:!0},k.CancellationToken.None)})}),define(Q[253],J([0,1,500,47,13,182]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends M.EditorAction{constructor(){super({id:S.ID,label:C.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(d,f){const o=!y.TabFocus.getTabFocusMode();y.TabFocus.setTabFocusMode(o),o?k.alert(C.localize(1,null)):k.alert(C.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",M.registerEditorAction(S)}),define(Q[586],J([0,1,501,13,80]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:C.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,d){if(!!d.hasModel()){const f=d.getModel();f.resetTokenization();const p=new M.StopWatch(!0);f.forceTokenization(f.getLineCount()),p.stop(),console.log(`tokenization took ${p.elapsed()}`)}}}k.registerEditorAction(y)}),define(Q[587],J([0,1,502,2,13,28,180]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const _="ignoreUnusualLineTerminators";function d(o,c,a){o.setModelProperty(c.uri,_,a)}function f(o,c){return o.getModelProperty(c.uri,_)}let p=class extends k.Disposable{constructor(c,a,s){super();this._editor=c,this._dialogService=a,this._codeEditorService=s,this._config=this._editor.getOption(108),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(108)&&(this._config=this._editor.getOption(108),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(l=>{l.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return De(this,void 0,void 0,function*(){if(this._config!=="off"&&!!this._editor.hasModel()){const c=this._editor.getModel();if(!!c.mightContainUnusualLineTerminators()&&f(this._codeEditorService,c)!==!0&&!this._editor.getOption(75)){if(this._config==="auto"){c.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:C.localize(0,null),message:C.localize(1,null),detail:C.localize(2,null),primaryButton:C.localize(3,null),secondaryButton:C.localize(4,null)})).confirmed){d(this._codeEditorService,c,!0);return}c.removeUnusualLineTerminators(this._editor.getSelections())}}})}};p.ID="editor.contrib.unusualLineTerminatorsDetector",p=Me([pe(1,S.IDialogService),pe(2,y.ICodeEditorService)],p),M.registerEditorContribution(p.ID,p)}),define(Q[254],J([0,1,504,13,91,42,134,105,12,3,20,24,64,16,37,41]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class r extends k.EditorCommand{constructor(Y){super(Y);this._inSelectionMode=Y.inSelectionMode,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,P,x){if(!!P.hasModel()){const z=_.getMapForWordSeparators(P.getOption(110)),U=P.getModel(),q=P.getSelections().map(ie=>{const ce=new d.Position(ie.positionLineNumber,ie.positionColumn),ue=this._move(z,U,ce,this._wordNavigationType);return this._moveTo(ie,ue,this._inSelectionMode)});if(U.pushStackElement(),P._getViewModel().setCursorStates("moveWordCommand",0,q.map(ie=>y.CursorState.fromModelSelection(ie))),q.length===1){const ie=new d.Position(q[0].positionLineNumber,q[0].positionColumn);P.revealPosition(ie,0)}}}_moveTo(Y,P,x){return x?new p.Selection(Y.selectionStartLineNumber,Y.selectionStartColumn,P.lineNumber,P.column):new p.Selection(P.lineNumber,P.column,P.lineNumber,P.column)}}e.MoveWordCommand=r;class t extends r{_move(Y,P,x,z){return S.WordOperations.moveWordLeft(Y,P,x,z)}}e.WordLeftCommand=t;class n extends r{_move(Y,P,x,z){return S.WordOperations.moveWordRight(Y,P,x,z)}}e.WordRightCommand=n;class i extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=i;class u extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=u;class h extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=h;class v extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=v;class m extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=m;class g extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=g;class b extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,c.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|15},weight:100+1}})}_move(Y,P,x,z){return super._move(_.getMapForWordSeparators(s.EditorOptions.wordSeparators.defaultValue),P,x,z)}}e.CursorWordAccessibilityLeft=b;class w extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,c.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|1024|15},weight:100+1}})}_move(Y,P,x,z){return super._move(_.getMapForWordSeparators(s.EditorOptions.wordSeparators.defaultValue),P,x,z)}}e.CursorWordAccessibilityLeftSelect=w;class L extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=L;class E extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=E;class N extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=N;class I extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=I;class T extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=T;class O extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class R extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,c.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|17},weight:100+1}})}_move(Y,P,x,z){return super._move(_.getMapForWordSeparators(s.EditorOptions.wordSeparators.defaultValue),P,x,z)}}e.CursorWordAccessibilityRight=R;class F extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,c.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|1024|17},weight:100+1}})}_move(Y,P,x,z){return super._move(_.getMapForWordSeparators(s.EditorOptions.wordSeparators.defaultValue),P,x,z)}}e.CursorWordAccessibilityRightSelect=F;class D extends k.EditorCommand{constructor(Y){super(Y);this._whitespaceHeuristics=Y.whitespaceHeuristics,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,P,x){if(!!P.hasModel()){const z=_.getMapForWordSeparators(P.getOption(110)),U=P.getModel(),H=P.getSelections(),q=P.getOption(5),ie=P.getOption(7),ce=l.LanguageConfigurationRegistry.getAutoClosingPairs(U.getLanguageIdentifier().id),ue=H.map(Z=>{const ne=this._delete({wordSeparators:z,model:U,selection:Z,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingBrackets:q,autoClosingQuotes:ie,autoClosingPairs:ce},this._wordNavigationType);return new M.ReplaceCommand(ne,"")});P.pushUndoStop(),P.executeCommands(this.id,ue),P.pushUndoStop()}}}e.DeleteWordCommand=D;class B extends D{_delete(Y,P){let x=S.WordOperations.deleteWordLeft(Y,P);return x||new f.Range(1,1,1,1)}}e.DeleteWordLeftCommand=B;class A extends D{_delete(Y,P){let x=S.WordOperations.deleteWordRight(Y,P);if(x)return x;const z=Y.model.getLineCount(),U=Y.model.getLineMaxColumn(z);return new f.Range(z,U,z,U)}}e.DeleteWordRightCommand=A;class W extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartLeft=W;class V extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndLeft=V;class K extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class j extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartRight=j;class ee extends A{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndRight=ee;class re extends A{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=re;class te extends k.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:o.EditorContextKeys.writable,label:C.localize(0,null),alias:"Delete Word"})}run(Y,P,x){if(!!P.hasModel()){const z=_.getMapForWordSeparators(P.getOption(110)),U=P.getModel(),q=P.getSelections().map(ie=>{const ce=S.WordOperations.deleteInsideWord(z,U,ie);return new M.ReplaceCommand(ce,"")});P.pushUndoStop(),P.executeCommands(this.id,q),P.pushUndoStop()}}}e.DeleteInsideWord=te,k.registerEditorCommand(new i),k.registerEditorCommand(new u),k.registerEditorCommand(new h),k.registerEditorCommand(new v),k.registerEditorCommand(new m),k.registerEditorCommand(new g),k.registerEditorCommand(new L),k.registerEditorCommand(new E),k.registerEditorCommand(new N),k.registerEditorCommand(new I),k.registerEditorCommand(new T),k.registerEditorCommand(new O),k.registerEditorCommand(new b),k.registerEditorCommand(new w),k.registerEditorCommand(new R),k.registerEditorCommand(new F),k.registerEditorCommand(new W),k.registerEditorCommand(new V),k.registerEditorCommand(new K),k.registerEditorCommand(new j),k.registerEditorCommand(new ee),k.registerEditorCommand(new re),k.registerEditorAction(te)}),define(Q[588],J([0,1,13,134,3,24,254,26]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class d extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(t,n){let i=k.WordPartOperations.deleteWordPartLeft(t);return i||new M.Range(1,1,1,1)}}e.DeleteWordPartLeft=d;class f extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(t,n){let i=k.WordPartOperations.deleteWordPartRight(t);if(i)return i;const u=t.model.getLineCount(),h=t.model.getLineMaxColumn(u);return new M.Range(u,h,u,h)}}e.DeleteWordPartRight=f;class p extends S.MoveWordCommand{_move(t,n,i,u){return k.WordPartOperations.moveWordPartLeft(t,n,i)}}e.WordPartLeftCommand=p;class o extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=o,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class c extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=c,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends S.MoveWordCommand{_move(t,n,i,u){return k.WordPartOperations.moveWordPartRight(t,n,i)}}e.WordPartRightCommand=a;class s extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=s;class l extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=l,C.registerEditorCommand(new d),C.registerEditorCommand(new f),C.registerEditorCommand(new o),C.registerEditorCommand(new c),C.registerEditorCommand(new s),C.registerEditorCommand(new l)}),define(Q[589],J([0,1,34,7,2,13,347]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends M.Disposable{constructor(f){super();this.editor=f,this.widget=null,C.isIPad&&(this._register(f.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const f=!this.editor.getOption(75);!this.widget&&f?this.widget=new _(this.editor):this.widget&&!f&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class _ extends M.Disposable{constructor(f){super();this.editor=f,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(k.addDisposableListener(this._domNode,"touchstart",p=>{this.editor.focus()})),this._register(k.addDisposableListener(this._domNode,"focus",p=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}_.ID="editor.contrib.ShowKeyboardWidget",y.registerEditorContribution(S.ID,S)}),define(Q[590],J([0,1,13,113,63]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends C.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:M.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(_,d){const f=_.get(k.IStandaloneThemeService);this._originalThemeName?(f.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=f.getColorTheme().themeName,f.setTheme("hc-black"))}}C.registerEditorAction(y)}),define(Q[591],J([0,1,510,549,2,66,21,51,78,46,9,36,26,87,11,32,427]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let t=class lt extends k.PickerQuickAccessProvider{constructor(u,h,v,m,g,b){super(lt.PREFIX,u);this.options=u,this.instantiationService=h,this.keybindingService=v,this.commandService=m,this.telemetryService=g,this.notificationService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(n))}getPicks(u,h,v){return De(this,void 0,void 0,function*(){const m=yield this.getCommandPicks(h,v);if(v.isCancellationRequested)return[];const g=[];for(const E of m){const N=S.withNullAsUndefined(lt.WORD_FILTER(u,E.label)),I=E.commandAlias?S.withNullAsUndefined(lt.WORD_FILTER(u,E.commandAlias)):void 0;N||I?(E.highlights={label:N,detail:this.options.showAlias?I:void 0},g.push(E)):u===E.commandId&&g.push(E)}const b=new Map;for(const E of g){const N=b.get(E.label);N?(E.description=E.commandId,N.description=N.commandId):b.set(E.label,E)}g.sort((E,N)=>{const I=this.commandsHistory.peek(E.commandId),T=this.commandsHistory.peek(N.commandId);return I&&T?I>T?-1:1:I?-1:T?1:E.label.localeCompare(N.label)});const w=[];let L=!1;for(let E=0;E<g.length;E++){const N=g[E],I=this.keybindingService.lookupKeybinding(N.commandId),T=I?C.localize(0,null,N.label,I.getAriaLabel()):N.label;E===0&&this.commandsHistory.peek(N.commandId)&&(w.push({type:"separator",label:C.localize(1,null)}),L=!0),E!==0&&L&&!this.commandsHistory.peek(N.commandId)&&(w.push({type:"separator",label:C.localize(2,null)}),L=!1),w.push(Object.assign(Object.assign({},N),{ariaLabel:T,detail:this.options.showAlias&&N.commandAlias!==N.label?N.commandAlias:void 0,keybinding:I,accept:()=>De(this,void 0,void 0,function*(){this.commandsHistory.push(N.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:N.commandId,from:"quick open"});try{yield this.commandService.executeCommand(N.commandId)}catch(O){s.isPromiseCanceledError(O)||this.notificationService.error(C.localize(3,null,N.label,r.toErrorMessage(O)))}})}))}return w})}};t.PREFIX=">",t.WORD_FILTER=y.or(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),t=Me([pe(1,p.IInstantiationService),pe(2,o.IKeybindingService),pe(3,c.ICommandService),pe(4,a.ITelemetryService),pe(5,l.INotificationService)],t),e.AbstractCommandsQuickAccessProvider=t;let n=class $e extends M.Disposable{constructor(u,h){super();this.storageService=u,this.configurationService=h,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=$e.getConfiguredCommandHistoryLength(this.configurationService),$e.cache&&$e.cache.limit!==this.configuredCommandsHistoryLength&&($e.cache.limit=this.configuredCommandsHistoryLength,$e.saveState(this.storageService))}load(){const u=this.storageService.get($e.PREF_KEY_CACHE,0);let h;if(u)try{h=JSON.parse(u)}catch(m){}const v=$e.cache=new _.LRUCache(this.configuredCommandsHistoryLength,1);if(h){let m;h.usesLRU?m=h.entries:m=h.entries.sort((g,b)=>g.value-b.value),m.forEach(g=>v.set(g.key,g.value))}$e.counter=this.storageService.getNumber($e.PREF_KEY_COUNTER,0,$e.counter)}push(u){!$e.cache||($e.cache.set(u,$e.counter++),$e.saveState(this.storageService))}peek(u){var h;return(h=$e.cache)===null||h===void 0?void 0:h.peek(u)}static saveState(u){if(!!$e.cache){const h={usesLRU:!0,entries:[]};$e.cache.forEach((v,m)=>h.entries.push({key:m,value:v})),u.store($e.PREF_KEY_CACHE,JSON.stringify(h),0,0),u.store($e.PREF_KEY_COUNTER,$e.counter,0,0)}}static getConfiguredCommandHistoryLength(u){var h,v;const g=(v=(h=u.getValue().workbench)===null||h===void 0?void 0:h.commandPalette)===null||v===void 0?void 0:v.history;return typeof g=="number"?g:$e.DEFAULT_COMMANDS_HISTORY_LENGTH}};n.DEFAULT_COMMANDS_HISTORY_LENGTH=50,n.PREF_KEY_CACHE="commandPalette.mru.cache",n.PREF_KEY_COUNTER="commandPalette.mru.counter",n.counter=1,n=Me([pe(0,d.IStorageService),pe(1,f.IConfigurationService)],n),e.CommandsHistory=n}),define(Q[592],J([0,1,591,102]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class M extends C.AbstractCommandsQuickAccessProvider{constructor(S,_,d,f,p,o){super(S,_,d,f,p,o)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const _=[];for(const d of S.getSupportedActions())_.push({commandId:d.id,commandAlias:d.alias,label:k.stripIcons(d.label)||d.id});return _}}e.AbstractEditorCommandsQuickAccessProvider=M}),define(Q[593],J([0,1,33,95,63,28,592,21,9,36,26,87,32,13,24,77]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(i,u,h,v,m,g){super({showAlias:!1},i,h,v,m,g);this.codeEditorService=u}get activeTextEditorControl(){return _.withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return De(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Me([pe(0,d.IInstantiationService),pe(1,y.ICodeEditorService),pe(2,f.IKeybindingService),pe(3,p.ICommandService),pe(4,o.ITelemetryService),pe(5,c.INotificationService)],r),e.StandaloneCommandsQuickAccessProvider=r,C.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:M.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class t extends a.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:M.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(i){i.get(l.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=t,a.registerEditorAction(t)}),define(Q[22],J([0,1,33,29,4,512,181,15]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusBackground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class d{constructor(){this._onDidChangeSchema=new M.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(u,h,v,m=!1,g){let b={id:u,description:v,defaults:h,needsTransparency:m,deprecationMessage:g};this.colorsById[u]=b;let w={type:"string",description:v,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return g&&(w.deprecationMessage=g),this.colorSchema.properties[u]=w,this.colorReferenceSchema.enum.push(u),this.colorReferenceSchema.enumDescriptions.push(v),this._onDidChangeSchema.fire(),u}resolveDefaultColor(u,h){const v=this.colorsById[u];if(v&&v.defaults){const m=v.defaults[h.type];return r(m,h)}}getColorSchema(){return this.colorSchema}toString(){let u=(h,v)=>{let m=h.indexOf(".")===-1?0:1,g=v.indexOf(".")===-1?0:1;return m!==g?m-g:h.localeCompare(v)};return Object.keys(this.colorsById).sort(u).map(h=>`- \`${h}\`: ${this.colorsById[h].description}`).join(`
`)}}const f=new d;C.Registry.add(e.Extensions.ColorContribution,f);function p(i,u,h,v,m){return f.registerColor(i,u,h,v,m)}e.registerColor=p,e.foreground=p("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},y.localize(0,null)),e.errorForeground=p("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},y.localize(1,null)),e.iconForeground=p("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},y.localize(2,null)),e.focusBorder=p("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},y.localize(3,null)),e.contrastBorder=p("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},y.localize(4,null)),e.activeContrastBorder=p("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},y.localize(5,null)),e.textLinkForeground=p("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},y.localize(6,null)),e.textCodeBlockBackground=p("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:k.Color.black},y.localize(7,null)),e.widgetShadow=p("widget.shadow",{dark:a(k.Color.black,.36),light:a(k.Color.black,.16),hc:null},y.localize(8,null)),e.inputBackground=p("input.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},y.localize(9,null)),e.inputForeground=p("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},y.localize(10,null)),e.inputBorder=p("input.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(11,null)),e.inputActiveOptionBorder=p("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},y.localize(12,null)),e.inputActiveOptionBackground=p("inputOption.activeBackground",{dark:a(e.focusBorder,.4),light:a(e.focusBorder,.2),hc:k.Color.transparent},y.localize(13,null)),e.inputActiveOptionForeground=p("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hc:null},y.localize(14,null)),e.inputValidationInfoBackground=p("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:k.Color.black},y.localize(15,null)),e.inputValidationInfoForeground=p("inputValidation.infoForeground",{dark:null,light:null,hc:null},y.localize(16,null)),e.inputValidationInfoBorder=p("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},y.localize(17,null)),e.inputValidationWarningBackground=p("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:k.Color.black},y.localize(18,null)),e.inputValidationWarningForeground=p("inputValidation.warningForeground",{dark:null,light:null,hc:null},y.localize(19,null)),e.inputValidationWarningBorder=p("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},y.localize(20,null)),e.inputValidationErrorBackground=p("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:k.Color.black},y.localize(21,null)),e.inputValidationErrorForeground=p("inputValidation.errorForeground",{dark:null,light:null,hc:null},y.localize(22,null)),e.inputValidationErrorBorder=p("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},y.localize(23,null)),e.selectBackground=p("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hc:k.Color.black},y.localize(24,null)),e.selectForeground=p("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:k.Color.white},y.localize(25,null)),e.buttonForeground=p("button.foreground",{dark:k.Color.white,light:k.Color.white,hc:k.Color.white},y.localize(26,null)),e.buttonBackground=p("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},y.localize(27,null)),e.buttonHoverBackground=p("button.hoverBackground",{dark:c(e.buttonBackground,.2),light:o(e.buttonBackground,.2),hc:null},y.localize(28,null)),e.badgeBackground=p("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:k.Color.black},y.localize(29,null)),e.badgeForeground=p("badge.foreground",{dark:k.Color.white,light:"#333",hc:k.Color.white},y.localize(30,null)),e.scrollbarShadow=p("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},y.localize(31,null)),e.scrollbarSliderBackground=p("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hc:a(e.contrastBorder,.6)},y.localize(32,null)),e.scrollbarSliderHoverBackground=p("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hc:a(e.contrastBorder,.8)},y.localize(33,null)),e.scrollbarSliderActiveBackground=p("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},y.localize(34,null)),e.progressBarBackground=p("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hc:e.contrastBorder},y.localize(35,null)),e.editorErrorBackground=p("editorError.background",{dark:null,light:null,hc:null},y.localize(36,null),!0),e.editorErrorForeground=p("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},y.localize(37,null)),e.editorErrorBorder=p("editorError.border",{dark:null,light:null,hc:k.Color.fromHex("#E47777").transparent(.8)},y.localize(38,null)),e.editorWarningBackground=p("editorWarning.background",{dark:null,light:null,hc:null},y.localize(39,null),!0),e.editorWarningForeground=p("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},y.localize(40,null)),e.editorWarningBorder=p("editorWarning.border",{dark:null,light:null,hc:k.Color.fromHex("#FFCC00").transparent(.8)},y.localize(41,null)),e.editorInfoBackground=p("editorInfo.background",{dark:null,light:null,hc:null},y.localize(42,null),!0),e.editorInfoForeground=p("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},y.localize(43,null)),e.editorInfoBorder=p("editorInfo.border",{dark:null,light:null,hc:k.Color.fromHex("#75BEFF").transparent(.8)},y.localize(44,null)),e.editorHintForeground=p("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},y.localize(45,null)),e.editorHintBorder=p("editorHint.border",{dark:null,light:null,hc:k.Color.fromHex("#eeeeee").transparent(.8)},y.localize(46,null)),e.editorBackground=p("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:k.Color.black},y.localize(47,null)),e.editorForeground=p("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:k.Color.white},y.localize(48,null)),e.editorWidgetBackground=p("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},y.localize(49,null)),e.editorWidgetForeground=p("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},y.localize(50,null)),e.editorWidgetBorder=p("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},y.localize(51,null)),e.editorWidgetResizeBorder=p("editorWidget.resizeBorder",{light:null,dark:null,hc:null},y.localize(52,null)),e.quickInputBackground=p("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},y.localize(53,null)),e.quickInputForeground=p("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},y.localize(54,null)),e.quickInputTitleBackground=p("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hc:"#000000"},y.localize(55,null)),e.pickerGroupForeground=p("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:k.Color.white},y.localize(56,null)),e.pickerGroupBorder=p("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:k.Color.white},y.localize(57,null)),e.editorSelectionBackground=p("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},y.localize(58,null)),e.editorSelectionForeground=p("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},y.localize(59,null)),e.editorInactiveSelection=p("editor.inactiveSelectionBackground",{light:a(e.editorSelectionBackground,.5),dark:a(e.editorSelectionBackground,.5),hc:a(e.editorSelectionBackground,.5)},y.localize(60,null),!0),e.editorSelectionHighlight=p("editor.selectionHighlightBackground",{light:l(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:l(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},y.localize(61,null),!0),e.editorSelectionHighlightBorder=p("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(62,null)),e.editorFindMatch=p("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},y.localize(63,null)),e.editorFindMatchHighlight=p("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},y.localize(64,null),!0),e.editorFindRangeHighlight=p("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},y.localize(65,null),!0),e.editorFindMatchBorder=p("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(66,null)),e.editorFindMatchHighlightBorder=p("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},y.localize(67,null)),e.editorFindRangeHighlightBorder=p("editor.findRangeHighlightBorder",{dark:null,light:null,hc:a(e.activeContrastBorder,.4)},y.localize(68,null),!0),e.editorHoverHighlight=p("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},y.localize(69,null),!0),e.editorHoverBackground=p("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},y.localize(70,null)),e.editorHoverForeground=p("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},y.localize(71,null)),e.editorHoverBorder=p("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},y.localize(72,null)),e.editorHoverStatusBarBackground=p("editorHoverWidget.statusBarBackground",{dark:c(e.editorHoverBackground,.2),light:o(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},y.localize(73,null)),e.editorActiveLinkForeground=p("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hc:k.Color.cyan},y.localize(74,null)),e.editorLightBulbForeground=p("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},y.localize(75,null)),e.editorLightBulbAutoFixForeground=p("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},y.localize(76,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=p("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},y.localize(77,null),!0),e.diffRemoved=p("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},y.localize(78,null),!0),e.diffInsertedOutline=p("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},y.localize(79,null)),e.diffRemovedOutline=p("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},y.localize(80,null)),e.diffBorder=p("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(81,null)),e.diffDiagonalFill=p("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},y.localize(82,null)),e.listFocusBackground=p("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},y.localize(83,null)),e.listFocusForeground=p("list.focusForeground",{dark:null,light:null,hc:null},y.localize(84,null)),e.listActiveSelectionBackground=p("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},y.localize(85,null)),e.listActiveSelectionForeground=p("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hc:null},y.localize(86,null)),e.listInactiveSelectionBackground=p("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},y.localize(87,null)),e.listInactiveSelectionForeground=p("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},y.localize(88,null)),e.listInactiveFocusBackground=p("list.inactiveFocusBackground",{dark:null,light:null,hc:null},y.localize(89,null)),e.listHoverBackground=p("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},y.localize(90,null)),e.listHoverForeground=p("list.hoverForeground",{dark:null,light:null,hc:null},y.localize(91,null)),e.listDropBackground=p("list.dropBackground",{dark:e.listFocusBackground,light:e.listFocusBackground,hc:null},y.localize(92,null)),e.listHighlightForeground=p("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:e.focusBorder},y.localize(93,null)),e.listFilterWidgetBackground=p("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:k.Color.black},y.localize(94,null)),e.listFilterWidgetOutline=p("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hc:"#f38518"},y.localize(95,null)),e.listFilterWidgetNoMatchesOutline=p("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},y.localize(96,null)),e.treeIndentGuidesStroke=p("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},y.localize(97,null)),e.menuBorder=p("menu.border",{dark:null,light:null,hc:e.contrastBorder},y.localize(98,null)),e.menuForeground=p("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},y.localize(99,null)),e.menuBackground=p("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},y.localize(100,null)),e.menuSelectionForeground=p("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},y.localize(101,null)),e.menuSelectionBackground=p("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},y.localize(102,null)),e.menuSelectionBorder=p("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},y.localize(103,null)),e.menuSeparatorBackground=p("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},y.localize(104,null)),e.snippetTabstopHighlightBackground=p("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hc:new k.Color(new k.RGBA(124,124,124,.3))},y.localize(105,null)),e.snippetTabstopHighlightBorder=p("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},y.localize(106,null)),e.snippetFinalTabstopHighlightBackground=p("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},y.localize(107,null)),e.snippetFinalTabstopHighlightBorder=p("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hc:"#525252"},y.localize(108,null)),e.overviewRulerFindMatchForeground=p("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},y.localize(109,null),!0),e.overviewRulerSelectionHighlightForeground=p("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},y.localize(110,null),!0),e.minimapFindMatch=p("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},y.localize(111,null),!0),e.minimapSelection=p("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},y.localize(112,null),!0),e.minimapError=p("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},y.localize(113,null)),e.minimapWarning=p("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},y.localize(114,null)),e.minimapBackground=p("minimap.background",{dark:null,light:null,hc:null},y.localize(115,null)),e.minimapSliderBackground=p("minimapSlider.background",{light:a(e.scrollbarSliderBackground,.5),dark:a(e.scrollbarSliderBackground,.5),hc:a(e.scrollbarSliderBackground,.5)},y.localize(116,null)),e.minimapSliderHoverBackground=p("minimapSlider.hoverBackground",{light:a(e.scrollbarSliderHoverBackground,.5),dark:a(e.scrollbarSliderHoverBackground,.5),hc:a(e.scrollbarSliderHoverBackground,.5)},y.localize(117,null)),e.minimapSliderActiveBackground=p("minimapSlider.activeBackground",{light:a(e.scrollbarSliderActiveBackground,.5),dark:a(e.scrollbarSliderActiveBackground,.5),hc:a(e.scrollbarSliderActiveBackground,.5)},y.localize(118,null)),e.problemsErrorIconForeground=p("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},y.localize(119,null)),e.problemsWarningIconForeground=p("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},y.localize(120,null)),e.problemsInfoIconForeground=p("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},y.localize(121,null));function o(i,u){return h=>{let v=r(i,h);if(v)return v.darken(u)}}e.darken=o;function c(i,u){return h=>{let v=r(i,h);if(v)return v.lighten(u)}}e.lighten=c;function a(i,u){return h=>{let v=r(i,h);if(v)return v.transparent(u)}}e.transparent=a;function s(...i){return u=>{for(let h of i){let v=r(h,u);if(v)return v}}}e.oneOf=s;function l(i,u,h,v){return m=>{let g=r(i,m);if(g){let b=r(u,m);return b?g.isDarkerThan(b)?k.Color.getLighterColor(g,b,h).transparent(v):k.Color.getDarkerColor(g,b,h).transparent(v):g.transparent(h*v)}}}function r(i,u){if(i!==null){if(typeof i=="string")return i[0]==="#"?k.Color.fromHex(i):u.getColor(i);if(i instanceof k.Color)return i;if(typeof i=="function")return i(u)}}e.resolveColorValue=r,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let t=C.Registry.as(S.Extensions.JSONContribution);t.registerSchema(e.workbenchColorsSchemaId,f.getColorSchema());const n=new _.RunOnceScheduler(()=>t.notifySchemaChanged(e.workbenchColorsSchemaId),200);f.onDidChangeSchema(()=>{n.isScheduled()||n.schedule()})}),define(Q[115],J([0,1,22]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function k(d,f){const p=Object.create(null);for(let o in f){const c=f[o];c&&(p[o]=C.resolveColorValue(c,d))}return p}e.computeStyles=k;function M(d,f,p){function o(c){const a=k(d.getColorTheme(),f);typeof p=="function"?p(a):p.style(a)}return o(d.getColorTheme()),d.onDidColorThemeChange(o)}e.attachStyler=M;function y(d,f,p){return M(f,{badgeBackground:p&&p.badgeBackground||C.badgeBackground,badgeForeground:p&&p.badgeForeground||C.badgeForeground,badgeBorder:C.contrastBorder},d)}e.attachBadgeStyler=y;function S(d,f,p){return M(f,Object.assign(Object.assign({},e.defaultListStyles),p||{}),d)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:C.listFocusBackground,listFocusForeground:C.listFocusForeground,listActiveSelectionBackground:C.darken(C.listActiveSelectionBackground,.1),listActiveSelectionForeground:C.listActiveSelectionForeground,listFocusAndSelectionBackground:C.listActiveSelectionBackground,listFocusAndSelectionForeground:C.listActiveSelectionForeground,listInactiveSelectionBackground:C.listInactiveSelectionBackground,listInactiveSelectionForeground:C.listInactiveSelectionForeground,listInactiveFocusBackground:C.listInactiveFocusBackground,listHoverBackground:C.listHoverBackground,listHoverForeground:C.listHoverForeground,listDropBackground:C.listDropBackground,listFocusOutline:C.activeContrastBorder,listSelectionOutline:C.activeContrastBorder,listHoverOutline:C.activeContrastBorder,listFilterWidgetBackground:C.listFilterWidgetBackground,listFilterWidgetOutline:C.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:C.listFilterWidgetNoMatchesOutline,listMatchesShadow:C.widgetShadow,treeIndentGuidesStroke:C.treeIndentGuidesStroke},e.defaultMenuStyles={shadowColor:C.widgetShadow,borderColor:C.menuBorder,foregroundColor:C.menuForeground,backgroundColor:C.menuBackground,selectionForegroundColor:C.menuSelectionForeground,selectionBackgroundColor:C.menuSelectionBackground,selectionBorderColor:C.menuSelectionBorder,separatorColor:C.menuSeparatorBackground};function _(d,f,p){return M(f,Object.assign(Object.assign({},e.defaultMenuStyles),p),d)}e.attachMenuStyler=_}),define(Q[594],J([0,1,48,2,424,7,115,55,50,351]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class f{constructor(o,c,a,s,l){this.contextViewService=o,this.telemetryService=c,this.notificationService=a,this.keybindingService=s,this.themeService=l,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(o){this.options=o}showContextMenu(o){const c=o.getActions();if(!!c.length){this.focusToReturn=document.activeElement;let a,s=y.isHTMLElement(o.domForShadowRoot)?o.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>o.getAnchor(),canRelayout:!1,anchorAlignment:o.anchorAlignment,anchorAxisAlignment:o.anchorAxisAlignment,render:l=>{let r=o.getMenuClassName?o.getMenuClassName():"";r&&(l.className+=" "+r),this.options.blockMouse&&(this.block=l.appendChild(y.$(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",_.domEvent(this.block,y.EventType.MOUSE_DOWN)(i=>i.stopPropagation()));const t=new k.DisposableStore,n=o.actionRunner||new C.ActionRunner;return n.onBeforeRun(this.onActionRun,this,t),n.onDidRun(this.onDidActionRun,this,t),a=new M.Menu(l,c,{actionViewItemProvider:o.getActionViewItem,context:o.getActionsContext?o.getActionsContext():null,actionRunner:n,getKeyBinding:o.getKeyBinding?o.getKeyBinding:i=>this.keybindingService.lookupKeybinding(i.id)}),t.add(S.attachMenuStyler(a,this.themeService)),a.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,t),a.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,t),_.domEvent(window,y.EventType.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,t),_.domEvent(window,y.EventType.MOUSE_DOWN)(i=>{if(!i.defaultPrevented){let u=new d.StandardMouseEvent(i),h=u.target;if(!u.rightButton){for(;h;){if(h===l)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}}},null,t),k.combinedDisposable(t,a)},focus:()=>{a&&a.focus(!!o.autoSelectFirstItem)},onHide:l=>{o.onHide&&o.onHide(!!l),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},s,!!s)}}onActionRun(o){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:o.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(o){o.error&&this.notificationService&&this.notificationService.error(o.error)}}e.ContextMenuHandler=f}),define(Q[96],J([0,1]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var C;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST="hc"})(C=e.ColorScheme||(e.ColorScheme={}))}),define(Q[255],J([0,1,34,30,17,374,109,167,128,96,37]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const o=function(){return M.isNative?!0:!(M.isLinux||C.isFirefox||C.isSafari)}();let c=!0;const a=C.isEdge;class s{constructor(g,b){this._domNode=g,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=b}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=s;class l{constructor(g,b){this.themeType=b;const w=g.options,L=w.get(38);this.renderWhitespace=w.get(83),this.renderControlCharacters=w.get(77),this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.useMonospaceOptimizations=L.isMonospace&&!w.get(26),this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.lineHeight=w.get(53),this.stopRenderingLineAfter=w.get(100),this.fontLigatures=w.get(39)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=l;class r{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=k.createFastDomNode(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return a||this._options.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,b,w,L){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const E=w.getViewLineRenderingData(g),N=this._options,I=_.LineDecoration.filter(E.inlineDecorations,g,E.minColumn,E.maxColumn);let T=null;if(a||N.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const D=w.selections;for(const B of D)if(!(B.endLineNumber<g||B.startLineNumber>g)){const A=B.startLineNumber===g?B.startColumn:E.minColumn,W=B.endLineNumber===g?B.endColumn:E.maxColumn;A<W&&(N.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?I.push(new _.LineDecoration(A,W,"inline-selected-text",0)):(T||(T=[]),T.push(new d.LineRange(A-1,W-1))))}}const O=new d.RenderLineInput(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,E.content,E.continuesWithWrappedLine,E.isBasicASCII,E.containsRTL,E.minColumn-1,E.tokens,I,E.tabSize,E.startVisibleColumn,N.spaceWidth,N.middotWidth,N.wsmiddotWidth,N.stopRenderingLineAfter,N.renderWhitespace,N.renderControlCharacters,N.fontLigatures!==p.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(O))return!1;L.appendASCIIString('<div style="top:'),L.appendASCIIString(String(b)),L.appendASCIIString("px;height:"),L.appendASCIIString(String(this._options.lineHeight)),L.appendASCIIString('px;" class="'),L.appendASCIIString(r.CLASS_NAME),L.appendASCIIString('">');const R=d.renderViewLine(O,L);L.appendASCIIString("</div>");let F=null;return c&&o&&E.isBasicASCII&&N.useMonospaceOptimizations&&R.containsForeignElements===0&&E.content.length<300&&O.lineTokens.getCount()<100&&(F=new t(this._renderedViewLine?this._renderedViewLine.domNode:null,O,R.characterMapping)),F||(F=u(this._renderedViewLine?this._renderedViewLine.domNode:null,O,R.characterMapping,R.containsRTL,R.containsForeignElements)),this._renderedViewLine=F,!0}layoutLine(g,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof t:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof t?this._renderedViewLine.monospaceAssumptionsAreValid():c}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof t&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,b,w){if(!this._renderedViewLine)return null;g=g|0,b=b|0,g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));const L=this._renderedViewLine.input.stopRenderingLineAfter|0;let E=!1;L!==-1&&g>L+1&&b>L+1&&(E=!0),L!==-1&&g>L+1&&(g=L+1),L!==-1&&b>L+1&&(b=L+1);const N=this._renderedViewLine.getVisibleRangesForRange(g,b,w);return N&&N.length>0?new S.VisibleRanges(E,N):null}getColumnOfNodeOffset(g,b,w){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,b,w):1}}e.ViewLine=r,r.CLASS_NAME="view-line";class t{constructor(g,b,w){this.domNode=g,this.input=b,this._characterMapping=w,this._charWidth=b.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return c;const g=this.getWidth(),b=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(g-b)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),c=!1),c}toSlowRenderedLine(){return u(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,b,w){const L=this._getCharPosition(g),E=this._getCharPosition(b);return[new S.HorizontalRange(L,E-L)]}_getCharPosition(g){const b=this._characterMapping.getAbsoluteOffsets();return b.length===0?0:Math.round(this._charWidth*b[g-1])}getColumnOfNodeOffset(g,b,w){const L=b.textContent.length;let E=-1;for(;b;)b=b.previousSibling,E++;return this._characterMapping.partDataToCharOffset(E,L,w)+1}}class n{constructor(g,b,w,L,E){if(this.domNode=g,this.input=b,this._characterMapping=w,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=E,this._cachedWidth=-1,this._pixelOffsetCache=null,!L||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let N=0,I=this._characterMapping.length;N<=I;N++)this._pixelOffsetCache[N]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,b,w){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const L=this._readPixelOffset(this.domNode,g,w);if(L===-1)return null;const E=this._readPixelOffset(this.domNode,b,w);return E===-1?null:[new S.HorizontalRange(L,E-L)]}return this._readVisibleRangesForRange(this.domNode,g,b,w)}_readVisibleRangesForRange(g,b,w,L){if(b===w){const E=this._readPixelOffset(g,b,L);return E===-1?null:[new S.HorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(g,b,w,L)}_readPixelOffset(g,b,w){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const L=this._getReadingTarget(g);return L.firstChild?L.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const L=this._pixelOffsetCache[b];if(L!==-1)return L;const E=this._actualReadPixelOffset(g,b,w);return this._pixelOffsetCache[b]=E,E}return this._actualReadPixelOffset(g,b,w)}_actualReadPixelOffset(g,b,w){if(this._characterMapping.length===0){const O=y.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,w.clientRectDeltaLeft,w.endNode);return!O||O.length===0?-1:O[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const L=this._characterMapping.charOffsetToPartData(b-1),E=d.CharacterMapping.getPartIndex(L),N=d.CharacterMapping.getCharIndex(L),I=y.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),E,N,E,N,w.clientRectDeltaLeft,w.endNode);if(!I||I.length===0)return-1;const T=I[0].left;if(this.input.isBasicASCII){const O=this._characterMapping.getAbsoluteOffsets(),R=Math.round(this.input.spaceWidth*O[b-1]);if(Math.abs(R-T)<=1)return R}return T}_readRawVisibleRangesForRange(g,b,w,L){if(b===1&&w===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const E=this._characterMapping.charOffsetToPartData(b-1),N=d.CharacterMapping.getPartIndex(E),I=d.CharacterMapping.getCharIndex(E),T=this._characterMapping.charOffsetToPartData(w-1),O=d.CharacterMapping.getPartIndex(T),R=d.CharacterMapping.getCharIndex(T);return y.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),N,I,O,R,L.clientRectDeltaLeft,L.endNode)}getColumnOfNodeOffset(g,b,w){const L=b.textContent.length;let E=-1;for(;b;)b=b.previousSibling,E++;return this._characterMapping.partDataToCharOffset(E,L,w)+1}}class i extends n{_readVisibleRangesForRange(g,b,w,L){const E=super._readVisibleRangesForRange(g,b,w,L);if(!E||E.length===0||b===w||b===1&&w===this._characterMapping.length)return E;if(!this.input.containsRTL){const N=this._readPixelOffset(g,w,L);if(N!==-1){const I=E[E.length-1];I.left<N&&(I.width=N-I.left)}}return E}}const u=function(){return C.isWebKit?h:v}();function h(m,g,b,w,L){return new i(m,g,b,w,L)}function v(m,g,b,w,L){return new n(m,g,b,w,L)}}),define(Q[184],J([0,1,34,159,44,255,12,3,42,7,238]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class o{constructor(m,g){this.lastViewCursorsRenderData=m,this.lastTextareaPosition=g}}e.PointerHandlerLastRenderData=o;class c{constructor(m,g,b=0,w=null,L=null,E=null){this.element=m,this.type=g,this.mouseColumn=b,this.position=w,!L&&w&&(L=new _.Range(w.lineNumber,w.column,w.lineNumber,w.column)),this.range=L,this.detail=E}static _typeToString(m){return m===1?"TEXTAREA":m===2?"GUTTER_GLYPH_MARGIN":m===3?"GUTTER_LINE_NUMBERS":m===4?"GUTTER_LINE_DECORATIONS":m===5?"GUTTER_VIEW_ZONE":m===6?"CONTENT_TEXT":m===7?"CONTENT_EMPTY":m===8?"CONTENT_VIEW_ZONE":m===9?"CONTENT_WIDGET":m===10?"OVERVIEW_RULER":m===11?"SCROLLBAR":m===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(m){return this._typeToString(m.type)+": "+m.position+" - "+m.range+" - "+m.detail}toString(){return c.toString(this)}}e.MouseTarget=c;class a{static isTextArea(m){return m.length===2&&m[0]===3&&m[1]===6}static isChildOfViewLines(m){return m.length>=4&&m[0]===3&&m[3]===7}static isStrictChildOfViewLines(m){return m.length>4&&m[0]===3&&m[3]===7}static isChildOfScrollableElement(m){return m.length>=2&&m[0]===3&&m[1]===5}static isChildOfMinimap(m){return m.length>=2&&m[0]===3&&m[1]===8}static isChildOfContentWidgets(m){return m.length>=4&&m[0]===3&&m[3]===1}static isChildOfOverflowingContentWidgets(m){return m.length>=1&&m[0]===2}static isChildOfOverlayWidgets(m){return m.length>=2&&m[0]===3&&m[1]===4}}class s{constructor(m,g,b){this.model=m.model;const w=m.configuration.options;this.layoutInfo=w.get(123),this.viewDomNode=g.viewDomNode,this.lineHeight=w.get(53),this.stickyTabStops=w.get(99),this.typicalHalfwidthCharacterWidth=w.get(38).typicalHalfwidthCharacterWidth,this.lastRenderData=b,this._context=m,this._viewHelper=g}getZoneAtCoord(m){return s.getZoneAtCoord(this._context,m)}static getZoneAtCoord(m,g){const b=m.viewLayout.getWhitespaceAtVerticalOffset(g);if(b){const w=b.verticalOffset+b.height/2,L=m.model.getLineCount();let E=null,N,I=null;return b.afterLineNumber!==L&&(I=new S.Position(b.afterLineNumber+1,1)),b.afterLineNumber>0&&(E=new S.Position(b.afterLineNumber,m.model.getLineMaxColumn(b.afterLineNumber))),I===null?N=E:E===null?N=I:g<w?N=E:N=I,{viewZoneId:b.id,afterLineNumber:b.afterLineNumber,positionBefore:E,positionAfter:I,position:N}}return null}getFullLineRangeAtCoord(m){if(this._context.viewLayout.isAfterLines(m)){const w=this._context.model.getLineCount(),L=this._context.model.getLineMaxColumn(w);return{range:new _.Range(w,L,w,L),isAfterLines:!0}}const g=this._context.viewLayout.getLineNumberAtVerticalOffset(m),b=this._context.model.getLineMaxColumn(g);return{range:new _.Range(g,1,g,b),isAfterLines:!1}}getLineNumberAtVerticalOffset(m){return this._context.viewLayout.getLineNumberAtVerticalOffset(m)}isAfterLines(m){return this._context.viewLayout.isAfterLines(m)}isInTopPadding(m){return this._context.viewLayout.isInTopPadding(m)}isInBottomPadding(m){return this._context.viewLayout.isInBottomPadding(m)}getVerticalOffsetForLineNumber(m){return this._context.viewLayout.getVerticalOffsetForLineNumber(m)}findAttribute(m,g){return s._findAttribute(m,g,this._viewHelper.viewDomNode)}static _findAttribute(m,g,b){for(;m&&m!==document.body;){if(m.hasAttribute&&m.hasAttribute(g))return m.getAttribute(g);if(m===b)return null;m=m.parentNode}return null}getLineWidth(m){return this._viewHelper.getLineWidth(m)}visibleRangeForPosition(m,g){return this._viewHelper.visibleRangeForPosition(m,g)}getPositionFromDOMInfo(m,g){return this._viewHelper.getPositionFromDOMInfo(m,g)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=s;class l{constructor(m,g,b){this.editorPos=g,this.pos=b,this.mouseVerticalOffset=Math.max(0,m.getCurrentScrollTop()+b.y-g.y),this.mouseContentHorizontalOffset=m.getCurrentScrollLeft()+b.x-g.x-m.layoutInfo.contentLeft,this.isInMarginArea=b.x-g.x<m.layoutInfo.contentLeft&&b.x-g.x>=m.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,i._getMouseColumn(this.mouseContentHorizontalOffset,m.typicalHalfwidthCharacterWidth))}}class r extends l{constructor(m,g,b,w){super(m,g,b);this._ctx=m,w?(this.target=w,this.targetPath=M.PartFingerprints.collect(w,m.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(m,g=null,b=null,w=null){let L=this.mouseColumn;return g&&g.column<this._ctx.model.getLineMaxColumn(g.lineNumber)&&(L=d.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(g.lineNumber),g.column,this._ctx.model.getTextModelOptions().tabSize)+1),new c(this.target,m,L,g,b,w)}withTarget(m){return new r(this._ctx,this.editorPos,this.pos,m)}}const t={isAfterLines:!0};function n(v){return{isAfterLines:!1,horizontalDistanceToText:v}}class i{constructor(m,g){this._context=m,this._viewHelper=g}mouseTargetIsWidget(m){const g=m.target,b=M.PartFingerprints.collect(g,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(b)||a.isChildOfOverflowingContentWidgets(b)||a.isChildOfOverlayWidgets(b))}createMouseTarget(m,g,b,w){const L=new s(this._context,this._viewHelper,m),E=new r(L,g,b,w);try{return i._createMouseTarget(L,E,!1)}catch(N){return E.fulfill(0)}}static _createMouseTarget(m,g,b){if(g.target===null){if(b)return g.fulfill(0);const E=i._doHitTest(m,g);return E.position?i.createMouseTargetFromHitTestPosition(m,g,E.position.lineNumber,E.position.column):this._createMouseTarget(m,g.withTarget(E.hitTarget),!0)}const w=g;let L=null;return L=L||i._hitTestContentWidget(m,w),L=L||i._hitTestOverlayWidget(m,w),L=L||i._hitTestMinimap(m,w),L=L||i._hitTestScrollbarSlider(m,w),L=L||i._hitTestViewZone(m,w),L=L||i._hitTestMargin(m,w),L=L||i._hitTestViewCursor(m,w),L=L||i._hitTestTextArea(m,w),L=L||i._hitTestViewLines(m,w,b),L=L||i._hitTestScrollbar(m,w),L||g.fulfill(0)}static _hitTestContentWidget(m,g){if(a.isChildOfContentWidgets(g.targetPath)||a.isChildOfOverflowingContentWidgets(g.targetPath)){const b=m.findAttribute(g.target,"widgetId");return b?g.fulfill(9,null,null,b):g.fulfill(0)}return null}static _hitTestOverlayWidget(m,g){if(a.isChildOfOverlayWidgets(g.targetPath)){const b=m.findAttribute(g.target,"widgetId");return b?g.fulfill(12,null,null,b):g.fulfill(0)}return null}static _hitTestViewCursor(m,g){if(g.target){const b=m.lastRenderData.lastViewCursorsRenderData;for(const w of b)if(g.target===w.domNode)return g.fulfill(6,w.position)}if(g.isInContentArea){const b=m.lastRenderData.lastViewCursorsRenderData,w=g.mouseContentHorizontalOffset,L=g.mouseVerticalOffset;for(const E of b)if(!(w<E.contentLeft)&&!(w>E.contentLeft+E.width)){const N=m.getVerticalOffsetForLineNumber(E.position.lineNumber);if(N<=L&&L<=N+E.height)return g.fulfill(6,E.position)}}return null}static _hitTestViewZone(m,g){const b=m.getZoneAtCoord(g.mouseVerticalOffset);if(b){const w=g.isInContentArea?8:5;return g.fulfill(w,b.position,null,b)}return null}static _hitTestTextArea(m,g){return a.isTextArea(g.targetPath)?m.lastRenderData.lastTextareaPosition?g.fulfill(6,m.lastRenderData.lastTextareaPosition):g.fulfill(1,m.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(m,g){if(g.isInMarginArea){const b=m.getFullLineRangeAtCoord(g.mouseVerticalOffset),w=b.range.getStartPosition();let L=Math.abs(g.pos.x-g.editorPos.x);const E={isAfterLines:b.isAfterLines,glyphMarginLeft:m.layoutInfo.glyphMarginLeft,glyphMarginWidth:m.layoutInfo.glyphMarginWidth,lineNumbersWidth:m.layoutInfo.lineNumbersWidth,offsetX:L};return L-=m.layoutInfo.glyphMarginLeft,L<=m.layoutInfo.glyphMarginWidth?g.fulfill(2,w,b.range,E):(L-=m.layoutInfo.glyphMarginWidth,L<=m.layoutInfo.lineNumbersWidth?g.fulfill(3,w,b.range,E):(L-=m.layoutInfo.lineNumbersWidth,g.fulfill(4,w,b.range,E)))}return null}static _hitTestViewLines(m,g,b){if(!a.isChildOfViewLines(g.targetPath))return null;if(m.isInTopPadding(g.mouseVerticalOffset))return g.fulfill(7,new S.Position(1,1),void 0,t);if(m.isAfterLines(g.mouseVerticalOffset)||m.isInBottomPadding(g.mouseVerticalOffset)){const L=m.model.getLineCount(),E=m.model.getLineMaxColumn(L);return g.fulfill(7,new S.Position(L,E),void 0,t)}if(b){if(a.isStrictChildOfViewLines(g.targetPath)){const L=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset);if(m.model.getLineLength(L)===0){const N=m.getLineWidth(L),I=n(g.mouseContentHorizontalOffset-N);return g.fulfill(7,new S.Position(L,1),void 0,I)}const E=m.getLineWidth(L);if(g.mouseContentHorizontalOffset>=E){const N=n(g.mouseContentHorizontalOffset-E),I=new S.Position(L,m.model.getLineMaxColumn(L));return g.fulfill(7,I,void 0,N)}}return g.fulfill(0)}const w=i._doHitTest(m,g);return w.position?i.createMouseTargetFromHitTestPosition(m,g,w.position.lineNumber,w.position.column):this._createMouseTarget(m,g.withTarget(w.hitTarget),!0)}static _hitTestMinimap(m,g){if(a.isChildOfMinimap(g.targetPath)){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),w=m.model.getLineMaxColumn(b);return g.fulfill(11,new S.Position(b,w))}return null}static _hitTestScrollbarSlider(m,g){if(a.isChildOfScrollableElement(g.targetPath)&&g.target&&g.target.nodeType===1){const b=g.target.className;if(b&&/\b(slider|scrollbar)\b/.test(b)){const w=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),L=m.model.getLineMaxColumn(w);return g.fulfill(11,new S.Position(w,L))}}return null}static _hitTestScrollbar(m,g){if(a.isChildOfScrollableElement(g.targetPath)){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),w=m.model.getLineMaxColumn(b);return g.fulfill(11,new S.Position(b,w))}return null}getMouseColumn(m,g){const b=this._context.configuration.options,w=b.get(123),L=this._context.viewLayout.getCurrentScrollLeft()+g.x-m.x-w.contentLeft;return i._getMouseColumn(L,b.get(38).typicalHalfwidthCharacterWidth)}static _getMouseColumn(m,g){return m<0?1:Math.round(m/g)+1}static createMouseTargetFromHitTestPosition(m,g,b,w){const L=new S.Position(b,w),E=m.getLineWidth(b);if(g.mouseContentHorizontalOffset>E){if(C.isEdge&&L.column===1){const F=n(g.mouseContentHorizontalOffset-E);return g.fulfill(7,new S.Position(b,m.model.getLineMaxColumn(b)),void 0,F)}const R=n(g.mouseContentHorizontalOffset-E);return g.fulfill(7,L,void 0,R)}const N=m.visibleRangeForPosition(b,w);if(!N)return g.fulfill(0,L);const I=N.left;if(g.mouseContentHorizontalOffset===I)return g.fulfill(6,L);const T=[];if(T.push({offset:N.left,column:w}),w>1){const R=m.visibleRangeForPosition(b,w-1);R&&T.push({offset:R.left,column:w-1})}const O=m.model.getLineMaxColumn(b);if(w<O){const R=m.visibleRangeForPosition(b,w+1);R&&T.push({offset:R.left,column:w+1})}T.sort((R,F)=>R.offset-F.offset);for(let R=1;R<T.length;R++){const F=T[R-1],D=T[R];if(F.offset<=g.mouseContentHorizontalOffset&&g.mouseContentHorizontalOffset<=D.offset){const B=new _.Range(b,F.column,b,D.column);return g.fulfill(6,L,B)}}return g.fulfill(6,L)}static _doHitTestWithCaretRangeFromPoint(m,g){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),L=m.getVerticalOffsetForLineNumber(b)+Math.floor(m.lineHeight/2);let E=g.pos.y+(L-g.mouseVerticalOffset);E<=g.editorPos.y&&(E=g.editorPos.y+1),E>=g.editorPos.y+m.layoutInfo.height&&(E=g.editorPos.y+m.layoutInfo.height-1);const N=new k.PageCoordinates(g.pos.x,E),I=this._actualDoHitTestWithCaretRangeFromPoint(m,N.toClientCoordinates());return I.position?I:this._actualDoHitTestWithCaretRangeFromPoint(m,g.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(m,g){const b=f.getShadowRoot(m.viewDomNode);let w;if(b?typeof b.caretRangeFromPoint=="undefined"?w=u(b,g.clientX,g.clientY):w=b.caretRangeFromPoint(g.clientX,g.clientY):w=document.caretRangeFromPoint(g.clientX,g.clientY),!w||!w.startContainer)return{position:null,hitTarget:null};const L=w.startContainer;let E=null;if(L.nodeType===L.TEXT_NODE){const N=L.parentNode,I=N?N.parentNode:null,T=I?I.parentNode:null;if((T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===y.ViewLine.CLASS_NAME)return{position:m.getPositionFromDOMInfo(N,w.startOffset),hitTarget:null};E=L.parentNode}else if(L.nodeType===L.ELEMENT_NODE){const N=L.parentNode,I=N?N.parentNode:null;if((I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===y.ViewLine.CLASS_NAME)return{position:m.getPositionFromDOMInfo(L,L.textContent.length),hitTarget:null};E=L}return{position:null,hitTarget:E}}static _doHitTestWithCaretPositionFromPoint(m,g){const b=document.caretPositionFromPoint(g.clientX,g.clientY);if(b.offsetNode.nodeType===b.offsetNode.TEXT_NODE){const w=b.offsetNode.parentNode,L=w?w.parentNode:null,E=L?L.parentNode:null;return(E&&E.nodeType===E.ELEMENT_NODE?E.className:null)===y.ViewLine.CLASS_NAME?{position:m.getPositionFromDOMInfo(b.offsetNode.parentNode,b.offset),hitTarget:null}:{position:null,hitTarget:b.offsetNode.parentNode}}if(b.offsetNode.nodeType===b.offsetNode.ELEMENT_NODE){const w=b.offsetNode.parentNode;if((w&&w.nodeType===w.ELEMENT_NODE?w.className:null)===y.ViewLine.CLASS_NAME){const E=b.offsetNode.childNodes[Math.min(b.offset,b.offsetNode.childNodes.length-1)];if(E)return{position:m.getPositionFromDOMInfo(E,0),hitTarget:null}}}return{position:null,hitTarget:b.offsetNode}}static _doHitTestWithMoveToPoint(m,g){let b=null,w=null;const L=document.body.createTextRange();try{L.moveToPoint(g.clientX,g.clientY)}catch(O){return{position:null,hitTarget:null}}L.collapse(!0);const E=L?L.parentElement():null,N=E?E.parentNode:null,I=N?N.parentNode:null;if((I&&I.nodeType===I.ELEMENT_NODE?I.className:"")===y.ViewLine.CLASS_NAME){const O=L.duplicate();O.moveToElementText(E),O.setEndPoint("EndToStart",L),b=m.getPositionFromDOMInfo(E,O.text.length),O.moveToElementText(m.viewDomNode)}else w=E;return L.moveToElementText(m.viewDomNode),{position:b,hitTarget:w}}static _snapToSoftTabBoundary(m,g){const b=g.getLineContent(m.lineNumber),{tabSize:w}=g.getTextModelOptions(),L=p.AtomicTabMoveOperations.atomicPosition(b,m.column-1,w,2);return L!==-1?new S.Position(m.lineNumber,L+1):m}static _doHitTest(m,g){let b;return typeof document.caretRangeFromPoint=="function"?b=this._doHitTestWithCaretRangeFromPoint(m,g):document.caretPositionFromPoint?b=this._doHitTestWithCaretPositionFromPoint(m,g.pos.toClientCoordinates()):document.body.createTextRange?b=this._doHitTestWithMoveToPoint(m,g.pos.toClientCoordinates()):b={position:null,hitTarget:null},b.position&&m.stickyTabStops&&(b.position=this._snapToSoftTabBoundary(b.position,m.model)),b}}e.MouseTargetFactory=i;function u(v,m,g){const b=document.createRange();let w=v.elementFromPoint(m,g);if(w!==null){for(;w&&w.firstChild&&w.firstChild.nodeType!==w.firstChild.TEXT_NODE&&w.lastChild&&w.lastChild.firstChild;)w=w.lastChild;const L=w.getBoundingClientRect(),E=window.getComputedStyle(w,null).getPropertyValue("font"),N=w.innerText;let I=L.left,T=0,O;if(m>L.left+L.width)T=N.length;else{const R=h.getInstance();for(let F=0;F<N.length+1;F++){if(O=R.getCharWidth(N.charAt(F),E)/2,I+=O,m<I){T=F;break}I+=O}}b.setStart(w.firstChild,T),b.setEnd(w.firstChild,T)}return b}e.shadowCaretRangeFromPoint=u;class h{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return h._INSTANCE||(h._INSTANCE=new h),h._INSTANCE}getCharWidth(m,g){const b=m+g;if(this._cache[b])return this._cache[b];const w=this._canvas.getContext("2d");w.font=g;const E=w.measureText(m).width;return this._cache[b]=E,E}}h._INSTANCE=null}),define(Q[595],J([0,1,7,50,15,2,17,184,159,125,12,20,110]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function a(t){return function(n,i){let u=!1;return t&&(u=t.mouseTargetIsWidget(i)),u||i.preventDefault(),i}}e.createMouseMoveEventMerger=a;class s extends c.ViewEventHandler{constructor(n,i,u){super();this._context=n,this.viewController=i,this.viewHelper=u,this.mouseTargetFactory=new _.MouseTargetFactory(this._context,u),this._mouseDownOperation=this._register(new l(this._context,this.viewController,this.viewHelper,(m,g)=>this._createMouseTarget(m,g),m=>this._getMouseColumn(m))),this.lastMouseLeaveTime=-1;const h=new d.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,m=>this._onContextMenu(m,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,m=>this._onMouseMove(m),a(this.mouseTargetFactory),s.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,m=>this._onMouseUp(m))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,m=>this._onMouseLeave(m))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,m=>this._onMouseDown(m)));const v=m=>{if(this.viewController.emitMouseWheel(m),!!this._context.configuration.options.get(62)){const g=new k.StandardWheelEvent(m);if(S.isMacintosh?m.metaKey&&!m.ctrlKey&&!m.shiftKey&&!m.altKey:m.ctrlKey&&!m.metaKey&&!m.shiftKey&&!m.altKey){const w=f.EditorZoom.getZoomLevel(),L=g.deltaY>0?1:-1;f.EditorZoom.setZoomLevel(w+L),g.preventDefault(),g.stopPropagation()}}};this._register(C.addDisposableListener(this.viewHelper.viewDomNode,C.EventType.MOUSE_WHEEL,v,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onCursorStateChanged(n){return this._mouseDownOperation.onCursorStateChanged(n),!1}onFocusChanged(n){return!1}onScrollChanged(n){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(n,i){const h=new d.ClientCoordinates(n,i).toPageCoordinates(),v=d.createEditorPagePosition(this.viewHelper.viewDomNode);return h.y<v.y||h.y>v.y+v.height||h.x<v.x||h.x>v.x+v.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),v,h,null)}_createMouseTarget(n,i){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n.editorPos,n.pos,i?n.target:null)}_getMouseColumn(n){return this.mouseTargetFactory.getMouseColumn(n.editorPos,n.pos)}_onContextMenu(n,i){this.viewController.emitContextMenu({event:n,target:this._createMouseTarget(n,i)})}_onMouseMove(n){this._mouseDownOperation.isActive()||n.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:n,target:this._createMouseTarget(n,!0)})}_onMouseLeave(n){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:n,target:null})}_onMouseUp(n){this.viewController.emitMouseUp({event:n,target:this._createMouseTarget(n,!0)})}_onMouseDown(n){const i=this._createMouseTarget(n,!0),u=i.type===6||i.type===7,h=i.type===2||i.type===3||i.type===4,v=i.type===3,m=this._context.configuration.options.get(93),g=i.type===8||i.type===5,b=i.type===9;let w=n.leftButton||n.middleButton;S.isMacintosh&&n.leftButton&&n.ctrlKey&&(w=!1);const L=()=>{n.preventDefault(),this.viewHelper.focusTextArea()};if(w&&(u||v&&m))L(),this._mouseDownOperation.start(i.type,n);else if(h)n.preventDefault();else if(g){const E=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(E.viewZoneId)&&(L(),this._mouseDownOperation.start(i.type,n),n.preventDefault())}else b&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(L(),n.preventDefault());this.viewController.emitMouseDown({event:n,target:i})}}e.MouseHandler=s,s.MOUSE_MOVE_MINIMUM_TIME=100;class l extends y.Disposable{constructor(n,i,u,h,v){super();this._context=n,this._viewController=i,this._viewHelper=u,this._createMouseTarget=h,this._getMouseColumn=v,this._mouseMoveMonitor=this._register(new d.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new M.TimeoutTimer),this._mouseState=new r,this._currentSelection=new o.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(n){this._lastMouseEvent=n,this._mouseState.setModifiers(n);const i=this._findMousePosition(n,!0);!i||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:n,target:i}):this._dispatchMouse(i,!0))}start(n,i){this._lastMouseEvent=i,this._mouseState.setStartedOnLineNumbers(n===3),this._mouseState.setStartButtons(i),this._mouseState.setModifiers(i);const u=this._findMousePosition(i,!0);if(!(!u||!u.position)){this._mouseState.trySetCount(i.detail,u.position),i.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(75)&&h.get(27)&&!h.get(15)&&!this._mouseState.altKey&&i.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&u.type===6&&u.position&&this._currentSelection.containsPosition(u.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(i.target,i.buttons,a(null),v=>this._onMouseDownThenMove(v),v=>{const m=this._findMousePosition(this._lastMouseEvent,!0);v&&v instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:m?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(u,i.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(i.target,i.buttons,a(null),v=>this._onMouseDownThenMove(v),()=>this._stop()))}}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!!this._lastMouseEvent){const n=this._findMousePosition(this._lastMouseEvent,!1);!n||this._mouseState.isDragAndDrop||this._dispatchMouse(n,!0)}},10)}onCursorStateChanged(n){this._currentSelection=n.selections[0]}_getPositionOutsideEditor(n){const i=n.editorPos,u=this._context.model,h=this._context.viewLayout,v=this._getMouseColumn(n);if(n.posy<i.y){const g=Math.max(h.getCurrentScrollTop()-(i.y-n.posy),0),b=_.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new _.MouseTarget(null,13,v,L)}const w=h.getLineNumberAtVerticalOffset(g);return new _.MouseTarget(null,13,v,new p.Position(w,1))}if(n.posy>i.y+i.height){const g=h.getCurrentScrollTop()+(n.posy-i.y),b=_.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new _.MouseTarget(null,13,v,L)}const w=h.getLineNumberAtVerticalOffset(g);return new _.MouseTarget(null,13,v,new p.Position(w,u.getLineMaxColumn(w)))}const m=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(n.posy-i.y));return n.posx<i.x?new _.MouseTarget(null,13,v,new p.Position(m,1)):n.posx>i.x+i.width?new _.MouseTarget(null,13,v,new p.Position(m,u.getLineMaxColumn(m))):null}_findMousePosition(n,i){const u=this._getPositionOutsideEditor(n);if(u)return u;const h=this._createMouseTarget(n,i);if(!h.position)return null;if(h.type===8||h.type===5){const m=this._helpPositionJumpOverViewZone(h.detail);if(m)return new _.MouseTarget(h.element,h.type,h.mouseColumn,m,null,h.detail)}return h}_helpPositionJumpOverViewZone(n){const i=new p.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),u=n.positionBefore,h=n.positionAfter;return u&&h?u.isBefore(i)?u:h:null}_dispatchMouse(n,i){!n.position||this._viewController.dispatchMouse({position:n.position,mouseColumn:n.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:i,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(n){this._altKey=n.altKey,this._ctrlKey=n.ctrlKey,this._metaKey=n.metaKey,this._shiftKey=n.shiftKey}setStartButtons(n){this._leftButton=n.leftButton,this._middleButton=n.middleButton}setStartedOnLineNumbers(n){this._startedOnLineNumbers=n}trySetCount(n,i){const u=new Date().getTime();u-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(n=1),this._lastSetMouseDownCountTime=u,n>this._lastMouseDownCount+1&&(n=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(i)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=i,this._lastMouseDownCount=Math.min(n,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(Q[596],J([0,1,7,17,59,2,595,159,118]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;function f(s,l){const r={translationY:l.translationY,translationX:l.translationX};return s&&(r.translationY+=s.translationY,r.translationX+=s.translationX),r}class p extends S.MouseHandler{constructor(l,r,t){super(l,r,t);this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(()=>{if(this._installGestureHandlerTimeout=-1,window.MSGesture){const n=new MSGesture,i=new MSGesture;n.target=this.viewHelper.linesContentDomNode,i.target=this.viewHelper.linesContentDomNode,this.viewHelper.linesContentDomNode.addEventListener("pointerdown",u=>{const h=u.pointerType;if(h==="mouse"){this._lastPointerType="mouse";return}else h==="touch"?(this._lastPointerType="touch",n.addPointer(u.pointerId)):(this._lastPointerType="pen",i.addPointer(u.pointerId))}),this._register(C.addDisposableThrottledListener(this.viewHelper.linesContentDomNode,"MSGestureChange",u=>this._onGestureChange(u),f)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,"MSGestureTap",u=>this._onCaptureGestureTap(u),!0))}},100),this._lastPointerType="mouse"}_onMouseDown(l){this._lastPointerType==="mouse"&&super._onMouseDown(l)}_onCaptureGestureTap(l){const r=new _.EditorMouseEvent(l,this.viewHelper.viewDomNode),t=this._createMouseTarget(r,!1);t.position&&this.viewController.moveTo(t.position),r.browserEvent.fromElement?(r.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(()=>{this.viewHelper.focusTextArea()})}_onGestureChange(l){this._context.model.deltaScrollNow(-l.translationX,-l.translationY)}dispose(){window.clearTimeout(this._installGestureHandlerTimeout),super.dispose()}}class o extends S.MouseHandler{constructor(l,r,t){super(l,r,t);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,i=>this.onTap(i))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,i=>this.onChange(i))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,i=>this._onContextMenu(new _.EditorMouseEvent(i,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",i=>{const u=i.pointerType;if(u==="mouse"){this._lastPointerType="mouse";return}else u==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new _.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,i=>this._onMouseMove(i),S.createMouseMoveEventMerger(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,i=>this._onMouseUp(i))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,i=>this._onMouseLeave(i))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,i=>this._onMouseDown(i)))}onTap(l){if(!(!l.initialTarget||!this.viewHelper.linesContentDomNode.contains(l.initialTarget))){l.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new _.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,mouseDownCount:l.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}}onChange(l){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-l.translationX,-l.translationY)}_onMouseDown(l){l.browserEvent.pointerType!=="touch"&&super._onMouseDown(l)}}e.PointerEventHandler=o;class c extends S.MouseHandler{constructor(l,r,t){super(l,r,t);this._register(M.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Tap,n=>this.onTap(n))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Change,n=>this.onChange(n))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,M.EventType.Contextmenu,n=>this._onContextMenu(new _.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(l){l.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new _.EditorMouseEvent(l,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.moveTo(r.position)}onChange(l){this._context.model.deltaScrollNow(-l.translationX,-l.translationY)}}class a extends y.Disposable{constructor(l,r,t){super();k.isIOS&&d.BrowserFeatures.pointerEvents?this.handler=this._register(new o(l,r,t)):window.TouchEvent?this.handler=this._register(new c(l,r,t)):window.navigator.pointerEnabled||window.PointerEvent?this.handler=this._register(new p(l,r,t)):this.handler=this._register(new S.MouseHandler(l,r,t))}getTargetAtClientPoint(l,r){return this.handler.getTargetAtClientPoint(l,r)}}e.PointerHandler=a}),define(Q[256],J([0,1,184]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return k.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,_){return new M(S.element,S.type,S.mouseColumn,S.position?_.convertViewPositionToModelPosition(S.position):null,S.range?_.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=k;class M{constructor(S,_,d,f,p,o){this.element=S,this.type=_,this.mouseColumn=d,this.position=f,this.range=p,this.detail=o}toString(){return C.MouseTarget.toString(this)}}}),define(Q[597],J([0,1,17,15,69,161,44,255,12,3,109,122,315]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class c{constructor(){this._currentVisibleRange=new f.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class a{constructor(t,n,i,u,h,v){this.lineNumber=t,this.startColumn=n,this.endColumn=i,this.startScrollTop=u,this.stopScrollTop=h,this.scrollType=v,this.type="range",this.minLineNumber=t,this.maxLineNumber=t}}class s{constructor(t,n,i,u){this.selections=t,this.startScrollTop=n,this.stopScrollTop=i,this.scrollType=u,this.type="selections";let h=t[0].startLineNumber,v=t[0].endLineNumber;for(let m=1,g=t.length;m<g;m++){const b=t[m];h=Math.min(h,b.startLineNumber),v=Math.max(v,b.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=v}}class l extends S.ViewPart{constructor(t,n){super(t);this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,u=this._context.configuration.options,h=u.get(38),v=u.get(124);this._lineHeight=u.get(53),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=v.isViewportWrapping,this._revealHorizontalRightPadding=u.get(84),this._cursorSurroundingLines=u.get(22),this._cursorSurroundingLinesStyle=u.get(23),this._canUseLayerHinting=!u.get(25),this._viewLineOptions=new _.ViewLineOptions(i,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${o.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),M.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new c,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _.ViewLine(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(124)&&(this._maxLineWidth=0);const n=this._context.configuration.options,i=n.get(38),u=n.get(124);return this._lineHeight=n.get(53),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=u.isViewportWrapping,this._revealHorizontalRightPadding=n.get(84),this._cursorSurroundingLines=n.get(22),this._cursorSurroundingLinesStyle=n.get(23),this._canUseLayerHinting=!n.get(25),M.Configuration.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),t.hasChanged(123)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const t=this._context.configuration,n=new _.ViewLineOptions(t,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const i=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=i;h<=u;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let u=!1;for(let h=n;h<=i;h++)u=this._visibleLines.getVisibleLine(h).onSelectionChanged()||u;return u}onDecorationsChanged(t){{const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let u=n;u<=i;u++)this._visibleLines.getVisibleLine(u).onDecorationsChanged()}return!0}onFlushed(t){const n=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,n}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.range,t.selections,t.verticalType);if(n===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:n});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new a(t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new s(t.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.model.setScrollPosition(i,h),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<n||t.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,n){const i=this._getViewLineDomNode(t);if(i===null)return null;const u=this._getLineNumberFor(i);if(u===-1||u<1||u>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(u)===1)return new d.Position(u,1);const h=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();if(u<h||u>v)return null;let m=this._visibleLines.getVisibleLine(u).getColumnOfNodeOffset(u,t,n);const g=this._context.model.getLineMinColumn(u);return m<g&&(m=g),new d.Position(u,m)}_getViewLineDomNode(t){for(;t&&t.nodeType===1;){if(t.className===_.ViewLine.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let u=n;u<=i;u++){const h=this._visibleLines.getVisibleLine(u);if(t===h.getDomNode())return u}return-1}getLineWidth(t){const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return t<n||t>i?-1:this._visibleLines.getVisibleLine(t).getWidth()}linesVisibleRangesForRange(t,n){if(this.shouldRender())return null;const i=t.endLineNumber,u=f.Range.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!u)return null;let h=[],v=0;const m=new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let g=0;n&&(g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new d.Position(u.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),w=this._visibleLines.getEndLineNumber();for(let L=u.startLineNumber;L<=u.endLineNumber;L++)if(!(L<b||L>w)){const E=L===u.startLineNumber?u.startColumn:1,N=L===u.endLineNumber?u.endColumn:this._context.model.getLineMaxColumn(L),I=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(E,N,m);if(!!I){if(n&&L<i){const T=g;g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new d.Position(L+1,1)).lineNumber,T!==g&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[v++]=new p.LineVisibleRanges(I.outsideRenderedLine,L,I.ranges)}}return v===0?null:h}_visibleRangesForLineRange(t,n,i){return this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(n,i,new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(t){const n=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return n?new p.HorizontalPosition(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(t){const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let u=1,h=!0;for(let v=n;v<=i;v++){const m=this._visibleLines.getVisibleLine(v);if(t&&!m.getWidthIsFast()){h=!1;continue}u=Math.max(u,m.getWidth())}return h&&n===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(u),h}_checkMonospaceFontAssumptions(){let t=-1,n=-1;const i=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=i;h<=u;h++){const v=this._visibleLines.getVisibleLine(h);if(v.needsMonospaceFontCheck()){const m=v.getWidth();m>n&&(n=m,t=h)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let h=i;h<=u;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(t.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const u=this._computeScrollLeftToReveal(i);u&&(this._isViewportWrapping||this._ensureMaxLineWidth(u.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:u.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),C.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber();for(let h=i;h<=u;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const n=Math.ceil(t);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,n,i,u,h){const v=t.top,m=t.height,g=v+m;let b,w,L;if(u&&u.length>0){let I=u[0].startLineNumber,T=u[0].endLineNumber;for(let O=1,R=u.length;O<R;O++){const F=u[O];I=Math.min(I,F.startLineNumber),T=Math.max(T,F.endLineNumber)}b=!1,w=this._context.viewLayout.getVerticalOffsetForLineNumber(I),L=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(i)b=!0,w=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const I=Math.min(m/this._lineHeight/2,this._cursorSurroundingLines);w-=I*this._lineHeight,L+=Math.max(0,I-1)*this._lineHeight}(h===0||h===4)&&(L+=this._lineHeight);let N;if(L-w>m){if(!b)return-1;N=w}else if(h===5||h===6)if(h===6&&v<=w&&L<=g)N=v;else{const I=Math.max(5*this._lineHeight,m*.2),T=w-I,O=L-m;N=Math.max(O,T)}else if(h===1||h===2)if(h===2&&v<=w&&L<=g)N=v;else{const I=(w+L)/2;N=Math.max(0,I-m/2)}else N=this._computeMinimumScrolling(v,g,w,L,h===3,h===4);return N}_computeScrollLeftToReveal(t){const n=this._context.viewLayout.getCurrentViewport(),i=n.left,u=i+n.width;let h=1073741824,v=0;if(t.type==="range"){const g=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!g)return null;for(const b of g.ranges)h=Math.min(h,b.left),v=Math.max(v,b.left+b.width)}else for(const g of t.selections){if(g.startLineNumber!==g.endLineNumber)return null;const b=this._visibleRangesForLineRange(g.startLineNumber,g.startColumn,g.endColumn);if(!b)return null;for(const w of b.ranges)h=Math.min(h,w.left),v=Math.max(v,w.left+w.width)}return h=Math.max(0,h-l.HORIZONTAL_EXTRA_PX),v+=this._revealHorizontalRightPadding,t.type==="selections"&&v-h>n.width?null:{scrollLeft:this._computeMinimumScrolling(i,u,h,v),maxHorizontalOffset:v}}_computeMinimumScrolling(t,n,i,u,h,v){t=t|0,n=n|0,i=i|0,u=u|0,h=!!h,v=!!v;const m=n-t;if(u-i<m){if(h)return i;if(v)return Math.max(0,u-m);if(i<t)return i;if(u>n)return Math.max(0,u-m)}else return i;return t}}e.ViewLines=l,l.HORIZONTAL_EXTRA_PX=30}),define(Q[14],J([0,1,9,2,33,4,96,27]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=C.createDecorator("themeService");var d;(function(r){function t(n){return n&&typeof n=="object"&&typeof n.id=="string"}r.isThemeColor=t})(d=e.ThemeColor||(e.ThemeColor={}));function f(r){return{id:r}}e.themeColorFromId=f;var p;(function(r){function t(v){return v&&typeof v=="object"&&typeof v.id=="string"&&(typeof v.color=="undefined"||d.isThemeColor(v.color))}r.isThemeIcon=t;const n=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;function i(v){const m=n.exec(v);if(!!m){let[,g,b]=m;return!g||g==="codicon/"?{id:b}:{id:g+b}}}r.fromString=i;function u(v,m){let g=v.id;const b=g.lastIndexOf("~");return b!==-1&&(g=g.substring(0,b)),m&&(g=`${g}~${m}`),{id:g}}r.modify=u;function h(v,m){var g,b;return v.id===m.id&&((g=v.color)===null||g===void 0?void 0:g.id)===((b=m.color)===null||b===void 0?void 0:b.id)}r.isEqual=h,r.asClassNameArray=_.CSSIcon.asClassNameArray,r.asClassName=_.CSSIcon.asClassName,r.asCSSSelector=_.CSSIcon.asCSSSelector})(p=e.ThemeIcon||(e.ThemeIcon={}));function o(r){switch(r){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=o,e.Extensions={ThemingContribution:"base.contributions.theming"};class c{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new y.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),k.toDisposable(()=>{const n=this.themingParticipants.indexOf(t);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}let a=new c;M.Registry.add(e.Extensions.ThemingContribution,a);function s(r){return a.onColorThemeChange(r)}e.registerThemingParticipant=s;class l extends k.Disposable{constructor(t){super();this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=l}),define(Q[598],J([0,1,7,2,8,23,353,106,53,14]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class p{constructor(i,u,h){this._parent=i,this._editorId=u,this._styleSheet=h,this._refCount=0}ref(){this._refCount++}unref(){var i;this._refCount--,this._refCount===0&&((i=this._styleSheet.parentNode)===null||i===void 0||i.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(i,u){this._styleSheet.sheet.insertRule(i,u)}removeRulesContainingSelector(i){C.removeCSSRulesContainingSelector(i,this._styleSheet)}}e.RefCountedStyleSheet=p;class o{constructor(i){this._styleSheet=i}ref(){}unref(){}insertRule(i,u){this._styleSheet.sheet.insertRule(i,u)}removeRulesContainingSelector(i){C.removeCSSRulesContainingSelector(i,this._styleSheet)}}e.GlobalStyleSheet=o;let c=class extends S.AbstractCodeEditorService{constructor(i,u=null){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=u||null,this._themeService=i}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new o(C.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(i){if(!i)return this._getOrCreateGlobalStyleSheet();const u=i.getContainerDomNode();if(!C.isInShadowDOM(u))return this._getOrCreateGlobalStyleSheet();const h=i.getId();if(!this._editorStyleSheets.has(h)){const v=new p(this,h,C.createStyleSheet(u));this._editorStyleSheets.set(h,v)}return this._editorStyleSheets.get(h)}_removeEditorStyleSheets(i){this._editorStyleSheets.delete(i)}registerDecorationType(i,u,h,v){let m=this._decorationOptionProviders.get(i);if(!m){const g=this._getOrCreateStyleSheet(v),b={styleSheet:g,key:i,parentTypeKey:h,options:u||Object.create(null)};h?m=new a(this._themeService,g,b):m=new s(this._themeService,g,b),this._decorationOptionProviders.set(i,m),this._onDecorationTypeRegistered.fire(i)}m.refCount++}removeDecorationType(i){const u=this._decorationOptionProviders.get(i);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(i),u.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(i))))}resolveDecorationOptions(i,u){const h=this._decorationOptionProviders.get(i);if(!h)throw new Error("Unknown decoration type key: "+i);return h.getOptions(this,u)}};c=Me([pe(0,f.IThemeService)],c),e.CodeEditorServiceImpl=c;class a{constructor(i,u,h){this._styleSheet=u,this._styleSheet.ref(),this._parentTypeKey=h.parentTypeKey,this.refCount=0,this._beforeContentRules=new r(3,h,i),this._afterContentRules=new r(4,h,i)}getOptions(i,u){const h=i.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(h.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(h.afterContentClassName=this._afterContentRules.className),h}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=a;class s{constructor(i,u,h){this._disposables=new k.DisposableStore,this._styleSheet=u,this._styleSheet.ref(),this.refCount=0;const v=E=>{const N=new r(E,h,i);if(this._disposables.add(N),N.hasContent)return N.className},m=E=>{const N=new r(E,h,i);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=v(0);const g=m(1);g&&(this.inlineClassName=g.className,this.inlineClassNameAffectsLetterSpacing=g.hasLetterSpacing),this.beforeContentClassName=v(3),this.afterContentClassName=v(4),this.glyphMarginClassName=v(2);const b=h.options;this.isWholeLine=Boolean(b.isWholeLine),this.stickiness=b.rangeBehavior;const w=b.light&&b.light.overviewRulerColor||b.overviewRulerColor,L=b.dark&&b.dark.overviewRulerColor||b.overviewRulerColor;(typeof w!="undefined"||typeof L!="undefined")&&(this.overviewRuler={color:w||L,darkColor:L||w,position:b.overviewRulerLane||d.OverviewRulerLane.Center})}getOptions(i,u){return u?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=s;const l={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"};class r{constructor(i,u,h){this._theme=h.getColorTheme(),this._ruleType=i,this._providerArgs=u,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let v=t.getClassName(this._providerArgs.key,i);this._providerArgs.parentTypeKey&&(v=v+" "+t.getClassName(this._providerArgs.parentTypeKey,i)),this._className=v,this._unThemedSelector=t.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,i),this._buildCSS(),this._usesThemeColors?this._themeListener=h.onDidColorThemeChange(m=>{this._theme=h.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const i=this._providerArgs.options;let u,h,v;switch(this._ruleType){case 0:u=this.getCSSTextForModelDecorationClassName(i),h=this.getCSSTextForModelDecorationClassName(i.light),v=this.getCSSTextForModelDecorationClassName(i.dark);break;case 1:u=this.getCSSTextForModelDecorationInlineClassName(i),h=this.getCSSTextForModelDecorationInlineClassName(i.light),v=this.getCSSTextForModelDecorationInlineClassName(i.dark);break;case 2:u=this.getCSSTextForModelDecorationGlyphMarginClassName(i),h=this.getCSSTextForModelDecorationGlyphMarginClassName(i.light),v=this.getCSSTextForModelDecorationGlyphMarginClassName(i.dark);break;case 3:u=this.getCSSTextForModelDecorationContentClassName(i.before),h=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.before),v=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.before);break;case 4:u=this.getCSSTextForModelDecorationContentClassName(i.after),h=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.after),v=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const m=this._providerArgs.styleSheet;let g=!1;u.length>0&&(m.insertRule(`${this._unThemedSelector} {${u}}`,0),g=!0),h.length>0&&(m.insertRule(`.vs${this._unThemedSelector} {${h}}`,0),g=!0),v.length>0&&(m.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${v}}`,0),g=!0),this._hasContent=g}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(i){if(!i)return"";const u=[];return this.collectCSSText(i,["backgroundColor"],u),this.collectCSSText(i,["outline","outlineColor","outlineStyle","outlineWidth"],u),this.collectBorderSettingsCSSText(i,u),u.join("")}getCSSTextForModelDecorationInlineClassName(i){if(!i)return"";const u=[];return this.collectCSSText(i,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],u),i.letterSpacing&&(this._hasLetterSpacing=!0),u.join("")}getCSSTextForModelDecorationContentClassName(i){if(!i)return"";const u=[];if(typeof i!="undefined"){if(this.collectBorderSettingsCSSText(i,u),typeof i.contentIconPath!="undefined"&&u.push(M.format(l.contentIconPath,C.asCSSUrl(y.URI.revive(i.contentIconPath)))),typeof i.contentText=="string"){const v=i.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");u.push(M.format(l.contentText,v))}this.collectCSSText(i,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],u),this.collectCSSText(i,["width","height"],u)&&u.push("display:inline-block;")}return u.join("")}getCSSTextForModelDecorationGlyphMarginClassName(i){if(!i)return"";const u=[];return typeof i.gutterIconPath!="undefined"&&(u.push(M.format(l.gutterIconPath,C.asCSSUrl(y.URI.revive(i.gutterIconPath)))),typeof i.gutterIconSize!="undefined"&&u.push(M.format(l.gutterIconSize,i.gutterIconSize))),u.join("")}collectBorderSettingsCSSText(i,u){return this.collectCSSText(i,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],u)?(u.push(M.format("box-sizing: border-box;")),!0):!1}collectCSSText(i,u,h){const v=h.length;for(let m of u){const g=this.resolveValue(i[m]);typeof g=="string"&&h.push(M.format(l[m],g))}return h.length!==v}resolveValue(i){if(_.isThemeColor(i)){this._usesThemeColors=!0;const u=this._theme.getColor(i.id);return u?u.toString():"transparent"}return i}}class t{static getClassName(i,u){return"ced-"+i+"-"+u}static getSelector(i,u,h){let v=".monaco-editor ."+this.getClassName(i,h);return u&&(v=v+"."+this.getClassName(u,h)),h===3?v+="::before":h===4&&(v+="::after"),v}}}),define(Q[599],J([0,1,7,30,60,44,14]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class _ extends y.ViewPart{constructor(f,p,o,c){super(f);const a=this._context.configuration.options,s=a.get(87),l=a.get(61),r=a.get(30),t=a.get(90),n={listenOnDomNode:o.domNode,className:"editor-scrollable "+S.getThemeTypeSelector(f.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:l,fastScrollSensitivity:r,scrollPredominantAxis:t,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new M.SmoothScrollableElement(p.domNode,n,this._context.viewLayout.getScrollable())),y.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=k.createFastDomNode(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const i=(u,h,v)=>{const m={};if(h){const g=u.scrollTop;g&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,u.scrollTop=0)}if(v){const g=u.scrollLeft;g&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,u.scrollLeft=0)}this._context.model.setScrollPosition(m,1)};this._register(C.addDisposableListener(o.domNode,"scroll",u=>i(o.domNode,!0,!0))),this._register(C.addDisposableListener(p.domNode,"scroll",u=>i(p.domNode,!0,!1))),this._register(C.addDisposableListener(c.domNode,"scroll",u=>i(c.domNode,!0,!1))),this._register(C.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",u=>i(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const f=this._context.configuration.options,p=f.get(123);this.scrollbarDomNode.setLeft(p.contentLeft),f.get(59).side==="right"?this.scrollbarDomNode.setWidth(p.contentWidth+p.minimap.minimapWidth):this.scrollbarDomNode.setWidth(p.contentWidth),this.scrollbarDomNode.setHeight(p.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(f){this.scrollbar.delegateVerticalScrollbarMouseDown(f)}onConfigurationChanged(f){if(f.hasChanged(87)||f.hasChanged(61)||f.hasChanged(30)){const p=this._context.configuration.options,o=p.get(87),c=p.get(61),a=p.get(30),s=p.get(90),l={handleMouseWheel:o.handleMouseWheel,mouseWheelScrollSensitivity:c,fastScrollSensitivity:a,scrollPredominantAxis:s};this.scrollbar.updateOptions(l)}return f.hasChanged(123)&&this._setLayout(),!0}onScrollChanged(f){return!0}onThemeChanged(f){return this.scrollbar.updateClassName("editor-scrollable "+S.getThemeTypeSelector(this._context.theme.type)),!0}prepareRender(f){}render(f){this.scrollbar.renderNow()}}e.EditorScrollbar=_}),define(Q[600],J([0,1,7,30,89,2,17,8,161,44,37,3,213,242,62,22,14,20,59,356,53,88,318]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const v=140,m=2;class g{constructor(R,F,D){const B=R.options,A=B.get(121),W=B.get(123),V=W.minimap,K=B.get(38),j=B.get(59);this.renderMinimap=V.renderMinimap,this.size=j.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(89),this.showSlider=j.showSlider,this.pixelRatio=A,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(53),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=W.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=W.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=h.once(()=>i.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.backgroundColor=g._getMinimapBackground(F,D)}static _getMinimapBackground(R,F){const D=R.getColor(l.minimapBackground);return D?new c.RGBA8(D.rgba.r,D.rgba.g,D.rgba.b,D.rgba.a):F.getColor(2)}equals(R){return this.renderMinimap===R.renderMinimap&&this.size===R.size&&this.minimapHeightIsEditorHeight===R.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===R.scrollBeyondLastLine&&this.showSlider===R.showSlider&&this.pixelRatio===R.pixelRatio&&this.typicalHalfwidthCharacterWidth===R.typicalHalfwidthCharacterWidth&&this.lineHeight===R.lineHeight&&this.minimapLeft===R.minimapLeft&&this.minimapWidth===R.minimapWidth&&this.minimapHeight===R.minimapHeight&&this.canvasInnerWidth===R.canvasInnerWidth&&this.canvasInnerHeight===R.canvasInnerHeight&&this.canvasOuterWidth===R.canvasOuterWidth&&this.canvasOuterHeight===R.canvasOuterHeight&&this.isSampling===R.isSampling&&this.editorHeight===R.editorHeight&&this.fontScale===R.fontScale&&this.minimapLineHeight===R.minimapLineHeight&&this.minimapCharWidth===R.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(R.backgroundColor)}}class b{constructor(R,F,D,B,A,W,V,K){this.scrollTop=R,this.scrollHeight=F,this.sliderNeeded=D,this._computedSliderRatio=B,this.sliderTop=A,this.sliderHeight=W,this.startLineNumber=V,this.endLineNumber=K}getDesiredScrollTopFromDelta(R){return Math.round(this.scrollTop+R/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(R){return Math.round((R-this.sliderHeight/2)/this._computedSliderRatio)}static create(R,F,D,B,A,W,V,K,j,ee,re){const te=R.pixelRatio,ae=R.minimapLineHeight,Y=Math.floor(R.canvasInnerHeight/ae),P=R.lineHeight;if(R.minimapHeightIsEditorHeight){const ie=K*R.lineHeight+(R.scrollBeyondLastLine?A-R.lineHeight:0),ce=Math.max(1,Math.floor(A*A/ie)),ue=Math.max(0,R.minimapHeight-ce),Z=ue/(ee-A),ne=j*Z,$=ue>0,X=Math.floor(R.canvasInnerHeight/R.minimapLineHeight);return new b(j,ee,$,Z,ne,ce,1,Math.min(V,X))}let x;if(W&&D!==V){const ie=D-F+1;x=Math.floor(ie*ae/te)}else{const ie=A/P;x=Math.floor(ie*ae/te)}let z;R.scrollBeyondLastLine?z=(V-1)*ae/te:z=Math.max(0,V*ae/te-x),z=Math.min(R.minimapHeight-x,z);const U=z/(ee-A),H=j*U;let q=0;if(R.scrollBeyondLastLine&&(q=A/P-1),Y>=V+q){const ie=1,ce=V,ue=z>0;return new b(j,ee,ue,U,H,x,ie,ce)}else{let ie=Math.max(1,Math.floor(F-H*te/ae));re&&re.scrollHeight===ee&&(re.scrollTop>j&&(ie=Math.min(ie,re.startLineNumber)),re.scrollTop<j&&(ie=Math.max(ie,re.startLineNumber)));const ce=Math.min(V,ie+Y-1),ue=(j-B)/P,Z=(F-ie+ue)*ae/te;return new b(j,ee,!0,U,Z,x,ie,ce)}}}class w{constructor(R){this.dy=R}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}w.INVALID=new w(-1);class L{constructor(R,F,D){this.renderedLayout=R,this._imageData=F,this._renderedLines=new d.RenderedLinesCollection(()=>w.INVALID),this._renderedLines._set(R.startLineNumber,D)}linesEquals(R){if(!this.scrollEquals(R))return!1;const D=this._renderedLines._get().lines;for(let B=0,A=D.length;B<A;B++)if(D[B].dy===-1)return!1;return!0}scrollEquals(R){return this.renderedLayout.startLineNumber===R.startLineNumber&&this.renderedLayout.endLineNumber===R.endLineNumber}_get(){const R=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:R.rendLineNumberStart,lines:R.lines}}onLinesChanged(R,F){return this._renderedLines.onLinesChanged(R,F)}onLinesDeleted(R,F){this._renderedLines.onLinesDeleted(R,F)}onLinesInserted(R,F){this._renderedLines.onLinesInserted(R,F)}onTokensChanged(R){return this._renderedLines.onTokensChanged(R)}}class E{constructor(R,F,D,B){this._backgroundFillData=E._createBackgroundFillData(F,D,B),this._buffers=[R.createImageData(F,D),R.createImageData(F,D)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const R=this._buffers[this._lastUsedBuffer];return R.data.set(this._backgroundFillData),R}static _createBackgroundFillData(R,F,D){const B=D.r,A=D.g,W=D.b,V=new Uint8ClampedArray(R*F*4);let K=0;for(let j=0;j<F;j++)for(let ee=0;ee<R;ee++)V[K]=B,V[K+1]=A,V[K+2]=W,V[K+3]=255,K+=4;return V}}class N{constructor(R,F){this.samplingRatio=R,this.minimapLines=F}static compute(R,F,D){if(R.renderMinimap===0||!R.isSampling)return[null,[]];const B=R.pixelRatio,A=R.lineHeight,W=R.scrollBeyondLastLine,{minimapLineCount:V}=p.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:F,scrollBeyondLastLine:W,height:R.editorHeight,lineHeight:A,pixelRatio:B}),K=F/V,j=K/2;if(!D||D.minimapLines.length===0){let H=[];if(H[0]=1,V>1){for(let q=0,ie=V-1;q<ie;q++)H[q]=Math.round(q*K+j);H[V-1]=F}return[new N(K,H),[]]}const ee=D.minimapLines,re=ee.length;let te=[],ae=0,Y=0,P=1;const x=10;let z=[],U=null;for(let H=0;H<V;H++){const q=Math.max(P,Math.round(H*K)),ie=Math.max(q,Math.round((H+1)*K));for(;ae<re&&ee[ae]<q;){if(z.length<x){const ue=ae+1+Y;U&&U.type==="deleted"&&U._oldIndex===ae-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:ae,deleteFromLineNumber:ue,deleteToLineNumber:ue},z.push(U)),Y--}ae++}let ce;if(ae<re&&ee[ae]<=ie)ce=ee[ae],ae++;else if(H===0?ce=1:H+1===V?ce=F:ce=Math.round(H*K+j),z.length<x){const ue=ae+1+Y;U&&U.type==="inserted"&&U._i===H-1?U.insertToLineNumber++:(U={type:"inserted",_i:H,insertFromLineNumber:ue,insertToLineNumber:ue},z.push(U)),Y++}te[H]=ce,P=ce}if(z.length<x)for(;ae<re;){const H=ae+1+Y;U&&U.type==="deleted"&&U._oldIndex===ae-1?U.deleteToLineNumber++:(U={type:"deleted",_oldIndex:ae,deleteFromLineNumber:H,deleteToLineNumber:H},z.push(U)),Y--,ae++}else z=[{type:"flush"}];return[new N(K,te),z]}modelLineToMinimapLine(R){return Math.min(this.minimapLines.length,Math.max(1,Math.round(R/this.samplingRatio)))}modelLineRangeToMinimapLineRange(R,F){let D=this.modelLineToMinimapLine(R)-1;for(;D>0&&this.minimapLines[D-1]>=R;)D--;let B=this.modelLineToMinimapLine(F)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=F;)B++;if(D===B){const A=this.minimapLines[D];if(A<R||A>F)return null}return[D+1,B+1]}decorationLineRangeToMinimapLineRange(R,F){let D=this.modelLineToMinimapLine(R),B=this.modelLineToMinimapLine(F);return R!==F&&B===D&&(B===this.minimapLines.length?D>1&&D--:B++),[D,B]}onLinesDeleted(R){const F=R.toLineNumber-R.fromLineNumber+1;let D=this.minimapLines.length,B=0;for(let A=this.minimapLines.length-1;A>=0&&!(this.minimapLines[A]<R.fromLineNumber);A--)this.minimapLines[A]<=R.toLineNumber?(this.minimapLines[A]=Math.max(1,R.fromLineNumber-1),D=Math.min(D,A),B=Math.max(B,A)):this.minimapLines[A]-=F;return[D,B]}onLinesInserted(R){const F=R.toLineNumber-R.fromLineNumber+1;for(let D=this.minimapLines.length-1;D>=0&&!(this.minimapLines[D]<R.fromLineNumber);D--)this.minimapLines[D]+=F}}class I extends f.ViewPart{constructor(R){super(R);this.tokensColorTracker=a.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[F]=N.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=F,this._shouldCheckSampling=!1,this._actual=new T(R.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const R=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(R)?!1:(this.options=R,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(R){return this._onOptionsMaybeChanged()}onCursorStateChanged(R){return this._selections=R.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(R){return R.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(R){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(R){if(this._samplingState){const F=this._samplingState.modelLineRangeToMinimapLineRange(R.fromLineNumber,R.toLineNumber);return F?this._actual.onLinesChanged(F[0],F[1]):!1}else return this._actual.onLinesChanged(R.fromLineNumber,R.toLineNumber)}onLinesDeleted(R){if(this._samplingState){const[F,D]=this._samplingState.onLinesDeleted(R);return F<=D&&this._actual.onLinesChanged(F+1,D+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(R.fromLineNumber,R.toLineNumber)}onLinesInserted(R){return this._samplingState?(this._samplingState.onLinesInserted(R),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(R.fromLineNumber,R.toLineNumber)}onScrollChanged(R){return this._actual.onScrollChanged()}onThemeChanged(R){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(R){if(this._samplingState){let F=[];for(const D of R.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(D.fromLineNumber,D.toLineNumber);B&&F.push({fromLineNumber:B[0],toLineNumber:B[1]})}return F.length?this._actual.onTokensChanged(F):!1}else return this._actual.onTokensChanged(R.ranges)}onTokensColorsChanged(R){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(R){return this._actual.onZonesChanged()}prepareRender(R){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(R){let F=R.visibleRange.startLineNumber,D=R.visibleRange.endLineNumber;this._samplingState&&(F=this._samplingState.modelLineToMinimapLine(F),D=this._samplingState.modelLineToMinimapLine(D));const B={viewportContainsWhitespaceGaps:R.viewportData.whitespaceViewportData.length>0,scrollWidth:R.scrollWidth,scrollHeight:R.scrollHeight,viewportStartLineNumber:F,viewportEndLineNumber:D,viewportStartLineNumberVerticalOffset:R.getVerticalOffsetForLineNumber(F),scrollTop:R.scrollTop,scrollLeft:R.scrollLeft,viewportWidth:R.viewportWidth,viewportHeight:R.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const R=Boolean(this._samplingState),[F,D]=N.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=F,R&&this._samplingState)for(const B of D)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(R){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[R-1]):this._context.model.getLineContent(R)}getMinimapLinesRenderingData(R,F,D){if(this._samplingState){let B=[];for(let A=0,W=F-R+1;A<W;A++)D[A]?B[A]=this._context.model.getViewLineData(this._samplingState.minimapLines[R+A-1]):B[A]=null;return B}return this._context.model.getMinimapLinesRenderingData(R,F,D).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const R of this._selections){const[F,D]=this._samplingState.decorationLineRangeToMinimapLineRange(R.startLineNumber,R.endLineNumber);this._minimapSelections.push(new t.Selection(F,R.startColumn,D,R.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(R,F){let D;if(this._samplingState){const A=this._samplingState.minimapLines[R-1],W=this._samplingState.minimapLines[F-1];D=new o.Range(A,1,W,this._context.model.getLineMaxColumn(W))}else D=new o.Range(R,1,F,this._context.model.getLineMaxColumn(F));const B=this._context.model.getDecorationsInViewport(D);if(this._samplingState){let A=[];for(const W of B)if(!!W.options.minimap){const V=W.range,K=this._samplingState.modelLineToMinimapLine(V.startLineNumber),j=this._samplingState.modelLineToMinimapLine(V.endLineNumber);A.push(new s.ViewModelDecoration(new o.Range(K,V.startColumn,j,V.endColumn),W.options))}return A}return B}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(R){this._samplingState&&(R=this._samplingState.minimapLines[R-1]),this._context.model.revealRange("mouse",!1,new o.Range(R,1,R,1),1,0)}setScrollTop(R){this._context.model.setScrollPosition({scrollTop:R},1)}}e.Minimap=I;class T extends y.Disposable{constructor(R,F){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=R,this._model=F,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(l.minimapSelection),this._domNode=k.createFastDomNode(document.createElement("div")),f.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=k.createFastDomNode(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=k.createFastDomNode(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=k.createFastDomNode(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=k.createFastDomNode(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=k.createFastDomNode(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=C.addStandardDisposableListener(this._domNode.domNode,"mousedown",D=>{if(D.preventDefault(),this._model.options.renderMinimap!==0&&!!this._lastRenderData){if(this._model.options.size!=="proportional"){if(D.leftButton&&this._lastRenderData){const j=C.getDomNodePagePosition(this._slider.domNode),ee=j.top+j.height/2;this._startSliderDragging(D.buttons,D.posx,ee,D.posy,this._lastRenderData.renderedLayout)}return}const A=this._model.options.minimapLineHeight,W=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*D.browserEvent.offsetY;let K=Math.floor(W/A)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}}),this._sliderMouseMoveMonitor=new M.GlobalMouseMoveMonitor,this._sliderMouseDownListener=C.addStandardDisposableListener(this._slider.domNode,"mousedown",D=>{D.preventDefault(),D.stopPropagation(),D.leftButton&&this._lastRenderData&&this._startSliderDragging(D.buttons,D.posx,D.posy,D.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=n.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=C.addDisposableListener(this._domNode.domNode,n.EventType.Start,D=>{D.preventDefault(),D.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(D))},{passive:!1}),this._sliderTouchMoveListener=C.addDisposableListener(this._domNode.domNode,n.EventType.Change,D=>{D.preventDefault(),D.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(D)},{passive:!1}),this._sliderTouchEndListener=C.addStandardDisposableListener(this._domNode.domNode,n.EventType.End,D=>{D.preventDefault(),D.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(R,F,D,B,A){this._slider.toggleClassName("active",!0);const W=(V,K)=>{const j=Math.abs(K-F);if(S.isWindows&&j>v){this._model.setScrollTop(A.scrollTop);return}const ee=V-D;this._model.setScrollTop(A.getDesiredScrollTopFromDelta(ee))};B!==D&&W(B,F),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,R,M.standardMouseMoveMerger,V=>W(V.posy,V.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(R){const F=this._domNode.domNode.getBoundingClientRect().top,D=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(R.pageY-F);this._model.setScrollTop(D)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new E(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(R,F){return this._lastRenderData?this._lastRenderData.onLinesChanged(R,F):!1}onLinesDeleted(R,F){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(R,F),!0}onLinesInserted(R,F){return this._lastRenderData&&this._lastRenderData.onLinesInserted(R,F),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(l.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(R){return this._lastRenderData?this._lastRenderData.onTokensChanged(R):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(R){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}R.scrollLeft+R.viewportWidth>=R.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const D=b.create(this._model.options,R.viewportStartLineNumber,R.viewportEndLineNumber,R.viewportStartLineNumberVerticalOffset,R.viewportHeight,R.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),R.scrollTop,R.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(D.sliderNeeded?"block":"none"),this._slider.setTop(D.sliderTop),this._slider.setHeight(D.sliderHeight);const B=R.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,A=Math.min(this._model.options.minimapWidth,Math.round(B*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(A),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-A),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(D.sliderHeight),this.renderDecorations(D),this._lastRenderData=this.renderLines(D)}renderDecorations(R){if(this._renderDecorations){this._renderDecorations=!1;const F=this._model.getSelections(),D=this._model.getMinimapDecorationsInViewport(R.startLineNumber,R.endLineNumber),{canvasInnerWidth:B,canvasInnerHeight:A}=this._model.options,W=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,j=this._decorationsCanvas.domNode.getContext("2d");j.clearRect(0,0,B,A);const ee=new Map;for(let re=0;re<F.length;re++){const te=F[re];for(let ae=te.startLineNumber;ae<=te.endLineNumber;ae++)this.renderDecorationOnLine(j,ee,te,this._selectionColor,R,ae,W,W,K,V)}for(let re=0;re<D.length;re++){const te=D[re];if(!!te.options.minimap){const ae=te.options.minimap.getColor(this._theme);for(let Y=te.range.startLineNumber;Y<=te.range.endLineNumber;Y++)switch(te.options.minimap.position){case u.MinimapPosition.Inline:this.renderDecorationOnLine(j,ee,te.range,ae,R,Y,W,W,K,V);continue;case u.MinimapPosition.Gutter:const P=(Y-R.startLineNumber)*W,x=2;this.renderDecoration(j,ae,x,P,m,W);continue}}}}}renderDecorationOnLine(R,F,D,B,A,W,V,K,j,ee){const re=(W-A.startLineNumber)*K;if(!(re+V<0||re>this._model.options.canvasInnerHeight)){let te=F.get(W);const ae=!te;if(!te){const q=this._model.getLineContent(W);te=[p.MINIMAP_GUTTER_WIDTH];for(let ie=1;ie<q.length+1;ie++){const ce=q.charCodeAt(ie-1),ue=ce===9?j*ee:_.isFullWidthCharacter(ce)?2*ee:ee;te[ie]=te[ie-1]+ue}F.set(W,te)}const{startColumn:Y,endColumn:P,startLineNumber:x,endLineNumber:z}=D,U=x===W?te[Y-1]:p.MINIMAP_GUTTER_WIDTH,H=z>W?te.length-1:P-1;if(H>0){const q=te[H]-U||2;this.renderDecoration(R,B,U,re,q,V)}ae&&this.renderLineHighlight(R,B,re,V)}}renderLineHighlight(R,F,D,B){R.fillStyle=F&&F.transparent(.5).toString()||"",R.fillRect(p.MINIMAP_GUTTER_WIDTH,D,R.canvas.width,B)}renderDecoration(R,F,D,B,A,W){R.fillStyle=F&&F.toString()||"",R.fillRect(D,B,A,W)}renderLines(R){const F=R.startLineNumber,D=R.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(R)){const X=this._lastRenderData._get();return new L(R,X.imageData,X.lines)}const A=this._getBuffer();if(!A)return null;let[W,V,K]=T._renderUntouchedLines(A,F,D,B,this._lastRenderData);const j=this._model.getMinimapLinesRenderingData(F,D,K),ee=this._model.getOptions().tabSize,re=this._model.options.backgroundColor,te=this._model.tokensColorTracker,ae=te.backgroundIsLight(),Y=this._model.options.renderMinimap,P=this._model.options.charRenderer(),x=this._model.options.fontScale,z=this._model.options.minimapCharWidth,H=(Y===1?2:2+1)*x,q=B>H?Math.floor((B-H)/2):0;let ie=0;const ce=[];for(let X=0,de=D-F+1;X<de;X++)K[X]&&T._renderLine(A,re,ae,Y,z,te,P,ie,q,ee,j[X],x,B),ce[X]=new w(ie),ie+=B;const ue=W===-1?0:W,ne=(V===-1?A.height:V)-ue;return this._canvas.domNode.getContext("2d").putImageData(A,0,0,0,ue,A.width,ne),new L(R,A,ce)}static _renderUntouchedLines(R,F,D,B,A){const W=[];if(!A){for(let Z=0,ne=D-F+1;Z<ne;Z++)W[Z]=!0;return[-1,-1,W]}const V=A._get(),K=V.imageData.data,j=V.rendLineNumberStart,ee=V.lines,re=ee.length,te=R.width,ae=R.data,Y=(D-F+1)*B*te*4;let P=-1,x=-1,z=-1,U=-1,H=-1,q=-1,ie=0;for(let Z=F;Z<=D;Z++){const ne=Z-F,$=Z-j,X=$>=0&&$<re?ee[$].dy:-1;if(X===-1){W[ne]=!0,ie+=B;continue}const de=X*te*4,fe=(X+B)*te*4,se=ie*te*4,le=(ie+B)*te*4;U===de&&q===se?(U=fe,q=le):(z!==-1&&(ae.set(K.subarray(z,U),H),P===-1&&z===0&&z===H&&(P=U),x===-1&&U===Y&&z===H&&(x=z)),z=de,U=fe,H=se,q=le),W[ne]=!1,ie+=B}z!==-1&&(ae.set(K.subarray(z,U),H),P===-1&&z===0&&z===H&&(P=U),x===-1&&U===Y&&z===H&&(x=z));const ce=P===-1?-1:P/(te*4),ue=x===-1?-1:x/(te*4);return[ce,ue,W]}static _renderLine(R,F,D,B,A,W,V,K,j,ee,re,te,ae){const Y=re.content,P=re.tokens,x=R.width-A,z=ae===1;let U=p.MINIMAP_GUTTER_WIDTH,H=0,q=0;for(let ie=0,ce=P.getCount();ie<ce;ie++){const ue=P.getEndOffset(ie),Z=P.getForeground(ie),ne=W.getColor(Z);for(;H<ue;H++){if(U>x)return;const $=Y.charCodeAt(H);if($===9){const X=ee-(H+q)%ee;q+=X-1,U+=X*A}else if($===32)U+=A;else{const X=_.isFullWidthCharacter($)?2:1;for(let de=0;de<X;de++)if(B===2?V.blockRenderChar(R,U,K+j,ne,F,D,z):V.renderChar(R,U,K+j,$,ne,F,te,D,z),U+=A,U>x)return}}}}}r.registerThemingParticipant((O,R)=>{const F=O.getColor(l.minimapBackground);F&&R.addRule(`.monaco-editor .minimap > canvas { opacity: ${F.rgba.a}; will-change: opacity; }`);const D=O.getColor(l.minimapSliderBackground);D&&R.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${D}; }`);const B=O.getColor(l.minimapSliderHoverBackground);B&&R.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${B}; }`);const A=O.getColor(l.minimapSliderActiveBackground);A&&R.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${A}; }`);const W=O.getColor(l.scrollbarShadow);W&&R.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(Q[601],J([0,1,30,44,22,14,321]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends k.ViewPart{constructor(d){super(d);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const p=this._context.configuration.options.get(87);this._useShadows=p.useShadows,this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const d=this._useShadows&&this._scrollTop>0;return this._shouldShow!==d?(this._shouldShow=d,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const f=this._context.configuration.options.get(123);f.minimap.renderMinimap===0||f.minimap.minimapWidth>0&&f.minimap.minimapLeft===0?this._width=f.width:this._width=f.width-f.minimap.minimapWidth-f.verticalScrollbarWidth}onConfigurationChanged(d){const p=this._context.configuration.options.get(87);return this._useShadows=p.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(d){return this._scrollTop=d.scrollTop,this._updateShouldShow()}prepareRender(d){}render(d){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,y.registerThemingParticipant((_,d)=>{const f=_.getColor(M.scrollbarShadow);f&&d.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${f} 0 6px 6px -6px inset; }`)})}),define(Q[602],J([0,1,34,93,22,14,322]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class S{constructor(s){this.left=s.left,this.width=s.width,this.startStyle=null,this.endStyle=null}}class _{constructor(s,l){this.lineNumber=s,this.ranges=l}}function d(a){return new S(a)}function f(a){return new _(a.lineNumber,a.ranges.map(d))}const p=C.isEdge;class o extends k.DynamicViewOverlay{constructor(s){super();this._previousFrameVisibleRangesWithStyle=[],this._context=s;const l=this._context.configuration.options;this._lineHeight=l.get(53),this._roundedSelection=l.get(85),this._typicalHalfwidthCharacterWidth=l.get(38).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const l=this._context.configuration.options;return this._lineHeight=l.get(53),this._roundedSelection=l.get(85),this._typicalHalfwidthCharacterWidth=l.get(38).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(s){return this._selections=s.selections.slice(0),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_visibleRangesHaveGaps(s){for(let l=0,r=s.length;l<r;l++)if(s[l].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(s,l,r){const t=this._typicalHalfwidthCharacterWidth/4;let n=null,i=null;if(r&&r.length>0&&l.length>0){const u=l[0].lineNumber;if(u===s.startLineNumber)for(let v=0;!n&&v<r.length;v++)r[v].lineNumber===u&&(n=r[v].ranges[0]);const h=l[l.length-1].lineNumber;if(h===s.endLineNumber)for(let v=r.length-1;!i&&v>=0;v--)r[v].lineNumber===h&&(i=r[v].ranges[0]);n&&!n.startStyle&&(n=null),i&&!i.startStyle&&(i=null)}for(let u=0,h=l.length;u<h;u++){const v=l[u].ranges[0],m=v.left,g=v.left+v.width,b={top:0,bottom:0},w={top:0,bottom:0};if(u>0){const L=l[u-1].ranges[0].left,E=l[u-1].ranges[0].left+l[u-1].ranges[0].width;c(m-L)<t?b.top=2:m>L&&(b.top=1),c(g-E)<t?w.top=2:L<g&&g<E&&(w.top=1)}else n&&(b.top=n.startStyle.top,w.top=n.endStyle.top);if(u+1<h){const L=l[u+1].ranges[0].left,E=l[u+1].ranges[0].left+l[u+1].ranges[0].width;c(m-L)<t?b.bottom=2:L<m&&m<E&&(b.bottom=1),c(g-E)<t?w.bottom=2:g<E&&(w.bottom=1)}else i&&(b.bottom=i.startStyle.bottom,w.bottom=i.endStyle.bottom);v.startStyle=b,v.endStyle=w}}_getVisibleRangesWithStyle(s,l,r){const n=(l.linesVisibleRangesForRange(s,!0)||[]).map(f),i=this._visibleRangesHaveGaps(n);return!p&&!i&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(l.visibleRange,n,r),n}_createSelectionPiece(s,l,r,t,n){return'<div class="cslr '+r+'" style="top:'+s.toString()+"px;left:"+t.toString()+"px;width:"+n.toString()+"px;height:"+l+'px;"></div>'}_actualRenderOneSelection(s,l,r,t){if(t.length!==0){const n=!!t[0].ranges[0].startStyle,i=this._lineHeight.toString(),u=(this._lineHeight-1).toString(),h=t[0].lineNumber,v=t[t.length-1].lineNumber;for(let m=0,g=t.length;m<g;m++){const b=t[m],w=b.lineNumber,L=w-l,E=r&&(w===v||w===h)?u:i,N=r&&w===h?1:0;let I="",T="";for(let O=0,R=b.ranges.length;O<R;O++){const F=b.ranges[O];if(n){const B=F.startStyle,A=F.endStyle;if(B.top===1||B.bottom===1){I+=this._createSelectionPiece(N,E,o.SELECTION_CLASS_NAME,F.left-o.ROUNDED_PIECE_WIDTH,o.ROUNDED_PIECE_WIDTH);let W=o.EDITOR_BACKGROUND_CLASS_NAME;B.top===1&&(W+=" "+o.SELECTION_TOP_RIGHT),B.bottom===1&&(W+=" "+o.SELECTION_BOTTOM_RIGHT),I+=this._createSelectionPiece(N,E,W,F.left-o.ROUNDED_PIECE_WIDTH,o.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){I+=this._createSelectionPiece(N,E,o.SELECTION_CLASS_NAME,F.left+F.width,o.ROUNDED_PIECE_WIDTH);let W=o.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(W+=" "+o.SELECTION_TOP_LEFT),A.bottom===1&&(W+=" "+o.SELECTION_BOTTOM_LEFT),I+=this._createSelectionPiece(N,E,W,F.left+F.width,o.ROUNDED_PIECE_WIDTH)}}let D=o.SELECTION_CLASS_NAME;if(n){const B=F.startStyle,A=F.endStyle;B.top===0&&(D+=" "+o.SELECTION_TOP_LEFT),B.bottom===0&&(D+=" "+o.SELECTION_BOTTOM_LEFT),A.top===0&&(D+=" "+o.SELECTION_TOP_RIGHT),A.bottom===0&&(D+=" "+o.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(N,E,D,F.left,F.width)}s[L][0]+=I,s[L][1]+=T}}}prepareRender(s){const l=[],r=s.visibleRange.startLineNumber,t=s.visibleRange.endLineNumber;for(let i=r;i<=t;i++){const u=i-r;l[u]=["",""]}const n=[];for(let i=0,u=this._selections.length;i<u;i++){const h=this._selections[i];if(h.isEmpty()){n[i]=null;continue}const v=this._getVisibleRangesWithStyle(h,s,this._previousFrameVisibleRangesWithStyle[i]);n[i]=v,this._actualRenderOneSelection(l,r,this._selections.length>1,v)}this._previousFrameVisibleRangesWithStyle=n,this._renderResult=l.map(([i,u])=>i+u)}render(s,l){if(!this._renderResult)return"";const r=l-s;return r<0||r>=this._renderResult.length?"":this._renderResult[r]}}e.SelectionsOverlay=o,o.SELECTION_CLASS_NAME="selected-text",o.SELECTION_TOP_LEFT="top-left-radius",o.SELECTION_BOTTOM_LEFT="bottom-left-radius",o.SELECTION_TOP_RIGHT="top-right-radius",o.SELECTION_BOTTOM_RIGHT="bottom-right-radius",o.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",o.ROUNDED_PIECE_WIDTH=10,y.registerThemingParticipant((a,s)=>{const l=a.getColor(M.editorSelectionBackground);l&&s.addRule(`.monaco-editor .focused .selected-text { background-color: ${l}; }`);const r=a.getColor(M.editorInactiveSelection);r&&s.addRule(`.monaco-editor .selected-text { background-color: ${r}; }`);const t=a.getColor(M.editorSelectionForeground);t&&!t.isTransparent()&&s.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${t}; }`)});function c(a){return a<0?-a:a}}),define(Q[49],J([0,1,448,29,22,14]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=M.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},C.localize(0,null)),e.editorLineHighlightBorder=M.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},C.localize(1,null)),e.editorRangeHighlight=M.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},C.localize(2,null),!0),e.editorRangeHighlightBorder=M.registerColor("editor.rangeHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},C.localize(3,null),!0),e.editorSymbolHighlight=M.registerColor("editor.symbolHighlightBackground",{dark:M.editorFindMatchHighlight,light:M.editorFindMatchHighlight,hc:null},C.localize(4,null),!0),e.editorSymbolHighlightBorder=M.registerColor("editor.symbolHighlightBorder",{dark:null,light:null,hc:M.activeContrastBorder},C.localize(5,null),!0),e.editorCursorForeground=M.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hc:k.Color.white},C.localize(6,null)),e.editorCursorBackground=M.registerColor("editorCursor.background",null,C.localize(7,null)),e.editorWhitespaces=M.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},C.localize(8,null)),e.editorIndentGuides=M.registerColor("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},C.localize(9,null)),e.editorActiveIndentGuides=M.registerColor("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},C.localize(10,null)),e.editorLineNumbers=M.registerColor("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:k.Color.white},C.localize(11,null));const S=M.registerColor("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:M.activeContrastBorder},C.localize(12,null),!1,C.localize(13,null));e.editorActiveLineNumber=M.registerColor("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},C.localize(14,null)),e.editorRuler=M.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hc:k.Color.white},C.localize(15,null)),e.editorCodeLensForeground=M.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},C.localize(16,null)),e.editorBracketMatchBackground=M.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},C.localize(17,null)),e.editorBracketMatchBorder=M.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:M.contrastBorder},C.localize(18,null)),e.editorOverviewRulerBorder=M.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},C.localize(19,null)),e.editorOverviewRulerBackground=M.registerColor("editorOverviewRuler.background",null,C.localize(20,null)),e.editorGutter=M.registerColor("editorGutter.background",{dark:M.editorBackground,light:M.editorBackground,hc:M.editorBackground},C.localize(21,null)),e.editorUnnecessaryCodeBorder=M.registerColor("editorUnnecessaryCode.border",{dark:null,light:null,hc:k.Color.fromHex("#fff").transparent(.8)},C.localize(22,null)),e.editorUnnecessaryCodeOpacity=M.registerColor("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hc:null},C.localize(23,null));const _=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=M.registerColor("editorOverviewRuler.rangeHighlightForeground",{dark:_,light:_,hc:_},C.localize(24,null),!0),e.overviewRulerError=M.registerColor("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hc:new k.Color(new k.RGBA(255,50,50,1))},C.localize(25,null)),e.overviewRulerWarning=M.registerColor("editorOverviewRuler.warningForeground",{dark:M.editorWarningForeground,light:M.editorWarningForeground,hc:M.editorWarningBorder},C.localize(26,null)),e.overviewRulerInfo=M.registerColor("editorOverviewRuler.infoForeground",{dark:M.editorInfoForeground,light:M.editorInfoForeground,hc:M.editorInfoBorder},C.localize(27,null)),y.registerThemingParticipant((d,f)=>{const p=d.getColor(M.editorBackground);p&&f.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${p}; }`);const o=d.getColor(M.editorForeground);o&&f.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);const c=d.getColor(e.editorGutter);c&&f.addRule(`.monaco-editor .margin { background-color: ${c}; }`);const a=d.getColor(e.editorRangeHighlight);a&&f.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);const s=d.getColor(e.editorRangeHighlightBorder);s&&f.addRule(`.monaco-editor .rangeHighlight { border: 1px ${d.type==="hc"?"dotted":"solid"} ${s}; }`);const l=d.getColor(e.editorSymbolHighlight);l&&f.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const r=d.getColor(e.editorSymbolHighlightBorder);r&&f.addRule(`.monaco-editor .symbolHighlight { border: 1px ${d.type==="hc"?"dotted":"solid"} ${r}; }`);const t=d.getColor(e.editorWhitespaces);t&&(f.addRule(`.monaco-editor .mtkw { color: ${t} !important; }`),f.addRule(`.monaco-editor .mtkz { color: ${t} !important; }`))})}),define(Q[603],J([0,1,93,49,19,14,20,310]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let _=!0;class d extends C.DynamicViewOverlay{constructor(c){super();this._context=c;const a=this._context.configuration.options,s=a.get(123);this._lineHeight=a.get(53),this._renderLineHighlight=a.get(80),this._renderLineHighlightOnlyWhenFocus=a.get(81),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let c=!1;const a=_?this._selections.slice(0,1):this._selections,s=a.map(r=>r.positionLineNumber);s.sort((r,t)=>r-t),M.equals(this._cursorLineNumbers,s)||(this._cursorLineNumbers=s,c=!0);const l=a.every(r=>r.isEmpty());return this._selectionIsEmpty!==l&&(this._selectionIsEmpty=l,c=!0),c}onThemeChanged(c){return this._readFromSelections()}onConfigurationChanged(c){const a=this._context.configuration.options,s=a.get(123);return this._lineHeight=a.get(53),this._renderLineHighlight=a.get(80),this._renderLineHighlightOnlyWhenFocus=a.get(81),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,!0}onCursorStateChanged(c){return this._selections=c.selections,this._readFromSelections()}onFlushed(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollWidthChanged||c.scrollTopChanged}onZonesChanged(c){return!0}onFocusChanged(c){return this._renderLineHighlightOnlyWhenFocus?(this._focused=c.isFocused,!0):!1}prepareRender(c){if(!this._shouldRenderThis()){this._renderData=null;return}const a=this._renderOne(c),s=c.visibleRange.startLineNumber,l=c.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let t=0;const n=[];for(let i=s;i<=l;i++){const u=i-s;for(;t<r&&this._cursorLineNumbers[t]<i;)t++;t<r&&this._cursorLineNumbers[t]===i?n[u]=a:n[u]=""}this._renderData=n}render(c,a){if(!this._renderData)return"";const s=a-c;return s>=this._renderData.length?"":this._renderData[s]}}e.AbstractLineHighlightOverlay=d;class f extends d{_renderOne(c){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(c.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=f;class p extends d{_renderOne(c){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=p,y.registerThemingParticipant((o,c)=>{_=!1;const a=o.getColor(k.editorLineHighlight);if(a&&(c.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${a}; }`),c.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${a}; border: none; }`)),!a||a.isTransparent()||o.defines(k.editorLineHighlightBorder)){const s=o.getColor(k.editorLineHighlightBorder);s&&(_=!0,c.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${s}; }`),c.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${s}; }`),o.type==="hc"&&(c.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),c.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(Q[604],J([0,1,93,12,49,14,313]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends C.DynamicViewOverlay{constructor(d){super();this._context=d,this._primaryLineNumber=0;const f=this._context.configuration.options,p=f.get(124),o=f.get(38);this._lineHeight=f.get(53),this._spaceWidth=o.spaceWidth,this._enabled=f.get(78),this._activeIndentEnabled=f.get(47),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*o.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(d){const f=this._context.configuration.options,p=f.get(124),o=f.get(38);return this._lineHeight=f.get(53),this._spaceWidth=o.spaceWidth,this._enabled=f.get(78),this._activeIndentEnabled=f.get(47),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*o.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(d){const f=d.selections[0],p=f.isEmpty()?f.positionLineNumber:0;return this._primaryLineNumber!==p?(this._primaryLineNumber=p,!0):!1}onDecorationsChanged(d){return!0}onFlushed(d){return!0}onLinesChanged(d){return!0}onLinesDeleted(d){return!0}onLinesInserted(d){return!0}onScrollChanged(d){return d.scrollTopChanged}onZonesChanged(d){return!0}onLanguageConfigurationChanged(d){return!0}prepareRender(d){if(!this._enabled){this._renderResult=null;return}const f=d.visibleRange.startLineNumber,p=d.visibleRange.endLineNumber,{indentSize:o}=this._context.model.getTextModelOptions(),c=o*this._spaceWidth,a=d.scrollWidth,s=this._lineHeight,l=this._context.model.getLinesIndentGuides(f,p);let r=0,t=0,n=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const u=this._context.model.getActiveIndentGuide(this._primaryLineNumber,f,p);r=u.startLineNumber,t=u.endLineNumber,n=u.indent}const i=[];for(let u=f;u<=p;u++){const h=r<=u&&u<=t,v=u-f,m=l[v];let g="";if(m>=1){const b=d.visibleRangeForPosition(new k.Position(u,1));let w=b?b.left:0;for(let L=1;L<=m&&(g+=`<div class="${h&&L===n?"cigra":"cigr"}" style="left:${w}px;height:${s}px;width:${c}px"></div>`,w+=c,!(w>a||this._maxIndentLeft>0&&w>this._maxIndentLeft));L++);}i[v]=g}this._renderResult=i}render(d,f){if(!this._renderResult)return"";const p=f-d;return p<0||p>=this._renderResult.length?"":this._renderResult[p]}}e.IndentGuidesOverlay=S,y.registerThemingParticipant((_,d)=>{const f=_.getColor(M.editorIndentGuides);f&&d.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${f} inset; }`);const p=_.getColor(M.editorActiveIndentGuides)||f;p&&d.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${p} inset; }`)})}),define(Q[257],J([0,1,17,93,12,49,14,314]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class _ extends k.DynamicViewOverlay{constructor(f){super();this._context=f,this._readConfig(),this._lastCursorModelPosition=new M.Position(1,1),this._renderResult=null,this._context.addEventHandler(this)}_readConfig(){const f=this._context.configuration.options;this._lineHeight=f.get(53);const p=f.get(54);this._renderLineNumbers=p.renderType,this._renderCustomLineNumbers=p.renderFn,this._renderFinalNewline=f.get(79);const o=f.get(123);this._lineNumbersLeft=o.lineNumbersLeft,this._lineNumbersWidth=o.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(f){return this._readConfig(),!0}onCursorStateChanged(f){const p=f.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(p),this._renderLineNumbers===2||this._renderLineNumbers===3}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return f.scrollTopChanged}onZonesChanged(f){return!0}_getLineRenderLineNumber(f){const p=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new M.Position(f,1));if(p.column!==1)return"";const o=p.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(o);if(this._renderLineNumbers===2){const c=Math.abs(this._lastCursorModelPosition.lineNumber-o);return c===0?'<span class="relative-current-line-number">'+o+"</span>":String(c)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===o||o%10==0?String(o):"":String(o)}prepareRender(f){if(this._renderLineNumbers===0){this._renderResult=null;return}const p=C.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",o=f.visibleRange.startLineNumber,c=f.visibleRange.endLineNumber,a='<div class="'+_.CLASS_NAME+p+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',s=this._context.model.getLineCount(),l=[];for(let r=o;r<=c;r++){const t=r-o;if(!this._renderFinalNewline&&r===s&&this._context.model.getLineLength(r)===0){l[t]="";continue}const n=this._getLineRenderLineNumber(r);n?l[t]=a+n+"</div>":l[t]=""}this._renderResult=l}render(f,p){if(!this._renderResult)return"";const o=p-f;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.LineNumbersOverlay=_,_.CLASS_NAME="line-numbers",S.registerThemingParticipant((d,f)=>{const p=d.getColor(y.editorLineNumbers);p&&f.addRule(`.monaco-editor .line-numbers { color: ${p}; }`);const o=d.getColor(y.editorActiveLineNumber);o&&f.addRule(`.monaco-editor .current-line ~ .line-numbers { color: ${o}; }`)})}),define(Q[605],J([0,1,435,34,30,17,8,69,214,211,44,257,221,37,105,12,3,20,122,309]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class i{constructor(w,L,E){this.top=w,this.left=L,this.width=E}setWidth(w){return new i(this.top,this.left,w)}}const u=k.isEdge||k.isFirefox;class h extends p.ViewPart{constructor(w,L,E){super(w);this._primaryCursorPosition=new l.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=E,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,I=N.get(123);this._setAccessibilityOptions(N),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=N.get(38),this._lineHeight=N.get(53),this._emptySelectionClipboard=N.get(28),this._copyWithSyntaxHighlighting=N.get(18),this._visibleTextArea=null,this._selections=[new t.Selection(1,1,1,1)],this._modelSelections=[new t.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=M.createFastDomNode(document.createElement("textarea")),p.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("tabindex",String(N.get(107))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",C.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),y.isWeb&&N.get(75)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=M.createFastDomNode(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:R=>this._context.model.getLineMaxColumn(R),getValueInRange:(R,F)=>this._context.model.getValueInRange(R,F)},O={getDataToCopy:R=>{const F=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,y.isWindows),D=this._context.model.getEOL(),B=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),A=Array.isArray(F)?F:null,W=Array.isArray(F)?F.join(D):F;let V,K=null;if(R&&(d.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536)){const j=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);j&&(V=j.html,K=j.mode)}return{isFromEmptySelection:B,multicursorText:A,text:W,html:V,mode:K}},getScreenReaderContent:R=>{if(this._accessibilitySupport===1){if(y.isMacintosh){const F=this._selections[0];if(F.isEmpty()){const D=F.getStartPosition();let B=this._getWordBeforePosition(D);if(B.length===0&&(B=this._getCharacterBeforePosition(D)),B.length>0)return new f.TextAreaState(B,B.length,B.length,D,D)}}return f.TextAreaState.EMPTY}return f.PagedScreenReaderStrategy.fromEditorSelection(R,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(R,F,D)=>this._context.model.deduceModelPositionRelativeToViewPosition(R,F,D)};this._textAreaInput=this._register(new d.TextAreaInput(O,this.textArea)),this._register(this._textAreaInput.onKeyDown(R=>{this._viewController.emitKeyDown(R)})),this._register(this._textAreaInput.onKeyUp(R=>{this._viewController.emitKeyUp(R)})),this._register(this._textAreaInput.onPaste(R=>{let F=!1,D=null,B=null;R.metadata&&(F=this._emptySelectionClipboard&&!!R.metadata.isFromEmptySelection,D=typeof R.metadata.multicursorText!="undefined"?R.metadata.multicursorText:null,B=R.metadata.mode),this._viewController.paste(R.text,F,D,B)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(R=>{R.replaceCharCnt?this._viewController.replacePreviousChar(R.text,R.replaceCharCnt):this._viewController.type(R.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(R=>{this._viewController.setSelection(R)})),this._register(this._textAreaInput.onCompositionStart(R=>{const F=this._selections[0].startLineNumber,D=this._selections[0].startColumn-(R.moveOneCharacterLeft?1:0);this._context.model.revealRange("keyboard",!0,new r.Range(F,D,F,D),0,1);const B=this._viewHelper.visibleRangeForPositionRelativeToEditor(F,D);B&&(this._visibleTextArea=new i(this._context.viewLayout.getVerticalOffsetForLineNumber(F),B.left,u?0:1),this._render()),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(R=>{k.isEdge?this._visibleTextArea=this._visibleTextArea.setWidth(0):this._visibleTextArea=this._visibleTextArea.setWidth(v(R.data,this._fontInfo)),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getWordBeforePosition(w){const L=this._context.model.getLineContent(w.lineNumber),E=s.getMapForWordSeparators(this._context.configuration.options.get(110));let N=w.column,I=0;for(;N>1;){const T=L.charCodeAt(N-2);if(E.get(T)!==0||I>50)return L.substring(N-1,w.column-1);I++,N--}return L.substring(0,w.column-1)}_getCharacterBeforePosition(w){if(w.column>1){const E=this._context.model.getLineContent(w.lineNumber).charAt(w.column-2);if(!S.isHighSurrogate(E.charCodeAt(0)))return E}return""}_getAriaLabel(w){return w.get(2)===1?C.localize(1,null,y.isLinux?"Shift+Alt+F1":"Alt+F1"):w.get(4)}_setAccessibilityOptions(w){this._accessibilitySupport=w.get(2);const L=w.get(3);this._accessibilitySupport===2&&L===a.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=100:this._accessibilityPageSize=L}onConfigurationChanged(w){const L=this._context.configuration.options,E=L.get(123);return this._setAccessibilityOptions(L),this._contentLeft=E.contentLeft,this._contentWidth=E.contentWidth,this._contentHeight=E.height,this._fontInfo=L.get(38),this._lineHeight=L.get(53),this._emptySelectionClipboard=L.get(28),this._copyWithSyntaxHighlighting=L.get(18),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(107))),y.isWeb&&w.hasChanged(75)&&(L.get(75)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),w.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(w){return this._selections=w.selections.slice(0),this._modelSelections=w.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return this._scrollLeft=w.scrollLeft,this._scrollTop=w.scrollTop,!0}onZonesChanged(w){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(w){w.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",w.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),w.role&&this.textArea.setAttribute("role",w.role)}prepareRender(w){this._primaryCursorPosition=new l.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=w.visibleRangeForPosition(this._primaryCursorPosition)}render(w){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const w=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(w<this._contentLeft||w>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(y.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,w,u?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,L,w,u?0:1,u?0:1)}_renderInsideEditor(w,L,E,N,I){this._lastRenderPosition=w;const T=this.textArea,O=this.textAreaCover;_.Configuration.applyFontInfo(T,this._fontInfo),T.setTop(L),T.setLeft(E),T.setWidth(N),T.setHeight(I),O.setTop(0),O.setLeft(0),O.setWidth(0),O.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const w=this.textArea,L=this.textAreaCover;if(_.Configuration.applyFontInfo(w,this._fontInfo),w.setTop(0),w.setLeft(0),L.setTop(0),L.setLeft(0),u){w.setWidth(0),w.setHeight(0),L.setWidth(0),L.setHeight(0);return}w.setWidth(1),w.setHeight(1),L.setWidth(1),L.setHeight(1);const E=this._context.configuration.options;E.get(44)?L.setClassName("monaco-editor-background textAreaCover "+c.Margin.OUTER_CLASS_NAME):E.get(54).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+o.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function v(b,w){const E=document.createElement("canvas").getContext("2d");E.font=m(w);const N=E.measureText(b);return k.isFirefox?N.width+2:N.width}function m(b){return g("normal",b.fontWeight,b.fontSize,b.lineHeight,b.fontFamily)}function g(b,w,L,E,N){return`${b} normal ${w} ${L}px / ${E}px ${N}`}}),define(Q[606],J([0,1,30,29,44,12,18,49]),function(G,e,C,k,M,y,S,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class d{constructor(o,c){const a=o.options;this.lineHeight=a.get(53),this.pixelRatio=a.get(121),this.overviewRulerLanes=a.get(68),this.renderBorder=a.get(67);const s=c.getColor(_.editorOverviewRulerBorder);this.borderColor=s?s.toString():null,this.hideCursor=a.get(46);const l=c.getColor(_.editorCursorForeground);this.cursorColor=l?l.transparent(.7).toString():null,this.themeType=c.type;const r=a.get(59),t=r.enabled,n=r.side,i=t?c.getColor(_.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;i===null||n==="left"?this.backgroundColor=null:this.backgroundColor=k.Color.Format.CSS.formatHex(i);const h=a.get(123).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[v,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=v,this.w=m}_initLanes(o,c,a){const s=c-o;if(a>=3){const l=Math.floor(s/3),r=Math.floor(s/3),t=s-l-r,n=o,i=n+l,u=n+l+t;return[[0,n,i,n,u,n,i,n],[0,l,t,l+t,r,l+t+r,t+r,l+t+r]]}else if(a===2){const l=Math.floor(s/2),r=s-l,t=o,n=t+l;return[[0,t,t,t,n,t,t,t],[0,l,l,l,r,l+r,l+r,l+r]]}else{const l=o,r=s;return[[0,l,l,l,l,l,l,l],[0,r,r,r,r,r,r,r]]}}equals(o){return this.lineHeight===o.lineHeight&&this.pixelRatio===o.pixelRatio&&this.overviewRulerLanes===o.overviewRulerLanes&&this.renderBorder===o.renderBorder&&this.borderColor===o.borderColor&&this.hideCursor===o.hideCursor&&this.cursorColor===o.cursorColor&&this.themeType===o.themeType&&this.backgroundColor===o.backgroundColor&&this.top===o.top&&this.right===o.right&&this.domWidth===o.domWidth&&this.domHeight===o.domHeight&&this.canvasWidth===o.canvasWidth&&this.canvasHeight===o.canvasHeight}}class f extends M.ViewPart{constructor(o){super(o);this._domNode=C.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(o){const c=new d(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(c)?!1:(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,o&&this._render(),!0)}onConfigurationChanged(o){return this._updateSettings(!1)}onCursorStateChanged(o){this._cursorPositions=[];for(let c=0,a=o.selections.length;c<a;c++)this._cursorPositions[c]=o.selections[c].getPosition();return this._cursorPositions.sort(y.Position.compare),!0}onDecorationsChanged(o){return!!o.affectsOverviewRuler}onFlushed(o){return!0}onScrollChanged(o){return o.scrollHeightChanged}onZonesChanged(o){return!0}onThemeChanged(o){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(o){}render(o){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const o=this._settings.canvasWidth,c=this._settings.canvasHeight,a=this._settings.lineHeight,s=this._context.viewLayout,l=this._context.viewLayout.getScrollHeight(),r=c/l,t=this._context.model.getAllOverviewRulerDecorations(this._context.theme),n=6*this._settings.pixelRatio|0,i=n/2|0,u=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?u.clearRect(0,0,o,c):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,o,c));const h=this._settings.x,v=this._settings.w,m=Object.keys(t);m.sort();for(let g=0,b=m.length;g<b;g++){const w=m[g],L=t[w];u.fillStyle=w;let E=0,N=0,I=0;for(let T=0,O=L.length;T<O;T++){const R=L[3*T],F=L[3*T+1],D=L[3*T+2];let B=s.getVerticalOffsetForLineNumber(F)*r|0,A=(s.getVerticalOffsetForLineNumber(D)+a)*r|0;if(A-B<n){let V=(B+A)/2|0;V<i?V=i:V+i>c&&(V=c-i),B=V-i,A=V+i}B>I+1||R!==E?(T!==0&&u.fillRect(h[E],N,v[E],I-N),E=R,N=B,I=A):A>I&&(I=A)}u.fillRect(h[E],N,v[E],I-N)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,b=g/2|0,w=this._settings.x[7],L=this._settings.w[7];u.fillStyle=this._settings.cursorColor;let E=-100,N=-100;for(let I=0,T=this._cursorPositions.length;I<T;I++){const O=this._cursorPositions[I];let R=s.getVerticalOffsetForLineNumber(O.lineNumber)*r|0;R<b?R=b:R+b>c&&(R=c-b);const F=R-b,D=F+g;F>N+1?(I!==0&&u.fillRect(w,E,L,N-E),E=F,N=D):D>N&&(N=D)}u.fillRect(w,E,L,N-E)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,c),u.stroke(),u.moveTo(0,0),u.lineTo(o,0),u.stroke())}}e.DecorationsOverviewRuler=f}),define(Q[607],J([0,1,30,44,49,14,320]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends k.ViewPart{constructor(d){super(d);this.domNode=C.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const f=this._context.configuration.options;this._rulers=f.get(86),this._typicalHalfwidthCharacterWidth=f.get(38).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(d){const f=this._context.configuration.options;return this._rulers=f.get(86),this._typicalHalfwidthCharacterWidth=f.get(38).typicalHalfwidthCharacterWidth,!0}onScrollChanged(d){return d.scrollHeightChanged}prepareRender(d){}_ensureRulersCount(){const d=this._renderedRulers.length,f=this._rulers.length;if(d!==f){if(d<f){const{tabSize:o}=this._context.model.getTextModelOptions(),c=o;let a=f-d;for(;a>0;){const s=C.createFastDomNode(document.createElement("div"));s.setClassName("view-ruler"),s.setWidth(c),this.domNode.appendChild(s),this._renderedRulers.push(s),a--}return}let p=d-f;for(;p>0;){const o=this._renderedRulers.pop();this.domNode.removeChild(o),p--}}}render(d){this._ensureRulersCount();for(let f=0,p=this._rulers.length;f<p;f++){const o=this._renderedRulers[f],c=this._rulers[f];o.setBoxShadow(c.color?`1px 0 0 0 ${c.color} inset`:""),o.setHeight(Math.min(d.scrollHeight,1e6)),o.setLeft(c.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,y.registerThemingParticipant((_,d)=>{const f=_.getColor(M.editorRuler);f&&d.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${f} inset; }`)})}),define(Q[608],J([0,1,30,15,44,553,37,49,14,323]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class f extends M.ViewPart{constructor(o){super(o);const c=this._context.configuration.options;this._readOnly=c.get(75),this._cursorBlinking=c.get(19),this._cursorStyle=c.get(21),this._cursorSmoothCaretAnimation=c.get(20),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new y.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new k.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(o){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(o){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(o){const c=this._context.configuration.options;this._readOnly=c.get(75),this._cursorBlinking=c.get(19),this._cursorStyle=c.get(21),this._cursorSmoothCaretAnimation=c.get(20),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(o);for(let a=0,s=this._secondaryCursors.length;a<s;a++)this._secondaryCursors[a].onConfigurationChanged(o);return!0}_onCursorPositionChanged(o,c){if(this._primaryCursor.onCursorPositionChanged(o),this._updateBlinking(),this._secondaryCursors.length<c.length){const a=c.length-this._secondaryCursors.length;for(let s=0;s<a;s++){const l=new y.ViewCursor(this._context);this._domNode.domNode.insertBefore(l.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(l)}}else if(this._secondaryCursors.length>c.length){const a=this._secondaryCursors.length-c.length;for(let s=0;s<a;s++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let a=0;a<c.length;a++)this._secondaryCursors[a].onCursorPositionChanged(c[a])}onCursorStateChanged(o){const c=[];for(let s=0,l=o.selections.length;s<l;s++)c[s]=o.selections[s].getPosition();this._onCursorPositionChanged(c[0],c.slice(1));const a=o.selections[0].isEmpty();return this._selectionIsEmpty!==a&&(this._selectionIsEmpty=a,this._updateDomClassName()),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onFocusChanged(o){return this._editorHasFocus=o.isFocused,this._updateBlinking(),!1}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return!0}onTokensChanged(o){const c=a=>{for(let s=0,l=o.ranges.length;s<l;s++)if(o.ranges[s].fromLineNumber<=a.lineNumber&&a.lineNumber<=o.ranges[s].toLineNumber)return!0;return!1};if(c(this._primaryCursor.getPosition()))return!0;for(const a of this._secondaryCursors)if(c(a.getPosition()))return!0;return!1}onZonesChanged(o){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const o=this._getCursorBlinking(),c=o===0,a=o===5;c?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!c&&!a&&(o===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},f.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},f.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let o="cursors-layer";switch(this._selectionIsEmpty||(o+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:o+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:o+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:o+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:o+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:o+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:o+=" cursor-underline-thin-style";break;default:o+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:o+=" cursor-blink";break;case 2:o+=" cursor-smooth";break;case 3:o+=" cursor-phase";break;case 4:o+=" cursor-expand";break;case 5:o+=" cursor-solid";break;default:o+=" cursor-solid"}else o+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(o+=" cursor-smooth-caret-animation"),o}_show(){this._primaryCursor.show();for(let o=0,c=this._secondaryCursors.length;o<c;o++)this._secondaryCursors[o].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let o=0,c=this._secondaryCursors.length;o<c;o++)this._secondaryCursors[o].hide();this._isVisible=!1}prepareRender(o){this._primaryCursor.prepareRender(o);for(let c=0,a=this._secondaryCursors.length;c<a;c++)this._secondaryCursors[c].prepareRender(o)}render(o){let c=[],a=0;const s=this._primaryCursor.render(o);s&&(c[a++]=s);for(let l=0,r=this._secondaryCursors.length;l<r;l++){const t=this._secondaryCursors[l].render(o);t&&(c[a++]=t)}this._renderData=c}getLastRenderData(){return this._renderData}}e.ViewCursors=f,f.BLINK_INTERVAL=500,d.registerThemingParticipant((p,o)=>{const c=p.getColor(_.editorCursorForeground);if(c){let a=p.getColor(_.editorCursorBackground);a||(a=c.opposite()),o.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${a}; }`),p.type==="hc"&&o.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}})}),define(Q[609],J([0,1,7,34,20,30,11,596,605,566,256,552,44,380,603,381,599,168,604,257,597,382,221,383,600,384,606,385,607,601,602,608,386,12,3,109,375,377,110,14,184]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O,R,F,D,B,A,W,V,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class j extends W.ViewEventHandler{constructor(te,ae,Y,P,x,z){super();this._selections=[new M.Selection(1,1,1,1)],this._renderAnimationFrame=null;const U=new f.ViewController(ae,P,x,te);this._context=new B.ViewContext(ae,Y.getColorTheme(),P),this._configPixelRatio=this._configPixelRatio=this._context.configuration.options.get(121),this._context.addEventHandler(this),this._register(Y.onDidColorThemeChange($=>{this._context.theme.update($),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new d.TextAreaHandler(this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=y.createFastDomNode(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=y.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=y.createFastDomNode(document.createElement("div")),c.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new r.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new u.ViewLines(this._context,this._linesContent),this._viewZones=new O.ViewZones(this._context),this._viewParts.push(this._viewZones);const H=new w.DecorationsOverviewRuler(this._context);this._viewParts.push(H);const q=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(q);const ie=new o.ContentViewOverlays(this._context);this._viewParts.push(ie),ie.addDynamicOverlay(new s.CurrentLineHighlightOverlay(this._context)),ie.addDynamicOverlay(new I.SelectionsOverlay(this._context)),ie.addDynamicOverlay(new n.IndentGuidesOverlay(this._context)),ie.addDynamicOverlay(new l.DecorationsOverlay(this._context));const ce=new o.MarginViewOverlays(this._context);this._viewParts.push(ce),ce.addDynamicOverlay(new s.CurrentLineMarginHighlightOverlay(this._context)),ce.addDynamicOverlay(new t.GlyphMarginOverlay(this._context)),ce.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),ce.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),ce.addDynamicOverlay(new i.LineNumbersOverlay(this._context));const ue=new v.Margin(this._context);ue.getDomNode().appendChild(this._viewZones.marginDomNode),ue.getDomNode().appendChild(ce.getDomNode()),this._viewParts.push(ue),this._contentWidgets=new a.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new b.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Z=new E.Rulers(this._context);this._viewParts.push(Z);const ne=new g.Minimap(this._context);if(this._viewParts.push(ne),H){const $=this._scrollbar.getOverviewRulerLayoutInfo();$.parent.insertBefore(H.getDomNode(),$.insertBefore)}this._linesContent.appendChild(ie.getDomNode()),this._linesContent.appendChild(Z.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ue.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ne.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),z?z.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new _.PointerHandler(this._context,U,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},getLastRenderData:()=>{const te=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new K.PointerHandlerLastRenderData(te,ae)},shouldSuppressMouseDownOnViewZone:te=>this._viewZones.shouldSuppressMouseDownOnViewZone(te),shouldSuppressMouseDownOnWidget:te=>this._contentWidgets.shouldSuppressMouseDownOnWidget(te),getPositionFromDOMInfo:(te,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(te,ae)),visibleRangeForPosition:(te,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(te,ae))),getLineWidth:te=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(te))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(te,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new R.Position(te,ae)))}}_applyLayout(){const ae=this._context.configuration.options.get(123);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const te=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(120)+" "+V.getThemeTypeSelector(this._context.theme.type)+te}handleEvents(te){super.handleEvents(te),this._scheduleRender()}onConfigurationChanged(te){return this._configPixelRatio=this._context.configuration.options.get(121),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(te){return this._selections=te.selections,!1}onFocusChanged(te){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(te){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const te of this._viewParts)te.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=C.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ee(()=>this._actualRender())}_getViewPartsToRender(){let te=[],ae=0;for(const Y of this._viewParts)Y.shouldRender()&&(te[ae++]=Y);return te}_actualRender(){if(!!C.isInDOM(this.domNode.domNode)){let te=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&te.length===0)){const ae=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const Y=new A.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(Y),this._viewLines.shouldRender()&&(this._viewLines.renderText(Y),this._viewLines.onDidRender(),te=this._getViewPartsToRender());const P=new D.RenderingContext(this._context.viewLayout,Y,this._viewLines);for(const x of te)x.prepareRender(P);for(const x of te)x.render(P),x.onDidRender();Math.abs(k.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}}}delegateVerticalScrollbarMouseDown(te){this._scrollbar.delegateVerticalScrollbarMouseDown(te)}restoreState(te){this._context.model.setScrollPosition({scrollTop:te.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:te.scrollLeft},1)}getOffsetForColumn(te,ae){const Y=this._context.model.validateModelPosition({lineNumber:te,column:ae}),P=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(Y);this._flushAccumulatedAndRenderNow();const x=this._viewLines.visibleRangeForPosition(new R.Position(P.lineNumber,P.column));return x?x.left:-1}getTargetAtClientPoint(te,ae){const Y=this._pointerHandler.getTargetAtClientPoint(te,ae);return Y?p.ViewUserInputEvents.convertViewToModelMouseTarget(Y,this._context.model.coordinatesConverter):null}createOverviewRuler(te){return new L.OverviewRuler(this._context,te)}change(te){this._viewZones.changeViewZones(te),this._scheduleRender()}render(te,ae){if(ae){this._viewLines.forceShouldRender();for(const Y of this._viewParts)Y.forceShouldRender()}te?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(te){this._textAreaHandler.setAriaOptions(te)}addContentWidget(te){this._contentWidgets.addWidget(te.widget),this.layoutContentWidget(te),this._scheduleRender()}layoutContentWidget(te){let ae=te.position&&te.position.range||null;if(ae===null){const P=te.position?te.position.position:null;P!==null&&(ae=new F.Range(P.lineNumber,P.column,P.lineNumber,P.column))}const Y=te.position?te.position.preference:null;this._contentWidgets.setWidgetPosition(te.widget,ae,Y),this._scheduleRender()}removeContentWidget(te){this._contentWidgets.removeWidget(te.widget),this._scheduleRender()}addOverlayWidget(te){this._overlayWidgets.addWidget(te.widget),this.layoutOverlayWidget(te),this._scheduleRender()}layoutOverlayWidget(te){const ae=te.position?te.position.preference:null;this._overlayWidgets.setWidgetPosition(te.widget,ae)&&this._scheduleRender()}removeOverlayWidget(te){this._overlayWidgets.removeWidget(te.widget),this._scheduleRender()}}e.View=j;function ee(re){try{return re()}catch(te){S.onUnexpectedError(te)}}}),define(Q[142],J([0,1,437,7,11,4,2,43,69,13,28,609,256,37,240,42,12,3,20,215,106,24,18,49,22,527,26,16,9,136,32,14,64,21,387,551,134,326]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O,R,F,D,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let A=0;class W{constructor(H,q,ie,ce,ue){this.model=H,this.viewModel=q,this.view=ie,this.hasRealView=ce,this.listenersToRemove=ue}dispose(){S.dispose(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let V=class dt extends S.Disposable{constructor(H,q,ie,ce,ue,Z,ne,$,X,de){super();this._onDidDispose=this._register(new y.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new y.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new y.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new y.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new K),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new K),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new y.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new y.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new y.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new y.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new y.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new y.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new y.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new y.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new y.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new y.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new y.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new y.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new y.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new y.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const fe=Object.assign({},q);this._domElement=H,this._overflowWidgetsDomNode=fe.overflowWidgetsDomNode,delete fe.overflowWidgetsDomNode,this._id=++A,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=ie.isSimpleWidget||!1,this._telemetryData=ie.telemetryData,this._configuration=this._register(this._createConfiguration(fe,de)),this._register(this._configuration.onDidChange(le=>{this._onDidChangeConfiguration.fire(le);const me=this._configuration.options;if(le.hasChanged(123)){const be=me.get(123);this._onDidLayoutChange.fire(be)}})),this._contextKeyService=this._register(ne.createScoped(this._domElement)),this._notificationService=X,this._codeEditorService=ue,this._commandService=Z,this._themeService=$,this._register(new j(this,this._contextKeyService)),this._register(new ee(this,this._contextKeyService)),this._instantiationService=ce.createChild(new N.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new re(H),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let se;Array.isArray(ie.contributions)?se=ie.contributions:se=f.EditorExtensionsRegistry.getEditorContributions();for(const le of se)try{const me=this._instantiationService.createInstance(le.ctor,this);this._contributions[le.id]=me}catch(me){M.onUnexpectedError(me)}f.EditorExtensionsRegistry.getEditorActions().forEach(le=>{const me=new i.InternalEditorAction(le.id,le.label,le.alias,R.withNullAsUndefined(le.precondition),()=>this._instantiationService.invokeFunction(be=>Promise.resolve(le.runEditorCommand(be,this,null))),this._contextKeyService);this._actions[me.id]=me}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(H,q){return new d.Configuration(this.isSimpleWidget,H,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return u.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const H=Object.keys(this._contributions);for(let q=0,ie=H.length;q<ie;q++){const ce=H[q];this._contributions[ce].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(H){return this._instantiationService.invokeFunction(H)}updateOptions(H){this._configuration.updateOptions(H)}getOptions(){return this._configuration.options}getOption(H){return this._configuration.options.get(H)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(H){return this._modelData?B.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(110),H):null}getValue(H=null){if(!this._modelData)return"";const q=!!(H&&H.preserveBOM);let ie=0;return H&&H.lineEnding&&H.lineEnding===`
`?ie=1:H&&H.lineEnding&&H.lineEnding===`\r
`&&(ie=2),this._modelData.model.getValue(ie,q)}setValue(H){!this._modelData||this._modelData.model.setValue(H)}getModel(){return this._modelData?this._modelData.model:null}setModel(H=null){const q=H;if(!(this._modelData===null&&q===null)&&!(this._modelData&&this._modelData.model===q)){const ie=this.hasTextFocus(),ce=this._detachModel();this._attachModel(q),ie&&this.hasModel()&&this.focus();const ue={oldModelUrl:ce?ce.uri:null,newModelUrl:q?q.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(ue),this._postDetachModelCleanup(ce)}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let H in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[H];for(let ie in q)this._removeDecorationType(H+"-"+ie)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(H,q,ie){const ce=H.model.validatePosition({lineNumber:q,column:ie}),ue=H.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);return H.viewModel.viewLayout.getVerticalOffsetForLineNumber(ue.lineNumber)}getTopForLineNumber(H){return this._modelData?dt._getVerticalOffsetForPosition(this._modelData,H,1):-1}getTopForPosition(H,q){return this._modelData?dt._getVerticalOffsetForPosition(this._modelData,H,q):-1}setHiddenAreas(H){this._modelData&&this._modelData.viewModel.setHiddenAreas(H.map(q=>t.Range.lift(q)))}getVisibleColumnFromPosition(H){if(!this._modelData)return H.column;const q=this._modelData.model.validatePosition(H),ie=this._modelData.model.getOptions().tabSize;return l.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,ie)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(H){if(!!this._modelData){if(!r.Position.isIPosition(H))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:H.lineNumber,selectionStartColumn:H.column,positionLineNumber:H.lineNumber,positionColumn:H.column}])}}_sendRevealRange(H,q,ie,ce){if(!!this._modelData){if(!t.Range.isIRange(H))throw new Error("Invalid arguments");const ue=this._modelData.model.validateRange(H),Z=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ue);this._modelData.viewModel.revealRange("api",ie,Z,q,ce)}}revealLine(H,q=0){this._revealLine(H,0,q)}revealLineInCenter(H,q=0){this._revealLine(H,1,q)}revealLineInCenterIfOutsideViewport(H,q=0){this._revealLine(H,2,q)}revealLineNearTop(H,q=0){this._revealLine(H,5,q)}_revealLine(H,q,ie){if(typeof H!="number")throw new Error("Invalid arguments");this._sendRevealRange(new t.Range(H,1,H,1),q,!1,ie)}revealPosition(H,q=0){this._revealPosition(H,0,!0,q)}revealPositionInCenter(H,q=0){this._revealPosition(H,1,!0,q)}revealPositionInCenterIfOutsideViewport(H,q=0){this._revealPosition(H,2,!0,q)}revealPositionNearTop(H,q=0){this._revealPosition(H,5,!0,q)}_revealPosition(H,q,ie,ce){if(!r.Position.isIPosition(H))throw new Error("Invalid arguments");this._sendRevealRange(new t.Range(H.lineNumber,H.column,H.lineNumber,H.column),q,ie,ce)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(H){const q=n.Selection.isISelection(H),ie=t.Range.isIRange(H);if(!q&&!ie)throw new Error("Invalid arguments");if(q)this._setSelectionImpl(H);else if(ie){const ce={selectionStartLineNumber:H.startLineNumber,selectionStartColumn:H.startColumn,positionLineNumber:H.endLineNumber,positionColumn:H.endColumn};this._setSelectionImpl(ce)}}_setSelectionImpl(H){if(!!this._modelData){const q=new n.Selection(H.selectionStartLineNumber,H.selectionStartColumn,H.positionLineNumber,H.positionColumn);this._modelData.viewModel.setSelections("api",[q])}}revealLines(H,q,ie=0){this._revealLines(H,q,0,ie)}revealLinesInCenter(H,q,ie=0){this._revealLines(H,q,1,ie)}revealLinesInCenterIfOutsideViewport(H,q,ie=0){this._revealLines(H,q,2,ie)}revealLinesNearTop(H,q,ie=0){this._revealLines(H,q,5,ie)}_revealLines(H,q,ie,ce){if(typeof H!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new t.Range(H,1,q,1),ie,!1,ce)}revealRange(H,q=0,ie=!1,ce=!0){this._revealRange(H,ie?1:0,ce,q)}revealRangeInCenter(H,q=0){this._revealRange(H,1,!0,q)}revealRangeInCenterIfOutsideViewport(H,q=0){this._revealRange(H,2,!0,q)}revealRangeNearTop(H,q=0){this._revealRange(H,5,!0,q)}revealRangeNearTopIfOutsideViewport(H,q=0){this._revealRange(H,6,!0,q)}revealRangeAtTop(H,q=0){this._revealRange(H,3,!0,q)}_revealRange(H,q,ie,ce){if(!t.Range.isIRange(H))throw new Error("Invalid arguments");this._sendRevealRange(t.Range.lift(H),q,ie,ce)}setSelections(H,q="api",ie=0){if(!!this._modelData){if(!H||H.length===0)throw new Error("Invalid arguments");for(let ce=0,ue=H.length;ce<ue;ce++)if(!n.Selection.isISelection(H[ce]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,H,ie)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(H,q=1){if(!!this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:H},q)}}setScrollTop(H,q=1){if(!!this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:H},q)}}setScrollPosition(H,q=1){!this._modelData||this._modelData.viewModel.setScrollPosition(H,q)}saveViewState(){if(!this._modelData)return null;const H={},q=Object.keys(this._contributions);for(const ue of q){const Z=this._contributions[ue];typeof Z.saveViewState=="function"&&(H[ue]=Z.saveViewState())}const ie=this._modelData.viewModel.saveCursorState(),ce=this._modelData.viewModel.saveState();return{cursorState:ie,viewState:ce,contributionsState:H}}restoreViewState(H){if(!(!this._modelData||!this._modelData.hasRealView)){const q=H;if(q&&q.cursorState&&q.viewState){const ie=q.cursorState;Array.isArray(ie)?this._modelData.viewModel.restoreCursorState(ie):this._modelData.viewModel.restoreCursorState([ie]);const ce=q.contributionsState||{},ue=Object.keys(this._contributions);for(let ne=0,$=ue.length;ne<$;ne++){const X=ue[ne],de=this._contributions[X];typeof de.restoreViewState=="function"&&de.restoreViewState(ce[X])}const Z=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(Z)}}}getContribution(H){return this._contributions[H]||null}getActions(){const H=[],q=Object.keys(this._actions);for(let ie=0,ce=q.length;ie<ce;ie++){const ue=q[ie];H.push(this._actions[ue])}return H}getSupportedActions(){let H=this.getActions();return H=H.filter(q=>q.isSupported()),H}getAction(H){return this._actions[H]||null}trigger(H,q,ie){switch(ie=ie||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(H);return;case"type":{const ue=ie;this._type(H,ue.text||"");return}case"replacePreviousChar":{const ue=ie;this._replacePreviousChar(H,ue.text||"",ue.replaceCharCnt||0);return}case"paste":{const ue=ie;this._paste(H,ue.text||"",ue.pasteOnNewLine||!1,ue.multicursorText||null,ue.mode||null);return}case"cut":this._cut(H);return}const ce=this.getAction(q);if(ce){Promise.resolve(ce.run()).then(void 0,M.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(H,q,ie)||this._commandService.executeCommand(q,ie)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(H){!this._modelData||(this._modelData.viewModel.endComposition(H),this._onDidCompositionEnd.fire())}_type(H,q){!this._modelData||q.length===0||(H==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,H),H==="keyboard"&&this._onDidType.fire(q))}_replacePreviousChar(H,q,ie){!this._modelData||this._modelData.viewModel.replacePreviousChar(q,ie,H)}_paste(H,q,ie,ce,ue){if(!(!this._modelData||q.length===0)){const Z=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(q,ie,ce,H);const ne=this._modelData.viewModel.getSelection().getStartPosition();H==="keyboard"&&this._onDidPaste.fire({range:new t.Range(Z.lineNumber,Z.column,ne.lineNumber,ne.column),mode:ue})}}_cut(H){!this._modelData||this._modelData.viewModel.cut(H)}_triggerEditorCommand(H,q,ie){const ce=f.EditorExtensionsRegistry.getEditorCommand(q);return ce?(ie=ie||{},ie.source=H,this._instantiationService.invokeFunction(ue=>{Promise.resolve(ce.runEditorCommand(ue,this,ie)).then(void 0,M.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(75)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(75)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(H,q,ie){if(!this._modelData||this._configuration.options.get(75))return!1;let ce;return ie?Array.isArray(ie)?ce=()=>ie:ce=ie:ce=()=>null,this._modelData.viewModel.executeEdits(H,q,ce),!0}executeCommand(H,q){!this._modelData||this._modelData.viewModel.executeCommand(q,H)}executeCommands(H,q){!this._modelData||this._modelData.viewModel.executeCommands(q,H)}changeDecorations(H){return this._modelData?this._modelData.model.changeDecorations(H,this._id):null}getLineDecorations(H){return this._modelData?this._modelData.model.getLineDecorations(H,this._id,a.filterValidationDecorations(this._configuration.options)):null}deltaDecorations(H,q){return this._modelData?H.length===0&&q.length===0?H:this._modelData.model.deltaDecorations(H,q,this._id):[]}removeDecorations(H){const q=this._decorationTypeKeysToIds[H];q&&this.deltaDecorations(q,[]),this._decorationTypeKeysToIds.hasOwnProperty(H)&&delete this._decorationTypeKeysToIds[H],this._decorationTypeSubtypes.hasOwnProperty(H)&&delete this._decorationTypeSubtypes[H]}getLayoutInfo(){return this._configuration.options.get(123)}createOverviewRuler(H){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(H)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(H)}layout(H){this._configuration.observeReferenceElement(H),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(H){const q={widget:H,position:H.getPosition()};this._contentWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[H.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(H){const q=H.getId();if(this._contentWidgets.hasOwnProperty(q)){const ie=this._contentWidgets[q];ie.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(ie)}}removeContentWidget(H){const q=H.getId();if(this._contentWidgets.hasOwnProperty(q)){const ie=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(ie)}}addOverlayWidget(H){const q={widget:H,position:H.getPosition()};this._overlayWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[H.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(H){const q=H.getId();if(this._overlayWidgets.hasOwnProperty(q)){const ie=this._overlayWidgets[q];ie.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(ie)}}removeOverlayWidget(H){const q=H.getId();if(this._overlayWidgets.hasOwnProperty(q)){const ie=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(ie)}}changeViewZones(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(H)}getTargetAtClientPoint(H,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(H,q)}getScrolledVisiblePosition(H){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(H),ie=this._configuration.options,ce=ie.get(123),ue=dt._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),Z=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+ce.glyphMarginWidth+ce.lineNumbersWidth+ce.decorationsWidth-this.getScrollLeft();return{top:ue,left:Z,height:ie.get(53)}}getOffsetForColumn(H,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(H,q)}render(H=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,H)}setAriaOptions(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(H)}applyFontInfo(H){d.Configuration.applyFontInfoSlow(H,this._configuration.options.get(38))}_attachModel(H){if(!H){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",H.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(H.isDominatedByLongLines()),this._configuration.setMaxLineNumber(H.getLineCount()),H.onBeforeAttached();const ie=new b.ViewModel(this._id,this._configuration,H,D.DOMLineBreaksComputerFactory.create(),F.MonospaceLineBreaksComputerFactory.create(this._configuration.options),Z=>k.scheduleAtNextAnimationFrame(Z));q.push(H.onDidChangeDecorations(Z=>this._onDidChangeModelDecorations.fire(Z))),q.push(H.onDidChangeLanguage(Z=>{this._domElement.setAttribute("data-mode-id",H.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(Z)})),q.push(H.onDidChangeLanguageConfiguration(Z=>this._onDidChangeModelLanguageConfiguration.fire(Z))),q.push(H.onDidChangeContent(Z=>this._onDidChangeModelContent.fire(Z))),q.push(H.onDidChangeOptions(Z=>this._onDidChangeModelOptions.fire(Z))),q.push(H.onWillDispose(()=>this.setModel(null))),q.push(ie.onEvent(Z=>{switch(Z.kind){case 0:this._onDidContentSizeChange.fire(Z);break;case 1:this._editorTextFocus.setValue(Z.hasFocus);break;case 2:this._onDidScrollChange.fire(Z);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{Z.reachedMaxCursorCount&&this._notificationService.warn(C.localize(0,null,s.Cursor.MAX_CURSOR_COUNT));const ne=[];for(let de=0,fe=Z.selections.length;de<fe;de++)ne[de]=Z.selections[de].getPosition();const $={position:ne[0],secondaryPositions:ne.slice(1),reason:Z.reason,source:Z.source};this._onDidChangeCursorPosition.fire($);const X={selection:Z.selections[0],secondarySelections:Z.selections.slice(1),modelVersionId:Z.modelVersionId,oldSelections:Z.oldSelections,oldModelVersionId:Z.oldModelVersionId,source:Z.source,reason:Z.reason};this._onDidChangeCursorSelection.fire(X);break}}}));const[ce,ue]=this._createView(ie);if(ue){this._domElement.appendChild(ce.domNode.domNode);let Z=Object.keys(this._contentWidgets);for(let ne=0,$=Z.length;ne<$;ne++){const X=Z[ne];ce.addContentWidget(this._contentWidgets[X])}Z=Object.keys(this._overlayWidgets);for(let ne=0,$=Z.length;ne<$;ne++){const X=Z[ne];ce.addOverlayWidget(this._overlayWidgets[X])}ce.render(!1,!0),ce.domNode.domNode.setAttribute("data-uri",H.uri.toString())}this._modelData=new W(H,ie,ce,ue,q)}_createView(H){let q;this.isSimpleWidget?q={paste:(ue,Z,ne,$)=>{this._paste("keyboard",ue,Z,ne,$)},type:ue=>{this._type("keyboard",ue)},replacePreviousChar:(ue,Z)=>{this._replacePreviousChar("keyboard",ue,Z)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(ue,Z,ne,$)=>{const X={text:ue,pasteOnNewLine:Z,multicursorText:ne,mode:$};this._commandService.executeCommand("paste",X)},type:ue=>{const Z={text:ue};this._commandService.executeCommand("type",Z)},replacePreviousChar:(ue,Z)=>{const ne={text:ue,replaceCharCnt:Z};this._commandService.executeCommand("replacePreviousChar",ne)},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const ie=new c.ViewUserInputEvents(H.coordinatesConverter);return ie.onKeyDown=ue=>this._onKeyDown.fire(ue),ie.onKeyUp=ue=>this._onKeyUp.fire(ue),ie.onContextMenu=ue=>this._onContextMenu.fire(ue),ie.onMouseMove=ue=>this._onMouseMove.fire(ue),ie.onMouseLeave=ue=>this._onMouseLeave.fire(ue),ie.onMouseDown=ue=>this._onMouseDown.fire(ue),ie.onMouseUp=ue=>this._onMouseUp.fire(ue),ie.onMouseDrag=ue=>this._onMouseDrag.fire(ue),ie.onMouseDrop=ue=>this._onMouseDrop.fire(ue),ie.onMouseDropCanceled=ue=>this._onMouseDropCanceled.fire(ue),ie.onMouseWheel=ue=>this._onMouseWheel.fire(ue),[new o.View(q,this._configuration,this._themeService,H,ie,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(H){H&&H.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const H=this._modelData.model,q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),q&&this._domElement.contains(q)&&this._domElement.removeChild(q),H}_removeDecorationType(H){this._codeEditorService.removeDecorationType(H)}hasModel(){return this._modelData!==null}};V=Me([pe(3,E.IInstantiationService),pe(4,p.ICodeEditorService),pe(5,w.ICommandService),pe(6,L.IContextKeyService),pe(7,T.IThemeService),pe(8,I.INotificationService),pe(9,O.IAccessibilityService)],V),e.CodeEditorWidget=V;class K extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new y.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(H){const q=H?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=K;class j extends S.Disposable{constructor(H,q){super();this._editor=H,q.createKey("editorId",H.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=h.EditorContextKeys.focus.bindTo(q),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(q),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=h.EditorContextKeys.canUndo.bindTo(q),this._canRedo=h.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const H=this._editor.getOptions();this._editorTabMovesFocus.set(H.get(122)),this._editorReadonly.set(H.get(75)),this._inDiffEditor.set(H.get(49)),this._editorColumnSelection.set(H.get(15))}_updateFromSelection(){const H=this._editor.getSelections();H?(this._hasMultipleSelections.set(H.length>1),this._hasNonEmptySelection.set(H.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const H=this._editor.getModel();this._canUndo.set(Boolean(H&&H.canUndo())),this._canRedo.set(Boolean(H&&H.canRedo()))}}class ee extends S.Disposable{constructor(H,q){super();this._editor=H,this._contextKeyService=q,this._langId=h.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(q);const ie=()=>this._update();this._register(H.onDidChangeModel(ie)),this._register(H.onDidChangeModelLanguage(ie)),this._register(v.CompletionProviderRegistry.onDidChange(ie)),this._register(v.CodeActionProviderRegistry.onDidChange(ie)),this._register(v.CodeLensProviderRegistry.onDidChange(ie)),this._register(v.DefinitionProviderRegistry.onDidChange(ie)),this._register(v.DeclarationProviderRegistry.onDidChange(ie)),this._register(v.ImplementationProviderRegistry.onDidChange(ie)),this._register(v.TypeDefinitionProviderRegistry.onDidChange(ie)),this._register(v.HoverProviderRegistry.onDidChange(ie)),this._register(v.DocumentHighlightProviderRegistry.onDidChange(ie)),this._register(v.DocumentSymbolProviderRegistry.onDidChange(ie)),this._register(v.ReferenceProviderRegistry.onDidChange(ie)),this._register(v.RenameProviderRegistry.onDidChange(ie)),this._register(v.DocumentFormattingEditProviderRegistry.onDidChange(ie)),this._register(v.DocumentRangeFormattingEditProviderRegistry.onDidChange(ie)),this._register(v.SignatureHelpProviderRegistry.onDidChange(ie)),ie()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const H=this._editor.getModel();if(!H){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(H.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(v.CompletionProviderRegistry.has(H)),this._hasCodeActionsProvider.set(v.CodeActionProviderRegistry.has(H)),this._hasCodeLensProvider.set(v.CodeLensProviderRegistry.has(H)),this._hasDefinitionProvider.set(v.DefinitionProviderRegistry.has(H)),this._hasDeclarationProvider.set(v.DeclarationProviderRegistry.has(H)),this._hasImplementationProvider.set(v.ImplementationProviderRegistry.has(H)),this._hasTypeDefinitionProvider.set(v.TypeDefinitionProviderRegistry.has(H)),this._hasHoverProvider.set(v.HoverProviderRegistry.has(H)),this._hasDocumentHighlightProvider.set(v.DocumentHighlightProviderRegistry.has(H)),this._hasDocumentSymbolProvider.set(v.DocumentSymbolProviderRegistry.has(H)),this._hasReferenceProvider.set(v.ReferenceProviderRegistry.has(H)),this._hasRenameProvider.set(v.RenameProviderRegistry.has(H)),this._hasSignatureHelpProvider.set(v.SignatureHelpProviderRegistry.has(H)),this._hasDocumentFormattingProvider.set(v.DocumentFormattingEditProviderRegistry.has(H)||v.DocumentRangeFormattingEditProviderRegistry.has(H)),this._hasDocumentSelectionFormattingProvider.set(v.DocumentRangeFormattingEditProviderRegistry.has(H)),this._hasMultipleDocumentFormattingProvider.set(v.DocumentFormattingEditProviderRegistry.all(H).length+v.DocumentRangeFormattingEditProviderRegistry.all(H).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(v.DocumentRangeFormattingEditProviderRegistry.all(H).length>1),this._isInWalkThrough.set(H.uri.scheme===_.Schemas.walkThroughSnippet)})}}e.EditorModeContext=ee;class re extends S.Disposable{constructor(H){super();this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(k.trackFocus(H)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const te=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Y(U){return te+encodeURIComponent(U.toString())+ae}const P=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),x=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function z(U){return P+encodeURIComponent(U.toString())+x}T.registerThemingParticipant((U,H)=>{const q=U.getColor(g.editorErrorBorder);q&&H.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${q}; }`);const ie=U.getColor(g.editorErrorForeground);ie&&H.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Y(ie)}") repeat-x bottom left; }`);const ce=U.getColor(g.editorErrorBackground);ce&&H.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${ce}; }`);const ue=U.getColor(g.editorWarningBorder);ue&&H.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${ue}; }`);const Z=U.getColor(g.editorWarningForeground);Z&&H.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Y(Z)}") repeat-x bottom left; }`);const ne=U.getColor(g.editorWarningBackground);ne&&H.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ne}; }`);const $=U.getColor(g.editorInfoBorder);$&&H.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${$}; }`);const X=U.getColor(g.editorInfoForeground);X&&H.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Y(X)}") repeat-x bottom left; }`);const de=U.getColor(g.editorInfoBackground);de&&H.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${de}; }`);const fe=U.getColor(g.editorHintBorder);fe&&H.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${fe}; }`);const se=U.getColor(g.editorHintForeground);se&&H.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${z(se)}") no-repeat bottom left; }`);const le=U.getColor(m.editorUnnecessaryCodeOpacity);le&&H.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${le.rgba.a}; }`);const me=U.getColor(m.editorUnnecessaryCodeBorder);me&&H.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const be=U.getColor(g.editorForeground)||"inherit";H.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${be}}`)})}),define(Q[143],J([0,1,39,28,142,26,16,9,32,14,64]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let o=class extends M.CodeEditorWidget{constructor(a,s,l,r,t,n,i,u,h,v){super(a,Object.assign(Object.assign({},l.getRawOptions()),{overflowWidgetsDomNode:l.getOverflowWidgetsDomNode()}),{},r,t,n,i,u,h,v);this._parentEditor=l,this._overwriteOptions=s,super.updateOptions(this._overwriteOptions),this._register(l.onDidChangeConfiguration(m=>this._onParentConfigurationChanged(m)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){C.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};o=Me([pe(3,_.IInstantiationService),pe(4,k.ICodeEditorService),pe(5,y.ICommandService),pe(6,S.IContextKeyService),pe(7,f.IThemeService),pe(8,d.INotificationService),pe(9,p.IAccessibilityService)],o),e.EmbeddedCodeEditorWidget=o}),define(Q[610],J([0,1,85,2,53,14,49,45,3,43,4,22]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function c(l){return l.toString()}class a extends k.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register(k.toDisposable(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let u=0;u<i.length;u++)this._markersData.set(i[u],r[u]);return n.length!==0||i.length!==0}getMarker(r){return this._markersData.get(r.id)}}let s=class extends k.Disposable{constructor(r,t){super();this._markerService=t,this._onDidChangeMarker=this._register(new p.Emitter),this._markerDecorations=new Map,r.getModels().forEach(n=>this._onModelAdded(n)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,t){const n=this._markerDecorations.get(c(r));return n&&n.getMarker(t)||null}_handleMarkerChange(r){r.forEach(t=>{const n=this._markerDecorations.get(c(t));n&&this._updateDecorations(n)})}_onModelAdded(r){const t=new a(r);this._markerDecorations.set(c(r.uri),t),this._updateDecorations(t)}_onModelRemoved(r){const t=this._markerDecorations.get(c(r.uri));t&&(t.dispose(),this._markerDecorations.delete(c(r.uri))),(r.uri.scheme===f.Schemas.inMemory||r.uri.scheme===f.Schemas.internal||r.uri.scheme===f.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[r.uri]))}_updateDecorations(r){const t=this._markerService.read({resource:r.model.uri,take:500});let n=t.map(i=>({range:this._createDecorationRange(r.model,i),options:this._createDecorationOption(i)}));r.update(t,n)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,t){let n=d.Range.lift(t);if(t.severity===C.MarkerSeverity.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=r.validateRange(n),n.isEmpty()){let i=r.getWordAtPosition(n.getStartPosition());if(i)n=new d.Range(n.startLineNumber,i.startColumn,n.endLineNumber,i.endColumn);else{let u=r.getLineLastNonWhitespaceColumn(n.startLineNumber)||r.getLineMaxColumn(n.startLineNumber);u===1||(n.endColumn>=u?n=new d.Range(n.startLineNumber,u-1,n.endLineNumber,u):n=new d.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&n.startLineNumber===n.endLineNumber){let i=r.getLineFirstNonWhitespaceColumn(t.startLineNumber);i<n.endColumn&&(n=new d.Range(n.startLineNumber,i,n.endLineNumber,n.endColumn),t.startColumn=i)}return n}_createDecorationOption(r){let t,n,i,u,h;switch(r.severity){case C.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?t=void 0:this._hasMarkerTag(r,1)?t="squiggly-unnecessary":t="squiggly-hint",i=0;break;case C.MarkerSeverity.Warning:t="squiggly-warning",n=y.themeColorFromId(S.overviewRulerWarning),i=20,h={color:y.themeColorFromId(o.minimapWarning),position:M.MinimapPosition.Inline};break;case C.MarkerSeverity.Info:t="squiggly-info",n=y.themeColorFromId(S.overviewRulerInfo),i=10;break;case C.MarkerSeverity.Error:default:t="squiggly-error",n=y.themeColorFromId(S.overviewRulerError),i=30,h={color:y.themeColorFromId(o.minimapError),position:M.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(u="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(u="squiggly-inline-deprecated")),{stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:n,position:M.OverviewRulerLane.Right},minimap:h,zIndex:i,inlineClassName:u}}_hasMarkerTag(r,t){return r.tags?r.tags.indexOf(t)>=0:!1}};s=Me([pe(0,_.IModelService),pe(1,C.IMarkerService)],s),e.MarkerDecorationsService=s}),define(Q[611],J([0,1,450,15,2,13,12,3,20,24,53,31,49,22,14,35,328]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=a.registerColor("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},C.localize(0,null));class t extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:C.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(v,m){let g=u.get(m);!g||g.jumpToBracket()}}class n extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:C.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(v,m,g){const b=u.get(m);if(!!b){let w=!0;g&&g.selectBrackets===!1&&(w=!1),b.selectToBracket(w)}}}class i{constructor(v,m,g){this.position=v,this.brackets=m,this.options=g}}class u extends M.Disposable{constructor(v){super();this._editor=v,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new k.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(58),this._updateBracketsSoon.schedule(),this._register(v.onDidChangeCursorPosition(m=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(v.onDidChangeModelContent(m=>{this._updateBracketsSoon.schedule()})),this._register(v.onDidChangeModel(m=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(v.onDidChangeModelLanguageConfiguration(m=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(v.onDidChangeConfiguration(m=>{m.hasChanged(58)&&(this._matchBrackets=this._editor.getOption(58),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(v){return v.getContribution(u.ID)}jumpToBracket(){if(!!this._editor.hasModel()){const v=this._editor.getModel(),m=this._editor.getSelections().map(g=>{const b=g.getStartPosition(),w=v.matchBracket(b);let L=null;if(w)w[0].containsPosition(b)?L=w[1].getStartPosition():w[1].containsPosition(b)&&(L=w[0].getStartPosition());else{const E=v.findEnclosingBrackets(b);if(E)L=E[0].getStartPosition();else{const N=v.findNextBracket(b);N&&N.range&&(L=N.range.getStartPosition())}}return L?new d.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new d.Selection(b.lineNumber,b.column,b.lineNumber,b.column)});this._editor.setSelections(m),this._editor.revealRange(m[0])}}selectToBracket(v){if(!!this._editor.hasModel()){const m=this._editor.getModel(),g=[];this._editor.getSelections().forEach(b=>{const w=b.getStartPosition();let L=m.matchBracket(w);if(!L&&(L=m.findEnclosingBrackets(w),!L)){const I=m.findNextBracket(w);I&&I.range&&(L=m.matchBracket(I.range.getStartPosition()))}let E=null,N=null;if(L){L.sort(_.Range.compareRangesUsingStarts);const[I,T]=L;E=v?I.getStartPosition():I.getEndPosition(),N=v?T.getEndPosition():T.getStartPosition()}E&&N&&g.push(new d.Selection(E.lineNumber,E.column,N.lineNumber,N.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}}_updateBrackets(){if(this._matchBrackets!=="never"){this._recomputeBrackets();let v=[],m=0;for(const g of this._lastBracketsData){let b=g.brackets;b&&(v[m++]={range:b[0],options:g.options},v[m++]={range:b[1],options:g.options})}this._decorations=this._editor.deltaDecorations(this._decorations,v)}}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const v=this._editor.getSelections();if(v.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getModel(),g=m.getVersionId();let b=[];this._lastVersionId===g&&(b=this._lastBracketsData);let w=[],L=0;for(let O=0,R=v.length;O<R;O++){let F=v[O];F.isEmpty()&&(w[L++]=F.getStartPosition())}w.length>1&&w.sort(S.Position.compare);let E=[],N=0,I=0,T=b.length;for(let O=0,R=w.length;O<R;O++){let F=w[O];for(;I<T&&b[I].position.isBefore(F);)I++;if(I<T&&b[I].position.equals(F))E[N++]=b[I];else{let D=m.matchBracket(F),B=u._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!D&&this._matchBrackets==="always"&&(D=m.findEnclosingBrackets(F,20),B=u._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[N++]=new i(F,D,B)}}this._lastBracketsData=E,this._lastVersionId=g}}e.BracketMatchingController=u,u.ID="editor.contrib.bracketMatchingController",u._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=o.ModelDecorationOptions.register({stickiness:1,className:"bracket-match",overviewRuler:{color:s.themeColorFromId(r),position:p.OverviewRulerLane.Center}}),u._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=o.ModelDecorationOptions.register({stickiness:1,className:"bracket-match"}),y.registerEditorContribution(u.ID,u),y.registerEditorAction(n),y.registerEditorAction(t),s.registerThemingParticipant((h,v)=>{const m=h.getColor(c.editorBracketMatchBackground);m&&v.addRule(`.monaco-editor .bracket-match { background-color: ${m}; }`);const g=h.getColor(c.editorBracketMatchBorder);g&&v.addRule(`.monaco-editor .bracket-match { border: 1px solid ${g}; }`)}),l.MenuRegistry.appendMenuItem(l.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:C.localize(3,null)},order:2})}),define(Q[612],J([0,1,7,89,4,2,31,455,36,14,22,59,27,329]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var a;(function(l){l.Hidden={type:0};class r{constructor(n,i,u,h){this.actions=n,this.trigger=i,this.editorPosition=u,this.widgetPosition=h,this.type=1}}l.Showing=r})(a||(a={}));let s=class Pt extends y.Disposable{constructor(r,t,n,i){super();this._editor=r,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=i,this._onClick=this._register(new M.Emitter),this.onClick=this._onClick.event,this._state=a.Hidden,this._domNode=document.createElement("div"),this._domNode.className=c.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(u=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),o.Gesture.ignoreTarget(this._domNode),this._register(C.addStandardDisposableGenericMouseDownListner(this._domNode,u=>{if(this.state.type===1){this._editor.focus(),u.preventDefault();const{top:h,height:v}=C.getDomNodePagePosition(this._domNode),m=this._editor.getOption(53);let g=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(g+=m),this._onClick.fire({x:u.posx,y:h+v+g,actions:this.state.actions,trigger:this.state.trigger})}})),this._register(C.addDisposableListener(this._domNode,"mouseenter",u=>{if((u.buttons&1)==1){this.hide();const h=new k.GlobalMouseMoveMonitor;h.startMonitoring(u.target,u.buttons,k.standardMouseMoveMerger,()=>{},()=>{h.dispose()})}})),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(51)&&!this._editor.getOption(51).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(r,t,n){if(r.validActions.length<=0)return this.hide();const i=this._editor.getOptions();if(!i.get(51).enabled)return this.hide();const u=this._editor.getModel();if(!u)return this.hide();const{lineNumber:h,column:v}=u.validatePosition(n),m=u.getOptions().tabSize,g=i.get(38),b=u.getLineContent(h),w=S.TextModel.computeIndentLevel(b,m),L=g.spaceWidth*w>22,E=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let N=h;if(!L){if(h>1&&!E(h-1))N-=1;else if(!E(h+1))N+=1;else if(v*g.spaceWidth<22)return this.hide()}this.state=new a.Showing(r,t,n,{position:{lineNumber:N,column:1},preference:Pt._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=a.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(r){this._state=r,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...c.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...c.Codicon.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=_.localize(0,null,t.getLabel());return}}this._domNode.classList.remove(...c.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...c.Codicon.lightBulb.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._quickFixActionId);r?this.title=_.localize(1,null,r.getLabel()):this.title=_.localize(2,null)}set title(r){this._domNode.title=r}};s._posPref=[0],s=Me([pe(3,d.IKeybindingService)],s),e.LightBulbWidget=s,f.registerThemingParticipant((l,r)=>{var t;const n=(t=l.getColor(p.editorBackground))===null||t===void 0?void 0:t.transparent(.7),i=l.getColor(p.editorLightBulbForeground);i&&r.addRule(`
		.monaco-editor .contentWidgets ${c.Codicon.lightBulb.cssSelector} {
			color: ${i};
			background-color: ${n};
		}`);const u=l.getColor(p.editorLightBulbAutoFixForeground);u&&r.addRule(`
		.monaco-editor .contentWidgets ${c.Codicon.lightbulbAutofix.cssSelector} {
			color: ${u};
			background-color: ${n};
		}`)})}),define(Q[613],J([0,1,7,3,31,49,22,14,103,330]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class f{constructor(s,l,r){this.afterLineNumber=s,this.heightInPx=l,this._onHeight=r,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(s){this._lastHeight===void 0?this._lastHeight=s:this._lastHeight!==s&&(this._lastHeight=s,this._onHeight())}}class p{constructor(s,l,r){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=s,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(r),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${l}`}withCommands(s,l){this._commands.clear();let r=[],t=!1;for(let n=0;n<s.length;n++){const i=s[n];if(!!i&&(t=!0,i.command)){const u=d.renderLabelWithIcons(i.command.title.trim());i.command.id?(r.push(C.$("a",{id:String(n)},...u)),this._commands.set(String(n),i.command)):r.push(C.$("span",void 0,...u)),n+1<s.length&&r.push(C.$("span",void 0,"\xA0|\xA0"))}}t?(C.reset(this._domNode,...r),this._isEmpty&&l&&this._domNode.classList.add("fadein"),this._isEmpty=!1):C.reset(this._domNode,C.$("span",void 0,"no commands"))}getCommand(s){return s.parentElement===this._domNode?this._commands.get(s.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(s){const l=this._editor.getModel().getLineFirstNonWhitespaceColumn(s);this._widgetPosition={position:{lineNumber:s,column:l},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class o{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(s,l){this._addDecorations.push(s),this._addDecorationsCallbacks.push(l)}removeDecoration(s){this._removeDecorations.push(s)}commit(s){let l=s.deltaDecorations(this._removeDecorations,this._addDecorations);for(let r=0,t=l.length;r<t;r++)this._addDecorationsCallbacks[r](l[r])}}e.CodeLensHelper=o;class c{constructor(s,l,r,t,n,i,u){this._isDisposed=!1,this._editor=l,this._className=r,this._data=s,this._decorationIds=[];let h,v=[];this._data.forEach((m,g)=>{m.symbol.command&&v.push(m.symbol),t.addDecoration({range:m.symbol.range,options:M.ModelDecorationOptions.EMPTY},b=>this._decorationIds[g]=b),h?h=k.Range.plusRange(h,m.symbol.range):h=k.Range.lift(m.symbol.range)}),this._viewZone=new f(h.startLineNumber-1,i,u),this._viewZoneId=n.addZone(this._viewZone),v.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(v,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(s,l){this._decorationIds.forEach(s.removeDecoration,s),this._decorationIds=[],l&&l.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((s,l)=>{const r=this._editor.getModel().getDecorationRange(s),t=this._data[l].symbol;return!!(r&&k.Range.isEmpty(t.range)===r.isEmpty())})}updateCodeLensSymbols(s,l){this._decorationIds.forEach(l.removeDecoration,l),this._decorationIds=[],this._data=s,this._data.forEach((r,t)=>{l.addDecoration({range:r.symbol.range,options:M.ModelDecorationOptions.EMPTY},n=>this._decorationIds[t]=n)})}updateHeight(s,l){this._viewZone.heightInPx=s,l.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(s){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let l=0;l<this._decorationIds.length;l++){const r=s.getDecorationRange(this._decorationIds[l]);r&&(this._data[l].symbol.range=r)}return this._data}updateCommands(s){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!0);for(let l=0;l<this._data.length;l++){const r=s[l];if(r){const{symbol:t}=this._data[l];t.command=r.command||t.command}}}getCommand(s){var l;return(l=this._contentWidget)===null||l===void 0?void 0:l.getCommand(s)}getLineNumber(){const s=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return s?s.startLineNumber:-1}update(s){if(this.isValid()){const l=this._editor.getModel().getDecorationRange(this._decorationIds[0]);l&&(this._viewZone.afterLineNumber=l.startLineNumber-1,s.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(l.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=c,_.registerThemingParticipant((a,s)=>{const l=a.getColor(y.editorCodeLensForeground);l&&(s.addRule(`.monaco-editor .codelens-decoration { color: ${l}; }`),s.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${l}; }`));const r=a.getColor(S.editorActiveLinkForeground);r&&(s.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${r} !important; }`),s.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${r} !important; }`))})}),define(Q[614],J([0,1,15,11,2,70,13,18,245,613,26,32,563,7,101,77,456,24,174]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let i=class{constructor(h,v,m,g){this._editor=h,this._commandService=v,this._notificationService=m,this._codeLensCache=g,this._disposables=new M.DisposableStore,this._localToDispose=new M.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new n.LanguageFeatureRequestDelays(_.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new M.DisposableStore,this._resolveCodeLensesDelays=new n.LanguageFeatureRequestDelays(_.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new C.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(38)||b.hasChanged(13)||b.hasChanged(12))&&this._updateLensStyle(),b.hasChanged(11)&&this._onModelChange()})),this._disposables.add(_.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+s.hash(this._editor.getId()).toString(16),this._styleElement=a.createStyleSheet(a.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(13),v;return!h||h<5?(h=this._editor.getOption(40)*.9|0,v=this._editor.getOption(53)):v=h*Math.max(1.3,this._editor.getOption(53)/this._editor.getOption(40))|0,{codeLensHeight:v,fontSize:h}}_updateLensStyle(){var h;const{codeLensHeight:v,fontSize:m}=this._getLayoutInfo(),g=this._editor.getOption(12),b=this._editor.getOption(38),w=`--codelens-font-family${this._styleClassName}`;let L=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${v}px; font-size: ${m}px; padding-right: ${Math.round(m*.5)}px; font-feature-settings: ${b.fontFeatureSettings} }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${v}px; font-size: ${m}px; }
		`;g&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${w})}`),this._styleElement.textContent=L,(h=this._editor.getDomNode())===null||h===void 0||h.style.setProperty(w,g!=null?g:"inherit"),this._editor.changeViewZones(E=>{for(let N of this._lenses)N.updateHeight(v,E)})}_localDispose(){var h,v,m;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(v=this._resolveCodeLensesPromise)===null||v===void 0||v.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!!h&&!!this._editor.getOption(11)){const v=this._codeLensCache.get(h);if(v&&this._renderCodeLensSymbols(v),!_.CodeLensProviderRegistry.has(h)){v&&this._localToDispose.add(C.disposableTimeout(()=>{const g=this._codeLensCache.get(h);v===g&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const g of _.CodeLensProviderRegistry.all(h))if(typeof g.onDidChange=="function"){let b=g.onDidChange(()=>m.schedule());this._localToDispose.add(b)}const m=new C.RunOnceScheduler(()=>{var g;const b=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=C.createCancelablePromise(w=>d.getCodeLensModel(h,w)),this._getCodeLensModelPromise.then(w=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=w,this._codeLensCache.put(h,w);const L=this._getCodeLensModelDelays.update(h,Date.now()-b);m.delay=L,this._renderCodeLensSymbols(w),this._resolveCodeLensesInViewport()},k.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(m),this._localToDispose.add(M.toDisposable(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(g=>{this._editor.changeViewZones(b=>{let w=[],L=-1;this._lenses.forEach(N=>{!N.isValid()||L===N.getLineNumber()?w.push(N):(N.update(b),L=N.getLineNumber())});let E=new f.CodeLensHelper;w.forEach(N=>{N.dispose(E,b),this._lenses.splice(this._lenses.indexOf(N),1)}),E.commit(g)})}),m.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{m.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(M.toDisposable(()=>{if(this._editor.getModel()){const g=y.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(b=>{this._editor.changeViewZones(w=>{this._disposeAllLenses(b,w)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type===9){let b=g.target.element;if((b==null?void 0:b.tagName)==="SPAN"&&(b=b.parentElement),(b==null?void 0:b.tagName)==="A")for(const w of this._lenses){let L=w.getCommand(b);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(E=>this._notificationService.error(E));break}}}})),m.schedule()}}_disposeAllLenses(h,v){const m=new f.CodeLensHelper;for(const g of this._lenses)g.dispose(m,v);h&&m.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!!this._editor.hasModel()){let v=this._editor.getModel().getLineCount(),m=[],g;for(let L of h.lenses){let E=L.symbol.range.startLineNumber;E<1||E>v||(g&&g[g.length-1].symbol.range.startLineNumber===E?g.push(L):(g=[L],m.push(g)))}const b=y.StableEditorScrollState.capture(this._editor),w=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(E=>{const N=new f.CodeLensHelper;let I=0,T=0;for(;T<m.length&&I<this._lenses.length;){let O=m[T][0].symbol.range.startLineNumber,R=this._lenses[I].getLineNumber();R<O?(this._lenses[I].dispose(N,E),this._lenses.splice(I,1)):R===O?(this._lenses[I].updateCodeLensSymbols(m[T],N),T++,I++):(this._lenses.splice(I,0,new f.CodeLensWidget(m[T],this._editor,this._styleClassName,N,E,w.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(N,E),this._lenses.splice(I,1);for(;T<m.length;)this._lenses.push(new f.CodeLensWidget(m[T],this._editor,this._styleClassName,N,E,w.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;N.commit(L)})}),b.restore(this._editor)}}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const v=this._editor.getModel();if(!!v){const m=[],g=[];if(this._lenses.forEach(L=>{const E=L.computeIfNecessary(v);E&&(m.push(E),g.push(L))}),m.length!==0){const b=Date.now(),w=C.createCancelablePromise(L=>{const E=m.map((N,I)=>{const T=new Array(N.length),O=N.map((R,F)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(v,R.symbol,L)).then(D=>{T[F]=D},k.onUnexpectedExternalError):(T[F]=R.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!L.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(T)})});return Promise.all(E)});this._resolveCodeLensesPromise=w,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDelays.update(v,Date.now()-b);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(v,this._currentCodeLensModel),this._oldCodeLensModels.clear(),w===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{k.onUnexpectedError(L),w===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}}}getLenses(){return this._lenses}};i.ID="css.editor.codeLens",i=Me([pe(1,p.ICommandService),pe(2,o.INotificationService),pe(3,c.ICodeLensCache)],i),e.CodeLensContribution=i,S.registerEditorContribution(i.ID,i),S.registerEditorAction(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:t.EditorContextKeys.hasCodeLensProvider,label:r.localize(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,v){return De(this,void 0,void 0,function*(){if(!!v.hasModel()){const m=h.get(l.IQuickInputService),g=h.get(p.ICommandService),b=h.get(o.INotificationService),w=v.getSelection().positionLineNumber,L=v.getContribution(i.ID),E=[];for(let I of L.getLenses())if(I.getLineNumber()===w)for(let T of I.getItems()){const{command:O}=T.symbol;O&&E.push({label:O.title,command:O})}if(E.length!==0){const N=yield m.pick(E,{canPickMany:!1});if(!!N)try{yield g.executeCommand(N.command.id,...N.command.arguments||[])}catch(I){b.error(I)}}}})}})}),define(Q[615],J([0,1,34,7,89,52,29,4,2,22,14,331]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const o=k.$;class c extends d.Disposable{constructor(u,h,v){super();this.model=h,this.domNode=o(".colorpicker-header"),k.append(u,this.domNode),this.pickedColorNode=k.append(this.domNode,o(".picked-color"));const m=k.append(this.domNode,o(".original-color"));m.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=v.getColorTheme().getColor(f.editorHoverBackground)||S.Color.white,this._register(p.registerThemingParticipant((g,b)=>{this.backgroundColor=g.getColor(f.editorHoverBackground)||S.Color.white})),this._register(k.addDisposableListener(this.pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(m,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(u){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(u)||"",this.pickedColorNode.classList.toggle("light",u.rgba.a<.5?this.backgroundColor.isLighter():u.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=c;class a extends d.Disposable{constructor(u,h,v){super();this.model=h,this.pixelRatio=v,this.domNode=o(".colorpicker-body"),k.append(u,this.domNode),this.saturationBox=new s(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new r(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new t(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:u,v:h}){const v=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(v.h,u,h,v.a))}onDidOpacityChange(u){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,u))}onDidHueChange(u){const h=this.model.color.hsva,v=(1-u)*360;this.model.color=new S.Color(new S.HSVA(v===360?0:v,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=a;class s extends d.Disposable{constructor(u,h,v){super();this.model=h,this.pixelRatio=v,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=o(".saturation-wrap"),k.append(u,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",k.append(this.domNode,this.canvas),this.selection=o(".saturation-selection"),k.append(this.domNode,this.selection),this.layout(),this._register(k.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(u){this.monitor=this._register(new M.GlobalMouseMoveMonitor);const h=k.getDomNodePagePosition(this.domNode);u.target!==this.selection&&this.onDidChangePosition(u.offsetX,u.offsetY),this.monitor.startMonitoring(u.target,u.buttons,M.standardMouseMoveMerger,m=>this.onDidChangePosition(m.posx-h.left,m.posy-h.top),()=>null);const v=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),v.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(u,h){const v=Math.max(0,Math.min(1,u/this.width)),m=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(v,m),this._onDidChange.fire({s:v,v:m})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const u=this.model.color.hsva;this.paintSelection(u.s,u.v)}paint(){const u=this.model.color.hsva,h=new S.Color(new S.HSVA(u.h,1,1,1)),v=this.canvas.getContext("2d"),m=v.createLinearGradient(0,0,this.canvas.width,0);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),m.addColorStop(1,"rgba(255, 255, 255, 0)");const g=v.createLinearGradient(0,0,0,this.canvas.height);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, 1)"),v.rect(0,0,this.canvas.width,this.canvas.height),v.fillStyle=S.Color.Format.CSS.format(h),v.fill(),v.fillStyle=m,v.fill(),v.fillStyle=g,v.fill()}paintSelection(u,h){this.selection.style.left=`${u*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class l extends d.Disposable{constructor(u,h){super();this.model=h,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=k.append(u,o(".strip")),this.overlay=k.append(this.domNode,o(".overlay")),this.slider=k.append(this.domNode,o(".slider")),this.slider.style.top="0px",this._register(k.addDisposableGenericMouseDownListner(this.domNode,v=>this.onMouseDown(v))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const u=this.getValue(this.model.color);this.updateSliderPosition(u)}onMouseDown(u){const h=this._register(new M.GlobalMouseMoveMonitor),v=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),u.target!==this.slider&&this.onDidChangeTop(u.offsetY),h.startMonitoring(u.target,u.buttons,M.standardMouseMoveMerger,g=>this.onDidChangeTop(g.posy-v.top),()=>null);const m=k.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(u){const h=Math.max(0,Math.min(1,1-u/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(u){this.slider.style.top=`${(1-u)*this.height}px`}}class r extends l{constructor(u,h){super(u,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(u){const{r:h,g:v,b:m}=u.rgba,g=new S.Color(new S.RGBA(h,v,m,1)),b=new S.Color(new S.RGBA(h,v,m,0));this.overlay.style.background=`linear-gradient(to bottom, ${g} 0%, ${b} 100%)`}getValue(u){return u.hsva.a}}class t extends l{constructor(u,h){super(u,h);this.domNode.classList.add("hue-strip")}getValue(u){return 1-u.hsva.h/360}}class n extends y.Widget{constructor(u,h,v,m){super();this.model=h,this.pixelRatio=v,this._register(C.onDidChangeZoomLevel(()=>this.layout()));const g=o(".colorpicker-widget");u.appendChild(g);const b=new c(g,this.model,m);this.body=new a(g,this.model,this.pixelRatio),this._register(b),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=n}),define(Q[616],J([0,1,3,53,31,22,14]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class _{constructor(f){this._editor=f,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const f=this._findScopeDecorationIds.map(p=>this._editor.getModel().getDecorationRange(p)).filter(p=>!!p);if(f.length)return f}return null}getStartPosition(){return this._startPosition}setStartPosition(f){this._startPosition=f,this.setCurrentFindMatch(null)}_getDecorationIndex(f){const p=this._decorations.indexOf(f);return p>=0?p+1:1}getCurrentMatchesPosition(f){let p=this._editor.getModel().getDecorationsInRange(f);for(const o of p){const c=o.options;if(c===_._FIND_MATCH_DECORATION||c===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(f){let p=null,o=0;if(f)for(let c=0,a=this._decorations.length;c<a;c++){let s=this._editor.getModel().getDecorationRange(this._decorations[c]);if(f.equalsRange(s)){p=this._decorations[c],o=c+1;break}}return(this._highlightedDecorationId!==null||p!==null)&&this._editor.changeDecorations(c=>{if(this._highlightedDecorationId!==null&&(c.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),p!==null&&(this._highlightedDecorationId=p,c.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(c.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),p!==null){let a=this._editor.getModel().getDecorationRange(p);if(a.startLineNumber!==a.endLineNumber&&a.endColumn===1){let s=a.endLineNumber-1,l=this._editor.getModel().getLineMaxColumn(s);a=new C.Range(a.startLineNumber,a.startColumn,s,l)}this._rangeHighlightDecorationId=c.addDecoration(a,_._RANGE_HIGHLIGHT_DECORATION)}}),o}set(f,p){this._editor.changeDecorations(o=>{let c=_._FIND_MATCH_DECORATION,a=[];if(f.length>1e3){c=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const l=this._editor.getModel().getLineCount(),t=this._editor.getLayoutInfo().height/l,n=Math.max(2,Math.ceil(3/t));let i=f[0].range.startLineNumber,u=f[0].range.endLineNumber;for(let h=1,v=f.length;h<v;h++){const m=f[h].range;u+n>=m.startLineNumber?m.endLineNumber>u&&(u=m.endLineNumber):(a.push({range:new C.Range(i,1,u,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),i=m.startLineNumber,u=m.endLineNumber)}a.push({range:new C.Range(i,1,u,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(f.length);for(let l=0,r=f.length;l<r;l++)s[l]={range:f[l].range,options:c};this._decorations=o.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,a),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(l=>o.removeDecoration(l)),this._findScopeDecorationIds=[]),(p==null?void 0:p.length)&&(this._findScopeDecorationIds=p.map(l=>o.addDecoration(l,_._FIND_SCOPE_DECORATION)))})}matchBeforePosition(f){if(this._decorations.length===0)return null;for(let p=this._decorations.length-1;p>=0;p--){let o=this._decorations[p],c=this._editor.getModel().getDecorationRange(o);if(!(!c||c.endLineNumber>f.lineNumber)){if(c.endLineNumber<f.lineNumber)return c;if(!(c.endColumn>f.column))return c}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(f){if(this._decorations.length===0)return null;for(let p=0,o=this._decorations.length;p<o;p++){let c=this._decorations[p],a=this._editor.getModel().getDecorationRange(c);if(!(!a||a.startLineNumber<f.lineNumber)){if(a.startLineNumber>f.lineNumber)return a;if(!(a.startColumn<f.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let f=[];return f=f.concat(this._decorations),f=f.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&f.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&f.push(this._rangeHighlightDecorationId),f}}e.FindDecorations=_,_._CURRENT_FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(y.minimapFindMatch),position:k.MinimapPosition.Inline}}),_._FIND_MATCH_DECORATION=M.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(y.minimapFindMatch),position:k.MinimapPosition.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=M.ModelDecorationOptions.register({stickiness:1,overviewRuler:{color:S.themeColorFromId(y.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),_._RANGE_HIGHLIGHT_DECORATION=M.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=M.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0})}),define(Q[144],J([0,1,15,2,91,12,3,20,162,616,393,394,16,19]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new c.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new c.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new c.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const s=240;class l{constructor(t,n){this._toDispose=new k.DisposableStore,this._editor=t,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new C.TimeoutTimer,this._decorations=new f.FindDecorations(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new C.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,k.dispose(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||!this._editor.hasModel()||(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},s)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,n){return n||t.getFullModelRange()}research(t,n){let i=null;typeof n!="undefined"?n!==null&&(Array.isArray(n)?i=n:i=[n]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(m=>{if(m.startLineNumber!==m.endLineNumber){let g=m.endLineNumber;return m.endColumn===1&&(g=g-1),new S.Range(m.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return m}));let u=this._findMatches(i,!1,e.MATCHES_LIMIT);this._decorations.set(u,i);const h=this._editor.getSelection();let v=this._decorations.getCurrentMatchesPosition(h);if(v===0&&u.length>0){const m=a.findFirstInSorted(u.map(g=>g.range),g=>S.Range.compareRangesUsingStarts(g,h)>=0);v=m>0?m-1+1:v}this._state.changeMatchInfo(v,this._decorations.getCount(),void 0),t&&this._editor.getOption(31).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let n=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(n,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:u}=t,h=this._editor.getModel();return n||u===1?(i===1?i=h.getLineCount():i--,u=h.getLineMaxColumn(i)):u--,new y.Position(i,u)}_moveToPrevMatch(t,n=!1){if(!this._state.canNavigateBack()){const w=this._decorations.matchAfterPosition(t);w&&this._setCurrentFindMatch(w);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let w=this._decorations.matchBeforePosition(t);w&&w.isEmpty()&&w.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),w=this._decorations.matchBeforePosition(t)),w&&this._setCurrentFindMatch(w);return}if(!this._cannotFind()){let i=this._decorations.getFindScope(),u=l._getSearchRange(this._editor.getModel(),i);u.getEndPosition().isBefore(t)&&(t=u.getEndPosition()),t.isBefore(u.getStartPosition())&&(t=u.getEndPosition());let{lineNumber:h,column:v}=t,m=this._editor.getModel(),g=new y.Position(h,v),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,!1);if(b&&b.range.isEmpty()&&b.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,!1)),!!b){if(!n&&!u.containsRange(b.range))return this._moveToPrevMatch(b.range.getStartPosition(),!0);this._setCurrentFindMatch(b.range)}}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:u}=t,h=this._editor.getModel();return n||u===h.getLineMaxColumn(i)?(i===h.getLineCount()?i=1:i++,u=1):u++,new y.Position(i,u)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(t);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let i=this._decorations.matchAfterPosition(t);i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),i=this._decorations.matchAfterPosition(t)),i&&this._setCurrentFindMatch(i);return}let n=this._getNextMatch(t,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(t,n,i,u=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),v=l._getSearchRange(this._editor.getModel(),h);v.getEndPosition().isBefore(t)&&(t=v.getStartPosition()),t.isBefore(v.getStartPosition())&&(t=v.getStartPosition());let{lineNumber:m,column:g}=t,b=this._editor.getModel(),w=new y.Position(m,g),L=b.findNextMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n);return i&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(w)&&(w=this._nextSearchPosition(w),L=b.findNextMatch(this._state.searchString,w,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n)),L?!u&&!v.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),n,i,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?o.parseReplaceString(this._state.replaceString):o.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!!this._hasMatches()){let t=this._getReplacePattern(),n=this._editor.getSelection(),i=this._getNextMatch(n.getStartPosition(),!0,!1);if(i)if(n.equalsRange(i.range)){let u=t.buildReplaceString(i.matches,this._state.preserveCase),h=new M.ReplaceCommand(n,u);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new y.Position(n.startLineNumber,n.startColumn+u.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}}_findMatches(t,n,i){const u=(t||[null]).map(h=>l._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n,i)}replaceAll(){if(!!this._hasMatches()){const t=this._decorations.getFindScopes();t===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}}_largeReplaceAll(){const n=new d.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null).parseSearchRequest();if(!!n){let i=n.regex;if(!i.multiline){let L="mu";i.ignoreCase&&(L+="i"),i.global&&(L+="g"),i=new RegExp(i.source,L)}const u=this._editor.getModel(),h=u.getValue(1),v=u.getFullModelRange(),m=this._getReplacePattern();let g;const b=this._state.preserveCase;m.hasReplacementPatterns||b?g=h.replace(i,function(){return m.buildReplaceString(arguments,b)}):g=h.replace(i,m.buildReplaceString(null,b));let w=new M.ReplaceCommandThatPreservesSelection(v,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",w)}}_regularReplaceAll(t){const n=this._getReplacePattern();let i=this._findMatches(t,n.hasReplacementPatterns||this._state.preserveCase,1073741824),u=[];for(let v=0,m=i.length;v<m;v++)u[v]=n.buildReplaceString(i[v].matches,this._state.preserveCase);let h=new p.ReplaceAllCommand(this._editor.getSelection(),i.map(v=>v.range),u);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!!this._hasMatches()){let t=this._decorations.getFindScopes(),i=this._findMatches(t,!1,1073741824).map(h=>new _.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),u=this._editor.getSelection();for(let h=0,v=i.length;h<v;h++)if(i[h].equalsRange(u)){i=[u].concat(i.slice(0,h)).concat(i.slice(h+1));break}this._editor.setSelections(i)}}_executeEditorCommand(t,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=l}),define(Q[617],J([0,1,7,231,52,15,144,22,14]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class f extends M.Widget{constructor(o,c,a,s){super();this._hideSoon=this._register(new y.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=o,this._state=c,this._keybindingService=a,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const l=s.getColorTheme().getColor(_.inputActiveOptionBorder),r=s.getColorTheme().getColor(_.inputActiveOptionForeground),t=s.getColorTheme().getColor(_.inputActiveOptionBackground);this.caseSensitive=this._register(new k.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:l,inputActiveOptionForeground:r,inputActiveOptionBackground:t})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:l,inputActiveOptionForeground:r,inputActiveOptionBackground:t})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:l,inputActiveOptionForeground:r,inputActiveOptionBackground:t})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(n=>{let i=!1;n.isRegex&&(this.regex.checked=this._state.isRegex,i=!0),n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,i=!0),n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,i=!0),!this._state.isRevealed&&i&&this._revealTemporarily()})),this._register(C.addDisposableNonBubblingMouseOutListener(this._domNode,n=>this._onMouseOut())),this._register(C.addDisposableListener(this._domNode,"mouseover",n=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(o){let c=this._keybindingService.lookupKeybinding(o);return c?` (${c.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return f.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(o){let c={inputActiveOptionBorder:o.getColor(_.inputActiveOptionBorder),inputActiveOptionForeground:o.getColor(_.inputActiveOptionForeground),inputActiveOptionBackground:o.getColor(_.inputActiveOptionBackground)};this.caseSensitive.style(c),this.wholeWords.style(c),this.regex.style(c)}}e.FindOptionsWidget=f,f.ID="editor.contrib.findOptionsWidget",d.registerThemingParticipant((p,o)=>{const c=p.getColor(_.editorWidgetBackground);c&&o.addRule(`.monaco-editor .findOptionsWidget { background-color: ${c}; }`);const a=p.getColor(_.editorWidgetForeground);a&&o.addRule(`.monaco-editor .findOptionsWidget { color: ${a}; }`);const s=p.getColor(_.widgetShadow);s&&o.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const l=p.getColor(_.contrastBorder);l&&o.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${l}; }`)})}),define(Q[618],J([0,1,4,2,3,144]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(d,f){return d===1?!0:d===2?!1:f}class _ extends k.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new C.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(f,p,o){let c={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},a=!1;p===0&&(f=0),f>p&&(f=p),this._matchesPosition!==f&&(this._matchesPosition=f,c.matchesPosition=!0,a=!0),this._matchesCount!==p&&(this._matchesCount=p,c.matchesCount=!0,a=!0),typeof o!="undefined"&&(M.Range.equalsRange(this._currentMatch,o)||(this._currentMatch=o,c.currentMatch=!0,a=!0)),a&&this._onFindReplaceStateChange.fire(c)}change(f,p,o=!0){var c;let a={moveCursor:p,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;const l=this.isRegex,r=this.wholeWord,t=this.matchCase,n=this.preserveCase;typeof f.searchString!="undefined"&&this._searchString!==f.searchString&&(this._searchString=f.searchString,a.searchString=!0,s=!0),typeof f.replaceString!="undefined"&&this._replaceString!==f.replaceString&&(this._replaceString=f.replaceString,a.replaceString=!0,s=!0),typeof f.isRevealed!="undefined"&&this._isRevealed!==f.isRevealed&&(this._isRevealed=f.isRevealed,a.isRevealed=!0,s=!0),typeof f.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==f.isReplaceRevealed&&(this._isReplaceRevealed=f.isReplaceRevealed,a.isReplaceRevealed=!0,s=!0),typeof f.isRegex!="undefined"&&(this._isRegex=f.isRegex),typeof f.wholeWord!="undefined"&&(this._wholeWord=f.wholeWord),typeof f.matchCase!="undefined"&&(this._matchCase=f.matchCase),typeof f.preserveCase!="undefined"&&(this._preserveCase=f.preserveCase),typeof f.searchScope!="undefined"&&(((c=f.searchScope)===null||c===void 0?void 0:c.every(i=>{var u;return(u=this._searchScope)===null||u===void 0?void 0:u.some(h=>!M.Range.equalsRange(h,i))}))||(this._searchScope=f.searchScope,a.searchScope=!0,s=!0)),typeof f.loop!="undefined"&&this._loop!==f.loop&&(this._loop=f.loop,a.loop=!0,s=!0),this._isRegexOverride=typeof f.isRegexOverride!="undefined"?f.isRegexOverride:0,this._wholeWordOverride=typeof f.wholeWordOverride!="undefined"?f.wholeWordOverride:0,this._matchCaseOverride=typeof f.matchCaseOverride!="undefined"?f.matchCaseOverride:0,this._preserveCaseOverride=typeof f.preserveCaseOverride!="undefined"?f.preserveCaseOverride:0,l!==this.isRegex&&(s=!0,a.isRegex=!0),r!==this.wholeWord&&(s=!0,a.wholeWord=!0),t!==this.matchCase&&(s=!0,a.matchCase=!0),n!==this.preserveCase&&(s=!0,a.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(a)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=y.MATCHES_LIMIT}}e.FindReplaceState=_}),define(Q[619],J([0,1,131,75,171,203,137,14,115,7,472,155,40,2,9,36,66,153]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let n=class{constructor(E){this._resolverService=E}hasChildren(E){return E instanceof C.ReferencesModel||E instanceof C.FileReferences}getChildren(E){if(E instanceof C.ReferencesModel)return E.groups;if(E instanceof C.FileReferences)return E.resolve(this._resolverService).then(N=>N.children);throw new Error("bad tree")}};n=Me([pe(0,k.ITextModelService)],n),e.DataSource=n;class i{getHeight(){return 23}getTemplateId(E){return E instanceof C.FileReferences?m.id:b.id}}e.Delegate=i;let u=class{constructor(E){this._keybindingService=E}getKeyboardNavigationLabel(E){var N;if(E instanceof C.OneReference){const I=(N=E.parent.getPreview(E))===null||N===void 0?void 0:N.preview(E.range);if(I)return I.value}return c.basename(E.uri)}};u=Me([pe(0,l.IKeybindingService)],u),e.StringRepresentationProvider=u;class h{getId(E){return E instanceof C.OneReference?E.id:E.uri}}e.IdentityProvider=h;let v=class extends a.Disposable{constructor(E,N,I){super();this._uriLabel=N;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new M.IconLabel(T,{supportHighlights:!0})),this.badge=new y.CountBadge(f.append(T,f.$(".count"))),this._register(d.attachBadgeStyler(this.badge,I)),E.appendChild(T)}set(E,N){let I=c.dirname(E.uri);this.file.setLabel(o.getBaseLabel(E.uri),this._uriLabel.getUriLabel(I,{relative:!0}),{title:this._uriLabel.getUriLabel(E.uri),matches:N});const T=E.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat(p.localize(0,null,T)):this.badge.setTitleFormat(p.localize(1,null,T))}};v=Me([pe(1,S.ILabelService),pe(2,_.IThemeService)],v);let m=class Ot{constructor(E){this._instantiationService=E,this.templateId=Ot.id}renderTemplate(E){return this._instantiationService.createInstance(v,E)}renderElement(E,N,I){I.set(E.element,r.createMatches(E.filterData))}disposeTemplate(E){E.dispose()}};m.id="FileReferencesRenderer",m=Me([pe(0,s.IInstantiationService)],m),e.FileReferencesRenderer=m;class g{constructor(E){this.label=new t.HighlightedLabel(E,!1)}set(E,N){var I;const T=(I=E.parent.getPreview(E))===null||I===void 0?void 0:I.preview(E.range);if(!T||!T.value)this.label.set(`${c.basename(E.uri)}:${E.range.startLineNumber+1}:${E.range.startColumn+1}`);else{const{value:O,highlight:R}=T;N&&!r.FuzzyScore.isDefault(N)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(O,r.createMatches(N))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(O,[R]))}}}class b{constructor(){this.templateId=b.id}renderTemplate(E){return new g(E)}renderElement(E,N,I){I.set(E.element,E.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=b,b.id="OneReferenceRenderer";class w{getWidgetAriaLabel(){return p.localize(2,null)}getAriaLabel(E){return E.ariaMessage}}e.AccessibilityProvider=w}),define(Q[620],J([0,1,479,3,20,24,13,73,399,70,14,49,31,15,11]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let l=class mt{constructor(i,u){this.decorationIds=[],this.editor=i,this.editorWorkerService=u}static get(i){return i.getContribution(mt.ID)}dispose(){}run(i,u){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),v=this.editor.getModel();if(!(!v||!h)){let m=h;if(m.startLineNumber===m.endLineNumber){const g=new f.EditorState(this.editor,1|4),b=v.uri;return this.editorWorkerService.canNavigateValueSet(b)?(this.currentRequest=a.createCancelablePromise(w=>this.editorWorkerService.navigateValueSet(b,m,u)),this.currentRequest.then(w=>{if(!(!w||!w.range||!w.value)&&!!g.validate(this.editor)){let L=k.Range.lift(w.range),E=w.range,N=w.value.length-(m.endColumn-m.startColumn);E={startLineNumber:E.startLineNumber,startColumn:E.startColumn,endLineNumber:E.endLineNumber,endColumn:E.startColumn+w.value.length},N>1&&(m=new M.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn+N-1));const I=new d.InPlaceReplaceCommand(L,m,w.value);this.editor.pushUndoStop(),this.editor.executeCommand(i,I),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:E,options:mt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=a.timeout(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(s.onUnexpectedError)}}).catch(s.onUnexpectedError)):Promise.resolve(void 0)}}}};l.ID="editor.contrib.inPlaceReplaceController",l.DECORATION=c.ModelDecorationOptions.register({className:"valueSetReplacement"}),l=Me([pe(1,_.IEditorWorkerService)],l);class r extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:C.localize(0,null),alias:"Replace with Previous Value",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(i,u){const h=l.get(u);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class t extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:C.localize(1,null),alias:"Replace with Next Value",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(i,u){const h=l.get(u);return h?h.run(this.id,!1):Promise.resolve(void 0)}}S.registerEditorContribution(l.ID,l),S.registerEditorAction(r),S.registerEditorAction(t),p.registerThemingParticipant((n,i)=>{const u=n.getColor(o.editorBracketMatchBorder);u&&i.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${u}; }`)})}),define(Q[621],J([0,1,482,13,19,2,12,25,3,18,15,31,16,24,23,28,11,8,22,14,29,41]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new c.RawContextKey("LinkedEditingInputVisible",!1);const v="linked-editing-decoration";let m=class pt extends y.Disposable{constructor(E,N){super();this._debounceDuration=200,this._localToDispose=this._register(new y.DisposableStore),this._editor=E,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(N),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new y.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(56)||I.hasChanged(76))&&this.reinitialize()})),this._register(f.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(E){return E.getContribution(pt.ID)}reinitialize(){const E=this._editor.getModel(),N=E!==null&&(this._editor.getOption(56)||this._editor.getOption(76))&&f.LinkedEditingRangeProviderRegistry.has(E);if(N!==this._enabled&&(this._enabled=N,this.clearRanges(),this._localToDispose.clear(),!(!N||E===null))){this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(E.getLanguageIdentifier().id),this._localToDispose.add(E.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(E.getLanguageIdentifier().id)}));const I=new p.Delayer(this._debounceDuration),T=()=>{this._rangeUpdateTriggerPromise=I.trigger(()=>this.updateRanges(),this._debounceDuration)},O=new p.Delayer(0),R=F=>{this._rangeSyncTriggerPromise=O.trigger(()=>this._syncRanges(F))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{T()})),this._localToDispose.add(this._editor.onDidChangeModelContent(F=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const D=E.getDecorationRange(this._currentDecorations[0]);if(D&&F.changes.every(B=>D.intersectRanges(B.range))){R(this._currentDecorations);return}}T()})),this._localToDispose.add({dispose:()=>{I.cancel(),O.cancel()}}),this.updateRanges()}}_syncRanges(E){if(!(!this._editor.hasModel()||E!==this._currentDecorations||E.length===0)){const N=this._editor.getModel(),I=N.getDecorationRange(E[0]);if(!I||I.startLineNumber!==I.endLineNumber)return this.clearRanges();const T=N.getValueInRange(I);if(this._currentWordPattern){const R=T.match(this._currentWordPattern);if((R?R[0].length:0)!==T.length)return this.clearRanges()}let O=[];for(let R=1,F=E.length;R<F;R++){const D=N.getDecorationRange(E[R]);if(!!D)if(D.startLineNumber!==D.endLineNumber)O.push({range:D,text:T});else{let B=N.getValueInRange(D),A=T,W=D.startColumn,V=D.endColumn;const K=t.commonPrefixLength(B,A);W+=K,B=B.substr(K),A=A.substr(K);const j=t.commonSuffixLength(B,A);V-=j,B=B.substr(0,B.length-j),A=A.substr(0,A.length-j),(W!==V||A.length!==0)&&O.push({range:new d.Range(D.startLineNumber,W,D.endLineNumber,V),text:A})}}if(O.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const R=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",O),this._editor._getViewModel().setPrevEditOperationType(R)}finally{this._ignoreChangeEvent=!1}}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(E=!1){return De(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const N=this._editor.getPosition();if(!this._enabled&&!E||this._editor.getSelections().length>1){this.clearRanges();return}const I=this._editor.getModel(),T=I.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===T){if(N.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const R=I.getDecorationRange(this._currentDecorations[0]);if(R&&R.containsPosition(N))return}}this._currentRequestPosition=N,this._currentRequestModelVersion=T;const O=p.createCancelablePromise(R=>De(this,void 0,void 0,function*(){try{const F=yield w(I,N,R);if(O!==this._currentRequest||(this._currentRequest=null,T!==I.getVersionId()))return;let D=[];(F==null?void 0:F.ranges)&&(D=F.ranges),this._currentWordPattern=(F==null?void 0:F.wordPattern)||this._languageWordPattern;let B=!1;for(let W=0,V=D.length;W<V;W++)if(d.Range.containsPosition(D[W],N)){if(B=!0,W!==0){const K=D[W];D.splice(W,1),D.unshift(K)}break}if(!B){this.clearRanges();return}const A=D.map(W=>({range:W,options:pt.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,A)}catch(F){r.isPromiseCanceledError(F)||r.onUnexpectedError(F),(this._currentRequest===O||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=O,O})}};m.ID="editor.contrib.linkedEditing",m.DECORATION=o.ModelDecorationOptions.register({stickiness:0,className:v}),m=Me([pe(1,c.IContextKeyService)],m),e.LinkedEditingContribution=m;class g extends k.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:C.localize(0,null),alias:"Start Linked Editing",precondition:c.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(E,N){const I=E.get(l.ICodeEditorService),[T,O]=Array.isArray(N)&&N||[void 0,void 0];return s.URI.isUri(T)&&S.Position.isIPosition(O)?I.openCodeEditor({resource:T},I.getActiveCodeEditor()).then(R=>{!R||(R.setPosition(O),R.invokeWithinContext(F=>(this.reportTelemetry(F,R),this.run(F,R))))},r.onUnexpectedError):super.runCommand(E,N)}run(E,N){const I=m.get(N);return I?Promise.resolve(I.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=g;const b=k.EditorCommand.bindToContribution(m.get);k.registerEditorCommand(new b({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function w(L,E,N){const I=f.LinkedEditingRangeProviderRegistry.ordered(L);return p.first(I.map(T=>()=>De(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(L,E,N)}catch(O){r.onUnexpectedExternalError(O);return}})),T=>!!T&&M.isNonEmptyArray(T==null?void 0:T.ranges))}e.editorLinkedEditingBackground=n.registerColor("editor.linkedEditingBackground",{dark:u.Color.fromHex("#f00").transparent(.3),light:u.Color.fromHex("#f00").transparent(.3),hc:u.Color.fromHex("#f00").transparent(.3)},C.localize(1,null)),i.registerThemingParticipant((L,E)=>{const N=L.getColor(e.editorLinkedEditingBackground);N&&E.addRule(`.monaco-editor .${v} { background: ${N}; border-left-color: ${N}; }`)}),k.registerModelAndPositionCommand("_executeLinkedEditingProvider",(L,E)=>w(L,E,_.CancellationToken.None)),k.registerEditorContribution(m.ID,m),k.registerEditorAction(g)}),define(Q[622],J([0,1,483,15,25,11,82,2,17,13,31,18,225,533,32,57,22,14,23,43,40,338]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(w,L){const E=w.url&&/^command:/i.test(w.url.toString()),N=w.tooltip?w.tooltip:E?C.localize(0,null):C.localize(1,null),I=L?d.isMacintosh?C.localize(2,null):C.localize(3,null):d.isMacintosh?C.localize(4,null):C.localize(5,null);if(w.url){let T="";if(/^command:/i.test(w.url.toString())){const R=w.url.toString().match(/^command:([^?#]+)/);if(R){const F=R[1];T=` "${C.localize(6,null,F)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${N}](${w.url.toString(!0)}${T}) (${I})`)}else return new S.MarkdownString().appendText(`${N} (${I})`)}const v={general:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{constructor(L,E){this.link=L,this.decorationId=E}static decoration(L,E){return{range:L.range,options:m._getOptions(L,E,!1)}}static _getOptions(L,E,N){const I=Object.assign({},N?v.active:v.general);return I.hoverMessage=h(L,E),I}activate(L,E){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,E,!0))}deactivate(L,E){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,E,!1))}}let g=class _t{constructor(L,E,N){this.listenersToRemove=new _.DisposableStore,this.editor=L,this.openerService=E,this.notificationService=N;let I=new c.ClickLinkGesture(L);this.listenersToRemove.add(I),this.listenersToRemove.add(I.onMouseMoveOrRelevantKeyDown(([T,O])=>{this._onEditorMouseMove(T,O)})),this.listenersToRemove.add(I.onExecute(T=>{this.onEditorMouseUp(T)})),this.listenersToRemove.add(I.onCancel(T=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(57),this.listenersToRemove.add(L.onDidChangeConfiguration(T=>{const O=L.getOption(57);this.enabled!==O&&(this.enabled=O,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(T=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(T=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(T=>this.onModelModeChanged())),this.listenersToRemove.add(o.LinkProviderRegistry.onDidChange(T=>this.onModelModeChanged())),this.timeout=new k.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(_t.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),_t.RECOMPUTE_TIME)}beginCompute(){return De(this,void 0,void 0,function*(){if(!(!this.editor.hasModel()||!this.enabled)){const L=this.editor.getModel();if(!!o.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=k.createCancelablePromise(E=>a.getLinks(L,E));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(E){y.onUnexpectedError(E)}finally{this.computePromise=null}}}})}updateDecorations(L){const E=this.editor.getOption(64)==="altKey";let N=[],I=Object.keys(this.currentOccurrences);for(let R=0,F=I.length;R<F;R++){let D=I[R],B=this.currentOccurrences[D];N.push(B.decorationId)}let T=[];if(L)for(const R of L)T.push(m.decoration(R,E));let O=this.editor.deltaDecorations(N,T);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,F=O.length;R<F;R++){let D=new m(L[R],O[R]);this.currentOccurrences[D.decorationId]=D}}_onEditorMouseMove(L,E){const N=this.editor.getOption(64)==="altKey";if(this.isEnabled(L,E)){this.cleanUpActiveLinkDecoration();const I=this.getLinkOccurrence(L.target.position);I&&this.editor.changeDecorations(T=>{I.activate(T,N),this.activeLinkDecorationId=I.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(64)==="altKey";if(this.activeLinkDecorationId){const E=this.currentOccurrences[this.activeLinkDecorationId];E&&this.editor.changeDecorations(N=>{E.deactivate(N,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!!this.isEnabled(L)){const E=this.getLinkOccurrence(L.target.position);!E||this.openLinkOccurrence(E,L.hasSideBySideModifier,!0)}}openLinkOccurrence(L,E,N=!1){if(!!this.openerService){const{link:I}=L;I.resolve(M.CancellationToken.None).then(T=>{if(typeof T=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===i.Schemas.file&&T.startsWith(`${i.Schemas.file}:`)){const R=n.URI.parse(T);if(R.scheme===i.Schemas.file){const F=u.originalFSPath(R);let D=null;F.startsWith("/./")?D=`.${F.substr(1)}`:F.startsWith("//./")&&(D=`.${F.substr(2)}`),D&&(T=u.joinPath(O,D))}}}return this.openerService.open(T,{openToSide:E,fromUserGesture:N})},T=>{const O=T instanceof Error?T.message:T;O==="invalid"?this.notificationService.warn(C.localize(7,null,I.url.toString())):O==="missing"?this.notificationService.warn(C.localize(8,null)):y.onUnexpectedError(T)})}}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const E=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const N of E){const I=this.currentOccurrences[N.id];if(I)return I}return null}isEnabled(L,E){return Boolean(L.target.type===6&&(L.hasTriggerModifier||E&&E.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};g.ID="editor.linkDetector",g.RECOMPUTE_TIME=1e3,g=Me([pe(1,l.IOpenerService),pe(2,s.INotificationService)],g),e.LinkDetector=g;class b extends f.EditorAction{constructor(){super({id:"editor.action.openLink",label:C.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,E){let N=g.get(E);if(!!N&&!!E.hasModel()){let I=E.getSelections();for(let T of I){let O=N.getLinkOccurrence(T.getEndPosition());O&&N.openLinkOccurrence(O,!1)}}}}f.registerEditorContribution(g.ID,g),f.registerEditorAction(b),t.registerThemingParticipant((w,L)=>{const E=w.getColor(r.editorActiveLinkForeground);E&&L.addRule(`.monaco-editor .detected-link-active { color: ${E} !important; }`)})}),define(Q[145],J([0,1,484,15,2,47,3,13,16,14,22,96,339]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let c=class vt{constructor(r,t){this._messageWidget=new M.MutableDisposable,this._messageListeners=new M.DisposableStore,this._editor=r,this._visible=vt.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(r){return r.getContribution(vt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,t){y.alert(r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new s(this._editor,t,r),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k.TimeoutTimer(()=>this.closeMessage(),3e3));let n;this._messageListeners.add(this._editor.onMouseMove(i=>{!i.target.position||(n?n.containsPosition(i.target.position)||this.closeMessage():n=new S.Range(t.lineNumber-3,1,i.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(s.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(C.localize(0,null),this._editor.getPosition())}};c.ID="editor.contrib.messageController",c.MESSAGE_VISIBLE=new d.RawContextKey("messageVisible",!1),c=Me([pe(1,d.IContextKeyService)],c),e.MessageController=c;const a=_.EditorCommand.bindToContribution(c.get);_.registerEditorCommand(new a({id:"leaveEditorMessage",precondition:c.MESSAGE_VISIBLE,handler:l=>l.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class s{constructor(r,{lineNumber:t,column:n},i){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const h=document.createElement("div");h.classList.add("message"),h.textContent=i,this._domNode.appendChild(h);const v=document.createElement("div");v.classList.add("anchor","below"),this._domNode.appendChild(v),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(r){let t;const n=()=>{r.dispose(),clearTimeout(t),r.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),r.getDomNode().addEventListener("animationend",n),r.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}_.registerEditorContribution(c.ID,c),f.registerThemingParticipant((l,r)=>{const t=l.getColor(p.inputValidationInfoBorder);if(t){let u=l.type===o.ColorScheme.HIGH_CONTRAST?2:1;r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${t}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${t}; }`),r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${u}px solid ${t}; }`)}const n=l.getColor(p.inputValidationInfoBackground);n&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const i=l.getColor(p.inputValidationInfoForeground);i&&r.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${i}; }`)})}),define(Q[623],J([0,1,11,149,2,145,9,571,612]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let f=class extends M.Disposable{constructor(o,c,a,s,l){super();this._editor=o,this.delegate=s,this._activeCodeActions=this._register(new M.MutableDisposable),this._codeActionWidget=new k.Lazy(()=>this._register(l.createInstance(_.CodeActionMenu,this._editor,{onSelectCodeAction:r=>De(this,void 0,void 0,function*(){this.delegate.applyCodeAction(r,!0)})}))),this._lightBulbWidget=new k.Lazy(()=>{const r=this._register(l.createInstance(d.LightBulbWidget,this._editor,c,a));return this._register(r.onClick(t=>this.showCodeActionList(t.trigger,t.actions,t,{includeDisabledActions:!1}))),r})}update(o){var c,a,s;return De(this,void 0,void 0,function*(){if(o.type!==1){(c=this._lightBulbWidget.rawValue)===null||c===void 0||c.hide();return}let l;try{l=yield o.actions}catch(r){C.onUnexpectedError(r);return}if(this._lightBulbWidget.getValue().update(l,o.trigger,o.position),o.trigger.type===2){if((a=o.trigger.filter)===null||a===void 0?void 0:a.include){const t=this.tryGetValidActionToApply(o.trigger,l);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{l.dispose()}return}if(o.trigger.context){const n=this.getInvalidActionThatWouldHaveBeenApplied(o.trigger,l);if(n&&n.action.disabled){y.MessageController.get(this._editor).showMessage(n.action.disabled,o.trigger.context.position),l.dispose();return}}}const r=!!((s=o.trigger.filter)===null||s===void 0?void 0:s.include);if(o.trigger.context&&(!l.allActions.length||!r&&!l.validActions.length)){y.MessageController.get(this._editor).showMessage(o.trigger.context.notAvailableMessage,o.trigger.context.position),this._activeCodeActions.value=l,l.dispose();return}this._activeCodeActions.value=l,this._codeActionWidget.getValue().show(o.trigger,l,o.position,{includeDisabledActions:r})}else this._codeActionWidget.getValue().isVisible?l.dispose():this._activeCodeActions.value=l})}getInvalidActionThatWouldHaveBeenApplied(o,c){if(!!c.allActions.length&&(o.autoApply==="first"&&c.validActions.length===0||o.autoApply==="ifSingle"&&c.allActions.length===1))return c.allActions.find(({action:a})=>a.disabled)}tryGetValidActionToApply(o,c){if(!!c.validActions.length&&(o.autoApply==="first"&&c.validActions.length>0||o.autoApply==="ifSingle"&&c.validActions.length===1))return c.validActions[0]}showCodeActionList(o,c,a,s){return De(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(o,c,a,s)})}};f=Me([pe(4,S.IInstantiationService)],f),e.CodeActionUi=f}),define(Q[258],J([0,1,25,149,2,8,13,132,24,141,623,145,454,26,16,9,85,32,58,87,572,129]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function v(D){return s.ContextKeyExpr.regex(u.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+y.escapeRegExpCharacters(D.value)+"\\b"))}const m={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:c.localize(0,null)},apply:{type:"string",description:c.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[c.localize(2,null),c.localize(3,null),c.localize(4,null)]},preferred:{type:"boolean",default:!1,description:c.localize(5,null)}}};let g=class Ft extends M.Disposable{constructor(B,A,W,V,K){super();this._instantiationService=K,this._editor=B,this._model=this._register(new u.CodeActionModel(this._editor,A,W,V)),this._register(this._model.onDidChangeState(j=>this.update(j))),this._ui=new k.Lazy(()=>this._register(new p.CodeActionUi(B,E.Id,F.Id,{applyCodeAction:(j,ee)=>De(this,void 0,void 0,function*(){try{yield this._applyCodeAction(j)}finally{ee&&this._trigger({type:1,filter:{}})}})},this._instantiationService)))}static get(B){return B.getContribution(Ft.ID)}update(B){this._ui.getValue().update(B)}showCodeActions(B,A,W){return this._ui.getValue().showCodeActionList(B,A,W,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(B,A,W){if(!!this._editor.hasModel()){o.MessageController.get(this._editor).closeMessage();const V=this._editor.getPosition();this._trigger({type:2,filter:A,autoApply:W,context:{notAvailableMessage:B,position:V}})}}_trigger(B){return this._model.trigger(B)}_applyCodeAction(B){return this._instantiationService.invokeFunction(b,B,this._editor)}};g.ID="editor.contrib.quickFixController",g=Me([pe(1,r.IMarkerService),pe(2,s.IContextKeyService),pe(3,n.IEditorProgressService),pe(4,l.IInstantiationService)],g),e.QuickFixController=g;function b(D,B,A){return De(this,void 0,void 0,function*(){const W=D.get(_.IBulkEditService),V=D.get(a.ICommandService),K=D.get(i.ITelemetryService),j=D.get(t.INotificationService);if(K.publicLog2("codeAction.applyCodeAction",{codeActionTitle:B.action.title,codeActionKind:B.action.kind,codeActionIsPreferred:!!B.action.isPreferred}),yield B.resolve(C.CancellationToken.None),B.action.edit&&(yield W.apply(_.ResourceEdit.convert(B.action.edit),{editor:A,label:B.action.title})),B.action.command)try{yield V.executeCommand(B.action.command.id,...B.action.command.arguments||[])}catch(ee){const re=w(ee);j.error(typeof re=="string"?re:c.localize(6,null))}})}e.applyCodeAction=b;function w(D){return typeof D=="string"?D:D instanceof Error&&typeof D.message=="string"?D.message:void 0}function L(D,B,A,W){if(D.hasModel()){const V=g.get(D);V&&V.manualTriggerAtCurrentPosition(B,A,W)}}class E extends S.EditorAction{constructor(){super({id:E.Id,label:c.localize(7,null),alias:"Quick Fix...",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(B,A){return L(A,c.localize(8,null),void 0,void 0)}}e.QuickFixAction=E,E.Id="editor.action.quickFix";class N extends S.EditorCommand{constructor(){super({id:f.codeActionCommandId,precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:m}]}})}runEditorCommand(B,A,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return L(A,typeof(W==null?void 0:W.kind)=="string"?V.preferred?c.localize(9,null,W.kind):c.localize(10,null,W.kind):V.preferred?c.localize(11,null):c.localize(12,null),{include:V.kind,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.CodeActionCommand=N;class I extends S.EditorAction{constructor(){super({id:f.refactorCommandId,label:c.localize(13,null),alias:"Refactor...",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:s.ContextKeyExpr.and(d.EditorContextKeys.writable,v(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:m}]}})}run(B,A,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Refactor,apply:"never"});return L(A,typeof(W==null?void 0:W.kind)=="string"?V.preferred?c.localize(14,null,W.kind):c.localize(15,null,W.kind):V.preferred?c.localize(16,null):c.localize(17,null),{include:h.CodeActionKind.Refactor.contains(V.kind)?V.kind:h.CodeActionKind.None,onlyIncludePreferredActions:V.preferred},V.apply)}}e.RefactorAction=I;class T extends S.EditorAction{constructor(){super({id:f.sourceActionCommandId,label:c.localize(18,null),alias:"Source Action...",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:s.ContextKeyExpr.and(d.EditorContextKeys.writable,v(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:m}]}})}run(B,A,W){const V=h.CodeActionCommandArgs.fromUser(W,{kind:h.CodeActionKind.Source,apply:"never"});return L(A,typeof(W==null?void 0:W.kind)=="string"?V.preferred?c.localize(19,null,W.kind):c.localize(20,null,W.kind):V.preferred?c.localize(21,null):c.localize(22,null),{include:h.CodeActionKind.Source.contains(V.kind)?V.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.SourceAction=T;class O extends S.EditorAction{constructor(){super({id:f.organizeImportsCommandId,label:c.localize(23,null),alias:"Organize Imports",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,v(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(B,A){return L(A,c.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class R extends S.EditorAction{constructor(){super({id:f.fixAllCommandId,label:c.localize(25,null),alias:"Fix All",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,v(h.CodeActionKind.SourceFixAll))})}run(B,A){return L(A,c.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=R;class F extends S.EditorAction{constructor(){super({id:F.Id,label:c.localize(27,null),alias:"Auto Fix...",precondition:s.ContextKeyExpr.and(d.EditorContextKeys.writable,v(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(B,A){return L(A,c.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=F,F.Id="editor.action.autoFix"}),define(Q[624],J([0,1,13,258]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),C.registerEditorContribution(k.QuickFixController.ID,k.QuickFixController),C.registerEditorAction(k.QuickFixAction),C.registerEditorAction(k.RefactorAction),C.registerEditorAction(k.SourceAction),C.registerEditorAction(k.OrganizeImportsAction),C.registerEditorAction(k.AutoFixAction),C.registerEditorAction(k.FixAllAction),C.registerEditorCommand(new k.CodeActionCommand)}),define(Q[259],J([0,1,53,14,49,2,107,21,88]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class f{constructor(o){this.options=o,this.rangeHighlightDecorationId=void 0}provide(o,c){var a;const s=new y.DisposableStore;o.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;const l=s.add(new y.MutableDisposable);return l.value=this.doProvide(o,c),s.add(this.onDidActiveTextEditorControlChange(()=>{l.value=void 0,l.value=this.doProvide(o,c)})),s}doProvide(o,c){const a=new y.DisposableStore,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const l={editor:s},r=S.getCodeEditor(s);if(r){let t=_.withNullAsUndefined(s.saveViewState());a.add(r.onDidChangeCursorPosition(()=>{t=_.withNullAsUndefined(s.saveViewState())})),l.restoreViewState=()=>{t&&s===this.activeTextEditorControl&&s.restoreViewState(t)},a.add(d.once(c.onCancellationRequested)(()=>{var n;return(n=l.restoreViewState)===null||n===void 0?void 0:n.call(l)}))}a.add(y.toDisposable(()=>this.clearDecorations(s))),a.add(this.provideWithTextEditor(l,o,c))}else a.add(this.provideWithoutTextEditor(o,c));return a}canProvideWithTextEditor(o){return!0}gotoLocation({editor:o},c){o.setSelection(c.range),o.revealRangeInCenter(c.range,0),c.preserveFocus||o.focus()}getModel(o){var c;return S.isDiffEditor(o)?(c=o.getModel())===null||c===void 0?void 0:c.modified:o.getModel()}addDecorations(o,c){o.changeDecorations(a=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const l=[{range:c,options:{className:"rangeHighlight",isWholeLine:!0}},{range:c,options:{overviewRuler:{color:k.themeColorFromId(M.overviewRulerRangeHighlight),position:C.OverviewRulerLane.Full}}}],[r,t]=a.deltaDecorations(s,l);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:t}})}clearDecorations(o){const c=this.rangeHighlightDecorationId;c&&(o.changeDecorations(a=>{a.deltaDecorations([c.overviewRulerDecorationId,c.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=f}),define(Q[625],J([0,1,489,2,259,107]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends M.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(d){const f=C.localize(0,null);return d.items=[{label:f}],d.ariaLabel=f,k.Disposable.None}provideWithTextEditor(d,f,p){const o=d.editor,c=new k.DisposableStore;c.add(f.onDidAccept(l=>{const[r]=f.selectedItems;if(r){if(!this.isValidLineNumber(o,r.lineNumber))return;this.gotoLocation(d,{range:this.toRange(r.lineNumber,r.column),keyMods:f.keyMods,preserveFocus:l.inBackground}),l.inBackground||f.hide()}}));const a=()=>{const l=this.parsePosition(o,f.value.trim().substr(S.PREFIX.length)),r=this.getPickLabel(o,l.lineNumber,l.column);if(f.items=[{lineNumber:l.lineNumber,column:l.column,label:r}],f.ariaLabel=r,!this.isValidLineNumber(o,l.lineNumber)){this.clearDecorations(o);return}const t=this.toRange(l.lineNumber,l.column);o.revealRangeInCenter(t,0),this.addDecorations(o,t)};a(),c.add(f.onDidChangeValue(()=>a()));const s=y.getCodeEditor(o);return s&&s.getOptions().get(54).renderType===2&&(s.updateOptions({lineNumbers:"on"}),c.add(k.toDisposable(()=>s.updateOptions({lineNumbers:"relative"})))),c}toRange(d=1,f=1){return{startLineNumber:d,startColumn:f,endLineNumber:d,endColumn:f}}parsePosition(d,f){const p=f.split(/,|:|#/).map(c=>parseInt(c,10)).filter(c=>!isNaN(c)),o=this.lineCount(d)+1;return{lineNumber:p[0]>0?p[0]:o+p[0],column:p[1]}}getPickLabel(d,f,p){if(this.isValidLineNumber(d,f))return this.isValidColumn(d,f,p)?C.localize(1,null,f,p):C.localize(2,null,f);const o=d.getPosition()||{lineNumber:1,column:1},c=this.lineCount(d);return c>1?C.localize(3,null,o.lineNumber,o.column,c):C.localize(4,null,o.lineNumber,o.column)}isValidLineNumber(d,f){return!f||typeof f!="number"?!1:f>0&&f<=this.lineCount(d)}isValidColumn(d,f,p){if(!p||typeof p!="number")return!1;const o=this.getModel(d);if(!o)return!1;const c={lineNumber:f,column:p};return o.validatePosition(c).equals(c)}lineCount(d){var f,p;return(p=(f=this.getModel(d))===null||f===void 0?void 0:f.getLineCount())!==null&&p!==void 0?p:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(Q[626],J([0,1,490,25,2,3,259,18,243,8,280,27]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class c extends S.AbstractEditorNavigationQuickAccessProvider{constructor(r=Object.create(null)){super(r);this.options=r,r.canAcceptInBackground=!0}provideWithoutTextEditor(r){return this.provideLabelPick(r,C.localize(0,null)),M.Disposable.None}provideWithTextEditor(r,t,n){const i=r.editor,u=this.getModel(i);return u?_.DocumentSymbolProviderRegistry.has(u)?this.doProvideWithEditorSymbols(r,u,t,n):this.doProvideWithoutEditorSymbols(r,u,t,n):M.Disposable.None}doProvideWithoutEditorSymbols(r,t,n,i){const u=new M.DisposableStore;return this.provideLabelPick(n,C.localize(1,null)),(()=>De(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,u))||i.isCancellationRequested||u.add(this.doProvideWithEditorSymbols(r,t,n,i))}))(),u}provideLabelPick(r,t){r.items=[{label:t,index:0,kind:14}],r.ariaLabel=t}waitForLanguageSymbolRegistry(r,t){return De(this,void 0,void 0,function*(){if(_.DocumentSymbolProviderRegistry.has(r))return!0;let n;const i=new Promise(h=>n=h),u=t.add(_.DocumentSymbolProviderRegistry.onDidChange(()=>{_.DocumentSymbolProviderRegistry.has(r)&&(u.dispose(),n(!0))}));return t.add(M.toDisposable(()=>n(!1))),i})}doProvideWithEditorSymbols(r,t,n,i){const u=r.editor,h=new M.DisposableStore;h.add(n.onDidAccept(w=>{const[L]=n.selectedItems;L&&L.range&&(this.gotoLocation(r,{range:L.range.selection,keyMods:n.keyMods,preserveFocus:w.inBackground}),w.inBackground||n.hide())})),h.add(n.onDidTriggerItemButton(({item:w})=>{w&&w.range&&(this.gotoLocation(r,{range:w.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const v=this.getDocumentSymbols(t,i);let m;const g=()=>De(this,void 0,void 0,function*(){m==null||m.dispose(!0),n.busy=!1,m=new k.CancellationTokenSource(i),n.busy=!0;try{const w=p.prepareQuery(n.value.substr(c.PREFIX.length).trim()),L=yield this.doGetSymbolPicks(v,w,void 0,m.token);if(i.isCancellationRequested)return;L.length>0?n.items=L:w.original.length>0?this.provideLabelPick(n,C.localize(2,null)):this.provideLabelPick(n,C.localize(3,null))}finally{i.isCancellationRequested||(n.busy=!1)}});h.add(n.onDidChangeValue(()=>g())),g();let b=!0;return h.add(n.onDidChangeActive(()=>{const[w]=n.activeItems;if(w&&w.range){if(b){b=!1;return}u.revealRangeInCenter(w.range.selection,0),this.addDecorations(u,w.range.decoration)}})),h}doGetSymbolPicks(r,t,n,i){return De(this,void 0,void 0,function*(){const u=yield r;if(i.isCancellationRequested)return[];const h=t.original.indexOf(c.SCOPE_PREFIX)===0,v=h?1:0;let m,g;t.values&&t.values.length>1?(m=p.pieceToQuery(t.values[0]),g=p.pieceToQuery(t.values.slice(1))):m=t;const b=[];for(let N=0;N<u.length;N++){const I=u[N],T=f.trim(I.name),O=`$(symbol-${_.SymbolKinds.toString(I.kind)||"property"}) ${T}`,R=O.length-T.length;let F=I.containerName;(n==null?void 0:n.extraContainerLabel)&&(F?F=`${n.extraContainerLabel} \u2022 ${F}`:F=n.extraContainerLabel);let D,B,A,W;if(t.original.length>v){let K=!1;if(m!==t&&([D,B]=p.scoreFuzzy2(O,Object.assign(Object.assign({},t),{values:void 0}),v,R),typeof D=="number"&&(K=!0)),typeof D!="number"&&([D,B]=p.scoreFuzzy2(O,m,v,R),typeof D!="number"))continue;if(!K&&g){if(F&&g.original.length>0&&([A,W]=p.scoreFuzzy2(F,g)),typeof A!="number")continue;typeof D=="number"&&(D+=A)}}const V=I.tags&&I.tags.indexOf(1)>=0;b.push({index:N,kind:I.kind,score:D,label:O,ariaLabel:T,description:F,highlights:V?void 0:{label:B,description:W},range:{selection:y.Range.collapseToStart(I.selectionRange),decoration:I.range},strikethrough:V,buttons:(()=>{var K,j;const ee=((K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection)?(j=this.options)===null||j===void 0?void 0:j.openSideBySideDirection():void 0;if(!!ee)return[{iconClass:ee==="right"?o.Codicon.splitHorizontal.classNames:o.Codicon.splitVertical.classNames,tooltip:ee==="right"?C.localize(4,null):C.localize(5,null)}]})()})}const w=b.sort((N,I)=>h?this.compareByKindAndScore(N,I):this.compareByScore(N,I));let L=[];if(h){let N,I,T=0;function E(){I&&typeof N=="number"&&T>0&&(I.label=f.format(s[N]||a,T))}for(const O of w)N!==O.kind?(E(),N=O.kind,T=1,I={type:"separator"},L.push(I)):T++,L.push(O);E()}else w.length>0&&(L=[{label:C.localize(6,null,b.length),type:"separator"},...w]);return L})}compareByScore(r,t){if(typeof r.score!="number"&&typeof t.score=="number")return 1;if(typeof r.score=="number"&&typeof t.score!="number")return-1;if(typeof r.score=="number"&&typeof t.score=="number"){if(r.score>t.score)return-1;if(r.score<t.score)return 1}return r.index<t.index?-1:r.index>t.index?1:0}compareByKindAndScore(r,t){const n=s[r.kind]||a,i=s[t.kind]||a,u=n.localeCompare(i);return u===0?this.compareByScore(r,t):u}getDocumentSymbols(r,t){return De(this,void 0,void 0,function*(){const n=yield d.OutlineModel.create(r,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=c,c.PREFIX="@",c.SCOPE_PREFIX=":",c.PREFIX_BY_CATEGORY=`${c.PREFIX}${c.SCOPE_PREFIX}`;const a=C.localize(7,null),s={[5]:C.localize(8,null),[11]:C.localize(9,null),[8]:C.localize(10,null),[12]:C.localize(11,null),[4]:C.localize(12,null),[22]:C.localize(13,null),[23]:C.localize(14,null),[24]:C.localize(15,null),[10]:C.localize(16,null),[2]:C.localize(17,null),[3]:C.localize(18,null),[25]:C.localize(19,null),[1]:C.localize(20,null),[6]:C.localize(21,null),[9]:C.localize(22,null),[21]:C.localize(23,null),[14]:C.localize(24,null),[0]:C.localize(25,null),[17]:C.localize(26,null),[15]:C.localize(27,null),[16]:C.localize(28,null),[18]:C.localize(29,null),[19]:C.localize(30,null),[7]:C.localize(31,null),[13]:C.localize(32,null)}}),define(Q[627],J([0,1,2,12,492,16,22,14,36,342]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new y.RawContextKey("renameInputVisible",!1);let f=class{constructor(o,c,a,s,l){this._editor=o,this._acceptKeybindings=c,this._themeService=a,this._keybindingService=s,this._disposables=new C.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(l),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(38)&&this._updateFont()})),this._disposables.add(a.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",M.localize(0,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const o=()=>{var c,a;const[s,l]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=M.localize(1,null,(c=this._keybindingService.lookupKeybinding(s))===null||c===void 0?void 0:c.getLabel(),(a=this._keybindingService.lookupKeybinding(l))===null||a===void 0?void 0:a.getLabel())};o(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(o)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(o){var c,a,s,l;if(!(!this._input||!this._domNode)){const r=o.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((c=o.getColor(S.editorWidgetBackground))!==null&&c!==void 0?c:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((a=o.getColor(S.inputForeground))!==null&&a!==void 0?a:""),this._input.style.backgroundColor=String((s=o.getColor(S.inputBackground))!==null&&s!==void 0?s:"");const t=o.getColor(S.inputBorder);this._input.style.borderWidth=t?"1px":"0px",this._input.style.borderStyle=t?"solid":"none",this._input.style.borderColor=(l=t==null?void 0:t.toString())!==null&&l!==void 0?l:"none"}}_updateFont(){if(!(!this._input||!this._label)){const o=this._editor.getOption(38);this._input.style.fontFamily=o.fontFamily,this._input.style.fontWeight=o.fontWeight,this._input.style.fontSize=`${o.fontSize}px`,this._label.style.fontSize=`${o.fontSize*.8}px`}}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(o){o||this.cancelInput(!0)}acceptInput(o){this._currentAcceptInput&&this._currentAcceptInput(o)}cancelInput(o){this._currentCancelInput&&this._currentCancelInput(o)}getInput(o,c,a,s,l,r){this._domNode.classList.toggle("preview",l),this._position=new k.Position(o.startLineNumber,o.startColumn),this._input.value=c,this._input.setAttribute("selectionStart",a.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((o.endColumn-o.startColumn)*1.1,20);const t=new C.DisposableStore;return new Promise(n=>{this._currentCancelInput=i=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n(i),!0),this._currentAcceptInput=i=>{if(this._input.value.trim().length===0||this._input.value===c){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n({newName:this._input.value,wantsPreview:l&&i})},r.onCancellationRequested(()=>this.cancelInput(!0)),t.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{t.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};f=Me([pe(2,_.IThemeService),pe(3,d.IKeybindingService),pe(4,y.IContextKeyService)],f),e.RenameInputField=f}),define(Q[628],J([0,1,491,11,16,58,13,24,627,18,12,47,3,145,70,32,132,23,28,25,2,15,76,9,33,94,135,21]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class E{constructor(F,D){this.model=F,this.position=D,this._providerRenameIdx=0,this._providers=f.RenameProviderRegistry.ordered(F)}hasProvider(){return this._providers.length>0}resolveRenameLocation(F){return De(this,void 0,void 0,function*(){const D=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const A=this._providers[this._providerRenameIdx];if(!A.resolveRenameLocation)break;let W=yield A.resolveRenameLocation(this.model,this.position,F);if(!!W){if(W.rejectReason){D.push(W.rejectReason);continue}return W}}const B=this.model.getWordAtPosition(this.position);return B?{range:new c.Range(this.position.lineNumber,B.startColumn,this.position.lineNumber,B.endColumn),text:B.word,rejectReason:D.length>0?D.join(`
`):void 0}:{range:c.Range.fromPositions(this.position),text:"",rejectReason:D.length>0?D.join(`
`):void 0}})}provideRenameEdits(F,D){return De(this,void 0,void 0,function*(){return this._provideRenameEdits(F,this._providerRenameIdx,[],D)})}_provideRenameEdits(F,D,B,A){return De(this,void 0,void 0,function*(){const W=this._providers[D];if(!W)return{edits:[],rejectReason:B.join(`
`)};const V=yield W.provideRenameEdits(this.model,this.position,F,A);if(V){if(V.rejectReason)return this._provideRenameEdits(F,D+1,B.concat(V.rejectReason),A)}else return this._provideRenameEdits(F,D+1,B.concat(C.localize(0,null)),A);return V})}}function N(R,F,D){return De(this,void 0,void 0,function*(){const B=new E(R,F),A=yield B.resolveRenameLocation(i.CancellationToken.None);return(A==null?void 0:A.rejectReason)?{edits:[],rejectReason:A.rejectReason}:B.provideRenameEdits(D,i.CancellationToken.None)})}e.rename=N;let I=class Wt{constructor(F,D,B,A,W,V,K){this.editor=F,this._instaService=D,this._notificationService=B,this._bulkEditService=A,this._progressService=W,this._logService=V,this._configService=K,this._dispoableStore=new u.DisposableStore,this._cts=new i.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(d.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(F){return F.getContribution(Wt.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return De(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!!this.editor.hasModel()){const F=this.editor.getPosition(),D=new E(this.editor.getModel(),F);if(!!D.hasProvider()){this._cts=new s.EditorStateCancellationTokenSource(this.editor,4|1);let B;try{const re=D.resolveRenameLocation(this._cts.token);this._progressService.showWhile(re,250),B=yield re}catch(re){a.MessageController.get(this.editor).showMessage(re||C.localize(1,null),F);return}if(!!B){if(B.rejectReason){a.MessageController.get(this.editor).showMessage(B.rejectReason,F);return}if(!this._cts.token.isCancellationRequested){this._cts.dispose(),this._cts=new s.EditorStateCancellationTokenSource(this.editor,4|1,B.range);let A=this.editor.getSelection(),W=0,V=B.text.length;!c.Range.isEmpty(A)&&!c.Range.spansMultipleLines(A)&&c.Range.containsRange(B.range,A)&&(W=Math.max(0,A.startColumn-B.range.startColumn),V=Math.min(B.range.endColumn,A.endColumn)-B.range.startColumn);const K=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),j=yield this._renameInputField.value.getInput(B.range,B.text,W,V,K,this._cts.token);if(typeof j=="boolean"){j&&this.editor.focus();return}this.editor.focus();const ee=h.raceCancellation(D.provideRenameEdits(j.newName,this._cts.token),this._cts.token).then(re=>De(this,void 0,void 0,function*(){if(!(!re||!this.editor.hasModel())){if(re.rejectReason){this._notificationService.info(re.rejectReason);return}this._bulkEditService.apply(r.ResourceEdit.convert(re),{editor:this.editor,showPreview:j.wantsPreview,label:C.localize(2,null,B==null?void 0:B.text),quotableLabel:C.localize(3,null,B==null?void 0:B.text)}).then(te=>{te.ariaSummary&&o.alert(C.localize(4,null,B.text,j.newName,te.ariaSummary))}).catch(te=>{this._notificationService.error(C.localize(5,null)),this._logService.error(te)})}}),re=>{this._notificationService.error(C.localize(6,null)),this._logService.error(re)});return this._progressService.showWhile(ee,250),ee}}}}})}acceptRenameInput(F){this._renameInputField.value.acceptInput(F)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=Me([pe(1,m.IInstantiationService),pe(2,l.INotificationService),pe(3,r.IBulkEditService),pe(4,y.IEditorProgressService),pe(5,v.ILogService),pe(6,w.ITextResourceConfigurationService)],I);class T extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:C.localize(7,null),alias:"Rename Symbol",precondition:M.ContextKeyExpr.and(_.EditorContextKeys.writable,_.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(F,D){const B=F.get(n.ICodeEditorService),[A,W]=Array.isArray(D)&&D||[void 0,void 0];return t.URI.isUri(A)&&p.Position.isIPosition(W)?B.openCodeEditor({resource:A},B.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(W),V.invokeWithinContext(K=>(this.reportTelemetry(K,V),this.run(K,V))))},k.onUnexpectedError):super.runCommand(F,D)}run(F,D){const B=I.get(D);return B?B.run():Promise.resolve()}}e.RenameAction=T,S.registerEditorContribution(I.ID,I),S.registerEditorAction(T);const O=S.EditorCommand.bindToContribution(I.get);S.registerEditorCommand(new O({id:"acceptRenameInput",precondition:d.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:3}})),S.registerEditorCommand(new O({id:"acceptRenameInputWithPreview",precondition:M.ContextKeyExpr.and(d.CONTEXT_RENAME_INPUT_VISIBLE,M.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:R=>R.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:1024+3}})),S.registerEditorCommand(new O({id:"cancelRenameInput",precondition:d.CONTEXT_RENAME_INPUT_VISIBLE,handler:R=>R.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:_.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),S.registerModelAndPositionCommand("_executeDocumentRenameProvider",function(R,F,...D){const[B]=D;return L.assertType(typeof B=="string"),N(R,F,B)}),g.Registry.as(b.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:C.localize(8,null),default:!0,type:"boolean"}}})}),define(Q[629],J([0,1,503,19,15,25,11,2,13,3,24,53,31,18,16,22,14,47]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const n=l.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},C.localize(0,null),!0),i=l.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},C.localize(1,null),!0),u=l.registerColor("editor.wordHighlightBorder",{light:null,dark:null,hc:l.activeContrastBorder},C.localize(2,null)),h=l.registerColor("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:l.activeContrastBorder},C.localize(3,null)),v=l.registerColor("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},C.localize(4,null),!0),m=l.registerColor("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},C.localize(5,null),!0),g=new s.RawContextKey("hasWordHighlights",!1);function b(B,A,W){const V=a.DocumentHighlightProviderRegistry.ordered(B);return M.first(V.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(B,A,W)).then(void 0,S.onUnexpectedExternalError)),k.isNonEmptyArray)}e.getOccurrencesAtPosition=b;class w{constructor(A,W,V){this._wordRange=this._getCurrentWordRange(A,W),this.result=M.createCancelablePromise(K=>this._compute(A,W,V,K))}_getCurrentWordRange(A,W){const V=A.getWordAtPosition(W.getPosition());return V?new f.Range(W.startLineNumber,V.startColumn,W.startLineNumber,V.endColumn):null}isValid(A,W,V){const K=W.startLineNumber,j=W.startColumn,ee=W.endColumn,re=this._getCurrentWordRange(A,W);let te=Boolean(this._wordRange&&this._wordRange.equalsRange(re));for(let ae=0,Y=V.length;!te&&ae<Y;ae++){let P=A.getDecorationRange(V[ae]);P&&P.startLineNumber===K&&P.startColumn<=j&&P.endColumn>=ee&&(te=!0)}return te}cancel(){this.result.cancel()}}class L extends w{_compute(A,W,V,K){return b(A,W.getPosition(),K).then(j=>j||[])}}class E extends w{constructor(A,W,V){super(A,W,V);this._selectionIsEmpty=W.isEmpty()}_compute(A,W,V,K){return M.timeout(250,K).then(()=>{if(!W.isEmpty())return[];const j=A.getWordAtPosition(W.getPosition());return!j||j.word.length>1e3?[]:A.findMatches(j.word,!0,!1,!0,V,!1).map(re=>({range:re.range,kind:a.DocumentHighlightKind.Text}))})}isValid(A,W,V){const K=W.isEmpty();return this._selectionIsEmpty!==K?!1:super.isValid(A,W,V)}}function N(B,A,W){return a.DocumentHighlightProviderRegistry.has(B)?new L(B,A,W):new E(B,A,W)}d.registerModelAndPositionCommand("_executeDocumentHighlights",(B,A)=>b(B,A,y.CancellationToken.None));class I{constructor(A,W){this.toUnhook=new _.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=A,this._hasWordHighlights=g.bindTo(W),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(66),this.model=this.editor.getModel(),this.toUnhook.add(A.onDidChangeCursorPosition(V=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(V)})),this.toUnhook.add(A.onDidChangeModelContent(V=>{this._stopAll()})),this.toUnhook.add(A.onDidChangeConfiguration(V=>{let K=this.editor.getOption(66);this.occurrencesHighlight!==K&&(this.occurrencesHighlight=K,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return k.coalesce(this._decorationIds.map(A=>this.model.getDecorationRange(A)).sort(f.Range.compareRangesUsingStarts))}moveNext(){let A=this._getSortedHighlights(),V=(A.findIndex(j=>j.containsPosition(this.editor.getPosition()))+1)%A.length,K=A[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const j=this._getWord();if(j){const ee=this.editor.getModel().getLineContent(K.startLineNumber);t.alert(`${ee}, ${V+1} of ${A.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let A=this._getSortedHighlights(),V=(A.findIndex(j=>j.containsPosition(this.editor.getPosition()))-1+A.length)%A.length,K=A[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const j=this._getWord();if(j){const ee=this.editor.getModel().getLineContent(K.startLineNumber);t.alert(`${ee}, ${V+1} of ${A.length} for '${j.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(A){if(!this.occurrencesHighlight){this._stopAll();return}if(A.reason!==3){this._stopAll();return}this._run()}_getWord(){let A=this.editor.getSelection(),W=A.startLineNumber,V=A.startColumn;return this.model.getWordAtPosition({lineNumber:W,column:V})}_run(){let A=this.editor.getSelection();if(A.startLineNumber!==A.endLineNumber){this._stopAll();return}let W=A.startColumn,V=A.endColumn;const K=this._getWord();if(!K||K.startColumn>W||K.endColumn<V){this._stopAll();return}const j=this.workerRequest&&this.workerRequest.isValid(this.model,A,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),j)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let ee=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.model,this.editor.getSelection(),this.editor.getOption(110)),this.workerRequest.result.then(re=>{ee===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=re||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let A=new Date().getTime(),W=this.lastCursorPositionChangeTime+250;A>=W?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},W-A)}renderDecorations(){this.renderDecorationsTimer=-1;let A=[];for(const W of this.workerRequestValue)W.range&&A.push({range:W.range,options:I._getDecorationOptions(W.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,A),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(A){return A===a.DocumentHighlightKind.Write?this._WRITE_OPTIONS:A===a.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}I._WRITE_OPTIONS=c.ModelDecorationOptions.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:r.themeColorFromId(m),position:o.OverviewRulerLane.Center}}),I._TEXT_OPTIONS=c.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:r.themeColorFromId(l.overviewRulerSelectionHighlightForeground),position:o.OverviewRulerLane.Center}}),I._REGULAR_OPTIONS=c.ModelDecorationOptions.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:r.themeColorFromId(v),position:o.OverviewRulerLane.Center}});let T=class xt extends _.Disposable{constructor(A,W){super();this.wordHighlighter=null;const V=()=>{A.hasModel()&&(this.wordHighlighter=new I(A,W))};this._register(A.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),V()})),V()}static get(A){return A.getContribution(xt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(A){this.wordHighlighter&&A&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};T.ID="editor.contrib.wordHighlighter",T=Me([pe(1,s.IContextKeyService)],T);class O extends d.EditorAction{constructor(A,W){super(W);this._isNext=A}run(A,W){const V=T.get(W);!V||(this._isNext?V.moveNext():V.moveBack())}}class R extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:C.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:g,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class F extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:C.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:g,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class D extends d.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:C.localize(8,null),alias:"Trigger Symbol Highlight",precondition:g.toNegated(),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(A,W,V){const K=T.get(W);!K||K.restoreViewState(!0)}}d.registerEditorContribution(T.ID,T),d.registerEditorAction(R),d.registerEditorAction(F),d.registerEditorAction(D),r.registerThemingParticipant((B,A)=>{const W=B.getColor(l.editorSelectionHighlight);W&&(A.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${W}; }`),A.addRule(`.monaco-editor .selectionHighlight { background-color: ${W.transparent(.5)}; }`));const V=B.getColor(n);V&&A.addRule(`.monaco-editor .wordHighlight { background-color: ${V}; }`);const K=B.getColor(i);K&&A.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${K}; }`);const j=B.getColor(l.editorSelectionHighlightBorder);j&&A.addRule(`.monaco-editor .selectionHighlight { border: 1px ${B.type==="hc"?"dotted":"solid"} ${j}; box-sizing: border-box; }`);const ee=B.getColor(u);ee&&A.addRule(`.monaco-editor .wordHighlight { border: 1px ${B.type==="hc"?"dashed":"solid"} ${ee}; box-sizing: border-box; }`);const re=B.getColor(h);re&&A.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${B.type==="hc"?"dashed":"solid"} ${re}; box-sizing: border-box; }`)})}),define(Q[630],J([0,1,7,30,152,47,52,2,17,8,23,13,24,253,16,9,36,57,22,14,63,346]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new s.RawContextKey("accessibilityHelpWidgetVisible",!1);let v=class Bt extends _.Disposable{constructor(E,N){super();this._editor=E,this._widget=this._register(N.createInstance(g,this._editor))}static get(E){return E.getContribution(Bt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};v.ID="editor.contrib.accessibilityHelpController",v=Me([pe(1,l.IInstantiationService)],v);function m(L,E){return!L||L.length===0?u.AccessibilityHelpNLS.noSelection:L.length===1?E?f.format(u.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,E):f.format(u.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):E?f.format(u.AccessibilityHelpNLS.multiSelectionRange,L.length,E):L.length>0?f.format(u.AccessibilityHelpNLS.multiSelection,L.length):""}let g=class ct extends S.Widget{constructor(E,N,I,T){super();this._contextKeyService=N,this._keybindingService=I,this._openerService=T,this._editor=E,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=k.createFastDomNode(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=k.createFastDomNode(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(C.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",O=>{if(!!this._isVisible&&(O.equals(2048|35)&&(y.alert(u.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),C.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),O.preventDefault(),O.stopPropagation()),O.equals(2048|38))){y.alert(u.AccessibilityHelpNLS.openingDocs);let R=this._editor.getRawOptions().accessibilityHelpUrl;typeof R=="undefined"&&(R="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(p.URI.parse(R)),O.preventDefault(),O.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ct.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(E,N,I){let T=this._keybindingService.lookupKeybinding(E);return T?f.format(N,T.getAriaLabel()):f.format(I,E)}_buildContent(){const E=this._editor.getOptions(),N=this._editor.getSelections();let I=0;if(N){const F=this._editor.getModel();F&&N.forEach(D=>{I+=F.getValueLengthInRange(D)})}let T=m(N,I);E.get(49)?E.get(75)?T+=u.AccessibilityHelpNLS.readonlyDiffEditor:T+=u.AccessibilityHelpNLS.editableDiffEditor:E.get(75)?T+=u.AccessibilityHelpNLS.readonlyEditor:T+=u.AccessibilityHelpNLS.editableEditor;const O=d.isMacintosh?u.AccessibilityHelpNLS.changeConfigToOnMac:u.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(E.get(2)){case 0:T+=`

 - `+O;break;case 2:T+=`

 - `+u.AccessibilityHelpNLS.auto_on;break;case 1:T+=`

 - `+u.AccessibilityHelpNLS.auto_off,T+=" "+O;break}E.get(122)?T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,u.AccessibilityHelpNLS.tabFocusModeOnMsg,u.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,u.AccessibilityHelpNLS.tabFocusModeOffMsg,u.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const R=d.isMacintosh?u.AccessibilityHelpNLS.openDocMac:u.AccessibilityHelpNLS.openDocWinLinux;T+=`

 - `+R,T+=`

`+u.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild(M.renderFormattedText(T)),this._contentDomNode.domNode.setAttribute("aria-label",T)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,C.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let E=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(ct.WIDTH,E.width-40)),I=Math.max(5,Math.min(ct.HEIGHT,E.height-40));this._domNode.setWidth(N),this._domNode.setHeight(I);let T=Math.round((E.height-I)/2);this._domNode.setTop(T);let O=Math.round((E.width-N)/2);this._domNode.setLeft(O)}};g.ID="editor.contrib.accessibilityHelpWidget",g.WIDTH=500,g.HEIGHT=300,g=Me([pe(1,s.IContextKeyService),pe(2,r.IKeybindingService),pe(3,t.IOpenerService)],g);class b extends o.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:u.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(E,N){let I=v.get(N);I&&I.show()}}o.registerEditorContribution(v.ID,v),o.registerEditorAction(b);const w=o.EditorCommand.bindToContribution(v.get);o.registerEditorCommand(new w({id:"closeAccessibilityHelp",precondition:h,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:c.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),i.registerThemingParticipant((L,E)=>{const N=L.getColor(n.editorWidgetBackground);N&&E.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const I=L.getColor(n.editorWidgetForeground);I&&E.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const T=L.getColor(n.widgetShadow);T&&E.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${T}; }`);const O=L.getColor(n.contrastBorder);O&&E.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${O}; }`)})}),define(Q[631],J([0,1,7,29,2,13,18,74,67,113,22,14,63,96,348]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let s=class Vt extends M.Disposable{constructor(u,h,v){super();this._editor=u,this._modeService=v,this._widget=null,this._register(this._editor.onDidChangeModel(m=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(m=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(m=>this.stop())),this._register(this._editor.onKeyUp(m=>m.keyCode===9&&this.stop()))}static get(u){return u.getContribution(Vt.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new n(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};s.ID="editor.contrib.inspectTokens",s=Me([pe(1,f.IStandaloneThemeService),pe(2,d.IModeService)],s);class l extends y.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:c.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(u,h){let v=s.get(h);v&&v.launch()}}function r(i){let u="";for(let h=0,v=i.length;h<v;h++){let m=i.charCodeAt(h);switch(m){case 9:u+="\u2192";break;case 32:u+="\xB7";break;default:u+=String.fromCharCode(m)}}return u}function t(i){let u=S.TokenizationRegistry.get(i.language);return u||{getInitialState:()=>_.NULL_STATE,tokenize:(h,v,m,g)=>_.nullTokenize(i.language,h,m,g),tokenize2:(h,v,m,g)=>_.nullTokenize2(i.id,h,m,g)}}class n extends M.Disposable{constructor(u,h){super();this.allowEditorOverflow=!0,this._editor=u,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=t(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(v=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return n._ID}_compute(u){let h=this._getTokensAtLine(u.lineNumber),v=0;for(let L=h.tokens1.length-1;L>=0;L--){let E=h.tokens1[L];if(u.column-1>=E.offset){v=L;break}}let m=0;for(let L=h.tokens2.length>>>1;L>=0;L--)if(u.column-1>=h.tokens2[L<<1]){m=L;break}let g=this._model.getLineContent(u.lineNumber),b="";if(v<h.tokens1.length){let L=h.tokens1[v].offset,E=v+1<h.tokens1.length?h.tokens1[v+1].offset:g.length;b=g.substring(L,E)}C.reset(this._domNode,C.$("h2.tm-token",void 0,r(b),C.$("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),C.append(this._domNode,C.$("hr.tokens-inspect-separator",{style:"clear:both"}));const w=(m<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(m<<1)+1]):null;C.append(this._domNode,C.$("table.tm-metadata-table",void 0,C.$("tbody",void 0,C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"language"),C.$("td.tm-metadata-value",void 0,`${w?w.languageIdentifier.language:"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"token type"),C.$("td.tm-metadata-value",void 0,`${w?this._tokenTypeToString(w.tokenType):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"font style"),C.$("td.tm-metadata-value",void 0,`${w?this._fontStyleToString(w.fontStyle):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"foreground"),C.$("td.tm-metadata-value",void 0,`${w?k.Color.Format.CSS.formatHex(w.foreground):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"background"),C.$("td.tm-metadata-value",void 0,`${w?k.Color.Format.CSS.formatHex(w.background):"-?-"}`))))),C.append(this._domNode,C.$("hr.tokens-inspect-separator")),v<h.tokens1.length&&C.append(this._domNode,C.$("span.tm-token-type",void 0,h.tokens1[v].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(u){let h=S.TokenizationRegistry.getColorMap(),v=S.TokenMetadata.getLanguageId(u),m=S.TokenMetadata.getTokenType(u),g=S.TokenMetadata.getFontStyle(u),b=S.TokenMetadata.getForeground(u),w=S.TokenMetadata.getBackground(u);return{languageIdentifier:this._modeService.getLanguageIdentifier(v),tokenType:m,fontStyle:g,foreground:h[b],background:h[w]}}_tokenTypeToString(u){switch(u){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(u){let h="";return u&1&&(h+="italic "),u&2&&(h+="bold "),u&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(u){let h=this._getStateBeforeLine(u),v=this._tokenizationSupport.tokenize(this._model.getLineContent(u),!0,h,0),m=this._tokenizationSupport.tokenize2(this._model.getLineContent(u),!0,h,0);return{startState:h,tokens1:v.tokens,tokens2:m.tokens,endState:v.endState}}_getStateBeforeLine(u){let h=this._tokenizationSupport.getInitialState();for(let v=1;v<u;v++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(v),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}n._ID="editor.contrib.inspectTokensWidget",y.registerEditorContribution(s.ID,s),y.registerEditorAction(l),o.registerThemingParticipant((i,u)=>{const h=i.getColor(p.editorHoverBorder);if(h){let g=i.type===a.ColorScheme.HIGH_CONTRAST?2:1;u.addRule(`.monaco-editor .tokens-inspect-widget { border: ${g}px solid ${h}; }`),u.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const v=i.getColor(p.editorHoverBackground);v&&u.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${v}; }`);const m=i.getColor(p.editorHoverForeground);m&&u.addRule(`.monaco-editor .tokens-inspect-widget { color: ${m}; }`)})}),define(Q[632],J([0,1,625,33,95,28,21,63,4,13,24,77]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let c=class extends C.AbstractGotoLineQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=d.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};c=Me([pe(0,y.ICodeEditorService)],c),e.StandaloneGotoLineQuickAccessProvider=c,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:_.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class a extends f.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:_.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(l){l.get(o.IQuickInputService).quickAccess.show(c.PREFIX)}}e.GotoLineAction=a,f.registerEditorAction(a)}),define(Q[633],J([0,1,626,33,95,28,21,63,4,13,24,77]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let c=class extends C.AbstractGotoSymbolQuickAccessProvider{constructor(l){super();this.editorService=l,this.onDidActiveTextEditorControlChange=d.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};c=Me([pe(0,y.ICodeEditorService)],c),e.StandaloneGotoSymbolQuickAccessProvider=c,k.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:_.QuickOutlineNLS.quickOutlineActionLabel,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:_.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class a extends f.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:_.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:p.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(l){l.get(o.IQuickInputService).quickAccess.show(C.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=a,f.registerEditorAction(a)}),define(Q[634],J([0,1,7,43,598]),function(G,e,C,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;class y extends M.CodeEditorServiceImpl{getActiveCodeEditor(){return null}openCodeEditor(_,d,f){return d?Promise.resolve(this.doOpenEditor(d,_)):Promise.resolve(null)}doOpenEditor(_,d){if(!this.findModel(_,d.resource)){if(d.resource){const o=d.resource.scheme;if(o===k.Schemas.http||o===k.Schemas.https)return C.windowOpenNoOpener(d.resource.toString()),_}return null}const p=d.options?d.options.selection:null;if(p)if(typeof p.endLineNumber=="number"&&typeof p.endColumn=="number")_.setSelection(p),_.revealRangeInCenter(p,1);else{const o={lineNumber:p.startLineNumber,column:p.startColumn};_.setPosition(o),_.revealPositionInCenter(o,1)}return _}findModel(_,d){const f=_.getModel();return f&&f.uri.toString()!==d.toString()?null:f}}e.StandaloneCodeEditorServiceImpl=y}),define(Q[635],J([0,1,49,22]),function(G,e,C,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[C.editorIndentGuides]:"#D3D3D3",[C.editorActiveIndentGuides]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[C.editorIndentGuides]:"#404040",[C.editorActiveIndentGuides]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[C.editorIndentGuides]:"#FFFFFF",[C.editorActiveIndentGuides]:"#FFFFFF"}}}),define(Q[185],J([0,1,7,55,48,99,2,505,35,68,36,32,14,111,421,17]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function r(m,g,b,w){const L=m.getActions(g);return n(L,b,!1,w),t(L)}e.createAndFillInActionBarActions=r;function t(m){const g=new S.DisposableStore;for(const[,b]of m)for(const w of b)g.add(w);return g}function n(m,g,b,w=L=>L==="navigation"){for(let L of m){let[E,N]=L;if(b&&(N=N.map(I=>I instanceof d.MenuItemAction&&!!I.alt?I.alt:I)),w(E))(Array.isArray(g)?g:g.primary).unshift(...N);else{const I=Array.isArray(g)?g:g.secondary;I.length>0&&I.push(new M.Separator),I.push(...N)}}}const i=new y.IdGenerator("menu-item-action-item-icon-"),u=new Map;let h=class extends a.ActionViewItem{constructor(g,b,w){super(void 0,g,{icon:!!(g.class||g.item.icon),label:!g.class&&!g.item.icon});this._action=g,this._keybindingService=b,this._notificationService=w,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new S.MutableDisposable),this._altKey=C.ModifierKeyEmitter.getInstance()}get _commandAction(){return this._wantsAltCommand&&this._action.alt||this._action}onClick(g){g.preventDefault(),g.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).then(void 0,b=>this._notificationService.error(b))}render(g){super.render(g),this._updateItemClass(this._action.item);let b=!1,w=this._altKey.keyStatus.altKey||(l.isWindows||l.isLinux)&&this._altKey.keyStatus.shiftKey;const L=()=>{const E=b&&w;E!==this._wantsAltCommand&&(this._wantsAltCommand=E,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._action.alt&&this._register(this._altKey.event(E=>{w=E.altKey||(l.isWindows||l.isLinux)&&E.shiftKey,L()})),this._register(k.domEvent(g,"mouseleave")(E=>{b=!1,L()})),this._register(k.domEvent(g,"mouseenter")(E=>{b=!0,L()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const g=this._keybindingService.lookupKeybinding(this._commandAction.id),b=g&&g.getLabel(),w=this._commandAction.tooltip||this._commandAction.label;this.label.title=b?_.localize(0,null,w,b):w}}updateClass(){this.options.icon&&(this._commandAction!==this._action?this._action.alt&&this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))}_updateItemClass(g){var b,w;this._itemClassDispose.value=void 0;const L=this._commandAction.checked&&((b=g.toggled)===null||b===void 0?void 0:b.icon)?g.toggled.icon:g.icon;if(c.ThemeIcon.isThemeIcon(L)){const E=c.ThemeIcon.asClassName(L);this.label&&E&&(this.label.classList.add(...E.split(" ")),this._itemClassDispose.value=S.toDisposable(()=>{this.label&&this.label.classList.remove(...E.split(" "))}))}else if(L){let E;if((w=L.dark)===null||w===void 0?void 0:w.scheme){const N=L.dark.toString();u.has(N)?E=u.get(N):(E=i.nextId(),C.createCSSRule(`.icon.${E}`,`background-image: ${C.asCSSUrl(L.light||L.dark)}`),C.createCSSRule(`.vs-dark .icon.${E}, .hc-black .icon.${E}`,`background-image: ${C.asCSSUrl(L.dark)}`),u.set(N,E)),this.label&&(this.label.classList.add("icon",...E.split(" ")),this._itemClassDispose.value=S.toDisposable(()=>{this.label&&this.label.classList.remove("icon",...E.split(" "))}))}}}};h=Me([pe(1,p.IKeybindingService),pe(2,o.INotificationService)],h),e.MenuEntryActionViewItem=h;let v=class extends s.DropdownMenuActionViewItem{constructor(g,b,w){var L;let E;if(g.item.icon){if(c.ThemeIcon.isThemeIcon(g.item.icon))E=c.ThemeIcon.asClassName(g.item.icon);else if((L=g.item.icon.dark)===null||L===void 0?void 0:L.scheme){const N=g.item.icon.dark.toString();if(u.has(N))E=["icon",u.get(N)];else{const I=i.nextId();E=["icon",I],C.createCSSRule(`.icon.${I}`,`background-image: ${C.asCSSUrl(g.item.icon.light||g.item.icon.dark)}`),C.createCSSRule(`.vs-dark .icon.${I}, .hc-black .icon.${I}`,`background-image: ${C.asCSSUrl(g.item.icon.dark)}`),u.set(N,I)}}}super(g,g.actions,w,{classNames:E,menuAsChild:!0})}};v=Me([pe(1,o.INotificationService),pe(2,f.IContextMenuService)],v),e.SubmenuEntryActionViewItem=v}),define(Q[116],J([0,1,7,83,48,29,4,39,28,143,530,488,16,9,72,13,22,27,35,185,341]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=a.createDecorator("IPeekViewService"),s.registerSingleton(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(b,w){const L=this._widgets.get(b);L&&(L.listener.dispose(),L.widget.dispose());const E=()=>{const N=this._widgets.get(b);N&&N.widget===w&&(N.listener.dispose(),this._widgets.delete(b))};this._widgets.set(b,{widget:w,listener:w.onDidClose(E)})}});var u;(function(b){b.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0),b.notInPeekEditor=b.inPeekEditor.toNegated()})(u=e.PeekContext||(e.PeekContext={}));let h=class{constructor(w,L){w instanceof f.EmbeddedCodeEditorWidget&&u.inPeekEditor.bindTo(L)}dispose(){}};h.ID="editor.contrib.referenceController",h=Me([pe(1,c.IContextKeyService)],h),l.registerEditorContribution(h.ID,h);function v(b){let w=b.get(d.ICodeEditorService).getFocusedCodeEditor();return w instanceof f.EmbeddedCodeEditorWidget?w.getParentEditor():w}e.getOuterEditor=v;const m={headerBackgroundColor:y.Color.white,primaryHeadingColor:y.Color.fromHex("#333333"),secondaryHeadingColor:y.Color.fromHex("#6c6c6cb3")};let g=class extends p.ZoneWidget{constructor(w,L,E){super(w,L);this.instantiationService=E,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,_.mixin(this.options,m,!1)}dispose(){super.dispose(),this._onDidClose.fire(this)}style(w){let L=this.options;w.headerBackgroundColor&&(L.headerBackgroundColor=w.headerBackgroundColor),w.primaryHeadingColor&&(L.primaryHeadingColor=w.primaryHeadingColor),w.secondaryHeadingColor&&(L.secondaryHeadingColor=w.secondaryHeadingColor),super.style(w)}_applyStyles(){super._applyStyles();let w=this.options;this._headElement&&w.headerBackgroundColor&&(this._headElement.style.backgroundColor=w.headerBackgroundColor.toString()),this._primaryHeading&&w.primaryHeadingColor&&(this._primaryHeading.style.color=w.primaryHeadingColor.toString()),this._secondaryHeading&&w.secondaryHeadingColor&&(this._secondaryHeading.style.color=w.secondaryHeadingColor.toString()),this._bodyElement&&w.frameColor&&(this._bodyElement.style.borderColor=w.frameColor.toString())}_fillContainer(w){this.setCssClass("peekview-widget"),this._headElement=C.$(".head"),this._bodyElement=C.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),w.appendChild(this._headElement),w.appendChild(this._bodyElement)}_fillHead(w,L){const E=C.$(".peekview-title");C.append(this._headElement,E),C.addStandardDisposableListener(E,"click",T=>this._onTitleClick(T)),this._fillTitleIcon(E),this._primaryHeading=C.$("span.filename"),this._secondaryHeading=C.$("span.dirname"),this._metaHeading=C.$("span.meta"),C.append(E,this._primaryHeading,this._secondaryHeading,this._metaHeading);const N=C.$(".peekview-actions");C.append(this._headElement,N);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(N,I),this._disposables.add(this._actionbarWidget),L||this._actionbarWidget.push(new M.Action("peekview.close",o.localize(0,null),t.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(w){}_getActionBarOptions(){return{actionViewItemProvider:w=>{if(w instanceof n.MenuItemAction)return this.instantiationService.createInstance(i.MenuEntryActionViewItem,w);if(w instanceof n.SubmenuItemAction)return this.instantiationService.createInstance(i.SubmenuEntryActionViewItem,w)}}}_onTitleClick(w){}setTitle(w,L){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=w,this._primaryHeading.setAttribute("aria-label",w),L?this._secondaryHeading.innerText=L:C.clearNode(this._secondaryHeading))}setMetaTitle(w){this._metaHeading&&(w?(this._metaHeading.innerText=w,C.show(this._metaHeading)):C.hide(this._metaHeading))}_doLayout(w,L){if(!this._isShowing&&w<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(53)*1.2),N=Math.round(w-(E+2));this._doLayoutHead(E,L),this._doLayoutBody(N,L)}_doLayoutHead(w,L){this._headElement&&(this._headElement.style.height=`${w}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(w,L){this._bodyElement&&(this._bodyElement.style.height=`${w}px`)}};g=Me([pe(2,a.IInstantiationService)],g),e.PeekViewWidget=g,e.peekViewTitleBackground=r.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},o.localize(1,null)),e.peekViewTitleForeground=r.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},o.localize(2,null)),e.peekViewTitleInfoForeground=r.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},o.localize(3,null)),e.peekViewBorder=r.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:r.contrastBorder},o.localize(4,null)),e.peekViewResultsBackground=r.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:y.Color.black},o.localize(5,null)),e.peekViewResultsMatchForeground=r.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:y.Color.white},o.localize(6,null)),e.peekViewResultsFileForeground=r.registerColor("peekViewResult.fileForeground",{dark:y.Color.white,light:"#1E1E1E",hc:y.Color.white},o.localize(7,null)),e.peekViewResultsSelectionBackground=r.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},o.localize(8,null)),e.peekViewResultsSelectionForeground=r.registerColor("peekViewResult.selectionForeground",{dark:y.Color.white,light:"#6C6C6C",hc:y.Color.white},o.localize(9,null)),e.peekViewEditorBackground=r.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:y.Color.black},o.localize(10,null)),e.peekViewEditorGutterBackground=r.registerColor("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},o.localize(11,null)),e.peekViewResultsMatchHighlight=r.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},o.localize(12,null)),e.peekViewEditorMatchHighlight=r.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},o.localize(13,null)),e.peekViewEditorMatchHighlightBorder=r.registerColor("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:r.activeContrastBorder},o.localize(14,null))}),define(Q[636],J([0,1,7,83,2,114,499,185,35,16,9]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class o extends _.MenuEntryActionViewItem{updateLabel(){const s=this._keybindingService.lookupKeybinding(this._action.id);if(!s)return super.updateLabel();this.label&&(this.label.textContent=S.localize(0,null,this._action.label,o.symbolPrintEnter(s)))}static symbolPrintEnter(s){var l;return(l=s.getLabel())===null||l===void 0?void 0:l.replace(/\benter\b/gi,"\u23CE")}}let c=class{constructor(s,l,r,t){this._disposables=new M.DisposableStore,this.element=C.append(s,C.$(".suggest-status-bar"));const n=m=>m instanceof d.MenuItemAction?l.createInstance(o,m):void 0,i=new k.ActionBar(this.element,{actionViewItemProvider:n}),u=new k.ActionBar(this.element,{actionViewItemProvider:n}),h=r.createMenu(y.suggestWidgetStatusbarMenu,t);i.domNode.classList.add("left"),u.domNode.classList.add("right");const v=()=>{const m=[],g=[];for(let[b,w]of h.getActions())b==="left"?m.push(...w):g.push(...w);i.clear(),i.push(m),u.clear(),u.push(g)};this._disposables.add(h.onDidChange(()=>v())),this._disposables.add(h)}dispose(){this._disposables.dispose(),this.element.remove()}};c=Me([pe(1,p.IInstantiationService),pe(2,d.IMenuService),pe(3,f.IContextKeyService)],c),e.SuggestWidgetStatus=c}),define(Q[637],J([0,1,594,68,87,32,14,36,2,7]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let p=class extends d.Disposable{constructor(c,a,s,l,r){super();this.contextMenuHandler=new C.ContextMenuHandler(s,c,a,l,r)}configure(c){this.contextMenuHandler.configure(c)}showContextMenu(c){this.contextMenuHandler.showContextMenu(c),f.ModifierKeyEmitter.getInstance().resetKeyStatus()}};p=Me([pe(0,M.ITelemetryService),pe(1,y.INotificationService),pe(2,k.IContextViewService),pe(3,_.IKeybindingService),pe(4,S.IThemeService)],p),e.ContextMenuService=p}),define(Q[146],J([0,1,7,305,123,4,2,508,46,94,16,9,36,33,115,14,516,232,418,417,64]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=o.createDecorator("listService");let h=class{constructor(U){this._themeService=U,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(U,H){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const ie=new M.DefaultStyleController(C.createStyleSheet(),"");this.disposables.add(s.attachListStyler(ie,this._themeService))}if(this.lists.some(ie=>ie.widget===U))throw new Error("Cannot register the same widget multiple times");const q={widget:U,extraContextKeys:H};return this.lists.push(q),U.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=U),S.combinedDisposable(U.onDidFocus(()=>this._lastFocusedWidget=U),S.toDisposable(()=>this.lists.splice(this.lists.indexOf(q),1)),U.onDidDispose(()=>{this.lists=this.lists.filter(ie=>ie!==q),this._lastFocusedWidget===U&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};h=Me([pe(0,l.IThemeService)],h),e.ListService=h;const v=new p.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new p.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=p.ContextKeyExpr.and(v,p.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new p.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new p.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new p.RawContextKey("listMultiSelection",!1),e.WorkbenchListSupportsKeyboardNavigation=new p.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new p.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function m(z,U){const H=z.createScoped(U.getHTMLElement());return v.bindTo(H),H}const g="workbench.list.multiSelectModifier",b="workbench.list.openMode",w="workbench.list.horizontalScrolling",L="workbench.list.keyboardNavigation",E="workbench.list.automaticKeyboardNavigation",N="workbench.tree.indent",I="workbench.tree.renderIndentGuides",T="workbench.list.smoothScrolling",O="workbench.tree.expandMode";function R(z){return z.getValue(g)==="alt"}class F extends S.Disposable{constructor(U){super();this.configurationService=U,this.useAltAsMultipleSelectionModifier=R(U),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(U=>{U.affectsConfiguration(g)&&(this.useAltAsMultipleSelectionModifier=R(this.configurationService))}))}isSelectionSingleChangeEvent(U){return this.useAltAsMultipleSelectionModifier?U.browserEvent.altKey:M.isSelectionSingleChangeEvent(U)}isSelectionRangeChangeEvent(U){return M.isSelectionRangeChangeEvent(U)}}function D(z,U,H){const q=new S.DisposableStore,ie=Object.assign({},z);if(z.multipleSelectionSupport!==!1&&!z.multipleSelectionController){const ce=new F(U);ie.multipleSelectionController=ce,q.add(ce)}return ie.keyboardNavigationDelegate={mightProducePrintableCharacter(ce){return H.mightProducePrintableCharacter(ce)}},ie.smoothScrolling=U.getValue(T),[ie,q]}let B=class extends M.List{constructor(U,H,q,ie,ce,ue,Z,ne,$,X){const de=typeof ce.horizontalScrolling!="undefined"?ce.horizontalScrolling:$.getValue(w),[fe,se]=D(ce,$,X);super(U,H,q,ie,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},s.computeStyles(ne.getColorTheme(),s.defaultListStyles)),fe),{horizontalScrolling:de}));this.disposables.add(se),this.contextKeyService=m(ue,this),this.themeService=ne,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ce.multipleSelectionSupport!==!1),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=R($),this.disposables.add(this.contextKeyService),this.disposables.add(Z.register(this)),ce.overrideStyles&&this.updateStyles(ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),be=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||be.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),be=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||be.length>0)})),this.disposables.add($.onDidChangeConfiguration(me=>{me.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=R($));let be={};if(me.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const ye=$.getValue(w);be=Object.assign(Object.assign({},be),{horizontalScrolling:ye})}if(me.affectsConfiguration(T)){const ye=$.getValue(T);be=Object.assign(Object.assign({},be),{smoothScrolling:ye})}Object.keys(be).length>0&&this.updateOptions(be)}))}updateOptions(U){super.updateOptions(U),U.overrideStyles&&this.updateStyles(U.overrideStyles)}dispose(){super.dispose(),this._styler&&this._styler.dispose()}updateStyles(U){this._styler&&this._styler.dispose(),this._styler=s.attachListStyler(this,this.themeService,U)}};B=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,l.IThemeService),pe(8,d.IConfigurationService),pe(9,c.IKeybindingService)],B),e.WorkbenchList=B;let A=class extends k.PagedList{constructor(U,H,q,ie,ce,ue,Z,ne,$,X){const de=typeof ce.horizontalScrolling!="undefined"?ce.horizontalScrolling:$.getValue(w),[fe,se]=D(ce,$,X);super(U,H,q,ie,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},s.computeStyles(ne.getColorTheme(),s.defaultListStyles)),fe),{horizontalScrolling:de}));this.disposables=new S.DisposableStore,this.disposables.add(se),this.contextKeyService=m(ue,this),this.horizontalScrolling=ce.horizontalScrolling,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ce.multipleSelectionSupport!==!1),this._useAltAsMultipleSelectionModifier=R($),this.disposables.add(this.contextKeyService),this.disposables.add(Z.register(this)),ce.overrideStyles&&this.disposables.add(s.attachListStyler(this,ne,ce.overrideStyles)),this.disposables.add($.onDidChangeConfiguration(me=>{me.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=R($));let be={};if(me.affectsConfiguration(w)&&this.horizontalScrolling===void 0){const ye=$.getValue(w);be=Object.assign(Object.assign({},be),{horizontalScrolling:ye})}if(me.affectsConfiguration(T)){const ye=$.getValue(T);be=Object.assign(Object.assign({},be),{smoothScrolling:ye})}Object.keys(be).length>0&&this.updateOptions(be)}))}dispose(){super.dispose(),this.disposables.dispose()}};A=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,l.IThemeService),pe(8,d.IConfigurationService),pe(9,c.IKeybindingService)],A),e.WorkbenchPagedList=A;class W extends S.Disposable{constructor(U,H){var q,ie;super();this.widget=U,this._onDidOpen=this._register(new y.Emitter),this.onDidOpen=this._onDidOpen.event,this.openOnFocus=(q=H==null?void 0:H.openOnFocus)!==null&&q!==void 0?q:!1,this._register(y.Event.filter(this.widget.onDidChangeSelection,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onSelectionFromKeyboard(ce))),this._register(this.widget.onPointer(ce=>this.onPointer(ce.element,ce.browserEvent))),this._register(this.widget.onMouseDblClick(ce=>this.onMouseDblClick(ce.element,ce.browserEvent))),this.openOnFocus&&this._register(y.Event.filter(this.widget.onDidChangeFocus,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onFocusFromKeyboard(ce))),typeof(H==null?void 0:H.openOnSingleClick)!="boolean"&&(H==null?void 0:H.configurationService)?(this.openOnSingleClick=(H==null?void 0:H.configurationService.getValue(b))!=="doubleClick",this._register(H==null?void 0:H.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(H==null?void 0:H.configurationService.getValue(b))!=="doubleClick"}))):this.openOnSingleClick=(ie=H==null?void 0:H.openOnSingleClick)!==null&&ie!==void 0?ie:!0}onFocusFromKeyboard(U){const H=this.widget.getFocus();this.widget.setSelection(H,U.browserEvent);const q=typeof U.browserEvent.preserveFocus=="boolean"?U.browserEvent.preserveFocus:!0,ie=!q,ce=!1;this._open(this.getSelectedElement(),q,ie,ce,U.browserEvent)}onSelectionFromKeyboard(U){if(U.elements.length===1){const H=typeof U.browserEvent.preserveFocus=="boolean"?U.browserEvent.preserveFocus:!0,q=!H,ie=!1;this._open(this.getSelectedElement(),H,q,ie,U.browserEvent)}}onPointer(U,H){if(!!this.openOnSingleClick&&H.detail!==2){const ie=H.button===1,ce=!0,ue=ie,Z=H.ctrlKey||H.metaKey||H.altKey;this._open(U,ce,ue,Z,H)}}onMouseDblClick(U,H){if(!!H){const q=!1,ie=!0,ce=H.ctrlKey||H.metaKey||H.altKey;this._open(U,q,ie,ce,H)}}_open(U,H,q,ie,ce){!U||this._onDidOpen.fire({editorOptions:{preserveFocus:H,pinned:q,revealIfVisible:!0},sideBySide:ie,element:U,browserEvent:ce})}}class V extends W{constructor(U,H){super(U,H);this.widget=U}getSelectedElement(){var U;return(U=this.widget.getSelection()[0])!==null&&U!==void 0?U:void 0}}function K(z,U){let H=!1;return q=>{if(H)return H=!1,!1;const ie=U.softDispatch(q,z);return ie&&ie.enterChord?(H=!0,!1):(H=!1,!0)}}let j=class extends t.ObjectTree{constructor(U,H,q,ie,ce,ue,Z,ne,$,X,de){const{options:fe,getAutomaticKeyboardNavigation:se,disposable:le}=Y(H,ce,ue,$,X,de);super(U,H,q,ie,fe);this.disposables.add(le),this.internals=new P(this,ce,se,ce.overrideStyles,ue,Z,ne,$,de),this.disposables.add(this.internals)}};j=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,l.IThemeService),pe(8,d.IConfigurationService),pe(9,c.IKeybindingService),pe(10,u.IAccessibilityService)],j),e.WorkbenchObjectTree=j;let ee=class extends t.CompressibleObjectTree{constructor(U,H,q,ie,ce,ue,Z,ne,$,X,de){const{options:fe,getAutomaticKeyboardNavigation:se,disposable:le}=Y(H,ce,ue,$,X,de);super(U,H,q,ie,fe);this.disposables.add(le),this.internals=new P(this,ce,se,ce.overrideStyles,ue,Z,ne,$,de),this.disposables.add(this.internals)}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles)}};ee=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,l.IThemeService),pe(8,d.IConfigurationService),pe(9,c.IKeybindingService),pe(10,u.IAccessibilityService)],ee),e.WorkbenchCompressibleObjectTree=ee;let re=class extends i.DataTree{constructor(U,H,q,ie,ce,ue,Z,ne,$,X,de,fe){const{options:se,getAutomaticKeyboardNavigation:le,disposable:me}=Y(H,ue,Z,X,de,fe);super(U,H,q,ie,ce,se);this.disposables.add(me),this.internals=new P(this,ue,le,ue.overrideStyles,Z,ne,$,X,fe),this.disposables.add(this.internals)}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles)}};re=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,l.IThemeService),pe(9,d.IConfigurationService),pe(10,c.IKeybindingService),pe(11,u.IAccessibilityService)],re),e.WorkbenchDataTree=re;let te=class extends n.AsyncDataTree{constructor(U,H,q,ie,ce,ue,Z,ne,$,X,de,fe){const{options:se,getAutomaticKeyboardNavigation:le,disposable:me}=Y(H,ue,Z,X,de,fe);super(U,H,q,ie,ce,se);this.disposables.add(me),this.internals=new P(this,ue,le,ue.overrideStyles,Z,ne,$,X,fe),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(U={}){super.updateOptions(U),U.overrideStyles&&this.internals.updateStyleOverrides(U.overrideStyles)}};te=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,l.IThemeService),pe(9,d.IConfigurationService),pe(10,c.IKeybindingService),pe(11,u.IAccessibilityService)],te),e.WorkbenchAsyncDataTree=te;let ae=class extends n.CompressibleAsyncDataTree{constructor(U,H,q,ie,ce,ue,Z,ne,$,X,de,fe,se){const{options:le,getAutomaticKeyboardNavigation:me,disposable:be}=Y(H,Z,ne,de,fe,se);super(U,H,q,ie,ce,ue,le);this.disposables.add(be),this.internals=new P(this,Z,me,Z.overrideStyles,ne,$,X,de,se),this.disposables.add(this.internals)}};ae=Me([pe(7,p.IContextKeyService),pe(8,e.IListService),pe(9,l.IThemeService),pe(10,d.IConfigurationService),pe(11,c.IKeybindingService),pe(12,u.IAccessibilityService)],ae),e.WorkbenchCompressibleAsyncDataTree=ae;function Y(z,U,H,q,ie,ce){var ue;e.WorkbenchListSupportsKeyboardNavigation.bindTo(H),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(H),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const Z=()=>{let le=H.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey);return le&&(le=q.getValue(E)),le},$=ce.isScreenReaderOptimized()?"simple":q.getValue(L),X=U.horizontalScrolling!==void 0?U.horizontalScrolling:q.getValue(w),[de,fe]=D(U,q,ie),se=U.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Z,disposable:fe,options:Object.assign(Object.assign({keyboardSupport:!1},de),{indent:q.getValue(N),renderIndentGuides:q.getValue(I),smoothScrolling:q.getValue(T),automaticKeyboardNavigation:Z(),simpleKeyboardNavigation:$==="simple",filterOnType:$==="filter",horizontalScrolling:X,keyboardNavigationEventFilter:K(z,ie),additionalScrollHeight:se,hideTwistiesOfChildlessElements:U.hideTwistiesOfChildlessElements,expandOnlyOnDoubleClick:q.getValue(b)==="doubleClick",expandOnlyOnTwistieClick:(ue=U.expandOnlyOnTwistieClick)!==null&&ue!==void 0?ue:q.getValue(O)==="doubleClick"})}}let P=class{constructor(U,H,q,ie,ce,ue,Z,ne,$){this.tree=U,this.themeService=Z,this.disposables=[],this.contextKeyService=m(ce,U),e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(H.multipleSelectionSupport!==!1),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=R(ne);const de=new Set;de.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const fe=()=>{const le=$.isScreenReaderOptimized()?"simple":ne.getValue(L);U.updateOptions({simpleKeyboardNavigation:le==="simple",filterOnType:le==="filter"})};this.updateStyleOverrides(ie),this.disposables.push(this.contextKeyService,ue.register(U),U.onDidChangeSelection(()=>{const se=U.getSelection(),le=U.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(se.length>0||le.length>0),this.hasMultiSelection.set(se.length>1),this.hasDoubleSelection.set(se.length===2)})}),U.onDidChangeFocus(()=>{const se=U.getSelection(),le=U.getFocus();this.hasSelectionOrFocus.set(se.length>0||le.length>0)}),ne.onDidChangeConfiguration(se=>{let le={};if(se.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=R(ne)),se.affectsConfiguration(N)){const me=ne.getValue(N);le=Object.assign(Object.assign({},le),{indent:me})}if(se.affectsConfiguration(I)){const me=ne.getValue(I);le=Object.assign(Object.assign({},le),{renderIndentGuides:me})}if(se.affectsConfiguration(T)){const me=ne.getValue(T);le=Object.assign(Object.assign({},le),{smoothScrolling:me})}if(se.affectsConfiguration(L)&&fe(),se.affectsConfiguration(E)&&(le=Object.assign(Object.assign({},le),{automaticKeyboardNavigation:q()})),se.affectsConfiguration(w)&&H.horizontalScrolling===void 0){const me=ne.getValue(w);le=Object.assign(Object.assign({},le),{horizontalScrolling:me})}se.affectsConfiguration(b)&&(le=Object.assign(Object.assign({},le),{expandOnlyOnDoubleClick:ne.getValue(b)==="doubleClick"})),se.affectsConfiguration(O)&&H.expandOnlyOnTwistieClick===void 0&&(le=Object.assign(Object.assign({},le),{expandOnlyOnTwistieClick:ne.getValue(O)==="doubleClick"})),Object.keys(le).length>0&&U.updateOptions(le)}),this.contextKeyService.onDidChangeContext(se=>{se.affectsSome(de)&&U.updateOptions({automaticKeyboardNavigation:q()})}),$.onDidChangeScreenReaderOptimized(()=>fe())),this.navigator=new V(U,Object.assign({configurationService:ne},H)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(U){S.dispose(this.styler),this.styler=U?s.attachListStyler(this.tree,this.themeService,U):S.Disposable.None}dispose(){this.disposables=S.dispose(this.disposables),S.dispose(this.styler),this.styler=void 0}};P=Me([pe(4,p.IContextKeyService),pe(5,e.IListService),pe(6,l.IThemeService),pe(7,d.IConfigurationService),pe(8,u.IAccessibilityService)],P),a.Registry.as(f.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:_.localize(0,null),type:"object",properties:{[g]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[_.localize(1,null),_.localize(2,null)],default:"ctrlCmd",description:_.localize(3,null)},[b]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:_.localize(4,null)},[w]:{type:"boolean",default:!1,description:_.localize(5,null)},[N]:{type:"number",default:8,minimum:0,maximum:40,description:_.localize(6,null)},[I]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:_.localize(7,null)},[T]:{type:"boolean",default:!1,description:_.localize(8,null)},[L]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[_.localize(9,null),_.localize(10,null),_.localize(11,null)],default:"highlight",description:_.localize(12,null)},[E]:{type:"boolean",default:!0,markdownDescription:_.localize(13,null)},[O]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:_.localize(14,null)}}})}),define(Q[638],J([0,1,138,9,14,22,25,115,16,64,433,146,562]),function(G,e,C,k,M,y,S,_,d,f,p,o,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let a=class extends M.Themable{constructor(l,r,t,n,i){super(t);this.instantiationService=l,this.contextKeyService=r,this.accessibilityService=n,this.layoutService=i,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(c.QuickAccessController))),this._quickAccess}createController(l=this.layoutService,r){var t,n;const i={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>l.focus(),createList:(h,v,m,g,b)=>this.instantiationService.createInstance(o.WorkbenchList,h,v,m,g,b),styles:this.computeStyles()},u=this._register(new p.QuickInputController(Object.assign(Object.assign({},i),r)));return u.layout(l.dimension,(n=(t=l.offset)===null||t===void 0?void 0:t.top)!==null&&n!==void 0?n:0),this._register(l.onLayout(h=>{var v,m;return u.layout(h,(m=(v=l.offset)===null||v===void 0?void 0:v.top)!==null&&m!==void 0?m:0)})),this._register(u.onShow(()=>this.resetContextKeys())),this._register(u.onHide(()=>this.resetContextKeys())),u}setContextKey(l){let r;l&&(r=this.contexts.get(l),r||(r=new d.RawContextKey(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,r={},t=S.CancellationToken.None){return this.controller.pick(l,r,t)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},_.computeStyles(this.theme,{quickInputBackground:y.quickInputBackground,quickInputForeground:y.quickInputForeground,quickInputTitleBackground:y.quickInputTitleBackground,contrastBorder:y.contrastBorder,widgetShadow:y.widgetShadow})),inputBox:_.computeStyles(this.theme,{inputForeground:y.inputForeground,inputBackground:y.inputBackground,inputBorder:y.inputBorder,inputValidationInfoBackground:y.inputValidationInfoBackground,inputValidationInfoForeground:y.inputValidationInfoForeground,inputValidationInfoBorder:y.inputValidationInfoBorder,inputValidationWarningBackground:y.inputValidationWarningBackground,inputValidationWarningForeground:y.inputValidationWarningForeground,inputValidationWarningBorder:y.inputValidationWarningBorder,inputValidationErrorBackground:y.inputValidationErrorBackground,inputValidationErrorForeground:y.inputValidationErrorForeground,inputValidationErrorBorder:y.inputValidationErrorBorder}),countBadge:_.computeStyles(this.theme,{badgeBackground:y.badgeBackground,badgeForeground:y.badgeForeground,badgeBorder:y.contrastBorder}),button:_.computeStyles(this.theme,{buttonForeground:y.buttonForeground,buttonBackground:y.buttonBackground,buttonHoverBackground:y.buttonHoverBackground,buttonBorder:y.contrastBorder}),progressBar:_.computeStyles(this.theme,{progressBarBackground:y.progressBarBackground}),list:_.computeStyles(this.theme,{listBackground:y.quickInputBackground,listInactiveFocusForeground:y.listFocusForeground,listInactiveFocusBackground:y.listFocusBackground,listFocusOutline:y.activeContrastBorder,listInactiveFocusOutline:y.activeContrastBorder,pickerGroupBorder:y.pickerGroupBorder,pickerGroupForeground:y.pickerGroupForeground})}}};a=Me([pe(0,k.IInstantiationService),pe(1,d.IContextKeyService),pe(2,M.IThemeService),pe(3,f.IAccessibilityService),pe(4,C.ILayoutService)],a),e.QuickInputService=a}),define(Q[639],J([0,1,13,14,25,9,16,64,138,28,638,88,349]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let c=class extends p.QuickInputService{constructor(t,n,i,u,h,v){super(n,i,u,h,v);this.host=void 0;const m=s.get(t);this.host={_serviceBrand:void 0,get container(){return m.widget.getDomNode()},get dimension(){return t.getLayoutInfo()},get onLayout(){return t.onDidLayoutChange},focus:()=>t.focus()}}createController(){return super.createController(this.host)}};c=Me([pe(1,y.IInstantiationService),pe(2,S.IContextKeyService),pe(3,k.IThemeService),pe(4,_.IAccessibilityService),pe(5,d.ILayoutService)],c),e.EditorScopedQuickInputServiceImpl=c;let a=class{constructor(t,n){this.instantiationService=t,this.codeEditorService=n,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let n=this.mapEditorToService.get(t);if(!n){const i=n=this.instantiationService.createInstance(c,t);this.mapEditorToService.set(t,n),o.once(t.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(t)})}return n}get quickAccess(){return this.activeService.quickAccess}pick(t,n={},i=M.CancellationToken.None){return this.activeService.pick(t,n,i)}createQuickPick(){return this.activeService.createQuickPick()}};a=Me([pe(0,y.IInstantiationService),pe(1,f.ICodeEditorService)],a),e.StandaloneQuickInputServiceImpl=a;class s{constructor(t){this.editor=t,this.widget=new l(this.editor)}static get(t){return t.getContribution(s.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=s,s.ID="editor.controller.quickInput";class l{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return l.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=l,l.ID="editor.contrib.quickInputWidget",C.registerEditorContribution(s.ID,s)}),define(Q[640],J([0,1,81,14,22,27]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(_){function d(f){switch(f){case C.default.Ignore:return"severity-ignore "+y.Codicon.info.classNames;case C.default.Info:return y.Codicon.info.classNames;case C.default.Warning:return y.Codicon.warning.classNames;case C.default.Error:return y.Codicon.error.classNames;default:return""}}_.className=d})(S=e.SeverityIcon||(e.SeverityIcon={})),k.registerThemingParticipant((_,d)=>{const f=_.getColor(M.problemsErrorIconForeground);if(f){const c=y.Codicon.error.cssSelector;d.addRule(`
			.monaco-editor .zone-widget ${c},
			.markers-panel .marker-icon${c},
			.extensions-viewlet > .extensions ${c} {
				color: ${f};
			}
		`)}const p=_.getColor(M.problemsWarningIconForeground);if(p){const c=y.Codicon.warning.cssSelector;d.addRule(`
			.monaco-editor .zone-widget ${c},
			.markers-panel .marker-icon${c},
			.extensions-viewlet > .extensions ${c},
			.extension-editor ${c} {
				color: ${p};
			}
		`)}const o=_.getColor(M.problemsInfoIconForeground);if(o){const c=y.Codicon.info.cssSelector;d.addRule(`
			.monaco-editor .zone-widget ${c},
			.markers-panel .marker-icon${c},
			.extensions-viewlet > .extensions ${c},
			.extension-editor ${c} {
				color: ${o};
			}
		`)}})}),define(Q[641],J([0,1,468,7,2,85,3,22,14,29,60,155,19,4,116,40,640,57,35,16,185,9,8,335]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class m{constructor(N,I,T,O){this._openerService=O,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new M.DisposableStore,this._editor=I;const R=document.createElement("div");R.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),R.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),R.appendChild(this._relatedBlock),this._disposables.add(k.addStandardDisposableListener(this._relatedBlock,"click",F=>{F.preventDefault();const D=this._relatedDiagnostics.get(F.target);D&&T(D)})),this._scrollable=new p.ScrollableElement(R,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),N.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(F=>{R.style.left=`-${F.scrollLeft}px`,R.style.top=`-${F.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){M.dispose(this._disposables)}update(N){const{source:I,message:T,relatedInformation:O,code:R}=N;let F=((I==null?void 0:I.length)||0)+"()".length;R&&(typeof R=="string"?F+=R.length:F+=R.value.length);const D=v.splitLines(T);this._lines=D.length,this._longestLineLength=0;for(const K of D)this._longestLineLength=Math.max(K.length+F,this._longestLineLength);k.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(N)),this._editor.applyFontInfo(this._messageBlock);let B=this._messageBlock;for(const K of D)B=document.createElement("div"),B.innerText=K,K===""&&(B.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(B);if(I||R){const K=document.createElement("span");if(K.classList.add("details"),B.appendChild(K),I){const j=document.createElement("span");j.innerText=I,j.classList.add("source"),K.appendChild(j)}if(R)if(typeof R=="string"){const j=document.createElement("span");j.innerText=`(${R})`,j.classList.add("code"),K.appendChild(j)}else{this._codeLink=k.$("a.code-link"),this._codeLink.setAttribute("href",`${R.target.toString()}`),this._codeLink.onclick=ee=>{this._openerService.open(R.target),ee.preventDefault(),ee.stopPropagation()};const j=k.append(this._codeLink,k.$("span"));j.innerText=R.value,K.appendChild(this._codeLink)}}if(k.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),c.isNonEmptyArray(O)){const K=this._relatedBlock.appendChild(document.createElement("div"));K.style.paddingTop=`${Math.floor(this._editor.getOption(53)*.66)}px`,this._lines+=1;for(const j of O){let ee=document.createElement("div"),re=document.createElement("a");re.classList.add("filename"),re.innerText=`${o.getBaseLabel(j.resource)}(${j.startLineNumber}, ${j.startColumn}): `,re.title=o.getPathLabel(j.resource,void 0),this._relatedDiagnostics.set(re,j);let te=document.createElement("span");te.innerText=j.message,ee.appendChild(re),ee.appendChild(te),this._lines+=1,K.appendChild(ee)}}const A=this._editor.getOption(38),W=Math.ceil(A.typicalFullwidthCharacterWidth*this._longestLineLength*.75),V=A.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:W,scrollHeight:V})}layout(N,I){this._scrollable.getDomNode().style.height=`${N}px`,this._scrollable.getDomNode().style.width=`${I}px`,this._scrollable.setScrollDimensions({width:I,height:N})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(N){let I="";switch(N.severity){case y.MarkerSeverity.Error:I=C.localize(0,null);break;case y.MarkerSeverity.Warning:I=C.localize(1,null);break;case y.MarkerSeverity.Info:I=C.localize(2,null);break;case y.MarkerSeverity.Hint:I=C.localize(3,null);break}let T=C.localize(4,null,I,N.startLineNumber+":"+N.startColumn);const O=this._editor.getModel();return O&&N.startLineNumber<=O.getLineCount()&&N.startLineNumber>=1&&(T=`${O.getLineContent(N.startLineNumber)}, ${T}`),T}}let g=class zt extends s.PeekViewWidget{constructor(N,I,T,O,R,F){super(N,{showArrow:!0,showFrame:!0,isAccessible:!0},R);this._themeService=I,this._openerService=T,this._menuService=O,this._contextKeyService=F,this._callOnDispose=new M.DisposableStore,this._onDidSelectRelatedInformation=new a.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=y.MarkerSeverity.Warning,this._backgroundColor=f.Color.white,this._applyTheme(I.getColorTheme()),this._callOnDispose.add(I.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(N){this._backgroundColor=N.getColor(e.editorMarkerNavigationBackground);let I=e.editorMarkerNavigationError;this._severity===y.MarkerSeverity.Warning?I=e.editorMarkerNavigationWarning:this._severity===y.MarkerSeverity.Info&&(I=e.editorMarkerNavigationInfo);const T=N.getColor(I);this.style({arrowColor:T,frameColor:T,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:N.getColor(s.peekViewTitleForeground),secondaryHeadingColor:N.getColor(s.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(N){super._fillHead(N),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(O=>this.editor.focus()));const I=[],T=this._menuService.createMenu(zt.TitleMenu,this._contextKeyService);u.createAndFillInActionBarActions(T,void 0,I),this._actionbarWidget.push(I,{label:!1,icon:!0,index:0}),T.dispose()}_fillTitleIcon(N){this._icon=k.append(N,k.$(""))}_getActionBarOptions(){return Object.assign(Object.assign({},super._getActionBarOptions()),{orientation:0})}_fillBody(N){this._parentContainer=N,N.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),N.appendChild(this._container),this._message=new m(this._container,this.editor,I=>this._onDidSelectRelatedInformation.fire(I),this._openerService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(N,I,T){this._container.classList.remove("stale"),this._message.update(N),this._severity=N.severity,this._applyTheme(this._themeService.getColorTheme());let O=S.Range.lift(N);const R=this.editor.getPosition();let F=R&&O.containsPosition(R)?R:O.getStartPosition();super.show(F,this.computeRequiredHeight());const D=this.editor.getModel();if(D){const B=T>1?C.localize(5,null,I,T):C.localize(6,null,I,T);this.setTitle(l.basename(D.uri),B)}this._icon.className=`codicon ${r.SeverityIcon.className(y.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(F,0),this.editor.focus()}updateMarker(N){this._container.classList.remove("stale"),this._message.update(N)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(N,I){super._doLayoutBody(N,I),this._heightInPixel=N,this._message.layout(N,I),this._container.style.height=`${N}px`}_onWidth(N){this._message.layout(this._heightInPixel,N)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};g.TitleMenu=new n.MenuId("gotoErrorTitleMenu"),g=Me([pe(1,d.IThemeService),pe(2,t.IOpenerService),pe(3,n.IMenuService),pe(4,h.IInstantiationService),pe(5,i.IContextKeyService)],g),e.MarkerNavigationWidget=g;let b=_.oneOf(_.editorErrorForeground,_.editorErrorBorder),w=_.oneOf(_.editorWarningForeground,_.editorWarningBorder),L=_.oneOf(_.editorInfoForeground,_.editorInfoBorder);e.editorMarkerNavigationError=_.registerColor("editorMarkerNavigationError.background",{dark:b,light:b,hc:b},C.localize(7,null)),e.editorMarkerNavigationWarning=_.registerColor("editorMarkerNavigationWarning.background",{dark:w,light:w,hc:w},C.localize(8,null)),e.editorMarkerNavigationInfo=_.registerColor("editorMarkerNavigationInfo.background",{dark:L,light:L,hc:L},C.localize(9,null)),e.editorMarkerNavigationBackground=_.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:f.Color.white,hc:"#0C141F"},C.localize(10,null)),d.registerThemingParticipant((E,N)=>{const I=E.getColor(_.textLinkForeground);I&&(N.addRule(`.monaco-editor .marker-widget a { color: ${I}; }`),N.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${I}; }`))})}),define(Q[79],J([0,1,33,14,4,513,181,15,27]),function(G,e,C,k,M,y,S,_,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class f{constructor(){this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:y.localize(0,null)},fontCharacter:{type:"string",description:y.localize(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.iconsById={}}registerIcon(t,n,i,u){const h=this.iconsById[t];if(h){if(i&&!h.description){h.description=i,this.iconSchema.properties[t].markdownDescription=`${i} $(${t})`;const g=this.iconReferenceSchema.enum.indexOf(t);g!==-1&&(this.iconReferenceSchema.enumDescriptions[g]=i),this._onDidChange.fire()}return h}let v={id:t,description:i,defaults:n,deprecationMessage:u};this.iconsById[t]=v;let m={$ref:"#/definitions/icons"};return u&&(m.deprecationMessage=u),i&&(m.markdownDescription=`${i}: $(${t})`),this.iconSchema.properties[t]=m,this.iconReferenceSchema.enum.push(t),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:t}}getIconSchema(){return this.iconSchema}getCSS(){const t=[];for(let n in this.iconsById){const i=this.formatRule(n);i&&t.push(i)}return t.join(`
`)}formatRule(t){let n=this.iconsById[t].defaults;for(;k.ThemeIcon.isThemeIcon(n);){const i=this.iconsById[n.id];if(!i)return;n=i.defaults}return`.codicon-${t}:before { content: '${n.character}'; }`}toString(){const t=(h,v)=>h.id.localeCompare(v.id),n=h=>{for(;k.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let i=[];i.push("| preview     | identifier                        | default codicon id                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const u=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of u.filter(v=>!!v.description).sort(t))i.push(`|<i class="${n(h)}"></i>|${h.id}|${k.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const h of u.filter(v=>!k.ThemeIcon.isThemeIcon(v.defaults)).sort(t))i.push(`|<i class="${n(h)}"></i>|${h.id}|`);return i.join(`
`)}}const p=new f;C.Registry.add(e.Extensions.IconContribution,p);function o(r,t,n,i){return p.registerIcon(r,t,n,i)}e.registerIcon=o;function c(){return p}e.getIconRegistry=c;function a(){for(const r of d.iconRegistry.all)p.registerIcon(r.id,r.definition,r.description);d.iconRegistry.onDidRegister(r=>p.registerIcon(r.id,r.definition,r.description))}a(),e.iconsSchemaId="vscode://schemas/icons";let s=C.Registry.as(S.Extensions.JSONContribution);s.registerSchema(e.iconsSchemaId,p.getIconSchema());const l=new _.RunOnceScheduler(()=>s.notifySchemaChanged(e.iconsSchemaId),200);p.onDidChange(()=>{l.isScheduled()||l.schedule()}),e.widgetClose=o("widget-close",d.Codicon.close,y.localize(2,null))}),define(Q[642],J([0,1,439,7,30,83,60,48,2,69,13,28,37,112,12,49,128,62,16,22,14,27,79,325]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const m=3;class g{constructor(F,D,B,A){this.originalLineStart=F,this.originalLineEnd=D,this.modifiedLineStart=B,this.modifiedLineEnd=A}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class b{constructor(F){this.entries=F}}const w=v.registerIcon("diff-review-insert",h.Codicon.add,C.localize(0,null)),L=v.registerIcon("diff-review-remove",h.Codicon.remove,C.localize(1,null)),E=v.registerIcon("diff-review-close",h.Codicon.close,C.localize(2,null));class N extends d.Disposable{constructor(F){super();this._width=0,this._diffEditor=F,this._isVisible=!1,this.shadow=M.createFastDomNode(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=M.createFastDomNode(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new y.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new _.Action("diffreview.close",C.localize(3,null),"close-diff-review "+u.ThemeIcon.asClassName(E),!0,()=>(this.hide(),Promise.resolve(null))),{label:!1,icon:!0}),this.domNode=M.createFastDomNode(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=M.createFastDomNode(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(F.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(F.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"click",D=>{D.preventDefault();let B=k.findParentWithClass(D.target,"diff-review-row");B&&this._goToRow(B)})),this._register(k.addStandardDisposableListener(this.domNode.domNode,"keydown",D=>{(D.equals(18)||D.equals(2048|18)||D.equals(512|18))&&(D.preventDefault(),this._goToRow(this._getNextRow())),(D.equals(16)||D.equals(2048|16)||D.equals(512|16))&&(D.preventDefault(),this._goToRow(this._getPrevRow())),(D.equals(9)||D.equals(2048|9)||D.equals(512|9)||D.equals(1024|9))&&(D.preventDefault(),this.hide()),(D.equals(10)||D.equals(3))&&(D.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let A=0,W=this._diffs.length;A<W;A++)if(this._diffs[A]===this._currentDiff){B=A;break}F=this._diffs.length+B-1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const D=this._diffs[F].entries;this._diffEditor.setPosition(new s.Position(D[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:D[0].modifiedLineStart,endColumn:1073741824,endLineNumber:D[D.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}next(){let F=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let B=-1;for(let A=0,W=this._diffs.length;A<W;A++)if(this._diffs[A]===this._currentDiff){B=A;break}F=B+1}else F=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){F=F%this._diffs.length;const D=this._diffs[F].entries;this._diffEditor.setPosition(new s.Position(D[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:D[0].modifiedLineStart,endColumn:1073741824,endLineNumber:D[D.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}accept(){let F=-1,D=this._getCurrentFocusedRow();if(D){let B=parseInt(D.getAttribute("data-line"),10);isNaN(B)||(F=B)}this.hide(),F!==-1&&(this._diffEditor.setPosition(new s.Position(F,1)),this._diffEditor.revealPosition(new s.Position(F,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let F=this._getCurrentFocusedRow();return F?F.previousElementSibling?F.previousElementSibling:F:this._getFirstRow()}_getNextRow(){let F=this._getCurrentFocusedRow();return F?F.nextElementSibling?F.nextElementSibling:F:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let F=document.activeElement;return F&&/diff-review-row/.test(F.className)?F:null}_goToRow(F){let D=this._getCurrentFocusedRow();F.tabIndex=0,F.focus(),D&&D!==F&&(D.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(F,D,B){this._width=D,this.shadow.setTop(F-6),this.shadow.setWidth(D),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(F),this.domNode.setWidth(D),this.domNode.setHeight(B),this._content.setHeight(B),this._content.setWidth(D),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const F=this._diffEditor.getLineChanges();if(!F||F.length===0)return[];const D=this._diffEditor.getOriginalEditor().getModel(),B=this._diffEditor.getModifiedEditor().getModel();return!D||!B?[]:N._mergeAdjacent(F,D.getLineCount(),B.getLineCount())}static _mergeAdjacent(F,D,B){if(!F||F.length===0)return[];let A=[],W=0;for(let ee=0,re=F.length;ee<re;ee++){const te=F[ee],ae=te.originalStartLineNumber,Y=te.originalEndLineNumber,P=te.modifiedStartLineNumber,x=te.modifiedEndLineNumber;let z=[],U=0;{const H=Y===0?ae:ae-1,q=x===0?P:P-1;let ie=1,ce=1;if(ee>0){const ne=F[ee-1];ne.originalEndLineNumber===0?ie=ne.originalStartLineNumber+1:ie=ne.originalEndLineNumber+1,ne.modifiedEndLineNumber===0?ce=ne.modifiedStartLineNumber+1:ce=ne.modifiedEndLineNumber+1}let ue=H-m+1,Z=q-m+1;if(ue<ie){const ne=ie-ue;ue=ue+ne,Z=Z+ne}if(Z<ce){const ne=ce-Z;ue=ue+ne,Z=Z+ne}z[U++]=new g(ue,H,Z,q)}Y!==0&&(z[U++]=new g(ae,Y,0,0)),x!==0&&(z[U++]=new g(0,0,P,x));{const H=Y===0?ae+1:Y+1,q=x===0?P+1:x+1;let ie=D,ce=B;if(ee+1<re){const ne=F[ee+1];ne.originalEndLineNumber===0?ie=ne.originalStartLineNumber:ie=ne.originalStartLineNumber-1,ne.modifiedEndLineNumber===0?ce=ne.modifiedStartLineNumber:ce=ne.modifiedStartLineNumber-1}let ue=H+m-1,Z=q+m-1;if(ue>ie){const ne=ie-ue;ue=ue+ne,Z=Z+ne}if(Z>ce){const ne=ce-Z;ue=ue+ne,Z=Z+ne}z[U++]=new g(H,ue,q,Z)}A[W++]=new b(z)}let V=A[0].entries,K=[],j=0;for(let ee=1,re=A.length;ee<re;ee++){const te=A[ee].entries,ae=V[V.length-1],Y=te[0];if(ae.getType()===0&&Y.getType()===0&&Y.originalLineStart<=ae.originalLineEnd){V[V.length-1]=new g(ae.originalLineStart,Y.originalLineEnd,ae.modifiedLineStart,Y.modifiedLineEnd),V=V.concat(te.slice(1));continue}K[j++]=new b(V),V=te}return K[j++]=new b(V),K}_findDiffIndex(F){const D=F.lineNumber;for(let B=0,A=this._diffs.length;B<A;B++){const W=this._diffs[B].entries,V=W[W.length-1].modifiedLineEnd;if(D<=V)return B}return 0}_render(){const F=this._diffEditor.getOriginalEditor().getOptions(),D=this._diffEditor.getModifiedEditor().getOptions(),B=this._diffEditor.getOriginalEditor().getModel(),A=this._diffEditor.getModifiedEditor().getModel(),W=B.getOptions(),V=A.getOptions();if(!this._isVisible||!B||!A){k.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const K=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[K]!==this._currentDiff){this._currentDiff=this._diffs[K];const j=this._diffs[K].entries;let ee=document.createElement("div");ee.className="diff-review-table",ee.setAttribute("role","list"),ee.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),f.Configuration.applyFontInfoSlow(ee,D.get(38));let re=0,te=0,ae=0,Y=0;for(let Z=0,ne=j.length;Z<ne;Z++){const $=j[Z],X=$.originalLineStart,de=$.originalLineEnd,fe=$.modifiedLineStart,se=$.modifiedLineEnd;X!==0&&(re===0||X<re)&&(re=X),de!==0&&(te===0||de>te)&&(te=de),fe!==0&&(ae===0||fe<ae)&&(ae=fe),se!==0&&(Y===0||se>Y)&&(Y=se)}let P=document.createElement("div");P.className="diff-review-row";let x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const z=te-re+1,U=Y-ae+1;x.appendChild(document.createTextNode(`${K+1}/${this._diffs.length}: @@ -${re},${z} +${ae},${U} @@`)),P.setAttribute("data-line",String(ae));const H=Z=>Z===0?C.localize(4,null):Z===1?C.localize(5,null):C.localize(6,null,Z),q=H(z),ie=H(U);P.setAttribute("aria-label",C.localize(7,null,K+1,this._diffs.length,re,q,ae,ie)),P.appendChild(x),P.setAttribute("role","listitem"),ee.appendChild(P);const ce=D.get(53);let ue=ae;for(let Z=0,ne=j.length;Z<ne;Z++){const $=j[Z];N._renderSection(ee,$,ue,ce,this._width,F,B,W,D,A,V),$.modifiedLineStart!==0&&(ue=$.modifiedLineEnd)}k.clearNode(this._content.domNode),this._content.domNode.appendChild(ee),this.scrollbar.scanDomNode()}}static _renderSection(F,D,B,A,W,V,K,j,ee,re,te){const ae=D.getType();let Y="diff-review-row",P="";const x="diff-review-spacer";let z=null;switch(ae){case 1:Y="diff-review-row line-insert",P=" char-insert",z=w;break;case 2:Y="diff-review-row line-delete",P=" char-delete",z=L;break}const U=D.originalLineStart,H=D.originalLineEnd,q=D.modifiedLineStart,ie=D.modifiedLineEnd,ce=Math.max(ie-q,H-U),ue=V.get(123),Z=ue.glyphMarginWidth+ue.lineNumbersWidth,ne=ee.get(123),$=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let X=0;X<=ce;X++){const de=U===0?0:U+X,fe=q===0?0:q+X,se=document.createElement("div");se.style.minWidth=W+"px",se.className=Y,se.setAttribute("role","listitem"),fe!==0&&(B=fe),se.setAttribute("data-line",String(B));let le=document.createElement("div");le.className="diff-review-cell",le.style.height=`${A}px`,se.appendChild(le);const me=document.createElement("span");me.style.width=Z+"px",me.style.minWidth=Z+"px",me.className="diff-review-line-number"+P,de!==0?me.appendChild(document.createTextNode(String(de))):me.innerText="\xA0",le.appendChild(me);const be=document.createElement("span");be.style.width=$+"px",be.style.minWidth=$+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+P,fe!==0?be.appendChild(document.createTextNode(String(fe))):be.innerText="\xA0",le.appendChild(be);const ye=document.createElement("span");if(ye.className=x,z){const Te=document.createElement("span");Te.className=u.ThemeIcon.asClassName(z),Te.innerText="\xA0\xA0",ye.appendChild(Te)}else ye.innerText="\xA0\xA0";le.appendChild(ye);let Le;fe!==0?(le.insertAdjacentHTML("beforeend",this._renderLine(re,ee,te.tabSize,fe)),Le=re.getLineContent(fe)):(le.insertAdjacentHTML("beforeend",this._renderLine(K,V,j.tabSize,de)),Le=K.getLineContent(de)),Le.length===0&&(Le=C.localize(8,null));let Ie="";switch(ae){case 0:de===fe?Ie=C.localize(9,null,Le,de):Ie=C.localize(10,null,Le,de,fe);break;case 1:Ie=C.localize(11,null,Le,fe);break;case 2:Ie=C.localize(12,null,Le,de);break}se.setAttribute("aria-label",Ie),F.appendChild(se)}}static _renderLine(F,D,B,A){const W=F.getLineContent(A),V=D.get(38),K=(0<<11|1<<14|2<<23)>>>0,j=new Uint32Array(2);j[0]=W.length,j[1]=K;const ee=new a.LineTokens(j,W),re=t.ViewLineRenderingData.isBasicASCII(W,F.mightContainNonBasicASCII()),te=t.ViewLineRenderingData.containsRTL(W,re,F.mightContainRTL());return r.renderViewLine2(new r.RenderLineInput(V.isMonospace&&!D.get(26),V.canUseHalfwidthRightwardsArrow,W,!1,re,te,0,ee,[],B,0,V.spaceWidth,V.middotWidth,V.wsmiddotWidth,D.get(100),D.get(83),D.get(77),D.get(39)!==c.EditorFontLigatures.OFF,null)).html}}e.DiffReview=N,u.registerThemingParticipant((R,F)=>{const D=R.getColor(l.editorLineNumbers);D&&F.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${D}; }`);const B=R.getColor(i.scrollbarShadow);B&&F.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${B} 0 -6px 6px -6px inset; }`)});class I extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:C.localize(13,null),alias:"Go to Next Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(F,D){const B=O(F);B&&B.diffReviewNext()}}class T extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:C.localize(14,null),alias:"Go to Previous Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(F,D){const B=O(F);B&&B.diffReviewPrev()}}function O(R){const F=R.get(o.ICodeEditorService),D=F.listDiffEditors(),B=F.getActiveCodeEditor();if(!B)return null;for(let A=0,W=D.length;A<W;A++){const V=D[A];if(V.getModifiedEditor().getId()===B.getId()||V.getOriginalEditor().getId()===B.getId())return V}return null}p.registerEditorAction(I),p.registerEditorAction(T)}),define(Q[260],J([0,1,438,7,30,104,15,4,2,69,70,28,142,642,37,3,92,106,31,73,219,167,128,62,16,9,136,32,22,14,68,441,84,13,11,58,209,27,122,79,324]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O,R,F,D,B,A,W,V){"use strict";var K;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class j{constructor(se,le){this._contextMenuService=se,this._clipboardService=le,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(se){return se.filter(le=>!this._zonesMap[String(le.id)])}clean(se){this._zones.length>0&&se.changeViewZones(le=>{for(const me of this._zones)le.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=se.deltaDecorations(this._decorations,[])}apply(se,le,me,be){const ye=be?p.StableEditorScrollState.capture(se):null;se.changeViewZones(Le=>{for(const Ie of this._zones)Le.removeZone(Ie);for(const Ie of this._inlineDiffMargins)Ie.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Ie=0,Te=me.zones.length;Ie<Te;Ie++){const Ne=me.zones[Ie];Ne.suppressMouseDown=!0;const Pe=Le.addZone(Ne);this._zones.push(Pe),this._zonesMap[String(Pe)]=!0,me.zones[Ie].diff&&Ne.marginDomNode&&(Ne.suppressMouseDown=!1,this._inlineDiffMargins.push(new T.InlineDiffMargin(Pe,Ne.marginDomNode,se,me.zones[Ie].diff,this._contextMenuService,this._clipboardService)))}}),ye&&ye.restore(se),this._decorations=se.deltaDecorations(this._decorations,me.decorations),le&&le.setZones(me.overviewZones)}}let ee=0;const re=V.registerIcon("diff-insert",A.Codicon.add,C.localize(0,null)),te=V.registerIcon("diff-remove",A.Codicon.remove,C.localize(1,null)),ae=(K=window.trustedTypes)===null||K===void 0?void 0:K.createPolicy("diffEditorWidget",{createHTML:fe=>fe});let Y=class Ye extends d.Disposable{constructor(se,le,me,be,ye,Le,Ie,Te,Ne,Pe,Fe,Re){super();this._editorProgressService=Re,this._onDidDispose=this._register(new _.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new _.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new _.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ye,this._codeEditorService=Te,this._contextKeyService=this._register(Le.createScoped(se)),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ne,this._notificationService=Pe,this._id=++ee,this._state=0,this._updatingDiffProgress=null,this._domElement=se,le=le||{},this._renderSideBySide=!0,typeof le.renderSideBySide!="undefined"&&(this._renderSideBySide=le.renderSideBySide),this._maxComputationTime=5e3,typeof le.maxComputationTime!="undefined"&&(this._maxComputationTime=le.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof le.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=le.ignoreTrimWhitespace),this._renderIndicators=!0,typeof le.renderIndicators!="undefined"&&(this._renderIndicators=le.renderIndicators),this._originalIsEditable=s.boolean(le.originalEditable,!1),this._diffCodeLens=s.boolean(le.diffCodeLens,!1),this._diffWordWrap=Z(le.diffWordWrap,"inherit"),typeof le.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",le.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof le.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(le.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ye._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=M.createFastDomNode(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(k.addStandardDisposableListener(this._overviewDomElement,"mousedown",ve=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(ve)})),this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new j(Fe,be),this._modifiedEditorState=new j(Fe,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new B.ElementSizeObserver(this._containerDomElement,le.dimension,()=>this._onDidContainerSizeChanged())),le.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null;const Be=this._contextKeyService.createScoped(),Se=new w.ServiceCollection;Se.set(g.IContextKeyService,Be);const Ce=Ie.createChild(Se),ge=this._contextKeyService.createScoped(),oe=new w.ServiceCollection;oe.set(g.IContextKeyService,ge);const he=Ie.createChild(oe);this._originalEditor=this._createLeftHandSideEditor(le,me.originalEditor||{},Ce,Be),this._modifiedEditor=this._createRightHandSideEditor(le,me.modifiedEditor||{},he,ge),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new a.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof le.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=le.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new ce(this._createDataSource(),this._enableSplitViewResizing)),this._register(Ne.onDidColorThemeChange(ve=>{this._strategy&&this._strategy.applyColors(ve)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ye._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const _e=R.EditorExtensionsRegistry.getDiffEditorContributions();for(const ve of _e)try{this._register(Ie.createInstance(ve.ctor,this))}catch(we){F.onUnexpectedError(we)}this._codeEditorService.addDiffEditor(this)}_setState(se){this._state!==se&&(this._state=se,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(se,le){let me="monaco-diff-editor monaco-editor-background ";return le&&(me+="side-by-side "),me+=N.getThemeTypeSelector(se.type),me}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(se,le,me,be){const ye=this._createInnerEditor(me,this._originalDomNode,this._adjustOptionsForLeftHandSide(se),le);this._register(ye.onDidScrollChange(Ie=>{this._isHandlingScrollEvent||!Ie.scrollTopChanged&&!Ie.scrollLeftChanged&&!Ie.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Ie.scrollLeft,scrollTop:Ie.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ye.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ye.onDidChangeConfiguration(Ie=>{!ye.getModel()||(Ie.hasChanged(38)&&this._updateDecorationsRunner.schedule(),Ie.hasChanged(124)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ye.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Le=be.createKey("isInDiffLeftEditor",void 0);return this._register(ye.onDidFocusEditorWidget(()=>Le.set(!0))),this._register(ye.onDidBlurEditorWidget(()=>Le.set(!1))),this._register(ye.onDidContentSizeChange(Ie=>{const Te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ye.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Te,contentHeightChanged:Ie.contentHeightChanged,contentWidthChanged:Ie.contentWidthChanged})})),ye}_createRightHandSideEditor(se,le,me,be){const ye=this._createInnerEditor(me,this._modifiedDomNode,this._adjustOptionsForRightHandSide(se),le);this._register(ye.onDidScrollChange(Ie=>{this._isHandlingScrollEvent||!Ie.scrollTopChanged&&!Ie.scrollLeftChanged&&!Ie.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Ie.scrollLeft,scrollTop:Ie.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ye.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ye.onDidChangeConfiguration(Ie=>{!ye.getModel()||(Ie.hasChanged(38)&&this._updateDecorationsRunner.schedule(),Ie.hasChanged(124)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ye.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ye.onDidChangeModelOptions(Ie=>{Ie.tabSize&&this._updateDecorationsRunner.schedule()}));const Le=be.createKey("isInDiffRightEditor",void 0);return this._register(ye.onDidFocusEditorWidget(()=>Le.set(!0))),this._register(ye.onDidBlurEditorWidget(()=>Le.set(!1))),this._register(ye.onDidContentSizeChange(Ie=>{const Te=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ye.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Te,contentHeightChanged:Ie.contentHeightChanged,contentWidthChanged:Ie.contentWidthChanged})})),ye}_createInnerEditor(se,le,me,be){return se.createInstance(c.CodeEditorWidget,le,me,be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return t.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(se){let le=!1;typeof se.renderSideBySide!="undefined"&&this._renderSideBySide!==se.renderSideBySide&&(this._renderSideBySide=se.renderSideBySide,le=!0),typeof se.maxComputationTime!="undefined"&&(this._maxComputationTime=se.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let me=!1;typeof se.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==se.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=se.ignoreTrimWhitespace,me=!0),typeof se.renderIndicators!="undefined"&&this._renderIndicators!==se.renderIndicators&&(this._renderIndicators=se.renderIndicators,me=!0),me&&this._beginUpdateDecorations(),this._originalIsEditable=s.boolean(se.originalEditable,this._originalIsEditable),this._diffCodeLens=s.boolean(se.diffCodeLens,this._diffCodeLens),this._diffWordWrap=Z(se.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(se)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(se)),typeof se.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=se.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),le&&(this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new ce(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=Ye._getClassName(this._themeService.getColorTheme(),this._renderSideBySide))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(se){if(se&&(!se.original||!se.modified))throw new Error(se.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(se?se.original:null),this._modifiedEditor.setModel(se?se.modified:null),this._updateDecorationsRunner.cancel(),se&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),se&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(se){return this._modifiedEditor.getVisibleColumnFromPosition(se)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(se){this._modifiedEditor.setPosition(se)}revealLine(se,le=0){this._modifiedEditor.revealLine(se,le)}revealLineInCenter(se,le=0){this._modifiedEditor.revealLineInCenter(se,le)}revealLineInCenterIfOutsideViewport(se,le=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(se,le)}revealLineNearTop(se,le=0){this._modifiedEditor.revealLineNearTop(se,le)}revealPosition(se,le=0){this._modifiedEditor.revealPosition(se,le)}revealPositionInCenter(se,le=0){this._modifiedEditor.revealPositionInCenter(se,le)}revealPositionInCenterIfOutsideViewport(se,le=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(se,le)}revealPositionNearTop(se,le=0){this._modifiedEditor.revealPositionNearTop(se,le)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(se){this._modifiedEditor.setSelection(se)}setSelections(se){this._modifiedEditor.setSelections(se)}revealLines(se,le,me=0){this._modifiedEditor.revealLines(se,le,me)}revealLinesInCenter(se,le,me=0){this._modifiedEditor.revealLinesInCenter(se,le,me)}revealLinesInCenterIfOutsideViewport(se,le,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(se,le,me)}revealLinesNearTop(se,le,me=0){this._modifiedEditor.revealLinesNearTop(se,le,me)}revealRange(se,le=0,me=!1,be=!0){this._modifiedEditor.revealRange(se,le,me,be)}revealRangeInCenter(se,le=0){this._modifiedEditor.revealRangeInCenter(se,le)}revealRangeInCenterIfOutsideViewport(se,le=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(se,le)}revealRangeNearTop(se,le=0){this._modifiedEditor.revealRangeNearTop(se,le)}revealRangeNearTopIfOutsideViewport(se,le=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(se,le)}revealRangeAtTop(se,le=0){this._modifiedEditor.revealRangeAtTop(se,le)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const se=this._originalEditor.saveViewState(),le=this._modifiedEditor.saveViewState();return{original:se,modified:le}}restoreViewState(se){if(se.original&&se.modified){const le=se;this._originalEditor.restoreViewState(le.original),this._modifiedEditor.restoreViewState(le.modified)}}layout(se){this._elementSizeObserver.observe(se)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(se,le,me){this._modifiedEditor.trigger(se,le,me)}changeDecorations(se){return this._modifiedEditor.changeDecorations(se)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!!this._renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){const se=this._elementSizeObserver.getHeight(),le=this._getReviewHeight(),me=Ye.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ye.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ye.ONE_OVERVIEW_WIDTH,right:me+Ye.ONE_OVERVIEW_WIDTH,height:se-le}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ye.ONE_OVERVIEW_WIDTH,height:se-le}))}}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ye.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(se,le){return!se&&!le?!0:!se||!le?!1:se.toString()===le.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const se=this._originalEditor.getModel(),le=this._modifiedEditor.getModel();if(!(!se||!le)){this._diffComputationToken++;const me=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(se.uri,le.uri)){(!Ye._equals(se.uri,this._lastOriginalWarning)||!Ye._equals(le.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=se.uri,this._lastModifiedWarning=le.uri,this._notificationService.warn(C.localize(2,null)));return}this._editorWorkerService.computeDiff(se.uri,le.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(be=>{me===this._diffComputationToken&&se===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=be,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},be=>{me===this._diffComputationToken&&se===this._originalEditor.getModel()&&le===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){const se=this._diffComputationResult?this._diffComputationResult.changes:[],le=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(se,this._ignoreTrimWhitespace,this._renderIndicators,le,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}_adjustOptionsForSubEditor(se){const le=Object.assign({},se);return le.inDiffEditor=!0,le.automaticLayout=!1,le.scrollbar=le.scrollbar||{},le.scrollbar.vertical="visible",le.folding=!1,le.codeLens=this._diffCodeLens,le.fixedOverflowWidgets=!0,le.minimap||(le.minimap={}),le.minimap.enabled=!1,le}_adjustOptionsForLeftHandSide(se){const le=this._adjustOptionsForSubEditor(se);return this._renderSideBySide?le.wordWrapOverride1=this._diffWordWrap:le.wordWrapOverride1="off",le.readOnly=!this._originalIsEditable,le.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(se){const le=this._adjustOptionsForSubEditor(se);return le.wordWrapOverride1=this._diffWordWrap,le.revealHorizontalRightPadding=s.EditorOptions.revealHorizontalRightPadding.defaultValue+Ye.ENTIRE_DIFF_OVERVIEW_WIDTH,le.scrollbar.verticalHasArrows=!1,le.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},le),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const se=this._elementSizeObserver.getWidth(),le=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=se-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=le-me+"px",this._overviewDomElement.style.width=Ye.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=se-Ye.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ye.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:le-me}),this._modifiedEditor.layout({width:se-be-Ye.ENTIRE_DIFF_OVERVIEW_WIDTH,height:le-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(le-me,se,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const se=this._computeOverviewViewport();se?(this._overviewViewportDomElement.setTop(se.top),this._overviewViewportDomElement.setHeight(se.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const se=this._modifiedEditor.getLayoutInfo();if(!se)return null;const le=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),be=Math.max(0,se.height),ye=Math.max(0,be-2*0),Le=me>0?ye/me:0,Ie=Math.max(0,Math.floor(se.height*Le)),Te=Math.floor(le*Le);return{height:Ie,top:Te}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(se){this._strategy&&this._strategy.dispose(),this._strategy=se,se.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(se,le){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||se<le(me[0]))return null;let be=0,ye=me.length-1;for(;be<ye;){const Le=Math.floor((be+ye)/2),Ie=le(me[Le]),Te=Le+1<=ye?le(me[Le+1]):1073741824;se<Ie?ye=Le-1:se>=Te?be=Le+1:(be=Le,ye=Le)}return me[be]}_getEquivalentLineForOriginalLineNumber(se){const le=this._getLineChangeAtOrBeforeLineNumber(se,Te=>Te.originalStartLineNumber);if(!le)return se;const me=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),be=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),ye=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,Le=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Ie=se-me;return Ie<=ye?be+Math.min(Ie,Le):be+Le-ye+Ie}_getEquivalentLineForModifiedLineNumber(se){const le=this._getLineChangeAtOrBeforeLineNumber(se,Te=>Te.modifiedStartLineNumber);if(!le)return se;const me=le.originalStartLineNumber+(le.originalEndLineNumber>0?-1:0),be=le.modifiedStartLineNumber+(le.modifiedEndLineNumber>0?-1:0),ye=le.originalEndLineNumber>0?le.originalEndLineNumber-le.originalStartLineNumber+1:0,Le=le.modifiedEndLineNumber>0?le.modifiedEndLineNumber-le.modifiedStartLineNumber+1:0,Ie=se-be;return Ie<=Le?me+Math.min(Ie,ye):me+ye-Le+Ie}getDiffLineInformationForOriginal(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(se)}:null}getDiffLineInformationForModified(se){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(se)}:null}};Y.ONE_OVERVIEW_WIDTH=15,Y.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Y.UPDATE_DIFF_DECORATIONS_DELAY=200,Y=Me([pe(3,O.IClipboardService),pe(4,i.IEditorWorkerService),pe(5,g.IContextKeyService),pe(6,b.IInstantiationService),pe(7,o.ICodeEditorService),pe(8,N.IThemeService),pe(9,L.INotificationService),pe(10,I.IContextMenuService),pe(11,D.IEditorProgressService)],Y),e.DiffEditorWidget=Y;class P extends d.Disposable{constructor(se){super();this._dataSource=se,this._insertColor=null,this._removeColor=null}applyColors(se){const le=(se.getColor(E.diffInserted)||E.defaultInsertColor).transparent(2),me=(se.getColor(E.diffRemoved)||E.defaultRemoveColor).transparent(2),be=!le.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=le,this._removeColor=me,be}getEditorsDiffDecorations(se,le,me,be,ye){ye=ye.sort((Ne,Pe)=>Ne.afterLineNumber-Pe.afterLineNumber),be=be.sort((Ne,Pe)=>Ne.afterLineNumber-Pe.afterLineNumber);const Le=this._getViewZones(se,be,ye,me),Ie=this._getOriginalEditorDecorations(se,le,me),Te=this._getModifiedEditorDecorations(se,le,me);return{original:{decorations:Ie.decorations,overviewZones:Ie.overviewZones,zones:Le.original},modified:{decorations:Te.decorations,overviewZones:Te.overviewZones,zones:Le.modified}}}}class x{constructor(se){this._source=se,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class z{constructor(se,le,me,be,ye){this._lineChanges=se,this._originalForeignVZ=le,this._modifiedForeignVZ=me,this._originalEditor=be,this._modifiedEditor=ye}static _getViewLineCount(se,le,me){const be=se.getModel(),ye=se._getViewModel();if(be&&ye){const Le=de(be,ye,le,me);return Le.endLineNumber-Le.startLineNumber+1}return me-le+1}getViewZones(){const se=this._originalEditor.getOption(53),le=this._modifiedEditor.getOption(53),me=this._originalEditor.getOption(124).wrappingColumn!==-1,be=this._modifiedEditor.getOption(124).wrappingColumn!==-1,ye=me||be,Le=this._originalEditor.getModel(),Ie=this._originalEditor._getViewModel().coordinatesConverter,Te=this._modifiedEditor._getViewModel().coordinatesConverter,Ne={original:[],modified:[]};let Pe=0,Fe=0,Re=0,Be=0,Se=0,Ce=0;const ge=(Ee,ke)=>Ee.afterLineNumber-ke.afterLineNumber,oe=(Ee,ke)=>{if(ke.domNode===null&&Ee.length>0){const Ae=Ee[Ee.length-1];if(Ae.afterLineNumber===ke.afterLineNumber&&Ae.domNode===null){Ae.heightInLines+=ke.heightInLines;return}}Ee.push(ke)},he=new x(this._modifiedForeignVZ),_e=new x(this._originalForeignVZ);let ve=1,we=1;for(let Ee=0,ke=this._lineChanges.length;Ee<=ke;Ee++){const Ae=Ee<ke?this._lineChanges[Ee]:null;Ae!==null?(Re=Ae.originalStartLineNumber+(Ae.originalEndLineNumber>0?-1:0),Be=Ae.modifiedStartLineNumber+(Ae.modifiedEndLineNumber>0?-1:0),Fe=Ae.originalEndLineNumber>0?z._getViewLineCount(this._originalEditor,Ae.originalStartLineNumber,Ae.originalEndLineNumber):0,Pe=Ae.modifiedEndLineNumber>0?z._getViewLineCount(this._modifiedEditor,Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber):0,Se=Math.max(Ae.originalStartLineNumber,Ae.originalEndLineNumber),Ce=Math.max(Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber)):(Re+=1e7+Fe,Be+=1e7+Pe,Se=Re,Ce=Be);let xe=[],We=[];if(ye){let Oe;Ae?Ae.originalEndLineNumber>0?Oe=Ae.originalStartLineNumber-ve:Oe=Ae.modifiedStartLineNumber-we:Oe=Le.getLineCount()-ve;for(let Ue=0;Ue<Oe;Ue++){const je=ve+Ue,Ke=we+Ue,qe=Ie.getModelLineViewLineCount(je),Ve=Te.getModelLineViewLineCount(Ke);qe<Ve?xe.push({afterLineNumber:je,heightInLines:Ve-qe,domNode:null,marginDomNode:null}):qe>Ve&&We.push({afterLineNumber:Ke,heightInLines:qe-Ve,domNode:null,marginDomNode:null})}Ae&&(ve=(Ae.originalEndLineNumber>0?Ae.originalEndLineNumber:Ae.originalStartLineNumber)+1,we=(Ae.modifiedEndLineNumber>0?Ae.modifiedEndLineNumber:Ae.modifiedStartLineNumber)+1)}for(;he.current&&he.current.afterLineNumber<=Ce;){let Oe;he.current.afterLineNumber<=Be?Oe=Re-Be+he.current.afterLineNumber:Oe=Se;let Ue=null;Ae&&Ae.modifiedStartLineNumber<=he.current.afterLineNumber&&he.current.afterLineNumber<=Ae.modifiedEndLineNumber&&(Ue=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:Oe,heightInLines:he.current.height/le,domNode:null,marginDomNode:Ue}),he.advance()}for(;_e.current&&_e.current.afterLineNumber<=Se;){let Oe;_e.current.afterLineNumber<=Re?Oe=Be-Re+_e.current.afterLineNumber:Oe=Ce,We.push({afterLineNumber:Oe,heightInLines:_e.current.height/se,domNode:null}),_e.advance()}if(Ae!==null&&ne(Ae)){const Oe=this._produceOriginalFromDiff(Ae,Fe,Pe);Oe&&xe.push(Oe)}if(Ae!==null&&$(Ae)){const Oe=this._produceModifiedFromDiff(Ae,Fe,Pe);Oe&&We.push(Oe)}let He=0,ze=0;for(xe=xe.sort(ge),We=We.sort(ge);He<xe.length&&ze<We.length;){const Oe=xe[He],Ue=We[ze],je=Oe.afterLineNumber-Re,Ke=Ue.afterLineNumber-Be;je<Ke?(oe(Ne.original,Oe),He++):Ke<je?(oe(Ne.modified,Ue),ze++):Oe.shouldNotShrink?(oe(Ne.original,Oe),He++):Ue.shouldNotShrink?(oe(Ne.modified,Ue),ze++):Oe.heightInLines>=Ue.heightInLines?(Oe.heightInLines-=Ue.heightInLines,ze++):(Ue.heightInLines-=Oe.heightInLines,He++)}for(;He<xe.length;)oe(Ne.original,xe[He]),He++;for(;ze<We.length;)oe(Ne.modified,We[ze]),ze++}return{original:z._ensureDomNodes(Ne.original),modified:z._ensureDomNodes(Ne.modified)}}static _ensureDomNodes(se){return se.map(le=>(le.domNode||(le.domNode=X()),le))}}function U(fe,se,le,me,be){return{range:new l.Range(fe,se,le,me),options:be}}const H={charDelete:n.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:n.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:n.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:n.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:n.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:n.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+N.ThemeIcon.asClassName(re),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:n.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:n.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+N.ThemeIcon.asClassName(te),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:n.ModelDecorationOptions.register({marginClassName:"line-delete"})};class q extends P{constructor(se,le){super(se);this._disableSash=le===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new y.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(se){const le=se===!1;this._disableSash!==le&&(this._disableSash=le,this._sash.state=this._disableSash?0:3)}layout(se=this._sashRatio){const me=this._dataSource.getWidth()-Y.ENTIRE_DIFF_OVERVIEW_WIDTH;let be=Math.floor((se||.5)*me);const ye=Math.floor(.5*me);return be=this._disableSash?ye:be||ye,me>q.MINIMUM_EDITOR_WIDTH*2?(be<q.MINIMUM_EDITOR_WIDTH&&(be=q.MINIMUM_EDITOR_WIDTH),be>me-q.MINIMUM_EDITOR_WIDTH&&(be=me-q.MINIMUM_EDITOR_WIDTH)):be=ye,this._sashPosition!==be&&(this._sashPosition=be,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(se){const me=this._dataSource.getWidth()-Y.ENTIRE_DIFF_OVERVIEW_WIDTH,be=this.layout((this._startSashPosition+(se.currentX-se.startX))/me);this._sashRatio=be/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(se){return 0}getVerticalSashLeft(se){return this._sashPosition}getVerticalSashHeight(se){return this._dataSource.getHeight()}_getViewZones(se,le,me){const be=this._dataSource.getOriginalEditor(),ye=this._dataSource.getModifiedEditor();return new ie(se,le,me,be,ye).getViewZones()}_getOriginalEditorDecorations(se,le,me){const be=this._dataSource.getOriginalEditor(),ye=String(this._removeColor),Le={decorations:[],overviewZones:[]},Ie=be.getModel(),Te=be._getViewModel();for(const Ne of se)if($(Ne)){Le.decorations.push({range:new l.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:me?H.lineDeleteWithSign:H.lineDelete}),(!ne(Ne)||!Ne.charChanges)&&Le.decorations.push(U(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824,H.charDeleteWholeLine));const Pe=de(Ie,Te,Ne.originalStartLineNumber,Ne.originalEndLineNumber);if(Le.overviewZones.push(new u.OverviewRulerZone(Pe.startLineNumber,Pe.endLineNumber,ye)),Ne.charChanges){for(const Fe of Ne.charChanges)if($(Fe))if(le)for(let Re=Fe.originalStartLineNumber;Re<=Fe.originalEndLineNumber;Re++){let Be,Se;Re===Fe.originalStartLineNumber?Be=Fe.originalStartColumn:Be=Ie.getLineFirstNonWhitespaceColumn(Re),Re===Fe.originalEndLineNumber?Se=Fe.originalEndColumn:Se=Ie.getLineLastNonWhitespaceColumn(Re),Le.decorations.push(U(Re,Be,Re,Se,H.charDelete))}else Le.decorations.push(U(Fe.originalStartLineNumber,Fe.originalStartColumn,Fe.originalEndLineNumber,Fe.originalEndColumn,H.charDelete))}}return Le}_getModifiedEditorDecorations(se,le,me){const be=this._dataSource.getModifiedEditor(),ye=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ie=be.getModel(),Te=be._getViewModel();for(const Ne of se)if(ne(Ne)){Le.decorations.push({range:new l.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:me?H.lineInsertWithSign:H.lineInsert}),(!$(Ne)||!Ne.charChanges)&&Le.decorations.push(U(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,H.charInsertWholeLine));const Pe=de(Ie,Te,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(Le.overviewZones.push(new u.OverviewRulerZone(Pe.startLineNumber,Pe.endLineNumber,ye)),Ne.charChanges){for(const Fe of Ne.charChanges)if(ne(Fe))if(le)for(let Re=Fe.modifiedStartLineNumber;Re<=Fe.modifiedEndLineNumber;Re++){let Be,Se;Re===Fe.modifiedStartLineNumber?Be=Fe.modifiedStartColumn:Be=Ie.getLineFirstNonWhitespaceColumn(Re),Re===Fe.modifiedEndLineNumber?Se=Fe.modifiedEndColumn:Se=Ie.getLineLastNonWhitespaceColumn(Re),Le.decorations.push(U(Re,Be,Re,Se,H.charInsert))}else Le.decorations.push(U(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,H.charInsert))}}return Le}}q.MINIMUM_EDITOR_WIDTH=100;class ie extends z{constructor(se,le,me,be,ye){super(se,le,me,be,ye)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(se,le,me){return me>le?{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:me-le,domNode:null}:null}_produceModifiedFromDiff(se,le,me){return le>me?{afterLineNumber:Math.max(se.modifiedStartLineNumber,se.modifiedEndLineNumber),heightInLines:le-me,domNode:null}:null}}class ce extends P{constructor(se,le){super(se);this._decorationsLeft=se.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(se.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,se.relayoutEditors())}))}setEnableSplitViewResizing(se){}_getViewZones(se,le,me,be){const ye=this._dataSource.getOriginalEditor(),Le=this._dataSource.getModifiedEditor();return new ue(se,le,me,ye,Le,be).getViewZones()}_getOriginalEditorDecorations(se,le,me){const be=String(this._removeColor),ye={decorations:[],overviewZones:[]},Le=this._dataSource.getOriginalEditor(),Ie=Le.getModel(),Te=Le._getViewModel();for(const Ne of se)if($(Ne)){ye.decorations.push({range:new l.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:H.lineDeleteMargin});const Pe=de(Ie,Te,Ne.originalStartLineNumber,Ne.originalEndLineNumber);ye.overviewZones.push(new u.OverviewRulerZone(Pe.startLineNumber,Pe.endLineNumber,be))}return ye}_getModifiedEditorDecorations(se,le,me){const be=this._dataSource.getModifiedEditor(),ye=String(this._insertColor),Le={decorations:[],overviewZones:[]},Ie=be.getModel(),Te=be._getViewModel();for(const Ne of se)if(ne(Ne)){Le.decorations.push({range:new l.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:me?H.lineInsertWithSign:H.lineInsert});const Pe=de(Ie,Te,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(Le.overviewZones.push(new u.OverviewRulerZone(Pe.startLineNumber,Pe.endLineNumber,ye)),Ne.charChanges){for(const Fe of Ne.charChanges)if(ne(Fe))if(le)for(let Re=Fe.modifiedStartLineNumber;Re<=Fe.modifiedEndLineNumber;Re++){let Be,Se;Re===Fe.modifiedStartLineNumber?Be=Fe.modifiedStartColumn:Be=Ie.getLineFirstNonWhitespaceColumn(Re),Re===Fe.modifiedEndLineNumber?Se=Fe.modifiedEndColumn:Se=Ie.getLineLastNonWhitespaceColumn(Re),Le.decorations.push(U(Re,Be,Re,Se,H.charInsert))}else Le.decorations.push(U(Fe.modifiedStartLineNumber,Fe.modifiedStartColumn,Fe.modifiedEndLineNumber,Fe.modifiedEndColumn,H.charInsert))}else Le.decorations.push(U(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,H.charInsertWholeLine))}return Le}layout(){return Math.max(5,this._decorationsLeft)}}class ue extends z{constructor(se,le,me,be,ye,Le){super(se,le,me,be,ye);this._originalModel=be.getModel(),this._renderIndicators=Le,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const se=super.getViewZones();return this._finalize(se),se}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const se=document.createElement("div");return se.className="inline-added-margin-view-zone",se}_produceOriginalFromDiff(se,le,me){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(se.originalStartLineNumber,se.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(se,le,me){const be=document.createElement("div");be.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ye=document.createElement("div");ye.className="inline-deleted-margin-view-zone";const Le={shouldNotShrink:!0,afterLineNumber:se.modifiedEndLineNumber===0?se.modifiedStartLineNumber:se.modifiedStartLineNumber-1,heightInLines:le,minWidthInPx:0,domNode:be,marginDomNode:ye,diff:{originalStartLineNumber:se.originalStartLineNumber,originalEndLineNumber:se.originalEndLineNumber,modifiedStartLineNumber:se.modifiedStartLineNumber,modifiedEndLineNumber:se.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let Ie=se.originalStartLineNumber;Ie<=se.originalEndLineNumber;Ie++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(Ie),null);return this._pendingLineChange.push(se),this._pendingViewZones.push(Le),Le}_finalize(se){const le=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,be=le.get(38),ye=le.get(26),Le=be.typicalHalfwidthCharacterWidth,Ie=le.get(88),Te=this._originalModel.mightContainNonBasicASCII(),Ne=this._originalModel.mightContainRTL(),Pe=le.get(53),Re=le.get(123).decorationsWidth,Be=le.get(100),Se=le.get(83),Ce=le.get(77),ge=le.get(39),oe=this._lineBreaksComputer.finalize();let he=0;for(let _e=0;_e<this._pendingLineChange.length;_e++){const ve=this._pendingLineChange[_e],we=this._pendingViewZones[_e],Ee=we.domNode;f.Configuration.applyFontInfoSlow(Ee,be);const ke=we.marginDomNode;f.Configuration.applyFontInfoSlow(ke,be);const Ae=[];if(ve.charChanges)for(const Ke of ve.charChanges)$(Ke)&&Ae.push(new m.InlineDecoration(new l.Range(Ke.originalStartLineNumber,Ke.originalStartColumn,Ke.originalEndLineNumber,Ke.originalEndColumn),"char-delete",0));const xe=Ae.length>0,We=r.createStringBuilder(1e4);let He=0,ze=0,Oe=null;for(let Ke=ve.originalStartLineNumber;Ke<=ve.originalEndLineNumber;Ke++){const qe=Ke-ve.originalStartLineNumber,Ve=this._originalModel.getLineTokens(Ke),Ze=Ve.getLineContent(),Ge=oe[he++],Xe=h.LineDecoration.filter(Ae,Ke,1,Ze.length+1);if(Ge){let Qe=0;for(const et of Ge.breakOffsets){const ii=Ve.sliceAndInflate(Qe,et,0),ni=Ze.substring(Qe,et);He=Math.max(He,this._renderOriginalLine(ze++,ni,ii,h.LineDecoration.extractWrapped(Xe,Qe,et),xe,Te,Ne,be,ye,Pe,Re,Be,Se,Ce,ge,me,We,ke)),Qe=et}for(Oe||(Oe=[]);Oe.length<qe;)Oe[Oe.length]=1;Oe[qe]=Ge.breakOffsets.length,we.heightInLines+=Ge.breakOffsets.length-1;const Je=document.createElement("div");Je.className="line-delete",se.original.push({afterLineNumber:Ke,afterColumn:0,heightInLines:Ge.breakOffsets.length-1,domNode:X(),marginDomNode:Je})}else He=Math.max(He,this._renderOriginalLine(ze++,Ze,Ve,Xe,xe,Te,Ne,be,ye,Pe,Re,Be,Se,Ce,ge,me,We,ke))}He+=Ie;const Ue=We.build(),je=ae?ae.createHTML(Ue):Ue;if(Ee.innerHTML=je,we.minWidthInPx=He*Le,Oe){const Ke=ve.originalEndLineNumber-ve.originalStartLineNumber;for(;Oe.length<=Ke;)Oe[Oe.length]=1}we.diff.viewLineCounts=Oe}se.original.sort((_e,ve)=>_e.afterLineNumber-ve.afterLineNumber)}_renderOriginalLine(se,le,me,be,ye,Le,Ie,Te,Ne,Pe,Fe,Re,Be,Se,Ce,ge,oe,he){oe.appendASCIIString('<div class="view-line'),ye||oe.appendASCIIString(" char-delete"),oe.appendASCIIString('" style="top:'),oe.appendASCIIString(String(se*Pe)),oe.appendASCIIString('px;width:1000000px;">');const _e=m.ViewLineRenderingData.isBasicASCII(le,Le),ve=m.ViewLineRenderingData.containsRTL(le,_e,Ie),we=v.renderViewLine(new v.RenderLineInput(Te.isMonospace&&!Ne,Te.canUseHalfwidthRightwardsArrow,le,!1,_e,ve,0,me,be,ge,0,Te.spaceWidth,Te.middotWidth,Te.wsmiddotWidth,Re,Be,Se,Ce!==s.EditorFontLigatures.OFF,null),oe);if(oe.appendASCIIString("</div>"),this._renderIndicators){const ke=document.createElement("div");ke.className=`delete-sign ${N.ThemeIcon.asClassName(te)}`,ke.setAttribute("style",`position:absolute;top:${se*Pe}px;width:${Fe}px;height:${Pe}px;right:0;`),he.appendChild(ke)}const Ee=we.characterMapping.getAbsoluteOffsets();return Ee.length>0?Ee[Ee.length-1]:0}}function Z(fe,se){return s.stringSet(fe,se,["off","on","inherit"])}function ne(fe){return fe.modifiedEndLineNumber>0}function $(fe){return fe.originalEndLineNumber>0}function X(){const fe=document.createElement("div");return fe.className="diagonal-fill",fe}function de(fe,se,le,me){const be=fe.getLineCount();return le=Math.min(be,Math.max(1,le)),me=Math.min(be,Math.max(1,me)),se.coordinatesConverter.convertModelRangeToViewRange(new l.Range(le,fe.getLineMinColumn(le),me,fe.getLineMaxColumn(me)))}N.registerThemingParticipant((fe,se)=>{const le=fe.getColor(E.diffInserted);le&&(se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${le}; }`),se.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${le}; }`),se.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${le}; }`));const me=fe.getColor(E.diffRemoved);me&&(se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${me}; }`),se.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${me}; }`),se.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${me}; }`));const be=fe.getColor(E.diffInsertedOutline);be&&se.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${fe.type==="hc"?"dashed":"solid"} ${be}; }`);const ye=fe.getColor(E.diffRemovedOutline);ye&&se.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${fe.type==="hc"?"dashed":"solid"} ${ye}; }`);const Le=fe.getColor(E.scrollbarShadow);Le&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Le}; }`);const Ie=fe.getColor(E.diffBorder);Ie&&se.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ie}; }`);const Te=fe.getColor(E.scrollbarSliderBackground);Te&&se.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Te};
			}
		`);const Ne=fe.getColor(E.scrollbarSliderHoverBackground);Ne&&se.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ne};
			}
		`);const Pe=fe.getColor(E.scrollbarSliderActiveBackground);Pe&&se.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Pe};
			}
		`);const Fe=fe.getColor(E.diffDiagonalFill);se.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Fe} 12.5%,
			#0000 12.5%, #0000 50%,
			${Fe} 50%, ${Fe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(Q[643],J([0,1,461,7,47,156,104,52,15,11,2,17,8,3,144,22,14,559,27,79,333]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const u=i.registerIcon("find-selection",n.Codicon.selection,C.localize(0,null)),h=i.registerIcon("find-collapsed",n.Codicon.chevronRight,C.localize(1,null)),v=i.registerIcon("find-expanded",n.Codicon.chevronDown,C.localize(2,null));e.findReplaceIcon=i.registerIcon("find-replace",n.Codicon.replace,C.localize(3,null)),e.findReplaceAllIcon=i.registerIcon("find-replace-all",n.Codicon.replaceAll,C.localize(4,null)),e.findPreviousMatchIcon=i.registerIcon("find-previous-match",n.Codicon.arrowUp,C.localize(5,null)),e.findNextMatchIcon=i.registerIcon("find-next-match",n.Codicon.arrowDown,C.localize(6,null));const m=C.localize(7,null),g=C.localize(8,null),b=C.localize(9,null),w=C.localize(10,null),L=C.localize(11,null),E=C.localize(12,null),N=C.localize(13,null),I=C.localize(14,null),T=C.localize(15,null),O=C.localize(16,null),R=C.localize(17,null),F=C.localize(18,null,s.MATCHES_LIMIT),D=C.localize(19,null),B=C.localize(20,null),A=419,V=275-54;let K=69;const j=33,ee="ctrlEnterReplaceAll.windows.donotask",re=o.isMacintosh?256:2048;class te{constructor(U){this.afterLineNumber=U,this.heightInPx=j,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=te;function ae(z,U,H){const q=!!U.match(/\n/);if(H&&q&&H.selectionStart>0){z.stopPropagation();return}}function Y(z,U,H){const q=!!U.match(/\n/);if(H&&q&&H.selectionEnd<H.value.length){z.stopPropagation();return}}class P extends _.Widget{constructor(U,H,q,ie,ce,ue,Z,ne,$){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=U,this._controller=H,this._state=q,this._contextViewProvider=ie,this._keybindingService=ce,this._contextKeyService=ue,this._storageService=ne,this._notificationService=$,this._ctrlEnterReplaceAllWarningPrompted=!!ne.getBoolean(ee,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new d.Delayer(500),this._register(p.toDisposable(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(X=>this._onStateChanged(X))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(X=>{if(X.hasChanged(75)&&(this._codeEditor.getOption(75)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),X.hasChanged(123)&&this._tryUpdateWidgetWidth(),X.hasChanged(2)&&this.updateAccessibilitySupport(),X.hasChanged(31)){const de=this._codeEditor.getOption(31).addExtraSpaceOnTop;de&&!this._viewZone&&(this._viewZone=new te(0),this._showViewZone()),!de&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>De(this,void 0,void 0,function*(){if(this._isVisible){let X=yield this._controller.getGlobalBufferTerm();X&&X!==this._state.searchString&&(this._state.change({searchString:X},!1),this._findInput.select())}}))),this._findInputFocused=s.CONTEXT_FIND_INPUT_FOCUSED.bindTo(ue),this._findFocusTracker=this._register(k.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=s.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(ue),this._replaceFocusTracker=this._register(k.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(31).addExtraSpaceOnTop&&(this._viewZone=new te(0)),this._applyTheme(Z.getColorTheme()),this._register(Z.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(X=>{if(X.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return P.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(U){if(U.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(U.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),U.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),U.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(75)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(U.isRevealed||U.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),U.isRegex&&this._findInput.setRegex(this._state.isRegex),U.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),U.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),U.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),U.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),U.searchString||U.matchesCount||U.matchesPosition){let H=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",H),this._updateMatchesCount(),this._updateButtons()}(U.searchString||U.currentMatch)&&this._layoutViewZone(),U.updateHistory&&this._delayedUpdateHistory(),U.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,f.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=K+"px",this._state.matchesCount>=s.MATCHES_LIMIT?this._matchesCount.title=F:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let U;if(this._state.matchesCount>0){let H=String(this._state.matchesCount);this._state.matchesCount>=s.MATCHES_LIMIT&&(H+="+");let q=String(this._state.matchesPosition);q==="0"&&(q="?"),U=c.format(D,q,H)}else U=B;this._matchesCount.appendChild(document.createTextNode(U)),M.alert(this._getAriaLabel(U,this._state.currentMatch,this._state.searchString)),K=Math.max(K,this._matchesCount.clientWidth)}_getAriaLabel(U,H,q){if(U===B)return q===""?C.localize(21,null,U):C.localize(22,null,U,q);if(H){const ie=C.localize(23,null,U,q,H.startLineNumber+":"+H.startColumn),ce=this._codeEditor.getModel();return ce&&H.startLineNumber<=ce.getLineCount()&&H.startLineNumber>=1?`${ce.getLineContent(H.startLineNumber)}, ${ie}`:ie}return C.localize(24,null,U,q)}_updateToggleSelectionFindButton(){let U=this._codeEditor.getSelection(),H=U?U.startLineNumber!==U.endLineNumber||U.startColumn!==U.endColumn:!1,q=this._toggleSelectionFind.checked;this._isVisible&&(q||H)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let U=this._state.searchString.length>0,H=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&U&&H&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&U&&H&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&U),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let q=!this._codeEditor.getOption(75);this._toggleReplaceBtn.setEnabled(this._isVisible&&q)}_reveal(){if(this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const U=this._codeEditor.getSelection();switch(this._codeEditor.getOption(31).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const q=!!U&&U.startLineNumber!==U.endLineNumber;this._toggleSelectionFind.checked=q;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let H=!0;if(this._codeEditor.getOption(31).seedSearchStringFromSelection&&U){const q=this._codeEditor.getDomNode();if(q){const ie=k.getDomNodePagePosition(q),ce=this._codeEditor.getScrolledVisiblePosition(U.getStartPosition()),ue=ie.left+(ce?ce.left:0),Z=ce?ce.top:0;if(this._viewZone&&Z<this._viewZone.heightInPx){U.endLineNumber>U.startLineNumber&&(H=!1);const ne=k.getTopLeftOffset(this._domNode).left;ue>ne&&(H=!1);const $=this._codeEditor.getScrolledVisiblePosition(U.getEndPosition());ie.left+($?$.left:0)>ne&&(H=!1)}}}this._showViewZone(H)}}_hide(U){this._revealTimeouts.forEach(H=>{clearTimeout(H)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),U&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(U){if(!this._codeEditor.getOption(31).addExtraSpaceOnTop){this._removeViewZone();return}if(!!this._isVisible){const q=this._viewZone;this._viewZoneId!==void 0||!q||this._codeEditor.changeViewZones(ie=>{q.heightInPx=this._getHeight(),this._viewZoneId=ie.addZone(q),this._codeEditor.setScrollTop(U||this._codeEditor.getScrollTop()+q.heightInPx)})}}_showViewZone(U=!0){if(!!this._isVisible&&!!this._codeEditor.getOption(31).addExtraSpaceOnTop){this._viewZone===void 0&&(this._viewZone=new te(0));const q=this._viewZone;this._codeEditor.changeViewZones(ie=>{if(this._viewZoneId!==void 0){const ce=this._getHeight();if(ce===q.heightInPx)return;let ue=ce-q.heightInPx;q.heightInPx=ce,ie.layoutZone(this._viewZoneId),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ue);return}else{let ce=this._getHeight();if(ce-=this._codeEditor.getOption(69).top,ce<=0)return;q.heightInPx=ce,this._viewZoneId=ie.addZone(q),U&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ce)}})}}_removeViewZone(){this._codeEditor.changeViewZones(U=>{this._viewZoneId!==void 0&&(U.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(U){let H={inputActiveOptionBorder:U.getColor(l.inputActiveOptionBorder),inputActiveOptionBackground:U.getColor(l.inputActiveOptionBackground),inputActiveOptionForeground:U.getColor(l.inputActiveOptionForeground),inputBackground:U.getColor(l.inputBackground),inputForeground:U.getColor(l.inputForeground),inputBorder:U.getColor(l.inputBorder),inputValidationInfoBackground:U.getColor(l.inputValidationInfoBackground),inputValidationInfoForeground:U.getColor(l.inputValidationInfoForeground),inputValidationInfoBorder:U.getColor(l.inputValidationInfoBorder),inputValidationWarningBackground:U.getColor(l.inputValidationWarningBackground),inputValidationWarningForeground:U.getColor(l.inputValidationWarningForeground),inputValidationWarningBorder:U.getColor(l.inputValidationWarningBorder),inputValidationErrorBackground:U.getColor(l.inputValidationErrorBackground),inputValidationErrorForeground:U.getColor(l.inputValidationErrorForeground),inputValidationErrorBorder:U.getColor(l.inputValidationErrorBorder)};this._findInput.style(H),this._replaceInput.style(H),this._toggleSelectionFind.style(H)}_tryUpdateWidgetWidth(){if(!!this._isVisible&&!!k.isInDOM(this._domNode)){const U=this._codeEditor.getLayoutInfo();if(U.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const q=U.width,ie=U.minimap.minimapWidth;let ce=!1,ue=!1,Z=!1;if(this._resized&&k.getTotalWidth(this._domNode)>A){this._domNode.style.maxWidth=`${q-28-ie-15}px`,this._replaceInput.width=k.getTotalWidth(this._findInput.domNode);return}if(A+28+ie>=q&&(ue=!0),A+28+ie-K>=q&&(Z=!0),A+28+ie-K>=q+50&&(ce=!0),this._domNode.classList.toggle("collapsed-find-widget",ce),this._domNode.classList.toggle("narrow-find-widget",Z),this._domNode.classList.toggle("reduced-find-widget",ue),!Z&&!ce&&(this._domNode.style.maxWidth=`${q-28-ie-15}px`),this._resized){this._findInput.inputBox.layout();let ne=this._findInput.inputBox.element.clientWidth;ne>0&&(this._replaceInput.width=ne)}else this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode))}}_getHeight(){let U=0;return U+=4,U+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(U+=4,U+=this._replaceInput.inputBox.height+2),U+=4,U}_tryUpdateHeight(){const U=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===U?!1:(this._cachedHeight=U,this._domNode.style.height=`${U}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let U=this._codeEditor.getSelections();U.map(H=>{H.endColumn===1&&H.endLineNumber>H.startLineNumber&&(H=H.setEndPosition(H.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(H.endLineNumber-1)));const q=this._state.currentMatch;return H.startLineNumber!==H.endLineNumber&&!a.Range.equalsRange(H,q)?H:null}).filter(H=>!!H),U.length&&this._state.change({searchScope:U},!0)}}_onFindInputMouseDown(U){U.middleButton&&U.stopPropagation()}_onFindInputKeyDown(U){if(U.equals(re|3)){this._findInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(2048|18)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return ae(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(U.equals(18))return Y(U,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(U){if(U.equals(re|3)){o.isWindows&&o.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(C.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ee,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),U.preventDefault();return}if(U.equals(2)){this._findInput.focusOnCaseSensitive(),U.preventDefault();return}if(U.equals(1024|2)){this._findInput.focus(),U.preventDefault();return}if(U.equals(2048|18)){this._codeEditor.focus(),U.preventDefault();return}if(U.equals(16))return ae(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(U.equals(18))return Y(U,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(U){return 0}_keybindingLabelFor(U){let H=this._keybindingService.lookupKeybinding(U);return H?` (${H.getLabel()})`:""}_buildDomNode(){const U=!0,H=!0;this._findInput=this._register(new t.ContextScopedFindInput(null,this._contextViewProvider,{width:V,label:m,placeholder:g,appendCaseSensitiveLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(s.FIND_IDS.ToggleRegexCommand),validation:ne=>{if(ne.length===0||!this._findInput.getRegex())return null;try{return new RegExp(ne,"gu"),null}catch($){return{content:$.message}}},flexibleHeight:U,flexibleWidth:H,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(ne=>this._onFindInputKeyDown(ne))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(ne=>{ne.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),ne.preventDefault())})),this._register(this._findInput.onRegexKeyDown(ne=>{ne.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),ne.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(ne=>{this._tryUpdateHeight()&&this._showViewZone()})),o.isLinux&&this._register(this._findInput.onMouseDown(ne=>this._onFindInputMouseDown(ne))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new x({label:b+this._keybindingLabelFor(s.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(s.FIND_IDS.PreviousMatchFindAction).run().then(void 0,f.onUnexpectedError)}})),this._nextBtn=this._register(new x({label:w+this._keybindingLabelFor(s.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(s.FIND_IDS.NextMatchFindAction).run().then(void 0,f.onUnexpectedError)}}));let q=document.createElement("div");q.className="find-part",q.appendChild(this._findInput.domNode);const ie=document.createElement("div");ie.className="find-actions",q.appendChild(ie),ie.appendChild(this._matchesCount),ie.appendChild(this._prevBtn.domNode),ie.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Checkbox({icon:u,title:L+this._keybindingLabelFor(s.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let ne=this._codeEditor.getSelections();ne.map($=>($.endColumn===1&&$.endLineNumber>$.startLineNumber&&($=$.setEndPosition($.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn($.endLineNumber-1))),$.isEmpty()?null:$)).filter($=>!!$),ne.length&&this._state.change({searchScope:ne},!0)}}else this._state.change({searchScope:null},!0)})),ie.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new x({label:E+this._keybindingLabelFor(s.FIND_IDS.CloseFindWidgetCommand),icon:i.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:ne=>{ne.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),ne.preventDefault())}})),ie.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new t.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:I,appendPreserveCaseLabel:this._keybindingLabelFor(s.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:U,flexibleWidth:H,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(ne=>this._onReplaceInputKeyDown(ne))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(ne=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(ne=>{ne.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),ne.preventDefault())})),this._replaceBtn=this._register(new x({label:T+this._keybindingLabelFor(s.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:ne=>{ne.equals(1024|2)&&(this._closeBtn.focus(),ne.preventDefault())}})),this._replaceAllBtn=this._register(new x({label:O+this._keybindingLabelFor(s.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ce=document.createElement("div");ce.className="replace-part",ce.appendChild(this._replaceInput.domNode);const ue=document.createElement("div");ue.className="replace-actions",ce.appendChild(ue),ue.appendChild(this._replaceBtn.domNode),ue.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new x({label:R,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${A}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(q),this._domNode.appendChild(ce),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Z=A;this._register(this._resizeSash.onDidStart(()=>{Z=k.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(ne=>{this._resized=!0;let $=Z+ne.startX-ne.currentX;if(!($<A)){const X=parseFloat(k.getComputedStyle(this._domNode).maxWidth)||0;$>X||(this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(()=>{const ne=k.getTotalWidth(this._domNode);if(!(ne<A)){let $=A;if(!this._resized||ne===A){const X=this._codeEditor.getLayoutInfo();$=X.width-28-X.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${$}px`,this._isReplaceVisible&&(this._replaceInput.width=k.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}}))}updateAccessibilitySupport(){const U=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(U!==2)}}e.FindWidget=P,P.ID="editor.contrib.findWidget";class x extends _.Widget{constructor(U){super();this._opts=U;let H="button";this._opts.className&&(H=H+" "+this._opts.className),this._opts.icon&&(H=H+" "+r.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=H,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,q=>{this._opts.onTrigger(),q.preventDefault()}),this.onkeydown(this._domNode,q=>{if(q.equals(10)||q.equals(3)){this._opts.onTrigger(),q.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(q)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(U){this._domNode.classList.toggle("disabled",!U),this._domNode.setAttribute("aria-disabled",String(!U)),this._domNode.tabIndex=U?0:-1}setExpanded(U){this._domNode.setAttribute("aria-expanded",String(!!U)),U?(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(v))):(this._domNode.classList.remove(...r.ThemeIcon.asClassNameArray(v)),this._domNode.classList.add(...r.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=x,r.registerThemingParticipant((z,U)=>{const H=(se,le)=>{le&&U.addRule(`.monaco-editor ${se} { background-color: ${le}; }`)};H(".findMatch",z.getColor(l.editorFindMatchHighlight)),H(".currentFindMatch",z.getColor(l.editorFindMatch)),H(".findScope",z.getColor(l.editorFindRangeHighlight));const q=z.getColor(l.editorWidgetBackground);H(".find-widget",q);const ie=z.getColor(l.widgetShadow);ie&&U.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ie}; }`);const ce=z.getColor(l.editorFindMatchHighlightBorder);ce&&U.addRule(`.monaco-editor .findMatch { border: 1px ${z.type==="hc"?"dotted":"solid"} ${ce}; box-sizing: border-box; }`);const ue=z.getColor(l.editorFindMatchBorder);ue&&U.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ue}; padding: 1px; box-sizing: border-box; }`);const Z=z.getColor(l.editorFindRangeHighlightBorder);Z&&U.addRule(`.monaco-editor .findScope { border: 1px ${z.type==="hc"?"dashed":"solid"} ${Z}; }`);const ne=z.getColor(l.contrastBorder);ne&&U.addRule(`.monaco-editor .find-widget { border: 1px solid ${ne}; }`);const $=z.getColor(l.editorWidgetForeground);$&&U.addRule(`.monaco-editor .find-widget { color: ${$}; }`);const X=z.getColor(l.errorForeground);X&&U.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${X}; }`);const de=z.getColor(l.editorWidgetResizeBorder);if(de)U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${de}; }`);else{const se=z.getColor(l.editorWidgetBorder);se&&U.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${se}; }`)}const fe=z.getColor(l.focusBorder);fe&&U.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${fe}; }`)})}),define(Q[261],J([0,1,460,15,2,8,13,24,144,617,618,643,35,84,16,68,36,78,14,32]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorStartFindReplaceAction=e.EditorStartFindAction=e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction2=e.PreviousMatchFindAction=e.NextMatchFindAction2=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const u=524288;function h(B,A="single"){if(!B.hasModel())return null;const W=B.getSelection();if(A==="single"&&W.startLineNumber===W.endLineNumber||A==="multiple"){if(W.isEmpty()){const V=B.getConfiguredWordAtPosition(W.getStartPosition());if(V)return V.word}else if(B.getModel().getValueLengthInRange(W)<u)return B.getModel().getValueInRange(W)}return null}e.getSelectionSearchString=h;let v=class Ht extends M.Disposable{constructor(A,W,V,K){super();this._editor=A,this._findWidgetVisible=d.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(W),this._contextKeyService=W,this._storageService=V,this._clipboardService=K,this._updateHistoryDelayer=new k.Delayer(500),this._state=this._register(new p.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(j=>this._onStateChanged(j))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let j=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),j&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(31).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(Ht.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!d.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(W=>(W.endColumn===1&&W.endLineNumber>W.startLineNumber&&(W=W.setEndPosition(W.endLineNumber-1,this._editor.getModel().getLineMaxColumn(W.endLineNumber-1))),W.isEmpty()?null:W)).filter(W=>!!W),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=y.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A){return De(this,void 0,void 0,function*(){if(this.disposeModel(),!!this._editor.hasModel()){let W={isRevealed:!0};if(A.seedSearchStringFromSelection==="single"){let V=h(this._editor,A.seedSearchStringFromSelection);V&&(this._state.isRegex?W.searchString=y.escapeRegExpCharacters(V):W.searchString=V)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let V=h(this._editor,A.seedSearchStringFromSelection);V&&(W.searchString=V)}if(!W.searchString&&A.seedSearchStringFromGlobalClipboard){let V=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;V&&(W.searchString=V)}if(A.forceRevealReplace?W.isReplaceRevealed=!0:this._findWidgetVisible.get()||(W.isReplaceRevealed=!1),A.updateSearchScope){let V=this._editor.getSelections();V.some(K=>!K.isEmpty())&&(W.searchScope=V)}W.loop=A.loop,this._state.change(W,!1),this._model||(this._model=new d.FindModelBoundToEditorModel(this._editor,this._state))}})}start(A){return this._start(A)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return De(this,void 0,void 0,function*(){return this._editor.getOption(31).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(31).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};v.ID="editor.contrib.findController",v=Me([pe(1,s.IContextKeyService),pe(2,t.IStorageService),pe(3,a.IClipboardService)],v),e.CommonFindController=v;let m=class extends v{constructor(A,W,V,K,j,ee,re,te){super(A,V,re,te);this._contextViewService=W,this._keybindingService=K,this._themeService=j,this._notificationService=ee,this._widget=null,this._findOptionsWidget=null}_start(A){const W=Object.create(null,{_start:{get:()=>super._start}});return De(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const V=this._editor.getSelection();let K=!1;switch(this._editor.getOption(31).autoFindInSelection){case"always":K=!0;break;case"never":K=!1;break;case"multiline":K=!!V&&V.startLineNumber!==V.endLineNumber;break;default:break}A.updateSearchScope=K,yield W._start.call(this,A),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new o.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new f.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};m=Me([pe(1,l.IContextViewService),pe(2,s.IContextKeyService),pe(3,r.IKeybindingService),pe(4,n.IThemeService),pe(5,i.INotificationService),pe(6,t.IStorageService),pe(7,a.IClipboardService)],m),e.FindController=m;class g extends S.MultiEditorAction{constructor(){super({id:d.FIND_IDS.StartFindAction,label:C.localize(0,null),alias:"Find",precondition:s.ContextKeyExpr.or(s.ContextKeyExpr.has("editorFocus"),s.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:c.MenuId.MenubarEditMenu,group:"3_find",title:C.localize(1,null),order:1}})}run(A,W){return De(this,void 0,void 0,function*(){let V=v.get(W);V&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:W.getOption(31).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(31).loop}))})}}e.StartFindAction=g;class b extends S.EditorAction{constructor(){super({id:d.FIND_IDS.StartFindWithSelection,label:C.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,W){return De(this,void 0,void 0,function*(){let V=v.get(W);V&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(31).loop}),V.setGlobalBufferTerm(V.getState().searchString))})}}e.StartFindWithSelectionAction=b;class w extends S.EditorAction{run(A,W){return De(this,void 0,void 0,function*(){let V=v.get(W);V&&!this._run(V)&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getState().searchString.length===0&&W.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(31).loop}),this._run(V))})}}e.MatchFindAction=w;class L extends w{constructor(){super({id:d.FIND_IDS.NextMatchFindAction,label:C.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100}})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=L;class E extends w{constructor(){super({id:d.FIND_IDS.NextMatchFindAction,label:C.localize(4,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(_.EditorContextKeys.focus,d.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction2=E;class N extends w{constructor(){super({id:d.FIND_IDS.PreviousMatchFindAction,label:C.localize(5,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=N;class I extends w{constructor(){super({id:d.FIND_IDS.PreviousMatchFindAction,label:C.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:s.ContextKeyExpr.and(_.EditorContextKeys.focus,d.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction2=I;class T extends S.EditorAction{run(A,W){return De(this,void 0,void 0,function*(){let V=v.get(W);if(!!V){let K=h(W);K&&V.setSearchString(K),this._run(V)||(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(31).loop}),this._run(V))}})}}e.SelectionMatchFindAction=T;class O extends T{constructor(){super({id:d.FIND_IDS.NextSelectionMatchFindAction,label:C.localize(7,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class R extends T{constructor(){super({id:d.FIND_IDS.PreviousSelectionMatchFindAction,label:C.localize(8,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=R;class F extends S.MultiEditorAction{constructor(){super({id:d.FIND_IDS.StartFindReplaceAction,label:C.localize(9,null),alias:"Replace",precondition:s.ContextKeyExpr.or(s.ContextKeyExpr.has("editorFocus"),s.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:c.MenuId.MenubarEditMenu,group:"3_find",title:C.localize(10,null),order:2}})}run(A,W){return De(this,void 0,void 0,function*(){if(!(!W.hasModel()||W.getOption(75))){let V=v.get(W),K=W.getSelection(),j=V.isFindInputFocused(),ee=!K.isEmpty()&&K.startLineNumber===K.endLineNumber&&W.getOption(31).seedSearchStringFromSelection&&!j,re=j||ee?2:1;V&&(yield V.start({forceRevealReplace:!0,seedSearchStringFromSelection:ee?"single":"none",seedSearchStringFromGlobalClipboard:W.getOption(31).seedSearchStringFromSelection,shouldFocus:re,shouldAnimate:!0,updateSearchScope:!1,loop:W.getOption(31).loop}))}})}}e.StartFindReplaceAction=F,S.registerEditorContribution(v.ID,m),e.EditorStartFindAction=new g,S.registerMultiEditorAction(e.EditorStartFindAction),S.registerEditorAction(b),S.registerEditorAction(L),S.registerEditorAction(E),S.registerEditorAction(N),S.registerEditorAction(I),S.registerEditorAction(O),S.registerEditorAction(R),e.EditorStartFindReplaceAction=new F,S.registerMultiEditorAction(e.EditorStartFindReplaceAction);const D=S.EditorCommand.bindToContribution(v.get);S.registerEditorCommand(new D({id:d.FIND_IDS.CloseFindWidgetCommand,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(_.EditorContextKeys.focus,s.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:B=>B.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:d.ToggleCaseSensitiveKeybinding.primary,mac:d.ToggleCaseSensitiveKeybinding.mac,win:d.ToggleCaseSensitiveKeybinding.win,linux:d.ToggleCaseSensitiveKeybinding.linux}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:B=>B.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:d.ToggleWholeWordKeybinding.primary,mac:d.ToggleWholeWordKeybinding.mac,win:d.ToggleWholeWordKeybinding.win,linux:d.ToggleWholeWordKeybinding.linux}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:B=>B.toggleRegex(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:d.ToggleRegexKeybinding.primary,mac:d.ToggleRegexKeybinding.mac,win:d.ToggleRegexKeybinding.win,linux:d.ToggleRegexKeybinding.linux}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:B=>B.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:d.ToggleSearchScopeKeybinding.primary,mac:d.ToggleSearchScopeKeybinding.mac,win:d.ToggleSearchScopeKeybinding.win,linux:d.ToggleSearchScopeKeybinding.linux}})),S.registerEditorCommand(new D({id:d.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:B=>B.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:d.TogglePreserveCaseKeybinding.primary,mac:d.TogglePreserveCaseKeybinding.mac,win:d.TogglePreserveCaseKeybinding.win,linux:d.TogglePreserveCaseKeybinding.linux}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ReplaceOneAction,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replace(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:2048|1024|22}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ReplaceOneAction,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replace(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(_.EditorContextKeys.focus,d.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ReplaceAllAction,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replaceAll(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:2048|512|3}})),S.registerEditorCommand(new D({id:d.FIND_IDS.ReplaceAllAction,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.replaceAll(),kbOpts:{weight:100+5,kbExpr:s.ContextKeyExpr.and(_.EditorContextKeys.focus,d.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),S.registerEditorCommand(new D({id:d.FIND_IDS.SelectAllMatchesAction,precondition:d.CONTEXT_FIND_WIDGET_VISIBLE,handler:B=>B.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:_.EditorContextKeys.focus,primary:512|3}}))}),define(Q[644],J([0,1,31,27,463,79,14]),function(G,e,C,k,M,y,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=y.registerIcon("folding-expanded",k.Codicon.chevronDown,M.localize(0,null)),e.foldingCollapsedIcon=y.registerIcon("folding-collapsed",k.Codicon.chevronRight,M.localize(1,null));class _{constructor(f){this.editor=f,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(f,p){return p?_.HIDDEN_RANGE_DECORATION:f?this.showFoldingHighlights?_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:_.EXPANDED_VISUAL_DECORATION}deltaDecorations(f,p){return this.editor.deltaDecorations(f,p)}changeDecorations(f){return this.editor.changeDecorations(f)}}e.FoldingDecorationProvider=_,_.COLLAPSED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.EXPANDED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.HIDDEN_RANGE_DECORATION=C.ModelDecorationOptions.register({stickiness:1})}),define(Q[645],J([0,1,462,21,8,15,38,2,13,395,644,24,396,41,528,18,223,397,11,16,14,22,334]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const v=new i.RawContextKey("foldingEnabled",!1);let m=class Ut extends _.Disposable{constructor(W,V){super();this.contextKeyService=V,this.localToDispose=this._register(new _.DisposableStore),this.editor=W;const K=this.editor.getOptions();this._isEnabled=K.get(33),this._useFoldingProviders=K.get(34)!=="indentation",this._unfoldOnClickAfterEndOfLine=K.get(36),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new p.FoldingDecorationProvider(W),this.foldingDecorationProvider.autoHideFoldingControls=K.get(94)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=K.get(35),this.foldingEnabled=v.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(j=>{if(j.hasChanged(33)&&(this._isEnabled=this.editor.getOptions().get(33),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),j.hasChanged(94)||j.hasChanged(35)){const ee=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=ee.get(94)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=ee.get(35),this.onModelContentChanged()}j.hasChanged(34)&&(this._useFoldingProviders=this.editor.getOptions().get(34)!=="indentation",this.onFoldingStrategyChanged()),j.hasChanged(36)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(36))})),this.onModelChanged()}static get(W){return W.getContribution(Ut.ID)}saveViewState(){let W=this.editor.getModel();if(!W||!this._isEnabled||W.isTooLargeForTokenization())return{};if(this.foldingModel){let V=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),K=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:V,lineCount:W.getLineCount(),provider:K}}}restoreViewState(W){let V=this.editor.getModel();if(!(!V||!this._isEnabled||V.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!W||!W.collapsedRegions||W.lineCount!==V.getLineCount())){(W.provider===r.ID_SYNTAX_PROVIDER||W.provider===t.ID_INIT_PROVIDER)&&(this.foldingStateMemento=W);const K=W.collapsedRegions;if(this.hiddenRangeModel.applyMemento(K)){const j=this.getFoldingModel();j&&j.then(ee=>{if(ee){this._restoringViewState=!0;try{ee.applyMemento(K)}finally{this._restoringViewState=!1}}}).then(void 0,n.onUnexpectedError)}}}onModelChanged(){this.localToDispose.clear();let W=this.editor.getModel();!this._isEnabled||!W||W.isTooLargeForTokenization()||(this.foldingModel=new f.FoldingModel(W,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new c.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(V=>this.onHiddenRangesChanges(V))),this.updateScheduler=new y.Delayer(200),this.cursorChangedScheduler=new y.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(l.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(V=>this.onEditorMouseDown(V))),this.localToDispose.add(this.editor.onMouseUp(V=>this.onEditorMouseUp(V))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(W){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new s.IndentRangeProvider(W),this._useFoldingProviders&&this.foldingModel){let V=l.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(V.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new t.InitializingRangeProvider(W,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);V.length>0&&(this.rangeProvider=new r.SyntaxRangeProvider(W,V,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const W=this.foldingModel;if(!W)return null;let V=this.foldingRegionPromise=y.createCancelablePromise(K=>this.getRangeProvider(W.textModel).compute(K));return V.then(K=>{if(K&&V===this.foldingRegionPromise){let j=this.editor.getSelections(),ee=j?j.map(re=>re.startLineNumber):[];W.update(K,ee)}return W})}).then(void 0,W=>(n.onUnexpectedError(W),null)))}onHiddenRangesChanges(W){if(this.hiddenRangeModel&&W.length&&!this._restoringViewState){let V=this.editor.getSelections();V&&this.hiddenRangeModel.adjustSelections(V)&&this.editor.setSelections(V)}this.editor.setHiddenAreas(W)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const W=this.getFoldingModel();!W||W.then(V=>{if(V){let K=this.editor.getSelections();if(K&&K.length>0){let j=[];for(let ee of K){let re=ee.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(re)&&j.push(...V.getAllRegionsAtLine(re,te=>te.isCollapsed&&re>te.startLineNumber))}j.length&&(V.toggleCollapseState(j),this.reveal(K[0].getPosition()))}}}).then(void 0,n.onUnexpectedError)}onEditorMouseDown(W){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!W.target||!W.target.range)&&!(!W.event.leftButton&&!W.event.middleButton)){const V=W.target.range;let K=!1;switch(W.target.type){case 4:const j=W.target.detail,ee=W.target.element.offsetLeft;if(j.offsetX-ee<5)return;K=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!W.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let te=this.editor.getModel();if(te&&V.startColumn===te.getLineMaxColumn(V.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:V.startLineNumber,iconClicked:K}}}onEditorMouseUp(W){const V=this.getFoldingModel();if(!(!V||!this.mouseDownInfo||!W.target)){let K=this.mouseDownInfo.lineNumber,j=this.mouseDownInfo.iconClicked,ee=W.target.range;if(!(!ee||ee.startLineNumber!==K)){if(j){if(W.target.type!==4)return}else{let re=this.editor.getModel();if(!re||ee.startColumn!==re.getLineMaxColumn(K))return}V.then(re=>{if(re){let te=re.getRegionAtLine(K);if(te&&te.startLineNumber===K){let ae=te.isCollapsed;if(j||ae){let Y=[],P=W.event.middleButton||W.event.shiftKey;if(P)for(const x of re.getRegionsInside(te))x.isCollapsed===ae&&Y.push(x);(ae||!P||Y.length===0)&&Y.push(te),re.toggleCollapseState(Y),this.reveal({lineNumber:K,column:1})}}}}).then(void 0,n.onUnexpectedError)}}}reveal(W){this.editor.revealPositionInCenterIfOutsideViewport(W,0)}};m.ID="editor.contrib.folding",m=Me([pe(1,i.IContextKeyService)],m),e.FoldingController=m;class g extends d.EditorAction{runEditorCommand(W,V,K){let j=m.get(V);if(!!j){let ee=j.getFoldingModel();if(ee)return this.reportTelemetry(W,V),ee.then(re=>{if(re){this.invoke(j,re,V,K);const te=V.getSelection();te&&j.reveal(te.getStartPosition())}})}}getSelectedLines(W){let V=W.getSelections();return V?V.map(K=>K.startLineNumber):[]}getLineNumbers(W,V){return W&&W.selectionLines?W.selectionLines.map(K=>K+1):this.getSelectedLines(V)}run(W,V){}}function b(A){if(!k.isUndefined(A)){if(!k.isObject(A))return!1;const W=A;if(!k.isUndefined(W.levels)&&!k.isNumber(W.levels)||!k.isUndefined(W.direction)&&!k.isString(W.direction)||!k.isUndefined(W.selectionLines)&&(!k.isArray(W.selectionLines)||!W.selectionLines.every(k.isNumber)))return!1}return!0}class w extends g{constructor(){super({id:"editor.unfold",label:C.localize(0,null),alias:"Unfold",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(W,V,K,j){let ee=j&&j.levels||1,re=this.getLineNumbers(j,K);j&&j.direction==="up"?f.setCollapseStateLevelsUp(V,!1,ee,re):f.setCollapseStateLevelsDown(V,!1,ee,re)}}class L extends g{constructor(){super({id:"editor.unfoldRecursively",label:C.localize(1,null),alias:"Unfold Recursively",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|89),weight:100}})}invoke(W,V,K,j){f.setCollapseStateLevelsDown(V,!1,Number.MAX_VALUE,this.getSelectedLines(K))}}class E extends g{constructor(){super({id:"editor.fold",label:C.localize(2,null),alias:"Fold",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(W,V,K,j){let ee=this.getLineNumbers(j,K);const re=j&&j.levels,te=j&&j.direction;typeof re!="number"&&typeof te!="string"?f.setCollapseStateUp(V,!0,ee):te==="up"?f.setCollapseStateLevelsUp(V,!0,re||1,ee):f.setCollapseStateLevelsDown(V,!0,re||1,ee)}}class N extends g{constructor(){super({id:"editor.toggleFold",label:C.localize(3,null),alias:"Toggle Fold",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|42),weight:100}})}invoke(W,V,K){let j=this.getSelectedLines(K);f.toggleCollapseState(V,1,j)}}class I extends g{constructor(){super({id:"editor.foldRecursively",label:C.localize(4,null),alias:"Fold Recursively",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|87),weight:100}})}invoke(W,V,K){let j=this.getSelectedLines(K);f.setCollapseStateLevelsDown(V,!0,Number.MAX_VALUE,j)}}class T extends g{constructor(){super({id:"editor.foldAllBlockComments",label:C.localize(5,null),alias:"Fold All Block Comments",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|85),weight:100}})}invoke(W,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,l.FoldingRangeKind.Comment.value,!0);else{const j=K.getModel();if(!j)return;let ee=a.LanguageConfigurationRegistry.getComments(j.getLanguageIdentifier().id);if(ee&&ee.blockCommentStartToken){let re=new RegExp("^\\s*"+M.escapeRegExpCharacters(ee.blockCommentStartToken));f.setCollapseStateForMatchingLines(V,re,!0)}}}}class O extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:C.localize(6,null),alias:"Fold All Regions",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|29),weight:100}})}invoke(W,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,l.FoldingRangeKind.Region.value,!0);else{const j=K.getModel();if(!j)return;let ee=a.LanguageConfigurationRegistry.getFoldingRules(j.getLanguageIdentifier().id);if(ee&&ee.markers&&ee.markers.start){let re=new RegExp(ee.markers.start);f.setCollapseStateForMatchingLines(V,re,!0)}}}}class R extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C.localize(7,null),alias:"Unfold All Regions",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|30),weight:100}})}invoke(W,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,l.FoldingRangeKind.Region.value,!1);else{const j=K.getModel();if(!j)return;let ee=a.LanguageConfigurationRegistry.getFoldingRules(j.getLanguageIdentifier().id);if(ee&&ee.markers&&ee.markers.start){let re=new RegExp(ee.markers.start);f.setCollapseStateForMatchingLines(V,re,!1)}}}}class F extends g{constructor(){super({id:"editor.foldAll",label:C.localize(8,null),alias:"Fold All",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21),weight:100}})}invoke(W,V,K){f.setCollapseStateLevelsDown(V,!0)}}class D extends g{constructor(){super({id:"editor.unfoldAll",label:C.localize(9,null),alias:"Unfold All",precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|40),weight:100}})}invoke(W,V,K){f.setCollapseStateLevelsDown(V,!1)}}class B extends g{getFoldingLevel(){return parseInt(this.id.substr(B.ID_PREFIX.length))}invoke(W,V,K){f.setCollapseStateAtLevel(V,this.getFoldingLevel(),!0,this.getSelectedLines(K))}}B.ID_PREFIX="editor.foldLevel",B.ID=A=>B.ID_PREFIX+A,d.registerEditorContribution(m.ID,m),d.registerEditorAction(w),d.registerEditorAction(L),d.registerEditorAction(E),d.registerEditorAction(I),d.registerEditorAction(F),d.registerEditorAction(D),d.registerEditorAction(T),d.registerEditorAction(O),d.registerEditorAction(R),d.registerEditorAction(N);for(let A=1;A<=7;A++)d.registerInstantiatedEditorAction(new B({id:B.ID(A),label:C.localize(10,null,A),alias:`Fold Level ${A}`,precondition:v,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21+A),weight:100}}));e.foldBackgroundBackground=h.registerColor("editor.foldBackground",{light:h.transparent(h.editorSelectionBackground,.3),dark:h.transparent(h.editorSelectionBackground,.3),hc:null},C.localize(11,null),!0),e.editorFoldForeground=h.registerColor("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},C.localize(12,null)),u.registerThemingParticipant((A,W)=>{const V=A.getColor(e.foldBackgroundBackground);V&&W.addRule(`.monaco-editor .folded-background { background-color: ${V}; }`);const K=A.getColor(e.editorFoldForeground);K&&W.addRule(`
		.monaco-editor .cldr${u.ThemeIcon.asCSSSelector(p.foldingExpandedIcon)},
		.monaco-editor .cldr${u.ThemeIcon.asCSSSelector(p.foldingCollapsedIcon)} {
			color: ${K} !important;
		}
		`)})}),define(Q[262],J([0,1,467,2,16,12,3,13,24,641,28,35,27,9,545,79]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class ut{constructor(b,w,L,E,N){this._markerNavigationService=w,this._contextKeyService=L,this._editorService=E,this._instantiationService=N,this._sessionDispoables=new k.DisposableStore,this._editor=b,this._widgetVisible=v.bindTo(this._contextKeyService)}static get(b){return b.getContribution(ut.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let w=!1;return this._model&&(w=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),w&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(f.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var E,N,I;(!((E=this._model)===null||E===void 0?void 0:E.selected)||!S.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,L.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!(!this._widget||!this._widget.position||!this._model)){const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const w=this._getOrCreateModel(this._editor.getModel().uri);w.resetIndex(),w.move(!0,this._editor.getModel(),new y.Position(b.startLineNumber,b.startColumn)),w.selected&&this._widget.showAtMarker(w.selected.marker,w.selected.index,w.selected.total)}}nagivate(b,w){return De(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(w?void 0:this._editor.getModel().uri);if(L.move(b,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const E=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);E&&(ut.get(E).close(),ut.get(E).nagivate(b,w))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};r.ID="editor.contrib.markerController",r=Me([pe(1,s.IMarkerNavigationService),pe(2,M.IContextKeyService),pe(3,p.ICodeEditorService),pe(4,a.IInstantiationService)],r),e.MarkerController=r;class t extends _.EditorAction{constructor(b,w,L){super(L);this._next=b,this._multiFile=w}run(b,w){return De(this,void 0,void 0,function*(){w.hasModel()&&r.get(w).nagivate(this._next,this._multiFile)})}}class n extends t{constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:f.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:l.registerIcon("marker-navigation-next",c.Codicon.chevronDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=n,n.ID="editor.action.marker.next",n.LABEL=C.localize(0,null);class i extends t{constructor(){super(!1,!1,{id:i.ID,label:i.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:f.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:l.registerIcon("marker-navigation-previous",c.Codicon.chevronUp,C.localize(3,null)),group:"navigation",order:2}})}}i.ID="editor.action.marker.prev",i.LABEL=C.localize(2,null);class u extends t{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends t{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}_.registerEditorContribution(r.ID,r),_.registerEditorAction(n),_.registerEditorAction(i),_.registerEditorAction(u),_.registerEditorAction(h);const v=new M.RawContextKey("markersNavigationVisible",!1),m=_.EditorCommand.bindToContribution(r.get);_.registerEditorCommand(new m({id:"closeMarkersNavigation",precondition:v,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(Q[646],J([0,1,478,7,2,3,19,85,40,237,11,57,262,36,15,141,258,129,58,207]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const u=k.$;class h{constructor(b,w){this.range=b,this.marker=w}equals(b){return b instanceof h?_.IMarkerData.makeKey(this.marker)===_.IMarkerData.makeKey(b.marker):!1}}e.MarkerHover=h;const v={type:2,filter:{include:t.CodeActionKind.QuickFix}};let m=class{constructor(b,w,L,E,N){this._editor=b,this._hover=w,this._markerDecorationsService=L,this._keybindingService=E,this._openerService=N,this.recentMarkerCodeActionsInfo=void 0}computeSync(b,w){if(!this._editor.hasModel())return[];const L=this._editor.getModel(),E=b.startLineNumber,N=L.getLineMaxColumn(E),I=[];for(const T of w){const O=T.range.startLineNumber===E?T.range.startColumn:1,R=T.range.endLineNumber===E?T.range.endColumn:N,F=this._markerDecorationsService.getMarker(L.uri,T);if(!!F){const D=new y.Range(b.startLineNumber,O,b.startLineNumber,R);I.push(new h(D,F))}}return I}renderHoverParts(b,w){if(!b.length)return M.Disposable.None;const L=new M.DisposableStore;b.forEach(N=>w.appendChild(this.renderMarkerHover(N,L)));const E=b.length===1?b[0]:b.sort((N,I)=>_.MarkerSeverity.compare(N.marker.severity,I.marker.severity))[0];return w.appendChild(this.renderMarkerStatusbar(E,L)),L}renderMarkerHover(b,w){const L=u("div.hover-row"),E=k.append(L,u("div.marker.hover-contents")),{source:N,message:I,code:T,relatedInformation:O}=b.marker;this._editor.applyFontInfo(E);const R=k.append(E,u("span"));if(R.style.whiteSpace="pre-wrap",R.innerText=I,N||T)if(T&&typeof T!="string"){const F=u("span");if(N){const W=k.append(F,u("span"));W.innerText=N}const D=k.append(F,u("a.code-link"));D.setAttribute("href",T.target.toString()),w.add(k.addDisposableListener(D,"click",W=>{this._openerService.open(T.target),W.preventDefault(),W.stopPropagation()}));const B=k.append(D,u("span"));B.innerText=T.value;const A=k.append(E,F);A.style.opacity="0.6",A.style.paddingLeft="6px"}else{const F=k.append(E,u("span"));F.style.opacity="0.6",F.style.paddingLeft="6px",F.innerText=N&&T?`${N}(${T})`:N||`(${T})`}if(S.isNonEmptyArray(O))for(const{message:F,resource:D,startLineNumber:B,startColumn:A}of O){const W=k.append(E,u("div"));W.style.marginTop="8px";const V=k.append(W,u("a"));V.innerText=`${d.basename(D)}(${B}, ${A}): `,V.style.cursor="pointer",w.add(k.addDisposableListener(V,"click",j=>{j.stopPropagation(),j.preventDefault(),this._openerService&&this._openerService.open(D,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:B,startColumn:A}}}).catch(p.onUnexpectedError)}));const K=k.append(W,u("span"));K.innerText=F,this._editor.applyFontInfo(K)}return L}renderMarkerStatusbar(b,w){const L=u("div.hover-row.status-bar"),E=k.append(L,u("div.actions"));if((b.marker.severity===_.MarkerSeverity.Error||b.marker.severity===_.MarkerSeverity.Warning||b.marker.severity===_.MarkerSeverity.Info)&&w.add(this.renderAction(E,{label:C.localize(0,null),commandId:c.NextMarkerAction.ID,run:()=>{this._hover.hide(),c.MarkerController.get(this._editor).showAtMarker(b.marker),this._editor.focus()}})),!this._editor.getOption(75)){const N=k.append(E,u("div"));this.recentMarkerCodeActionsInfo&&(_.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===_.IMarkerData.makeKey(b.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(N.textContent=C.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const I=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?M.Disposable.None:w.add(s.disposableTimeout(()=>N.textContent=C.localize(2,null),200));N.textContent||(N.textContent=String.fromCharCode(160));const T=this.getCodeActions(b.marker);w.add(M.toDisposable(()=>T.cancel())),T.then(O=>{if(I.dispose(),this.recentMarkerCodeActionsInfo={marker:b.marker,hasCodeActions:O.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){O.dispose(),N.textContent=C.localize(3,null);return}N.style.display="none";let R=!1;w.add(M.toDisposable(()=>{R||O.dispose()})),w.add(this.renderAction(E,{label:C.localize(4,null),commandId:r.QuickFixAction.Id,run:F=>{R=!0;const D=r.QuickFixController.get(this._editor),B=k.getDomNodePagePosition(F);this._hover.hide(),D.showCodeActions(v,O,{x:B.left+6,y:B.top+B.height+6})}}))})}return L}renderAction(b,w){const L=this._keybindingService.lookupKeybinding(w.commandId),E=L?L.getLabel():null;return i.renderHoverAction(b,w,E)}getCodeActions(b){return s.createCancelablePromise(w=>l.getCodeActions(this._editor.getModel(),new y.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),v,n.Progress.None,w))}};m=Me([pe(2,f.IMarkerDecorationsService),pe(3,a.IKeybindingService),pe(4,o.IOpenerService)],m),e.MarkerHoverParticipant=m}),define(Q[647],J([0,1,7,25,29,2,12,3,31,18,246,251,390,615,226,14,19,22,52,207,646,582]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;class v{constructor(E,N,I){this.range=E,this.color=N,this.provider=I}equals(E){return!1}}class m{constructor(E,N){this.owner=E,this.data=N}}class g{constructor(E,N,I){this._markerHoverParticipant=N,this._markdownHoverParticipant=I,this._editor=E,this._result=[],this._range=null}setRange(E){this._range=E,this._result=[]}clearResult(){this._result=[]}computeAsync(E){return De(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,E)).map(I=>new m(this._markdownHoverParticipant,I))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const E=this._editor.getModel(),N=this._range,I=N.startLineNumber;if(I>this._editor.getModel().getLineCount())return[];const T=E.getLineMaxColumn(I),O=this._editor.getLineDecorations(I).filter(A=>{const W=A.range.startLineNumber===I?A.range.startColumn:1,V=A.range.endLineNumber===I?A.range.endColumn:T;return!(W>N.startColumn||N.endColumn>V)});let R=[];const F=o.ColorDetector.get(this._editor);for(const A of O){const W=F.getColorData(A.range.getStartPosition());if(W){const{color:V,range:K}=W.colorInfo;R.push(new m(null,new v(_.Range.lift(K),V,W.provider)));break}}const D=this._markdownHoverParticipant.computeSync(this._range,O);R=R.concat(D.map(A=>new m(this._markdownHoverParticipant,A)));const B=this._markerHoverParticipant.computeSync(this._range,O);return R=R.concat(B.map(A=>new m(this._markerHoverParticipant,A))),r.coalesce(R)}onResult(E,N){N?this._result=E.concat(this._result):this._result=this._result.concat(E)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){const E=new m(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([E])}return this._result.slice(0)}}class b extends n.Widget{constructor(E,N,I,T){super();this._hoverVisibleKey=N,this._themeService=T,this.allowEditorOverflow=!0,this._markerHoverParticipant=I.createInstance(u.MarkerHoverParticipant,E,this),this._markdownHoverParticipant=I.createInstance(h.MarkdownHoverParticipant,E,this),this._hover=this._register(new i.HoverWidget),this._id=b.ID,this._editor=E,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,O=>{O.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(O=>{O.hasChanged(38)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new g(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new s.HoverOperation(this._computer,O=>this._withResult(O,!0),null,O=>this._withResult(O,!1),this._editor.getOption(48).delay),this._register(C.addStandardDisposableListener(this.getDomNode(),C.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(C.addStandardDisposableListener(this.getDomNode(),C.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(E.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(48).delay)})),this._register(f.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(O=>{var R,F;if(O.data instanceof v&&!!((R=this._lastRange)===null||R===void 0?void 0:R.intersectRanges(O.data.range))&&((F=this._colorPicker)===null||F===void 0?void 0:F.model.color)){const D=this._colorPicker.model.color,B={red:D.rgba.r/255,green:D.rgba.g/255,blue:D.rgba.b/255,alpha:D.rgba.a};return new m(O.owner,new v(O.data.range,B,O.data.provider))}else return O}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(E,N,I){this._showAtPosition=E,this._showAtRange=N,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=I,I&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(N=>this._editor.applyFontInfo(N))}_updateContents(E){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(E),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const E=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:N,lineHeight:I}=this._editor.getOption(38);this._hover.contentsDomNode.style.fontSize=`${N}px`,this._hover.contentsDomNode.style.lineHeight=`${I}px`,this._hover.contentsDomNode.style.maxHeight=`${E}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(E,N,I){if(!(this._lastRange&&this._lastRange.equalsRange(E))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==E.startLineNumber)this.hide();else{let T=[];for(let O=0,R=this._messages.length;O<R;O++){const F=this._messages[O],D=F.data.range;D&&D.startColumn<=E.startColumn&&D.endColumn>=E.endColumn&&T.push(F)}if(T.length>0){if(w(T,this._messages))return;this._renderMessages(E,T)}else this.hide()}this._lastRange=E,this._computer.setRange(E),this._shouldFocus=I,this._hoverOperation.start(N)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(E,N){this._messages=E,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):N&&this.hide()}_renderMessages(E,N){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let I=1073741824,T=N[0].data.range?_.Range.lift(N[0].data.range):null,O=document.createDocumentFragment(),R=!1;const F=new y.DisposableStore,D=[],B=[];N.forEach(A=>{const W=A.data;if(!!W.range)if(I=Math.min(I,W.range.startColumn),T=T?_.Range.plusRange(T,W.range):_.Range.lift(W.range),W instanceof v){R=!0;const{red:V,green:K,blue:j,alpha:ee}=W.color,re=new M.RGBA(Math.round(V*255),Math.round(K*255),Math.round(j*255),ee),te=new M.Color(re);if(!this._editor.hasModel())return;const ae=this._editor.getModel();let Y=new _.Range(W.range.startLineNumber,W.range.startColumn,W.range.endLineNumber,W.range.endColumn),P={range:W.range,color:W.color};const x=new c.ColorPickerModel(te,[],0),z=new a.ColorPickerWidget(O,x,this._editor.getOption(121),this._themeService);p.getColorPresentations(ae,P,W.provider,k.CancellationToken.None).then(U=>{if(x.colorPresentations=U||[],!!this._editor.hasModel()){const H=this._editor.getModel().getValueInRange(W.range);x.guessColorPresentation(te,H);const q=()=>{let Z,ne;if(x.presentation.textEdit){Z=[x.presentation.textEdit],ne=new _.Range(x.presentation.textEdit.range.startLineNumber,x.presentation.textEdit.range.startColumn,x.presentation.textEdit.range.endLineNumber,x.presentation.textEdit.range.endColumn);const $=this._editor.getModel()._setTrackedRange(null,ne,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Z),ne=this._editor.getModel()._getTrackedRange($)||ne}else Z=[{identifier:null,range:Y,text:x.presentation.label,forceMoveMarkers:!1}],ne=Y.setEndPosition(Y.endLineNumber,Y.startColumn+x.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Z);x.presentation.additionalTextEdits&&(Z=[...x.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Z),this.hide()),this._editor.pushUndoStop(),Y=ne},ie=Z=>p.getColorPresentations(ae,{range:Y,color:{red:Z.rgba.r/255,green:Z.rgba.g/255,blue:Z.rgba.b/255,alpha:Z.rgba.a}},W.provider,k.CancellationToken.None).then(ne=>{x.colorPresentations=ne||[]}),ce=x.onColorFlushed(Z=>{ie(Z).then(q)}),ue=x.onDidChangeColor(ie);this._colorPicker=z,this.showAt(Y.getStartPosition(),Y,this._shouldFocus),this._updateContents(O),this._colorPicker.layout(),this._renderDisposable=y.combinedDisposable(ce,ue,z,F)}})}else W instanceof u.MarkerHover?D.push(W):W instanceof h.MarkdownHover&&B.push(W)}),B.length>0&&F.add(this._markdownHoverParticipant.renderHoverParts(B,O)),D.length&&F.add(this._markerHoverParticipant.renderHoverParts(D,O)),this._renderDisposable=F,!R&&O.hasChildNodes()&&(this.showAt(new S.Position(E.startLineNumber,I),T,this._shouldFocus),this._updateContents(O)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,T?[{range:T,options:b._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}e.ModesContentHoverWidget=b,b.ID="editor.contrib.modesContentHoverWidget",b._DECORATION_OPTIONS=d.ModelDecorationOptions.register({className:"hoverHighlight"});function w(L,E){if(L.length!==E.length)return!1;for(let N=0;N<L.length;N++)if(!L[N].data.equals(E[N].data))return!1;return!0}l.registerThemingParticipant((L,E)=>{const N=L.getColor(t.textLinkForeground);N&&E.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${N}; }`)})}),define(Q[648],J([0,1,485,15,38,2,13,239,3,20,24,53,31,18,261,35,22,14,16]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;class i extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:C.localize(0,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(1,null),order:2}})}run(V,K,j){if(!!K.hasModel()){const ee=j&&j.logicalLine===!0,re=K._getViewModel();re.cursorConfig.readOnly||(re.pushStackElement(),re.setCursorStates(j.source,3,_.CursorMoveCommands.addCursorUp(re,re.getCursorStates(),ee)),re.revealTopMostCursor(j.source))}}}e.InsertCursorAbove=i;class u extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:C.localize(2,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(3,null),order:3}})}run(V,K,j){if(!!K.hasModel()){const ee=j&&j.logicalLine===!0,re=K._getViewModel();re.cursorConfig.readOnly||(re.pushStackElement(),re.setCursorStates(j.source,3,_.CursorMoveCommands.addCursorDown(re,re.getCursorStates(),ee)),re.revealBottomMostCursor(j.source))}}}e.InsertCursorBelow=u;class h extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:C.localize(4,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(5,null),order:4}})}getCursorsForSelection(V,K,j){if(!V.isEmpty()){for(let ee=V.startLineNumber;ee<V.endLineNumber;ee++){let re=K.getLineMaxColumn(ee);j.push(new f.Selection(ee,re,ee,re))}V.endColumn>1&&j.push(new f.Selection(V.endLineNumber,V.endColumn,V.endLineNumber,V.endColumn))}}run(V,K){if(!!K.hasModel()){const j=K.getModel(),ee=K.getSelections();let re=[];ee.forEach(te=>this.getCursorsForSelection(te,j,re)),re.length>0&&K.setSelections(re)}}}class v extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:C.localize(6,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(V,K){if(!!K.hasModel()){const j=K.getSelections(),ee=K.getModel().getLineCount();let re=[];for(let te=j[0].startLineNumber;te<=ee;te++)re.push(new f.Selection(te,j[0].startColumn,te,j[0].endColumn));re.length>0&&K.setSelections(re)}}}class m extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:C.localize(7,null),alias:"Add Cursors To Top",precondition:void 0})}run(V,K){if(!!K.hasModel()){const j=K.getSelections();let ee=[];for(let re=j[0].startLineNumber;re>=1;re--)ee.push(new f.Selection(re,j[0].startColumn,re,j[0].endColumn));ee.length>0&&K.setSelections(ee)}}}class g{constructor(V,K,j){this.selections=V,this.revealRange=K,this.revealScrollType=j}}e.MultiCursorSessionResult=g;class b{constructor(V,K,j,ee,re,te,ae){this._editor=V,this.findController=K,this.isDisconnectedFromFindController=j,this.searchText=ee,this.wholeWord=re,this.matchCase=te,this.currentMatch=ae}static create(V,K){if(!V.hasModel())return null;const j=K.getState();if(!V.hasTextFocus()&&j.isRevealed&&j.searchString.length>0)return new b(V,K,!1,j.searchString,j.wholeWord,j.matchCase,null);let ee=!1,re,te;const ae=V.getSelections();ae.length===1&&ae[0].isEmpty()?(ee=!0,re=!0,te=!0):(re=j.wholeWord,te=j.matchCase);const Y=V.getSelection();let P,x=null;if(Y.isEmpty()){const z=V.getConfiguredWordAtPosition(Y.getStartPosition());if(!z)return null;P=z.word,x=new f.Selection(Y.startLineNumber,z.startColumn,Y.startLineNumber,z.endColumn)}else P=V.getModel().getValueInRange(Y).replace(/\r\n/g,`
`);return new b(V,K,ee,P,re,te,x)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const V=this._getNextMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.concat(V),V,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const V=this._getNextMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.slice(0,K.length-1).concat(V),V,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ee=this.currentMatch;return this.currentMatch=null,ee}this.findController.highlightFindOptions();const V=this._editor.getSelections(),K=V[V.length-1],j=this._editor.getModel().findNextMatch(this.searchText,K.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1);return j?new f.Selection(j.range.startLineNumber,j.range.startColumn,j.range.endLineNumber,j.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const V=this._getPreviousMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.concat(V),V,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const V=this._getPreviousMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.slice(0,K.length-1).concat(V),V,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const ee=this.currentMatch;return this.currentMatch=null,ee}this.findController.highlightFindOptions();const V=this._editor.getSelections(),K=V[V.length-1],j=this._editor.getModel().findPreviousMatch(this.searchText,K.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1);return j?new f.Selection(j.range.startLineNumber,j.range.startColumn,j.range.endLineNumber,j.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1,1073741824)):[]}}e.MultiCursorSession=b;class w extends y.Disposable{constructor(V){super();this._sessionDispose=this._register(new y.DisposableStore),this._editor=V,this._ignoreSelectionChange=!1,this._session=null}static get(V){return V.getContribution(w.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(V){if(!this._session){const K=b.create(this._editor,V);if(!K)return;this._session=K;const j={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(j.wholeWordOverride=1,j.matchCaseOverride=1,j.isRegexOverride=2),V.getState().change(j,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(ee=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(V.getState().onFindReplaceStateChange(ee=>{(ee.matchCase||ee.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const V={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(V,!1)}this._session=null}_setSelections(V){this._ignoreSelectionChange=!0,this._editor.setSelections(V),this._ignoreSelectionChange=!1}_expandEmptyToWord(V,K){if(!K.isEmpty())return K;const j=this._editor.getConfiguredWordAtPosition(K.getStartPosition());return j?new f.Selection(K.startLineNumber,j.startColumn,K.startLineNumber,j.endColumn):K}_applySessionResult(V){!V||(this._setSelections(V.selections),V.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(V.revealRange,V.revealScrollType))}getSession(V){return this._session}addSelectionToNextFindMatch(V){if(!!this._editor.hasModel()){if(!this._session){const K=this._editor.getSelections();if(K.length>1){const ee=V.getState().matchCase;if(!B(this._editor.getModel(),K,ee)){const te=this._editor.getModel();let ae=[];for(let Y=0,P=K.length;Y<P;Y++)ae[Y]=this._expandEmptyToWord(te,K[Y]);this._editor.setSelections(ae);return}}}this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(V){if(!!this._editor.hasModel()){let K=null;const j=V.getState();if(j.isRevealed&&j.searchString.length>0&&j.isRegex)K=this._editor.getModel().findMatches(j.searchString,!0,j.isRegex,j.matchCase,j.wholeWord?this._editor.getOption(110):null,!1,1073741824);else{if(this._beginSessionIfNeeded(V),!this._session)return;K=this._session.selectAll()}if(j.searchScope){const ee=j.searchScope;let re=[];K.forEach(te=>{ee.forEach(ae=>{te.range.endLineNumber<=ae.endLineNumber&&te.range.startLineNumber>=ae.startLineNumber&&re.push(te)})}),K=re}if(K.length>0){const ee=this._editor.getSelection();for(let re=0,te=K.length;re<te;re++){const ae=K[re];if(ae.range.intersectRanges(ee)){K[re]=K[0],K[0]=ae;break}}this._setSelections(K.map(re=>new f.Selection(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn)))}}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class L extends S.EditorAction{run(V,K){const j=w.get(K);if(!!j){const ee=s.CommonFindController.get(K);!ee||this._run(j,ee)}}}e.MultiCursorSelectionControllerAction=L;class E extends L{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:C.localize(8,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(9,null),order:5}})}_run(V,K){V.addSelectionToNextFindMatch(K)}}e.AddSelectionToNextFindMatchAction=E;class N extends L{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:C.localize(10,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(11,null),order:6}})}_run(V,K){V.addSelectionToPreviousFindMatch(K)}}e.AddSelectionToPreviousFindMatchAction=N;class I extends L{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:C.localize(12,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:M.KeyChord(2048|41,2048|34),weight:100}})}_run(V,K){V.moveSelectionToNextFindMatch(K)}}e.MoveSelectionToNextFindMatchAction=I;class T extends L{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:C.localize(13,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(V,K){V.moveSelectionToPreviousFindMatch(K)}}e.MoveSelectionToPreviousFindMatchAction=T;class O extends L{constructor(){super({id:"editor.action.selectHighlights",label:C.localize(14,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:l.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(15,null),order:7}})}_run(V,K){V.selectAll(K)}}e.SelectHighlightsAction=O;class R extends L{constructor(){super({id:"editor.action.changeAll",label:C.localize(16,null),alias:"Change All Occurrences",precondition:n.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(V,K){V.selectAll(K)}}e.CompatChangeAll=R;class F{constructor(V,K,j,ee){this.searchText=V,this.matchCase=K,this.wordSeparators=j,this.modelVersionId=ee}static softEquals(V,K){return!V&&!K?!0:!V||!K?!1:V.searchText===K.searchText&&V.matchCase===K.matchCase&&V.wordSeparators===K.wordSeparators&&V.modelVersionId===K.modelVersionId}}class D extends y.Disposable{constructor(V){super();this.editor=V,this._isEnabled=V.getOption(92),this.decorations=[],this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(V.onDidChangeConfiguration(K=>{this._isEnabled=V.getOption(92)})),this._register(V.onDidChangeCursorSelection(K=>{!this._isEnabled||(K.selection.isEmpty()?K.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(V.onDidChangeModel(K=>{this._setState(null)})),this._register(V.onDidChangeModelContent(K=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(s.CommonFindController.get(V).getState().onFindReplaceStateChange(K=>{this._update()}))}_update(){this._setState(D._createState(this._isEnabled,this.editor))}static _createState(V,K){if(!V||!K.hasModel())return null;const j=K.getSelection();if(j.startLineNumber!==j.endLineNumber)return null;const ee=w.get(K);if(!ee)return null;const re=s.CommonFindController.get(K);if(!re)return null;let te=ee.getSession(re);if(!te){const P=K.getSelections();if(P.length>1){const z=re.getState().matchCase;if(!B(K.getModel(),P,z))return null}te=b.create(K,re)}if(!te||te.currentMatch||/^[ \t]+$/.test(te.searchText)||te.searchText.length>200)return null;const ae=re.getState(),Y=ae.matchCase;if(ae.isRevealed){let P=ae.searchString;Y||(P=P.toLowerCase());let x=te.searchText;if(Y||(x=x.toLowerCase()),P===x&&te.matchCase===ae.matchCase&&te.wholeWord===ae.wholeWord&&!ae.isRegex)return null}return new F(te.searchText,te.matchCase,te.wholeWord?K.getOption(110):null,K.getModel().getVersionId())}_setState(V){if(F.softEquals(this.state,V)){this.state=V;return}if(this.state=V,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!!this.editor.hasModel()){const K=this.editor.getModel();if(!K.isTooLargeForTokenization()){const j=a.DocumentHighlightProviderRegistry.has(K)&&this.editor.getOption(66);let ee=K.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(P=>P.range);ee.sort(d.Range.compareRangesUsingStarts);let re=this.editor.getSelections();re.sort(d.Range.compareRangesUsingStarts);let te=[];for(let P=0,x=0,z=ee.length,U=re.length;P<z;){const H=ee[P];if(x>=U)te.push(H),P++;else{const q=d.Range.compareRangesUsingStarts(H,re[x]);q<0?((re[x].isEmpty()||!d.Range.areIntersecting(H,re[x]))&&te.push(H),P++):(q>0||P++,x++)}}const ae=te.map(P=>({range:P,options:j?D._SELECTION_HIGHLIGHT:D._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,ae);const Y=s.CommonFindController.get(this.editor).getState();(Y.isRegex||Y.matchCase||Y.wholeWord)&&s.CommonFindController.get(this.editor).highlightFindOptions(!0)}}}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=D,D.ID="editor.contrib.selectionHighlighter",D._SELECTION_HIGHLIGHT_OVERVIEW=c.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:t.themeColorFromId(r.overviewRulerSelectionHighlightForeground),position:o.OverviewRulerLane.Center}}),D._SELECTION_HIGHLIGHT=c.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight"});function B(W,V,K){const j=A(W,V[0],!K);for(let ee=1,re=V.length;ee<re;ee++){const te=V[ee];if(te.isEmpty())return!1;const ae=A(W,te,!K);if(j!==ae)return!1}return!0}function A(W,V,K){const j=W.getValueInRange(V);return K?j.toLowerCase():j}S.registerEditorContribution(w.ID,w),S.registerEditorContribution(D.ID,D),S.registerEditorAction(i),S.registerEditorAction(u),S.registerEditorAction(h),S.registerEditorAction(E),S.registerEditorAction(N),S.registerEditorAction(I),S.registerEditorAction(T),S.registerEditorAction(O),S.registerEditorAction(R),S.registerEditorAction(v),S.registerEditorAction(m)}),define(Q[649],J([0,1,7,55,47,60,4,2,67,139,179,487,16,57,22,14,534,8,27,21,96,79,340]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const v=C.$,m=h.registerIcon("parameter-hints-next",n.Codicon.chevronDown,o.localize(0,null)),g=h.registerIcon("parameter-hints-previous",n.Codicon.chevronUp,o.localize(1,null));let b=class Kt extends _.Disposable{constructor(L,E,N,I){super();this.editor=L,this.renderDisposeables=this._register(new _.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new f.MarkdownRenderer({editor:L},I,N)),this.model=this._register(new r.ParameterHintsModel(L)),this.keyVisible=p.Context.Visible.bindTo(E),this.keyMultipleSignatures=p.Context.MultipleSignatures.bindTo(E),this._register(this.model.onChangedHints(T=>{T?(this.show(),this.render(T)):this.hide()}))}createParamaterHintDOMNodes(){const L=v(".editor-widget.parameter-hints-widget"),E=C.append(L,v(".phwrapper"));E.tabIndex=-1;const N=C.append(E,v(".controls")),I=C.append(N,v(".button"+l.ThemeIcon.asCSSSelector(g))),T=C.append(N,v(".overloads")),O=C.append(N,v(".button"+l.ThemeIcon.asCSSSelector(m))),R=k.stop(k.domEvent(I,"click"));this._register(R(this.previous,this));const F=k.stop(k.domEvent(O,"click"));this._register(F(this.next,this));const D=v(".body"),B=new y.DomScrollableElement(D,{});this._register(B),E.appendChild(B.getDomNode());const A=C.append(D,v(".signature")),W=C.append(D,v(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:A,overloads:T,docs:W,scrollbar:B},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(K=>{this.visible&&this.editor.layoutContentWidget(this)}));const V=()=>{if(!!this.domNodes){const K=this.editor.getOption(38);this.domNodes.element.style.fontSize=`${K.fontSize}px`}};V(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(K=>K.hasChanged(38)).on(V,null)),this._register(this.editor.onDidLayoutChange(K=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var E;if(this.renderDisposeables.clear(),!!this.domNodes){const N=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",N),this.keyMultipleSignatures.set(N),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=L.signatures[L.activeSignature];if(!!I){const T=C.append(this.domNodes.signature,v(".code")),O=this.editor.getOption(38);T.style.fontSize=`${O.fontSize}px`,T.style.fontFamily=O.fontFamily;const R=I.parameters.length>0,F=(E=I.activeParameter)!==null&&E!==void 0?E:L.activeParameter;if(R)this.renderParameters(T,I,F);else{const A=C.append(T,v("span"));A.textContent=I.label}const D=I.parameters[F];if(D==null?void 0:D.documentation){const A=v("span.documentation");if(typeof D.documentation=="string")A.textContent=D.documentation;else{const W=this.renderMarkdownDocs(D.documentation);A.appendChild(W.element)}C.append(this.domNodes.docs,v("p",{},A))}if(I.documentation!==void 0)if(typeof I.documentation=="string")C.append(this.domNodes.docs,v("p",{},I.documentation));else{const A=this.renderMarkdownDocs(I.documentation);C.append(this.domNodes.docs,A.element)}const B=this.hasDocs(I,D);if(this.domNodes.signature.classList.toggle("has-docs",B),this.domNodes.docs.classList.toggle("empty",!B),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,D){const A=this.getParameterLabel(I,F);this.announcedLabel!==A&&(M.alert(o.localize(2,null,A)),this.announcedLabel=A)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}renderMarkdownDocs(L){const E=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var N;(N=this.domNodes)===null||N===void 0||N.scrollbar.scanDomNode()}}));return E.element.classList.add("markdown-docs"),E}hasDocs(L,E){return!!(E&&typeof E.documentation=="string"&&i.assertIsDefined(E.documentation).length>0||E&&typeof E.documentation=="object"&&i.assertIsDefined(E.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&i.assertIsDefined(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&i.assertIsDefined(L.documentation.value).length>0)}renderParameters(L,E,N){const[I,T]=this.getParameterLabelOffsets(E,N),O=document.createElement("span");O.textContent=E.label.substring(0,I);const R=document.createElement("span");R.textContent=E.label.substring(I,T),R.className="parameter active";const F=document.createElement("span");F.textContent=E.label.substring(T),C.append(L,O,R,F)}getParameterLabel(L,E){const N=L.parameters[E];return Array.isArray(N.label)?L.label.substring(N.label[0],N.label[1]):N.label}getParameterLabelOffsets(L,E){const N=L.parameters[E];if(N){if(Array.isArray(N.label))return N.label;if(N.label.length){const I=new RegExp(`(\\W|^)${t.escapeRegExpCharacters(N.label)}(?=\\W|$)`,"g");I.test(L.label);const T=I.lastIndex-N.label.length;return T>=0?[T,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return Kt.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!!this.domNodes){const E=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=E;const N=this.domNodes.element.getElementsByClassName("wrapper");N.length&&(N[0].style.maxHeight=E)}}};b.ID="editor.widget.parameterHintsWidget",b=Me([pe(1,c.IContextKeyService),pe(2,a.IOpenerService),pe(3,d.IModeService)],b),e.ParameterHintsWidget=b,l.registerThemingParticipant((w,L)=>{const E=w.getColor(s.editorHoverBorder);if(E){const R=w.type===u.ColorScheme.HIGH_CONTRAST?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${R}px solid ${E}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${E.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${E.transparent(.5)}; }`)}const N=w.getColor(s.editorHoverBackground);N&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${N}; }`);const I=w.getColor(s.textLinkForeground);I&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${I}; }`);const T=w.getColor(s.editorHoverForeground);T&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${T}; }`);const O=w.getColor(s.textCodeBlockBackground);O&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`)})}),define(Q[650],J([0,1,486,2,9,24,16,13,649,179,18]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let o=class qt extends k.Disposable{constructor(r,t){super();this.editor=r,this.widget=this._register(t.createInstance(d.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(qt.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};o.ID="editor.controller.parameterHints",o=Me([pe(1,M.IInstantiationService)],o);class c extends _.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:y.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,t){const n=o.get(t);n&&n.trigger({triggerKind:p.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=c,_.registerEditorContribution(o.ID,o),_.registerEditorAction(c);const a=100+75,s=_.EditorCommand.bindToContribution(o.get);_.registerEditorCommand(new s({id:"closeParameterHints",precondition:f.Context.Visible,handler:l=>l.cancel(),kbOpts:{weight:a,kbExpr:y.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),_.registerEditorCommand(new s({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:l=>l.previous(),kbOpts:{weight:a,kbExpr:y.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),_.registerEditorCommand(new s({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:l=>l.next(),kbOpts:{weight:a,kbExpr:y.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(Q[651],J([0,1,498,66,2,7,14,67,18,171,550,45,23,235,19,250,27,4,79]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function u(m){return`suggest-aria-id:${m}`}e.getAriaId=u,e.suggestMoreInfoIcon=n.registerIcon("suggest-more-info",r.Codicon.chevronRight,C.localize(0,null));const h=new(i=class ht{extract(g,b){if(g.textLabel.match(ht._regexStrict))return b[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(ht._regexStrict))return b[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const w=ht._regexRelaxed.exec(g.completion.documentation);if(w&&(w.index===0||w.index+w[0].length===g.completion.documentation.length))return b[0]=w[0],!0}return!1}},i._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,i._regexStrict=new RegExp(`^${i._regexRelaxed.source}$`,"i"),i);let v=class{constructor(g,b,w,L){this._editor=g,this._modelService=b,this._modeService=w,this._themeService=L,this._onDidToggleDetails=new t.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const b=Object.create(null);b.disposables=new M.DisposableStore,b.root=g,b.root.classList.add("show-file-icons"),b.icon=y.append(g,y.$(".icon")),b.colorspan=y.append(b.icon,y.$("span.colorspan"));const w=y.append(g,y.$(".contents")),L=y.append(w,y.$(".main"));b.iconContainer=y.append(L,y.$(".icon-label.codicon")),b.left=y.append(L,y.$("span.left")),b.right=y.append(L,y.$("span.right")),b.iconLabel=new f.IconLabel(b.left,{supportHighlights:!0,supportIcons:!0}),b.disposables.add(b.iconLabel),b.parametersLabel=y.append(b.left,y.$("span.signature-label")),b.qualifierLabel=y.append(b.left,y.$("span.qualifier-label")),b.detailsLabel=y.append(b.right,y.$("span.details-label")),b.readMore=y.append(b.right,y.$("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),b.readMore.title=C.localize(1,null);const E=()=>{const N=this._editor.getOptions(),I=N.get(38),T=I.fontFamily,O=I.fontFeatureSettings,R=N.get(102)||I.fontSize,F=N.get(103)||I.lineHeight,D=I.fontWeight,B=`${R}px`,A=`${F}px`;b.root.style.fontSize=B,b.root.style.fontWeight=D,L.style.fontFamily=T,L.style.fontFeatureSettings=O,L.style.lineHeight=A,b.icon.style.height=A,b.icon.style.width=A,b.readMore.style.height=A,b.readMore.style.width=A};return E(),b.disposables.add(this._editor.onDidChangeConfiguration(N=>{(N.hasChanged(38)||N.hasChanged(102)||N.hasChanged(103))&&E()})),b}renderElement(g,b,w){var L,E,N;const{completion:I}=g,T=typeof I.label=="string"?I.label:I.label.name;w.root.id=u(b),w.colorspan.style.backgroundColor="";const O={labelEscapeNewLines:!0,matches:k.createMatches(g.score)};let R=[];if(I.kind===19&&h.extract(g,R))w.icon.className="icon customcolor",w.iconContainer.className="icon hide",w.colorspan.style.backgroundColor=R[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){w.icon.className="icon hide",w.iconContainer.className="icon hide";const F=p.getIconClasses(this._modelService,this._modeService,c.URI.from({scheme:"fake",path:T}),a.FileKind.FILE),D=p.getIconClasses(this._modelService,this._modeService,c.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FILE);O.extraClasses=F.length>D.length?F:D}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(w.icon.className="icon hide",w.iconContainer.className="icon hide",O.extraClasses=s.flatten([p.getIconClasses(this._modelService,this._modeService,c.URI.from({scheme:"fake",path:T}),a.FileKind.FOLDER),p.getIconClasses(this._modelService,this._modeService,c.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FOLDER)])):(w.icon.className="icon hide",w.iconContainer.className="",w.iconContainer.classList.add("suggest-icon",...d.completionKindToCssClass(I.kind).split(" ")));I.tags&&I.tags.indexOf(1)>=0&&(O.extraClasses=(O.extraClasses||[]).concat(["deprecated"]),O.matches=[]),w.iconLabel.setLabel(T,void 0,O),typeof I.label=="string"?(w.parametersLabel.textContent="",w.qualifierLabel.textContent="",w.detailsLabel.textContent=(I.detail||"").replace(/\n.*$/m,""),w.root.classList.add("string-label"),w.root.title=""):(w.parametersLabel.textContent=(I.label.parameters||"").replace(/\n.*$/m,""),w.qualifierLabel.textContent=(I.label.qualifier||"").replace(/\n.*$/m,""),w.detailsLabel.textContent=(I.label.type||"").replace(/\n.*$/m,""),w.root.classList.remove("string-label"),w.root.title=`${T}${(L=I.label.parameters)!==null&&L!==void 0?L:""}  ${(E=I.label.qualifier)!==null&&E!==void 0?E:""}  ${(N=I.label.type)!==null&&N!==void 0?N:""}`),this._editor.getOption(101).showInlineDetails?y.show(w.detailsLabel):y.hide(w.detailsLabel),l.canExpandCompletionItem(g)?(w.right.classList.add("can-expand-details"),y.show(w.readMore),w.readMore.onmousedown=F=>{F.stopPropagation(),F.preventDefault()},w.readMore.onclick=F=>{F.stopPropagation(),F.preventDefault(),this._onDidToggleDetails.fire()}):(w.right.classList.remove("can-expand-details"),y.hide(w.readMore),w.readMore.onmousedown=null,w.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};v=Me([pe(1,o.IModelService),pe(2,_.IModeService),pe(3,S.IThemeService)],v),e.ItemRenderer=v}),define(Q[652],J([0,1,496,8,7,4,11,2,123,16,114,115,14,22,78,15,9,250,636,651,229,143,100,344,157]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=a.registerColor("editorSuggestWidget.background",{dark:a.editorWidgetBackground,light:a.editorWidgetBackground,hc:a.editorWidgetBackground},C.localize(0,null)),e.editorSuggestWidgetBorder=a.registerColor("editorSuggestWidget.border",{dark:a.editorWidgetBorder,light:a.editorWidgetBorder,hc:a.editorWidgetBorder},C.localize(1,null)),e.editorSuggestWidgetForeground=a.registerColor("editorSuggestWidget.foreground",{dark:a.editorForeground,light:a.editorForeground,hc:a.editorForeground},C.localize(2,null)),e.editorSuggestWidgetSelectedBackground=a.registerColor("editorSuggestWidget.selectedBackground",{dark:a.listFocusBackground,light:a.listFocusBackground,hc:a.listFocusBackground},C.localize(3,null)),e.editorSuggestWidgetHighlightForeground=a.registerColor("editorSuggestWidget.highlightForeground",{dark:a.listHighlightForeground,light:a.listHighlightForeground,hc:a.listHighlightForeground},C.localize(4,null));class m{constructor(L,E){this._service=L,this._key=`suggestWidget.size/${E.getEditorType()}/${E instanceof h.EmbeddedCodeEditorWidget}`}restore(){var L;const E=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const N=JSON.parse(E);if(M.Dimension.is(N))return M.Dimension.lift(N)}catch(N){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let g=class bt{constructor(L,E,N,I,T){this.editor=L,this._storageService=E,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new l.TimeoutTimer,this._disposables=new _.DisposableStore,this._onDidSelect=new y.Emitter,this._onDidFocus=new y.Emitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new u.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new b(this,L),this._persistedSize=new m(E,L);class O{constructor(V,K,j=!1,ee=!1){this.persistedSize=V,this.currentSize=K,this.persistHeight=j,this.persistWidth=ee}}let R;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),R=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(W=>{var V,K,j,ee;if(this._resize(W.dimension.width,W.dimension.height),R&&(R.persistHeight=R.persistHeight||!!W.north||!!W.south,R.persistWidth=R.persistWidth||!!W.east||!!W.west),!!W.done){if(R){const{itemHeight:re,defaultSize:te}=this.getLayoutInfo(),ae=Math.round(re/2);let{width:Y,height:P}=this.element.size;(!R.persistHeight||Math.abs(R.currentSize.height-P)<=ae)&&(P=(K=(V=R.persistedSize)===null||V===void 0?void 0:V.height)!==null&&K!==void 0?K:te.height),(!R.persistWidth||Math.abs(R.currentSize.width-Y)<=ae)&&(Y=(ee=(j=R.persistedSize)===null||j===void 0?void 0:j.width)!==null&&ee!==void 0?ee:te.width),this._persistedSize.store(new M.Dimension(Y,P))}this._contentWidget.unlockPreference(),R=void 0}})),this._messageElement=M.append(this.element.domNode,M.$(".message")),this._listElement=M.append(this.element.domNode,M.$(".tree"));const F=T.createInstance(t.SuggestDetailsWidget,this.editor);F.onDidClose(this.toggleDetails,this,this._disposables),this._details=new t.SuggestDetailsOverlay(F,this.editor);const D=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(101).showIcons);D();const B=T.createInstance(i.ItemRenderer,this.editor);this._disposables.add(B),this._disposables.add(B.onDidToggleDetails(()=>this.toggleDetails())),this._list=new d.List("SuggestWidget",this._listElement,{getHeight:W=>this.getLayoutInfo().itemHeight,getTemplateId:W=>"suggestion"},[B],{useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:W=>{const V=typeof W.completion.label=="string"?W.completion.label:W.completion.label.name;if(W.isResolved&&this._isDetailsVisible()){const{documentation:K,detail:j}=W.completion,ee=k.format("{0}{1}",j||"",K?typeof K=="string"?K:K.value:"");return C.localize(7,null,V,ee)}else return V},getWidgetAriaLabel:()=>C.localize(8,null),getWidgetRole:()=>"listbox"}}),this._status=T.createInstance(n.SuggestWidgetStatus,this.element.domNode);const A=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(101).showStatusBar);A(),this._disposables.add(o.attachListStyler(this._list,I,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:a.activeContrastBorder})),this._disposables.add(I.onDidColorThemeChange(W=>this._onThemeChange(W))),this._onThemeChange(I.getColorTheme()),this._disposables.add(this._list.onMouseDown(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onTap(W=>this._onListMouseDownOrTap(W))),this._disposables.add(this._list.onDidChangeSelection(W=>this._onListSelection(W))),this._disposables.add(this._list.onDidChangeFocus(W=>this._onListFocus(W))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(W=>{W.hasChanged(101)&&(A(),D())})),this._ctxSuggestWidgetVisible=p.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=p.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=p.Context.MultipleSuggestions.bindTo(N),this._disposables.add(M.addStandardDisposableListener(this._details.widget.domNode,"keydown",W=>{this._onDetailsKeydown.fire(W)})),this._disposables.add(this.editor.onMouseDown(W=>this._onEditorMouseDown(W)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,E){const N=this._completionModel;N&&(this._onDidSelect.fire({item:L,index:E,model:N}),this.editor.focus())}_onThemeChange(L){const E=L.getColor(e.editorSuggestWidgetBackground);E&&(this.element.domNode.style.backgroundColor=E.toString(),this._messageElement.style.backgroundColor=E.toString(),this._details.widget.domNode.style.backgroundColor=E.toString());const N=L.getColor(e.editorSuggestWidgetBorder);N&&(this.element.domNode.style.borderColor=N.toString(),this._messageElement.style.borderColor=N.toString(),this._status.element.style.borderTopColor=N.toString(),this._details.widget.domNode.style.borderColor=N.toString(),this._detailsBorderColor=N.toString());const I=L.getColor(a.focusBorder);I&&(this._detailsFocusBorderColor=I.toString()),this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var E;if(!this._ignoreFocusEvents){if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!!this._completionModel){const N=L.elements[0],I=L.indexes[0];N!==this._focusedItem&&((E=this._currentSuggestionDetails)===null||E===void 0||E.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(I),this._currentSuggestionDetails=l.createCancelablePromise(T=>De(this,void 0,void 0,function*(){const O=l.disposableTimeout(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);T.onCancellationRequested(()=>O.dispose());const R=yield N.resolve(T);return O.dispose(),R})),this._currentSuggestionDetails.then(()=>{I>=this._list.length||N!==this._list.element(I)||(this._ignoreFocusEvents=!0,this._list.splice(I,1,[N]),this._list.setFocus([I]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:i.getAriaId(I)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:N,index:I,model:this._completionModel})}}}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:M.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=bt.LOADING_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=bt.NO_SUGGESTIONS_MESSAGE,M.hide(this._listElement,this._status.element),M.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 4:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._show();break;case 5:M.hide(this._messageElement),M.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,E){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=l.disposableTimeout(()=>this._setState(1),E)))}showSuggestions(L,E,N,I){var T,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(T=this._loadingTimeout)===null||T===void 0||T.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),N&&this._state!==2&&this._state!==0){this._setState(4);return}const R=this._completionModel.items.length,F=R===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(R>1),F){this._setState(I?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),this._list.reveal(E,0),this._list.setFocus([E]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):t.canExpandCompletionItem(this._list.getFocusedElements()[0])&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&this._isDetailsVisible()&&(this._explainMode=!this._explainMode,this.showDetails(!1))}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this);const E=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);E&&E.height<N&&this._persistedSize.store(E.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var E,N,I;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){let T=L==null?void 0:L.height,O=L==null?void 0:L.width;const R=M.getClientArea(document.body),F=this.getLayoutInfo();if(this._status.element.style.lineHeight=`${F.itemHeight}px`,this._state===2||this._state===1)T=F.itemHeight+F.borderHeight,O=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new M.Dimension(O,T),this._contentWidget.setPreference(2);else{const D=R.width-F.borderHeight-2*F.horizontalPadding;O===void 0&&(O=F.defaultSize.width),O>D&&(O=D);const B=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:O,A=F.statusBarHeight+this._list.contentHeight+F.borderHeight,W=F.defaultSize.height,V=F.itemHeight+F.statusBarHeight,K=M.getDomNodePagePosition(this.editor.getDomNode()),j=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ee=K.top+j.top+j.height,re=Math.min(R.height-ee-F.verticalPadding,A),te=Math.min(K.top+j.top-F.verticalPadding,A);let ae=Math.min(Math.max(te,re)+F.borderHeight,A);T&&T===((E=this._cappedHeight)===null||E===void 0?void 0:E.capped)&&(T=this._cappedHeight.wanted),T===void 0&&(T=Math.min(W,A)),T<V&&(T=V),T>ae&&(T=ae),T>re?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ae=te):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ae=re),this.element.preferredSize=new M.Dimension(B,W),this.element.maxSize=new M.Dimension(D,ae),this.element.minSize=new M.Dimension(220,V),this._cappedHeight=L&&T===A?{wanted:(I=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&I!==void 0?I:L.height,capped:T}:void 0}this._resize(O,T)}}_resize(L,E){const{width:N,height:I}=this.element.maxSize;L=Math.min(N,L),E=Math.min(I,E);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(E-T,L),this._listElement.style.height=`${E-T}px`,this.element.layout(E,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const L=this.editor.getOption(38),E=v.clamp(this.editor.getOption(103)||L.lineHeight,8,1e3),N=!this.editor.getOption(101).showStatusBar||this._state===2||this._state===1?0:E,I=this._details.widget.borderWidth,T=2*I;return{itemHeight:E,statusBarHeight:N,borderWidth:I,borderHeight:T,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new M.Dimension(430,N+12*E+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}};g.LOADING_MESSAGE=C.localize(5,null),g.NO_SUGGESTIONS_MESSAGE=C.localize(6,null),g=Me([pe(1,s.IStorageService),pe(2,f.IContextKeyService),pe(3,c.IThemeService),pe(4,r.IInstantiationService)],g),e.SuggestWidget=g;class b{constructor(L,E){this._widget=L,this._editor=E,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:E}=this._widget.element.size,{borderWidth:N,horizontalPadding:I}=this._widget.getLayoutInfo();return new M.Dimension(E+2*N+I,L+2*N)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=b,c.registerThemingParticipant((w,L)=>{const E=w.getColor(e.editorSuggestWidgetHighlightForeground);E&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${E}; }`);const N=w.getColor(e.editorSuggestWidgetForeground);N&&L.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${N}; }`);const I=w.getColor(a.textLinkForeground);I&&L.addRule(`.monaco-editor .suggest-details a { color: ${I}; }`);const T=w.getColor(a.textCodeBlockBackground);T&&L.addRule(`.monaco-editor .suggest-details code { background-color: ${T}; }`)})}),define(Q[653],J([0,1,7,29,4,18,372,635,33,22,14,2,96,79]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const s="vs",l="vs-dark",r="hc-black",t=d.Registry.as(f.Extensions.ColorContribution),n=d.Registry.as(p.Extensions.ThemingContribution);class i{constructor(b,w){this.semanticHighlighting=!1,this.themeData=w;let L=w.base;b.length>0?(u(b)?this.id=b:this.id=L+" "+b,this.themeName=b):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const b=new Map;for(let w in this.themeData.colors)b.set(w,k.Color.fromHex(this.themeData.colors[w]));if(this.themeData.inherit){let w=h(this.themeData.base);for(let L in w.colors)b.has(L)||b.set(L,k.Color.fromHex(w.colors[L]))}this.colors=b}return this.colors}getColor(b,w){const L=this.getColors().get(b);if(L)return L;if(w!==!1)return this.getDefault(b)}getDefault(b){let w=this.defaultColors[b];return w||(w=t.resolveDefaultColor(b,this),this.defaultColors[b]=w,w)}defines(b){return Object.prototype.hasOwnProperty.call(this.getColors(),b)}get type(){switch(this.base){case s:return c.ColorScheme.LIGHT;case r:return c.ColorScheme.HIGH_CONTRAST;default:return c.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let b=[],w=[];if(this.themeData.inherit){let L=h(this.themeData.base);b=L.rules,L.encodedTokensColors&&(w=L.encodedTokensColors)}b=b.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(w=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(b,w)}return this._tokenTheme}getTokenStyleMetadata(b,w,L){const N=this.tokenTheme._match([b].concat(w).join(".")).metadata,I=y.TokenMetadata.getForeground(N),T=y.TokenMetadata.getFontStyle(N);return{foreground:I,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4)}}}function u(g){return g===s||g===l||g===r}function h(g){switch(g){case s:return _.vs;case l:return _.vs_dark;case r:return _.hc_black}}function v(g){let b=h(g);return new i(g,b)}class m extends o.Disposable{constructor(){super();this._onColorThemeChange=this._register(new M.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._knownThemes=new Map,this._knownThemes.set(s,v(s)),this._knownThemes.set(l,v(l)),this._knownThemes.set(r,v(r));const b=a.getIconRegistry();this._codiconCSS=b.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(s),b.onDidChange(()=>{this._codiconCSS=b.getCSS(),this._updateCSS()})}registerEditorContainer(b){return C.isInShadowDOM(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=C.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),o.Disposable.None}_registerShadowDomContainer(b){const w=C.createStyleSheet(b);return w.className="monaco-colors",w.textContent=this._allCSS,this._styleElements.push(w),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===w){this._styleElements.splice(L,1);return}}}}defineTheme(b,w){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!u(w.base)&&!u(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new i(b,w)),u(b)&&this._knownThemes.forEach(L=>{L.base===b&&L.notifyBaseUpdated()}),this._theme&&this._theme.themeName===b&&this.setTheme(b)}getColorTheme(){return this._theme}setColorMapOverride(b){this._colorMapOverride=b,this._updateThemeOrColorMap()}setTheme(b){let w;return this._knownThemes.has(b)?w=this._knownThemes.get(b):w=this._knownThemes.get(s),this._theme===w||(this._theme=w,this._updateThemeOrColorMap()),w.id}_updateThemeOrColorMap(){let b=[],w={},L={addRule:N=>{w[N]||(b.push(N),w[N]=!0)}};n.getThemingParticipants().forEach(N=>N(this._theme,L,this._environment));const E=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule(S.generateTokensCSSForColorMap(E)),this._themeCSS=b.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(E),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(b=>b.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=m}),define(Q[147],J([0,1,9]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=C.createDecorator("undoRedoService");class k{constructor(_,d){this.resource=_,this.elements=d}}e.ResourceEditStackSnapshot=k;class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=M,M._ID=0,M.None=new M;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=y,y._ID=0,y.None=new y}),define(Q[263],J([0,1,4,2,17,11,37,31,18,140,135,46,15,25,14,76,147,101,234,43,249]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function h(R){return R.toString()}function v(R){const F=new t.StringSHA1,D=R.createSnapshot();let B;for(;B=D.read();)F.update(B);return F.digest()}class m{constructor(F,D,B){this._modelEventListeners=new k.DisposableStore,this.model=F,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(F.onWillDispose(()=>D(F))),this._modelEventListeners.add(F.onDidChangeLanguage(A=>B(F,A)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(F){this._disposeLanguageSelection(),this._languageSelection=F,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(F.languageIdentifier)),this.model.setMode(F.languageIdentifier)}}const g=M.isLinux||M.isMacintosh?1:2;class b{constructor(F,D,B,A,W,V,K,j){this.uri=F,this.initialUndoRedoSnapshot=D,this.time=B,this.sharesUndoRedoStack=A,this.heapSize=W,this.sha1=V,this.versionId=K,this.alternativeVersionId=j}}function w(R){return R.scheme===i.Schemas.file||R.scheme===i.Schemas.vscodeRemote||R.scheme===i.Schemas.userData||R.scheme==="fake-fs"}let L=class it extends k.Disposable{constructor(F,D,B,A,W){super();this._configurationService=F,this._resourcePropertiesService=D,this._themeService=B,this._logService=A,this._undoRedoService=W,this._onModelAdded=this._register(new C.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new C.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new C.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new I(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new N(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(F,D){let B=S.EDITOR_MODEL_DEFAULTS.tabSize;if(F.editor&&typeof F.editor.tabSize!="undefined"){const te=parseInt(F.editor.tabSize,10);isNaN(te)||(B=te),B<1&&(B=1)}let A=B;if(F.editor&&typeof F.editor.indentSize!="undefined"&&F.editor.indentSize!=="tabSize"){const te=parseInt(F.editor.indentSize,10);isNaN(te)||(A=te),A<1&&(A=1)}let W=S.EDITOR_MODEL_DEFAULTS.insertSpaces;F.editor&&typeof F.editor.insertSpaces!="undefined"&&(W=F.editor.insertSpaces==="false"?!1:Boolean(F.editor.insertSpaces));let V=g;const K=F.eol;K===`\r
`?V=2:K===`
`&&(V=1);let j=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;F.editor&&typeof F.editor.trimAutoWhitespace!="undefined"&&(j=F.editor.trimAutoWhitespace==="false"?!1:Boolean(F.editor.trimAutoWhitespace));let ee=S.EDITOR_MODEL_DEFAULTS.detectIndentation;F.editor&&typeof F.editor.detectIndentation!="undefined"&&(ee=F.editor.detectIndentation==="false"?!1:Boolean(F.editor.detectIndentation));let re=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return F.editor&&typeof F.editor.largeFileOptimizations!="undefined"&&(re=F.editor.largeFileOptimizations==="false"?!1:Boolean(F.editor.largeFileOptimizations)),{isForSimpleWidget:D,tabSize:B,indentSize:A,insertSpaces:W,detectIndentation:ee,defaultEOL:V,trimAutoWhitespace:j,largeFileOptimizations:re}}_getEOL(F,D){if(F)return this._resourcePropertiesService.getEOL(F,D);const B=this._configurationService.getValue("files.eol",{overrideIdentifier:D});return B&&B!=="auto"?B:M.OS===3||M.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const F=this._configurationService.getValue("files.restoreUndoStack");return typeof F=="boolean"?F:!0}getCreationOptions(F,D,B){let A=this._modelCreationOptionsByLanguageAndResource[F+D];if(!A){const W=this._configurationService.getValue("editor",{overrideIdentifier:F,resource:D}),V=this._getEOL(D,F);A=it._readModelOptions({editor:W,eol:V},B),this._modelCreationOptionsByLanguageAndResource[F+D]=A}return A}_updateModelOptions(){const F=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const D=Object.keys(this._models);for(let B=0,A=D.length;B<A;B++){const W=D[B],V=this._models[W],K=V.model.getLanguageIdentifier().language,j=V.model.uri,ee=F[K+j],re=this.getCreationOptions(K,j,V.model.isForSimpleWidget);it._setModelOptionsForModel(V.model,re,ee)}}static _setModelOptionsForModel(F,D,B){B&&B.defaultEOL!==D.defaultEOL&&F.getLineCount()===1&&F.setEOL(D.defaultEOL===1?0:1),!(B&&B.detectIndentation===D.detectIndentation&&B.insertSpaces===D.insertSpaces&&B.tabSize===D.tabSize&&B.indentSize===D.indentSize&&B.trimAutoWhitespace===D.trimAutoWhitespace)&&(D.detectIndentation?(F.detectIndentation(D.insertSpaces,D.tabSize),F.updateOptions({trimAutoWhitespace:D.trimAutoWhitespace})):F.updateOptions({insertSpaces:D.insertSpaces,tabSize:D.tabSize,indentSize:D.indentSize,trimAutoWhitespace:D.trimAutoWhitespace}))}_insertDisposedModel(F){this._disposedModels.set(h(F.uri),F),this._disposedModelsHeapSize+=F.heapSize}_removeDisposedModel(F){const D=this._disposedModels.get(h(F));return D&&(this._disposedModelsHeapSize-=D.heapSize),this._disposedModels.delete(h(F)),D}_ensureDisposedModelsHeapSize(F){if(this._disposedModelsHeapSize>F){const D=[];for(this._disposedModels.forEach(B=>{B.sharesUndoRedoStack||D.push(B)}),D.sort((B,A)=>B.time-A.time);D.length>0&&this._disposedModelsHeapSize>F;){const B=D.shift();this._removeDisposedModel(B.uri),B.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(B.initialUndoRedoSnapshot)}}}_createModelData(F,D,B,A){const W=this.getCreationOptions(D.language,B,A),V=new _.TextModel(F,W,D,B,this._undoRedoService);if(B&&this._disposedModels.has(h(B))){const ee=this._removeDisposedModel(B),re=this._undoRedoService.getElements(B),te=v(V)===ee.sha1;if(te||ee.sharesUndoRedoStack){for(const ae of re.past)n.isEditStackElement(ae)&&ae.matchesResource(B)&&ae.setModel(V);for(const ae of re.future)n.isEditStackElement(ae)&&ae.matchesResource(B)&&ae.setModel(V);this._undoRedoService.setElementsValidFlag(B,!0,ae=>n.isEditStackElement(ae)&&ae.matchesResource(B)),te&&(V._overwriteVersionId(ee.versionId),V._overwriteAlternativeVersionId(ee.alternativeVersionId),V._overwriteInitialUndoRedoSnapshot(ee.initialUndoRedoSnapshot))}else ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}const K=h(V.uri);if(this._models[K])throw new Error("ModelService: Cannot add model because it already exists!");const j=new m(V,ee=>this._onWillDispose(ee),(ee,re)=>this._onDidChangeLanguage(ee,re));return this._models[K]=j,j}createModel(F,D,B,A=!1){let W;return D?(W=this._createModelData(F,D.languageIdentifier,B,A),this.setMode(W.model,D)):W=this._createModelData(F,f.PLAINTEXT_LANGUAGE_IDENTIFIER,B,A),this._onModelAdded.fire(W.model),W.model}setMode(F,D){if(!!D){const B=this._models[h(F.uri)];!B||B.setLanguage(D)}}getModels(){const F=[],D=Object.keys(this._models);for(let B=0,A=D.length;B<A;B++){const W=D[B];F.push(this._models[W].model)}return F}getModel(F){const D=h(F),B=this._models[D];return B?B.model:null}getSemanticTokensProviderStyling(F){return this._semanticStyling.get(F)}_onWillDispose(F){const D=h(F.uri),B=this._models[D],A=this._undoRedoService.getUriComparisonKey(F.uri)!==F.uri.toString();let W=!1,V=0;if(A||this._shouldRestoreUndoStack()&&w(F.uri)){const j=this._undoRedoService.getElements(F.uri);if(j.past.length>0||j.future.length>0){for(const ee of j.past)n.isEditStackElement(ee)&&ee.matchesResource(F.uri)&&(W=!0,V+=ee.heapSize(F.uri),ee.setModel(F.uri));for(const ee of j.future)n.isEditStackElement(ee)&&ee.matchesResource(F.uri)&&(W=!0,V+=ee.heapSize(F.uri),ee.setModel(F.uri))}}const K=it.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(W)if(!A&&V>K){const j=B.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}else this._ensureDisposedModelsHeapSize(K-V),this._undoRedoService.setElementsValidFlag(F.uri,!1,j=>n.isEditStackElement(j)&&j.matchesResource(F.uri)),this._insertDisposedModel(new b(F.uri,B.model.getInitialUndoRedoSnapshot(),Date.now(),A,V,v(F),F.getVersionId(),F.getAlternativeVersionId()));else if(!A){const j=B.model.getInitialUndoRedoSnapshot();j!==null&&this._undoRedoService.restoreSnapshot(j)}delete this._models[D],B.dispose(),delete this._modelCreationOptionsByLanguageAndResource[F.getLanguageIdentifier().language+F.uri],this._onModelRemoved.fire(F)}_onDidChangeLanguage(F,D){const B=D.oldLanguage,A=F.getLanguageIdentifier().language,W=this.getCreationOptions(B,F.uri,F.isForSimpleWidget),V=this.getCreationOptions(A,F.uri,F.isForSimpleWidget);it._setModelOptionsForModel(F,V,W),this._onModelModeChanged.fire({model:F,oldModeId:B})}};L.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,L=Me([pe(0,o.IConfigurationService),pe(1,p.ITextResourcePropertiesService),pe(2,s.IThemeService),pe(3,l.ILogService),pe(4,r.IUndoRedoService)],L),e.ModelServiceImpl=L,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function E(R,F,D){var B;const A=(B=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:R.getLanguageIdentifier().language,resource:R.uri}))===null||B===void 0?void 0:B.enabled;return typeof A=="boolean"?A:F.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=E;class N extends k.Disposable{constructor(F,D,B,A){super();this._watchers=Object.create(null),this._semanticStyling=A;const W=j=>{this._watchers[j.uri.toString()]=new O(j,D,this._semanticStyling)},V=(j,ee)=>{ee.dispose(),delete this._watchers[j.uri.toString()]},K=()=>{for(let j of F.getModels()){const ee=this._watchers[j.uri.toString()];E(j,D,B)?ee||W(j):ee&&V(j,ee)}};this._register(F.onModelAdded(j=>{E(j,D,B)&&W(j)})),this._register(F.onModelRemoved(j=>{const ee=this._watchers[j.uri.toString()];ee&&V(j,ee)})),this._register(B.onDidChangeConfiguration(j=>{j.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&K()})),this._register(D.onDidColorThemeChange(K))}}class I extends k.Disposable{constructor(F,D){super();this._themeService=F,this._logService=D,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(F){return this._caches.has(F)||this._caches.set(F,new u.SemanticTokensProviderStyling(F.getLegend(),this._themeService,this._logService)),this._caches.get(F)}}class T{constructor(F,D,B){this._provider=F,this.resultId=D,this.data=B}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class O extends k.Disposable{constructor(F,D,B){super();this._isDisposed=!1,this._model=F,this._semanticStyling=B,this._fetchDocumentSemanticTokens=this._register(new c.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),300)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}));const A=()=>{k.dispose(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const W of d.DocumentSemanticTokensProviderRegistry.all(F))typeof W.onDidChange=="function"&&this._documentProvidersChangeListeners.push(W.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};A(),this._register(d.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{A(),this._fetchDocumentSemanticTokens.schedule()})),this._register(D.onDidColorThemeChange(W=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(!this._currentDocumentRequestCancellationTokenSource){const F=this._getSemanticColoringProvider();if(!F){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}this._currentDocumentRequestCancellationTokenSource=new a.CancellationTokenSource;const D=[],B=this._model.onDidChangeContent(K=>{D.push(K)}),A=this._semanticStyling.get(F),W=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null;Promise.resolve(F.provideDocumentSemanticTokens(this._model,W,this._currentDocumentRequestCancellationTokenSource.token)).then(K=>{this._currentDocumentRequestCancellationTokenSource=null,B.dispose(),this._setDocumentSemanticTokens(F,K||null,A,D)},K=>{(!K||typeof K.message!="string"||K.message.indexOf("busy")===-1)&&y.onUnexpectedError(K),this._currentDocumentRequestCancellationTokenSource=null,B.dispose(),D.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}}static _isSemanticTokens(F){return F&&!!F.data}static _isSemanticTokensEdits(F){return F&&Array.isArray(F.edits)}static _copy(F,D,B,A,W){for(let V=0;V<W;V++)B[A+V]=F[D+V]}_setDocumentSemanticTokens(F,D,B,A){const W=this._currentDocumentResponse;if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){F&&D&&F.releaseDocumentSemanticTokens(D.resultId);return}if(!F||!B){this._model.setSemanticTokens(null,!1);return}if(!D){this._model.setSemanticTokens(null,!0);return}if(O._isSemanticTokensEdits(D)){if(!W){this._model.setSemanticTokens(null,!0);return}if(D.edits.length===0)D={resultId:D.resultId,data:W.data};else{let V=0;for(const te of D.edits)V+=(te.data?te.data.length:0)-te.deleteCount;const K=W.data,j=new Uint32Array(K.length+V);let ee=K.length,re=j.length;for(let te=D.edits.length-1;te>=0;te--){const ae=D.edits[te],Y=ee-(ae.start+ae.deleteCount);Y>0&&(O._copy(K,ee-Y,j,re-Y,Y),re-=Y),ae.data&&(O._copy(ae.data,0,j,re-ae.data.length,ae.data.length),re-=ae.data.length),ee=ae.start}ee>0&&O._copy(K,0,j,0,ee),D={resultId:D.resultId,data:j}}}if(O._isSemanticTokens(D)){this._currentDocumentResponse=new T(F,D.resultId,D.data);const V=u.toMultilineTokens2(D,B,this._model.getLanguageIdentifier());if(A.length>0){for(const K of A)for(const j of V)for(const ee of K.changes)j.applyEdit(ee.range,ee.text);this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}this._model.setSemanticTokens(V,!0);return}this._model.setSemanticTokens(null,!0)}_getSemanticColoringProvider(){const F=d.DocumentSemanticTokensProviderRegistry.ordered(this._model);return F.length>0?F[0]:null}}}),define(Q[654],J([0,1,7,29,4,2,43,40,143,3,31,75,619,473,9,137,146,22,14,116,131,307,147,36,337]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class g{constructor(N,I){this._editor=N,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(!!N){for(let I of this._model.references)if(I.uri.toString()===N.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(N){if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],T=[];for(let R=0,F=N.children.length;R<F;R++){let D=N.children[R];this._decorationIgnoreSet.has(D.id)||D.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:D.range,options:g.DecorationOptions}),T.push(R))}const O=this._editor.deltaDecorations([],I);for(let R=0;R<O.length;R++)this._decorations.set(O[R],N.children[T[R]])}}_onDecorationChanged(){const N=[],I=this._editor.getModel();if(!!I){for(let[T,O]of this._decorations){const R=I.getDecorationRange(T);if(!!R){let F=!1;if(!f.Range.equalsRange(R,O.range)){if(f.Range.spansMultipleLines(R))F=!0;else{const D=O.range.endColumn-O.range.startColumn,B=R.endColumn-R.startColumn;D!==B&&(F=!0)}F?(this._decorationIgnoreSet.add(O.id),N.push(T)):O.range=R}}}for(let T=0,O=N.length;T<O;T++)this._decorations.delete(N[T]);this._editor.deltaDecorations(N,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}g.DecorationOptions=p.ModelDecorationOptions.register({stickiness:1,className:"reference-decoration"});class b{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let I,T;try{const O=JSON.parse(N);I=O.ratio,T=O.heightInLines}catch(O){}return{ratio:I||.7,heightInLines:T||18}}}e.LayoutData=b;class w extends r.WorkbenchAsyncDataTree{}let L=class extends i.PeekViewWidget{constructor(N,I,T,O,R,F,D,B,A,W){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},F);this._defaultTreeKeyboardSupport=I,this.layoutData=T,this._textModelResolverService=R,this._instantiationService=F,this._peekViewService=D,this._uriLabel=B,this._undoRedoService=A,this._keybindingService=W,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new M.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new C.Dimension(0,0),this._applyTheme(O.getColorTheme()),this._callOnDispose.add(O.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),y.dispose(this._preview),y.dispose(this._previewNotAvailableMessage),y.dispose(this._tree),y.dispose(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const I=N.getColor(i.peekViewBorder)||k.Color.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:N.getColor(i.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:N.getColor(i.peekViewTitleForeground),secondaryHeadingColor:N.getColor(i.peekViewTitleInfoForeground)})}show(N){this.editor.revealRangeInCenterIfOutsideViewport(N,0),super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=C.append(N,C.$("div.messages")),C.hide(this._messageContainer),this._splitView=new h.SplitView(N,{orientation:1}),this._previewContainer=C.append(N,C.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(d.EmbeddedCodeEditorWidget,this._previewContainer,I,this.editor),C.hide(this._previewContainer),this._previewNotAvailableMessage=new p.TextModel(a.localize(0,null),p.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=C.append(N,C.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,openOnFocus:!0,overrideStyles:{listBackground:i.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(C.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(w,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),T),this._splitView.addView({onDidChange:M.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:M.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let O=(R,F)=>{R instanceof u.OneReference&&(F==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:F,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?O(R.element,"side"):R.editorOptions.pinned?O(R.element,"goto"):O(R.element,"show")}),C.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,I){super._doLayoutBody(N,I),this._dim=new C.Dimension(I,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{!this._model||(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=a.localize(1,null),C.show(this._messageContainer),Promise.resolve(void 0)):(C.hide(this._messageContainer),this._decorationsManager=new g(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:I,target:T}=N;if(I.detail===2){const O=this._getFocusedReference();!O||this._onDidSelectReference.fire({element:{uri:O.uri,range:T.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),C.show(this._treeContainer),C.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof u.OneReference)return N;if(N instanceof u.FileReferences&&N.children.length>0)return N.children[0]}revealReference(N){return De(this,void 0,void 0,function*(){yield this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})})}_revealReference(N,I){return De(this,void 0,void 0,function*(){if(this._revealedReference!==N){this._revealedReference=N,N.uri.scheme!==S.Schemas.inMemory?this.setTitle(_.basenameOrAuthority(N.uri),this._uriLabel.getUriLabel(_.dirname(N.uri))):this.setTitle(a.localize(2,null));const T=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(I&&this._tree.reveal(N.parent),yield this._tree.expand(N.parent),this._tree.reveal(N));const O=yield T;if(!this._model){O.dispose();return}y.dispose(this._previewModelReference);const R=O.object;if(R){const F=this._preview.getModel()===R.textEditorModel?0:1,D=f.Range.lift(N.range).collapseToStart();this._previewModelReference=O,this._preview.setModel(R.textEditorModel),this._preview.setSelection(D),this._preview.revealRangeInCenter(D,F)}else this._preview.setModel(this._previewNotAvailableMessage),O.dispose()}})}};L=Me([pe(3,n.IThemeService),pe(4,o.ITextModelService),pe(5,s.IInstantiationService),pe(6,i.IPeekViewService),pe(7,l.ILabelService),pe(8,v.IUndoRedoService),pe(9,m.IKeybindingService)],L),e.ReferenceWidget=L,n.registerThemingParticipant((E,N)=>{const I=E.getColor(i.peekViewResultsMatchHighlight);I&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const T=E.getColor(i.peekViewEditorMatchHighlight);T&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${T}; }`);const O=E.getColor(i.peekViewEditorMatchHighlightBorder);O&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${O}; box-sizing: border-box; }`);const R=E.getColor(t.activeContrastBorder);R&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${R}; box-sizing: border-box; }`);const F=E.getColor(i.peekViewResultsBackground);F&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${F}; }`);const D=E.getColor(i.peekViewResultsMatchForeground);D&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${D}; }`);const B=E.getColor(i.peekViewResultsFileForeground);B&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${B}; }`);const A=E.getColor(i.peekViewResultsSelectionBackground);A&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${A}; }`);const W=E.getColor(i.peekViewResultsSelectionForeground);W&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${W} !important; }`);const V=E.getColor(i.peekViewEditorBackground);V&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${V};}`);const K=E.getColor(i.peekViewEditorGutterBackground);K&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${K};}`)})}),define(Q[264],J([0,1,471,11,2,28,9,16,46,78,131,654,3,12,32,15,116,146,86,38,26]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new _.RawContextKey("referenceSearchVisible",!1);let h=class Ct{constructor(g,b,w,L,E,N,I,T){this._defaultTreeKeyboardSupport=g,this._editor=b,this._editorService=L,this._notificationService=E,this._instantiationService=N,this._storageService=I,this._configurationService=T,this._disposables=new M.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(w)}static get(g){return g.getContribution(Ct.ID)}dispose(){var g,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,b,w){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!(!!L&&g.containsPosition(L))){this._peekMode=w,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const E="peekViewLayout",N=o.LayoutData.fromJSON(this._storageService.get(E,0,"{}"));this._widget=this._instantiationService.createInstance(o.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(C.localize(0,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(E,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(T=>{let{element:O,kind:R}=T;if(!!O)switch(R){case"open":(T.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(O,!1,!1);break;case"side":this.openReference(O,!0,!1);break;case"goto":w?this._gotoReference(O):this.openReference(O,!1,!0);break}}));const I=++this._requestIdPool;b.then(T=>{if(!(I!==this._requestIdPool||!this._widget))return this._model&&this._model.dispose(),this._model=T,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(1,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,R=new a.Position(g.startLineNumber,g.startColumn),F=this._model.nearestReference(O,R);if(F)return this._widget.setSelection(F).then(()=>{this._widget&&this._editor.getOption(71)==="editor"&&this._widget.focusOnPreviewEditor()})}})},T=>{this._notificationService.error(T)})}}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return De(this,void 0,void 0,function*(){if(!(!this._editor.hasModel()||!this._model||!this._widget)){const b=this._widget.position;if(!!b){const w=this._model.nearestReference(this._editor.getModel().uri,b);if(!!w){const L=this._model.nextOrPreviousReference(w,g),E=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),E?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()}}}})}revealReference(g){return De(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var b,w;(b=this._widget)===null||b===void 0||b.dispose(),(w=this._model)===null||w===void 0||w.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const b=c.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:b}},this._editor).then(w=>{var L;if(this._ignoreModelChangeEvent=!1,!w||!this._widget){this.closeWidget();return}if(this._editor===w)this._widget.show(b),this._widget.focusOnReferenceTree();else{const E=Ct.get(w),N=this._model.clone();this.closeWidget(),w.focus(),E.toggleWidget(b,l.createCancelablePromise(I=>Promise.resolve(N)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},w=>{this._ignoreModelChangeEvent=!1,k.onUnexpectedError(w)})}openReference(g,b,w){b||this.closeWidget();const{uri:L,range:E}=g;this._editorService.openCodeEditor({resource:L,options:{selection:E,pinned:w}},this._editor,b)}};h.ID="editor.contrib.referencesController",h=Me([pe(2,_.IContextKeyService),pe(3,y.ICodeEditorService),pe(4,s.INotificationService),pe(5,S.IInstantiationService),pe(6,f.IStorageService),pe(7,d.IConfigurationService)],h),e.ReferencesController=h;function v(m,g){const b=r.getOuterEditor(m);if(!!b){let w=h.get(b);w&&g(w)}}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:i.KeyChord(2048|41,60),when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){v(m,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){v(m,g=>{g.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:_.ContextKeyExpr.or(e.ctxReferenceSearchVisible,r.PeekContext.inPeekEditor),handler(m){v(m,g=>{g.goToNextOrPreviousReference(!1)})}}),u.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),u.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),u.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),u.CommandsRegistry.registerCommand("closeReferenceSearch",m=>v(m,g=>g.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:_.ContextKeyExpr.and(r.PeekContext.inPeekEditor,_.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,_.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.WorkbenchListFocusContextKey),handler(m){var g;const w=(g=m.get(t.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(w)&&w[0]instanceof p.OneReference&&v(m,L=>L.revealReference(w[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:_.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.WorkbenchListFocusContextKey),handler(m){var g;const w=(g=m.get(t.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(w)&&w[0]instanceof p.OneReference&&v(m,L=>L.openReference(w[0],!0,!0))}}),u.CommandsRegistry.registerCommand("openReference",m=>{var g;const w=(g=m.get(t.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(w)&&w[0]instanceof p.OneReference&&v(m,L=>L.openReference(w[0],!1,!0))})}),define(Q[265],J([0,1,47,15,38,17,107,13,28,12,3,24,18,145,116,264,131,469,35,16,32,58,252,26,70,580,34,23,9,21,143]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I){"use strict";var T,O,R,F,D,B,A,W;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,n.MenuRegistry.appendMenuItem(n.MenuId.EditorContext,{submenu:n.MenuId.EditorContextPeek,title:t.localize(0,null),group:"navigation",order:100});class V extends _.EditorAction{constructor(x,z){super(z);this._configuration=x}run(x,z){if(!z.hasModel())return Promise.resolve(void 0);const U=x.get(u.INotificationService),H=x.get(d.ICodeEditorService),q=x.get(h.IEditorProgressService),ie=x.get(b.ISymbolNavigationService),ce=z.getModel(),ue=z.getPosition(),Z=new g.EditorStateCancellationTokenSource(z,1|4),ne=k.raceCancellation(this._getLocationModel(ce,ue,Z.token),Z.token).then($=>De(this,void 0,void 0,function*(){if(!(!$||Z.token.isCancellationRequested)){C.alert($.ariaMessage);let X;if($.referenceAt(ce.uri,ue)){const fe=this._getAlternativeCommand(z);fe!==this.id&&(X=z.getAction(fe))}const de=$.references.length;if(de===0){if(!this._configuration.muteMessage){const fe=ce.getWordAtPosition(ue);a.MessageController.get(z).showMessage(this._getNoResultFoundMessage(fe),ue)}}else if(de===1&&X)X.run();else return this._onResult(H,ie,z,$)}}),$=>{U.error($)}).finally(()=>{Z.dispose()});return q.showWhile(ne,250),ne}_onResult(x,z,U,H){return De(this,void 0,void 0,function*(){const q=this._getGoToPreference(U);if(!(U instanceof I.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||q==="peek"&&H.references.length>1))this._openInPeek(U,H);else{const ie=H.firstReference(),ce=H.references.length>1&&q==="gotoAndPeek",ue=yield this._openReference(U,x,ie,this._configuration.openToSide,!ce);ce&&ue?this._openInPeek(ue,H):H.dispose(),q==="goto"&&z.put(ie)}})}_openReference(x,z,U,H,q){return De(this,void 0,void 0,function*(){let ie;if(c.isLocationLink(U)&&(ie=U.targetSelectionRange),ie||(ie=U.range),!!ie){const ce=yield z.openCodeEditor({resource:U.uri,options:{selection:p.Range.collapseToStart(ie),selectionRevealType:3}},x,H);if(!!ce){if(q){const ue=ce.getModel(),Z=ce.deltaDecorations([],[{range:ie,options:{className:"symbolHighlight"}}]);setTimeout(()=>{ce.getModel()===ue&&ce.deltaDecorations(Z,[])},350)}return ce}}})}_openInPeek(x,z){let U=l.ReferencesController.get(x);U&&x.hasModel()?U.toggleWidget(x.getSelection(),k.createCancelablePromise(H=>Promise.resolve(z)),this._configuration.openInPeek):z.dispose()}}class K extends V{_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getDefinitionsAtPosition(x,z,U),t.localize(1,null))})}_getNoResultFoundMessage(x){return x&&x.word?t.localize(2,null,x.word):t.localize(3,null)}_getAlternativeCommand(x){return x.getOption(45).alternativeDefinitionCommand}_getGoToPreference(x){return x.getOption(45).multipleDefinitions}}e.DefinitionAction=K;const j=y.isWeb&&!w.isStandalone?2048|70:70;_.registerEditorAction((T=class St extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:St.id,label:t.localize(4,null),alias:"Go to Definition",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:j,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:t.localize(5,null)}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",St.id)}},T.id="editor.action.revealDefinition",T)),_.registerEditorAction((O=class wt extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:wt.id,label:t.localize(6,null),alias:"Open Definition to the Side",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,j),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",wt.id)}},O.id="editor.action.revealDefinitionAside",O)),_.registerEditorAction((R=class yt extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:yt.id,label:t.localize(7,null),alias:"Peek Definition",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasDefinitionProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",yt.id)}},R.id="editor.action.peekDefinition",R));class ee extends V{_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getDeclarationsAtPosition(x,z,U),t.localize(8,null))})}_getNoResultFoundMessage(x){return x&&x.word?t.localize(9,null,x.word):t.localize(10,null)}_getAlternativeCommand(x){return x.getOption(45).alternativeDeclarationCommand}_getGoToPreference(x){return x.getOption(45).multipleDeclarations}}_.registerEditorAction((F=class $t extends ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$t.id,label:t.localize(11,null),alias:"Go to Declaration",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:t.localize(12,null)}})}_getNoResultFoundMessage(x){return x&&x.word?t.localize(13,null,x.word):t.localize(14,null)}},F.id="editor.action.revealDeclaration",F)),_.registerEditorAction(class extends ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:t.localize(15,null),alias:"Peek Declaration",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasDeclarationProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:3}})}});class re extends V{_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getTypeDefinitionsAtPosition(x,z,U),t.localize(16,null))})}_getNoResultFoundMessage(x){return x&&x.word?t.localize(17,null,x.word):t.localize(18,null)}_getAlternativeCommand(x){return x.getOption(45).alternativeTypeDefinitionCommand}_getGoToPreference(x){return x.getOption(45).multipleTypeDefinitions}}_.registerEditorAction((D=class jt extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:jt.ID,label:t.localize(19,null),alias:"Go to Type Definition",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:t.localize(20,null)}})}},D.ID="editor.action.goToTypeDefinition",D)),_.registerEditorAction((B=class Gt extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Gt.ID,label:t.localize(21,null),alias:"Peek Type Definition",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasTypeDefinitionProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:4}})}},B.ID="editor.action.peekTypeDefinition",B));class te extends V{_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getImplementationsAtPosition(x,z,U),t.localize(22,null))})}_getNoResultFoundMessage(x){return x&&x.word?t.localize(23,null,x.word):t.localize(24,null)}_getAlternativeCommand(x){return x.getOption(45).alternativeImplementationCommand}_getGoToPreference(x){return x.getOption(45).multipleImplementations}}_.registerEditorAction((A=class Zt extends te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zt.ID,label:t.localize(25,null),alias:"Go to Implementations",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:t.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},A.ID="editor.action.goToImplementation",A)),_.registerEditorAction((W=class Yt extends te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yt.ID,label:t.localize(27,null),alias:"Peek Implementations",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasImplementationProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:5}})}},W.ID="editor.action.peekImplementation",W));class ae extends V{_getNoResultFoundMessage(x){return x?t.localize(28,null,x.word):t.localize(29,null)}_getAlternativeCommand(x){return x.getOption(45).alternativeReferenceCommand}_getGoToPreference(x){return x.getOption(45).multipleReferences}}_.registerEditorAction(class extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:t.localize(30,null),alias:"Go to References",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:t.localize(31,null)}})}_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getReferencesAtPosition(x,z,!0,U),t.localize(32,null))})}}),_.registerEditorAction(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:t.localize(33,null),alias:"Peek References",precondition:i.ContextKeyExpr.and(o.EditorContextKeys.hasReferenceProvider,s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(yield v.getReferencesAtPosition(x,z,!1,U),t.localize(34,null))})}});class Y extends V{constructor(x,z,U){super(x,{id:"editor.action.goToLocation",label:t.localize(35,null),alias:"Go To Any Symbol",precondition:i.ContextKeyExpr.and(s.PeekContext.notInPeekEditor,o.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=z,this._gotoMultipleBehaviour=U}_getLocationModel(x,z,U){return De(this,void 0,void 0,function*(){return new r.ReferencesModel(this._references,t.localize(36,null))})}_getNoResultFoundMessage(x){return x&&t.localize(37,null,x.word)||""}_getGoToPreference(x){var z;return(z=this._gotoMultipleBehaviour)!==null&&z!==void 0?z:x.getOption(45).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:f.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(P,x,z,U,H,q,ie)=>De(void 0,void 0,void 0,function*(){N.assertType(L.URI.isUri(x)),N.assertType(f.Position.isIPosition(z)),N.assertType(Array.isArray(U)),N.assertType(typeof H=="undefined"||typeof H=="string"),N.assertType(typeof ie=="undefined"||typeof ie=="boolean");const ce=P.get(d.ICodeEditorService),ue=yield ce.openCodeEditor({resource:x},ce.getFocusedCodeEditor());if(S.isCodeEditor(ue))return ue.setPosition(z),ue.revealPositionInCenterIfOutsideViewport(z,0),ue.invokeWithinContext(Z=>{const ne=new class extends Y{_getNoResultFoundMessage($){return q||super._getNoResultFoundMessage($)}}({muteMessage:!Boolean(q),openInPeek:Boolean(ie),openToSide:!1},U,H);Z.get(E.IInstantiationService).invokeFunction(ne.run.bind(ne),ue)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:f.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(P,x,z,U,H)=>De(void 0,void 0,void 0,function*(){P.get(m.ICommandService).executeCommand("editor.action.goToLocations",x,z,U,H,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(P,x,z)=>{N.assertType(L.URI.isUri(x)),N.assertType(f.Position.isIPosition(z));const U=P.get(d.ICodeEditorService);return U.openCodeEditor({resource:x},U.getFocusedCodeEditor()).then(H=>{if(!(!S.isCodeEditor(H)||!H.hasModel())){const q=l.ReferencesController.get(H);if(!!q){const ie=k.createCancelablePromise(ue=>v.getReferencesAtPosition(H.getModel(),f.Position.lift(z),!1,ue).then(Z=>new r.ReferencesModel(Z,t.localize(38,null)))),ce=new p.Range(z.lineNumber,z.column,z.lineNumber,z.column);return Promise.resolve(q.toggleWidget(ce,ie,!1))}}})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(Q[266],J([0,1,470,15,11,82,67,3,18,13,252,2,75,14,22,70,265,225,12,21,116,16,336]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let v=class nt{constructor(g,b,w){this.textModelResolverService=b,this.modeService=w,this.toUnhook=new o.DisposableStore,this.toUnhookForKeyboard=new o.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=g;let L=new t.ClickLinkGesture(g);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([E,N])=>{this.startFindDefinitionFromMouse(E,i.withNullAsUndefined(N))})),this.toUnhook.add(L.onExecute(E=>{this.isEnabled(E)&&this.gotoDefinition(E.target.position,E.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),M.onUnexpectedError(N)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(g){return g.getContribution(nt.ID)}startFindDefinitionFromCursor(g){return this.startFindDefinition(g).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(b=>{b&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(g,b){if(!(g.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(g,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const w=g.target.position;this.startFindDefinition(w)}}startFindDefinition(g){var b;this.toUnhookForKeyboard.clear();const w=g?(b=this.editor.getModel())===null||b===void 0?void 0:b.getWordAtPosition(g):null;if(!w)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===w.startColumn&&this.currentWordAtPosition.endColumn===w.endColumn&&this.currentWordAtPosition.word===w.word)return Promise.resolve(0);this.currentWordAtPosition=w;let L=new l.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=k.createCancelablePromise(E=>this.findDefinition(g,E)),this.previousPromise.then(E=>{if(!E||!E.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(E.length>1)this.addDecoration(new _.Range(g.lineNumber,w.startColumn,g.lineNumber,w.endColumn),new y.MarkdownString().appendText(C.localize(0,null,E.length)));else{let N=E[0];if(!N.uri)return;this.textModelResolverService.createModelReference(N.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:O}=N.range;if(O<1||O>T.getLineCount()){I.dispose();return}const R=this.getPreviewValue(T,O,N);let F;N.originSelectionRange?F=_.Range.lift(N.originSelectionRange):F=new _.Range(g.lineNumber,w.startColumn,g.lineNumber,w.endColumn);const D=this.modeService.getModeIdByFilepathOrFirstLine(T.uri);this.addDecoration(F,new y.MarkdownString().appendCodeblock(D||"",R)),I.dispose()})}}).then(void 0,M.onUnexpectedError)}getPreviewValue(g,b,w){let L=w.targetSelectionRange?w.range:this.getPreviewRangeBasedOnBrackets(g,b);return L.endLineNumber-L.startLineNumber>=nt.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(g,b)),this.stripIndentationFromPreviewRange(g,b,L)}stripIndentationFromPreviewRange(g,b,w){let E=g.getLineFirstNonWhitespaceColumn(b);for(let I=b+1;I<w.endLineNumber;I++){const T=g.getLineFirstNonWhitespaceColumn(I);E=Math.min(E,T)}return g.getValueInRange(w).replace(new RegExp(`^\\s{${E-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(g,b){const w=g.getLineFirstNonWhitespaceColumn(b),L=Math.min(g.getLineCount(),b+nt.MAX_SOURCE_PREVIEW_LINES);let E=b+1;for(;E<L;E++){let N=g.getLineFirstNonWhitespaceColumn(E);if(w===N)break}return new _.Range(b,1,E+1,1)}getPreviewRangeBasedOnBrackets(g,b){const w=Math.min(g.getLineCount(),b+nt.MAX_SOURCE_PREVIEW_LINES),L=[];let E=!0,N=g.findNextBracket(new n.Position(b,1));for(;N!==null;){if(L.length===0)L.push(N);else{const R=L[L.length-1];if(R.open[0]===N.open[0]&&R.isOpen&&!N.isOpen?L.pop():L.push(N),L.length===0)if(E)E=!1;else return new _.Range(b,1,N.range.endLineNumber+1,1)}const I=g.getLineMaxColumn(b);let T=N.range.endLineNumber,O=N.range.endColumn;if(I===N.range.endColumn&&(T++,O=1),T>w)return new _.Range(b,1,w+1,1);N=g.findNextBracket(new n.Position(T,O))}return new _.Range(b,1,w+1,1)}addDecoration(g,b){const w={range:g,options:{inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[w])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(g,b){return this.editor.hasModel()&&g.isNoneOrSingleMouseDown&&g.target.type===6&&(g.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&d.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(g,b){const w=this.editor.getModel();return w?p.getDefinitionsAtPosition(w,g,b):Promise.resolve(null)}gotoDefinition(g,b){return this.editor.setPosition(g),this.editor.invokeWithinContext(w=>{const L=!b&&this.editor.getOption(72)&&!this.isInPeekEditor(w);return new r.DefinitionAction({openToSide:b,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(w,this.editor)})}isInPeekEditor(g){const b=g.get(h.IContextKeyService);return u.PeekContext.inPeekEditor.getValue(b)}dispose(){this.toUnhook.dispose()}};v.ID="editor.contrib.gotodefinitionatposition",v.MAX_SOURCE_PREVIEW_LINES=8,v=Me([pe(1,c.ITextModelService),pe(2,S.IModeService)],v),e.GotoDefinitionAtPositionEditorContribution=v,f.registerEditorContribution(v.ID,v),a.registerThemingParticipant((m,g)=>{const b=m.getColor(s.editorActiveLinkForeground);b&&g.addRule(`.monaco-editor .goto-definition-link { color: ${b} !important; }`)})}),define(Q[267],J([0,1,476,38,2,13,3,24,67,647,548,57,22,14,266,16,9]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let t=class Xt{constructor(h,v,m,g,b,w){this._editor=h,this._instantiationService=v,this._openerService=m,this._modeService=g,this._themeService=b,this._toUnhook=new M.DisposableStore,this._contentWidget=new M.MutableDisposable,this._glyphWidget=new M.MutableDisposable,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(L=>{L.hasChanged(48)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=_.EditorContextKeys.hoverVisible.bindTo(w)}get contentWidget(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value}get glyphWidget(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value}static get(h){return h.getContribution(Xt.ID)}_hookEvents(){const h=()=>this._hideWidgets(),v=this._editor.getOption(48);this._isHoverEnabled=v.enabled,this._isHoverSticky=v.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(m=>this._onEditorMouseDown(m))),this._toUnhook.add(this._editor.onMouseUp(m=>this._onEditorMouseUp(m))),this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(m=>this._onEditorScrollChanged(m)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const v=h.target.type;if(v===9&&h.target.detail===f.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}v===12&&h.target.detail===p.ModesGlyphHoverWidget.ID||(v!==12&&h.target.detail!==p.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var v,m,g,b;let w=h.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&!(this._isHoverSticky&&w===9&&h.target.detail===f.ModesContentHoverWidget.ID)&&!(this._isHoverSticky&&!((m=(v=h.event.browserEvent.view)===null||v===void 0?void 0:v.getSelection())===null||m===void 0?void 0:m.isCollapsed))&&!(!this._isHoverSticky&&w===9&&h.target.detail===f.ModesContentHoverWidget.ID&&((g=this._contentWidget.value)===null||g===void 0?void 0:g.isColorPickerVisible()))&&!(this._isHoverSticky&&w===12&&h.target.detail===p.ModesGlyphHoverWidget.ID)){if(w===7){const L=this._editor.getOption(38).typicalHalfwidthCharacterWidth/2,E=h.target.detail;E&&!E.isAfterLines&&typeof E.horizontalDistanceToText=="number"&&E.horizontalDistanceToText<L&&(w=6)}w===6?(this.glyphWidget.hide(),this._isHoverEnabled&&h.target.range&&([...((b=h.target.element)===null||b===void 0?void 0:b.classList.values())||[]].find(E=>E.startsWith("ced-colorBox"))&&h.target.range.endColumn-h.target.range.startColumn==1?this.contentWidget.startShowingAt(new S.Range(h.target.range.startLineNumber,h.target.range.startColumn+1,h.target.range.endLineNumber,h.target.range.endColumn+1),0,!1):this.contentWidget.startShowingAt(h.target.range,0,!1))):w===2?(this.contentWidget.hide(),this._isHoverEnabled&&h.target.position&&this.glyphWidget.startShowingAt(h.target.position.lineNumber)):this._hideWidgets()}}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())}_createHoverWidgets(){this._contentWidget.value=new f.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService),this._glyphWidget.value=new p.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)}showContentHover(h,v,m){this.contentWidget.startShowingAt(h,v,m)}dispose(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()}};t.ID="editor.contrib.hover",t=Me([pe(1,r.IInstantiationService),pe(2,o.IOpenerService),pe(3,d.IModeService),pe(4,a.IThemeService),pe(5,l.IContextKeyService)],t),e.ModesHoverController=t;class n extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:C.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|39),weight:100}})}run(h,v){if(!!v.hasModel()){let m=t.get(v);if(!!m){const g=v.getPosition(),b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column),w=v.getOption(2)===2;m.showContentHover(b,1,w)}}}}class i extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:C.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,v){let m=t.get(v);if(!!m){const g=v.getPosition();if(!!g){const b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column),L=s.GotoDefinitionAtPositionEditorContribution.get(v).startFindDefinitionFromCursor(g);L?L.then(()=>{m.showContentHover(b,1,!0)}):m.showContentHover(b,1,!0)}}}}y.registerEditorContribution(t.ID,t),y.registerEditorAction(n),y.registerEditorAction(i),a.registerThemingParticipant((u,h)=>{const v=u.getColor(c.editorHoverHighlight);v&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${v}; }`);const m=u.getColor(c.editorHoverBackground);m&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${m}; }`);const g=u.getColor(c.editorHoverBorder);g&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${g}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${g.transparent(.5)}; }`));const b=u.getColor(c.textLinkForeground);b&&h.addRule(`.monaco-editor .monaco-hover a { color: ${b}; }`);const w=u.getColor(c.editorHoverForeground);w&&h.addRule(`.monaco-editor .monaco-hover { color: ${w}; }`);const L=u.getColor(c.editorHoverStatusBarBackground);L&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${L}; }`);const E=u.getColor(c.textCodeBlockBackground);E&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${E}; }`)})}),define(Q[655],J([0,1,2,13,267,3,251]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends C.Disposable{constructor(d){super();this._editor=d,this._register(d.onMouseDown(f=>this.onMouseDown(f)))}dispose(){super.dispose()}onMouseDown(d){var f;if(d.target.type===6&&!![...((f=d.target.element)===null||f===void 0?void 0:f.classList.values())||[]].find(a=>a.startsWith("ced-colorBox"))&&!!d.target.range){const c=this._editor.getContribution(M.ModesHoverController.ID);if(!c.contentWidget.isColorPickerVisible()){const a=new y.Range(d.target.range.startLineNumber,d.target.range.startColumn+1,d.target.range.endLineNumber,d.target.range.endColumn+1);c.showContentHover(a,0,!1)}}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",k.registerEditorContribution(S.ID,S)}),define(Q[656],J([0,1,15,2,13,18,45,249,14,46,263]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class Qt extends k.Disposable{constructor(a,s,l,r){super();this._modelService=s,this._themeService=l,this._configurationService=r,this._editor=a,this._tokenizeViewport=new C.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(t=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(y.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration(p.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}static _getSemanticColoringProvider(a){const s=y.DocumentRangeSemanticTokensProviderRegistry.ordered(a);return s.length>0?s[0]:null}_cancelAll(){for(const a of this._outstandingRequests)a.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(a){for(let s=0,l=this._outstandingRequests.length;s<l;s++)if(this._outstandingRequests[s]===a){this._outstandingRequests.splice(s,1);return}}_tokenizeViewportNow(){if(!!this._editor.hasModel()){const a=this._editor.getModel();if(!a.hasCompleteSemanticTokens()){if(!p.isSemanticColoringEnabled(a,this._themeService,this._configurationService)){a.hasSomeSemanticTokens()&&a.setSemanticTokens(null,!1);return}const s=Qt._getSemanticColoringProvider(a);if(!s){a.hasSomeSemanticTokens()&&a.setSemanticTokens(null,!1);return}const l=this._modelService.getSemanticTokensProviderStyling(s),r=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(r.map(t=>this._requestRange(a,t,s,l)))}}}_requestRange(a,s,l,r){const t=a.getVersionId(),n=C.createCancelablePromise(i=>Promise.resolve(l.provideDocumentRangeSemanticTokens(a,s,i)));return n.then(i=>{!i||a.isDisposed()||a.getVersionId()!==t||a.setPartialSemanticTokens(s,_.toMultilineTokens2(i,r,a.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(n),()=>this._removeOutstandingRequest(n)),n}};o.ID="editor.contrib.viewportSemanticTokens",o=Me([pe(1,S.IModelService),pe(2,d.IThemeService),pe(3,f.IConfigurationService)],o),M.registerEditorContribution(o.ID,o)}),define(Q[657],J([0,1,13,28,264,46,16,9,32,78]),function(G,e,C,k,M,y,S,_,d,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let p=class extends M.ReferencesController{constructor(c,a,s,l,r,t,n){super(!0,c,a,s,l,r,t,n)}};p=Me([pe(1,S.IContextKeyService),pe(2,k.ICodeEditorService),pe(3,d.INotificationService),pe(4,_.IInstantiationService),pe(5,f.IStorageService),pe(6,y.IConfigurationService)],p),e.StandaloneReferencesController=p,C.registerEditorContribution(M.ReferencesController.ID,p)}),define(Q[658],J([0,1,514,147,11,72,180,81,43,32,2]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const o=!1;function c(m){return m.scheme===d.Schemas.file?m.fsPath:m.path}let a=0;class s{constructor(g,b,w,L,E,N,I){this.id=++a,this.type=0,this.actual=g,this.label=g.label,this.resourceLabel=b,this.strResource=w,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=E,this.sourceId=N,this.sourceOrder=I,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class l{constructor(g,b){this.resourceLabel=g,this.reason=b}}class r{constructor(){this.elements=new Map}createMessage(){const g=[],b=[];for(const[,L]of this.elements)(L.reason===0?g:b).push(L.resourceLabel);let w=[];return g.length>0&&w.push(C.localize(0,null,g.join(", "))),b.length>0&&w.push(C.localize(1,null,b.join(", "))),w.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,b){this.elements.set(g,b)}delete(g){return this.elements.delete(g)}}class t{constructor(g,b,w,L,E,N,I){this.id=++a,this.type=1,this.actual=g,this.label=g.label,this.resourceLabels=b,this.strResources=w,this.groupId=L,this.groupOrder=E,this.sourceId=N,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,b,w){this.removedResources||(this.removedResources=new r),this.removedResources.has(b)||this.removedResources.set(b,new l(g,w))}setValid(g,b,w){w?this.invalidatedResources&&(this.invalidatedResources.delete(b),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(b)||this.invalidatedResources.set(b,new l(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(g,b){this.resourceLabel=g,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let g=[];g.push(`* ${this.strResource}:`);for(let b=0;b<this._past.length;b++)g.push(`   * [UNDO] ${this._past[b]}`);for(let b=this._future.length-1;b>=0;b--)g.push(`   * [REDO] ${this._future[b]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,b){g.type===1?g.setValid(this.resourceLabel,this.strResource,b):g.setValid(b)}setElementsValidFlag(g,b){for(const w of this._past)b(w.actual)&&this._setElementValidFlag(w,g);for(const w of this._future)b(w.actual)&&this._setElementValidFlag(w,g)}pushElement(g){for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const b=[];for(let w=0,L=this._past.length;w<L;w++)b.push(this._past[w].id);for(let w=this._future.length-1;w>=0;w--)b.push(this._future[w].id);return new k.ResourceEditStackSnapshot(g,b)}restoreSnapshot(g){const b=g.elements.length;let w=!0,L=0,E=-1;for(let I=0,T=this._past.length;I<T;I++,L++){const O=this._past[I];w&&(L>=b||O.id!==g.elements[L])&&(w=!1,E=0),!w&&O.type===1&&O.removeResource(this.resourceLabel,this.strResource,0)}let N=-1;for(let I=this._future.length-1;I>=0;I--,L++){const T=this._future[I];w&&(L>=b||T.id!==g.elements[L])&&(w=!1,N=I),!w&&T.type===1&&T.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),N!==-1&&(this._future=this._future.slice(N+1)),this.versionId++}getElements(){const g=[],b=[];for(const w of this._past)g.push(w.actual);for(const w of this._future)b.push(w.actual);return{past:g,future:b}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,b){for(let w=this._past.length-1;w>=0;w--)if(this._past[w]===g){b.has(this.strResource)?this._past[w]=b.get(this.strResource):this._past.splice(w,1);break}this.versionId++}splitFutureWorkspaceElement(g,b){for(let w=this._future.length-1;w>=0;w--)if(this._future[w]===g){b.has(this.strResource)?this._future[w]=b.get(this.strResource):this._future.splice(w,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class i{constructor(g){this.editStacks=g,this._versionIds=[];for(let b=0,w=this.editStacks.length;b<w;b++)this._versionIds[b]=this.editStacks[b].versionId}isValid(){for(let g=0,b=this.editStacks.length;g<b;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const u=new n("","");u.locked=!0;let h=class{constructor(g,b){this._dialogService=g,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const b of this._uriComparisonKeyComputers)if(b[0]===g.scheme)return b[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);let b=[];for(const w of this._editStacks)b.push(w[1].toString());console.log(b.join(`
`))}pushElement(g,b=k.UndoRedoGroup.None,w=k.UndoRedoSource.None){if(g.type===0){const L=c(g.resource),E=this.getUriComparisonKey(g.resource);this._pushElement(new s(g,L,E,b.id,b.nextOrder(),w.id,w.nextOrder()))}else{const L=new Set,E=[],N=[];for(const I of g.resources){const T=c(I),O=this.getUriComparisonKey(I);L.has(O)||(L.add(O),E.push(T),N.push(O))}E.length===1?this._pushElement(new s(g,E[0],N[0],b.id,b.nextOrder(),w.id,w.nextOrder())):this._pushElement(new t(g,E,N,b.id,b.nextOrder(),w.id,w.nextOrder()))}o&&this._print("pushElement")}_pushElement(g){for(let b=0,w=g.strResources.length;b<w;b++){const L=g.resourceLabels[b],E=g.strResources[b];let N;this._editStacks.has(E)?N=this._editStacks.get(E):(N=new n(L,E),this._editStacks.set(E,N)),N.pushElement(g)}}getLastElement(g){const b=this.getUriComparisonKey(g);if(this._editStacks.has(b)){const w=this._editStacks.get(b);if(w.hasFutureElements())return null;const L=w.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(g,b){const w=g.actual.split(),L=new Map;for(const E of w){const N=c(E.resource),I=this.getUriComparisonKey(E.resource),T=new s(E,N,I,0,0,0,0);L.set(T.strResource,T)}for(const E of g.strResources)b&&b.has(E)||this._editStacks.get(E).splitPastWorkspaceElement(g,L)}_splitFutureWorkspaceElement(g,b){const w=g.actual.split(),L=new Map;for(const E of w){const N=c(E.resource),I=this.getUriComparisonKey(E.resource),T=new s(E,N,I,0,0,0,0);L.set(T.strResource,T)}for(const E of g.strResources)b&&b.has(E)||this._editStacks.get(E).splitFutureWorkspaceElement(g,L)}removeElements(g){const b=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(b)&&(this._editStacks.get(b).dispose(),this._editStacks.delete(b)),o&&this._print("removeElements")}setElementsValidFlag(g,b,w){const L=this.getUriComparisonKey(g);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(b,w),o&&this._print("setElementsValidFlag")}createSnapshot(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).createSnapshot(g):new k.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const b=this.getUriComparisonKey(g.resource);if(this._editStacks.has(b)){const w=this._editStacks.get(b);w.restoreSnapshot(g),!w.hasPastElements()&&!w.hasFutureElements()&&(w.dispose(),this._editStacks.delete(b))}o&&this._print("restoreSnapshot")}getElements(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let b=null,w=null;for(const[L,E]of this._editStacks){const N=E.getClosestPastElement();!N||N.sourceId===g&&(!b||N.sourceOrder>b.sourceOrder)&&(b=N,w=L)}return[b,w]}canUndo(g){if(g instanceof k.UndoRedoSource){const[,w]=this._findClosestUndoElementWithSource(g.id);return!!w}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasPastElements():!1}_onError(g,b){M.onUnexpectedError(g);for(const w of b.strResources)this.removeElements(w);this._notificationService.error(g)}_acquireLocks(g){for(const b of g.editStacks)if(b.locked)throw new Error("Cannot acquire edit stack lock");for(const b of g.editStacks)b.locked=!0;return()=>{for(const b of g.editStacks)b.locked=!1}}_safeInvokeWithLocks(g,b,w,L,E){const N=this._acquireLocks(w);let I;try{I=b()}catch(T){return N(),L.dispose(),this._onError(T,g)}return I?I.then(()=>(N(),L.dispose(),E()),T=>(N(),L.dispose(),this._onError(T,g))):(N(),L.dispose(),E())}_invokeWorkspacePrepare(g){return De(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo=="undefined")return p.Disposable.None;const b=g.actual.prepareUndoRedo();return typeof b=="undefined"?p.Disposable.None:b})}_invokeResourcePrepare(g,b){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo=="undefined")return b(p.Disposable.None);const w=g.actual.prepareUndoRedo();return w?p.isDisposable(w)?b(w):w.then(L=>b(L)):b(p.Disposable.None)}_getAffectedEditStacks(g){const b=[];for(const w of g.strResources)b.push(this._editStacks.get(w)||u);return new i(b)}_tryToSplitAndUndo(g,b,w,L){if(b.canSplit())return this._splitPastWorkspaceElement(b,w),this._notificationService.info(L),new v(this._undo(g));for(const E of b.strResources)this.removeElements(E);return this._notificationService.info(L),new v}_checkWorkspaceUndo(g,b,w,L){if(b.removedResources)return this._tryToSplitAndUndo(g,b,b.removedResources,C.localize(2,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndUndo(g,b,b.invalidatedResources,C.localize(3,null,b.label,b.invalidatedResources.createMessage()));const E=[];for(const I of w.editStacks)I.getClosestPastElement()!==b&&E.push(I.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(g,b,null,C.localize(4,null,b.label,E.join(", ")));const N=[];for(const I of w.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndUndo(g,b,null,C.localize(5,null,b.label,N.join(", "))):w.isValid()?null:this._tryToSplitAndUndo(g,b,null,C.localize(6,null,b.label))}_workspaceUndo(g,b){const w=this._getAffectedEditStacks(b),L=this._checkWorkspaceUndo(g,b,w,!1);return L?L.returnValue:this._confirmAndExecuteWorkspaceUndo(g,b,w)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,b]of this._editStacks){const w=b.getClosestPastElement();if(!!w){if(w===g){const L=b.getSecondClosestPastElement();if(L&&L.groupId===g.groupId)return!0}if(w.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,b,w){return De(this,void 0,void 0,function*(){if(b.canSplit()&&!this._isPartOfUndoGroup(b)){const N=yield this._dialogService.show(_.default.Info,C.localize(7,null,b.label),[C.localize(8,null,w.editStacks.length),C.localize(9,null),C.localize(10,null)],{cancelId:2});if(N.choice===2)return;if(N.choice===1)return this._splitPastWorkspaceElement(b,null),this._undo(g);const I=this._checkWorkspaceUndo(g,b,w,!1);if(I)return I.returnValue}let L;try{L=yield this._invokeWorkspacePrepare(b)}catch(N){return this._onError(N,b)}const E=this._checkWorkspaceUndo(g,b,w,!0);if(E)return L.dispose(),E.returnValue;for(const N of w.editStacks)N.moveBackward(b);return this._safeInvokeWithLocks(b,()=>b.actual.undo(),w,L,()=>this._continueUndoInGroup(b.groupId))})}_resourceUndo(g,b){if(!b.isValid){g.flushAllElements();return}if(g.locked){const w=C.localize(11,null,b.label);this._notificationService.info(w);return}return this._invokeResourcePrepare(b,w=>(g.moveBackward(b),this._safeInvokeWithLocks(b,()=>b.actual.undo(),new i([g]),w,()=>this._continueUndoInGroup(b.groupId))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let b=null,w=null;for(const[L,E]of this._editStacks){const N=E.getClosestPastElement();!N||N.groupId===g&&(!b||N.groupOrder>b.groupOrder)&&(b=N,w=L)}return[b,w]}_continueUndoInGroup(g){if(!!g){const[,b]=this._findClosestUndoElementInGroup(g);if(b)return this._undo(b)}}undo(g){if(g instanceof k.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(g.id);return b?this._undo(b,g.id):void 0}return typeof g=="string"?this._undo(g):this._undo(this.getUriComparisonKey(g))}_undo(g,b=0){if(!!this._editStacks.has(g)){const w=this._editStacks.get(g),L=w.getClosestPastElement();if(!!L){if(L.groupId){const[E,N]=this._findClosestUndoElementInGroup(L.groupId);if(L!==E&&N)return this._undo(N)}if(L.sourceId!==b)return this._confirmDifferentSourceAndContinueUndo(g,L);try{return L.type===1?this._workspaceUndo(g,L):this._resourceUndo(w,L)}finally{o&&this._print("undo")}}}}_confirmDifferentSourceAndContinueUndo(g,b){return De(this,void 0,void 0,function*(){if((yield this._dialogService.show(_.default.Info,C.localize(12,null,b.label),[C.localize(13,null),C.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(g,b.sourceId)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let b=null,w=null;for(const[L,E]of this._editStacks){const N=E.getClosestFutureElement();!N||N.sourceId===g&&(!b||N.sourceOrder<b.sourceOrder)&&(b=N,w=L)}return[b,w]}canRedo(g){if(g instanceof k.UndoRedoSource){const[,w]=this._findClosestRedoElementWithSource(g.id);return!!w}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasFutureElements():!1}_tryToSplitAndRedo(g,b,w,L){if(b.canSplit())return this._splitFutureWorkspaceElement(b,w),this._notificationService.info(L),new v(this._redo(g));for(const E of b.strResources)this.removeElements(E);return this._notificationService.info(L),new v}_checkWorkspaceRedo(g,b,w,L){if(b.removedResources)return this._tryToSplitAndRedo(g,b,b.removedResources,C.localize(15,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndRedo(g,b,b.invalidatedResources,C.localize(16,null,b.label,b.invalidatedResources.createMessage()));const E=[];for(const I of w.editStacks)I.getClosestFutureElement()!==b&&E.push(I.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(g,b,null,C.localize(17,null,b.label,E.join(", ")));const N=[];for(const I of w.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndRedo(g,b,null,C.localize(18,null,b.label,N.join(", "))):w.isValid()?null:this._tryToSplitAndRedo(g,b,null,C.localize(19,null,b.label))}_workspaceRedo(g,b){const w=this._getAffectedEditStacks(b),L=this._checkWorkspaceRedo(g,b,w,!1);return L?L.returnValue:this._executeWorkspaceRedo(g,b,w)}_executeWorkspaceRedo(g,b,w){return De(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(b)}catch(N){return this._onError(N,b)}const E=this._checkWorkspaceRedo(g,b,w,!0);if(E)return L.dispose(),E.returnValue;for(const N of w.editStacks)N.moveForward(b);return this._safeInvokeWithLocks(b,()=>b.actual.redo(),w,L,()=>this._continueRedoInGroup(b.groupId))})}_resourceRedo(g,b){if(!b.isValid){g.flushAllElements();return}if(g.locked){const w=C.localize(20,null,b.label);this._notificationService.info(w);return}return this._invokeResourcePrepare(b,w=>(g.moveForward(b),this._safeInvokeWithLocks(b,()=>b.actual.redo(),new i([g]),w,()=>this._continueRedoInGroup(b.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let b=null,w=null;for(const[L,E]of this._editStacks){const N=E.getClosestFutureElement();!N||N.groupId===g&&(!b||N.groupOrder<b.groupOrder)&&(b=N,w=L)}return[b,w]}_continueRedoInGroup(g){if(!!g){const[,b]=this._findClosestRedoElementInGroup(g);if(b)return this._redo(b)}}redo(g){if(g instanceof k.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(g.id);return b?this._redo(b):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!!this._editStacks.has(g)){const b=this._editStacks.get(g),w=b.getClosestFutureElement();if(!!w){if(w.groupId){const[L,E]=this._findClosestRedoElementInGroup(w.groupId);if(w!==L&&E)return this._redo(E)}try{return w.type===1?this._workspaceRedo(g,w):this._resourceRedo(b,w)}finally{o&&this._print("redo")}}}}};h=Me([pe(0,S.IDialogService),pe(1,f.INotificationService)],h),e.UndoRedoService=h;class v{constructor(g){this.returnValue=g}}y.registerSingleton(k.IUndoRedoService,h)}),define(Q[186],J([0,1,23,40,9,51]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceFolder=e.IWorkspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=M.createDecorator("contextService");var S;(function(p){function o(c){return!!(c&&typeof c=="object"&&typeof c.id=="string"&&Array.isArray(c.folders))}p.isIWorkspace=o})(S=e.IWorkspace||(e.IWorkspace={}));var _;(function(p){function o(c){return!!(c&&typeof c=="object"&&C.URI.isUri(c.uri)&&typeof c.name=="string"&&typeof c.toResource=="function")}p.isIWorkspaceFolder=o})(_=e.IWorkspaceFolder||(e.IWorkspaceFolder={}));class d{constructor(o,c,a,s){this._id=o,this._configuration=a,this._ignorePathCasing=s,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=c}get folders(){return this._folders}set folders(o){this._folders=o,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(o){this._configuration=o}getFolder(o){return o&&this._foldersMap.findSubstr(o.with({scheme:o.scheme,authority:o.authority,path:o.path}))||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing);for(const o of this.folders)this._foldersMap.set(o.uri,o)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=d;class f{constructor(o,c){this.raw=c,this.uri=o.uri,this.index=o.index,this.name=o.name}toResource(o){return k.joinPath(this.uri,o)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=f}),define(Q[187],J([0,1,8,7,56,4,38,2,17,81,23,107,132,182,61,12,3,45,26,46,557,539,247,86,541,542,32,186,63]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class N{constructor(x){this.disposed=!1,this.model=x,this._onDispose=new y.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onDispose.fire()}}e.SimpleModel=N;function I(P,x,z){return o.isCodeEditor(P)?x(P):z(P)}let T=class{constructor(x){this.modelService=x}setEditor(x){this.editor=x}createModelReference(x){let z=null;return this.editor&&(z=I(this.editor,U=>this.findModel(U,x),U=>this.findModel(U.getOriginalEditor(),x)||this.findModel(U.getModifiedEditor(),x))),z?Promise.resolve(new _.ImmortalReference(new N(z))):Promise.reject(new Error("Model not found"))}findModel(x,z){let U=this.modelService.getModel(z);return U&&U.uri.toString()!==z.toString()?null:U}};T=Me([pe(0,t.IModelService)],T),e.SimpleEditorModelResolverService=T;class O{show(){return O.NULL_PROGRESS_RUNNER}showWhile(x,z){return Promise.resolve(void 0)}}e.SimpleEditorProgressService=O,O.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class R{confirm(x){return this.doConfirm(x).then(z=>({confirmed:z,checkboxChecked:!1}))}doConfirm(x){let z=x.message;return x.detail&&(z=z+`

`+x.detail),Promise.resolve(window.confirm(z))}show(x,z,U,H){return Promise.resolve({choice:0})}}e.SimpleDialogService=R;class F{info(x){return this.notify({severity:f.default.Info,message:x})}warn(x){return this.notify({severity:f.default.Warning,message:x})}error(x){return this.notify({severity:f.default.Error,message:x})}notify(x){switch(x.severity){case f.default.Error:console.error(x.message);break;case f.default.Warning:console.warn(x.message);break;default:console.log(x.message);break}return F.NO_OP}status(x,z){return _.Disposable.None}}e.SimpleNotificationService=F,F.NO_OP=new w.NoOpNotification;class D{constructor(x){this._onWillExecuteCommand=new y.Emitter,this._onDidExecuteCommand=new y.Emitter,this._instantiationService=x}executeCommand(x,...z){const U=n.CommandsRegistry.getCommand(x);if(!U)return Promise.reject(new Error(`command '${x}' not found`));try{this._onWillExecuteCommand.fire({commandId:x,args:z});const H=this._instantiationService.invokeFunction.apply(this._instantiationService,[U.handler,...z]);return this._onDidExecuteCommand.fire({commandId:x,args:z}),Promise.resolve(H)}catch(H){return Promise.reject(H)}}}e.StandaloneCommandService=D;class B extends h.AbstractKeybindingService{constructor(x,z,U,H,q,ie){super(x,z,U,H,q);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(k.addDisposableListener(ie,k.EventType.KEY_DOWN,ce=>{let ue=new M.StandardKeyboardEvent(ce);this._dispatch(ue,ue.target)&&(ue.preventDefault(),ue.stopPropagation())}))}addDynamicKeybinding(x,z,U,H){const q=S.createKeybinding(z,d.OS),ie=new _.DisposableStore;return q&&(this._dynamicKeybindings.push({keybinding:q,command:x,when:H,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ie.add(_.toDisposable(()=>{for(let ce=0;ce<this._dynamicKeybindings.length;ce++)if(this._dynamicKeybindings[ce].command===x){this._dynamicKeybindings.splice(ce,1),this.updateResolver({source:1});return}}))),ie.add(n.CommandsRegistry.registerCommand(x,U)),this.updateResolver({source:1}),ie}updateResolver(x){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(x)}_getResolver(){if(!this._cachedResolver){const x=this._toNormalizedKeybindingItems(m.KeybindingsRegistry.getDefaultKeybindings(),!0),z=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new v.KeybindingResolver(x,z,U=>this._log(U))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(x,z){let U=[],H=0;for(const q of x){const ie=q.when||void 0,ce=q.keybinding;if(!ce)U[H++]=new g.ResolvedKeybindingItem(void 0,q.command,q.commandArgs,ie,z,null,!1);else{const ue=this.resolveKeybinding(ce);for(const Z of ue)U[H++]=new g.ResolvedKeybindingItem(Z,q.command,q.commandArgs,ie,z,null,!1)}}return U}resolveKeybinding(x){return[new b.USLayoutResolvedKeybinding(x,d.OS)]}resolveKeyboardEvent(x){let z=new S.SimpleKeybinding(x.ctrlKey,x.shiftKey,x.altKey,x.metaKey,x.keyCode).toChord();return new b.USLayoutResolvedKeybinding(z,d.OS)}}e.StandaloneKeybindingService=B;function A(P){return P&&typeof P=="object"&&(!P.overrideIdentifier||typeof P.overrideIdentifier=="string")&&(!P.resource||P.resource instanceof p.URI)}class W{constructor(){this._onDidChangeConfiguration=new y.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new u.Configuration(new u.DefaultConfigurationModel,new u.ConfigurationModel)}getValue(x,z){const U=typeof x=="string"?x:void 0,H=A(x)?x:A(z)?z:{};return this._configuration.getValue(U,H,void 0)}updateValues(x){const z={data:this._configuration.toData()};let U=[];for(const H of x){const[q,ie]=H;this.getValue(q)!==ie&&(this._configuration.updateValue(q,ie),U.push(q))}if(U.length>0){const H=new u.ConfigurationChangeEvent({keys:U,overrides:[]},z,this._configuration);H.source=7,H.sourceConfig=null,this._onDidChangeConfiguration.fire(H)}return Promise.resolve()}}e.SimpleConfigurationService=W;class V{constructor(x){this.configurationService=x,this._onDidChangeConfiguration=new y.Emitter,this.configurationService.onDidChangeConfiguration(z=>{this._onDidChangeConfiguration.fire({affectedKeys:z.affectedKeys,affectsConfiguration:(U,H)=>z.affectsConfiguration(H)})})}getValue(x,z,U){const q=(l.Position.isIPosition(z)?z:null)?typeof U=="string"?U:void 0:typeof z=="string"?z:void 0;return typeof q=="undefined"?this.configurationService.getValue():this.configurationService.getValue(q)}}e.SimpleResourceConfigurationService=V;let K=class{constructor(x){this.configurationService=x}getEOL(x,z){const U=this.configurationService.getValue("files.eol",{overrideIdentifier:z,resource:x});return U&&U!=="auto"?U:d.isLinux||d.isMacintosh?`
`:`\r
`}};K=Me([pe(0,i.IConfigurationService)],K),e.SimpleResourcePropertiesService=K;class j{publicLog(x,z){return Promise.resolve(void 0)}publicLog2(x,z){return this.publicLog(x,z)}}e.StandaloneTelemetryService=j;class ee{constructor(){const x=p.URI.from({scheme:ee.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:x,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(x){return x&&x.scheme===ee.SCHEME?this.workspace.folders[0]:null}}e.SimpleWorkspaceContextService=ee,ee.SCHEME="inmemory";function re(P,x,z){if(!!x&&P instanceof W){let U=[];Object.keys(x).forEach(H=>{a.isEditorConfigurationKey(H)&&U.push([`editor.${H}`,x[H]]),z&&a.isDiffEditorConfigurationKey(H)&&U.push([`diffEditor.${H}`,x[H]])}),U.length>0&&P.updateValues(U)}}e.updateConfigurationService=re;class te{constructor(x){this._modelService=x}hasPreviewHandler(){return!1}apply(x,z){return De(this,void 0,void 0,function*(){const U=new Map;for(let ie of x){if(!(ie instanceof c.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const ce=this._modelService.getModel(ie.resource);if(!ce)throw new Error("bad edit - model not found");if(typeof ie.versionId=="number"&&ce.getVersionId()!==ie.versionId)throw new Error("bad state - model changed in the meantime");let ue=U.get(ce);ue||(ue=[],U.set(ce,ue)),ue.push(s.EditOperation.replaceMove(r.Range.lift(ie.textEdit.range),ie.textEdit.text))}let H=0,q=0;for(const[ie,ce]of U)ie.pushStackElement(),ie.pushEditOperations([],ce,()=>[]),ie.pushStackElement(),q+=1,H+=ce.length;return{ariaSummary:C.format(E.SimpleServicesNLS.bulkEditServiceSummary,H,q)}})}}e.SimpleBulkEditService=te;class ae{getUriLabel(x,z){return x.scheme==="file"?x.fsPath:x.path}}e.SimpleUriLabelService=ae;class Y{constructor(x,z){this._codeEditorService=x,this._container=z,this.onLayout=y.Event.None}get dimension(){return this._dimension||(this._dimension=k.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var x;(x=this._codeEditorService.getFocusedCodeEditor())===null||x===void 0||x.focus()}}e.SimpleLayoutService=Y}),define(Q[659],J([0,1,47,2,28,142,260,215,73,187,113,35,26,46,16,68,9,36,32,14,64,63,84,58]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let g=0,b=!1;function w(){b||(b=!0,C.setARIAContainer(document.body))}let L=class extends y.CodeEditorWidget{constructor(T,O,R,F,D,B,A,W,V,K){const j=Object.assign({},O);j.ariaLabel=j.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,j.ariaLabel=j.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(T,j,{},R,F,D,B,W,V,K),A instanceof f.StandaloneKeybindingService?this._standaloneKeybindingService=A:this._standaloneKeybindingService=null,w()}addCommand(T,O,R){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let F="DYNAMIC_"+ ++g,D=s.ContextKeyExpr.deserialize(R);return this._standaloneKeybindingService.addDynamicKeybinding(F,T,O,D),F}createContextKey(T,O){return this._contextKeyService.createKey(T,O)}addAction(T){if(typeof T.id!="string"||typeof T.label!="string"||typeof T.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const O=T.id,R=T.label,F=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(T.precondition)),D=T.keybindings,B=s.ContextKeyExpr.and(F,s.ContextKeyExpr.deserialize(T.keybindingContext)),A=T.contextMenuGroupId||null,W=T.contextMenuOrder||0,V=(re,...te)=>Promise.resolve(T.run(this,...te)),K=new k.DisposableStore,j=this.getId()+":"+O;if(K.add(c.CommandsRegistry.registerCommand(j,V)),A){let re={command:{id:j,title:R},when:F,group:A,order:W};K.add(o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,re))}if(Array.isArray(D))for(const re of D)K.add(this._standaloneKeybindingService.addDynamicKeybinding(j,re,V,B));let ee=new _.InternalEditorAction(j,R,R,F,V,this._contextKeyService);return this._actions[O]=ee,K.add(k.toDisposable(()=>{delete this._actions[O]})),K}};L=Me([pe(2,r.IInstantiationService),pe(3,M.ICodeEditorService),pe(4,c.ICommandService),pe(5,s.IContextKeyService),pe(6,t.IKeybindingService),pe(7,i.IThemeService),pe(8,n.INotificationService),pe(9,u.IAccessibilityService)],L),e.StandaloneCodeEditor=L;let E=class extends L{constructor(T,O,R,F,D,B,A,W,V,K,j,ee,re){const te=Object.assign({},O);f.updateConfigurationService(ee,te,!1);const ae=K.registerEditorContainer(T);typeof te.theme=="string"&&K.setTheme(te.theme);let Y=te.model;delete te.model,super(T,te,F,D,B,A,W,K,j,re),this._contextViewService=V,this._configurationService=ee,this._standaloneThemeService=K,this._register(R),this._register(ae);let P;if(typeof Y=="undefined"?(P=self.monaco.editor.createModel(te.value||"",te.language||"text/plain"),this._ownsModel=!0):(P=Y,this._ownsModel=!1),this._attachModel(P),P){let x={oldModelUrl:null,newModelUrl:P.uri};this._onDidChangeModel.fire(x)}}dispose(){super.dispose()}updateOptions(T){f.updateConfigurationService(this._configurationService,T,!1),typeof T.theme=="string"&&this._standaloneThemeService.setTheme(T.theme),super.updateOptions(T)}_attachModel(T){super._attachModel(T),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(T){super._postDetachModelCleanup(T),T&&this._ownsModel&&(T.dispose(),this._ownsModel=!1)}};E=Me([pe(3,r.IInstantiationService),pe(4,M.ICodeEditorService),pe(5,c.ICommandService),pe(6,s.IContextKeyService),pe(7,t.IKeybindingService),pe(8,l.IContextViewService),pe(9,p.IStandaloneThemeService),pe(10,n.INotificationService),pe(11,a.IConfigurationService),pe(12,u.IAccessibilityService)],E),e.StandaloneEditor=E;let N=class extends S.DiffEditorWidget{constructor(T,O,R,F,D,B,A,W,V,K,j,ee,re,te,ae){const Y=Object.assign({},O);f.updateConfigurationService(ee,Y,!0);const P=K.registerEditorContainer(T);typeof Y.theme=="string"&&(Y.theme=K.setTheme(Y.theme)),super(T,Y,{},ae,W,D,F,V,K,j,re,te),this._contextViewService=A,this._configurationService=ee,this._standaloneThemeService=K,this._register(R),this._register(P),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(T){f.updateConfigurationService(this._configurationService,T,!0),typeof T.theme=="string"&&this._standaloneThemeService.setTheme(T.theme),super.updateOptions(T)}_createInnerEditor(T,O,R){return T.createInstance(L,O,R)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(T,O,R){return this.getModifiedEditor().addCommand(T,O,R)}createContextKey(T,O){return this.getModifiedEditor().createContextKey(T,O)}addAction(T){return this.getModifiedEditor().addAction(T)}};N=Me([pe(3,r.IInstantiationService),pe(4,s.IContextKeyService),pe(5,t.IKeybindingService),pe(6,l.IContextViewService),pe(7,d.IEditorWorkerService),pe(8,M.ICodeEditorService),pe(9,p.IStandaloneThemeService),pe(10,n.INotificationService),pe(11,a.IConfigurationService),pe(12,l.IContextMenuService),pe(13,m.IEditorProgressService),pe(14,v.IClipboardService)],N),e.StandaloneDiffEditor=N}),define(Q[268],J([0,1,2,132,28,73,248,67,555,45,263,135,187,634,653,113,35,26,46,558,16,637,68,543,180,9,538,136,36,137,146,76,546,85,32,58,78,87,14,186,537,237,610,64,138,72,556,84,515,147,658,639,77]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O,R,F,D,B,A,W,V,K,j,ee,re,te,ae,Y,P,x,z,U,H,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var ie;(function(ue){const Z=new L.ServiceCollection;class ne{constructor(le,me){this._serviceId=le,this._factory=me,this._value=null}get id(){return this._serviceId}get(le){if(!this._value){if(le&&(this._value=le[this._serviceId.toString()]),this._value||(this._value=this._factory(le)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");Z.set(this._serviceId,this._value)}return this._value}}ue.LazyStaticService=ne;let $=[];function X(se,le){let me=new ne(se,le);return $.push(me),me}function de(se){let le=new L.ServiceCollection;for(const[be,ye]of ae.getSingletonServiceDescriptors())le.set(be,ye);for(let be in se)se.hasOwnProperty(be)&&le.set(b.createDecorator(be),se[be]);$.forEach(be=>le.set(be.id,be.get(se)));let me=new w.InstantiationService(le,!0);return le.set(b.IInstantiationService,me),[le,me]}ue.init=de,ue.instantiationService=X(b.IInstantiationService,()=>new w.InstantiationService(Z,!0));const fe=new c.SimpleConfigurationService;ue.configurationService=X(n.IConfigurationService,()=>fe),ue.resourceConfigurationService=X(o.ITextResourceConfigurationService,()=>new c.SimpleResourceConfigurationService(fe)),ue.resourcePropertiesService=X(o.ITextResourcePropertiesService,()=>new c.SimpleResourcePropertiesService(fe)),ue.contextService=X(V.IWorkspaceContextService,()=>new c.SimpleWorkspaceContextService),ue.labelService=X(N.ILabelService,()=>new c.SimpleUriLabelService),ue.telemetryService=X(A.ITelemetryService,()=>new c.StandaloneTelemetryService),ue.dialogService=X(g.IDialogService,()=>new c.SimpleDialogService),ue.notificationService=X(F.INotificationService,()=>new c.SimpleNotificationService),ue.markerService=X(R.IMarkerService,()=>new O.MarkerService),ue.modeService=X(_.IModeService,se=>new d.ModeServiceImpl),ue.standaloneThemeService=X(l.IStandaloneThemeService,()=>new s.StandaloneThemeServiceImpl),ue.logService=X(T.ILogService,()=>new T.ConsoleLogService),ue.undoRedoService=X(z.IUndoRedoService,se=>new U.UndoRedoService(ue.dialogService.get(se),ue.notificationService.get(se))),ue.modelService=X(f.IModelService,se=>new p.ModelServiceImpl(ue.configurationService.get(se),ue.resourcePropertiesService.get(se),ue.standaloneThemeService.get(se),ue.logService.get(se),ue.undoRedoService.get(se))),ue.markerDecorationsService=X(j.IMarkerDecorationsService,se=>new ee.MarkerDecorationsService(ue.modelService.get(se),ue.markerService.get(se))),ue.codeEditorService=X(M.ICodeEditorService,se=>new a.StandaloneCodeEditorServiceImpl(ue.standaloneThemeService.get(se))),ue.editorProgressService=X(D.IEditorProgressService,()=>new c.SimpleEditorProgressService),ue.storageService=X(B.IStorageService,()=>new B.InMemoryStorageService),ue.editorWorkerService=X(y.IEditorWorkerService,se=>new S.EditorWorkerServiceImpl(ue.modelService.get(se),ue.resourceConfigurationService.get(se),ue.logService.get(se)))})(ie=e.StaticServices||(e.StaticServices={}));class ce extends C.Disposable{constructor(Z,ne){super();const[$,X]=ie.init(ne);this._serviceCollection=$,this._instantiationService=X;const de=this.get(n.IConfigurationService),fe=this.get(F.INotificationService),se=this.get(A.ITelemetryService),le=this.get(W.IThemeService),me=this.get(T.ILogService);let be=(Pe,Fe)=>{let Re=null;return ne&&(Re=ne[Pe.toString()]),Re||(Re=Fe()),this._serviceCollection.set(Pe,Re),Re},ye=be(u.IContextKeyService,()=>this._register(new i.ContextKeyService(de)));be(re.IAccessibilityService,()=>new Y.AccessibilityService(ye,de)),be(I.IListService,()=>new I.ListService(le));let Le=be(t.ICommandService,()=>new c.StandaloneCommandService(this._instantiationService)),Ie=be(E.IKeybindingService,()=>this._register(new c.StandaloneKeybindingService(ye,Le,se,fe,me,Z))),Te=be(te.ILayoutService,()=>new c.SimpleLayoutService(ie.codeEditorService.get(M.ICodeEditorService),Z));be(q.IQuickInputService,()=>new H.StandaloneQuickInputServiceImpl(X,ie.codeEditorService.get(M.ICodeEditorService)));let Ne=be(v.IContextViewService,()=>this._register(new m.ContextViewService(Te)));be(P.IClipboardService,()=>new x.BrowserClipboardService),be(v.IContextMenuService,()=>{const Pe=new h.ContextMenuService(se,fe,Ne,Ie,le);return Pe.configure({blockMouse:!1}),this._register(Pe)}),be(r.IMenuService,()=>new K.MenuService(Le)),be(k.IBulkEditService,()=>new c.SimpleBulkEditService(ie.modelService.get(f.IModelService)))}get(Z){let ne=this._serviceCollection.get(Z);if(!ne)throw new Error("Missing service "+Z);return ne}set(Z,ne){this._serviceCollection.set(Z,ne)}has(Z){return this._serviceCollection.has(Z)}}e.DynamicStandaloneServices=ce}),define(Q[660],J([0,1,28,547,212,37,160,106,53,18,74,73,75,544,165,531,187,659,268,113,26,46,16,68,9,36,32,57,64,69,58,84,8,350]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function R(X,de,fe){let se=new n.DynamicStandaloneServices(X,de),le=null;se.has(c.ITextModelService)||(le=new r.SimpleEditorModelResolverService(n.StaticServices.modelService.get()),se.set(c.ITextModelService,le)),se.has(L.IOpenerService)||se.set(L.IOpenerService,new k.OpenerService(se.get(C.ICodeEditorService),se.get(u.ICommandService)));let me=fe(se);return le&&le.setEditor(me),me}function F(X,de,fe){return R(X,fe||{},se=>new t.StandaloneEditor(X,de,se,se.get(g.IInstantiationService),se.get(C.ICodeEditorService),se.get(u.ICommandService),se.get(v.IContextKeyService),se.get(b.IKeybindingService),se.get(m.IContextViewService),se.get(i.IStandaloneThemeService),se.get(w.INotificationService),se.get(h.IConfigurationService),se.get(E.IAccessibilityService)))}e.create=F;function D(X){return n.StaticServices.codeEditorService.get().onCodeEditorAdd(de=>{X(de)})}e.onDidCreateEditor=D;function B(X,de,fe){return R(X,fe||{},se=>new t.StandaloneDiffEditor(X,de,se,se.get(g.IInstantiationService),se.get(v.IContextKeyService),se.get(b.IKeybindingService),se.get(m.IContextViewService),se.get(o.IEditorWorkerService),se.get(C.ICodeEditorService),se.get(i.IStandaloneThemeService),se.get(w.INotificationService),se.get(h.IConfigurationService),se.get(m.IContextMenuService),se.get(I.IEditorProgressService),se.get(T.IClipboardService)))}e.createDiffEditor=B;function A(X,de){return new M.DiffNavigator(X,de)}e.createDiffNavigator=A;function W(X,de,fe){return n.StaticServices.modelService.get().createModel(X,de,fe)}function V(X,de,fe){if(X=X||"",!de){let se=X.indexOf(`
`),le=X;return se!==-1&&(le=X.substring(0,se)),W(X,n.StaticServices.modeService.get().createByFilepathOrFirstLine(fe||null,le),fe)}return W(X,n.StaticServices.modeService.get().create(de),fe)}e.createModel=V;function K(X,de){n.StaticServices.modelService.get().setMode(X,n.StaticServices.modeService.get().create(de))}e.setModelLanguage=K;function j(X,de,fe){X&&n.StaticServices.markerService.get().changeOne(de,X.uri,fe)}e.setModelMarkers=j;function ee(X){return n.StaticServices.markerService.get().read(X)}e.getModelMarkers=ee;function re(X){return n.StaticServices.modelService.get().getModel(X)}e.getModel=re;function te(){return n.StaticServices.modelService.get().getModels()}e.getModels=te;function ae(X){return n.StaticServices.modelService.get().onModelAdded(X)}e.onDidCreateModel=ae;function Y(X){return n.StaticServices.modelService.get().onModelRemoved(X)}e.onWillDisposeModel=Y;function P(X){return n.StaticServices.modelService.get().onModelModeChanged(de=>{X({model:de.model,oldLanguage:de.oldModeId})})}e.onDidChangeModelLanguage=P;function x(X){return a.createWebWorker(n.StaticServices.modelService.get(),X)}e.createWebWorker=x;function z(X,de){const fe=n.StaticServices.standaloneThemeService.get();return fe.registerEditorContainer(X),l.Colorizer.colorizeElement(fe,n.StaticServices.modeService.get(),X,de)}e.colorizeElement=z;function U(X,de,fe){return n.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),l.Colorizer.colorize(n.StaticServices.modeService.get(),X,de,fe)}e.colorize=U;function H(X,de,fe=4){return n.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),l.Colorizer.colorizeModelLine(X,de,fe)}e.colorizeModelLine=H;function q(X){let de=f.TokenizationRegistry.get(X);return de||{getInitialState:()=>p.NULL_STATE,tokenize:(fe,se,le,me)=>p.nullTokenize(X,fe,le,me)}}function ie(X,de){n.StaticServices.modeService.get().triggerMode(de);let se=q(de),le=O.splitLines(X),me=[],be=se.getInitialState();for(let ye=0,Le=le.length;ye<Le;ye++){let Ie=le[ye],Te=se.tokenize(Ie,!0,be,0);me[ye]=Te.tokens,be=Te.endState}return me}e.tokenize=ie;function ce(X,de){n.StaticServices.standaloneThemeService.get().defineTheme(X,de)}e.defineTheme=ce;function ue(X){n.StaticServices.standaloneThemeService.get().setTheme(X)}e.setTheme=ue;function Z(){N.clearAllFontInfos()}e.remeasureFonts=Z;function ne(X,de){return u.CommandsRegistry.registerCommand({id:X,handler:de})}e.registerCommand=ne;function $(){return{create:F,onDidCreateEditor:D,createDiffEditor:B,createDiffNavigator:A,createModel:V,setModelLanguage:K,setModelMarkers:j,getModelMarkers:ee,getModels:te,getModel:re,onDidCreateModel:ae,onWillDisposeModel:Y,onDidChangeModelLanguage:P,createWebWorker:x,colorizeElement:z,colorize:U,colorizeModelLine:H,tokenize:ie,defineTheme:ce,setTheme:ue,remeasureFonts:Z,registerCommand:ne,AccessibilitySupport:s.AccessibilitySupport,ContentWidgetPositionPreference:s.ContentWidgetPositionPreference,CursorChangeReason:s.CursorChangeReason,DefaultEndOfLine:s.DefaultEndOfLine,EditorAutoIndentStrategy:s.EditorAutoIndentStrategy,EditorOption:s.EditorOption,EndOfLinePreference:s.EndOfLinePreference,EndOfLineSequence:s.EndOfLineSequence,MinimapPosition:s.MinimapPosition,MouseTargetType:s.MouseTargetType,OverlayWidgetPositionPreference:s.OverlayWidgetPositionPreference,OverviewRulerLane:s.OverviewRulerLane,RenderLineNumbersType:s.RenderLineNumbersType,RenderMinimap:s.RenderMinimap,ScrollbarVisibility:s.ScrollbarVisibility,ScrollType:s.ScrollType,TextEditorCursorBlinkingStyle:s.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:s.TextEditorCursorStyle,TrackedRangeStickiness:s.TrackedRangeStickiness,WrappingIndent:s.WrappingIndent,ConfigurationChangedEvent:y.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,EditorType:_.EditorType,EditorOptions:y.EditorOptions}}e.createMonacoEditorAPI=$}),define(Q[661],J([0,1,29,3,126,18,41,140,165,268,407,244]),function(G,e,C,k,M,y,S,_,d,f,p,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function c(x){_.ModesRegistry.registerLanguage(x)}e.register=c;function a(){let x=[];return x=x.concat(_.ModesRegistry.getLanguages()),x}e.getLanguages=a;function s(x){let z=f.StaticServices.modeService.get().getLanguageIdentifier(x);return z?z.id:0}e.getEncodedLanguageId=s;function l(x,z){let U=f.StaticServices.modeService.get().onDidCreateMode(H=>{H.getId()===x&&(U.dispose(),z())});return U}e.onLanguage=l;function r(x,z){let U=f.StaticServices.modeService.get().getLanguageIdentifier(x);if(!U)throw new Error(`Cannot set configuration for unknown language ${x}`);return S.LanguageConfigurationRegistry.register(U,z)}e.setLanguageConfiguration=r;class t{constructor(z,U){this._languageIdentifier=z,this._actual=U}getInitialState(){return this._actual.getInitialState()}tokenize(z,U,H,q){if(typeof this._actual.tokenize=="function")return n.adaptTokenize(this._languageIdentifier.language,this._actual,z,H,q);throw new Error("Not supported!")}tokenize2(z,U,H){let q=this._actual.tokenizeEncoded(z,H);return new M.TokenizationResult2(q.tokens,q.endState)}}e.EncodedTokenizationSupport2Adapter=t;class n{constructor(z,U,H){this._standaloneThemeService=z,this._languageIdentifier=U,this._actual=H}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(z,U,H){let q=[],ie=0;for(let ce=0,ue=z.length;ce<ue;ce++){const Z=z[ce];let ne=Z.startIndex;ce===0?ne=0:ne<ie&&(ne=ie),q[ce]=new M.Token(ne+H,Z.scopes,U),ie=ne}return q}static adaptTokenize(z,U,H,q,ie){let ce=U.tokenize(H,q),ue=n._toClassicTokens(ce.tokens,z,ie),Z;return ce.endState.equals(q)?Z=q:Z=ce.endState,new M.TokenizationResult(ue,Z)}tokenize(z,U,H,q){return n.adaptTokenize(this._languageIdentifier.language,this._actual,z,H,q)}_toBinaryTokens(z,U){const H=this._languageIdentifier.id,q=this._standaloneThemeService.getColorTheme().tokenTheme;let ie=[],ce=0,ue=0;for(let ne=0,$=z.length;ne<$;ne++){const X=z[ne],de=q.match(H,X.scopes);if(!(ce>0&&ie[ce-1]===de)){let fe=X.startIndex;ne===0?fe=0:fe<ue&&(fe=ue),ie[ce++]=fe+U,ie[ce++]=de,ue=fe}}let Z=new Uint32Array(ce);for(let ne=0;ne<ce;ne++)Z[ne]=ie[ne];return Z}tokenize2(z,U,H,q){let ie=this._actual.tokenize(z,H),ce=this._toBinaryTokens(ie.tokens,q),ue;return ie.endState.equals(H)?ue=H:ue=ie.endState,new M.TokenizationResult2(ce,ue)}}e.TokenizationSupport2Adapter=n;function i(x){return"tokenizeEncoded"in x}function u(x){return x&&typeof x.then=="function"}function h(x){if(x){const z=[null];for(let U=1,H=x.length;U<H;U++)z[U]=C.Color.fromHex(x[U]);f.StaticServices.standaloneThemeService.get().setColorMapOverride(z)}else f.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function v(x,z){let U=f.StaticServices.modeService.get().getLanguageIdentifier(x);if(!U)throw new Error(`Cannot set tokens provider for unknown language ${x}`);const H=q=>i(q)?new t(U,q):new n(f.StaticServices.standaloneThemeService.get(),U,q);return u(z)?y.TokenizationRegistry.registerPromise(x,z.then(q=>H(q))):y.TokenizationRegistry.register(x,H(z))}e.setTokensProvider=v;function m(x,z){const U=H=>o.createTokenizationSupport(f.StaticServices.modeService.get(),f.StaticServices.standaloneThemeService.get(),x,p.compile(x,H));return u(z)?y.TokenizationRegistry.registerPromise(x,z.then(H=>U(H))):y.TokenizationRegistry.register(x,U(z))}e.setMonarchTokensProvider=m;function g(x,z){return y.ReferenceProviderRegistry.register(x,z)}e.registerReferenceProvider=g;function b(x,z){return y.RenameProviderRegistry.register(x,z)}e.registerRenameProvider=b;function w(x,z){return y.SignatureHelpProviderRegistry.register(x,z)}e.registerSignatureHelpProvider=w;function L(x,z){return y.HoverProviderRegistry.register(x,{provideHover:(U,H,q)=>{let ie=U.getWordAtPosition(H);return Promise.resolve(z.provideHover(U,H,q)).then(ce=>{if(!!ce)return!ce.range&&ie&&(ce.range=new k.Range(H.lineNumber,ie.startColumn,H.lineNumber,ie.endColumn)),ce.range||(ce.range=new k.Range(H.lineNumber,H.column,H.lineNumber,H.column)),ce})}})}e.registerHoverProvider=L;function E(x,z){return y.DocumentSymbolProviderRegistry.register(x,z)}e.registerDocumentSymbolProvider=E;function N(x,z){return y.DocumentHighlightProviderRegistry.register(x,z)}e.registerDocumentHighlightProvider=N;function I(x,z){return y.LinkedEditingRangeProviderRegistry.register(x,z)}e.registerLinkedEditingRangeProvider=I;function T(x,z){return y.DefinitionProviderRegistry.register(x,z)}e.registerDefinitionProvider=T;function O(x,z){return y.ImplementationProviderRegistry.register(x,z)}e.registerImplementationProvider=O;function R(x,z){return y.TypeDefinitionProviderRegistry.register(x,z)}e.registerTypeDefinitionProvider=R;function F(x,z){return y.CodeLensProviderRegistry.register(x,z)}e.registerCodeLensProvider=F;function D(x,z){return y.CodeActionProviderRegistry.register(x,{provideCodeActions:(U,H,q,ie)=>{let ce=f.StaticServices.markerService.get().read({resource:U.uri}).filter(ue=>k.Range.areIntersectingOrTouching(ue,H));return z.provideCodeActions(U,H,{markers:ce,only:q.only},ie)}})}e.registerCodeActionProvider=D;function B(x,z){return y.DocumentFormattingEditProviderRegistry.register(x,z)}e.registerDocumentFormattingEditProvider=B;function A(x,z){return y.DocumentRangeFormattingEditProviderRegistry.register(x,z)}e.registerDocumentRangeFormattingEditProvider=A;function W(x,z){return y.OnTypeFormattingEditProviderRegistry.register(x,z)}e.registerOnTypeFormattingEditProvider=W;function V(x,z){return y.LinkProviderRegistry.register(x,z)}e.registerLinkProvider=V;function K(x,z){return y.CompletionProviderRegistry.register(x,z)}e.registerCompletionItemProvider=K;function j(x,z){return y.ColorProviderRegistry.register(x,z)}e.registerColorProvider=j;function ee(x,z){return y.FoldingRangeProviderRegistry.register(x,z)}e.registerFoldingRangeProvider=ee;function re(x,z){return y.DeclarationProviderRegistry.register(x,z)}e.registerDeclarationProvider=re;function te(x,z){return y.SelectionRangeRegistry.register(x,z)}e.registerSelectionRangeProvider=te;function ae(x,z){return y.DocumentSemanticTokensProviderRegistry.register(x,z)}e.registerDocumentSemanticTokensProvider=ae;function Y(x,z){return y.DocumentRangeSemanticTokensProviderRegistry.register(x,z)}e.registerDocumentRangeSemanticTokensProvider=Y;function P(){return{register:c,getLanguages:a,onLanguage:l,getEncodedLanguageId:s,setLanguageConfiguration:r,setColorMap:h,setTokensProvider:v,setMonarchTokensProvider:m,registerReferenceProvider:g,registerRenameProvider:b,registerCompletionItemProvider:K,registerSignatureHelpProvider:w,registerHoverProvider:L,registerDocumentSymbolProvider:E,registerDocumentHighlightProvider:N,registerLinkedEditingRangeProvider:I,registerDefinitionProvider:T,registerImplementationProvider:O,registerTypeDefinitionProvider:R,registerCodeLensProvider:F,registerCodeActionProvider:D,registerDocumentFormattingEditProvider:B,registerDocumentRangeFormattingEditProvider:A,registerOnTypeFormattingEditProvider:W,registerLinkProvider:V,registerColorProvider:j,registerFoldingRangeProvider:ee,registerDeclarationProvider:re,registerSelectionRangeProvider:te,registerDocumentSemanticTokensProvider:ae,registerDocumentRangeSemanticTokensProvider:Y,DocumentHighlightKind:d.DocumentHighlightKind,CompletionItemKind:d.CompletionItemKind,CompletionItemTag:d.CompletionItemTag,CompletionItemInsertTextRule:d.CompletionItemInsertTextRule,SymbolKind:d.SymbolKind,SymbolTag:d.SymbolTag,IndentAction:d.IndentAction,CompletionTriggerKind:d.CompletionTriggerKind,SignatureHelpTriggerKind:d.SignatureHelpTriggerKind,FoldingRangeKind:y.FoldingRangeKind}}e.createMonacoLanguagesAPI=P}),define(Q[662],J([0,1,37,218,660,661]),function(G,e,C,k,M,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,C.EditorOptions.wrappingIndent.defaultValue=0,C.EditorOptions.glyphMargin.defaultValue=!1,C.EditorOptions.autoIndent.defaultValue=3,C.EditorOptions.overviewRulerLanes.defaultValue=2;const S=k.createMonacoBaseAPI();S.editor=M.createMonacoEditorAPI(),S.languages=y.createMonacoLanguagesAPI(),e.CancellationTokenSource=S.CancellationTokenSource,e.Emitter=S.Emitter,e.KeyCode=S.KeyCode,e.KeyMod=S.KeyMod,e.Position=S.Position,e.Range=S.Range,e.Selection=S.Selection,e.SelectionDirection=S.SelectionDirection,e.MarkerSeverity=S.MarkerSeverity,e.MarkerTag=S.MarkerTag,e.Uri=S.Uri,e.Token=S.Token,e.editor=S.editor,e.languages=S.languages,self.monaco=S,typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(Q[663],J([0,1,23]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function k(y){return y instanceof C.URI}e.isSingleFolderWorkspaceIdentifier=k;function M(y){if(y.configuration)return{configPath:y.configuration,id:y.id};if(y.folders.length===1)return y.folders[0].uri}e.toWorkspaceIdentifier=M}),define(Q[664],J([0,1,494,65,40,130,41,8,663,155,286]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class o{constructor(u){this._delegates=u}resolve(u){for(const h of this._delegates){let v=h.resolve(u);if(v!==void 0)return v}}}e.CompositeSnippetVariableResolver=o;class c{constructor(u,h,v,m){this._model=u,this._selection=h,this._selectionIdx=v,this._overtypingCapturer=m}resolve(u){const{name:h}=u;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let v=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!v&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(v=g.value,m=g.multiline)}if(v&&m&&u.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),b=_.getLeadingWhitespace(g,0,this._selection.startColumn-1);let w=b;u.snippet.walk(E=>E===u?!1:(E instanceof y.Text&&(w=_.getLeadingWhitespace(_.splitLines(E.value).pop())),!0));const L=_.commonPrefixLength(w,b);v=v.replace(/(\r\n|\r|\n)(.*)/g,(E,N,I)=>`${N}${w.substr(L)}${I}`)}return v}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const v=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return v&&v.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=c;class a{constructor(u,h){this._labelService=u,this._model=h}resolve(u){const{name:h}=u;if(h==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const v=k.basename(this._model.uri.fsPath),m=v.lastIndexOf(".");return m<=0?v:v.slice(0,m)}else{if(h==="TM_DIRECTORY"&&this._labelService)return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(M.dirname(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri)}}}e.ModelBasedVariableResolver=a;class s{constructor(u,h,v,m){this._readClipboardText=u,this._selectionIdx=h,this._selectionCount=v,this._spread=m}resolve(u){if(u.name==="CLIPBOARD"){const h=this._readClipboardText();if(!!h){if(this._spread){const v=h.split(/\r\n|\n|\r/).filter(m=>!_.isFalsyOrWhitespace(m));if(v.length===this._selectionCount)return v[this._selectionIdx]}return h}}}}e.ClipboardBasedVariableResolver=s;class l{constructor(u,h){this._model=u,this._selection=h}resolve(u){const{name:h}=u,v=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=S.LanguageConfigurationRegistry.getComments(v);if(!!m){if(h==="LINE_COMMENT")return m.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=l;class r{resolve(u){const{name:h}=u;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return r.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return r.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[C.localize(0,null),C.localize(1,null),C.localize(2,null),C.localize(3,null),C.localize(4,null),C.localize(5,null),C.localize(6,null)],r.dayNamesShort=[C.localize(7,null),C.localize(8,null),C.localize(9,null),C.localize(10,null),C.localize(11,null),C.localize(12,null),C.localize(13,null)],r.monthNames=[C.localize(14,null),C.localize(15,null),C.localize(16,null),C.localize(17,null),C.localize(18,null),C.localize(19,null),C.localize(20,null),C.localize(21,null),C.localize(22,null),C.localize(23,null),C.localize(24,null),C.localize(25,null)],r.monthNamesShort=[C.localize(26,null),C.localize(27,null),C.localize(28,null),C.localize(29,null),C.localize(30,null),C.localize(31,null),C.localize(32,null),C.localize(33,null),C.localize(34,null),C.localize(35,null),C.localize(36,null),C.localize(37,null)];class t{constructor(u){this._workspaceService=u}resolve(u){if(!!this._workspaceService){const h=d.toWorkspaceIdentifier(this._workspaceService.getWorkspace());if(!!h){if(u.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(u.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}}_resolveWorkspaceName(u){if(d.isSingleFolderWorkspaceIdentifier(u))return k.basename(u.path);let h=k.basename(u.configPath.path);return h.endsWith(d.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-d.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(u){if(d.isSingleFolderWorkspaceIdentifier(u))return f.normalizeDriveLetter(u.fsPath);let h=k.basename(u.configPath.path),v=u.configPath.fsPath;return v.endsWith(h)&&(v=v.substr(0,v.length-h.length-1)),v?f.normalizeDriveLetter(v):"/"}}e.WorkspaceBasedVariableResolver=t;class n{resolve(u){const{name:h}=u;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return p.generateUuid()}}e.RandomBasedVariableResolver=n}),define(Q[665],J([0,1,19,2,8,61,3,20,31,186,9,130,664,14,22,137,343]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,a.registerThemingParticipant((i,u)=>{function h(v){const m=i.getColor(v);return m?m.toString():"transparent"}u.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(s.snippetTabstopHighlightBackground)}; outline-color: ${h(s.snippetTabstopHighlightBorder)}; }`),u.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(s.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(s.snippetFinalTabstopHighlightBorder)}; }`)});class r{constructor(u,h,v,m){this._editor=u,this._snippet=h,this._offset=v,this._snippetLineLeadingWhitespace=m,this._nestingLevel=1,this._placeholderGroups=C.groupBy(h.placeholders,o.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(!this._placeholderDecorations){this._placeholderDecorations=new Map;const u=this._editor.getModel();this._editor.changeDecorations(h=>{for(const v of this._snippet.placeholders){const m=this._snippet.offset(v),g=this._snippet.fullLen(v),b=S.Range.fromPositions(u.getPositionAt(this._offset+m),u.getPositionAt(this._offset+m+g)),w=v.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive,L=h.addDecoration(b,w);this._placeholderDecorations.set(v,L)}})}}move(u){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let m=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const b=this._placeholderDecorations.get(g),w=this._editor.getModel().getDecorationRange(b),L=this._editor.getModel().getValueInRange(w),E=g.transform.resolve(L).split(/\r\n|\r|\n/);for(let N=1;N<E.length;N++)E[N]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+E[N]);m.push(y.EditOperation.replace(w,E.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let h=!1;u===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):u===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const v=this._editor.getModel().changeDecorations(m=>{const g=new Set,b=[];for(const w of this._placeholderGroups[this._placeholderGroupsIdx]){const L=this._placeholderDecorations.get(w),E=this._editor.getModel().getDecorationRange(L);b.push(new _.Selection(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(w),m.changeDecorationOptions(L,w.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(w);for(const N of this._snippet.enclosingPlaceholders(w)){const I=this._placeholderDecorations.get(N);m.changeDecorationOptions(I,N.isFinalTabstop?r._decor.activeFinal:r._decor.active),g.add(N)}}for(const[w,L]of this._placeholderDecorations)g.has(w)||m.changeDecorationOptions(L,w.isFinalTabstop?r._decor.inactiveFinal:r._decor.inactive);return b});return h?this.move(u):v!=null?v:[]}_hasPlaceholderBeenCollapsed(u){let h=u;for(;h;){if(h instanceof o.Placeholder){const v=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(v).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const u=new Map;for(const h of this._placeholderGroups){let v;for(const m of h){if(m.isFinalTabstop)break;v||(v=[],u.set(m.index,v));const g=this._placeholderDecorations.get(m),b=this._editor.getModel().getDecorationRange(g);if(!b){u.delete(m.index);break}v.push(b)}}return u}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(u){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(v=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const g=u.shift();console.assert(!g._placeholderDecorations);const b=g._snippet.placeholderInfo.last.index;for(const L of g._snippet.placeholderInfo.all)L.isFinalTabstop?L.index=m.index+(b+1)/this._nestingLevel:L.index=m.index+L.index/this._nestingLevel;this._snippet.replace(m,g._snippet.children);const w=this._placeholderDecorations.get(m);v.removeDecoration(w),this._placeholderDecorations.delete(m);for(const L of g._snippet.placeholders){const E=g._snippet.offset(L),N=g._snippet.fullLen(L),I=S.Range.fromPositions(h.getPositionAt(g._offset+E),h.getPositionAt(g._offset+E+N)),T=v.addDecoration(I,r._decor.inactive);this._placeholderDecorations.set(L,T)}}this._placeholderGroups=C.groupBy(this._snippet.placeholders,o.Placeholder.compareByIndex)})}}e.OneSnippet=r,r._decor={active:d.ModelDecorationOptions.register({stickiness:0,className:"snippet-placeholder"}),inactive:d.ModelDecorationOptions.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:d.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:d.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"})};const t={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class n{constructor(u,h,v=t){this._templateMerges=[],this._snippets=[],this._editor=u,this._template=h,this._options=v}static adjustWhitespace(u,h,v,m,g){const b=u.getLineContent(h.lineNumber),w=M.getLeadingWhitespace(b,0,h.column-1);let L;return v.walk(E=>{if(!(E instanceof o.Text)||E.parent instanceof o.Choice)return!0;const N=E.value.split(/\r\n|\r|\n/);if(m){const T=v.offset(E);if(T===0)N[0]=u.normalizeIndentation(N[0]);else{L=L!=null?L:v.toString();let O=L.charCodeAt(T-1);(O===10||O===13)&&(N[0]=u.normalizeIndentation(w+N[0]))}for(let O=1;O<N.length;O++)N[O]=u.normalizeIndentation(w+N[O])}const I=N.join(u.getEOL());return I!==E.value&&(E.parent.replace(E,[new o.Text(I)]),L=void 0),!0}),w}static adjustSelection(u,h,v,m){if(v!==0||m!==0){const{positionLineNumber:g,positionColumn:b}=h,w=b-v,L=b+m,E=u.validateRange({startLineNumber:g,startColumn:w,endLineNumber:g,endColumn:L});h=_.Selection.createWithDirection(E.startLineNumber,E.startColumn,E.endLineNumber,E.endColumn,h.getDirection())}return h}static createEditsAndSnippets(u,h,v,m,g,b,w,L){const E=[],N=[];if(!u.hasModel())return{edits:E,snippets:N};const I=u.getModel(),T=u.invokeWithinContext(V=>V.get(f.IWorkspaceContextService,p.optional)),O=u.invokeWithinContext(V=>new c.ModelBasedVariableResolver(V.get(l.ILabelService,p.optional),I)),R=()=>w;let F=0,D=I.getValueInRange(n.adjustSelection(I,u.getSelection(),v,0)),B=I.getValueInRange(n.adjustSelection(I,u.getSelection(),0,m)),A=I.getLineFirstNonWhitespaceColumn(u.getSelection().positionLineNumber);const W=u.getSelections().map((V,K)=>({selection:V,idx:K})).sort((V,K)=>S.Range.compareRangesUsingStarts(V.selection,K.selection));for(const{selection:V,idx:K}of W){let j=n.adjustSelection(I,V,v,0),ee=n.adjustSelection(I,V,0,m);D!==I.getValueInRange(j)&&(j=V),B!==I.getValueInRange(ee)&&(ee=V);const re=V.setStartPosition(j.startLineNumber,j.startColumn).setEndPosition(ee.endLineNumber,ee.endColumn),te=new o.SnippetParser().parse(h,!0,g),ae=re.getStartPosition(),Y=n.adjustWhitespace(I,ae,te,b||K>0&&A!==I.getLineFirstNonWhitespaceColumn(V.positionLineNumber),!0);te.resolveVariables(new c.CompositeSnippetVariableResolver([O,new c.ClipboardBasedVariableResolver(R,K,W.length,u.getOption(65)==="spread"),new c.SelectionBasedVariableResolver(I,V,K,L),new c.CommentBasedVariableResolver(I,V),new c.TimeBasedVariableResolver,new c.WorkspaceBasedVariableResolver(T),new c.RandomBasedVariableResolver]));const P=I.getOffsetAt(ae)+F;F+=te.toString().length-I.getValueLengthInRange(re),E[K]=y.EditOperation.replace(re,te.toString()),E[K].identifier={major:K,minor:0},N[K]=new r(u,te,P,Y)}return{edits:E,snippets:N}}dispose(){k.dispose(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!!this._editor.hasModel()){const{edits:u,snippets:h}=n.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",u,v=>this._snippets[0].hasPlaceholder?this._move(!0):v.filter(m=>!!m.identifier).map(m=>_.Selection.fromPositions(m.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}}merge(u,h=t){if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,u]);const{edits:v,snippets:m}=n.createEditsAndSnippets(this._editor,u,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",v,g=>{for(const b of this._snippets)b.merge(m);return console.assert(m.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):g.filter(b=>!!b.identifier).map(b=>_.Selection.fromPositions(b.range.getEndPosition()))})}}next(){const u=this._move(!0);this._editor.setSelections(u),this._editor.revealPositionInCenterIfOutsideViewport(u[0].getPosition())}prev(){const u=this._move(!1);this._editor.setSelections(u),this._editor.revealPositionInCenterIfOutsideViewport(u[0].getPosition())}_move(u){const h=[];for(const v of this._snippets){const m=v.move(u);h.push(...m)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const u=this._editor.getSelections();if(u.length<this._snippets.length)return!1;let h=new Map;for(const v of this._snippets){const m=v.computePossibleSelections();if(h.size===0)for(const[g,b]of m){b.sort(S.Range.compareRangesUsingStarts);for(const w of u)if(b[0].containsRange(w)){h.set(g,[]);break}}if(h.size===0)return!1;h.forEach((g,b)=>{g.push(...m.get(b))})}u.sort(S.Range.compareRangesUsingStarts);for(let[v,m]of h){if(m.length!==u.length){h.delete(v);continue}m.sort(S.Range.compareRangesUsingStarts);for(let g=0;g<m.length;g++)if(!m[g].containsRange(u[g])){h.delete(v);continue}}return h.size>0}}e.SnippetSession=n}),define(Q[188],J([0,1,2,13,3,20,24,114,16,76,665]),function(G,e,C,k,M,y,S,_,d,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=class st{constructor(l,r,t){this._editor=l,this._logService=r,this._snippetListener=new C.DisposableStore,this._modelVersionId=-1,this._inSnippet=st.InSnippetMode.bindTo(t),this._hasNextTabstop=st.HasNextTabstop.bindTo(t),this._hasPrevTabstop=st.HasPrevTabstop.bindTo(t)}static get(l){return l.getContribution(st.ID)}dispose(){var l;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(l=this._session)===null||l===void 0||l.dispose(),this._snippetListener.dispose()}insert(l,r){try{this._doInsert(l,typeof r=="undefined"?o:Object.assign(Object.assign({},o),r))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",l),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(l,r){!this._editor.hasModel()||(this._snippetListener.clear(),r.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(l,r):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new p.SnippetSession(this._editor,l,r),this._session.insert()),r.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(t=>t.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:l}=this._session;if(!l){this._currentChoice=void 0;return}if(this._currentChoice!==l){this._currentChoice=l,this._editor.setSelections(this._editor.getSelections().map(t=>y.Selection.fromPositions(t.getStartPosition())));const[r]=l.options;_.showSimpleSuggestions(this._editor,l.options.map((t,n)=>({kind:13,label:t.value,insertText:t.value,sortText:"a".repeat(n+1),range:M.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,r.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(l=!1){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(r=this._session)===null||r===void 0||r.dispose(),this._session=void 0,this._modelVersionId=-1,l&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};c.ID="snippetController2",c.InSnippetMode=new d.RawContextKey("inSnippetMode",!1),c.HasNextTabstop=new d.RawContextKey("hasNextTabstop",!1),c.HasPrevTabstop=new d.RawContextKey("hasPrevTabstop",!1),c=Me([pe(1,f.ILogService),pe(2,d.IContextKeyService)],c),e.SnippetController2=c,k.registerEditorContribution(c.ID,c);const a=k.EditorCommand.bindToContribution(c.get);k.registerEditorCommand(new a({id:"jumpToNextSnippetPlaceholder",precondition:d.ContextKeyExpr.and(c.InSnippetMode,c.HasNextTabstop),handler:s=>s.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),k.registerEditorCommand(new a({id:"jumpToPrevSnippetPlaceholder",precondition:d.ContextKeyExpr.and(c.InSnippetMode,c.HasPrevTabstop),handler:s=>s.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),k.registerEditorCommand(new a({id:"leaveSnippet",precondition:c.InSnippetMode,handler:s=>s.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),k.registerEditorCommand(new a({id:"acceptSnippet",precondition:c.InSnippetMode,handler:s=>s.finish()}))}),define(Q[666],J([0,1,15,11,4,2,20,18,403,114,188,25,73,406,8,84,87,76]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class n{constructor(h,v,m,g){this.leadingLineContent=h.getLineContent(v.lineNumber).substr(0,v.column-1),this.leadingWord=h.getWordUntilPosition(v),this.lineNumber=v.lineNumber,this.column=v.column,this.auto=m,this.shy=g}static shouldAutoTrigger(h){if(!h.hasModel())return!1;const v=h.getModel(),m=h.getPosition();v.tokenizeIfCheap(m.lineNumber);const g=v.getWordAtPosition(m);return!(!g||g.endColumn!==m.column||!isNaN(Number(g.word)))}}e.LineContext=n;let i=class Jt{constructor(h,v,m,g,b){this._editor=h,this._editorWorkerService=v,this._clipboardService=m,this._telemetryService=g,this._logService=b,this._toDispose=new y.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new C.TimeoutTimer,this._state=0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new M.Emitter,this._onDidTrigger=new M.Emitter,this._onDidSuggest=new M.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(_.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(L=>{this._onCursorChange(L)}));let w=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{w=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{w=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{w||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){y.dispose(this._triggerCharacterListener),y.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(74),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),!(this._editor.getOption(75)||!this._editor.hasModel()||!this._editor.getOption(104))){const h=new Map;for(const m of _.CompletionProviderRegistry.all(this._editor.getModel()))for(const g of m.triggerCharacters||[]){let b=h.get(g);b||(b=new Set,b.add(f.getSnippetSuggestSupport()),h.set(g,b)),b.add(m)}const v=m=>{if(!m){const w=this._editor.getPosition();m=this._editor.getModel().getLineContent(w.lineNumber).substr(0,w.column-1)}let g="";s.isLowSurrogate(m.charCodeAt(m.length-1))?s.isHighSurrogate(m.charCodeAt(m.length-2))&&(g=m.substr(m.length-2)):g=m.charAt(m.length-1);const b=h.get(g);if(b){const w=this._completionModel?{items:this._completionModel.adopt(b),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:g},Boolean(this._completionModel),b,w)}};this._triggerCharacterListener.add(this._editor.onDidType(v)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(v))}}get state(){return this._state}cancel(h=!1){var v;this._state!==0&&(this._triggerQuickSuggest.cancel(),(v=this._requestToken)===null||v===void 0||v.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:h}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!_.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(h){if(!!this._editor.hasModel()){const v=this._editor.getModel(),m=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!h.selection.isEmpty()||h.reason!==0&&h.reason!==3||h.source!=="keyboard"&&h.source!=="deleteLeft"){this.cancel();return}if(!!_.CompletionProviderRegistry.has(v))if(this._state===0&&h.reason===0){if(this._editor.getOption(73)===!1||!m.containsRange(this._currentSelection)&&!m.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(101).snippetsPreventQuickSuggestions&&p.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state===0&&!!n.shouldAutoTrigger(this._editor)&&!!this._editor.hasModel()){const g=this._editor.getModel(),b=this._editor.getPosition(),w=this._editor.getOption(73);if(w!==!1){if(w!==!0){g.tokenizeIfCheap(b.lineNumber);const L=g.getLineTokens(b.lineNumber),E=L.getStandardTokenType(L.findTokenIndexAtOffset(Math.max(b.column-1-1,0)));if(!(w.other&&E===0||w.comments&&E===1||w.strings&&E===2))return}this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}else this._state!==0&&h.reason===3&&this._refilterCompletionItems()}}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state!==0&&!!this._editor.hasModel()){const h=this._editor.getModel(),v=this._editor.getPosition(),m=new n(h,v,this._state===2,!1);this._onNewContext(m)}})}trigger(h,v=!1,m,g){var b;if(!!this._editor.hasModel()){const w=this._editor.getModel(),L=h.auto,E=new n(w,this._editor.getPosition(),L,h.shy);this.cancel(v),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:h.shy,position:this._editor.getPosition()}),this._context=E;let N={triggerKind:(b=h.triggerKind)!==null&&b!==void 0?b:0};h.triggerCharacter&&(N={triggerKind:1,triggerCharacter:h.triggerCharacter}),this._requestToken=new o.CancellationTokenSource;const I=this._editor.getOption(96);let T=1;switch(I){case"top":T=0;break;case"bottom":T=2;break}const O=Jt._createItemKindFilter(this._editor),R=a.WordDistance.create(this._editorWorkerService,this._editor),F=f.provideSuggestionItems(w,this._editor.getPosition(),new f.CompletionOptions(T,O,m),N,this._requestToken.token);Promise.all([F,R]).then(([D,B])=>De(this,void 0,void 0,function*(){var A;if((A=this._requestToken)===null||A===void 0||A.dispose(),this._state!==0&&!!this._editor.hasModel()){let W=g==null?void 0:g.clipboardText;!W&&D.needsClipboard&&(W=yield this._clipboardService.readText());const V=this._editor.getModel();let K=D.items;if(g){const ee=f.getSuggestionComparator(T);K=K.concat(g.items).sort(ee)}const j=new n(V,this._editor.getPosition(),L,h.shy);this._completionModel=new d.CompletionModel(K,this._context.column,{leadingLineContent:j.leadingLineContent,characterCountDelta:j.column-this._context.column},B,this._editor.getOption(101),this._editor.getOption(96),W),this._completionDisposables.add(D.disposable),this._onNewContext(j),this._reportDurationsTelemetry(D.durations)}})).catch(k.onUnexpectedError)}}_reportDurationsTelemetry(h){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(h)}),this._logService.debug("suggest.durations.json",h)})}static _createItemKindFilter(h){const v=new Set;h.getOption(96)==="none"&&v.add(27);const g=h.getOption(101);return g.showMethods||v.add(0),g.showFunctions||v.add(1),g.showConstructors||v.add(2),g.showFields||v.add(3),g.showVariables||v.add(4),g.showClasses||v.add(5),g.showStructs||v.add(6),g.showInterfaces||v.add(7),g.showModules||v.add(8),g.showProperties||v.add(9),g.showEvents||v.add(10),g.showOperators||v.add(11),g.showUnits||v.add(12),g.showValues||v.add(13),g.showConstants||v.add(14),g.showEnums||v.add(15),g.showEnumMembers||v.add(16),g.showKeywords||v.add(17),g.showWords||v.add(18),g.showColors||v.add(19),g.showFiles||v.add(20),g.showReferences||v.add(21),g.showColors||v.add(22),g.showFolders||v.add(23),g.showTypeParameters||v.add(24),g.showSnippets||v.add(27),g.showUsers||v.add(25),g.showIssues||v.add(26),v}_onNewContext(h){if(!!this._context){if(h.lineNumber!==this._context.lineNumber){this.cancel();return}if(s.getLeadingWhitespace(h.leadingLineContent)!==s.getLeadingWhitespace(this._context.leadingLineContent)){this.cancel();return}if(h.column<this._context.column){h.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(h.leadingWord.word.length!==0&&h.leadingWord.startColumn>this._context.leadingWord.startColumn){const v=new Set(_.CompletionProviderRegistry.all(this._editor.getModel()));for(let g of this._completionModel.allProvider)v.delete(g);const m=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,v,{items:m,clipboardText:this._completionModel.clipboardText});return}if(h.column>this._context.column&&this._completionModel.incomplete.size>0&&h.leadingWord.word.length!==0){const{incomplete:v}=this._completionModel,m=this._completionModel.adopt(v);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,v,{items:m,clipboardText:this._completionModel.clipboardText})}else{let v=this._completionModel.lineContext,m=!1;if(this._completionModel.lineContext={leadingLineContent:h.leadingLineContent,characterCountDelta:h.column-this._context.column},this._completionModel.items.length===0){if(n.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<h.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=v,m=this._completionModel.items.length>0,m&&h.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:m})}}}}};i=Me([pe(1,c.IEditorWorkerService),pe(2,l.IClipboardService),pe(3,r.ITelemetryService),pe(4,t.ILogService)],i),e.SuggestModel=i}),define(Q[667],J([0,1,47,19,11,38,2,70,13,61,3,24,188,130,564,495,26,16,9,86,114,535,666,652,536,4,15,21,404,405,12,17,35,25,76,80]),function(G,e,C,k,M,y,S,_,d,f,p,o,c,a,s,l,r,t,n,i,u,h,v,m,g,b,w,L,E,N,I,T,O,R,F,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let B=!1;class A{constructor(re,te){if(this._model=re,this._position=te,re.getLineMaxColumn(te.lineNumber)!==te.column){const Y=re.getOffsetAt(te),P=re.getPositionAt(Y+1);this._marker=re.deltaDecorations([],[{range:p.Range.fromPositions(te,P),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(re){if(this._model.isDisposed()||this._position.lineNumber!==re.lineNumber)return 0;if(this._marker){const te=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(te.getStartPosition())-this._model.getOffsetAt(re)}else return this._model.getLineMaxColumn(re.lineNumber)-re.column}}let W=class ei{constructor(re,te,ae,Y,P,x){this._memoryService=te,this._commandService=ae,this._contextKeyService=Y,this._instantiationService=P,this._logService=x,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=re,this.model=P.createInstance(v.SuggestModel,this.editor);const z=u.Context.InsertMode.bindTo(Y);z.set(re.getOption(101).insertMode),this.model.onDidTrigger(()=>z.set(re.getOption(101).insertMode)),this.widget=this._toDispose.add(new w.IdleValue(()=>{const q=this._instantiationService.createInstance(m.SuggestWidget,this.editor);this._toDispose.add(q),this._toDispose.add(q.onDidSelect(ne=>this._insertSuggestion(ne,0),this));const ie=new E.CommitCharacterController(this.editor,q,ne=>this._insertSuggestion(ne,2));this._toDispose.add(ie),this._toDispose.add(this.model.onDidSuggest(ne=>{ne.completionModel.items.length===0&&ie.reset()}));const ce=u.Context.MakesTextEdit.bindTo(this._contextKeyService),ue=u.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Z=u.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(S.toDisposable(()=>{ce.reset(),ue.reset(),Z.reset()})),this._toDispose.add(q.onDidFocus(({item:ne})=>{const $=this.editor.getPosition(),X=ne.editStart.column,de=$.column;let fe=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ne.completion.command&&!ne.completion.additionalTextEdits&&!(ne.completion.insertTextRules&4)&&de-X===ne.completion.insertText.length&&(fe=this.editor.getModel().getValueInRange({startLineNumber:$.lineNumber,startColumn:X,endLineNumber:$.lineNumber,endColumn:de})!==ne.completion.insertText),ce.set(fe),ue.set(!I.Position.equals(ne.editInsertEnd,ne.editReplaceEnd)),Z.set(Boolean(ne.provider.resolveCompletionItem)||Boolean(ne.completion.documentation)||ne.completion.detail!==ne.completion.label)})),this._toDispose.add(q.onDetailsKeyDown(ne=>{if(ne.toKeybinding().equals(new y.SimpleKeybinding(!0,!1,!1,!1,33))||T.isMacintosh&&ne.toKeybinding().equals(new y.SimpleKeybinding(!1,!1,!1,!0,33))){ne.stopPropagation();return}ne.toKeybinding().isModifierKey()||this.editor.focus()})),q})),this._overtypingCapturer=this._toDispose.add(new w.IdleValue(()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new w.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(P.createInstance(g.WordContextKey,re)),this._toDispose.add(this.model.onDidTrigger(q=>{this.widget.value.showTriggered(q.auto,q.shy?250:50),this._lineSuffix.value=new A(this.editor.getModel(),q.position)})),this._toDispose.add(this.model.onDidSuggest(q=>{if(!q.shy){let ie=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.completionModel.items);this.widget.value.showSuggestions(q.completionModel,ie,q.isFrozen,q.auto)}})),this._toDispose.add(this.model.onDidCancel(q=>{q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{B||(this.model.cancel(),this.model.clear())}));let U=u.Context.AcceptSuggestionsOnEnter.bindTo(Y),H=()=>{const q=this.editor.getOption(1);U.set(q==="on"||q==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>H())),H()}static get(re){return re.getContribution(ei.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(re,te){if(!re||!re.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){const ae=this.editor.getModel(),Y=ae.getAlternativeVersionId(),{item:P}=re,x=[],z=new R.CancellationTokenSource;te&1||this.editor.pushUndoStop();const U=this.getOverwriteInfo(P,Boolean(te&8));if(this._memoryService.memorize(ae,this.editor.getPosition(),P),Array.isArray(P.completion.additionalTextEdits)){const q=_.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",P.completion.additionalTextEdits.map(ie=>f.EditOperation.replace(p.Range.lift(ie.range),ie.text))),q.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!P.isResolved){const q=new D.StopWatch(!0);let ie;const ce=ae.onDidChangeContent($=>{if($.isFlush){z.cancel(),ce.dispose();return}for(let X of $.changes){const de=p.Range.getEndPosition(X.range);(!ie||I.Position.isBefore(de,ie))&&(ie=de)}});let ue=te;te|=2;let Z=!1,ne=this.editor.onWillType(()=>{ne.dispose(),Z=!0,ue&2||this.editor.pushUndoStop()});x.push(P.resolve(z.token).then(()=>{if(!P.completion.additionalTextEdits||z.token.isCancellationRequested||ie&&P.completion.additionalTextEdits.some(X=>I.Position.isBefore(ie,p.Range.getStartPosition(X.range))))return!1;Z&&this.editor.pushUndoStop();const $=_.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",P.completion.additionalTextEdits.map(X=>f.EditOperation.replace(p.Range.lift(X.range),X.text))),$.restoreRelativeVerticalPositionOfCursor(this.editor),(Z||!(ue&2))&&this.editor.pushUndoStop(),!0}).then($=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",q.elapsed(),$),ce.dispose(),ne.dispose()}))}let{insertText:H}=P.completion;P.completion.insertTextRules&4||(H=a.SnippetParser.escape(H)),c.SnippetController2.get(this.editor).insert(H,{overwriteBefore:U.overwriteBefore,overwriteAfter:U.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(P.completion.insertTextRules&1),clipboardText:re.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),te&2||this.editor.pushUndoStop(),P.completion.command?P.completion.command.id===V.id?this.model.trigger({auto:!0,shy:!1},!0):(x.push(this._commandService.executeCommand(P.completion.command.id,...P.completion.command.arguments?[...P.completion.command.arguments]:[]).catch(M.onUnexpectedError)),this.model.cancel()):this.model.cancel(),te&4&&this._alternatives.value.set(re,q=>{for(z.cancel();ae.canUndo();){Y!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(q,1|2|(te&8?8:0));break}}),this._alertCompletionItem(P),Promise.all(x).finally(()=>{this.model.clear(),z.dispose()})}}getOverwriteInfo(re,te){L.assertType(this.editor.hasModel());let ae=this.editor.getOption(101).insertMode==="replace";te&&(ae=!ae);const Y=re.position.column-re.editStart.column,P=(ae?re.editReplaceEnd.column:re.editInsertEnd.column)-re.position.column,x=this.editor.getPosition().column-re.position.column,z=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+x,overwriteAfter:P+z}}_alertCompletionItem({completion:re}){const te=typeof re.label=="string"?re.label:re.label.name;if(k.isNonEmptyArray(re.additionalTextEdits)){let ae=l.localize(0,null,te,re.additionalTextEdits.length);C.alert(ae)}}triggerSuggest(re){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,re),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(re){if(!!this.editor.hasModel()){const te=this.editor.getPosition(),ae=()=>{te.equals(this.editor.getPosition())&&this._commandService.executeCommand(re.fallback)},Y=P=>{if(P.completion.insertTextRules&4||P.completion.additionalTextEdits)return!0;const x=this.editor.getPosition(),z=P.editStart.column,U=x.column;return U-z!==P.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:x.lineNumber,startColumn:z,endLineNumber:x.lineNumber,endColumn:U})!==P.completion.insertText};b.Event.once(this.model.onDidTrigger)(P=>{let x=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{S.dispose(x),ae()},void 0,x),this.model.onDidSuggest(({completionModel:z})=>{if(S.dispose(x),z.items.length===0){ae();return}const U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),z.items),H=z.items[U];if(!Y(H)){ae();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:H,model:z},4|1|2)},void 0,x)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(te.lineNumber,0),this.editor.focus()}}acceptSelectedSuggestion(re,te){const ae=this.widget.value.getFocusedItem();let Y=0;re&&(Y|=4),te&&(Y|=8),this._insertSuggestion(ae,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};W.ID="editor.contrib.suggestController",W=Me([pe(1,s.ISuggestMemoryService),pe(2,r.ICommandService),pe(3,t.IContextKeyService),pe(4,n.IInstantiationService),pe(5,F.ILogService)],W),e.SuggestController=W;class V extends d.EditorAction{constructor(){super({id:V.id,label:l.localize(1,null),alias:"Trigger Suggest",precondition:t.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(re,te){const ae=W.get(te);!ae||ae.triggerSuggest()}}e.TriggerSuggestAction=V,V.id="editor.action.triggerSuggest",d.registerEditorContribution(W.ID,W),d.registerEditorAction(V);const K=100+90,j=d.EditorCommand.bindToContribution(W.get);d.registerEditorCommand(new j({id:"acceptSelectedSuggestion",precondition:u.Context.Visible,handler(ee){ee.acceptSelectedSuggestion(!0,!1)}})),i.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:t.ContextKeyExpr.and(u.Context.Visible,o.EditorContextKeys.textInputFocus),primary:2,weight:K}),i.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:t.ContextKeyExpr.and(u.Context.Visible,o.EditorContextKeys.textInputFocus,u.Context.AcceptSuggestionsOnEnter,u.Context.MakesTextEdit),primary:3,weight:K}),O.MenuRegistry.appendMenuItem(u.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:l.localize(2,null)},group:"left",order:1,when:u.Context.HasInsertAndReplaceRange.toNegated()}),O.MenuRegistry.appendMenuItem(u.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:l.localize(3,null)},group:"left",order:1,when:t.ContextKeyExpr.and(u.Context.HasInsertAndReplaceRange,u.Context.InsertMode.isEqualTo("insert"))}),O.MenuRegistry.appendMenuItem(u.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:l.localize(4,null)},group:"left",order:1,when:t.ContextKeyExpr.and(u.Context.HasInsertAndReplaceRange,u.Context.InsertMode.isEqualTo("replace"))}),d.registerEditorCommand(new j({id:"acceptAlternativeSelectedSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,o.EditorContextKeys.textInputFocus),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(ee){ee.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:u.suggestWidgetStatusbarMenu,group:"left",order:2,when:t.ContextKeyExpr.and(u.Context.HasInsertAndReplaceRange,u.Context.InsertMode.isEqualTo("insert")),title:l.localize(5,null)},{menuId:u.suggestWidgetStatusbarMenu,group:"left",order:2,when:t.ContextKeyExpr.and(u.Context.HasInsertAndReplaceRange,u.Context.InsertMode.isEqualTo("replace")),title:l.localize(6,null)}]})),r.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),d.registerEditorCommand(new j({id:"hideSuggestWidget",precondition:u.Context.Visible,handler:ee=>ee.cancelSuggestWidget(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),d.registerEditorCommand(new j({id:"selectNextSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectNextSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),d.registerEditorCommand(new j({id:"selectNextPageSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectNextPageSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),d.registerEditorCommand(new j({id:"selectLastSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectLastSuggestion()})),d.registerEditorCommand(new j({id:"selectPrevSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectPrevSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),d.registerEditorCommand(new j({id:"selectPrevPageSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectPrevPageSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),d.registerEditorCommand(new j({id:"selectFirstSuggestion",precondition:t.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSuggestions),handler:ee=>ee.selectFirstSuggestion()})),d.registerEditorCommand(new j({id:"toggleSuggestionDetails",precondition:u.Context.Visible,handler:ee=>ee.toggleSuggestionDetails(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:u.suggestWidgetStatusbarMenu,group:"right",order:1,when:t.ContextKeyExpr.and(u.Context.DetailsVisible,u.Context.CanResolve),title:l.localize(7,null)},{menuId:u.suggestWidgetStatusbarMenu,group:"right",order:1,when:t.ContextKeyExpr.and(u.Context.DetailsVisible.toNegated(),u.Context.CanResolve),title:l.localize(8,null)}]})),d.registerEditorCommand(new j({id:"toggleExplainMode",precondition:u.Context.Visible,handler:ee=>ee.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),d.registerEditorCommand(new j({id:"toggleSuggestionFocus",precondition:u.Context.Visible,handler:ee=>ee.toggleSuggestionFocus(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),d.registerEditorCommand(new j({id:"insertBestCompletion",precondition:t.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,t.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,u.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(ee,re)=>{ee.triggerSuggestAndAcceptBest(L.isObject(re)?Object.assign({fallback:"tab"},re):{fallback:"tab"})},kbOpts:{weight:K,primary:2}})),d.registerEditorCommand(new j({id:"insertNextSuggestion",precondition:t.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,t.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,u.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptNextSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:2}})),d.registerEditorCommand(new j({id:"insertPrevSuggestion",precondition:t.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,t.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,u.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptPrevSuggestion(),kbOpts:{weight:K,kbExpr:o.EditorContextKeys.textInputFocus,primary:1024|2}})),d.registerEditorAction(class extends d.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:l.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ee,re){W.get(re).resetWidgetSize()}})}),define(Q[668],J([0,1,183,142,260,212,567,611,568,569,570,624,614,655,573,574,575,576,261,645,577,579,532,265,266,262,267,583,620,584,621,622,648,650,628,585,188,667,586,253,587,656,629,254,588,63,157]),function(G,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var gt=this&&this.__createBinding||(Object.create?function(G,e,C,k){k===void 0&&(k=C),Object.defineProperty(G,k,{enumerable:!0,get:function(){return e[C]}})}:function(G,e,C,k){k===void 0&&(k=C),G[k]=e[C]}),ft=this&&this.__exportStar||function(G,e){for(var C in G)C!=="default"&&!Object.prototype.hasOwnProperty.call(e,C)&&gt(e,G,C)};define(Q[671],J([0,1,662,668,630,589,631,561,632,633,593,657,590]),function(G,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ft(C,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-typescript version: 4.1.1(5a17ea5a5db63dc63a3c8741db1ce4ed71cb69ee)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-typescript/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.1.3"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.1.1(23bd524cc383945cb039c5b552c0b783c450f6d6)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.2.1(22746ae61a9191a3eedfd89ae49aeef32f922adf)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.1.1(bdd3de5f00a5a44a97984a14ab3e8ffb128c8e5a)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.razorDefaults=t.handlebarDefaults=t.htmlDefaults=void 0;var o=function(){function e(e,t,o){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},r={format:a,suggest:{html5:!0,angular1:!0,ionic:!0}},i={format:a,suggest:{html5:!0}},u={format:a,suggest:{html5:!0,razor:!0}};function s(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===l,documentFormattingEdits:e===l,documentRangeFormattingEdits:e===l}}var l="html",f="handlebars",g="razor";function c(){return new Promise((function(t,n){e(["./htmlMode"],t,n)}))}t.htmlDefaults=new o(l,r,s(l)),t.handlebarDefaults=new o(f,i,s(f)),t.razorDefaults=new o(g,u,s(g)),n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults},n.languages.onLanguage(l,(function(){c().then((function(e){return e.setupMode(t.htmlDefaults)}))})),n.languages.onLanguage(f,(function(){c().then((function(e){return e.setupMode(t.handlebarDefaults)}))})),n.languages.onLanguage(g,(function(){c().then((function(e){return e.setupMode(t.razorDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-languages version: 2.1.1(425b0e3c9ea2067410b8f90e0f30de383188c418)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-languages/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},s={},r=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return s[i]||(s[i]=new e(i)),s[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return r.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var s=r.getOrCreate(i);t.languages.setMonarchTokensProvider(i,s.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){s.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map