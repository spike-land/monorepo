/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.22.0(7c90e1f5ba949d201d333306d60a980380760326)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/master/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ee=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/nls","vs/nls!vs/editor/editor.main","vs/base/common/event","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/common/core/position","vs/editor/browser/editorExtensions","vs/base/common/async","vs/base/common/platform","vs/editor/common/modes","vs/platform/contextkey/common/contextkey","vs/base/common/arrays","vs/base/common/types","vs/editor/common/core/selection","vs/platform/theme/common/colorRegistry","vs/base/common/cancellation","vs/base/common/uri","vs/editor/common/editorContextKeys","vs/platform/commands/common/commands","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/base/browser/fastDomNode","vs/editor/common/model/textModel","vs/platform/notification/common/notification","vs/platform/registry/common/platform","vs/base/browser/browser","vs/platform/actions/common/actions","vs/editor/common/services/modelService","vs/platform/keybinding/common/keybinding","vs/editor/common/config/editorOptions","vs/base/common/keyCodes","vs/base/common/objects","vs/editor/common/modes/languageConfigurationRegistry","vs/editor/common/controller/cursorCommon","vs/base/common/network","vs/base/common/resources","vs/editor/browser/view/viewPart","vs/platform/configuration/common/configuration","vs/base/browser/ui/aria/aria","vs/base/common/actions","vs/editor/common/view/editorColorRegistry","vs/base/browser/mouseEvent","vs/base/common/map","vs/base/browser/ui/widget","vs/editor/common/model","vs/base/common/iterator","vs/base/browser/event","vs/base/browser/keyboardEvent","vs/editor/common/services/modeService","vs/platform/opener/common/opener","vs/platform/progress/common/progress","vs/base/browser/touch","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/core/editOperation","vs/editor/common/viewModel/viewModel","vs/editor/common/standaloneStrings","vs/platform/accessibility/common/accessibility","vs/base/common/filters","vs/editor/common/services/resolverService","vs/platform/contextview/browser/contextView","vs/editor/browser/config/configuration","vs/editor/browser/core/editorState","vs/base/common/linkedList","vs/base/common/path","vs/base/common/htmlContent","vs/platform/instantiation/common/extensions","vs/editor/common/services/editorWorkerService","vs/editor/common/modes/nullMode","vs/platform/log/common/log","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/platform/theme/common/iconRegistry","vs/base/common/stopwatch","vs/base/common/severity","vs/base/browser/ui/actionbar/actionbar","vs/platform/clipboard/common/clipboardService","vs/platform/markers/common/markers","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/common/hash","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/core/stringBuilder","vs/editor/browser/view/dynamicViewOverlay","vs/platform/configuration/common/configurationRegistry","vs/platform/quickinput/common/quickAccess","vs/platform/theme/common/theme","vs/base/browser/ui/tree/tree","vs/base/common/decorators","vs/base/common/numbers","vs/base/common/buffer","vs/base/common/iconLabels","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/modes/languageConfiguration","vs/editor/common/view/renderingContext","vs/editor/common/viewModel/viewEventHandler","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/common/core/lineTokens","vs/editor/standalone/common/standaloneThemeService","vs/platform/label/common/label","vs/platform/theme/common/styler","vs/editor/contrib/suggest/suggest","vs/editor/contrib/peekView/peekView","vs/base/common/idGenerator","vs/base/common/range","vs/base/browser/canIUse","vs/base/common/scrollable","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/base/browser/ui/list/listWidget","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/common/config/editorZoom","vs/editor/common/core/token","vs/editor/common/model/wordHelper","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/contrib/codeAction/types","vs/editor/contrib/snippet/snippetParser","vs/editor/contrib/gotoSymbol/referencesModel","vs/editor/browser/services/bulkEditService","vs/editor/common/modes/languageFeatureRegistry","vs/editor/common/model/tokensStore","vs/editor/common/controller/cursorWordOperations","vs/editor/common/services/textResourceConfigurationService","vs/platform/instantiation/common/serviceCollection","vs/platform/layout/browser/layoutService","vs/editor/browser/core/markdownRenderer","vs/editor/common/modes/modesRegistry","vs/editor/contrib/find/findModel","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/codeAction/codeAction","vs/editor/contrib/message/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/base/browser/dnd","vs/base/common/lazy","vs/base/common/extpath","vs/base/common/diff/diff","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/checkbox/checkbox","vs/base/browser/ui/list/listView","vs/editor/browser/editorDom","vs/editor/common/config/fontInfo","vs/editor/browser/view/viewLayer","vs/editor/common/model/textModelSearch","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/editor/common/standalone/standaloneEnums","vs/editor/common/view/viewEvents","vs/editor/common/viewLayout/lineDecorations","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewModel/viewModelEventDispatcher","vs/editor/contrib/folding/foldingRanges","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/common/controller/cursorTypeOperations","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/platform/dialogs/common/dialogs","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/commonEditorConfig","vs/editor/browser/controller/mouseTarget","vs/editor/browser/controller/coreCommands","vs/platform/actions/browser/menuEntryActionViewItem","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/simpleServices","vs/editor/contrib/snippet/snippetController2","vs/base/browser/iframe","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/collections","vs/base/browser/ui/tree/treeIcons","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/browser/controller/textAreaInput","vs/editor/common/editorAction","vs/editor/common/model/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/standalone/standaloneBase","vs/editor/common/view/overviewZoneManager","vs/editor/common/viewModel/prefixSumComputer","vs/editor/browser/viewParts/margin/margin","vs/editor/contrib/comment/blockCommentCommand","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formattingEdit","vs/editor/contrib/gotoSymbol/link/clickLinkGesture","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/smartSelect/bracketSelections","vs/editor/contrib/suggest/resizable","vs/editor/standalone/common/monarch/monarchCommon","vs/base/browser/ui/findinput/findInputCheckboxes","vs/base/browser/ui/tree/objectTree","vs/base/common/keybindingLabels","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markersDecorationService","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/controller/cursorAtomicMoveOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/controller/cursor","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/contrib/documentSymbols/outlineModel","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/codelens","vs/editor/contrib/colorPicker/color","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/suggest/suggestWidgetDetails","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/symbolIcons","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/format/format","vs/editor/contrib/gotoSymbol/goToSymbol","vs/editor/contrib/codeAction/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/contrib/wordOperations/wordOperations","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/find/findController","vs/editor/contrib/gotoError/gotoError","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesController","vs/editor/contrib/gotoSymbol/goToCommands","vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/editor/contrib/hover/hover","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/search","vs/base/common/fuzzyScorer","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/mime","vs/base/common/uuid","vs/base/worker/defaultWorkerFactory","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/codeAction/lightBulbWidget","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/css!vs/editor/contrib/gotoError/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/css!vs/editor/contrib/links/links","vs/css!vs/editor/contrib/message/messageController","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/css!vs/editor/contrib/peekView/media/peekViewWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/diff/diffComputer","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelEvents","vs/editor/common/modes/abstractMode","vs/editor/common/modes/languageSelector","vs/editor/common/modes/linkComputer","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/supports/electricCharacter","vs/editor/common/modes/supports/tokenization","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/services/semanticTokensDto","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/viewContext","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/moveCaretCommand","vs/editor/contrib/colorPicker/colorPickerModel","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/intializingRangeProvider","vs/editor/contrib/hover/hoverWidgets","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/smartSelect/wordSelections","vs/editor/contrib/suggest/completionModel","vs/editor/contrib/suggest/suggestCommitCharacters","vs/editor/contrib/suggest/suggestOvertypingCapturer","vs/editor/contrib/suggest/wordDistance","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabel","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/menu/menu","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/coreCommands","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/viewModel/viewModelDecorations","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/anchorSelect/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/codeAction/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/codelensController","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/cursorUndo","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/folding/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/fontZoom","vs/nls!vs/editor/contrib/format/format","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/gotoError/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/symbolNavigation","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/indentation","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/linkedEditing","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/message/messageController","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/peekView","vs/nls!vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/snippet/snippetVariables","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/suggest/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/tokenization","vs/nls!vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/platform/clipboard/browser/clipboardService","vs/platform/contextkey/common/contextkeys","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/instantiation/common/graph","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/controller/cursorColumnSelection","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/editor/common/viewModel/splitLinesCollection","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/standalone/browser/colorizer","vs/editor/contrib/documentSymbols/documentSymbols","vs/editor/contrib/links/getLinks","vs/editor/contrib/parameterHints/parameterHintsModel","vs/editor/contrib/suggest/suggestAlternatives","vs/editor/contrib/suggest/wordContextKey","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/contextview/browser/contextViewService","vs/editor/common/services/webWorker","vs/editor/contrib/gotoError/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/hover/modesGlyphHover","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/services/getIconClasses","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/platform/accessibility/common/accessibilityService","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/platform/browser/contextScopedHistoryWidget","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/codeLensCache","vs/editor/contrib/suggest/suggestMemory","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/services/markerDecorationsServiceImpl","vs/editor/contrib/codeAction/lightBulbWidget","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findState","vs/editor/contrib/gotoSymbol/peek/referencesTree","vs/editor/contrib/quickAccess/gotoLineQuickAccess","vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","vs/editor/contrib/rename/renameInputField","vs/editor/standalone/browser/standaloneCodeServiceImpl","vs/editor/standalone/common/themes","vs/editor/browser/core/keybindingCancellation","vs/editor/browser/view/viewController","vs/editor/browser/view/viewImpl","vs/editor/contrib/anchorSelect/anchorSelect","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codeAction/codeActionMenu","vs/editor/contrib/codeAction/codeActionModel","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/fontZoom/fontZoom","vs/editor/contrib/format/formatActions","vs/editor/contrib/gotoSymbol/symbolNavigation","vs/editor/contrib/hover/getHover","vs/editor/contrib/hover/markdownHoverParticipant","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/indentation/indentation","vs/editor/contrib/inlineHints/inlineHintsController","vs/editor/contrib/linesOperations/linesOperations","vs/editor/contrib/linkedEditing/linkedEditing","vs/editor/contrib/links/links","vs/editor/contrib/codeAction/codeActionUi","vs/editor/contrib/codeAction/codeActionContributions","vs/editor/contrib/rename/rename","vs/editor/contrib/smartSelect/smartSelect","vs/editor/contrib/tokenization/tokenization","vs/editor/contrib/unusualLineTerminators/unusualLineTerminators","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/contrib/wordPartOperations/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputServiceImpl","vs/platform/severityIcon/common/severityIcon","vs/editor/contrib/gotoError/gotoErrorWidget","vs/editor/browser/widget/diffReview","vs/editor/contrib/find/findWidget","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/folding","vs/editor/contrib/hover/markerHoverParticipant","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/contrib/suggest/suggestWidgetRenderer","vs/editor/contrib/suggest/suggestWidget","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/editor/contrib/gotoSymbol/peek/referencesWidget","vs/editor/contrib/colorPicker/colorContributions","vs/editor/contrib/viewportSemanticTokens/viewportSemanticTokens","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/platform/workspaces/common/workspaces","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/snippet/snippetSession","vs/editor/contrib/suggest/suggestModel","vs/editor/contrib/suggest/suggestController","vs/editor/editor.all","vs/base/common/marked/marked","vs/base/common/insane/insane","vs/editor/edcore.main"],te=function($){for(var e=[],C=0,M=$.length;C<M;C++)e[C]=ee[$[C]];return e};"use strict";var Et;(function($){var e=function(){function M(){this._pendingLoads=0}return M.prototype.attachListeners=function(k,w,S,v){var l=function(){w.removeEventListener("load",f),w.removeEventListener("error",p)},f=function(c){l(),S()},p=function(c){l(),v(c)};w.addEventListener("load",f),w.addEventListener("error",p)},M.prototype._onLoad=function(k,w){this._pendingLoads--,w()},M.prototype._onLoadError=function(k,w,S){this._pendingLoads--,w(S)},M.prototype._insertLinkNode=function(k){this._pendingLoads++;var w=document.head||document.getElementsByTagName("head")[0],S=w.getElementsByTagName("link")||w.getElementsByTagName("script");S.length>0?w.insertBefore(k,S[S.length-1]):w.appendChild(k)},M.prototype.createLinkTag=function(k,w,S,v){var l=this,f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("data-name",k);var p=function(){return l._onLoad(k,S)},c=function(u){return l._onLoadError(k,v,u)};return this.attachListeners(k,f,p,c),f.setAttribute("href",w),f},M.prototype._linkTagExists=function(k,w){var S,v,l,f,p=document.getElementsByTagName("link");for(S=0,v=p.length;S<v;S++)if(l=p[S].getAttribute("data-name"),f=p[S].getAttribute("href"),l===k||f===w)return!0;return!1},M.prototype.load=function(k,w,S,v){if(this._linkTagExists(k,w)){S();return}var l=this.createLinkTag(k,w,S,v);this._insertLinkNode(l)},M}(),C=function(){function M(){this._cssLoader=new e}return M.prototype.load=function(k,w,S,v){v=v||{};var l=v["vs/css"]||{};if(l.disabled){S({});return}var f=w.toUrl(k+".css");this._cssLoader.load(k,f,function(p){S({})},function(p){typeof S.error=="function"&&S.error("Could not find "+f+" or it was empty")})},M}();$.CSSPlugin=C,define("vs/css",new C)})(Et||(Et={}));"use strict";var ti=this&&this.__spreadArrays||function(){for(var $=0,e=0,C=arguments.length;e<C;e++)$+=arguments[e].length;for(var M=Array($),k=0,e=0;e<C;e++)for(var w=arguments[e],S=0,v=w.length;S<v;S++,k++)M[k]=w[S];return M},It;(function($){var e=function(){function v(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(v.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!0,configurable:!0}),v.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},v}();function C(v,l,f){var p;return l.length===0?p=v:p=v.replace(/\{(\d+)\}/g,function(c,u){var a=u[0],r=l[a],d=c;return typeof r=="string"?d=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(d=String(r)),d}),f.isPseudo&&(p="\uFF3B"+p.replace(/[aouei]/g,"$&$&")+"\uFF3D"),p}function M(v,l){var f=v[l];return f||(f=v["*"],f)?f:null}function k(v,l,f){for(var p=[],c=3;c<arguments.length;c++)p[c-3]=arguments[c];return C(f,p,v)}function w(v,l){return function(f,p){var c=Array.prototype.slice.call(arguments,2);return C(v[f],c,l)}}var S=function(){function v(l){var f=this;this._env=l,this.localize=function(p,c){for(var u=[],a=2;a<arguments.length;a++)u[a-2]=arguments[a];return k.apply(void 0,ti([f._env,p,c],u))}}return v.prototype.setPseudoTranslation=function(l){this._env._isPseudo=l},v.prototype.create=function(l,f){return{localize:w(f[l],this._env)}},v.prototype.load=function(l,f,p,c){var u=this;if(c=c||{},!l||l.length===0)p({localize:this.localize});else{var a=c["vs/nls"]||{},r=a.availableLanguages?M(a.availableLanguages,l):null,d=".nls";r!==null&&r!==v.DEFAULT_TAG&&(d=d+"."+r);var s=function(i){Array.isArray(i)?i.localize=w(i,u._env):i.localize=w(i[l],u._env),p(i)};typeof a.loadBundle=="function"?a.loadBundle(l,r,function(i,n){i?f([l+".nls"],s):s(n)}):f([l+d],s)}},v.DEFAULT_TAG="i-default",v}();$.NLSPlugin=S,define("vs/nls",new S(new e))})(It||(It={})),define(ee[150],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class C{constructor(k){this.data=k}update(){}getData(){return this.data}}e.DragAndDropData=C,e.StaticDND={CurrentDragAndDropData:void 0}}),define(ee[30],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class C{constructor(w){this.domNode=w,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(w){this._maxWidth!==w&&(this._maxWidth=w,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(w){this._width!==w&&(this._width=w,this.domNode.style.width=this._width+"px")}setHeight(w){this._height!==w&&(this._height=w,this.domNode.style.height=this._height+"px")}setTop(w){this._top!==w&&(this._top=w,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(w){this._left!==w&&(this._left=w,this.domNode.style.left=this._left+"px")}setBottom(w){this._bottom!==w&&(this._bottom=w,this.domNode.style.bottom=this._bottom+"px")}setRight(w){this._right!==w&&(this._right=w,this.domNode.style.right=this._right+"px")}setFontFamily(w){this._fontFamily!==w&&(this._fontFamily=w,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(w){this._fontWeight!==w&&(this._fontWeight=w,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(w){this._fontSize!==w&&(this._fontSize=w,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(w){this._fontFeatureSettings!==w&&(this._fontFeatureSettings=w,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(w){this._lineHeight!==w&&(this._lineHeight=w,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(w){this._letterSpacing!==w&&(this._letterSpacing=w,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(w){this._className!==w&&(this._className=w,this.domNode.className=this._className)}toggleClassName(w,S){this.domNode.classList.toggle(w,S),this._className=this.domNode.className}setDisplay(w){this._display!==w&&(this._display=w,this.domNode.style.display=this._display)}setPosition(w){this._position!==w&&(this._position=w,this.domNode.style.position=this._position)}setVisibility(w){this._visibility!==w&&(this._visibility=w,this.domNode.style.visibility=this._visibility)}setBackgroundColor(w){this._backgroundColor!==w&&(this._backgroundColor=w,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(w){this._layerHint!==w&&(this._layerHint=w,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(w){this._boxShadow!==w&&(this._boxShadow=w,this.domNode.style.boxShadow=w)}setContain(w){this._contain!==w&&(this._contain=w,this.domNode.style.contain=this._contain)}setAttribute(w,S){this.domNode.setAttribute(w,S)}removeAttribute(w){this.domNode.removeAttribute(w)}appendChild(w){this.domNode.appendChild(w.domNode)}removeChild(w){this.domNode.removeChild(w.domNode)}}e.FastDomNode=C;function M(k){return new C(k)}e.createFastDomNode=M}),define(ee[191],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let C=!1,M=null;function k(S){if(!S.parent||S.parent===S)return null;try{let v=S.location,l=S.parent.location;if(v.origin!=="null"&&l.origin!=="null"&&(v.protocol!==l.protocol||v.hostname!==l.hostname||v.port!==l.port))return C=!0,null}catch(v){return C=!0,null}return S.parent}class w{static getSameOriginWindowChain(){if(!M){M=[];let v=window,l;do l=k(v),l?M.push({window:v,iframeElement:v.frameElement||null}):M.push({window:v,iframeElement:null}),v=l;while(v)}return M.slice(0)}static hasDifferentOriginAncestor(){return M||this.getSameOriginWindowChain(),C}static getPositionOfChildWindowRelativeToAncestorWindow(v,l){if(!l||v===l)return{top:0,left:0};let f=0,p=0,c=this.getSameOriginWindowChain();for(const u of c){if(f+=u.window.scrollY,p+=u.window.scrollX,u.window===l||!u.iframeElement)break;let a=u.iframeElement.getBoundingClientRect();f+=a.top,p+=a.left}return{top:f,left:p}}}e.IframeUtils=w}),define(ee[273],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class C extends Error{constructor(k,w){super(`ListError [${k}] ${w}`)}}e.ListError=C}),define(ee[274],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class C{constructor(k){this.spliceables=k}splice(k,w,S){this.spliceables.forEach(v=>v.splice(k,w,S))}}e.CombinedSpliceable=C}),define(ee[192],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const C=20;class M{constructor(w,S,v,l,f,p){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(v),this._arrowSize=Math.round(w),this._visibleSize=l,this._scrollSize=f,this._scrollPosition=p,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new M(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(w){const S=Math.round(w);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(w){const S=Math.round(w);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(w){const S=Math.round(w);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(w){this._scrollbarSize=w}static _computeValues(w,S,v,l,f){const p=Math.max(0,v-w),c=Math.max(0,p-2*S),u=l>0&&l>v;if(!u)return{computedAvailableSize:Math.round(p),computedIsNeeded:u,computedSliderSize:Math.round(c),computedSliderRatio:0,computedSliderPosition:0};const a=Math.round(Math.max(C,Math.floor(v*c/l))),r=(c-a)/(l-v),d=f*r;return{computedAvailableSize:Math.round(p),computedIsNeeded:u,computedSliderSize:Math.round(a),computedSliderRatio:r,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const w=M._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=w.computedAvailableSize,this._computedIsNeeded=w.computedIsNeeded,this._computedSliderSize=w.computedSliderSize,this._computedSliderRatio=w.computedSliderRatio,this._computedSliderPosition=w.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(w){if(!this._computedIsNeeded)return 0;const S=w-this._arrowSize;let v=this._scrollPosition;return S<this._computedSliderPosition?v-=this._visibleSize:v+=this._visibleSize,v}getDesiredScrollPositionFromDelta(w){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+w;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=M}),define(ee[98],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var C;(function(w){w[w.Unknown=0]="Unknown",w[w.Twistie=1]="Twistie",w[w.Element=2]="Element"})(C=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class M extends Error{constructor(S,v){super(`TreeError [${S}] ${v}`)}}e.TreeError=M;class k{constructor(S){this.fn=S,this._map=new WeakMap}map(S){let v=this._map.get(S);return v||(v=this.fn(S),this._map.set(S,v)),v}}e.WeakMapper=k}),define(ee[19],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.mergeSort=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function C(g,b=0){return g[g.length-(1+b)]}e.tail=C;function M(g){if(g.length===0)throw new Error("Invalid tail call");return[g.slice(0,g.length-1),g[g.length-1]]}e.tail2=M;function k(g,b,y=(L,D)=>L===D){if(g===b)return!0;if(!g||!b||g.length!==b.length)return!1;for(let L=0,D=g.length;L<D;L++)if(!y(g[L],b[L]))return!1;return!0}e.equals=k;function w(g,b,y){let L=0,D=g.length-1;for(;L<=D;){const N=(L+D)/2|0,I=y(g[N],b);if(I<0)L=N+1;else if(I>0)D=N-1;else return N}return-(L+1)}e.binarySearch=w;function S(g,b){let y=0,L=g.length;if(L===0)return 0;for(;y<L;){const D=Math.floor((y+L)/2);b(g[D])?L=D:y=D+1}return y}e.findFirstInSorted=S;function v(g,b,y){if(g=g|0,g>=b.length)throw new TypeError("invalid index");let L=b[Math.floor(b.length*Math.random())],D=[],N=[],I=[];for(let T of b){const O=y(T,L);O<0?D.push(T):O>0?N.push(T):I.push(T)}return g<D.length?v(g,D,y):g<D.length+I.length?I[0]:v(g-(D.length+I.length),N,y)}e.quickSelect=v;function l(g,b){return p(g,b,0,g.length-1,[]),g}e.mergeSort=l;function f(g,b,y,L,D,N){let I=y,T=L+1;for(let O=y;O<=D;O++)N[O]=g[O];for(let O=y;O<=D;O++)I>L?g[O]=N[T++]:T>D?g[O]=N[I++]:b(N[T],N[I])<0?g[O]=N[T++]:g[O]=N[I++]}function p(g,b,y,L,D){if(!(L<=y)){const N=y+(L-y)/2|0;p(g,b,y,N,D),p(g,b,N+1,L,D),!(b(g[N],g[N+1])<=0)&&f(g,b,y,N,L,D)}}function c(g,b){const y=[];let L;for(const D of l(g.slice(0),b))!L||b(L[0],D)!==0?(L=[D],y.push(L)):L.push(D);return y}e.groupBy=c;function u(g){return g.filter(b=>!!b)}e.coalesce=u;function a(g){return!Array.isArray(g)||g.length===0}e.isFalsyOrEmpty=a;function r(g){return Array.isArray(g)&&g.length>0}e.isNonEmptyArray=r;function d(g,b){if(!b)return g.filter((L,D)=>g.indexOf(L)===D);const y=Object.create(null);return g.filter(L=>{const D=b(L);return y[D]?!1:(y[D]=!0,!0)})}e.distinct=d;function s(g){const b=new Set;return g.filter(y=>b.has(y)?!1:(b.add(y),!0))}e.distinctES6=s;function i(g,b){return g.length>0?g[0]:b}e.firstOrDefault=i;function n(g){return[].concat(...g)}e.flatten=n;function t(g,b){let y=typeof b=="number"?g:0;typeof b=="number"?y=g:(y=0,b=g);const L=[];if(y<=b)for(let D=y;D<b;D++)L.push(D);else for(let D=y;D>b;D--)L.push(D);return L}e.range=t;function o(g,b,y){const L=g.slice(0,b),D=g.slice(b);return L.concat(y,D)}e.arrayInsert=o;function h(g,b){const y=g.indexOf(b);y>-1&&(g.splice(y,1),g.unshift(b))}e.pushToStart=h;function _(g,b){const y=g.indexOf(b);y>-1&&(g.splice(y,1),g.push(b))}e.pushToEnd=_;function m(g){return Array.isArray(g)?g:[g]}e.asArray=m}),define(ee[193],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function C(M,k){if(!M)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}e.ok=C}),define(ee[194],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const C=Object.prototype.hasOwnProperty;function M(w,S){for(let v in w)if(C.call(w,v)&&S({key:v,value:w[v]},function(){delete w[v]})===!1)return}e.forEach=M;class k{constructor(){this.map=new Map}add(S,v){let l=this.map.get(S);l||(l=new Set,this.map.set(S,l)),l.add(v)}delete(S,v){const l=this.map.get(S);!l||(l.delete(v),l.size===0&&this.map.delete(S))}forEach(S,v){const l=this.map.get(S);!l||l.forEach(v)}}e.SetMap=k}),define(ee[29],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function C(v,l){const f=Math.pow(10,l);return Math.round(v*f)/f}class M{constructor(l,f,p,c=1){this.r=Math.min(255,Math.max(0,l))|0,this.g=Math.min(255,Math.max(0,f))|0,this.b=Math.min(255,Math.max(0,p))|0,this.a=C(Math.max(Math.min(1,c),0),3)}static equals(l,f){return l.r===f.r&&l.g===f.g&&l.b===f.b&&l.a===f.a}}e.RGBA=M;class k{constructor(l,f,p,c){this.h=Math.max(Math.min(360,l),0)|0,this.s=C(Math.max(Math.min(1,f),0),3),this.l=C(Math.max(Math.min(1,p),0),3),this.a=C(Math.max(Math.min(1,c),0),3)}static equals(l,f){return l.h===f.h&&l.s===f.s&&l.l===f.l&&l.a===f.a}static fromRGBA(l){const f=l.r/255,p=l.g/255,c=l.b/255,u=l.a,a=Math.max(f,p,c),r=Math.min(f,p,c);let d=0,s=0;const i=(r+a)/2,n=a-r;if(n>0){switch(s=Math.min(i<=.5?n/(2*i):n/(2-2*i),1),a){case f:d=(p-c)/n+(p<c?6:0);break;case p:d=(c-f)/n+2;break;case c:d=(f-p)/n+4;break}d*=60,d=Math.round(d)}return new k(d,s,i,u)}static _hue2rgb(l,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?l+(f-l)*6*p:p<1/2?f:p<2/3?l+(f-l)*(2/3-p)*6:l}static toRGBA(l){const f=l.h/360,{s:p,l:c,a:u}=l;let a,r,d;if(p===0)a=r=d=c;else{const s=c<.5?c*(1+p):c+p-c*p,i=2*c-s;a=k._hue2rgb(i,s,f+1/3),r=k._hue2rgb(i,s,f),d=k._hue2rgb(i,s,f-1/3)}return new M(Math.round(a*255),Math.round(r*255),Math.round(d*255),u)}}e.HSLA=k;class w{constructor(l,f,p,c){this.h=Math.max(Math.min(360,l),0)|0,this.s=C(Math.max(Math.min(1,f),0),3),this.v=C(Math.max(Math.min(1,p),0),3),this.a=C(Math.max(Math.min(1,c),0),3)}static equals(l,f){return l.h===f.h&&l.s===f.s&&l.v===f.v&&l.a===f.a}static fromRGBA(l){const f=l.r/255,p=l.g/255,c=l.b/255,u=Math.max(f,p,c),a=Math.min(f,p,c),r=u-a,d=u===0?0:r/u;let s;return r===0?s=0:u===f?s=((p-c)/r%6+6)%6:u===p?s=(c-f)/r+2:s=(f-p)/r+4,new w(Math.round(s*60),d,u,l.a)}static toRGBA(l){const{h:f,s:p,v:c,a:u}=l,a=c*p,r=a*(1-Math.abs(f/60%2-1)),d=c-a;let[s,i,n]=[0,0,0];return f<60?(s=a,i=r):f<120?(s=r,i=a):f<180?(i=a,n=r):f<240?(i=r,n=a):f<300?(s=r,n=a):f<=360&&(s=a,n=r),s=Math.round((s+d)*255),i=Math.round((i+d)*255),n=Math.round((n+d)*255),new M(s,i,n,u)}}e.HSVA=w;class S{constructor(l){if(l)if(l instanceof M)this.rgba=l;else if(l instanceof k)this._hsla=l,this.rgba=k.toRGBA(l);else if(l instanceof w)this._hsva=l,this.rgba=w.toRGBA(l);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(l){return S.Format.CSS.parseHex(l)||S.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:w.fromRGBA(this.rgba)}equals(l){return!!l&&M.equals(this.rgba,l.rgba)&&k.equals(this.hsla,l.hsla)&&w.equals(this.hsva,l.hsva)}getRelativeLuminance(){const l=S._relativeLuminanceForComponent(this.rgba.r),f=S._relativeLuminanceForComponent(this.rgba.g),p=S._relativeLuminanceForComponent(this.rgba.b),c=.2126*l+.7152*f+.0722*p;return C(c,4)}static _relativeLuminanceForComponent(l){const f=l/255;return f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(l){const f=this.getRelativeLuminance(),p=l.getRelativeLuminance();return f>p}isDarkerThan(l){const f=this.getRelativeLuminance(),p=l.getRelativeLuminance();return f<p}lighten(l){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*l,this.hsla.a))}darken(l){return new S(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*l,this.hsla.a))}transparent(l){const{r:f,g:p,b:c,a:u}=this.rgba;return new S(new M(f,p,c,u*l))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new M(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+S.Format.CSS.format(this)}static getLighterColor(l,f,p){if(l.isLighterThan(f))return l;p=p||.5;const c=l.getRelativeLuminance(),u=f.getRelativeLuminance();return p=p*(u-c)/u,l.lighten(p)}static getDarkerColor(l,f,p){if(l.isDarkerThan(f))return l;p=p||.5;const c=l.getRelativeLuminance(),u=f.getRelativeLuminance();return p=p*(c-u)/c,l.darken(p)}}e.Color=S,S.white=new S(new M(255,255,255,1)),S.black=new S(new M(0,0,0,1)),S.red=new S(new M(255,0,0,1)),S.blue=new S(new M(0,0,255,1)),S.cyan=new S(new M(0,255,255,1)),S.lightgrey=new S(new M(211,211,211,1)),S.transparent=new S(new M(0,0,0,0)),function(v){let l;(function(f){let p;(function(c){function u(_){return _.rgba.a===1?`rgb(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b})`:v.Format.CSS.formatRGBA(_)}c.formatRGB=u;function a(_){return`rgba(${_.rgba.r}, ${_.rgba.g}, ${_.rgba.b}, ${+_.rgba.a.toFixed(2)})`}c.formatRGBA=a;function r(_){return _.hsla.a===1?`hsl(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%)`:v.Format.CSS.formatHSLA(_)}c.formatHSL=r;function d(_){return`hsla(${_.hsla.h}, ${(_.hsla.s*100).toFixed(2)}%, ${(_.hsla.l*100).toFixed(2)}%, ${_.hsla.a.toFixed(2)})`}c.formatHSLA=d;function s(_){const m=_.toString(16);return m.length!==2?"0"+m:m}function i(_){return`#${s(_.rgba.r)}${s(_.rgba.g)}${s(_.rgba.b)}`}c.formatHex=i;function n(_,m=!1){return m&&_.rgba.a===1?v.Format.CSS.formatHex(_):`#${s(_.rgba.r)}${s(_.rgba.g)}${s(_.rgba.b)}${s(Math.round(_.rgba.a*255))}`}c.formatHexA=n;function t(_){return _.isOpaque()?v.Format.CSS.formatHex(_):v.Format.CSS.formatRGBA(_)}c.format=t;function o(_){const m=_.length;if(m===0||_.charCodeAt(0)!==35)return null;if(m===7){const g=16*h(_.charCodeAt(1))+h(_.charCodeAt(2)),b=16*h(_.charCodeAt(3))+h(_.charCodeAt(4)),y=16*h(_.charCodeAt(5))+h(_.charCodeAt(6));return new v(new M(g,b,y,1))}if(m===9){const g=16*h(_.charCodeAt(1))+h(_.charCodeAt(2)),b=16*h(_.charCodeAt(3))+h(_.charCodeAt(4)),y=16*h(_.charCodeAt(5))+h(_.charCodeAt(6)),L=16*h(_.charCodeAt(7))+h(_.charCodeAt(8));return new v(new M(g,b,y,L/255))}if(m===4){const g=h(_.charCodeAt(1)),b=h(_.charCodeAt(2)),y=h(_.charCodeAt(3));return new v(new M(16*g+g,16*b+b,16*y+y))}if(m===5){const g=h(_.charCodeAt(1)),b=h(_.charCodeAt(2)),y=h(_.charCodeAt(3)),L=h(_.charCodeAt(4));return new v(new M(16*g+g,16*b+b,16*y+y,(16*L+L)/255))}return null}c.parseHex=o;function h(_){switch(_){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(p=f.CSS||(f.CSS={}))})(l=v.Format||(v.Format={}))}(S=e.Color||(e.Color={}))}),define(ee[99],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.createMemoizer=void 0;let C=0;function M(){const w=`$memoize${C++}`;let S;const v=function(f,p,c){let u=null,a=null;if(typeof c.value=="function"?(u="value",a=c.value,a.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof c.get=="function"&&(u="get",a=c.get),!a)throw new Error("not supported");const r=`${w}:${p}`;c[u]=function(...d){return S=this,this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!0,enumerable:!1,writable:!0,value:a.apply(this,d)}),this[r]}};return v.clear=()=>{typeof S!="undefined"&&Object.getOwnPropertyNames(S).forEach(l=>{l.indexOf(w)===0&&delete S[l]})},v}e.createMemoizer=M;function k(w,S,v){return M()(w,S,v)}e.memoize=k}),define(ee[275],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class C{constructor(k,w,S,v){this.originalStart=k,this.originalLength=w,this.modifiedStart=S,this.modifiedLength=v}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=C}),define(ee[11],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.illegalState=e.illegalArgument=e.canceled=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class C{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(u){setTimeout(()=>{throw u.stack?new Error(u.message+`

`+u.stack):u},0)}}emit(u){this.listeners.forEach(a=>{a(u)})}onUnexpectedError(u){this.unexpectedErrorHandler(u),this.emit(u)}onUnexpectedExternalError(u){this.unexpectedErrorHandler(u)}}e.ErrorHandler=C,e.errorHandler=new C;function M(c){v(c)||e.errorHandler.onUnexpectedError(c)}e.onUnexpectedError=M;function k(c){v(c)||e.errorHandler.onUnexpectedExternalError(c)}e.onUnexpectedExternalError=k;function w(c){if(c instanceof Error){let{name:u,message:a}=c;const r=c.stacktrace||c.stack;return{$isError:!0,name:u,message:a,stack:r}}return c}e.transformErrorForSerialization=w;const S="Canceled";function v(c){return c instanceof Error&&c.name===S&&c.message===S}e.isPromiseCanceledError=v;function l(){const c=new Error(S);return c.name=c.message,c}e.canceled=l;function f(c){return c?new Error(`Illegal argument: ${c}`):new Error("Illegal argument")}e.illegalArgument=f;function p(c){return c?new Error(`Illegal state: ${c}`):new Error("Illegal state")}e.illegalState=p}),define(ee[88],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function C(M){const k=this;let w=!1,S;return function(){return w||(w=!0,S=M.apply(k,arguments)),S}}e.once=C}),define(ee[118],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class C{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=C,e.defaultGenerator=new C("id#")});let Dt;(function(){function $(e,C,M){function k(v,l){if(!C[v]){if(!e[v]){var f=typeof require=="function"&&require;if(!l&&f)return f(v,!0);if(w)return w(v,!0);var p=new Error("Cannot find module '"+v+"'");throw p.code="MODULE_NOT_FOUND",p}var c=C[v]={exports:{}};e[v][0].call(c.exports,function(u){var a=e[v][1][u];return k(a||u)},c,c.exports,$,e,C,M)}return C[v].exports}for(var w=typeof require=="function"&&require,S=0;S<M.length;S++)k(M[S]);return k}return $})()({1:[function($,e,C){"use strict";var M=$("./toMap"),k=["background","base","cite","href","longdesc","src","usemap"];e.exports={uris:M(k)}},{"./toMap":10}],2:[function($,e,C){"use strict";var M={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};e.exports=M},{}],3:[function($,e,C){"use strict";var M=$("./toMap"),k=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];e.exports={voids:M(k)}},{"./toMap":10}],4:[function($,e,C){"use strict";var M=$("he"),k=$("assignment"),w=$("./parser"),S=$("./sanitizer"),v=$("./defaults");function l(f,p,c){var u=[],a=c===!0?p:k({},v,p),r=S(u,a);return w(f,r),u.join("")}l.defaults=v,e.exports=l,Dt=l},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function($,e,C){"use strict";e.exports=function(k){return typeof k=="string"?k.toLowerCase():k}},{}],6:[function($,e,C){"use strict";function M(k){for(var w=Array.prototype.slice.call(arguments,1),S,v;w.length;){S=w.shift();for(v in S)S.hasOwnProperty(v)&&(Object.prototype.toString.call(k[v])==="[object Object]"?k[v]=M(k[v],S[v]):k[v]=S[v])}return k}e.exports=M},{}],7:[function($,e,C){"use strict";var M=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements"),v=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,l=/^<\s*\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,c=/^<\s*\//;function u(){var r=[];return r.lastItem=function(){return r[r.length-1]},r}function a(r,d){for(var s=u(),i=r,n;r;)t();b();function t(){n=!0,o();var y=r===i;i=r,y&&(r="")}function o(){r.substr(0,4)==="<!--"?_():c.test(r)?h(l,b):p.test(r)&&h(v,g),m()}function h(y,L){var D=r.match(y);D&&(r=r.substring(D[0].length),D[0].replace(y,L),n=!1)}function _(){var y=r.indexOf("-->");y>=0&&(d.comment&&d.comment(r.substring(4,y)),r=r.substring(y+3),n=!1)}function m(){if(!!n){var y,L=r.indexOf("<");L>=0?(y=r.substring(0,L),r=r.substring(L)):(y=r,r=""),d.chars&&d.chars(y)}}function g(y,L,D,N){var I={},T=k(L),O=S.voids[T]||!!N;D.replace(f,A),O||s.push(T),d.start&&d.start(T,I,O);function A(B,E,W,R,F){W===void 0&&R===void 0&&F===void 0?I[E]=void 0:I[E]=M.decode(W||R||F||"")}}function b(y,L){var D,N=0,I=k(L);if(I)for(N=s.length-1;N>=0&&s[N]!==I;N--);if(N>=0){for(D=s.length-1;D>=N;D--)d.end&&d.end(s[D]);s.length=N}}}e.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function($,e,C){"use strict";var M=$("he"),k=$("./lowercase"),w=$("./attributes"),S=$("./elements");function v(l,f){var p,c,u=f||{};return o(),{start:r,end:d,chars:i};function a(h){l.push(h)}function r(h,_,m){var g=k(h);if(c.ignoring){n(g);return}if((u.allowedTags||[]).indexOf(g)===-1){n(g);return}if(u.filter&&!u.filter({tag:g,attrs:_})){n(g);return}a("<"),a(g),Object.keys(_).forEach(b),a(m?"/>":">");function b(y){var L=_[y],D=(u.allowedClasses||{})[g]||[],N=(u.allowedAttributes||{})[g]||[];N=N.concat((u.allowedAttributes||{})["*"]||[]);var I,T=k(y);T==="class"&&N.indexOf(T)===-1?(L=L.split(" ").filter(O).join(" ").trim(),I=L.length):I=N.indexOf(T)!==-1&&(w.uris[T]!==!0||s(L)),I&&(a(" "),a(y),typeof L=="string"&&(a('="'),a(M.encode(L)),a('"')));function O(A){return D&&D.indexOf(A)!==-1}}}function d(h){var _=k(h),m=(u.allowedTags||[]).indexOf(_)!==-1;m&&c.ignoring===!1?(a("</"),a(_),a(">")):t(_)}function s(h){var _=h[0];if(_==="#"||_==="/")return!0;var m=h.indexOf(":");if(m===-1)return!0;var g=h.indexOf("?");if(g!==-1&&m>g)return!0;var b=h.indexOf("#");if(b!==-1&&m>b)return!0;return u.allowedSchemes.some(y);function y(L){return h.indexOf(L+":")===0}}function i(h){c.ignoring===!1&&a(u.transformText?u.transformText(h):h)}function n(h){S.voids[h]||(c.ignoring===!1?c={ignoring:h,depth:1}:c.ignoring===h&&c.depth++)}function t(h){c.ignoring===h&&--c.depth<=0&&o()}function o(){c={ignoring:!1,depth:0}}}e.exports=v},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function($,e,C){"use strict";var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},w=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,S=/[&<>"']/g;function v(c){return M[c]}function l(c){return k[c]}function f(c){return c==null?"":String(c).replace(S,v)}function p(c){return c==null?"":String(c).replace(w,l)}f.options=p.options={},e.exports={encode:f,escape:f,decode:p,unescape:p,version:"1.0.0-browser"}},{}],10:[function($,e,C){"use strict";function M(w){return w.reduce(k,{})}function k(w,S){return w[S]=!0,w}e.exports=M},{}]},{},[4]),define("vs/base/common/insane/insane",function(){return{insane:Dt}}),define(ee[54],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var C;(function(M){function k(n){return n&&typeof n=="object"&&typeof n[Symbol.iterator]=="function"}M.is=k;const w=Object.freeze([]);function S(){return w}M.empty=S;function*v(n){yield n}M.single=v;function l(n){return n||w}M.from=l;function f(n){return!n||n[Symbol.iterator]().next().done===!0}M.isEmpty=f;function p(n){return n[Symbol.iterator]().next().value}M.first=p;function c(n,t){for(const o of n)if(t(o))return!0;return!1}M.some=c;function*u(n,t){for(const o of n)t(o)&&(yield o)}M.filter=u;function*a(n,t){for(const o of n)yield t(o)}M.map=a;function*r(...n){for(const t of n)for(const o of t)yield o}M.concat=r;function*d(n){for(const t of n)for(const o of t)yield o}M.concatNested=d;function*s(n,t,o=n.length){for(t<0&&(t+=n.length),o<0?o+=n.length:o>n.length&&(o=n.length);t<o;t++)yield n[t]}M.slice=s;function i(n,t=Number.POSITIVE_INFINITY){const o=[];if(t===0)return[o,n];const h=n[Symbol.iterator]();for(let _=0;_<t;_++){const m=h.next();if(m.done)return[o,M.empty()];o.push(m.value)}return[o,{[Symbol.iterator](){return h}}]}M.consume=i})(C=e.Iterable||(e.Iterable={}))}),define(ee[39],te([0,1,11]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=e.KeyChord=e.KeyCodeUtils=void 0;class M{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,i){this._keyCodeToStr[s]=i,this._strToKeyCode[i.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const k=new M,w=new M,S=new M;(function(){function d(s,i,n=i,t=n){k.define(s,i),w.define(s,n),S.define(s,t)}d(0,"unknown"),d(1,"Backspace"),d(2,"Tab"),d(3,"Enter"),d(4,"Shift"),d(5,"Ctrl"),d(6,"Alt"),d(7,"PauseBreak"),d(8,"CapsLock"),d(9,"Escape"),d(10,"Space"),d(11,"PageUp"),d(12,"PageDown"),d(13,"End"),d(14,"Home"),d(15,"LeftArrow","Left"),d(16,"UpArrow","Up"),d(17,"RightArrow","Right"),d(18,"DownArrow","Down"),d(19,"Insert"),d(20,"Delete"),d(21,"0"),d(22,"1"),d(23,"2"),d(24,"3"),d(25,"4"),d(26,"5"),d(27,"6"),d(28,"7"),d(29,"8"),d(30,"9"),d(31,"A"),d(32,"B"),d(33,"C"),d(34,"D"),d(35,"E"),d(36,"F"),d(37,"G"),d(38,"H"),d(39,"I"),d(40,"J"),d(41,"K"),d(42,"L"),d(43,"M"),d(44,"N"),d(45,"O"),d(46,"P"),d(47,"Q"),d(48,"R"),d(49,"S"),d(50,"T"),d(51,"U"),d(52,"V"),d(53,"W"),d(54,"X"),d(55,"Y"),d(56,"Z"),d(57,"Meta"),d(58,"ContextMenu"),d(59,"F1"),d(60,"F2"),d(61,"F3"),d(62,"F4"),d(63,"F5"),d(64,"F6"),d(65,"F7"),d(66,"F8"),d(67,"F9"),d(68,"F10"),d(69,"F11"),d(70,"F12"),d(71,"F13"),d(72,"F14"),d(73,"F15"),d(74,"F16"),d(75,"F17"),d(76,"F18"),d(77,"F19"),d(78,"NumLock"),d(79,"ScrollLock"),d(80,";",";","OEM_1"),d(81,"=","=","OEM_PLUS"),d(82,",",",","OEM_COMMA"),d(83,"-","-","OEM_MINUS"),d(84,".",".","OEM_PERIOD"),d(85,"/","/","OEM_2"),d(86,"`","`","OEM_3"),d(110,"ABNT_C1"),d(111,"ABNT_C2"),d(87,"[","[","OEM_4"),d(88,"\\","\\","OEM_5"),d(89,"]","]","OEM_6"),d(90,"'","'","OEM_7"),d(91,"OEM_8"),d(92,"OEM_102"),d(93,"NumPad0"),d(94,"NumPad1"),d(95,"NumPad2"),d(96,"NumPad3"),d(97,"NumPad4"),d(98,"NumPad5"),d(99,"NumPad6"),d(100,"NumPad7"),d(101,"NumPad8"),d(102,"NumPad9"),d(103,"NumPad_Multiply"),d(104,"NumPad_Add"),d(105,"NumPad_Separator"),d(106,"NumPad_Subtract"),d(107,"NumPad_Decimal"),d(108,"NumPad_Divide")})();var v;(function(d){function s(h){return k.keyCodeToStr(h)}d.toString=s;function i(h){return k.strToKeyCode(h)}d.fromString=i;function n(h){return w.keyCodeToStr(h)}d.toUserSettingsUS=n;function t(h){return S.keyCodeToStr(h)}d.toUserSettingsGeneral=t;function o(h){return w.strToKeyCode(h)||S.strToKeyCode(h)}d.fromUserSettings=o})(v=e.KeyCodeUtils||(e.KeyCodeUtils={}));function l(d,s){const i=(s&65535)<<16>>>0;return(d|i)>>>0}e.KeyChord=l;function f(d,s){if(d===0)return null;const i=(d&65535)>>>0,n=(d&4294901760)>>>16;return n!==0?new u([p(i,s),p(n,s)]):new u([p(i,s)])}e.createKeybinding=f;function p(d,s){const i=!!(d&2048),n=!!(d&256),t=s===2?n:i,o=!!(d&1024),h=!!(d&512),_=s===2?i:n,m=d&255;return new c(t,o,h,_,m)}e.createSimpleKeybinding=p;class c{constructor(s,i,n,t,o){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyCode=o}equals(s){return this.ctrlKey===s.ctrlKey&&this.shiftKey===s.shiftKey&&this.altKey===s.altKey&&this.metaKey===s.metaKey&&this.keyCode===s.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new u([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=c;class u{constructor(s){if(s.length===0)throw C.illegalArgument("parts");this.parts=s}}e.ChordKeybinding=u;class a{constructor(s,i,n,t,o,h){this.ctrlKey=s,this.shiftKey=i,this.altKey=n,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=h}}e.ResolvedKeybindingPart=a;class r{}e.ResolvedKeybinding=r}),define(ee[151],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class C{constructor(k){this.executor=k,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=C}),define(ee[2],te([0,1,54]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=void 0;const M=!1;let k=null;if(M){const s="__is_disposable_tracked__";k=new class{trackDisposable(i){const n=new Error("Potentially leaked disposable").stack;setTimeout(()=>{i[s]||console.log(n)},3e3)}markTracked(i){if(i&&i!==a.None)try{i[s]=!0}catch(n){}}}}function w(s){!k||k.markTracked(s)}function S(s){return k&&k.trackDisposable(s),s}e.trackDisposable=S;class v extends Error{constructor(i){super(`Encountered errors while disposing of store. Errors: [${i.join(", ")}]`);this.errors=i}}e.MultiDisposeError=v;function l(s){return typeof s.dispose=="function"&&s.dispose.length===0}e.isDisposable=l;function f(s){if(C.Iterable.is(s)){let i=[];for(const n of s)if(n){w(n);try{n.dispose()}catch(t){i.push(t)}}if(i.length===1)throw i[0];if(i.length>1)throw new v(i);return Array.isArray(s)?[]:s}else if(s)return w(s),s.dispose(),s}e.dispose=f;function p(...s){return s.forEach(w),c(()=>f(s))}e.combinedDisposable=p;function c(s){const i=S({dispose:()=>{w(i),s()}});return i}e.toDisposable=c;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}clear(){try{f(this._toDispose.values())}finally{this._toDispose.clear()}}add(i){if(!i)return i;if(i===this)throw new Error("Cannot register a disposable on itself!");return w(i),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(i),i}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class a{constructor(){this._store=new u,S(this)}dispose(){w(this),this._store.dispose()}_register(i){if(i===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(i)}}e.Disposable=a,a.None=Object.freeze({dispose(){}});class r{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(i){var n;this._isDisposed||i===this._value||((n=this._value)===null||n===void 0||n.dispose(),i&&w(i),this._value=i)}clear(){this.value=void 0}dispose(){var i;this._isDisposed=!0,w(this),(i=this._value)===null||i===void 0||i.dispose(),this._value=void 0}}e.MutableDisposable=r;class d{constructor(i){this.object=i}dispose(){}}e.ImmortalReference=d}),define(ee[71],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class C{constructor(w){this.element=w,this.next=C.Undefined,this.prev=C.Undefined}}C.Undefined=new C(void 0);class M{constructor(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===C.Undefined}clear(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}unshift(w){return this._insert(w,!1)}push(w){return this._insert(w,!0)}_insert(w,S){const v=new C(w);if(this._first===C.Undefined)this._first=v,this._last=v;else if(S){const f=this._last;this._last=v,v.prev=f,f.next=v}else{const f=this._first;this._first=v,v.next=f,f.prev=v}this._size+=1;let l=!1;return()=>{l||(l=!0,this._remove(v))}}shift(){if(this._first!==C.Undefined){const w=this._first.element;return this._remove(this._first),w}}pop(){if(this._last!==C.Undefined){const w=this._last.element;return this._remove(this._last),w}}_remove(w){if(w.prev!==C.Undefined&&w.next!==C.Undefined){const S=w.prev;S.next=w.next,w.next.prev=S}else w.prev===C.Undefined&&w.next===C.Undefined?(this._first=C.Undefined,this._last=C.Undefined):w.next===C.Undefined?(this._last=this._last.prev,this._last.next=C.Undefined):w.prev===C.Undefined&&(this._first=this._first.next,this._first.prev=C.Undefined);this._size-=1}*[Symbol.iterator](){let w=this._first;for(;w!==C.Undefined;)yield w.element,w=w.next}}e.LinkedList=M}),function($,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):($=typeof globalThis!="undefined"?globalThis:$||self,$.marked=e())}(this,function(){"use strict";function $(we,Se){for(var fe=0;fe<Se.length;fe++){var oe=Se[fe];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(we,oe.key,oe)}}function e(we,Se,fe){return Se&&$(we.prototype,Se),fe&&$(we,fe),we}function C(we,Se){if(!!we){if(typeof we=="string")return M(we,Se);var fe=Object.prototype.toString.call(we).slice(8,-1);if(fe==="Object"&&we.constructor&&(fe=we.constructor.name),fe==="Map"||fe==="Set")return Array.from(we);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return M(we,Se)}}function M(we,Se){(Se==null||Se>we.length)&&(Se=we.length);for(var fe=0,oe=new Array(Se);fe<Se;fe++)oe[fe]=we[fe];return oe}function k(we,Se){var fe;if(typeof Symbol=="undefined"||we[Symbol.iterator]==null){if(Array.isArray(we)||(fe=C(we))||Se&&we&&typeof we.length=="number"){fe&&(we=fe);var oe=0;return function(){return oe>=we.length?{done:!0}:{done:!1,value:we[oe++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return fe=we[Symbol.iterator](),fe.next.bind(fe)}function w(we,Se){return Se={exports:{}},we(Se,Se.exports),Se.exports}var S=w(function(we){function Se(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function fe(oe){we.exports.defaults=oe}we.exports={defaults:Se(),getDefaults:Se,changeDefaults:fe}}),v=S.defaults,l=S.getDefaults,f=S.changeDefaults,p=/[&<>"']/,c=/[&<>"']/g,u=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=function(Se){return r[Se]};function s(we,Se){if(Se){if(p.test(we))return we.replace(c,d)}else if(u.test(we))return we.replace(a,d);return we}var i=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function n(we){return we.replace(i,function(Se,fe){return fe=fe.toLowerCase(),fe==="colon"?":":fe.charAt(0)==="#"?fe.charAt(1)==="x"?String.fromCharCode(parseInt(fe.substring(2),16)):String.fromCharCode(+fe.substring(1)):""})}var t=/(^|[^\[])\^/g;function o(we,Se){we=we.source||we,Se=Se||"";var fe={replace:function(ge,_e){return _e=_e.source||_e,_e=_e.replace(t,"$1"),we=we.replace(ge,_e),fe},getRegex:function(){return new RegExp(we,Se)}};return fe}var h=/[^\w:]/g,_=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(we,Se,fe){if(we){var oe;try{oe=decodeURIComponent(n(fe)).replace(h,"").toLowerCase()}catch(ge){return null}if(oe.indexOf("javascript:")===0||oe.indexOf("vbscript:")===0||oe.indexOf("data:")===0)return null}Se&&!_.test(fe)&&(fe=D(Se,fe));try{fe=encodeURI(fe).replace(/%25/g,"%")}catch(ge){return null}return fe}var g={},b=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,L=/^([^:]+:\/*[^/]*)[\s\S]*$/;function D(we,Se){g[" "+we]||(b.test(we)?g[" "+we]=we+"/":g[" "+we]=O(we,"/",!0)),we=g[" "+we];var fe=we.indexOf(":")===-1;return Se.substring(0,2)==="//"?fe?Se:we.replace(y,"$1")+Se:Se.charAt(0)==="/"?fe?Se:we.replace(L,"$1")+Se:we+Se}var N={exec:function(){}};function I(we){for(var Se=1,fe,oe;Se<arguments.length;Se++){fe=arguments[Se];for(oe in fe)Object.prototype.hasOwnProperty.call(fe,oe)&&(we[oe]=fe[oe])}return we}function T(we,Se){var fe=we.replace(/\|/g,function(_e,be,ye){for(var Le=!1,ke=be;--ke>=0&&ye[ke]==="\\";)Le=!Le;return Le?"|":" |"}),oe=fe.split(/ \|/),ge=0;if(oe.length>Se)oe.splice(Se);else for(;oe.length<Se;)oe.push("");for(;ge<oe.length;ge++)oe[ge]=oe[ge].trim().replace(/\\\|/g,"|");return oe}function O(we,Se,fe){var oe=we.length;if(oe===0)return"";for(var ge=0;ge<oe;){var _e=we.charAt(oe-ge-1);if(_e===Se&&!fe)ge++;else if(_e!==Se&&fe)ge++;else break}return we.substr(0,oe-ge)}function A(we,Se){if(we.indexOf(Se[1])===-1)return-1;for(var fe=we.length,oe=0,ge=0;ge<fe;ge++)if(we[ge]==="\\")ge++;else if(we[ge]===Se[0])oe++;else if(we[ge]===Se[1]&&(oe--,oe<0))return ge;return-1}function B(we){we&&we.sanitize&&!we.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function E(we,Se){if(Se<1)return"";for(var fe="";Se>1;)Se&1&&(fe+=we),Se>>=1,we+=we;return fe+we}var W={escape:s,unescape:n,edit:o,cleanUrl:m,resolveUrl:D,noopTest:N,merge:I,splitCells:T,rtrim:O,findClosingBracket:A,checkSanitizeDeprecation:B,repeatString:E},R=S.defaults,F=W.rtrim,V=W.splitCells,K=W.escape,G=W.findClosingBracket;function J(we,Se,fe){var oe=Se.href,ge=Se.title?K(Se.title):null,_e=we[1].replace(/\\([\[\]])/g,"$1");return we[0].charAt(0)!=="!"?{type:"link",raw:fe,href:oe,title:ge,text:_e}:{type:"image",raw:fe,href:oe,title:ge,text:K(_e)}}function se(we,Se){var fe=we.match(/^(\s+)(?:```)/);if(fe===null)return Se;var oe=fe[1];return Se.split(`
`).map(function(ge){var _e=ge.match(/^\s+/);if(_e===null)return ge;var be=_e[0];return be.length>=oe.length?ge.slice(oe.length):ge}).join(`
`)}var ie=function(){function we(fe){this.options=fe||R}var Se=we.prototype;return Se.space=function(oe){var ge=this.rules.block.newline.exec(oe);if(ge)return ge[0].length>1?{type:"space",raw:ge[0]}:{raw:`
`}},Se.code=function(oe,ge){var _e=this.rules.block.code.exec(oe);if(_e){var be=ge[ge.length-1];if(be&&be.type==="paragraph")return{raw:_e[0],text:_e[0].trimRight()};var ye=_e[0].replace(/^ {4}/gm,"");return{type:"code",raw:_e[0],codeBlockStyle:"indented",text:this.options.pedantic?ye:F(ye,`
`)}}},Se.fences=function(oe){var ge=this.rules.block.fences.exec(oe);if(ge){var _e=ge[0],be=se(_e,ge[3]||"");return{type:"code",raw:_e,lang:ge[2]?ge[2].trim():ge[2],text:be}}},Se.heading=function(oe){var ge=this.rules.block.heading.exec(oe);if(ge)return{type:"heading",raw:ge[0],depth:ge[1].length,text:ge[2]}},Se.nptable=function(oe){var ge=this.rules.block.nptable.exec(oe);if(ge){var _e={type:"table",header:V(ge[1].replace(/^ *| *\| *$/g,"")),align:ge[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ge[3]?ge[3].replace(/\n$/,"").split(`
`):[],raw:ge[0]};if(_e.header.length===_e.align.length){var be=_e.align.length,ye;for(ye=0;ye<be;ye++)/^ *-+: *$/.test(_e.align[ye])?_e.align[ye]="right":/^ *:-+: *$/.test(_e.align[ye])?_e.align[ye]="center":/^ *:-+ *$/.test(_e.align[ye])?_e.align[ye]="left":_e.align[ye]=null;for(be=_e.cells.length,ye=0;ye<be;ye++)_e.cells[ye]=V(_e.cells[ye],_e.header.length);return _e}}},Se.hr=function(oe){var ge=this.rules.block.hr.exec(oe);if(ge)return{type:"hr",raw:ge[0]}},Se.blockquote=function(oe){var ge=this.rules.block.blockquote.exec(oe);if(ge){var _e=ge[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ge[0],text:_e}}},Se.list=function(oe){var ge=this.rules.block.list.exec(oe);if(ge){for(var _e=ge[0],be=ge[2],ye=be.length>1,Le=be[be.length-1]===")",ke={type:"list",raw:_e,ordered:ye,start:ye?+be.slice(0,-1):"",loose:!1,items:[]},Te=ge[0].match(this.rules.block.item),xe=!1,We,Ve,ze,Fe,Ke,je,Ue,qe=Te.length,He=0;He<qe;He++)We=Te[He],_e=We,Ve=We.length,We=We.replace(/^ *([*+-]|\d+[.)]) ?/,""),~We.indexOf(`
 `)&&(Ve-=We.length,We=this.options.pedantic?We.replace(/^ {1,4}/gm,""):We.replace(new RegExp("^ {1,"+Ve+"}","gm"),"")),He!==qe-1&&(ze=this.rules.block.bullet.exec(Te[He+1])[0],(ye?ze.length===1||!Le&&ze[ze.length-1]===")":ze.length>1||this.options.smartLists&&ze!==be)&&(Fe=Te.slice(He+1).join(`
`),ke.raw=ke.raw.substring(0,ke.raw.length-Fe.length),He=qe-1)),Ke=xe||/\n\n(?!\s*$)/.test(We),He!==qe-1&&(xe=We.charAt(We.length-1)===`
`,Ke||(Ke=xe)),Ke&&(ke.loose=!0),je=/^\[[ xX]\] /.test(We),Ue=void 0,je&&(Ue=We[1]!==" ",We=We.replace(/^\[[ xX]\] +/,"")),ke.items.push({type:"list_item",raw:_e,task:je,checked:Ue,loose:Ke,text:We});return ke}},Se.html=function(oe){var ge=this.rules.block.html.exec(oe);if(ge)return{type:this.options.sanitize?"paragraph":"html",raw:ge[0],pre:!this.options.sanitizer&&(ge[1]==="pre"||ge[1]==="script"||ge[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ge[0]):K(ge[0]):ge[0]}},Se.def=function(oe){var ge=this.rules.block.def.exec(oe);if(ge){ge[3]&&(ge[3]=ge[3].substring(1,ge[3].length-1));var _e=ge[1].toLowerCase().replace(/\s+/g," ");return{tag:_e,raw:ge[0],href:ge[2],title:ge[3]}}},Se.table=function(oe){var ge=this.rules.block.table.exec(oe);if(ge){var _e={type:"table",header:V(ge[1].replace(/^ *| *\| *$/g,"")),align:ge[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ge[3]?ge[3].replace(/\n$/,"").split(`
`):[]};if(_e.header.length===_e.align.length){_e.raw=ge[0];var be=_e.align.length,ye;for(ye=0;ye<be;ye++)/^ *-+: *$/.test(_e.align[ye])?_e.align[ye]="right":/^ *:-+: *$/.test(_e.align[ye])?_e.align[ye]="center":/^ *:-+ *$/.test(_e.align[ye])?_e.align[ye]="left":_e.align[ye]=null;for(be=_e.cells.length,ye=0;ye<be;ye++)_e.cells[ye]=V(_e.cells[ye].replace(/^ *\| *| *\| *$/g,""),_e.header.length);return _e}}},Se.lheading=function(oe){var ge=this.rules.block.lheading.exec(oe);if(ge)return{type:"heading",raw:ge[0],depth:ge[2].charAt(0)==="="?1:2,text:ge[1]}},Se.paragraph=function(oe){var ge=this.rules.block.paragraph.exec(oe);if(ge)return{type:"paragraph",raw:ge[0],text:ge[1].charAt(ge[1].length-1)===`
`?ge[1].slice(0,-1):ge[1]}},Se.text=function(oe,ge){var _e=this.rules.block.text.exec(oe);if(_e){var be=ge[ge.length-1];return be&&be.type==="text"?{raw:_e[0],text:_e[0]}:{type:"text",raw:_e[0],text:_e[0]}}},Se.escape=function(oe){var ge=this.rules.inline.escape.exec(oe);if(ge)return{type:"escape",raw:ge[0],text:K(ge[1])}},Se.tag=function(oe,ge,_e){var be=this.rules.inline.tag.exec(oe);if(be)return!ge&&/^<a /i.test(be[0])?ge=!0:ge&&/^<\/a>/i.test(be[0])&&(ge=!1),!_e&&/^<(pre|code|kbd|script)(\s|>)/i.test(be[0])?_e=!0:_e&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(be[0])&&(_e=!1),{type:this.options.sanitize?"text":"html",raw:be[0],inLink:ge,inRawBlock:_e,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(be[0]):K(be[0]):be[0]}},Se.link=function(oe){var ge=this.rules.inline.link.exec(oe);if(ge){var _e=G(ge[2],"()");if(_e>-1){var be=ge[0].indexOf("!")===0?5:4,ye=be+ge[1].length+_e;ge[2]=ge[2].substring(0,_e),ge[0]=ge[0].substring(0,ye).trim(),ge[3]=""}var Le=ge[2],ke="";if(this.options.pedantic){var Te=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Le);Te?(Le=Te[1],ke=Te[3]):ke=""}else ke=ge[3]?ge[3].slice(1,-1):"";Le=Le.trim().replace(/^<([\s\S]*)>$/,"$1");var xe=J(ge,{href:Le&&Le.replace(this.rules.inline._escapes,"$1"),title:ke&&ke.replace(this.rules.inline._escapes,"$1")},ge[0]);return xe}},Se.reflink=function(oe,ge){var _e;if((_e=this.rules.inline.reflink.exec(oe))||(_e=this.rules.inline.nolink.exec(oe))){var be=(_e[2]||_e[1]).replace(/\s+/g," ");if(be=ge[be.toLowerCase()],!be||!be.href){var ye=_e[0].charAt(0);return{type:"text",raw:ye,text:ye}}var Le=J(_e,be,_e[0]);return Le}},Se.strong=function(oe,ge,_e){_e===void 0&&(_e="");var be=this.rules.inline.strong.start.exec(oe);if(be&&(!be[1]||be[1]&&(_e===""||this.rules.inline.punctuation.exec(_e)))){ge=ge.slice(-1*oe.length);var ye=be[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;ye.lastIndex=0;for(var Le;(be=ye.exec(ge))!=null;)if(Le=this.rules.inline.strong.middle.exec(ge.slice(0,be.index+3)),Le)return{type:"strong",raw:oe.slice(0,Le[0].length),text:oe.slice(2,Le[0].length-2)}}},Se.em=function(oe,ge,_e){_e===void 0&&(_e="");var be=this.rules.inline.em.start.exec(oe);if(be&&(!be[1]||be[1]&&(_e===""||this.rules.inline.punctuation.exec(_e)))){ge=ge.slice(-1*oe.length);var ye=be[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;ye.lastIndex=0;for(var Le;(be=ye.exec(ge))!=null;)if(Le=this.rules.inline.em.middle.exec(ge.slice(0,be.index+2)),Le)return{type:"em",raw:oe.slice(0,Le[0].length),text:oe.slice(1,Le[0].length-1)}}},Se.codespan=function(oe){var ge=this.rules.inline.code.exec(oe);if(ge){var _e=ge[2].replace(/\n/g," "),be=/[^ ]/.test(_e),ye=_e.startsWith(" ")&&_e.endsWith(" ");return be&&ye&&(_e=_e.substring(1,_e.length-1)),_e=K(_e,!0),{type:"codespan",raw:ge[0],text:_e}}},Se.br=function(oe){var ge=this.rules.inline.br.exec(oe);if(ge)return{type:"br",raw:ge[0]}},Se.del=function(oe){var ge=this.rules.inline.del.exec(oe);if(ge)return{type:"del",raw:ge[0],text:ge[1]}},Se.autolink=function(oe,ge){var _e=this.rules.inline.autolink.exec(oe);if(_e){var be,ye;return _e[2]==="@"?(be=K(this.options.mangle?ge(_e[1]):_e[1]),ye="mailto:"+be):(be=K(_e[1]),ye=be),{type:"link",raw:_e[0],text:be,href:ye,tokens:[{type:"text",raw:be,text:be}]}}},Se.url=function(oe,ge){var _e;if(_e=this.rules.inline.url.exec(oe)){var be,ye;if(_e[2]==="@")be=K(this.options.mangle?ge(_e[0]):_e[0]),ye="mailto:"+be;else{var Le;do Le=_e[0],_e[0]=this.rules.inline._backpedal.exec(_e[0])[0];while(Le!==_e[0]);be=K(_e[0]),_e[1]==="www."?ye="http://"+be:ye=be}return{type:"link",raw:_e[0],text:be,href:ye,tokens:[{type:"text",raw:be,text:be}]}}},Se.inlineText=function(oe,ge,_e){var be=this.rules.inline.text.exec(oe);if(be){var ye;return ge?ye=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(be[0]):K(be[0]):be[0]:ye=K(this.options.smartypants?_e(be[0]):be[0]),{type:"text",raw:be[0],text:ye}}},we}(),ae=W.noopTest,X=W.edit,U=W.merge,P={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:ae,table:ae,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};P._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,P._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,P.def=X(P.def).replace("label",P._label).replace("title",P._title).getRegex(),P.bullet=/(?:[*+-]|\d{1,9}[.)])/,P.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,P.item=X(P.item,"gm").replace(/bull/g,P.bullet).getRegex(),P.list=X(P.list).replace(/bull/g,P.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+P.def.source+")").getRegex(),P._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",P._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,P.html=X(P.html,"i").replace("comment",P._comment).replace("tag",P._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P.paragraph=X(P._paragraph).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.blockquote=X(P.blockquote).replace("paragraph",P.paragraph).getRegex(),P.normal=U({},P),P.gfm=U({},P.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),P.gfm.nptable=X(P.gfm.nptable).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.gfm.table=X(P.gfm.table).replace("hr",P.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",P._tag).getRegex(),P.pedantic=U({},P.normal,{html:X(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",P._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:ae,paragraph:X(P.normal._paragraph).replace("hr",P.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",P.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var x={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ae,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ae,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};x._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",x.punctuation=X(x.punctuation).replace(/punctuation/g,x._punctuation).getRegex(),x._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",x._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",x._comment=X(P._comment).replace("(?:-->|$)","-->").getRegex(),x.em.start=X(x.em.start).replace(/punctuation/g,x._punctuation).getRegex(),x.em.middle=X(x.em.middle).replace(/punctuation/g,x._punctuation).replace(/overlapSkip/g,x._overlapSkip).getRegex(),x.em.endAst=X(x.em.endAst,"g").replace(/punctuation/g,x._punctuation).getRegex(),x.em.endUnd=X(x.em.endUnd,"g").replace(/punctuation/g,x._punctuation).getRegex(),x.strong.start=X(x.strong.start).replace(/punctuation/g,x._punctuation).getRegex(),x.strong.middle=X(x.strong.middle).replace(/punctuation/g,x._punctuation).replace(/overlapSkip/g,x._overlapSkip).getRegex(),x.strong.endAst=X(x.strong.endAst,"g").replace(/punctuation/g,x._punctuation).getRegex(),x.strong.endUnd=X(x.strong.endUnd,"g").replace(/punctuation/g,x._punctuation).getRegex(),x.blockSkip=X(x._blockSkip,"g").getRegex(),x.overlapSkip=X(x._overlapSkip,"g").getRegex(),x._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,x._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,x._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,x.autolink=X(x.autolink).replace("scheme",x._scheme).replace("email",x._email).getRegex(),x._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,x.tag=X(x.tag).replace("comment",x._comment).replace("attribute",x._attribute).getRegex(),x._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,x._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,x._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,x.link=X(x.link).replace("label",x._label).replace("href",x._href).replace("title",x._title).getRegex(),x.reflink=X(x.reflink).replace("label",x._label).getRegex(),x.reflinkSearch=X(x.reflinkSearch,"g").replace("reflink",x.reflink).replace("nolink",x.nolink).getRegex(),x.normal=U({},x),x.pedantic=U({},x.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:X(/^!?\[(label)\]\((.*?)\)/).replace("label",x._label).getRegex(),reflink:X(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x._label).getRegex()}),x.gfm=U({},x.normal,{escape:X(x.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),x.gfm.url=X(x.gfm.url,"i").replace("email",x.gfm._extended_email).getRegex(),x.breaks=U({},x.gfm,{br:X(x.br).replace("{2,}","*").getRegex(),text:X(x.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var H={block:P,inline:x},z=S.defaults,q=H.block,Q=H.inline,ce=W.repeatString;function ue(we){return we.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Y(we){var Se="",fe,oe,ge=we.length;for(fe=0;fe<ge;fe++)oe=we.charCodeAt(fe),Math.random()>.5&&(oe="x"+oe.toString(16)),Se+="&#"+oe+";";return Se}var j=function(){function we(fe){this.tokens=[],this.tokens.links=Object.create(null),this.options=fe||z,this.options.tokenizer=this.options.tokenizer||new ie,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var oe={block:q.normal,inline:Q.normal};this.options.pedantic?(oe.block=q.pedantic,oe.inline=Q.pedantic):this.options.gfm&&(oe.block=q.gfm,this.options.breaks?oe.inline=Q.breaks:oe.inline=Q.gfm),this.tokenizer.rules=oe}we.lex=function(oe,ge){var _e=new we(ge);return _e.lex(oe)},we.lexInline=function(oe,ge){var _e=new we(ge);return _e.inlineTokens(oe)};var Se=we.prototype;return Se.lex=function(oe){return oe=oe.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(oe,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(oe,ge,_e){ge===void 0&&(ge=[]),_e===void 0&&(_e=!0),oe=oe.replace(/^ +$/gm,"");for(var be,ye,Le,ke;oe;){if(be=this.tokenizer.space(oe)){oe=oe.substring(be.raw.length),be.type&&ge.push(be);continue}if(be=this.tokenizer.code(oe,ge)){oe=oe.substring(be.raw.length),be.type?ge.push(be):(ke=ge[ge.length-1],ke.raw+=`
`+be.raw,ke.text+=`
`+be.text);continue}if(be=this.tokenizer.fences(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.heading(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.nptable(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.hr(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.blockquote(oe)){oe=oe.substring(be.raw.length),be.tokens=this.blockTokens(be.text,[],_e),ge.push(be);continue}if(be=this.tokenizer.list(oe)){for(oe=oe.substring(be.raw.length),Le=be.items.length,ye=0;ye<Le;ye++)be.items[ye].tokens=this.blockTokens(be.items[ye].text,[],!1);ge.push(be);continue}if(be=this.tokenizer.html(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(_e&&(be=this.tokenizer.def(oe))){oe=oe.substring(be.raw.length),this.tokens.links[be.tag]||(this.tokens.links[be.tag]={href:be.href,title:be.title});continue}if(be=this.tokenizer.table(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.lheading(oe)){oe=oe.substring(be.raw.length),ge.push(be);continue}if(_e&&(be=this.tokenizer.paragraph(oe))){oe=oe.substring(be.raw.length),ge.push(be);continue}if(be=this.tokenizer.text(oe,ge)){oe=oe.substring(be.raw.length),be.type?ge.push(be):(ke=ge[ge.length-1],ke.raw+=`
`+be.raw,ke.text+=`
`+be.text);continue}if(oe){var Te="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(Te);break}else throw new Error(Te)}}return ge},Se.inline=function(oe){var ge,_e,be,ye,Le,ke,Te=oe.length;for(ge=0;ge<Te;ge++)switch(ke=oe[ge],ke.type){case"paragraph":case"text":case"heading":{ke.tokens=[],this.inlineTokens(ke.text,ke.tokens);break}case"table":{for(ke.tokens={header:[],cells:[]},ye=ke.header.length,_e=0;_e<ye;_e++)ke.tokens.header[_e]=[],this.inlineTokens(ke.header[_e],ke.tokens.header[_e]);for(ye=ke.cells.length,_e=0;_e<ye;_e++)for(Le=ke.cells[_e],ke.tokens.cells[_e]=[],be=0;be<Le.length;be++)ke.tokens.cells[_e][be]=[],this.inlineTokens(Le[be],ke.tokens.cells[_e][be]);break}case"blockquote":{this.inline(ke.tokens);break}case"list":{for(ye=ke.items.length,_e=0;_e<ye;_e++)this.inline(ke.items[_e].tokens);break}}return oe},Se.inlineTokens=function(oe,ge,_e,be,ye){ge===void 0&&(ge=[]),_e===void 0&&(_e=!1),be===void 0&&(be=!1),ye===void 0&&(ye="");var Le,ke=oe,Te;if(this.tokens.links){var xe=Object.keys(this.tokens.links);if(xe.length>0)for(;(Te=this.tokenizer.rules.inline.reflinkSearch.exec(ke))!=null;)xe.includes(Te[0].slice(Te[0].lastIndexOf("[")+1,-1))&&(ke=ke.slice(0,Te.index)+"["+ce("a",Te[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Te=this.tokenizer.rules.inline.blockSkip.exec(ke))!=null;)ke=ke.slice(0,Te.index)+"["+ce("a",Te[0].length-2)+"]"+ke.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;oe;){if(Le=this.tokenizer.escape(oe)){oe=oe.substring(Le.raw.length),ge.push(Le);continue}if(Le=this.tokenizer.tag(oe,_e,be)){oe=oe.substring(Le.raw.length),_e=Le.inLink,be=Le.inRawBlock,ge.push(Le);continue}if(Le=this.tokenizer.link(oe)){oe=oe.substring(Le.raw.length),Le.type==="link"&&(Le.tokens=this.inlineTokens(Le.text,[],!0,be)),ge.push(Le);continue}if(Le=this.tokenizer.reflink(oe,this.tokens.links)){oe=oe.substring(Le.raw.length),Le.type==="link"&&(Le.tokens=this.inlineTokens(Le.text,[],!0,be)),ge.push(Le);continue}if(Le=this.tokenizer.strong(oe,ke,ye)){oe=oe.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],_e,be),ge.push(Le);continue}if(Le=this.tokenizer.em(oe,ke,ye)){oe=oe.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],_e,be),ge.push(Le);continue}if(Le=this.tokenizer.codespan(oe)){oe=oe.substring(Le.raw.length),ge.push(Le);continue}if(Le=this.tokenizer.br(oe)){oe=oe.substring(Le.raw.length),ge.push(Le);continue}if(Le=this.tokenizer.del(oe)){oe=oe.substring(Le.raw.length),Le.tokens=this.inlineTokens(Le.text,[],_e,be),ge.push(Le);continue}if(Le=this.tokenizer.autolink(oe,Y)){oe=oe.substring(Le.raw.length),ge.push(Le);continue}if(!_e&&(Le=this.tokenizer.url(oe,Y))){oe=oe.substring(Le.raw.length),ge.push(Le);continue}if(Le=this.tokenizer.inlineText(oe,be,ue)){oe=oe.substring(Le.raw.length),ye=Le.raw.slice(-1),ge.push(Le);continue}if(oe){var We="Infinite loop on byte: "+oe.charCodeAt(0);if(this.options.silent){console.error(We);break}else throw new Error(We)}}return ge},e(we,null,[{key:"rules",get:function(){return{block:q,inline:Q}}}]),we}(),ne=S.defaults,Z=W.cleanUrl,le=W.escape,he=function(){function we(fe){this.options=fe||ne}var Se=we.prototype;return Se.code=function(oe,ge,_e){var be=(ge||"").match(/\S*/)[0];if(this.options.highlight){var ye=this.options.highlight(oe,be);ye!=null&&ye!==oe&&(_e=!0,oe=ye)}return be?'<pre><code class="'+this.options.langPrefix+le(be,!0)+'">'+(_e?oe:le(oe,!0))+`</code></pre>
`:"<pre><code>"+(_e?oe:le(oe,!0))+`</code></pre>
`},Se.blockquote=function(oe){return`<blockquote>
`+oe+`</blockquote>
`},Se.html=function(oe){return oe},Se.heading=function(oe,ge,_e,be){return this.options.headerIds?"<h"+ge+' id="'+this.options.headerPrefix+be.slug(_e)+'">'+oe+"</h"+ge+`>
`:"<h"+ge+">"+oe+"</h"+ge+`>
`},Se.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Se.list=function(oe,ge,_e){var be=ge?"ol":"ul",ye=ge&&_e!==1?' start="'+_e+'"':"";return"<"+be+ye+`>
`+oe+"</"+be+`>
`},Se.listitem=function(oe){return"<li>"+oe+`</li>
`},Se.checkbox=function(oe){return"<input "+(oe?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(oe){return"<p>"+oe+`</p>
`},Se.table=function(oe,ge){return ge&&(ge="<tbody>"+ge+"</tbody>"),`<table>
<thead>
`+oe+`</thead>
`+ge+`</table>
`},Se.tablerow=function(oe){return`<tr>
`+oe+`</tr>
`},Se.tablecell=function(oe,ge){var _e=ge.header?"th":"td",be=ge.align?"<"+_e+' align="'+ge.align+'">':"<"+_e+">";return be+oe+"</"+_e+`>
`},Se.strong=function(oe){return"<strong>"+oe+"</strong>"},Se.em=function(oe){return"<em>"+oe+"</em>"},Se.codespan=function(oe){return"<code>"+oe+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(oe){return"<del>"+oe+"</del>"},Se.link=function(oe,ge,_e){if(oe=Z(this.options.sanitize,this.options.baseUrl,oe),oe===null)return _e;var be='<a href="'+le(oe)+'"';return ge&&(be+=' title="'+ge+'"'),be+=">"+_e+"</a>",be},Se.image=function(oe,ge,_e){if(oe=Z(this.options.sanitize,this.options.baseUrl,oe),oe===null)return _e;var be='<img src="'+oe+'" alt="'+_e+'"';return ge&&(be+=' title="'+ge+'"'),be+=this.options.xhtml?"/>":">",be},Se.text=function(oe){return oe},we}(),re=function(){function we(){}var Se=we.prototype;return Se.strong=function(oe){return oe},Se.em=function(oe){return oe},Se.codespan=function(oe){return oe},Se.del=function(oe){return oe},Se.html=function(oe){return oe},Se.text=function(oe){return oe},Se.link=function(oe,ge,_e){return""+_e},Se.image=function(oe,ge,_e){return""+_e},Se.br=function(){return""},we}(),de=function(){function we(){this.seen={}}var Se=we.prototype;return Se.serialize=function(oe){return oe.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(oe,ge){var _e=oe,be=0;if(this.seen.hasOwnProperty(_e)){be=this.seen[oe];do be++,_e=oe+"-"+be;while(this.seen.hasOwnProperty(_e))}return ge||(this.seen[oe]=be,this.seen[_e]=0),_e},Se.slug=function(oe,ge){ge===void 0&&(ge={});var _e=this.serialize(oe);return this.getNextSafeSlug(_e,ge.dryrun)},we}(),me=S.defaults,ve=W.unescape,Ce=function(){function we(fe){this.options=fe||me,this.options.renderer=this.options.renderer||new he,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new re,this.slugger=new de}we.parse=function(oe,ge){var _e=new we(ge);return _e.parse(oe)},we.parseInline=function(oe,ge){var _e=new we(ge);return _e.parseInline(oe)};var Se=we.prototype;return Se.parse=function(oe,ge){ge===void 0&&(ge=!0);var _e="",be,ye,Le,ke,Te,xe,We,Ve,ze,Fe,Ke,je,Ue,qe,He,Qe,Ge,Ye,Xe=oe.length;for(be=0;be<Xe;be++)switch(Fe=oe[be],Fe.type){case"space":continue;case"hr":{_e+=this.renderer.hr();continue}case"heading":{_e+=this.renderer.heading(this.parseInline(Fe.tokens),Fe.depth,ve(this.parseInline(Fe.tokens,this.textRenderer)),this.slugger);continue}case"code":{_e+=this.renderer.code(Fe.text,Fe.lang,Fe.escaped);continue}case"table":{for(Ve="",We="",ke=Fe.header.length,ye=0;ye<ke;ye++)We+=this.renderer.tablecell(this.parseInline(Fe.tokens.header[ye]),{header:!0,align:Fe.align[ye]});for(Ve+=this.renderer.tablerow(We),ze="",ke=Fe.cells.length,ye=0;ye<ke;ye++){for(xe=Fe.tokens.cells[ye],We="",Te=xe.length,Le=0;Le<Te;Le++)We+=this.renderer.tablecell(this.parseInline(xe[Le]),{header:!1,align:Fe.align[Le]});ze+=this.renderer.tablerow(We)}_e+=this.renderer.table(Ve,ze);continue}case"blockquote":{ze=this.parse(Fe.tokens),_e+=this.renderer.blockquote(ze);continue}case"list":{for(Ke=Fe.ordered,je=Fe.start,Ue=Fe.loose,ke=Fe.items.length,ze="",ye=0;ye<ke;ye++)He=Fe.items[ye],Qe=He.checked,Ge=He.task,qe="",He.task&&(Ye=this.renderer.checkbox(Qe),Ue?He.tokens.length>0&&He.tokens[0].type==="text"?(He.tokens[0].text=Ye+" "+He.tokens[0].text,He.tokens[0].tokens&&He.tokens[0].tokens.length>0&&He.tokens[0].tokens[0].type==="text"&&(He.tokens[0].tokens[0].text=Ye+" "+He.tokens[0].tokens[0].text)):He.tokens.unshift({type:"text",text:Ye}):qe+=Ye),qe+=this.parse(He.tokens,Ue),ze+=this.renderer.listitem(qe,Ge,Qe);_e+=this.renderer.list(ze,Ke,je);continue}case"html":{_e+=this.renderer.html(Fe.text);continue}case"paragraph":{_e+=this.renderer.paragraph(this.parseInline(Fe.tokens));continue}case"text":{for(ze=Fe.tokens?this.parseInline(Fe.tokens):Fe.text;be+1<Xe&&oe[be+1].type==="text";)Fe=oe[++be],ze+=`
`+(Fe.tokens?this.parseInline(Fe.tokens):Fe.text);_e+=ge?this.renderer.paragraph(ze):ze;continue}default:{var Je='Token with "'+Fe.type+'" type was not found.';if(this.options.silent){console.error(Je);return}else throw new Error(Je)}}return _e},Se.parseInline=function(oe,ge){ge=ge||this.renderer;var _e="",be,ye,Le=oe.length;for(be=0;be<Le;be++)switch(ye=oe[be],ye.type){case"escape":{_e+=ge.text(ye.text);break}case"html":{_e+=ge.html(ye.text);break}case"link":{_e+=ge.link(ye.href,ye.title,this.parseInline(ye.tokens,ge));break}case"image":{_e+=ge.image(ye.href,ye.title,ye.text);break}case"strong":{_e+=ge.strong(this.parseInline(ye.tokens,ge));break}case"em":{_e+=ge.em(this.parseInline(ye.tokens,ge));break}case"codespan":{_e+=ge.codespan(ye.text);break}case"br":{_e+=ge.br();break}case"del":{_e+=ge.del(this.parseInline(ye.tokens,ge));break}case"text":{_e+=ge.text(ye.text);break}default:{var ke='Token with "'+ye.type+'" type was not found.';if(this.options.silent){console.error(ke);return}else throw new Error(ke)}}return _e},we}(),Ee=W.merge,De=W.checkSanitizeDeprecation,Pe=W.escape,Ne=S.getDefaults,Ae=S.changeDefaults,Oe=S.defaults;function Re(we,Se,fe){if(typeof we=="undefined"||we===null)throw new Error("marked(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");if(typeof Se=="function"&&(fe=Se,Se=null),Se=Ee({},Re.defaults,Se||{}),De(Se),fe){var oe=Se.highlight,ge;try{ge=j.lex(we,Se)}catch(Le){return fe(Le)}var _e=function(ke){var Te;if(!ke)try{Te=Ce.parse(ge,Se)}catch(xe){ke=xe}return Se.highlight=oe,ke?fe(ke):fe(null,Te)};if(!oe||oe.length<3||(delete Se.highlight,!ge.length))return _e();var be=0;Re.walkTokens(ge,function(Le){Le.type==="code"&&(be++,setTimeout(function(){oe(Le.text,Le.lang,function(ke,Te){if(ke)return _e(ke);Te!=null&&Te!==Le.text&&(Le.text=Te,Le.escaped=!0),be--,be===0&&_e()})},0))}),be===0&&_e();return}try{var ye=j.lex(we,Se);return Se.walkTokens&&Re.walkTokens(ye,Se.walkTokens),Ce.parse(ye,Se)}catch(Le){if(Le.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+Pe(Le.message+"",!0)+"</pre>";throw Le}}Re.options=Re.setOptions=function(we){return Ee(Re.defaults,we),Ae(Re.defaults),Re},Re.getDefaults=Ne,Re.defaults=Oe,Re.use=function(we){var Se=Ee({},we);if(we.renderer&&function(){var oe=Re.defaults.renderer||new he,ge=function(ye){var Le=oe[ye];oe[ye]=function(){for(var ke=arguments.length,Te=new Array(ke),xe=0;xe<ke;xe++)Te[xe]=arguments[xe];var We=we.renderer[ye].apply(oe,Te);return We===!1&&(We=Le.apply(oe,Te)),We}};for(var _e in we.renderer)ge(_e);Se.renderer=oe}(),we.tokenizer&&function(){var oe=Re.defaults.tokenizer||new ie,ge=function(ye){var Le=oe[ye];oe[ye]=function(){for(var ke=arguments.length,Te=new Array(ke),xe=0;xe<ke;xe++)Te[xe]=arguments[xe];var We=we.tokenizer[ye].apply(oe,Te);return We===!1&&(We=Le.apply(oe,Te)),We}};for(var _e in we.tokenizer)ge(_e);Se.tokenizer=oe}(),we.walkTokens){var fe=Re.defaults.walkTokens;Se.walkTokens=function(oe){we.walkTokens(oe),fe&&fe(oe)}}Re.setOptions(Se)},Re.walkTokens=function(we,Se){for(var fe=k(we),oe;!(oe=fe()).done;){var ge=oe.value;switch(Se(ge),ge.type){case"table":{for(var _e=k(ge.tokens.header),be;!(be=_e()).done;){var ye=be.value;Re.walkTokens(ye,Se)}for(var Le=k(ge.tokens.cells),ke;!(ke=Le()).done;)for(var Te=ke.value,xe=k(Te),We;!(We=xe()).done;){var Ve=We.value;Re.walkTokens(Ve,Se)}break}case"list":{Re.walkTokens(ge.items,Se);break}default:ge.tokens&&Re.walkTokens(ge.tokens,Se)}}},Re.parseInline=function(we,Se){if(typeof we=="undefined"||we===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof we!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(we)+", string expected");Se=Ee({},Re.defaults,Se||{}),De(Se);try{var fe=j.lexInline(we,Se);return Se.walkTokens&&Re.walkTokens(fe,Se.walkTokens),Ce.parseInline(fe,Se)}catch(oe){if(oe.message+=`
Please report this to https://github.com/markedjs/marked.`,Se.silent)return"<p>An error occurred:</p><pre>"+Pe(oe.message+"",!0)+"</pre>";throw oe}},Re.Parser=Ce,Re.parser=Ce.parse,Re.Renderer=he,Re.TextRenderer=re,Re.Lexer=j,Re.lexer=j.lex,Re.Tokenizer=ie,Re.Slugger=de,Re.parse=Re;var Be=Re;return Be}),define(ee[276],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class C{constructor(k,w=0,S=k.length,v=w-1){this.items=k,this.start=w,this.end=S,this.index=v}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=C}),define(ee[277],te([0,1,276]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class M{constructor(w=[],S=10){this._initialize(w),this._limit=S,this._onChange()}add(w){this._history.delete(w),this._history.add(w),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(w){return this._history.has(w)}_onChange(){this._reduceToLimit();const w=this._elements;this._navigator=new C.ArrayNavigator(w,0,w.length,w.length)}_reduceToLimit(){const w=this._elements;w.length>this._limit&&this._initialize(w.slice(w.length-this._limit))}_currentPosition(){const w=this._navigator.current();return w?this._elements.indexOf(w):-1}_initialize(w){this._history=new Set;for(const S of w)this._history.add(S)}get _elements(){const w=[];return this._history.forEach(S=>w.push(S)),w}}e.HistoryNavigator=M}),define(ee[100],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.clamp=void 0;function C(k,w,S){return Math.min(Math.max(k,w),S)}e.clamp=C;class M{constructor(){this._n=1,this._val=0}update(w){return this._val=this._val+(w-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=M}),define(ee[16],te([0,1]),function($,e){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.setImmediate=e.globals=e.userAgent=e.isIOS=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=void 0;const M="en";let k=!1,w=!1,S=!1,v=!1,l=!1,f=!1,p=!1,c,u=M,a,r;const d=typeof self=="object"?self:typeof global=="object"?global:{};let s;typeof process!="undefined"?s=process:typeof d.vscode!="undefined"&&(s=d.vscode.process);const i=typeof((C=s==null?void 0:s.versions)===null||C===void 0?void 0:C.electron)=="string"&&s.type==="renderer";if(e.isElectronSandboxed=i&&(s==null?void 0:s.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const _=s==null?void 0:s.env.ENABLE_VSCODE_BROWSER_CODE_LOADING;if(typeof _=="string")return _==="none"||_==="code"||_==="bypassHeatCheck"||_==="bypassHeatCheckAndEagerCompile"?_:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!i)r=navigator.userAgent,k=r.indexOf("Windows")>=0,w=r.indexOf("Macintosh")>=0,p=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=r.indexOf("Linux")>=0,f=!0,c=navigator.language,u=c;else if(typeof s=="object"){k=s.platform==="win32",w=s.platform==="darwin",S=s.platform==="linux",v=S&&!!s.env.SNAP&&!!s.env.SNAP_REVISION,c=M,u=M;const _=s.env.VSCODE_NLS_CONFIG;if(_)try{const m=JSON.parse(_),g=m.availableLanguages["*"];c=m.locale,u=g||M,a=m._translationsConfigFile}catch(m){}l=!0}else console.error("Unable to resolve platform.");let n=0;w?n=1:k?n=3:S&&(n=2),e.isWindows=k,e.isMacintosh=w,e.isLinux=S,e.isNative=l,e.isWeb=f,e.isIOS=p,e.userAgent=r,e.globals=d,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let g=[];e.globals.addEventListener("message",y=>{if(y.data&&y.data.vscodeSetImmediateId)for(let L=0,D=g.length;L<D;L++){const N=g[L];if(N.id===y.data.vscodeSetImmediateId){g.splice(L,1),N.callback();return}}});let b=0;return y=>{const L=++b;g.push({id:L,callback:y}),e.globals.postMessage({vscodeSetImmediateId:L},"*")}}if(s&&typeof s.nextTick=="function")return s.nextTick.bind(s);const m=Promise.resolve();return g=>m.then(g)}(),e.OS=w||p?2:k?1:3;let t=!0,o=!1;function h(){if(!o){o=!0;const _=new Uint8Array(2);_[0]=1,_[1]=2,t=new Uint16Array(_.buffer)[0]===(2<<8)+1}return t}e.isLittleEndian=h}),define(ee[278],te([0,1,16]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let M;typeof process!="undefined"?M=process:typeof C.globals.vscode!="undefined"?M={get platform(){return C.globals.vscode.process.platform},get env(){return C.globals.vscode.process.env},nextTick(k){return C.setImmediate(k)},cwd(){return C.globals.vscode.process.env.VSCODE_CWD||C.globals.vscode.process.execPath.substr(0,C.globals.vscode.process.execPath.lastIndexOf(C.globals.vscode.process.platform==="win32"?"\\":"/"))}}:M={get platform(){return C.isWindows?"win32":C.isMacintosh?"darwin":"linux"},nextTick(k){return C.setImmediate(k)},get env(){return Object.create(null)},cwd(){return"/"}},e.cwd=M.cwd,e.env=M.env,e.platform=M.platform}),define(ee[72],te([0,1,278]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const M=65,k=97,w=90,S=122,v=46,l=47,f=92,p=58,c=63;class u extends Error{constructor(o,h,_){let m;typeof h=="string"&&h.indexOf("not ")===0?(m="must not be",h=h.replace(/^not /,"")):m="must be";const g=o.indexOf(".")!==-1?"property":"argument";let b=`The "${o}" ${g} ${m} of type ${h}`;b+=`. Received type ${typeof _}`,super(b),this.code="ERR_INVALID_ARG_TYPE"}}function a(t,o){if(typeof t!="string")throw new u(o,"string",t)}function r(t){return t===l||t===f}function d(t){return t===l}function s(t){return t>=M&&t<=w||t>=k&&t<=S}function i(t,o,h,_){let m="",g=0,b=-1,y=0,L=0;for(let D=0;D<=t.length;++D){if(D<t.length)L=t.charCodeAt(D);else{if(_(L))break;L=l}if(_(L)){if(!(b===D-1||y===1))if(y===2){if(m.length<2||g!==2||m.charCodeAt(m.length-1)!==v||m.charCodeAt(m.length-2)!==v){if(m.length>2){const N=m.lastIndexOf(h);N===-1?(m="",g=0):(m=m.slice(0,N),g=m.length-1-m.lastIndexOf(h)),b=D,y=0;continue}else if(m.length!==0){m="",g=0,b=D,y=0;continue}}o&&(m+=m.length>0?`${h}..`:"..",g=2)}else m.length>0?m+=`${h}${t.slice(b+1,D)}`:m=t.slice(b+1,D),g=D-b-1;b=D,y=0}else L===v&&y!==-1?++y:y=-1}return m}function n(t,o){if(o===null||typeof o!="object")throw new u("pathObject","Object",o);const h=o.dir||o.root,_=o.base||`${o.name||""}${o.ext||""}`;return h?h===o.root?`${h}${_}`:`${h}${t}${_}`:_}e.win32={resolve(...t){let o="",h="",_=!1;for(let m=t.length-1;m>=-1;m--){let g;if(m>=0){if(g=t[m],a(g,"path"),g.length===0)continue}else o.length===0?g=C.cwd():(g=C.env[`=${o}`]||C.cwd(),(g===void 0||g.slice(0,2).toLowerCase()!==o.toLowerCase()&&g.charCodeAt(2)===f)&&(g=`${o}\\`));const b=g.length;let y=0,L="",D=!1;const N=g.charCodeAt(0);if(b===1)r(N)&&(y=1,D=!0);else if(r(N))if(D=!0,r(g.charCodeAt(1))){let I=2,T=I;for(;I<b&&!r(g.charCodeAt(I));)I++;if(I<b&&I!==T){const O=g.slice(T,I);for(T=I;I<b&&r(g.charCodeAt(I));)I++;if(I<b&&I!==T){for(T=I;I<b&&!r(g.charCodeAt(I));)I++;(I===b||I!==T)&&(L=`\\\\${O}\\${g.slice(T,I)}`,y=I)}}}else y=1;else s(N)&&g.charCodeAt(1)===p&&(L=g.slice(0,2),y=2,b>2&&r(g.charCodeAt(2))&&(D=!0,y=3));if(L.length>0)if(o.length>0){if(L.toLowerCase()!==o.toLowerCase())continue}else o=L;if(_){if(o.length>0)break}else if(h=`${g.slice(y)}\\${h}`,_=D,D&&o.length>0)break}return h=i(h,!_,"\\",r),_?`${o}\\${h}`:`${o}${h}`||"."},normalize(t){a(t,"path");const o=t.length;if(o===0)return".";let h=0,_,m=!1;const g=t.charCodeAt(0);if(o===1)return d(g)?"\\":t;if(r(g))if(m=!0,r(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!r(t.charCodeAt(y));)y++;if(y<o&&y!==L){const D=t.slice(L,y);for(L=y;y<o&&r(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!r(t.charCodeAt(y));)y++;if(y===o)return`\\\\${D}\\${t.slice(L)}\\`;y!==L&&(_=`\\\\${D}\\${t.slice(L,y)}`,h=y)}}}else h=1;else s(g)&&t.charCodeAt(1)===p&&(_=t.slice(0,2),h=2,o>2&&r(t.charCodeAt(2))&&(m=!0,h=3));let b=h<o?i(t.slice(h),!m,"\\",r):"";return b.length===0&&!m&&(b="."),b.length>0&&r(t.charCodeAt(o-1))&&(b+="\\"),_===void 0?m?`\\${b}`:b:m?`${_}\\${b}`:`${_}${b}`},isAbsolute(t){a(t,"path");const o=t.length;if(o===0)return!1;const h=t.charCodeAt(0);return r(h)||o>2&&s(h)&&t.charCodeAt(1)===p&&r(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let o,h;for(let g=0;g<t.length;++g){const b=t[g];a(b,"path"),b.length>0&&(o===void 0?o=h=b:o+=`\\${b}`)}if(o===void 0)return".";let _=!0,m=0;if(typeof h=="string"&&r(h.charCodeAt(0))){++m;const g=h.length;g>1&&r(h.charCodeAt(1))&&(++m,g>2&&(r(h.charCodeAt(2))?++m:_=!1))}if(_){for(;m<o.length&&r(o.charCodeAt(m));)m++;m>=2&&(o=`\\${o.slice(m)}`)}return e.win32.normalize(o)},relative(t,o){if(a(t,"from"),a(o,"to"),t===o)return"";const h=e.win32.resolve(t),_=e.win32.resolve(o);if(h===_||(t=h.toLowerCase(),o=_.toLowerCase(),t===o))return"";let m=0;for(;m<t.length&&t.charCodeAt(m)===f;)m++;let g=t.length;for(;g-1>m&&t.charCodeAt(g-1)===f;)g--;const b=g-m;let y=0;for(;y<o.length&&o.charCodeAt(y)===f;)y++;let L=o.length;for(;L-1>y&&o.charCodeAt(L-1)===f;)L--;const D=L-y,N=b<D?b:D;let I=-1,T=0;for(;T<N;T++){const A=t.charCodeAt(m+T);if(A!==o.charCodeAt(y+T))break;A===f&&(I=T)}if(T!==N){if(I===-1)return _}else{if(D>N){if(o.charCodeAt(y+T)===f)return _.slice(y+T+1);if(T===2)return _.slice(y+T)}b>N&&(t.charCodeAt(m+T)===f?I=T:T===2&&(I=3)),I===-1&&(I=0)}let O="";for(T=m+I+1;T<=g;++T)(T===g||t.charCodeAt(T)===f)&&(O+=O.length===0?"..":"\\..");return y+=I,O.length>0?`${O}${_.slice(y,L)}`:(_.charCodeAt(y)===f&&++y,_.slice(y,L))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const o=e.win32.resolve(t);if(o.length<=2)return t;if(o.charCodeAt(0)===f){if(o.charCodeAt(1)===f){const h=o.charCodeAt(2);if(h!==c&&h!==v)return`\\\\?\\UNC\\${o.slice(2)}`}}else if(s(o.charCodeAt(0))&&o.charCodeAt(1)===p&&o.charCodeAt(2)===f)return`\\\\?\\${o}`;return t},dirname(t){a(t,"path");const o=t.length;if(o===0)return".";let h=-1,_=0;const m=t.charCodeAt(0);if(o===1)return r(m)?t:".";if(r(m)){if(h=_=1,r(t.charCodeAt(1))){let y=2,L=y;for(;y<o&&!r(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&r(t.charCodeAt(y));)y++;if(y<o&&y!==L){for(L=y;y<o&&!r(t.charCodeAt(y));)y++;if(y===o)return t;y!==L&&(h=_=y+1)}}}}else s(m)&&t.charCodeAt(1)===p&&(h=o>2&&r(t.charCodeAt(2))?3:2,_=h);let g=-1,b=!0;for(let y=o-1;y>=_;--y)if(r(t.charCodeAt(y))){if(!b){g=y;break}}else b=!1;if(g===-1){if(h===-1)return".";g=h}return t.slice(0,g)},basename(t,o){o!==void 0&&a(o,"ext"),a(t,"path");let h=0,_=-1,m=!0,g;if(t.length>=2&&s(t.charCodeAt(0))&&t.charCodeAt(1)===p&&(h=2),o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(g=t.length-1;g>=h;--g){const L=t.charCodeAt(g);if(r(L)){if(!m){h=g+1;break}}else y===-1&&(m=!1,y=g+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(_=g):(b=-1,_=y))}return h===_?_=y:_===-1&&(_=t.length),t.slice(h,_)}for(g=t.length-1;g>=h;--g)if(r(t.charCodeAt(g))){if(!m){h=g+1;break}}else _===-1&&(m=!1,_=g+1);return _===-1?"":t.slice(h,_)},extname(t){a(t,"path");let o=0,h=-1,_=0,m=-1,g=!0,b=0;t.length>=2&&t.charCodeAt(1)===p&&s(t.charCodeAt(0))&&(o=_=2);for(let y=t.length-1;y>=o;--y){const L=t.charCodeAt(y);if(r(L)){if(!g){_=y+1;break}continue}m===-1&&(g=!1,m=y+1),L===v?h===-1?h=y:b!==1&&(b=1):h!==-1&&(b=-1)}return h===-1||m===-1||b===0||b===1&&h===m-1&&h===_+1?"":t.slice(h,m)},format:n.bind(null,"\\"),parse(t){a(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.length;let _=0,m=t.charCodeAt(0);if(h===1)return r(m)?(o.root=o.dir=t,o):(o.base=o.name=t,o);if(r(m)){if(_=1,r(t.charCodeAt(1))){let I=2,T=I;for(;I<h&&!r(t.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&r(t.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&!r(t.charCodeAt(I));)I++;I===h?_=I:I!==T&&(_=I+1)}}}}else if(s(m)&&t.charCodeAt(1)===p){if(h<=2)return o.root=o.dir=t,o;if(_=2,r(t.charCodeAt(2))){if(h===3)return o.root=o.dir=t,o;_=3}}_>0&&(o.root=t.slice(0,_));let g=-1,b=_,y=-1,L=!0,D=t.length-1,N=0;for(;D>=_;--D){if(m=t.charCodeAt(D),r(m)){if(!L){b=D+1;break}continue}y===-1&&(L=!1,y=D+1),m===v?g===-1?g=D:N!==1&&(N=1):g!==-1&&(N=-1)}return y!==-1&&(g===-1||N===0||N===1&&g===y-1&&g===b+1?o.base=o.name=t.slice(b,y):(o.name=t.slice(b,g),o.base=t.slice(b,y),o.ext=t.slice(g,y))),b>0&&b!==_?o.dir=t.slice(0,b-1):o.dir=o.root,o},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...t){let o="",h=!1;for(let _=t.length-1;_>=-1&&!h;_--){const m=_>=0?t[_]:C.cwd();a(m,"path"),m.length!==0&&(o=`${m}/${o}`,h=m.charCodeAt(0)===l)}return o=i(o,!h,"/",d),h?`/${o}`:o.length>0?o:"."},normalize(t){if(a(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===l,h=t.charCodeAt(t.length-1)===l;return t=i(t,!o,"/",d),t.length===0?o?"/":h?"./":".":(h&&(t+="/"),o?`/${t}`:t)},isAbsolute(t){return a(t,"path"),t.length>0&&t.charCodeAt(0)===l},join(...t){if(t.length===0)return".";let o;for(let h=0;h<t.length;++h){const _=t[h];a(_,"path"),_.length>0&&(o===void 0?o=_:o+=`/${_}`)}return o===void 0?".":e.posix.normalize(o)},relative(t,o){if(a(t,"from"),a(o,"to"),t===o||(t=e.posix.resolve(t),o=e.posix.resolve(o),t===o))return"";const h=1,_=t.length,m=_-h,g=1,b=o.length-g,y=m<b?m:b;let L=-1,D=0;for(;D<y;D++){const I=t.charCodeAt(h+D);if(I!==o.charCodeAt(g+D))break;I===l&&(L=D)}if(D===y)if(b>y){if(o.charCodeAt(g+D)===l)return o.slice(g+D+1);if(D===0)return o.slice(g+D)}else m>y&&(t.charCodeAt(h+D)===l?L=D:D===0&&(L=0));let N="";for(D=h+L+1;D<=_;++D)(D===_||t.charCodeAt(D)===l)&&(N+=N.length===0?"..":"/..");return`${N}${o.slice(g+L)}`},toNamespacedPath(t){return t},dirname(t){if(a(t,"path"),t.length===0)return".";const o=t.charCodeAt(0)===l;let h=-1,_=!0;for(let m=t.length-1;m>=1;--m)if(t.charCodeAt(m)===l){if(!_){h=m;break}}else _=!1;return h===-1?o?"/":".":o&&h===1?"//":t.slice(0,h)},basename(t,o){o!==void 0&&a(o,"ext"),a(t,"path");let h=0,_=-1,m=!0,g;if(o!==void 0&&o.length>0&&o.length<=t.length){if(o===t)return"";let b=o.length-1,y=-1;for(g=t.length-1;g>=0;--g){const L=t.charCodeAt(g);if(L===l){if(!m){h=g+1;break}}else y===-1&&(m=!1,y=g+1),b>=0&&(L===o.charCodeAt(b)?--b==-1&&(_=g):(b=-1,_=y))}return h===_?_=y:_===-1&&(_=t.length),t.slice(h,_)}for(g=t.length-1;g>=0;--g)if(t.charCodeAt(g)===l){if(!m){h=g+1;break}}else _===-1&&(m=!1,_=g+1);return _===-1?"":t.slice(h,_)},extname(t){a(t,"path");let o=-1,h=0,_=-1,m=!0,g=0;for(let b=t.length-1;b>=0;--b){const y=t.charCodeAt(b);if(y===l){if(!m){h=b+1;break}continue}_===-1&&(m=!1,_=b+1),y===v?o===-1?o=b:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||_===-1||g===0||g===1&&o===_-1&&o===h+1?"":t.slice(o,_)},format:n.bind(null,"/"),parse(t){a(t,"path");const o={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return o;const h=t.charCodeAt(0)===l;let _;h?(o.root="/",_=1):_=0;let m=-1,g=0,b=-1,y=!0,L=t.length-1,D=0;for(;L>=_;--L){const N=t.charCodeAt(L);if(N===l){if(!y){g=L+1;break}continue}b===-1&&(y=!1,b=L+1),N===v?m===-1?m=L:D!==1&&(D=1):m!==-1&&(D=-1)}if(b!==-1){const N=g===0&&h?1:g;m===-1||D===0||D===1&&m===b-1&&m===g+1?o.base=o.name=t.slice(N,b):(o.name=t.slice(N,m),o.base=t.slice(N,b),o.ext=t.slice(m,b))}return g>0?o.dir=t.slice(0,g-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=C.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=C.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=C.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=C.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=C.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=C.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=C.platform==="win32"?e.win32.sep:e.posix.sep}),define(ee[119],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var C;(function(M){function k(l,f){if(l.start>=f.end||f.start>=l.end)return{start:0,end:0};const p=Math.max(l.start,f.start),c=Math.min(l.end,f.end);return c-p<=0?{start:0,end:0}:{start:p,end:c}}M.intersect=k;function w(l){return l.end-l.start<=0}M.isEmpty=w;function S(l,f){return!w(k(l,f))}M.intersects=S;function v(l,f){const p=[],c={start:l.start,end:Math.min(f.start,l.end)},u={start:Math.max(f.end,l.start),end:l.end};return w(c)||p.push(c),w(u)||p.push(u),p}M.relativeComplement=v})(C=e.Range||(e.Range={}))}),define(ee[279],te([0,1,119]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function M(l,f){const p=[];for(let c of f)if(!(l.start>=c.range.end)){if(l.end<c.range.start)break;const u=C.Range.intersect(l,c.range);C.Range.isEmpty(u)||p.push({range:u,size:c.size})}return p}e.groupIntersect=M;function k({start:l,end:f},p){return{start:l+p,end:f+p}}e.shift=k;function w(l){const f=[];let p=null;for(let c of l){const u=c.range.start,a=c.range.end,r=c.size;if(p&&r===p.size){p.range.end=a;continue}p={range:{start:u,end:a},size:r},f.push(p)}return f}e.consolidate=w;function S(...l){return w(l.reduce((f,p)=>f.concat(p),[]))}class v{constructor(){this.groups=[],this._size=0}splice(f,p,c=[]){const u=c.length-p,a=M({start:0,end:f},this.groups),r=M({start:f+p,end:Number.POSITIVE_INFINITY},this.groups).map(s=>({range:k(s.range,u),size:s.size})),d=c.map((s,i)=>({range:{start:f+i,end:f+i+1},size:s.size}));this.groups=S(a,d,r),this._size=this.groups.reduce((s,i)=>s+i.size*(i.range.end-i.range.start),0)}get count(){const f=this.groups.length;return f?this.groups[f-1].range.end:0}get size(){return this._size}indexAt(f){if(f<0)return-1;let p=0,c=0;for(let u of this.groups){const a=u.range.end-u.range.start,r=c+a*u.size;if(f<r)return p+Math.floor((f-c)/u.size);p+=a,c=r}return p}indexAfter(f){return Math.min(this.indexAt(f)+1,this.count)}positionAt(f){if(f<0)return-1;let p=0,c=0;for(let u of this.groups){const a=u.range.end-u.range.start,r=c+a;if(f<r)return p+(f-c)*u.size;p+=a*u.size,c=r}return-1}}e.RangeMap=v}),define(ee[81],te([0,1,16]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const M=C.globals.performance&&typeof C.globals.performance.now=="function";class k{constructor(S){this._highResolution=M&&S,this._startTime=this._now(),this._stopTime=-1}static create(S=!0){return new k(S)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?C.globals.performance.now():Date.now()}}e.StopWatch=k}),define(ee[6],te([0,1,11,2,71,81]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.PauseableEmitter=e.Emitter=e.Event=void 0;var S;(function(r){r.None=()=>M.Disposable.None;function d(A){return(B,E=null,W)=>{let R=!1,F;return F=A(V=>{if(!R)return F?F.dispose():R=!0,B.call(E,V)},null,W),R&&F.dispose(),F}}r.once=d;function s(A,B){return _((E,W=null,R)=>A(F=>E.call(W,B(F)),null,R))}r.map=s;function i(A,B){return _((E,W=null,R)=>A(F=>{B(F),E.call(W,F)},null,R))}r.forEach=i;function n(A,B){return _((E,W=null,R)=>A(F=>B(F)&&E.call(W,F),null,R))}r.filter=n;function t(A){return A}r.signal=t;function o(...A){return(B,E=null,W)=>M.combinedDisposable(...A.map(R=>R(F=>B.call(E,F),null,W)))}r.any=o;function h(A,B,E){let W=E;return s(A,R=>(W=B(W,R),W))}r.reduce=h;function _(A){let B;const E=new p({onFirstListenerAdd(){B=A(E.fire,E)},onLastListenerRemove(){B.dispose()}});return E.event}r.snapshot=_;function m(A,B,E=100,W=!1,R){let F,V,K,G=0;const J=new p({leakWarningThreshold:R,onFirstListenerAdd(){F=A(se=>{G++,V=B(V,se),W&&!K&&(J.fire(V),V=void 0),clearTimeout(K),K=setTimeout(()=>{const ie=V;V=void 0,K=void 0,(!W||G>1)&&J.fire(ie),G=0},E)})},onLastListenerRemove(){F.dispose()}});return J.event}r.debounce=m;function g(A){const B=new Date().getTime();return s(d(A),E=>new Date().getTime()-B)}r.stopwatch=g;function b(A){let B=!0,E;return n(A,W=>{const R=B||W!==E;return B=!1,E=W,R})}r.latch=b;function y(A,B=!1,E=[]){let W=E.slice(),R=A(K=>{W?W.push(K):V.fire(K)});const F=()=>{W&&W.forEach(K=>V.fire(K)),W=null},V=new p({onFirstListenerAdd(){R||(R=A(K=>V.fire(K)))},onFirstListenerDidAdd(){W&&(B?setTimeout(F):F())},onLastListenerRemove(){R&&R.dispose(),R=null}});return V.event}r.buffer=y;class L{constructor(B){this.event=B}map(B){return new L(s(this.event,B))}forEach(B){return new L(i(this.event,B))}filter(B){return new L(n(this.event,B))}reduce(B,E){return new L(h(this.event,B,E))}latch(){return new L(b(this.event))}debounce(B,E=100,W=!1,R){return new L(m(this.event,B,E,W,R))}on(B,E,W){return this.event(B,E,W)}once(B,E,W){return d(this.event)(B,E,W)}}function D(A){return new L(A)}r.chain=D;function N(A,B,E=W=>W){const W=(...K)=>V.fire(E(...K)),R=()=>A.on(B,W),F=()=>A.removeListener(B,W),V=new p({onFirstListenerAdd:R,onLastListenerRemove:F});return V.event}r.fromNodeEventEmitter=N;function I(A,B,E=W=>W){const W=(...K)=>V.fire(E(...K)),R=()=>A.addEventListener(B,W),F=()=>A.removeEventListener(B,W),V=new p({onFirstListenerAdd:R,onLastListenerRemove:F});return V.event}r.fromDOMEventEmitter=I;function T(A){const B=new p;let E=!1;return A.then(void 0,()=>null).then(()=>{E?B.fire(void 0):setTimeout(()=>B.fire(void 0),0)}),E=!0,B.event}r.fromPromise=T;function O(A){return new Promise(B=>d(A)(B))}r.toPromise=O})(S=e.Event||(e.Event={}));class v{constructor(d){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${d}_${v._idPool++}`}start(d){this._stopWatch=new w.StopWatch(!0),this._listenerCount=d}stop(){if(this._stopWatch){const d=this._stopWatch.elapsed();this._elapsedOverall+=d,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${d.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}v._idPool=0;let l=-1;class f{constructor(d,s=Math.random().toString(18).slice(2,5)){this.customThreshold=d,this.name=s,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(d){let s=l;if(typeof this.customThreshold=="number"&&(s=this.customThreshold),!(s<=0||d<s)){this._stacks||(this._stacks=new Map);const i=new Error().stack.split(`
`).slice(3).join(`
`),n=this._stacks.get(i)||0;if(this._stacks.set(i,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;let t,o=0;for(const[h,_]of this._stacks)(!t||o<_)&&(t=h,o=_);console.warn(`[${this.name}] potential listener LEAK detected, having ${d} listeners already. MOST frequent listener (${o}):`),console.warn(t)}return()=>{const t=this._stacks.get(i)||0;this._stacks.set(i,t-1)}}}}class p{constructor(d){var s;this._disposed=!1,this._options=d,this._leakageMon=l>0?new f(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((s=this._options)===null||s===void 0?void 0:s._profName)?new v(this._options._profName):void 0}get event(){return this._event||(this._event=(d,s,i)=>{var n;this._listeners||(this._listeners=new k.LinkedList);const t=this._listeners.isEmpty();t&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(s?[d,s]:d);t&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,d,s);const h=(n=this._leakageMon)===null||n===void 0?void 0:n.check(this._listeners.size);let _;return _={dispose:()=>{h&&h(),_.dispose=p._noop,this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},i instanceof M.DisposableStore?i.add(_):Array.isArray(i)&&i.push(_),_}),this._event}fire(d){var s,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new k.LinkedList);for(let n of this._listeners)this._deliveryQueue.push([n,d]);for((s=this._perfMon)===null||s===void 0||s.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[n,t]=this._deliveryQueue.shift();try{typeof n=="function"?n.call(void 0,t):n[0].call(n[1],t)}catch(o){C.onUnexpectedError(o)}}(i=this._perfMon)===null||i===void 0||i.stop()}}dispose(){var d,s,i;(d=this._listeners)===null||d===void 0||d.clear(),(s=this._deliveryQueue)===null||s===void 0||s.clear(),(i=this._leakageMon)===null||i===void 0||i.dispose(),this._disposed=!0}}e.Emitter=p,p._noop=function(){};class c extends p{constructor(d){super(d);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=d==null?void 0:d.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const d=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(d))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(d){this._listeners&&(this._isPaused!==0?this._eventQueue.push(d):super.fire(d))}}e.PauseableEmitter=c;class u{constructor(){this.buffers=[]}wrapEvent(d){return(s,i,n)=>d(t=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>s.call(i,t)):s.call(i,t)},void 0,n)}bufferEvents(d){const s=[];this.buffers.push(s);const i=d();return this.buffers.pop(),s.forEach(n=>n()),i}}e.EventBufferer=u;class a{constructor(){this.listening=!1,this.inputEvent=S.None,this.inputEventListener=M.Disposable.None,this.emitter=new p({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(d){this.inputEvent=d,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=d(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=a}),define(ee[34],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isElectron=e.isEdgeLegacyWebView=e.isIPad=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.isEdgeLegacy=e.getPixelRatio=e.getZoomFactor=e.onDidChangeZoomLevel=e.getTimeSinceLastZoomLevelChanged=e.getZoomLevel=void 0;class M{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new C.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let c=document.createElement("canvas").getContext("2d"),u=window.devicePixelRatio||1,a=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;return u/a}}M.INSTANCE=new M;function k(){return M.INSTANCE.getZoomLevel()}e.getZoomLevel=k;function w(){return M.INSTANCE.getTimeSinceLastZoomLevelChanged()}e.getTimeSinceLastZoomLevelChanged=w;function S(p){return M.INSTANCE.onDidChangeZoomLevel(p)}e.onDidChangeZoomLevel=S;function v(){return M.INSTANCE.getZoomFactor()}e.getZoomFactor=v;function l(){return M.INSTANCE.getPixelRatio()}e.getPixelRatio=l;const f=navigator.userAgent;e.isEdgeLegacy=f.indexOf("Edge/")>=0,e.isFirefox=f.indexOf("Firefox")>=0,e.isWebKit=f.indexOf("AppleWebKit")>=0,e.isChrome=f.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&f.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isIPad=f.indexOf("iPad")>=0||e.isSafari&&navigator.maxTouchPoints>0,e.isEdgeLegacyWebView=e.isEdgeLegacy&&f.indexOf("WebView/")>=0,e.isElectron=f.indexOf("Electron/")>=0,e.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches}),define(ee[120],te([0,1,34,16]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:M.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:M.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:(()=>{if(C.isEdgeLegacy){let k=navigator.userAgent.indexOf("Edge/"),w=parseInt(navigator.userAgent.substring(k+5,navigator.userAgent.indexOf(".",k)),10);if(!w||w>=12&&w<=16)return!1}return!0})()},keyboard:(()=>M.isNative||C.isStandalone?0:navigator.keyboard||C.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)}}),define(ee[55],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stop=e.stopEvent=e.domEvent=void 0;const M=(S,v,l)=>{const f=c=>p.fire(c),p=new C.Emitter({onFirstListenerAdd:()=>{S.addEventListener(v,f,l)},onLastListenerRemove:()=>{S.removeEventListener(v,f,l)}});return p.event};e.domEvent=M;function k(S){return S.preventDefault(),S.stopPropagation(),S}e.stopEvent=k;function w(S){return C.Event.map(S,k)}e.stop=w}),define(ee[56],te([0,1,34,39,16]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;let w=new Array(230),S=new Array(112);(function(){for(let r=0;r<S.length;r++)S[r]=-1;function a(r,d){w[r]=d,S[d]=r}a(3,7),a(8,1),a(9,2),a(13,3),a(16,4),a(17,5),a(18,6),a(19,7),a(20,8),a(27,9),a(32,10),a(33,11),a(34,12),a(35,13),a(36,14),a(37,15),a(38,16),a(39,17),a(40,18),a(45,19),a(46,20),a(48,21),a(49,22),a(50,23),a(51,24),a(52,25),a(53,26),a(54,27),a(55,28),a(56,29),a(57,30),a(65,31),a(66,32),a(67,33),a(68,34),a(69,35),a(70,36),a(71,37),a(72,38),a(73,39),a(74,40),a(75,41),a(76,42),a(77,43),a(78,44),a(79,45),a(80,46),a(81,47),a(82,48),a(83,49),a(84,50),a(85,51),a(86,52),a(87,53),a(88,54),a(89,55),a(90,56),a(93,58),a(96,93),a(97,94),a(98,95),a(99,96),a(100,97),a(101,98),a(102,99),a(103,100),a(104,101),a(105,102),a(106,103),a(107,104),a(108,105),a(109,106),a(110,107),a(111,108),a(112,59),a(113,60),a(114,61),a(115,62),a(116,63),a(117,64),a(118,65),a(119,66),a(120,67),a(121,68),a(122,69),a(123,70),a(124,71),a(125,72),a(126,73),a(127,74),a(128,75),a(129,76),a(130,77),a(144,78),a(145,79),a(186,80),a(187,81),a(188,82),a(189,83),a(190,84),a(191,85),a(192,86),a(193,110),a(194,111),a(219,87),a(220,88),a(221,89),a(222,90),a(223,91),a(226,92),a(229,109),C.isFirefox?(a(59,80),a(107,81),a(109,83),k.isMacintosh&&a(224,57)):C.isWebKit&&(a(91,57),k.isMacintosh?a(93,57):a(92,57))})();function v(a){if(a.charCode){let r=String.fromCharCode(a.charCode).toUpperCase();return M.KeyCodeUtils.fromString(r)}return w[a.keyCode]||0}const l=k.isMacintosh?256:2048,f=512,p=1024,c=k.isMacintosh?2048:256;class u{constructor(r){this._standardKeyboardEventBrand=!0;let d=r;this.browserEvent=d,this.target=d.target,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.keyCode=v(d),this.code=d.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(r){return this._asKeybinding===r}_computeKeybinding(){let r=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(r=this.keyCode);let d=0;return this.ctrlKey&&(d|=l),this.altKey&&(d|=f),this.shiftKey&&(d|=p),this.metaKey&&(d|=c),d|=r,d}_computeRuntimeKeybinding(){let r=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(r=this.keyCode),new M.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,r)}}e.StandardKeyboardEvent=u}),define(ee[50],te([0,1,34,191,16]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class w{constructor(l){this.timestamp=Date.now(),this.browserEvent=l,this.leftButton=l.button===0,this.middleButton=l.button===1,this.rightButton=l.button===2,this.buttons=l.buttons,this.target=l.target,this.detail=l.detail||1,l.type==="dblclick"&&(this.detail=2),this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.altKey=l.altKey,this.metaKey=l.metaKey,typeof l.pageX=="number"?(this.posx=l.pageX,this.posy=l.pageY):(this.posx=l.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=l.clientY+document.body.scrollTop+document.documentElement.scrollTop);let f=M.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,l.view);this.posx-=f.left,this.posy-=f.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=w;class S{constructor(l,f=0,p=0){if(this.browserEvent=l||null,this.target=l?l.target||l.targetNode||l.srcElement:null,this.deltaY=p,this.deltaX=f,l){let c=l,u=l;if(typeof c.wheelDeltaY!="undefined")this.deltaY=c.wheelDeltaY/120;else if(typeof u.VERTICAL_AXIS!="undefined"&&u.axis===u.VERTICAL_AXIS)this.deltaY=-u.detail/3;else if(l.type==="wheel"){const a=l;a.deltaMode===a.DOM_DELTA_LINE?C.isFirefox&&!k.isMacintosh?this.deltaY=-l.deltaY/3:this.deltaY=-l.deltaY:this.deltaY=-l.deltaY/40}if(typeof c.wheelDeltaX!="undefined")C.isSafari&&k.isWindows?this.deltaX=-(c.wheelDeltaX/120):this.deltaX=c.wheelDeltaX/120;else if(typeof u.HORIZONTAL_AXIS!="undefined"&&u.axis===u.HORIZONTAL_AXIS)this.deltaX=-l.detail/3;else if(l.type==="wheel"){const a=l;a.deltaMode===a.DOM_DELTA_LINE?C.isFirefox&&!k.isMacintosh?this.deltaX=-l.deltaX/3:this.deltaX=-l.deltaX:this.deltaX=-l.deltaX/40}this.deltaY===0&&this.deltaX===0&&l.wheelDelta&&(this.deltaY=l.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=S}),define(ee[23],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const M=Object.freeze(function(v,l){const f=setTimeout(v.bind(l),0);return{dispose(){clearTimeout(f)}}});var k;(function(v){function l(f){return f===v.None||f===v.Cancelled||f instanceof w?!0:!f||typeof f!="object"?!1:typeof f.isCancellationRequested=="boolean"&&typeof f.onCancellationRequested=="function"}v.isCancellationToken=l,v.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:C.Event.None}),v.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:M})})(k=e.CancellationToken||(e.CancellationToken={}));class w{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?M:(this._emitter||(this._emitter=new C.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(l){this._token=void 0,this._parentListener=void 0,this._parentListener=l&&l.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new w),this._token}cancel(){this._token?this._token instanceof w&&this._token.cancel():this._token=k.Cancelled}dispose(l=!1){l&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof w&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=S});var Ie=this&&this.__awaiter||function($,e,C,M){function k(w){return w instanceof C?w:new C(function(S){S(w)})}return new(C||(C=Promise))(function(w,S){function v(p){try{f(M.next(p))}catch(c){S(c)}}function l(p){try{f(M.throw(p))}catch(c){S(c)}}function f(p){p.done?w(p.value):k(p.value).then(v,l)}f((M=M.apply($,e||[])).next())})};define(ee[15],te([0,1,23,11,2]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Promises=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.Delayer=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function w(i){return i&&typeof i.then=="function"}e.isThenable=w;function S(i){const n=new C.CancellationTokenSource,t=i(n.token),o=new Promise((h,_)=>{n.token.onCancellationRequested(()=>{_(M.canceled())}),Promise.resolve(t).then(m=>{n.dispose(),h(m)},m=>{n.dispose(),_(m)})});return new class{cancel(){n.cancel()}then(h,_){return o.then(h,_)}catch(h){return this.then(void 0,h)}finally(h){return o.finally(h)}}}e.createCancelablePromise=S;function v(i,n,t){return Promise.race([i,new Promise(o=>n.onCancellationRequested(()=>o(t)))])}e.raceCancellation=v;class l{constructor(n){this.defaultDelay=n,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(n,t=this.defaultDelay){return this.task=n,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((o,h)=>{this.doResolve=o,this.doReject=h}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const o=this.task;return this.task=null,o()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(M.canceled()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=l;function f(i,n){return n?new Promise((t,o)=>{const h=setTimeout(t,i);n.onCancellationRequested(()=>{clearTimeout(h),o(M.canceled())})}):S(t=>f(i,t))}e.timeout=f;function p(i,n=0){const t=setTimeout(i,n);return k.toDisposable(()=>clearTimeout(t))}e.disposableTimeout=p;function c(i,n=o=>!!o,t=null){let o=0;const h=i.length,_=()=>{if(o>=h)return Promise.resolve(t);const m=i[o++];return Promise.resolve(m()).then(b=>n(b)?Promise.resolve(b):_())};return _()}e.first=c;class u{constructor(n,t){this._token=-1,typeof n=="function"&&typeof t=="number"&&this.setIfNotSet(n,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(n,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,n()},t)}setIfNotSet(n,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,n()},t))}}e.TimeoutTimer=u;class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(n,t){this.cancel(),this._token=setInterval(()=>{n()},t)}}e.IntervalTimer=a;class r{constructor(n,t){this.timeoutToken=-1,this.runner=n,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(n=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,n)}get delay(){return this.timeout}set delay(n){this.timeout=n}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=r,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const i=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=n=>{const t=setTimeout(()=>n(i));let o=!1;return{dispose(){o||(o=!0,clearTimeout(t))}}}}else e.runWhenIdle=(i,n)=>{const t=requestIdleCallback(i,typeof n=="number"?{timeout:n}:void 0);let o=!1;return{dispose(){o||(o=!0,cancelIdleCallback(t))}}}}();class d{constructor(n){this._didRun=!1,this._executor=()=>{try{this._value=n()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=e.runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=d;var s;(function(i){function n(_){return Ie(this,void 0,void 0,function*(){return typeof Promise.allSettled=="function"?t(_):o(_)})}i.allSettled=n;function t(_){return Ie(this,void 0,void 0,function*(){return Promise.allSettled(_)})}function o(_){return Ie(this,void 0,void 0,function*(){return Promise.all(_.map(m=>m.then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))})}function h(_){return Ie(this,void 0,void 0,function*(){let m;const g=yield Promise.all(_.map(b=>b.then(y=>y,y=>{m||(m=y)})));if(m)throw m;return g})}i.settled=h})(s=e.Promises||(e.Promises={}))}),define(ee[280],te([0,1,15,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends M.Disposable{constructor(S,v,l){super();this._visibility=S,this._visibleClassName=v,this._invisibleClassName=l,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new C.TimeoutTimer)}applyVisibilitySetting(S){return this._visibility===2?!1:this._visibility===3?!0:S}setShouldBeVisible(S){const v=this.applyVisibilitySetting(S);this._shouldBeVisible!==v&&(this._shouldBeVisible=v,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(S){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(ee[27],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.registerCodicon=e.iconRegistry=void 0;class M{constructor(){this._icons=new Map,this._onDidRegister=new C.Emitter}add(f){const p=this._icons.get(f.id);p?f.description?p.description=f.description:console.error(`Duplicate registration of codicon ${f.id}`):(this._icons.set(f.id,f),this._onDidRegister.fire(f))}get(f){return this._icons.get(f)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const k=new M;e.iconRegistry=k;function w(l,f){return new S(l,f)}e.registerCodicon=w;class S{constructor(f,p,c){this.id=f,this.definition=p,this.description=c,k.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=S;var v;(function(l){l.iconIdRegex=/^(codicon\/)?([a-z\-]+)(?:~([a-z\-]+))?$/i;function f(u){if(u instanceof S)return["codicon","codicon-"+u.id];const a=l.iconIdRegex.exec(u.id);if(!a)return f(S.error);let[,,r,d]=a;const s=["codicon","codicon-"+r];return d&&s.push("codicon-modifier-"+d),s}l.asClassNameArray=f;function p(u){return f(u).join(" ")}l.asClassName=p;function c(u){return"."+f(u).join(".")}l.asCSSSelector=c})(v=e.CSSIcon||(e.CSSIcon={})),function(l){l.add=new l("add",{character:"\\ea60"}),l.plus=new l("plus",{character:"\\ea60"}),l.gistNew=new l("gist-new",{character:"\\ea60"}),l.repoCreate=new l("repo-create",{character:"\\ea60"}),l.lightbulb=new l("lightbulb",{character:"\\ea61"}),l.lightBulb=new l("light-bulb",{character:"\\ea61"}),l.repo=new l("repo",{character:"\\ea62"}),l.repoDelete=new l("repo-delete",{character:"\\ea62"}),l.gistFork=new l("gist-fork",{character:"\\ea63"}),l.repoForked=new l("repo-forked",{character:"\\ea63"}),l.gitPullRequest=new l("git-pull-request",{character:"\\ea64"}),l.gitPullRequestAbandoned=new l("git-pull-request-abandoned",{character:"\\ea64"}),l.recordKeys=new l("record-keys",{character:"\\ea65"}),l.keyboard=new l("keyboard",{character:"\\ea65"}),l.tag=new l("tag",{character:"\\ea66"}),l.tagAdd=new l("tag-add",{character:"\\ea66"}),l.tagRemove=new l("tag-remove",{character:"\\ea66"}),l.person=new l("person",{character:"\\ea67"}),l.personAdd=new l("person-add",{character:"\\ea67"}),l.personFollow=new l("person-follow",{character:"\\ea67"}),l.personOutline=new l("person-outline",{character:"\\ea67"}),l.personFilled=new l("person-filled",{character:"\\ea67"}),l.gitBranch=new l("git-branch",{character:"\\ea68"}),l.gitBranchCreate=new l("git-branch-create",{character:"\\ea68"}),l.gitBranchDelete=new l("git-branch-delete",{character:"\\ea68"}),l.sourceControl=new l("source-control",{character:"\\ea68"}),l.mirror=new l("mirror",{character:"\\ea69"}),l.mirrorPublic=new l("mirror-public",{character:"\\ea69"}),l.star=new l("star",{character:"\\ea6a"}),l.starAdd=new l("star-add",{character:"\\ea6a"}),l.starDelete=new l("star-delete",{character:"\\ea6a"}),l.starEmpty=new l("star-empty",{character:"\\ea6a"}),l.comment=new l("comment",{character:"\\ea6b"}),l.commentAdd=new l("comment-add",{character:"\\ea6b"}),l.alert=new l("alert",{character:"\\ea6c"}),l.warning=new l("warning",{character:"\\ea6c"}),l.search=new l("search",{character:"\\ea6d"}),l.searchSave=new l("search-save",{character:"\\ea6d"}),l.logOut=new l("log-out",{character:"\\ea6e"}),l.signOut=new l("sign-out",{character:"\\ea6e"}),l.logIn=new l("log-in",{character:"\\ea6f"}),l.signIn=new l("sign-in",{character:"\\ea6f"}),l.eye=new l("eye",{character:"\\ea70"}),l.eyeUnwatch=new l("eye-unwatch",{character:"\\ea70"}),l.eyeWatch=new l("eye-watch",{character:"\\ea70"}),l.circleFilled=new l("circle-filled",{character:"\\ea71"}),l.primitiveDot=new l("primitive-dot",{character:"\\ea71"}),l.closeDirty=new l("close-dirty",{character:"\\ea71"}),l.debugBreakpoint=new l("debug-breakpoint",{character:"\\ea71"}),l.debugBreakpointDisabled=new l("debug-breakpoint-disabled",{character:"\\ea71"}),l.debugHint=new l("debug-hint",{character:"\\ea71"}),l.primitiveSquare=new l("primitive-square",{character:"\\ea72"}),l.edit=new l("edit",{character:"\\ea73"}),l.pencil=new l("pencil",{character:"\\ea73"}),l.info=new l("info",{character:"\\ea74"}),l.issueOpened=new l("issue-opened",{character:"\\ea74"}),l.gistPrivate=new l("gist-private",{character:"\\ea75"}),l.gitForkPrivate=new l("git-fork-private",{character:"\\ea75"}),l.lock=new l("lock",{character:"\\ea75"}),l.mirrorPrivate=new l("mirror-private",{character:"\\ea75"}),l.close=new l("close",{character:"\\ea76"}),l.removeClose=new l("remove-close",{character:"\\ea76"}),l.x=new l("x",{character:"\\ea76"}),l.repoSync=new l("repo-sync",{character:"\\ea77"}),l.sync=new l("sync",{character:"\\ea77"}),l.clone=new l("clone",{character:"\\ea78"}),l.desktopDownload=new l("desktop-download",{character:"\\ea78"}),l.beaker=new l("beaker",{character:"\\ea79"}),l.microscope=new l("microscope",{character:"\\ea79"}),l.vm=new l("vm",{character:"\\ea7a"}),l.deviceDesktop=new l("device-desktop",{character:"\\ea7a"}),l.file=new l("file",{character:"\\ea7b"}),l.fileText=new l("file-text",{character:"\\ea7b"}),l.more=new l("more",{character:"\\ea7c"}),l.ellipsis=new l("ellipsis",{character:"\\ea7c"}),l.kebabHorizontal=new l("kebab-horizontal",{character:"\\ea7c"}),l.mailReply=new l("mail-reply",{character:"\\ea7d"}),l.reply=new l("reply",{character:"\\ea7d"}),l.organization=new l("organization",{character:"\\ea7e"}),l.organizationFilled=new l("organization-filled",{character:"\\ea7e"}),l.organizationOutline=new l("organization-outline",{character:"\\ea7e"}),l.newFile=new l("new-file",{character:"\\ea7f"}),l.fileAdd=new l("file-add",{character:"\\ea7f"}),l.newFolder=new l("new-folder",{character:"\\ea80"}),l.fileDirectoryCreate=new l("file-directory-create",{character:"\\ea80"}),l.trash=new l("trash",{character:"\\ea81"}),l.trashcan=new l("trashcan",{character:"\\ea81"}),l.history=new l("history",{character:"\\ea82"}),l.clock=new l("clock",{character:"\\ea82"}),l.folder=new l("folder",{character:"\\ea83"}),l.fileDirectory=new l("file-directory",{character:"\\ea83"}),l.symbolFolder=new l("symbol-folder",{character:"\\ea83"}),l.logoGithub=new l("logo-github",{character:"\\ea84"}),l.markGithub=new l("mark-github",{character:"\\ea84"}),l.github=new l("github",{character:"\\ea84"}),l.terminal=new l("terminal",{character:"\\ea85"}),l.console=new l("console",{character:"\\ea85"}),l.repl=new l("repl",{character:"\\ea85"}),l.zap=new l("zap",{character:"\\ea86"}),l.symbolEvent=new l("symbol-event",{character:"\\ea86"}),l.error=new l("error",{character:"\\ea87"}),l.stop=new l("stop",{character:"\\ea87"}),l.variable=new l("variable",{character:"\\ea88"}),l.symbolVariable=new l("symbol-variable",{character:"\\ea88"}),l.array=new l("array",{character:"\\ea8a"}),l.symbolArray=new l("symbol-array",{character:"\\ea8a"}),l.symbolModule=new l("symbol-module",{character:"\\ea8b"}),l.symbolPackage=new l("symbol-package",{character:"\\ea8b"}),l.symbolNamespace=new l("symbol-namespace",{character:"\\ea8b"}),l.symbolObject=new l("symbol-object",{character:"\\ea8b"}),l.symbolMethod=new l("symbol-method",{character:"\\ea8c"}),l.symbolFunction=new l("symbol-function",{character:"\\ea8c"}),l.symbolConstructor=new l("symbol-constructor",{character:"\\ea8c"}),l.symbolBoolean=new l("symbol-boolean",{character:"\\ea8f"}),l.symbolNull=new l("symbol-null",{character:"\\ea8f"}),l.symbolNumeric=new l("symbol-numeric",{character:"\\ea90"}),l.symbolNumber=new l("symbol-number",{character:"\\ea90"}),l.symbolStructure=new l("symbol-structure",{character:"\\ea91"}),l.symbolStruct=new l("symbol-struct",{character:"\\ea91"}),l.symbolParameter=new l("symbol-parameter",{character:"\\ea92"}),l.symbolTypeParameter=new l("symbol-type-parameter",{character:"\\ea92"}),l.symbolKey=new l("symbol-key",{character:"\\ea93"}),l.symbolText=new l("symbol-text",{character:"\\ea93"}),l.symbolReference=new l("symbol-reference",{character:"\\ea94"}),l.goToFile=new l("go-to-file",{character:"\\ea94"}),l.symbolEnum=new l("symbol-enum",{character:"\\ea95"}),l.symbolValue=new l("symbol-value",{character:"\\ea95"}),l.symbolRuler=new l("symbol-ruler",{character:"\\ea96"}),l.symbolUnit=new l("symbol-unit",{character:"\\ea96"}),l.activateBreakpoints=new l("activate-breakpoints",{character:"\\ea97"}),l.archive=new l("archive",{character:"\\ea98"}),l.arrowBoth=new l("arrow-both",{character:"\\ea99"}),l.arrowDown=new l("arrow-down",{character:"\\ea9a"}),l.arrowLeft=new l("arrow-left",{character:"\\ea9b"}),l.arrowRight=new l("arrow-right",{character:"\\ea9c"}),l.arrowSmallDown=new l("arrow-small-down",{character:"\\ea9d"}),l.arrowSmallLeft=new l("arrow-small-left",{character:"\\ea9e"}),l.arrowSmallRight=new l("arrow-small-right",{character:"\\ea9f"}),l.arrowSmallUp=new l("arrow-small-up",{character:"\\eaa0"}),l.arrowUp=new l("arrow-up",{character:"\\eaa1"}),l.bell=new l("bell",{character:"\\eaa2"}),l.bold=new l("bold",{character:"\\eaa3"}),l.book=new l("book",{character:"\\eaa4"}),l.bookmark=new l("bookmark",{character:"\\eaa5"}),l.debugBreakpointConditionalUnverified=new l("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),l.debugBreakpointConditional=new l("debug-breakpoint-conditional",{character:"\\eaa7"}),l.debugBreakpointConditionalDisabled=new l("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),l.debugBreakpointDataUnverified=new l("debug-breakpoint-data-unverified",{character:"\\eaa8"}),l.debugBreakpointData=new l("debug-breakpoint-data",{character:"\\eaa9"}),l.debugBreakpointDataDisabled=new l("debug-breakpoint-data-disabled",{character:"\\eaa9"}),l.debugBreakpointLogUnverified=new l("debug-breakpoint-log-unverified",{character:"\\eaaa"}),l.debugBreakpointLog=new l("debug-breakpoint-log",{character:"\\eaab"}),l.debugBreakpointLogDisabled=new l("debug-breakpoint-log-disabled",{character:"\\eaab"}),l.briefcase=new l("briefcase",{character:"\\eaac"}),l.broadcast=new l("broadcast",{character:"\\eaad"}),l.browser=new l("browser",{character:"\\eaae"}),l.bug=new l("bug",{character:"\\eaaf"}),l.calendar=new l("calendar",{character:"\\eab0"}),l.caseSensitive=new l("case-sensitive",{character:"\\eab1"}),l.check=new l("check",{character:"\\eab2"}),l.checklist=new l("checklist",{character:"\\eab3"}),l.chevronDown=new l("chevron-down",{character:"\\eab4"}),l.chevronLeft=new l("chevron-left",{character:"\\eab5"}),l.chevronRight=new l("chevron-right",{character:"\\eab6"}),l.chevronUp=new l("chevron-up",{character:"\\eab7"}),l.chromeClose=new l("chrome-close",{character:"\\eab8"}),l.chromeMaximize=new l("chrome-maximize",{character:"\\eab9"}),l.chromeMinimize=new l("chrome-minimize",{character:"\\eaba"}),l.chromeRestore=new l("chrome-restore",{character:"\\eabb"}),l.circleOutline=new l("circle-outline",{character:"\\eabc"}),l.debugBreakpointUnverified=new l("debug-breakpoint-unverified",{character:"\\eabc"}),l.circleSlash=new l("circle-slash",{character:"\\eabd"}),l.circuitBoard=new l("circuit-board",{character:"\\eabe"}),l.clearAll=new l("clear-all",{character:"\\eabf"}),l.clippy=new l("clippy",{character:"\\eac0"}),l.closeAll=new l("close-all",{character:"\\eac1"}),l.cloudDownload=new l("cloud-download",{character:"\\eac2"}),l.cloudUpload=new l("cloud-upload",{character:"\\eac3"}),l.code=new l("code",{character:"\\eac4"}),l.collapseAll=new l("collapse-all",{character:"\\eac5"}),l.colorMode=new l("color-mode",{character:"\\eac6"}),l.commentDiscussion=new l("comment-discussion",{character:"\\eac7"}),l.compareChanges=new l("compare-changes",{character:"\\eafd"}),l.creditCard=new l("credit-card",{character:"\\eac9"}),l.dash=new l("dash",{character:"\\eacc"}),l.dashboard=new l("dashboard",{character:"\\eacd"}),l.database=new l("database",{character:"\\eace"}),l.debugContinue=new l("debug-continue",{character:"\\eacf"}),l.debugDisconnect=new l("debug-disconnect",{character:"\\ead0"}),l.debugPause=new l("debug-pause",{character:"\\ead1"}),l.debugRestart=new l("debug-restart",{character:"\\ead2"}),l.debugStart=new l("debug-start",{character:"\\ead3"}),l.debugStepInto=new l("debug-step-into",{character:"\\ead4"}),l.debugStepOut=new l("debug-step-out",{character:"\\ead5"}),l.debugStepOver=new l("debug-step-over",{character:"\\ead6"}),l.debugStop=new l("debug-stop",{character:"\\ead7"}),l.debug=new l("debug",{character:"\\ead8"}),l.deviceCameraVideo=new l("device-camera-video",{character:"\\ead9"}),l.deviceCamera=new l("device-camera",{character:"\\eada"}),l.deviceMobile=new l("device-mobile",{character:"\\eadb"}),l.diffAdded=new l("diff-added",{character:"\\eadc"}),l.diffIgnored=new l("diff-ignored",{character:"\\eadd"}),l.diffModified=new l("diff-modified",{character:"\\eade"}),l.diffRemoved=new l("diff-removed",{character:"\\eadf"}),l.diffRenamed=new l("diff-renamed",{character:"\\eae0"}),l.diff=new l("diff",{character:"\\eae1"}),l.discard=new l("discard",{character:"\\eae2"}),l.editorLayout=new l("editor-layout",{character:"\\eae3"}),l.emptyWindow=new l("empty-window",{character:"\\eae4"}),l.exclude=new l("exclude",{character:"\\eae5"}),l.extensions=new l("extensions",{character:"\\eae6"}),l.eyeClosed=new l("eye-closed",{character:"\\eae7"}),l.fileBinary=new l("file-binary",{character:"\\eae8"}),l.fileCode=new l("file-code",{character:"\\eae9"}),l.fileMedia=new l("file-media",{character:"\\eaea"}),l.filePdf=new l("file-pdf",{character:"\\eaeb"}),l.fileSubmodule=new l("file-submodule",{character:"\\eaec"}),l.fileSymlinkDirectory=new l("file-symlink-directory",{character:"\\eaed"}),l.fileSymlinkFile=new l("file-symlink-file",{character:"\\eaee"}),l.fileZip=new l("file-zip",{character:"\\eaef"}),l.files=new l("files",{character:"\\eaf0"}),l.filter=new l("filter",{character:"\\eaf1"}),l.flame=new l("flame",{character:"\\eaf2"}),l.foldDown=new l("fold-down",{character:"\\eaf3"}),l.foldUp=new l("fold-up",{character:"\\eaf4"}),l.fold=new l("fold",{character:"\\eaf5"}),l.folderActive=new l("folder-active",{character:"\\eaf6"}),l.folderOpened=new l("folder-opened",{character:"\\eaf7"}),l.gear=new l("gear",{character:"\\eaf8"}),l.gift=new l("gift",{character:"\\eaf9"}),l.gistSecret=new l("gist-secret",{character:"\\eafa"}),l.gist=new l("gist",{character:"\\eafb"}),l.gitCommit=new l("git-commit",{character:"\\eafc"}),l.gitCompare=new l("git-compare",{character:"\\eafd"}),l.gitMerge=new l("git-merge",{character:"\\eafe"}),l.githubAction=new l("github-action",{character:"\\eaff"}),l.githubAlt=new l("github-alt",{character:"\\eb00"}),l.globe=new l("globe",{character:"\\eb01"}),l.grabber=new l("grabber",{character:"\\eb02"}),l.graph=new l("graph",{character:"\\eb03"}),l.gripper=new l("gripper",{character:"\\eb04"}),l.heart=new l("heart",{character:"\\eb05"}),l.home=new l("home",{character:"\\eb06"}),l.horizontalRule=new l("horizontal-rule",{character:"\\eb07"}),l.hubot=new l("hubot",{character:"\\eb08"}),l.inbox=new l("inbox",{character:"\\eb09"}),l.issueClosed=new l("issue-closed",{character:"\\eb0a"}),l.issueReopened=new l("issue-reopened",{character:"\\eb0b"}),l.issues=new l("issues",{character:"\\eb0c"}),l.italic=new l("italic",{character:"\\eb0d"}),l.jersey=new l("jersey",{character:"\\eb0e"}),l.json=new l("json",{character:"\\eb0f"}),l.kebabVertical=new l("kebab-vertical",{character:"\\eb10"}),l.key=new l("key",{character:"\\eb11"}),l.law=new l("law",{character:"\\eb12"}),l.lightbulbAutofix=new l("lightbulb-autofix",{character:"\\eb13"}),l.linkExternal=new l("link-external",{character:"\\eb14"}),l.link=new l("link",{character:"\\eb15"}),l.listOrdered=new l("list-ordered",{character:"\\eb16"}),l.listUnordered=new l("list-unordered",{character:"\\eb17"}),l.liveShare=new l("live-share",{character:"\\eb18"}),l.loading=new l("loading",{character:"\\eb19"}),l.location=new l("location",{character:"\\eb1a"}),l.mailRead=new l("mail-read",{character:"\\eb1b"}),l.mail=new l("mail",{character:"\\eb1c"}),l.markdown=new l("markdown",{character:"\\eb1d"}),l.megaphone=new l("megaphone",{character:"\\eb1e"}),l.mention=new l("mention",{character:"\\eb1f"}),l.milestone=new l("milestone",{character:"\\eb20"}),l.mortarBoard=new l("mortar-board",{character:"\\eb21"}),l.move=new l("move",{character:"\\eb22"}),l.multipleWindows=new l("multiple-windows",{character:"\\eb23"}),l.mute=new l("mute",{character:"\\eb24"}),l.noNewline=new l("no-newline",{character:"\\eb25"}),l.note=new l("note",{character:"\\eb26"}),l.octoface=new l("octoface",{character:"\\eb27"}),l.openPreview=new l("open-preview",{character:"\\eb28"}),l.package_=new l("package",{character:"\\eb29"}),l.paintcan=new l("paintcan",{character:"\\eb2a"}),l.pin=new l("pin",{character:"\\eb2b"}),l.play=new l("play",{character:"\\eb2c"}),l.run=new l("run",{character:"\\eb2c"}),l.plug=new l("plug",{character:"\\eb2d"}),l.preserveCase=new l("preserve-case",{character:"\\eb2e"}),l.preview=new l("preview",{character:"\\eb2f"}),l.project=new l("project",{character:"\\eb30"}),l.pulse=new l("pulse",{character:"\\eb31"}),l.question=new l("question",{character:"\\eb32"}),l.quote=new l("quote",{character:"\\eb33"}),l.radioTower=new l("radio-tower",{character:"\\eb34"}),l.reactions=new l("reactions",{character:"\\eb35"}),l.references=new l("references",{character:"\\eb36"}),l.refresh=new l("refresh",{character:"\\eb37"}),l.regex=new l("regex",{character:"\\eb38"}),l.remoteExplorer=new l("remote-explorer",{character:"\\eb39"}),l.remote=new l("remote",{character:"\\eb3a"}),l.remove=new l("remove",{character:"\\eb3b"}),l.replaceAll=new l("replace-all",{character:"\\eb3c"}),l.replace=new l("replace",{character:"\\eb3d"}),l.repoClone=new l("repo-clone",{character:"\\eb3e"}),l.repoForcePush=new l("repo-force-push",{character:"\\eb3f"}),l.repoPull=new l("repo-pull",{character:"\\eb40"}),l.repoPush=new l("repo-push",{character:"\\eb41"}),l.report=new l("report",{character:"\\eb42"}),l.requestChanges=new l("request-changes",{character:"\\eb43"}),l.rocket=new l("rocket",{character:"\\eb44"}),l.rootFolderOpened=new l("root-folder-opened",{character:"\\eb45"}),l.rootFolder=new l("root-folder",{character:"\\eb46"}),l.rss=new l("rss",{character:"\\eb47"}),l.ruby=new l("ruby",{character:"\\eb48"}),l.saveAll=new l("save-all",{character:"\\eb49"}),l.saveAs=new l("save-as",{character:"\\eb4a"}),l.save=new l("save",{character:"\\eb4b"}),l.screenFull=new l("screen-full",{character:"\\eb4c"}),l.screenNormal=new l("screen-normal",{character:"\\eb4d"}),l.searchStop=new l("search-stop",{character:"\\eb4e"}),l.server=new l("server",{character:"\\eb50"}),l.settingsGear=new l("settings-gear",{character:"\\eb51"}),l.settings=new l("settings",{character:"\\eb52"}),l.shield=new l("shield",{character:"\\eb53"}),l.smiley=new l("smiley",{character:"\\eb54"}),l.sortPrecedence=new l("sort-precedence",{character:"\\eb55"}),l.splitHorizontal=new l("split-horizontal",{character:"\\eb56"}),l.splitVertical=new l("split-vertical",{character:"\\eb57"}),l.squirrel=new l("squirrel",{character:"\\eb58"}),l.starFull=new l("star-full",{character:"\\eb59"}),l.starHalf=new l("star-half",{character:"\\eb5a"}),l.symbolClass=new l("symbol-class",{character:"\\eb5b"}),l.symbolColor=new l("symbol-color",{character:"\\eb5c"}),l.symbolConstant=new l("symbol-constant",{character:"\\eb5d"}),l.symbolEnumMember=new l("symbol-enum-member",{character:"\\eb5e"}),l.symbolField=new l("symbol-field",{character:"\\eb5f"}),l.symbolFile=new l("symbol-file",{character:"\\eb60"}),l.symbolInterface=new l("symbol-interface",{character:"\\eb61"}),l.symbolKeyword=new l("symbol-keyword",{character:"\\eb62"}),l.symbolMisc=new l("symbol-misc",{character:"\\eb63"}),l.symbolOperator=new l("symbol-operator",{character:"\\eb64"}),l.symbolProperty=new l("symbol-property",{character:"\\eb65"}),l.wrench=new l("wrench",{character:"\\eb65"}),l.wrenchSubaction=new l("wrench-subaction",{character:"\\eb65"}),l.symbolSnippet=new l("symbol-snippet",{character:"\\eb66"}),l.tasklist=new l("tasklist",{character:"\\eb67"}),l.telescope=new l("telescope",{character:"\\eb68"}),l.textSize=new l("text-size",{character:"\\eb69"}),l.threeBars=new l("three-bars",{character:"\\eb6a"}),l.thumbsdown=new l("thumbsdown",{character:"\\eb6b"}),l.thumbsup=new l("thumbsup",{character:"\\eb6c"}),l.tools=new l("tools",{character:"\\eb6d"}),l.triangleDown=new l("triangle-down",{character:"\\eb6e"}),l.triangleLeft=new l("triangle-left",{character:"\\eb6f"}),l.triangleRight=new l("triangle-right",{character:"\\eb70"}),l.triangleUp=new l("triangle-up",{character:"\\eb71"}),l.twitter=new l("twitter",{character:"\\eb72"}),l.unfold=new l("unfold",{character:"\\eb73"}),l.unlock=new l("unlock",{character:"\\eb74"}),l.unmute=new l("unmute",{character:"\\eb75"}),l.unverified=new l("unverified",{character:"\\eb76"}),l.verified=new l("verified",{character:"\\eb77"}),l.versions=new l("versions",{character:"\\eb78"}),l.vmActive=new l("vm-active",{character:"\\eb79"}),l.vmOutline=new l("vm-outline",{character:"\\eb7a"}),l.vmRunning=new l("vm-running",{character:"\\eb7b"}),l.watch=new l("watch",{character:"\\eb7c"}),l.whitespace=new l("whitespace",{character:"\\eb7d"}),l.wholeWord=new l("whole-word",{character:"\\eb7e"}),l.window=new l("window",{character:"\\eb7f"}),l.wordWrap=new l("word-wrap",{character:"\\eb80"}),l.zoomIn=new l("zoom-in",{character:"\\eb81"}),l.zoomOut=new l("zoom-out",{character:"\\eb82"}),l.listFilter=new l("list-filter",{character:"\\eb83"}),l.listFlat=new l("list-flat",{character:"\\eb84"}),l.listSelection=new l("list-selection",{character:"\\eb85"}),l.selection=new l("selection",{character:"\\eb85"}),l.listTree=new l("list-tree",{character:"\\eb86"}),l.debugBreakpointFunctionUnverified=new l("debug-breakpoint-function-unverified",{character:"\\eb87"}),l.debugBreakpointFunction=new l("debug-breakpoint-function",{character:"\\eb88"}),l.debugBreakpointFunctionDisabled=new l("debug-breakpoint-function-disabled",{character:"\\eb88"}),l.debugStackframeActive=new l("debug-stackframe-active",{character:"\\eb89"}),l.debugStackframeDot=new l("debug-stackframe-dot",{character:"\\eb8a"}),l.debugStackframe=new l("debug-stackframe",{character:"\\eb8b"}),l.debugStackframeFocused=new l("debug-stackframe-focused",{character:"\\eb8b"}),l.debugBreakpointUnsupported=new l("debug-breakpoint-unsupported",{character:"\\eb8c"}),l.symbolString=new l("symbol-string",{character:"\\eb8d"}),l.debugReverseContinue=new l("debug-reverse-continue",{character:"\\eb8e"}),l.debugStepBack=new l("debug-step-back",{character:"\\eb8f"}),l.debugRestartFrame=new l("debug-restart-frame",{character:"\\eb90"}),l.callIncoming=new l("call-incoming",{character:"\\eb92"}),l.callOutgoing=new l("call-outgoing",{character:"\\eb93"}),l.menu=new l("menu",{character:"\\eb94"}),l.expandAll=new l("expand-all",{character:"\\eb95"}),l.feedback=new l("feedback",{character:"\\eb96"}),l.groupByRefType=new l("group-by-ref-type",{character:"\\eb97"}),l.ungroupByRefType=new l("ungroup-by-ref-type",{character:"\\eb98"}),l.account=new l("account",{character:"\\eb99"}),l.bellDot=new l("bell-dot",{character:"\\eb9a"}),l.debugConsole=new l("debug-console",{character:"\\eb9b"}),l.library=new l("library",{character:"\\eb9c"}),l.output=new l("output",{character:"\\eb9d"}),l.runAll=new l("run-all",{character:"\\eb9e"}),l.syncIgnored=new l("sync-ignored",{character:"\\eb9f"}),l.pinned=new l("pinned",{character:"\\eba0"}),l.githubInverted=new l("github-inverted",{character:"\\eba1"}),l.debugAlt=new l("debug-alt",{character:"\\eb91"}),l.serverProcess=new l("server-process",{character:"\\eba2"}),l.serverEnvironment=new l("server-environment",{character:"\\eba3"}),l.pass=new l("pass",{character:"\\eba4"}),l.stopCircle=new l("stop-circle",{character:"\\eba5"}),l.playCircle=new l("play-circle",{character:"\\eba6"}),l.record=new l("record",{character:"\\eba7"}),l.debugAltSmall=new l("debug-alt-small",{character:"\\eba8"}),l.vmConnect=new l("vm-connect",{character:"\\eba9"}),l.cloud=new l("cloud",{character:"\\ebaa"}),l.merge=new l("merge",{character:"\\ebab"}),l.exportIcon=new l("export",{character:"\\ebac"}),l.graphLeft=new l("graph-left",{character:"\\ebad"}),l.magnet=new l("magnet",{character:"\\ebae"}),l.notebook=new l("notebook",{character:"\\ebaf"}),l.redo=new l("redo",{character:"\\ebb0"}),l.checkAll=new l("check-all",{character:"\\ebb1"}),l.pinnedDirty=new l("pinned-dirty",{character:"\\ebb2"}),l.passFilled=new l("pass-filled",{character:"\\ebb3"}),l.circleLargeFilled=new l("circle-large-filled",{character:"\\ebb4"}),l.circleLargeOutline=new l("circle-large-outline",{character:"\\ebb5"}),l.combine=new l("combine",{character:"\\ebb6"}),l.gather=new l("gather",{character:"\\ebb6"}),l.table=new l("table",{character:"\\ebb7"}),l.variableGroup=new l("variable-group",{character:"\\ebb8"}),l.typeHierarchy=new l("type-hierarchy",{character:"\\ebb9"}),l.typeHierarchySub=new l("type-hierarchy-sub",{character:"\\ebba"}),l.typeHierarchySuper=new l("type-hierarchy-super",{character:"\\ebbb"}),l.dropDownButton=new l("drop-down-button",l.chevronDown.definition)}(S=e.Codicon||(e.Codicon={}))}),define(ee[195],te([0,1,27]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeItemLoadingIcon=e.treeFilterClearIcon=e.treeFilterOnTypeOffIcon=e.treeFilterOnTypeOnIcon=e.treeItemExpandedIcon=void 0,e.treeItemExpandedIcon=C.registerCodicon("tree-item-expanded",C.Codicon.chevronDown),e.treeFilterOnTypeOnIcon=C.registerCodicon("tree-filter-on-type-on",C.Codicon.listFilter),e.treeFilterOnTypeOffIcon=C.registerCodicon("tree-filter-on-type-off",C.Codicon.listSelection),e.treeFilterClearIcon=C.registerCodicon("tree-filter-clear",C.Codicon.close),e.treeItemLoadingIcon=C.registerCodicon("tree-item-loading",C.Codicon.loading)}),define(ee[281],te([0,1,15]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const M=new C.IdleValue(()=>{const v=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:v,collatorIsNumeric:v.resolvedOptions().numeric}});function k(v,l,f=!1){const p=v||"",c=l||"",u=M.value.collator.compare(p,c);return M.value.collatorIsNumeric&&u===0&&p!==c?p<c?-1:1:u}e.compareFileNames=k;function w(v,l,f){const p=v.toLowerCase(),c=l.toLowerCase(),u=S(v,l,f);if(u)return u;const a=p.endsWith(f),r=c.endsWith(f);if(a!==r)return a?-1:1;const d=k(p,c);return d!==0?d:p.localeCompare(c)}e.compareAnything=w;function S(v,l,f){const p=v.toLowerCase(),c=l.toLowerCase(),u=p.startsWith(f),a=c.startsWith(f);if(u!==a)return u?-1:1;if(u&&a){if(p.length<c.length)return-1;if(p.length>c.length)return 1}return 0}e.compareByPrefix=S}),define(ee[121],te([0,1,6,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(a,r,d,s,i,n){a=a|0,r=r|0,d=d|0,s=s|0,i=i|0,n=n|0,this.rawScrollLeft=d,this.rawScrollTop=n,a<0&&(a=0),d+a>r&&(d=r-a),d<0&&(d=0),s<0&&(s=0),n+s>i&&(n=i-s),n<0&&(n=0),this.width=a,this.scrollWidth=r,this.scrollLeft=d,this.height=s,this.scrollHeight=i,this.scrollTop=n}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,r){return new k(typeof a.width!="undefined"?a.width:this.width,typeof a.scrollWidth!="undefined"?a.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof a.height!="undefined"?a.height:this.height,typeof a.scrollHeight!="undefined"?a.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new k(this.width,this.scrollWidth,typeof a.scrollLeft!="undefined"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!="undefined"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,r){const d=this.width!==a.width,s=this.scrollWidth!==a.scrollWidth,i=this.scrollLeft!==a.scrollLeft,n=this.height!==a.height,t=this.scrollHeight!==a.scrollHeight,o=this.scrollTop!==a.scrollTop;return{inSmoothScrolling:r,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:s,scrollLeftChanged:i,heightChanged:n,scrollHeightChanged:t,scrollTopChanged:o}}}e.ScrollState=k;class w extends M.Disposable{constructor(a,r){super();this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a,this._scheduleAtNextAnimationFrame=r,this._state=new k(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,r){const d=this._state.withScrollDimensions(a,r);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const r=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r,!1)}setScrollPositionSmooth(a,r){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(a);if(this._smoothScrolling){a={scrollLeft:typeof a.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:a.scrollTop};const d=this._state.withScrollPosition(a);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let s;r?s=new f(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):s=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=s}else{const d=this._state.withScrollPosition(a);this._smoothScrolling=f.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!!this._smoothScrolling){const a=this._smoothScrolling.tick(),r=this._state.withScrollPosition(a);if(this._setState(r,!0),!!this._smoothScrolling){if(a.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}}_setState(a,r){const d=this._state;d.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(d,r)))}}e.Scrollable=w;class S{constructor(a,r,d){this.scrollLeft=a,this.scrollTop=r,this.isDone=d}}e.SmoothScrollingUpdate=S;function v(u,a){const r=a-u;return function(d){return u+r*c(d)}}function l(u,a,r){return function(d){return d<r?u(d/r):a((d-r)/(1-r))}}class f{constructor(a,r,d,s){this.from=a,this.to=r,this.duration=s,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,r,d){if(Math.abs(a-r)>2.5*d){let i,n;return a<r?(i=a+.75*d,n=r-.75*d):(i=a-.75*d,n=r+.75*d),l(v(a,i),v(n,r),.33)}return v(a,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const r=(a-this.startTime)/this.duration;if(r<1){const d=this.scrollLeft(r),s=this.scrollTop(r);return new S(d,s,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,r,d){return f.start(a,r,d)}static start(a,r,d){d=d+10;const s=Date.now()-10;return new f(a,r,s,d)}}e.SmoothScrollingOperation=f;function p(u){return Math.pow(u,3)}function c(u){return 1-p(1-u)}}),define(ee[8],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function C(Y){return!Y||typeof Y!="string"?!0:Y.trim().length===0}e.isFalsyOrWhitespace=C;const M=/{(\d+)}/g;function k(Y,...j){return j.length===0?Y:Y.replace(M,function(ne,Z){const le=parseInt(Z,10);return isNaN(le)||le<0||le>=j.length?ne:j[le]})}e.format=k;function w(Y){return Y.replace(/[<>&]/g,function(j){switch(j){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return j}})}e.escape=w;function S(Y){return Y.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=S;function v(Y,j=" "){const ne=l(Y,j);return f(ne,j)}e.trim=v;function l(Y,j){if(!Y||!j)return Y;const ne=j.length;if(ne===0||Y.length===0)return Y;let Z=0;for(;Y.indexOf(j,Z)===Z;)Z=Z+ne;return Y.substring(Z)}e.ltrim=l;function f(Y,j){if(!Y||!j)return Y;const ne=j.length,Z=Y.length;if(ne===0||Z===0)return Y;let le=Z,he=-1;for(;he=Y.lastIndexOf(j,le-1),!(he===-1||he+ne!==le);){if(he===0)return"";le=he}return Y.substring(0,le)}e.rtrim=f;function p(Y){return Y.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=p;function c(Y){return Y.replace(/\*/g,"")}e.stripWildcards=c;function u(Y,j,ne={}){if(!Y)throw new Error("Cannot create regex from empty string");j||(Y=S(Y)),ne.wholeWord&&(/\B/.test(Y.charAt(0))||(Y="\\b"+Y),/\B/.test(Y.charAt(Y.length-1))||(Y=Y+"\\b"));let Z="";return ne.global&&(Z+="g"),ne.matchCase||(Z+="i"),ne.multiline&&(Z+="m"),ne.unicode&&(Z+="u"),new RegExp(Y,Z)}e.createRegExp=u;function a(Y){return Y.source==="^"||Y.source==="^$"||Y.source==="$"||Y.source==="^\\s*$"?!1:!!(Y.exec("")&&Y.lastIndex===0)}e.regExpLeadsToEndlessLoop=a;function r(Y){return(Y.global?"g":"")+(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")}e.regExpFlags=r;function d(Y){return Y.split(/\r\n|\r|\n/)}e.splitLines=d;function s(Y){for(let j=0,ne=Y.length;j<ne;j++){const Z=Y.charCodeAt(j);if(Z!==32&&Z!==9)return j}return-1}e.firstNonWhitespaceIndex=s;function i(Y,j=0,ne=Y.length){for(let Z=j;Z<ne;Z++){const le=Y.charCodeAt(Z);if(le!==32&&le!==9)return Y.substring(j,Z)}return Y.substring(j,ne)}e.getLeadingWhitespace=i;function n(Y,j=Y.length-1){for(let ne=j;ne>=0;ne--){const Z=Y.charCodeAt(ne);if(Z!==32&&Z!==9)return ne}return-1}e.lastNonWhitespaceIndex=n;function t(Y,j){return Y<j?-1:Y>j?1:0}e.compare=t;function o(Y,j,ne=0,Z=Y.length,le=0,he=j.length){for(;ne<Z&&le<he;ne++,le++){let me=Y.charCodeAt(ne),ve=j.charCodeAt(le);if(me<ve)return-1;if(me>ve)return 1}const re=Z-ne,de=he-le;return re<de?-1:re>de?1:0}e.compareSubstring=o;function h(Y,j){return _(Y,j,0,Y.length,0,j.length)}e.compareIgnoreCase=h;function _(Y,j,ne=0,Z=Y.length,le=0,he=j.length){for(;ne<Z&&le<he;ne++,le++){let me=Y.charCodeAt(ne),ve=j.charCodeAt(le);if(me!==ve){const Ce=me-ve;if(!(Ce===32&&g(ve))&&!(Ce===-32&&g(me)))return m(me)&&m(ve)?Ce:o(Y.toLowerCase(),j.toLowerCase(),ne,Z,le,he)}}const re=Z-ne,de=he-le;return re<de?-1:re>de?1:0}e.compareSubstringIgnoreCase=_;function m(Y){return Y>=97&&Y<=122}e.isLowerAsciiLetter=m;function g(Y){return Y>=65&&Y<=90}e.isUpperAsciiLetter=g;function b(Y){return m(Y)||g(Y)}function y(Y,j){return Y.length===j.length&&L(Y,j)}e.equalsIgnoreCase=y;function L(Y,j,ne=Y.length){for(let Z=0;Z<ne;Z++){const le=Y.charCodeAt(Z),he=j.charCodeAt(Z);if(le!==he){if(b(le)&&b(he)){const re=Math.abs(le-he);if(re!==0&&re!==32)return!1}else if(String.fromCharCode(le).toLowerCase()!==String.fromCharCode(he).toLowerCase())return!1}}return!0}function D(Y,j){const ne=j.length;return j.length>Y.length?!1:L(Y,j,ne)}e.startsWithIgnoreCase=D;function N(Y,j){let ne,Z=Math.min(Y.length,j.length);for(ne=0;ne<Z;ne++)if(Y.charCodeAt(ne)!==j.charCodeAt(ne))return ne;return Z}e.commonPrefixLength=N;function I(Y,j){let ne,Z=Math.min(Y.length,j.length);const le=Y.length-1,he=j.length-1;for(ne=0;ne<Z;ne++)if(Y.charCodeAt(le-ne)!==j.charCodeAt(he-ne))return ne;return Z}e.commonSuffixLength=I;function T(Y){return 55296<=Y&&Y<=56319}e.isHighSurrogate=T;function O(Y){return 56320<=Y&&Y<=57343}e.isLowSurrogate=O;function A(Y,j){return(Y-55296<<10)+(j-56320)+65536}e.computeCodePoint=A;function B(Y,j,ne){const Z=Y.charCodeAt(ne);if(T(Z)&&ne+1<j){const le=Y.charCodeAt(ne+1);if(O(le))return A(Z,le)}return Z}e.getNextCodePoint=B;function E(Y,j){const ne=Y.charCodeAt(j-1);if(O(ne)&&j>1){const Z=Y.charCodeAt(j-2);if(T(Z))return A(Z,ne)}return ne}function W(Y,j){const ne=ce.getInstance(),Z=j,le=Y.length,he=B(Y,le,j);j+=he>=65536?2:1;let re=ne.getGraphemeBreakType(he);for(;j<le;){const de=B(Y,le,j),me=ne.getGraphemeBreakType(de);if(Q(re,me))break;j+=de>=65536?2:1,re=me}return j-Z}e.nextCharLength=W;function R(Y,j){const ne=ce.getInstance(),Z=j,le=E(Y,j);j-=le>=65536?2:1;let he=ne.getGraphemeBreakType(le);for(;j>0;){const re=E(Y,j),de=ne.getGraphemeBreakType(re);if(Q(de,he))break;j-=re>=65536?2:1,he=de}return Z-j}e.prevCharLength=R;function F(Y){const j=Y.byteLength,ne=[];let Z=0;for(;Z<j;){const le=Y[Z];let he;if(le>=240&&Z+3<j?he=(Y[Z++]&7)<<18>>>0|(Y[Z++]&63)<<12>>>0|(Y[Z++]&63)<<6>>>0|(Y[Z++]&63)<<0>>>0:le>=224&&Z+2<j?he=(Y[Z++]&15)<<12>>>0|(Y[Z++]&63)<<6>>>0|(Y[Z++]&63)<<0>>>0:le>=192&&Z+1<j?he=(Y[Z++]&31)<<6>>>0|(Y[Z++]&63)<<0>>>0:he=Y[Z++],he>=0&&he<=55295||he>=57344&&he<=65535)ne.push(String.fromCharCode(he));else if(he>=65536&&he<=1114111){const re=he-65536,de=55296+((re&1047552)>>>10),me=56320+((re&1023)>>>0);ne.push(String.fromCharCode(de)),ne.push(String.fromCharCode(me))}else ne.push(String.fromCharCode(65533))}return ne.join("")}e.decodeUTF8=F;const V=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function K(Y){return V.test(Y)}e.containsRTL=K;const G=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function J(Y){return G.test(Y)}e.containsEmoji=J;const se=/^[\t\n\r\x20-\x7E]*$/;function ie(Y){return se.test(Y)}e.isBasicASCII=ie,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function ae(Y){return e.UNUSUAL_LINE_TERMINATORS.test(Y)}e.containsUnusualLineTerminators=ae;function X(Y){for(let j=0,ne=Y.length;j<ne;j++)if(U(Y.charCodeAt(j)))return!0;return!1}e.containsFullWidthCharacter=X;function U(Y){return Y=+Y,Y>=11904&&Y<=55215||Y>=63744&&Y<=64255||Y>=65281&&Y<=65374}e.isFullWidthCharacter=U;function P(Y){return Y>=127462&&Y<=127487||Y===8986||Y===8987||Y===9200||Y===9203||Y>=9728&&Y<=10175||Y===11088||Y===11093||Y>=127744&&Y<=128591||Y>=128640&&Y<=128764||Y>=128992&&Y<=129003||Y>=129280&&Y<=129535||Y>=129648&&Y<=129750}e.isEmojiImprecise=P,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function x(Y){return!!(Y&&Y.length>0&&Y.charCodeAt(0)===65279)}e.startsWithUTF8BOM=x;function H(Y,j=!1){return Y?(j&&(Y=Y.replace(/\\./g,"")),Y.toLowerCase()!==Y):!1}e.containsUppercaseCharacter=H;function z(Y){const j=90-65+1;return Y=Y%(2*j),Y<j?String.fromCharCode(97+Y):String.fromCharCode(65+Y-j)}e.singleLetterHash=z;function q(Y){return ce.getInstance().getGraphemeBreakType(Y)}e.getGraphemeBreakType=q;function Q(Y,j){return Y===0?j!==5&&j!==7:Y===2&&j===3?!1:Y===4||Y===2||Y===3||j===4||j===2||j===3?!0:!(Y===8&&(j===8||j===9||j===11||j===12)||(Y===11||Y===9)&&(j===9||j===10)||(Y===12||Y===10)&&j===10||j===5||j===13||j===7||Y===1||Y===13&&j===14||Y===6&&j===6)}e.breakBetweenGraphemeBreakType=Q;class ce{constructor(){this._data=ue()}static getInstance(){return ce._INSTANCE||(ce._INSTANCE=new ce),ce._INSTANCE}getGraphemeBreakType(j){if(j<32)return j===10?3:j===13?2:4;if(j<127)return 0;const ne=this._data,Z=ne.length/3;let le=1;for(;le<=Z;)if(j<ne[3*le])le=2*le;else if(j>ne[3*le+1])le=2*le+1;else return ne[3*le+2];return 0}}ce._INSTANCE=null;function ue(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}}),define(ee[101],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const M=typeof Buffer!="undefined",k=typeof TextDecoder!="undefined";let w;class S{constructor(r){this.buffer=r,this.byteLength=this.buffer.byteLength}static wrap(r){return M&&!Buffer.isBuffer(r)&&(r=Buffer.from(r.buffer,r.byteOffset,r.byteLength)),new S(r)}toString(){return M?this.buffer.toString():k?(w||(w=new TextDecoder),w.decode(this.buffer)):C.decodeUTF8(this.buffer)}}e.VSBuffer=S;function v(a,r){return a[r+0]<<0>>>0|a[r+1]<<8>>>0}e.readUInt16LE=v;function l(a,r,d){a[d+0]=r&255,r=r>>>8,a[d+1]=r&255}e.writeUInt16LE=l;function f(a,r){return a[r]*Math.pow(2,24)+a[r+1]*Math.pow(2,16)+a[r+2]*Math.pow(2,8)+a[r+3]}e.readUInt32BE=f;function p(a,r,d){a[d+3]=r,r=r>>>8,a[d+2]=r,r=r>>>8,a[d+1]=r,r=r>>>8,a[d]=r}e.writeUInt32BE=p;function c(a,r){return a[r]}e.readUInt8=c;function u(a,r,d){a[d]=r}e.writeUInt8=u}),define(ee[152],te([0,1,16,8,72]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.toSlashes=void 0;function w(p){return p.replace(/[\\/]/g,k.posix.sep)}e.toSlashes=w;function S(p,c,u,a=k.sep){if(p===c)return!0;if(!p||!c||c.length>p.length)return!1;if(u){if(!M.startsWithIgnoreCase(p,c))return!1;if(c.length===p.length)return!0;let d=c.length;return c.charAt(c.length-1)===a&&d--,p.charAt(d)===a}return c.charAt(c.length-1)!==a&&(c+=a),p.indexOf(c)===0}e.isEqualOrParent=S;function v(p){return p>=65&&p<=90||p>=97&&p<=122}e.isWindowsDriveLetter=v;function l(p){const c=k.normalize(p);return C.isWindows?p.length>3?!1:f(c)&&(p.length===2||c.charCodeAt(2)===92):c===k.posix.sep}e.isRootOrDriveLetter=l;function f(p){return C.isWindows?v(p.charCodeAt(0))&&p.charCodeAt(1)===58:!1}e.hasDriveLetter=f}),define(ee[89],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.doHash=e.hash=void 0;function M(d){return k(d,0)}e.hash=M;function k(d,s){switch(typeof d){case"object":return d===null?w(349,s):Array.isArray(d)?l(d,s):f(d,s);case"string":return v(d,s);case"boolean":return S(d,s);case"number":return w(d,s);case"undefined":return w(937,s);default:return w(617,s)}}e.doHash=k;function w(d,s){return(s<<5)-s+d|0}function S(d,s){return w(d?433:863,s)}function v(d,s){s=w(149417,s);for(let i=0,n=d.length;i<n;i++)s=w(d.charCodeAt(i),s);return s}e.stringHash=v;function l(d,s){return s=w(104579,s),d.reduce((i,n)=>k(n,i),s)}function f(d,s){return s=w(181387,s),Object.keys(d).sort().reduce((i,n)=>(i=v(n,i),k(d[n],i)),s)}function p(d,s,i=32){const n=i-s,t=~((1<<n)-1);return(d<<s|(t&d)>>>n)>>>0}function c(d,s=0,i=d.byteLength,n=0){for(let t=0;t<i;t++)d[s+t]=n}function u(d,s,i="0"){for(;d.length<s;)d=i+d;return d}function a(d,s=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(i=>i.toString(16).padStart(2,"0")).join(""):u((d>>>0).toString(16),s/4)}e.toHexString=a;class r{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(s){const i=s.length;if(i!==0){const n=this._buff;let t=this._buffLen,o=this._leftoverHighSurrogate,h,_;for(o!==0?(h=o,_=-1,o=0):(h=s.charCodeAt(0),_=0);;){let m=h;if(C.isHighSurrogate(h))if(_+1<i){const g=s.charCodeAt(_+1);C.isLowSurrogate(g)?(_++,m=C.computeCodePoint(h,g)):m=65533}else{o=h;break}else C.isLowSurrogate(h)&&(m=65533);if(t=this._push(n,t,m),_++,_<i)h=s.charCodeAt(_);else break}this._buffLen=t,this._leftoverHighSurrogate=o}}_push(s,i,n){return n<128?s[i++]=n:n<2048?(s[i++]=192|(n&1984)>>>6,s[i++]=128|(n&63)>>>0):n<65536?(s[i++]=224|(n&61440)>>>12,s[i++]=128|(n&4032)>>>6,s[i++]=128|(n&63)>>>0):(s[i++]=240|(n&1835008)>>>18,s[i++]=128|(n&258048)>>>12,s[i++]=128|(n&4032)>>>6,s[i++]=128|(n&63)>>>0),i>=64&&(this._step(),i-=64,this._totalLen+=64,s[0]=s[64+0],s[1]=s[64+1],s[2]=s[64+2]),i}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),a(this._h0)+a(this._h1)+a(this._h2)+a(this._h3)+a(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,c(this._buff,this._buffLen),this._buffLen>56&&(this._step(),c(this._buff));const s=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(s/4294967296),!1),this._buffDV.setUint32(60,s%4294967296,!1),this._step()}_step(){const s=r._bigBlock32,i=this._buffDV;for(let y=0;y<64;y+=4)s.setUint32(y,i.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)s.setUint32(y,p(s.getUint32(y-12,!1)^s.getUint32(y-32,!1)^s.getUint32(y-56,!1)^s.getUint32(y-64,!1),1),!1);let n=this._h0,t=this._h1,o=this._h2,h=this._h3,_=this._h4,m,g,b;for(let y=0;y<80;y++)y<20?(m=t&o|~t&h,g=1518500249):y<40?(m=t^o^h,g=1859775393):y<60?(m=t&o|t&h|o&h,g=2400959708):(m=t^o^h,g=3395469782),b=p(n,5)+m+_+g+s.getUint32(y*4,!1)&4294967295,_=h,h=o,o=p(t,30),t=n,n=b;this._h0=this._h0+n&4294967295,this._h1=this._h1+t&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+_&4294967295}}e.StringSHA1=r,r._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ee[153],te([0,1,275,89]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(c){this.source=c}getElements(){const c=this.source,u=new Int32Array(c.length);for(let a=0,r=c.length;a<r;a++)u[a]=c.charCodeAt(a);return u}}e.StringDiffSequence=k;function w(p,c,u){return new f(new k(p),new k(c)).ComputeDiff(u).changes}e.stringDiff=w;class S{static Assert(c,u){if(!c)throw new Error(u)}}e.Debug=S;class v{static Copy(c,u,a,r,d){for(let s=0;s<d;s++)a[r+s]=c[u+s]}static Copy2(c,u,a,r,d){for(let s=0;s<d;s++)a[r+s]=c[u+s]}}e.MyArray=v;class l{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new C.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(c,u){this.m_originalStart=Math.min(this.m_originalStart,c),this.m_modifiedStart=Math.min(this.m_modifiedStart,u),this.m_originalCount++}AddModifiedElement(c,u){this.m_originalStart=Math.min(this.m_originalStart,c),this.m_modifiedStart=Math.min(this.m_modifiedStart,u),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class f{constructor(c,u,a=null){this.ContinueProcessingPredicate=a;const[r,d,s]=f._getElements(c),[i,n,t]=f._getElements(u);this._hasStrings=s&&t,this._originalStringElements=r,this._originalElementsOrHash=d,this._modifiedStringElements=i,this._modifiedElementsOrHash=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(c){return c.length>0&&typeof c[0]=="string"}static _getElements(c){const u=c.getElements();if(f._isStringArray(u)){const a=new Int32Array(u.length);for(let r=0,d=u.length;r<d;r++)a[r]=M.stringHash(u[r],0);return[u,a,!0]}return u instanceof Int32Array?[[],u,!1]:[[],new Int32Array(u),!1]}ElementsAreEqual(c,u){return this._originalElementsOrHash[c]!==this._modifiedElementsOrHash[u]?!1:this._hasStrings?this._originalStringElements[c]===this._modifiedStringElements[u]:!0}OriginalElementsAreEqual(c,u){return this._originalElementsOrHash[c]!==this._originalElementsOrHash[u]?!1:this._hasStrings?this._originalStringElements[c]===this._originalStringElements[u]:!0}ModifiedElementsAreEqual(c,u){return this._modifiedElementsOrHash[c]!==this._modifiedElementsOrHash[u]?!1:this._hasStrings?this._modifiedStringElements[c]===this._modifiedStringElements[u]:!0}ComputeDiff(c){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,c)}_ComputeDiff(c,u,a,r,d){const s=[!1];let i=this.ComputeDiffRecursive(c,u,a,r,s);return d&&(i=this.PrettifyChanges(i)),{quitEarly:s[0],changes:i}}ComputeDiffRecursive(c,u,a,r,d){for(d[0]=!1;c<=u&&a<=r&&this.ElementsAreEqual(c,a);)c++,a++;for(;u>=c&&r>=a&&this.ElementsAreEqual(u,r);)u--,r--;if(c>u||a>r){let h;return a<=r?(S.Assert(c===u+1,"originalStart should only be one more than originalEnd"),h=[new C.DiffChange(c,0,a,r-a+1)]):c<=u?(S.Assert(a===r+1,"modifiedStart should only be one more than modifiedEnd"),h=[new C.DiffChange(c,u-c+1,a,0)]):(S.Assert(c===u+1,"originalStart should only be one more than originalEnd"),S.Assert(a===r+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const s=[0],i=[0],n=this.ComputeRecursionPoint(c,u,a,r,s,i,d),t=s[0],o=i[0];if(n!==null)return n;if(!d[0]){const h=this.ComputeDiffRecursive(c,t,a,o,d);let _=[];return d[0]?_=[new C.DiffChange(t+1,u-(t+1)+1,o+1,r-(o+1)+1)]:_=this.ComputeDiffRecursive(t+1,u,o+1,r,d),this.ConcatenateChanges(h,_)}return[new C.DiffChange(c,u-c+1,a,r-a+1)]}WALKTRACE(c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D){let N=null,I=null,T=new l,O=u,A=a,B=m[0]-y[0]-r,E=-1073741824,W=this.m_forwardHistory.length-1;do{const R=B+c;R===O||R<A&&t[R-1]<t[R+1]?(h=t[R+1],g=h-B-r,h<E&&T.MarkNextChange(),E=h,T.AddModifiedElement(h+1,g),B=R+1-c):(h=t[R-1]+1,g=h-B-r,h<E&&T.MarkNextChange(),E=h-1,T.AddOriginalElement(h,g+1),B=R-1-c),W>=0&&(t=this.m_forwardHistory[W],c=t[0],O=1,A=t.length-1)}while(--W>=-1);if(N=T.getReverseChanges(),D[0]){let R=m[0]+1,F=y[0]+1;if(N!==null&&N.length>0){const V=N[N.length-1];R=Math.max(R,V.getOriginalEnd()),F=Math.max(F,V.getModifiedEnd())}I=[new C.DiffChange(R,_-R+1,F,b-F+1)]}else{T=new l,O=s,A=i,B=m[0]-y[0]-n,E=1073741824,W=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const R=B+d;R===O||R<A&&o[R-1]>=o[R+1]?(h=o[R+1]-1,g=h-B-n,h>E&&T.MarkNextChange(),E=h+1,T.AddOriginalElement(h+1,g+1),B=R+1-d):(h=o[R-1],g=h-B-n,h>E&&T.MarkNextChange(),E=h,T.AddModifiedElement(h+1,g+1),B=R-1-d),W>=0&&(o=this.m_reverseHistory[W],d=o[0],O=1,A=o.length-1)}while(--W>=-1);I=T.getChanges()}return this.ConcatenateChanges(N,I)}ComputeRecursionPoint(c,u,a,r,d,s,i){let n=0,t=0,o=0,h=0,_=0,m=0;c--,a--,d[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=u-c+(r-a),b=g+1,y=new Int32Array(b),L=new Int32Array(b),D=r-a,N=u-c,I=c-a,T=u-r,A=(N-D)%2==0;y[D]=c,L[N]=u,i[0]=!1;for(let B=1;B<=g/2+1;B++){let E=0,W=0;o=this.ClipDiagonalBound(D-B,B,D,b),h=this.ClipDiagonalBound(D+B,B,D,b);for(let F=o;F<=h;F+=2){F===o||F<h&&y[F-1]<y[F+1]?n=y[F+1]:n=y[F-1]+1,t=n-(F-D)-I;const V=n;for(;n<u&&t<r&&this.ElementsAreEqual(n+1,t+1);)n++,t++;if(y[F]=n,n+t>E+W&&(E=n,W=t),!A&&Math.abs(F-N)<=B-1&&n>=L[F])return d[0]=n,s[0]=t,V<=L[F]&&1447>0&&B<=1447+1?this.WALKTRACE(D,o,h,I,N,_,m,T,y,L,n,u,d,t,r,s,A,i):null}const R=(E-c+(W-a)-B)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(E,R))return i[0]=!0,d[0]=E,s[0]=W,R>0&&1447>0&&B<=1447+1?this.WALKTRACE(D,o,h,I,N,_,m,T,y,L,n,u,d,t,r,s,A,i):(c++,a++,[new C.DiffChange(c,u-c+1,a,r-a+1)]);_=this.ClipDiagonalBound(N-B,B,N,b),m=this.ClipDiagonalBound(N+B,B,N,b);for(let F=_;F<=m;F+=2){F===_||F<m&&L[F-1]>=L[F+1]?n=L[F+1]-1:n=L[F-1],t=n-(F-N)-T;const V=n;for(;n>c&&t>a&&this.ElementsAreEqual(n,t);)n--,t--;if(L[F]=n,A&&Math.abs(F-D)<=B&&n<=y[F])return d[0]=n,s[0]=t,V>=y[F]&&1447>0&&B<=1447+1?this.WALKTRACE(D,o,h,I,N,_,m,T,y,L,n,u,d,t,r,s,A,i):null}if(B<=1447){let F=new Int32Array(h-o+2);F[0]=D-o+1,v.Copy2(y,o,F,1,h-o+1),this.m_forwardHistory.push(F),F=new Int32Array(m-_+2),F[0]=N-_+1,v.Copy2(L,_,F,1,m-_+1),this.m_reverseHistory.push(F)}}return this.WALKTRACE(D,o,h,I,N,_,m,T,y,L,n,u,d,t,r,s,A,i)}PrettifyChanges(c){for(let u=0;u<c.length;u++){const a=c[u],r=u<c.length-1?c[u+1].originalStart:this._originalElementsOrHash.length,d=u<c.length-1?c[u+1].modifiedStart:this._modifiedElementsOrHash.length,s=a.originalLength>0,i=a.modifiedLength>0;for(;a.originalStart+a.originalLength<r&&a.modifiedStart+a.modifiedLength<d&&(!s||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!i||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));)a.originalStart++,a.modifiedStart++;let n=[null];if(u<c.length-1&&this.ChangesOverlap(c[u],c[u+1],n)){c[u]=n[0],c.splice(u+1,1),u--;continue}}for(let u=c.length-1;u>=0;u--){const a=c[u];let r=0,d=0;if(u>0){const o=c[u-1];o.originalLength>0&&(r=o.originalStart+o.originalLength),o.modifiedLength>0&&(d=o.modifiedStart+o.modifiedLength)}const s=a.originalLength>0,i=a.modifiedLength>0;let n=0,t=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let o=1;;o++){const h=a.originalStart-o,_=a.modifiedStart-o;if(h<r||_<d||s&&!this.OriginalElementsAreEqual(h,h+a.originalLength)||i&&!this.ModifiedElementsAreEqual(_,_+a.modifiedLength))break;const m=this._boundaryScore(h,a.originalLength,_,a.modifiedLength);m>t&&(t=m,n=o)}a.originalStart-=n,a.modifiedStart-=n}if(this._hasStrings)for(let u=1,a=c.length;u<a;u++){const r=c[u-1],d=c[u],s=d.originalStart-r.originalStart-r.originalLength,i=r.originalStart,n=d.originalStart+d.originalLength,t=n-i,o=r.modifiedStart,h=d.modifiedStart+d.modifiedLength,_=h-o;if(s<5&&t<20&&_<20){const m=this._findBetterContiguousSequence(i,t,o,_,s);if(m){const[g,b]=m;(g!==r.originalStart+r.originalLength||b!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=g-r.originalStart,r.modifiedLength=b-r.modifiedStart,d.originalStart=g+s,d.modifiedStart=b+s,d.originalLength=n-d.originalStart,d.modifiedLength=h-d.modifiedStart)}}}return c}_findBetterContiguousSequence(c,u,a,r,d){if(u<d||r<d)return null;const s=c+u-d+1,i=a+r-d+1;let n=0,t=0,o=0;for(let h=c;h<s;h++)for(let _=a;_<i;_++){const m=this._contiguousSequenceScore(h,_,d);m>0&&m>n&&(n=m,t=h,o=_)}return n>0?[t,o]:null}_contiguousSequenceScore(c,u,a){let r=0;for(let d=0;d<a;d++){if(!this.ElementsAreEqual(c+d,u+d))return 0;r+=this._originalStringElements[c+d].length}return r}_OriginalIsBoundary(c){return c<=0||c>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[c])}_OriginalRegionIsBoundary(c,u){if(this._OriginalIsBoundary(c)||this._OriginalIsBoundary(c-1))return!0;if(u>0){const a=c+u;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(c){return c<=0||c>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[c])}_ModifiedRegionIsBoundary(c,u){if(this._ModifiedIsBoundary(c)||this._ModifiedIsBoundary(c-1))return!0;if(u>0){const a=c+u;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(c,u,a,r){const d=this._OriginalRegionIsBoundary(c,u)?1:0,s=this._ModifiedRegionIsBoundary(a,r)?1:0;return d+s}ConcatenateChanges(c,u){let a=[];if(c.length===0||u.length===0)return u.length>0?u:c;if(this.ChangesOverlap(c[c.length-1],u[0],a)){const r=new Array(c.length+u.length-1);return v.Copy(c,0,r,0,c.length-1),r[c.length-1]=a[0],v.Copy(u,1,r,c.length,u.length-1),r}else{const r=new Array(c.length+u.length);return v.Copy(c,0,r,0,c.length),v.Copy(u,0,r,c.length,u.length),r}}ChangesOverlap(c,u,a){if(S.Assert(c.originalStart<=u.originalStart,"Left change is not less than or equal to right change"),S.Assert(c.modifiedStart<=u.modifiedStart,"Left change is not less than or equal to right change"),c.originalStart+c.originalLength>=u.originalStart||c.modifiedStart+c.modifiedLength>=u.modifiedStart){const r=c.originalStart;let d=c.originalLength;const s=c.modifiedStart;let i=c.modifiedLength;return c.originalStart+c.originalLength>=u.originalStart&&(d=u.originalStart+u.originalLength-c.originalStart),c.modifiedStart+c.modifiedLength>=u.modifiedStart&&(i=u.modifiedStart+u.modifiedLength-c.modifiedStart),a[0]=new C.DiffChange(r,d,s,i),!0}else return a[0]=null,!1}ClipDiagonalBound(c,u,a,r){if(c>=0&&c<r)return c;const d=a,s=r-a-1,i=u%2==0;if(c<0){const n=d%2==0;return i===n?0:1}else{const n=s%2==0;return i===n?r-1:r-2}}}e.LcsDiff=f}),define(ee[154],te([0,1,98,19,153,6,54]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(c){return typeof c=="object"&&"visibility"in c&&"data"in c}e.isFilterResult=v;function l(c){switch(c){case!0:return 1;case!1:return 0;default:return c}}e.getVisibleState=l;function f(c){return typeof c.collapsible=="boolean"}class p{constructor(u,a,r,d={}){this.user=u,this.list=a,this.rootRef=[],this.eventBufferer=new w.EventBufferer,this._onDidChangeCollapseState=new w.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new w.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new w.Emitter,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof d.collapseByDefault=="undefined"?!1:d.collapseByDefault,this.filter=d.filter,this.autoExpandSingleChildren=typeof d.autoExpandSingleChildren=="undefined"?!1:d.autoExpandSingleChildren,this.root={parent:void 0,element:r,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(u,a,r=S.Iterable.empty(),d={}){if(u.length===0)throw new C.TreeError(this.user,"Invalid tree location");d.diffIdentityProvider?this.spliceSmart(d.diffIdentityProvider,u,a,r,d):this.spliceSimple(u,a,r,d)}spliceSmart(u,a,r,d,s,i){var n;d===void 0&&(d=S.Iterable.empty()),i===void 0&&(i=(n=s.diffDepth)!==null&&n!==void 0?n:0);const{parentNode:t}=this.getParentNodeWithListIndex(a),o=[...d],h=a[a.length-1],_=new k.LcsDiff({getElements:()=>t.children.map(L=>u.getId(L.element).toString())},{getElements:()=>[...t.children.slice(0,h),...o,...t.children.slice(h+r)].map(L=>u.getId(L.element).toString())}).ComputeDiff(!1);if(_.quitEarly)return this.spliceSimple(a,r,o,s);const m=a.slice(0,-1),g=(L,D,N)=>{if(i>0)for(let I=0;I<N;I++)L--,D--,this.spliceSmart(u,[...m,L,0],Number.MAX_SAFE_INTEGER,o[D].children,s,i-1)};let b=Math.min(t.children.length,h+r),y=o.length;for(const L of _.changes.sort((D,N)=>N.originalStart-D.originalStart))g(b,y,b-(L.originalStart+L.originalLength)),b=L.originalStart,y=L.modifiedStart-h,this.spliceSimple([...m,b],L.originalLength,S.Iterable.slice(o,y,y+L.modifiedLength),s);g(b,y,b)}spliceSimple(u,a,r=S.Iterable.empty(),{onDidCreateNode:d,onDidDeleteNode:s}){const{parentNode:i,listIndex:n,revealed:t,visible:o}=this.getParentNodeWithListIndex(u),h=[],_=S.Iterable.map(r,A=>this.createTreeNode(A,i,i.visible?1:0,t,h,d)),m=u[u.length-1],g=i.children.length>0;let b=0;for(let A=m;A>=0&&A<i.children.length;A--){const B=i.children[A];if(B.visible){b=B.visibleChildIndex;break}}const y=[];let L=0,D=0;for(const A of _)y.push(A),D+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=b+L++);const N=i.children.splice(m,a,...y);let I=0;for(const A of N)A.visible&&I++;if(I!==0)for(let A=m+y.length;A<i.children.length;A++){const B=i.children[A];B.visible&&(B.visibleChildIndex-=I)}if(i.visibleChildrenCount+=L-I,t&&o){const A=N.reduce((B,E)=>B+(E.visible?E.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(i,D-A),this.list.splice(n,A,h)}if(N.length>0&&s){const A=B=>{s(B),B.children.forEach(A)};N.forEach(A)}const T=i.children.length>0;g!==T&&this.setCollapsible(u.slice(0,-1),T),this._onDidSplice.fire({insertedNodes:y,deletedNodes:N});let O=i;for(;O;){if(O.visibility===2){this.refilter();break}O=O.parent}}rerender(u){if(u.length===0)throw new C.TreeError(this.user,"Invalid tree location");const{node:a,listIndex:r,revealed:d}=this.getTreeNodeWithListIndex(u);a.visible&&d&&this.list.splice(r,1,[a])}has(u){return this.hasTreeNode(u)}getListIndex(u){const{listIndex:a,visible:r,revealed:d}=this.getTreeNodeWithListIndex(u);return r&&d?a:-1}getListRenderCount(u){return this.getTreeNode(u).renderNodeCount}isCollapsible(u){return this.getTreeNode(u).collapsible}setCollapsible(u,a){const r=this.getTreeNode(u);typeof a=="undefined"&&(a=!r.collapsible);const d={collapsible:a};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(u,d))}isCollapsed(u){return this.getTreeNode(u).collapsed}setCollapsed(u,a,r){const d=this.getTreeNode(u);typeof a=="undefined"&&(a=!d.collapsed);const s={collapsed:a,recursive:r||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(u,s))}_setCollapseState(u,a){const{node:r,listIndex:d,revealed:s}=this.getTreeNodeWithListIndex(u),i=this._setListNodeCollapseState(r,d,s,a);if(r!==this.root&&this.autoExpandSingleChildren&&i&&!f(a)&&r.collapsible&&!r.collapsed&&!a.recursive){let n=-1;for(let t=0;t<r.children.length;t++)if(r.children[t].visible)if(n>-1){n=-1;break}else n=t;n>-1&&this._setCollapseState([...u,n],a)}return i}_setListNodeCollapseState(u,a,r,d){const s=this._setNodeCollapseState(u,d,!1);if(!r||!u.visible||!s)return s;const i=u.renderNodeCount,n=this.updateNodeAfterCollapseChange(u),t=i-(a===-1?0:1);return this.list.splice(a+1,t,n.slice(1)),s}_setNodeCollapseState(u,a,r){let d;if(u===this.root?d=!1:(f(a)?(d=u.collapsible!==a.collapsible,u.collapsible=a.collapsible):u.collapsible?(d=u.collapsed!==a.collapsed,u.collapsed=a.collapsed):d=!1,d&&this._onDidChangeCollapseState.fire({node:u,deep:r})),!f(a)&&a.recursive)for(const s of u.children)d=this._setNodeCollapseState(s,a,!0)||d;return d}expandTo(u){this.eventBufferer.bufferEvents(()=>{let a=this.getTreeNode(u);for(;a.parent;)a=a.parent,u=u.slice(0,u.length-1),a.collapsed&&this._setCollapseState(u,{collapsed:!1,recursive:!1})})}refilter(){const u=this.root.renderNodeCount,a=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,u,a)}createTreeNode(u,a,r,d,s,i){const n={parent:a,element:u.element,children:[],depth:a.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof u.collapsible=="boolean"?u.collapsible:typeof u.collapsed!="undefined",collapsed:typeof u.collapsed=="undefined"?this.collapseByDefault:u.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},t=this._filterNode(n,r);n.visibility=t,d&&s.push(n);const o=u.children||S.Iterable.empty(),h=d&&t!==0&&!n.collapsed,_=S.Iterable.map(o,b=>this.createTreeNode(b,n,t,h,s,i));let m=0,g=1;for(const b of _)n.children.push(b),g+=b.renderNodeCount,b.visible&&(b.visibleChildIndex=m++);return n.collapsible=n.collapsible||n.children.length>0,n.visibleChildrenCount=m,n.visible=t===2?m>0:t===1,n.visible?n.collapsed||(n.renderNodeCount=g):(n.renderNodeCount=0,d&&s.pop()),i&&i(n),n}updateNodeAfterCollapseChange(u){const a=u.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(u,r),this._updateAncestorsRenderNodeCount(u.parent,r.length-a),r}_updateNodeAfterCollapseChange(u,a){if(u.visible===!1)return 0;if(a.push(u),u.renderNodeCount=1,!u.collapsed)for(const r of u.children)u.renderNodeCount+=this._updateNodeAfterCollapseChange(r,a);return this._onDidChangeRenderNodeCount.fire(u),u.renderNodeCount}updateNodeAfterFilterChange(u){const a=u.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(u,u.visible?1:0,r),this._updateAncestorsRenderNodeCount(u.parent,r.length-a),r}_updateNodeAfterFilterChange(u,a,r,d=!0){let s;if(u!==this.root){if(s=this._filterNode(u,a),s===0)return u.visible=!1,u.renderNodeCount=0,!1;d&&r.push(u)}const i=r.length;u.renderNodeCount=u===this.root?0:1;let n=!1;if(!u.collapsed||s!==0){let t=0;for(const o of u.children)n=this._updateNodeAfterFilterChange(o,s,r,d&&!u.collapsed)||n,o.visible&&(o.visibleChildIndex=t++);u.visibleChildrenCount=t}else u.visibleChildrenCount=0;return u!==this.root&&(u.visible=s===2?n:s===1),u.visible?u.collapsed||(u.renderNodeCount+=r.length-i):(u.renderNodeCount=0,d&&r.pop()),this._onDidChangeRenderNodeCount.fire(u),u.visible}_updateAncestorsRenderNodeCount(u,a){if(a!==0)for(;u;)u.renderNodeCount+=a,this._onDidChangeRenderNodeCount.fire(u),u=u.parent}_filterNode(u,a){const r=this.filter?this.filter.filter(u.element,a):1;return typeof r=="boolean"?(u.filterData=void 0,r?1:0):v(r)?(u.filterData=r.data,l(r.visibility)):(u.filterData=void 0,l(r))}hasTreeNode(u,a=this.root){if(!u||u.length===0)return!0;const[r,...d]=u;return r<0||r>a.children.length?!1:this.hasTreeNode(d,a.children[r])}getTreeNode(u,a=this.root){if(!u||u.length===0)return a;const[r,...d]=u;if(r<0||r>a.children.length)throw new C.TreeError(this.user,"Invalid tree location");return this.getTreeNode(d,a.children[r])}getTreeNodeWithListIndex(u){if(u.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:a,listIndex:r,revealed:d,visible:s}=this.getParentNodeWithListIndex(u),i=u[u.length-1];if(i<0||i>a.children.length)throw new C.TreeError(this.user,"Invalid tree location");const n=a.children[i];return{node:n,listIndex:r,revealed:d,visible:s&&n.visible}}getParentNodeWithListIndex(u,a=this.root,r=0,d=!0,s=!0){const[i,...n]=u;if(i<0||i>a.children.length)throw new C.TreeError(this.user,"Invalid tree location");for(let t=0;t<i;t++)r+=a.children[t].renderNodeCount;return d=d&&!a.collapsed,s=s&&a.visible,n.length===0?{parentNode:a,listIndex:r,revealed:d,visible:s}:this.getParentNodeWithListIndex(n,a.children[i],r+1,d,s)}getNode(u=[]){return this.getTreeNode(u)}getNodeLocation(u){const a=[];let r=u;for(;r.parent;)a.push(r.parent.children.indexOf(r)),r=r.parent;return a.reverse()}getParentNodeLocation(u){if(u.length!==0)return u.length===1?[]:M.tail2(u)[0]}}e.IndexTreeModel=p}),define(ee[155],te([0,1,54,154,98,19]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class S{constructor(l,f,p={}){this.user=l,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new M.IndexTreeModel(l,f,null,p),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,p.sorter&&(this.sorter={compare(c,u){return p.sorter.compare(c.element,u.element)}}),this.identityProvider=p.identityProvider}setChildren(l,f=C.Iterable.empty(),p={}){const c=this.getElementLocation(l);this._setChildren(c,this.preserveCollapseState(f),p)}_setChildren(l,f=C.Iterable.empty(),p){const c=new Set,u=new Set,a=d=>{var s;if(d.element!==null){const i=d;if(c.add(i.element),this.nodes.set(i.element,i),this.identityProvider){const n=this.identityProvider.getId(i.element).toString();u.add(n),this.nodesByIdentity.set(n,i)}(s=p.onDidCreateNode)===null||s===void 0||s.call(p,i)}},r=d=>{var s;if(d.element!==null){const i=d;if(c.has(i.element)||this.nodes.delete(i.element),this.identityProvider){const n=this.identityProvider.getId(i.element).toString();u.has(n)||this.nodesByIdentity.delete(n)}(s=p.onDidDeleteNode)===null||s===void 0||s.call(p,i)}};this.model.splice([...l,0],Number.MAX_VALUE,f,Object.assign(Object.assign({},p),{onDidCreateNode:a,onDidDeleteNode:r}))}preserveCollapseState(l=C.Iterable.empty()){return this.sorter&&(l=w.mergeSort([...l],this.sorter.compare.bind(this.sorter))),C.Iterable.map(l,f=>{let p=this.nodes.get(f.element);if(!p&&this.identityProvider){const a=this.identityProvider.getId(f.element).toString();p=this.nodesByIdentity.get(a)}if(!p)return Object.assign(Object.assign({},f),{children:this.preserveCollapseState(f.children)});const c=typeof f.collapsible=="boolean"?f.collapsible:p.collapsible,u=typeof f.collapsed!="undefined"?f.collapsed:p.collapsed;return Object.assign(Object.assign({},f),{collapsible:c,collapsed:u,children:this.preserveCollapseState(f.children)})})}rerender(l){const f=this.getElementLocation(l);this.model.rerender(f)}has(l){return this.nodes.has(l)}getListIndex(l){const f=this.getElementLocation(l);return this.model.getListIndex(f)}getListRenderCount(l){const f=this.getElementLocation(l);return this.model.getListRenderCount(f)}isCollapsible(l){const f=this.getElementLocation(l);return this.model.isCollapsible(f)}setCollapsible(l,f){const p=this.getElementLocation(l);return this.model.setCollapsible(p,f)}isCollapsed(l){const f=this.getElementLocation(l);return this.model.isCollapsed(f)}setCollapsed(l,f,p){const c=this.getElementLocation(l);return this.model.setCollapsed(c,f,p)}expandTo(l){const f=this.getElementLocation(l);this.model.expandTo(f)}refilter(){this.model.refilter()}getNode(l=null){if(l===null)return this.model.getNode(this.model.rootRef);const f=this.nodes.get(l);if(!f)throw new k.TreeError(this.user,`Tree element not found: ${l}`);return f}getNodeLocation(l){return l.element}getParentNodeLocation(l){if(l===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const f=this.nodes.get(l);if(!f)throw new k.TreeError(this.user,`Tree element not found: ${l}`);const p=this.model.getNodeLocation(f),c=this.model.getParentNodeLocation(p);return this.model.getNode(c).element}getElementLocation(l){if(l===null)return[];const f=this.nodes.get(l);if(!f)throw new k.TreeError(this.user,`Tree element not found: ${l}`);return this.model.getNodeLocation(f)}}e.ObjectTreeModel=S}),define(ee[282],te([0,1,54,6,98,155]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function S(n){const t=[n.element],o=n.incompressible||!1;return{element:{elements:t,incompressible:o},children:C.Iterable.map(C.Iterable.from(n.children),S),collapsible:n.collapsible,collapsed:n.collapsed}}function v(n){const t=[n.element],o=n.incompressible||!1;let h,_;for(;[_,h]=C.Iterable.consume(C.Iterable.from(n.children),2),!(_.length!==1||_[0].incompressible);)n=_[0],t.push(n.element);return{element:{elements:t,incompressible:o},children:C.Iterable.map(C.Iterable.concat(_,h),v),collapsible:n.collapsible,collapsed:n.collapsed}}e.compress=v;function l(n,t=0){let o;return t<n.element.elements.length-1?o=[l(n,t+1)]:o=C.Iterable.map(C.Iterable.from(n.children),h=>l(h,0)),t===0&&n.element.incompressible?{element:n.element.elements[t],children:o,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[t],children:o,collapsible:n.collapsible,collapsed:n.collapsed}}function f(n){return l(n,0)}e.decompress=f;function p(n,t,o){return n.element===t?Object.assign(Object.assign({},n),{children:o}):Object.assign(Object.assign({},n),{children:C.Iterable.map(C.Iterable.from(n.children),h=>p(h,t,o))})}const c=n=>({getId(t){return t.elements.map(o=>n.getId(o).toString()).join("\0")}});class u{constructor(t,o,h={}){this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new w.ObjectTreeModel(t,o,h),this.enabled=typeof h.compressionEnabled=="undefined"?!0:h.compressionEnabled,this.identityProvider=h.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(t,o=C.Iterable.empty(),h){const _=h.diffIdentityProvider&&c(h.diffIdentityProvider);if(t===null){const T=C.Iterable.map(o,this.enabled?v:S);this._setChildren(null,T,{diffIdentityProvider:_,diffDepth:Infinity});return}const m=this.nodes.get(t);if(!m)throw new Error("Unknown compressed tree node");const g=this.model.getNode(m),b=this.model.getParentNodeLocation(m),y=this.model.getNode(b),L=f(g),D=p(L,t,o),N=(this.enabled?v:S)(D),I=y.children.map(T=>T===g?N:T);this._setChildren(y.element,I,{diffIdentityProvider:_,diffDepth:g.depth-y.depth})}setCompressionEnabled(t){if(t!==this.enabled){this.enabled=t;const h=this.model.getNode().children,_=C.Iterable.map(h,f),m=C.Iterable.map(_,t?v:S);this._setChildren(null,m,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}}_setChildren(t,o,h){const _=new Set,m=b=>{for(const y of b.element.elements)_.add(y),this.nodes.set(y,b.element)},g=b=>{for(const y of b.element.elements)_.has(y)||this.nodes.delete(y)};this.model.setChildren(t,o,Object.assign(Object.assign({},h),{onDidCreateNode:m,onDidDeleteNode:g}))}has(t){return this.nodes.has(t)}getListIndex(t){const o=this.getCompressedNode(t);return this.model.getListIndex(o)}getListRenderCount(t){const o=this.getCompressedNode(t);return this.model.getListRenderCount(o)}getNode(t){if(typeof t=="undefined")return this.model.getNode();const o=this.getCompressedNode(t);return this.model.getNode(o)}getNodeLocation(t){const o=this.model.getNodeLocation(t);return o===null?null:o.elements[o.elements.length-1]}getParentNodeLocation(t){const o=this.getCompressedNode(t),h=this.model.getParentNodeLocation(o);return h===null?null:h.elements[h.elements.length-1]}isCollapsible(t){const o=this.getCompressedNode(t);return this.model.isCollapsible(o)}setCollapsible(t,o){const h=this.getCompressedNode(t);return this.model.setCollapsible(h,o)}isCollapsed(t){const o=this.getCompressedNode(t);return this.model.isCollapsed(o)}setCollapsed(t,o,h){const _=this.getCompressedNode(t);return this.model.setCollapsed(_,o,h)}expandTo(t){const o=this.getCompressedNode(t);this.model.expandTo(o)}rerender(t){const o=this.getCompressedNode(t);this.model.rerender(o)}refilter(){this.model.refilter()}getCompressedNode(t){if(t===null)return null;const o=this.nodes.get(t);if(!o)throw new k.TreeError(this.user,`Tree element not found: ${t}`);return o}}e.CompressedObjectTreeModel=u;const a=n=>n[n.length-1];e.DefaultElementMapper=a;class r{constructor(t,o){this.unwrapper=t,this.node=o}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(t=>new r(this.unwrapper,t))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(n,t){return{splice(o,h,_){t.splice(o,h,_.map(m=>n.map(m)))},updateElementHeight(o,h){t.updateElementHeight(o,h)}}}function s(n,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId(o){return t.identityProvider.getId(n(o))}},sorter:t.sorter&&{compare(o,h){return t.sorter.compare(o.elements[0],h.elements[0])}},filter:t.filter&&{filter(o,h){return t.filter.filter(n(o),h)}}})}class i{constructor(t,o,h={}){this.rootRef=null,this.elementMapper=h.elementMapper||e.DefaultElementMapper;const _=m=>this.elementMapper(m.elements);this.nodeMapper=new k.WeakMapper(m=>new r(_,m)),this.model=new u(t,d(this.nodeMapper,o),s(_,h))}get onDidSplice(){return M.Event.map(this.model.onDidSplice,({insertedNodes:t,deletedNodes:o})=>({insertedNodes:t.map(h=>this.nodeMapper.map(h)),deletedNodes:o.map(h=>this.nodeMapper.map(h))}))}get onDidChangeCollapseState(){return M.Event.map(this.model.onDidChangeCollapseState,({node:t,deep:o})=>({node:this.nodeMapper.map(t),deep:o}))}get onDidChangeRenderNodeCount(){return M.Event.map(this.model.onDidChangeRenderNodeCount,t=>this.nodeMapper.map(t))}setChildren(t,o=C.Iterable.empty(),h={}){this.model.setChildren(t,o,h)}setCompressionEnabled(t){this.model.setCompressionEnabled(t)}has(t){return this.model.has(t)}getListIndex(t){return this.model.getListIndex(t)}getListRenderCount(t){return this.model.getListRenderCount(t)}getNode(t){return this.nodeMapper.map(this.model.getNode(t))}getNodeLocation(t){return t.element}getParentNodeLocation(t){return this.model.getParentNodeLocation(t)}isCollapsible(t){return this.model.isCollapsible(t)}setCollapsible(t,o){return this.model.setCollapsible(t,o)}isCollapsed(t){return this.model.isCollapsed(t)}setCollapsed(t,o,h){return this.model.setCollapsed(t,o,h)}expandTo(t){return this.model.expandTo(t)}rerender(t){return this.model.rerender(t)}refilter(){return this.model.refilter()}getCompressedTreeNode(t=null){return this.model.getNode(t)}}e.CompressibleObjectTreeModel=i}),define(ee[283],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function M(S,v){if(S&&S[0]!==""){const l=k(S,v,"-"),f=k(S,v,"_");return l&&!f?w(S,v,"-"):!l&&f?w(S,v,"_"):S[0].toUpperCase()===S[0]?v.toUpperCase():S[0].toLowerCase()===S[0]?v.toLowerCase():C.containsUppercaseCharacter(S[0][0])&&v.length>0?v[0].toUpperCase()+v.substr(1):v}else return v}e.buildReplaceStringWithCasePreserved=M;function k(S,v,l){return S[0].indexOf(l)!==-1&&v.indexOf(l)!==-1&&S[0].split(l).length===v.split(l).length}function w(S,v,l){const f=v.split(l),p=S[0].split(l);let c="";return f.forEach((u,a)=>{c+=M([p[a]],u)+l}),c.slice(0,-1)}}),define(ee[82],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var M;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(M||(M={})),function(k){const w="error",S="warning",v="warn",l="info";function f(p){return p?C.equalsIgnoreCase(w,p)?k.Error:C.equalsIgnoreCase(S,p)||C.equalsIgnoreCase(v,p)?k.Warning:C.equalsIgnoreCase(l,p)?k.Info:k.Ignore:k.Ignore}k.fromValue=f}(M||(M={})),e.default=M}),define(ee[20],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isString=e.isArray=void 0;function C(n){return Array.isArray(n)}e.isArray=C;function M(n){return typeof n=="string"}e.isString=M;function k(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}e.isObject=k;function w(n){return typeof n=="number"&&!isNaN(n)}e.isNumber=w;function S(n){return n===!0||n===!1}e.isBoolean=S;function v(n){return typeof n=="undefined"}e.isUndefined=v;function l(n){return v(n)||n===null}e.isUndefinedOrNull=l;function f(n,t){if(!n)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}e.assertType=f;function p(n){if(l(n))throw new Error("Assertion Failed: argument is undefined or null");return n}e.assertIsDefined=p;function c(n){return typeof n=="function"}e.isFunction=c;function u(n,t){const o=Math.min(n.length,t.length);for(let h=0;h<o;h++)a(n[h],t[h])}e.validateConstraints=u;function a(n,t){if(M(t)){if(typeof n!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(c(t)){try{if(n instanceof t)return}catch(o){}if(!l(n)&&n.constructor===t||t.length===1&&t.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=a;function r(n){let t=[],o=Object.getPrototypeOf(n);for(;Object.prototype!==o;)t=t.concat(Object.getOwnPropertyNames(o)),o=Object.getPrototypeOf(o);return t}e.getAllPropertyNames=r;function d(n){const t=[];for(const o of r(n))typeof n[o]=="function"&&t.push(o);return t}e.getAllMethodNames=d;function s(n,t){const o=_=>function(){const m=Array.prototype.slice.call(arguments,0);return t(_,m)};let h={};for(const _ of n)h[_]=o(_);return h}e.createProxyObject=s;function i(n){return n===null?void 0:n}e.withNullAsUndefined=i}),define(ee[40],te([0,1,20]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function M(c){if(!c||typeof c!="object"||c instanceof RegExp)return c;const u=Array.isArray(c)?[]:{};return Object.keys(c).forEach(a=>{c[a]&&typeof c[a]=="object"?u[a]=M(c[a]):u[a]=c[a]}),u}e.deepClone=M;function k(c){if(!c||typeof c!="object")return c;const u=[c];for(;u.length>0;){const a=u.shift();Object.freeze(a);for(const r in a)if(w.call(a,r)){const d=a[r];typeof d=="object"&&!Object.isFrozen(d)&&u.push(d)}}return c}e.deepFreeze=k;const w=Object.prototype.hasOwnProperty;function S(c,u){return v(c,u,new Set)}e.cloneAndChange=S;function v(c,u,a){if(C.isUndefinedOrNull(c))return c;const r=u(c);if(typeof r!="undefined")return r;if(C.isArray(c)){const d=[];for(const s of c)d.push(v(s,u,a));return d}if(C.isObject(c)){if(a.has(c))throw new Error("Cannot clone recursive data-structure");a.add(c);const d={};for(let s in c)w.call(c,s)&&(d[s]=v(c[s],u,a));return a.delete(c),d}return c}function l(c,u,a=!0){return C.isObject(c)?(C.isObject(u)&&Object.keys(u).forEach(r=>{r in c?a&&(C.isObject(c[r])&&C.isObject(u[r])?l(c[r],u[r],a):c[r]=u[r]):c[r]=u[r]}),c):u}e.mixin=l;function f(c,u){if(c===u)return!0;if(c==null||u===null||u===void 0||typeof c!=typeof u||typeof c!="object"||Array.isArray(c)!==Array.isArray(u))return!1;let a,r;if(Array.isArray(c)){if(c.length!==u.length)return!1;for(a=0;a<c.length;a++)if(!f(c[a],u[a]))return!1}else{const d=[];for(r in c)d.push(r);d.sort();const s=[];for(r in u)s.push(r);if(s.sort(),!f(d,s))return!1;for(a=0;a<d.length;a++)if(!f(c[d[a]],u[d[a]]))return!1}return!0}e.equals=f;function p(c,u,a){const r=u(c);return typeof r=="undefined"?a:r}e.getOrDefault=p}),define(ee[122],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function C(k){return k<0?0:k>255?255:k|0}e.toUint8=C;function M(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=M}),define(ee[24],te([0,1,16,72]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,w=/^\//,S=/^\/\//;function v(g,b){if(!g.scheme&&b)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${g.authority}", path: "${g.path}", query: "${g.query}", fragment: "${g.fragment}"}`);if(g.scheme&&!k.test(g.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(g.path){if(g.authority){if(!w.test(g.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(g.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function l(g,b){return!g&&!b?"file":g}function f(g,b){switch(g){case"https":case"http":case"file":b?b[0]!==c&&(b=c+b):b=c;break}return b}const p="",c="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{constructor(b,y,L,D,N,I=!1){typeof b=="object"?(this.scheme=b.scheme||p,this.authority=b.authority||p,this.path=b.path||p,this.query=b.query||p,this.fragment=b.fragment||p):(this.scheme=l(b,I),this.authority=y||p,this.path=f(this.scheme,L||p),this.query=D||p,this.fragment=N||p,v(this,I))}static isUri(b){return b instanceof a?!0:b?typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="string"&&typeof b.with=="function"&&typeof b.toString=="function":!1}get fsPath(){return t(this,!1)}with(b){if(!b)return this;let{scheme:y,authority:L,path:D,query:N,fragment:I}=b;return y===void 0?y=this.scheme:y===null&&(y=p),L===void 0?L=this.authority:L===null&&(L=p),D===void 0?D=this.path:D===null&&(D=p),N===void 0?N=this.query:N===null&&(N=p),I===void 0?I=this.fragment:I===null&&(I=p),y===this.scheme&&L===this.authority&&D===this.path&&N===this.query&&I===this.fragment?this:new d(y,L,D,N,I)}static parse(b,y=!1){const L=u.exec(b);return L?new d(L[2]||p,m(L[4]||p),m(L[5]||p),m(L[7]||p),m(L[9]||p),y):new d(p,p,p,p,p)}static file(b){let y=p;if(C.isWindows&&(b=b.replace(/\\/g,c)),b[0]===c&&b[1]===c){const L=b.indexOf(c,2);L===-1?(y=b.substring(2),b=c):(y=b.substring(2,L),b=b.substring(L)||c)}return new d("file",y,b,p,p)}static from(b){return new d(b.scheme,b.authority,b.path,b.query,b.fragment)}static joinPath(b,...y){if(!b.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let L;return C.isWindows&&b.scheme==="file"?L=a.file(M.win32.join(t(b,!0),...y)).path:L=M.posix.join(b.path,...y),b.with({path:L})}toString(b=!1){return o(this,b)}toJSON(){return this}static revive(b){if(b){if(b instanceof a)return b;{const y=new d(b);return y._formatted=b.external,y._fsPath=b._sep===r?b.fsPath:null,y}}else return b}}e.URI=a;const r=C.isWindows?1:void 0;class d extends a{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=t(this,!1)),this._fsPath}toString(b=!1){return b?o(this,!0):(this._formatted||(this._formatted=o(this,!1)),this._formatted)}toJSON(){const b={$mid:1};return this._fsPath&&(b.fsPath=this._fsPath,b._sep=r),this._formatted&&(b.external=this._formatted),this.path&&(b.path=this.path),this.scheme&&(b.scheme=this.scheme),this.authority&&(b.authority=this.authority),this.query&&(b.query=this.query),this.fragment&&(b.fragment=this.fragment),b}}const s={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function i(g,b){let y,L=-1;for(let D=0;D<g.length;D++){const N=g.charCodeAt(D);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||b&&N===47)L!==-1&&(y+=encodeURIComponent(g.substring(L,D)),L=-1),y!==void 0&&(y+=g.charAt(D));else{y===void 0&&(y=g.substr(0,D));const I=s[N];I!==void 0?(L!==-1&&(y+=encodeURIComponent(g.substring(L,D)),L=-1),y+=I):L===-1&&(L=D)}}return L!==-1&&(y+=encodeURIComponent(g.substring(L))),y!==void 0?y:g}function n(g){let b;for(let y=0;y<g.length;y++){const L=g.charCodeAt(y);L===35||L===63?(b===void 0&&(b=g.substr(0,y)),b+=s[L]):b!==void 0&&(b+=g[y])}return b!==void 0?b:g}function t(g,b){let y;return g.authority&&g.path.length>1&&g.scheme==="file"?y=`//${g.authority}${g.path}`:g.path.charCodeAt(0)===47&&(g.path.charCodeAt(1)>=65&&g.path.charCodeAt(1)<=90||g.path.charCodeAt(1)>=97&&g.path.charCodeAt(1)<=122)&&g.path.charCodeAt(2)===58?b?y=g.path.substr(1):y=g.path[1].toLowerCase()+g.path.substr(2):y=g.path,C.isWindows&&(y=y.replace(/\//g,"\\")),y}e.uriToFsPath=t;function o(g,b){const y=b?n:i;let L="",{scheme:D,authority:N,path:I,query:T,fragment:O}=g;if(D&&(L+=D,L+=":"),(N||D==="file")&&(L+=c,L+=c),N){let A=N.indexOf("@");if(A!==-1){const B=N.substr(0,A);N=N.substr(A+1),A=B.indexOf(":"),A===-1?L+=y(B,!1):(L+=y(B.substr(0,A),!1),L+=":",L+=y(B.substr(A+1),!1)),L+="@"}N=N.toLowerCase(),A=N.indexOf(":"),A===-1?L+=y(N,!1):(L+=y(N.substr(0,A),!1),L+=N.substr(A))}if(I){if(I.length>=3&&I.charCodeAt(0)===47&&I.charCodeAt(2)===58){const A=I.charCodeAt(1);A>=65&&A<=90&&(I=`/${String.fromCharCode(A+32)}:${I.substr(3)}`)}else if(I.length>=2&&I.charCodeAt(1)===58){const A=I.charCodeAt(0);A>=65&&A<=90&&(I=`${String.fromCharCode(A+32)}:${I.substr(2)}`)}L+=y(I,!0)}return T&&(L+="?",L+=y(T,!1)),O&&(L+="#",L+=b?O:i(O,!1)),L}function h(g){try{return decodeURIComponent(g)}catch(b){return g.length>3?g.substr(0,3)+h(g.substr(3)):g}}const _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m(g){return g.match(_)?g.replace(_,b=>h(b)):g}}),define(ee[51],te([0,1,24,8]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const d=r.charCodeAt(0),s=this._value.charCodeAt(this._pos);return d-s}value(){return this._value[this._pos]}}e.StringIterator=k;class w{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?M.compareSubstring(r,this._value,0,r.length,this._from,this._to):M.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=w;class S{constructor(r=!0,d=!0){this._splitOnBackslash=r,this._caseSensitive=d}reset(r){return this._value=r.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++){const d=this._value.charCodeAt(this._to);if(d===47||this._splitOnBackslash&&d===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?M.compareSubstring(r,this._value,0,r.length,this._from,this._to):M.compareSubstringIgnoreCase(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=S;class v{constructor(r){this._ignorePathCasing=r,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new S(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return M.compareIgnoreCase(r,this._value.scheme);if(this._states[this._stateIdx]===2)return M.compareIgnoreCase(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return M.compare(r,this._value.query);if(this._states[this._stateIdx]===5)return M.compare(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=v;class l{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class f{constructor(r){this._iter=r}static forUris(r=()=>!1){return new f(new v(r))}static forStrings(){return new f(new k)}static forConfigKeys(){return new f(new w)}clear(){this._root=void 0}set(r,d){const s=this._iter.reset(r);let i;for(this._root||(this._root=new l,this._root.segment=s.value()),i=this._root;;){const t=s.cmp(i.segment);if(t>0)i.left||(i.left=new l,i.left.segment=s.value()),i=i.left;else if(t<0)i.right||(i.right=new l,i.right.segment=s.value()),i=i.right;else if(s.hasNext())s.next(),i.mid||(i.mid=new l,i.mid.segment=s.value()),i=i.mid;else break}const n=i.value;return i.value=d,i.key=r,n}get(r){var d;return(d=this._getNode(r))===null||d===void 0?void 0:d.value}_getNode(r){const d=this._iter.reset(r);let s=this._root;for(;s;){const i=d.cmp(s.segment);if(i>0)s=s.left;else if(i<0)s=s.right;else if(d.hasNext())d.next(),s=s.mid;else break}return s}has(r){const d=this._getNode(r);return!((d==null?void 0:d.value)===void 0&&(d==null?void 0:d.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,d){const s=this._iter.reset(r),i=[];let n=this._root;for(;n;){const t=s.cmp(n.segment);if(t>0)i.push([1,n]),n=n.left;else if(t<0)i.push([-1,n]),n=n.right;else if(s.hasNext())s.next(),i.push([0,n]),n=n.mid;else{for(d?(n.left=void 0,n.mid=void 0,n.right=void 0):n.value=void 0;i.length>0&&n.isEmpty();){let[o,h]=i.pop();switch(o){case 1:h.left=void 0;break;case 0:h.mid=void 0;break;case-1:h.right=void 0;break}n=h}break}}}findSubstr(r){const d=this._iter.reset(r);let s=this._root,i;for(;s;){const n=d.cmp(s.segment);if(n>0)s=s.left;else if(n<0)s=s.right;else if(d.hasNext())d.next(),i=s.value||i,s=s.mid;else break}return s&&s.value||i}findSuperstr(r){const d=this._iter.reset(r);let s=this._root;for(;s;){const i=d.cmp(s.segment);if(i>0)s=s.left;else if(i<0)s=s.right;else if(d.hasNext())d.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(r){for(const[d,s]of this)r(s,d)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){r&&(yield*this._entries(r.left),r.value&&(yield[r.key,r.value]),yield*this._entries(r.mid),yield*this._entries(r.right))}}e.TernarySearchTree=f;class p{constructor(r,d){this[Symbol.toStringTag]="ResourceMap",r instanceof p?(this.map=new Map(r.map),this.toKey=d!=null?d:p.defaultToKey):(this.map=new Map,this.toKey=r!=null?r:p.defaultToKey)}set(r,d){return this.map.set(this.toKey(r),d),this}get(r){return this.map.get(this.toKey(r))}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,d){typeof d!="undefined"&&(r=r.bind(d));for(let[s,i]of this.map)r(i,C.URI.parse(s),this)}values(){return this.map.values()}*keys(){for(let r of this.map.keys())yield C.URI.parse(r)}*entries(){for(let r of this.map.entries())yield[C.URI.parse(r[0]),r[1]]}*[Symbol.iterator](){for(let r of this.map)yield[C.URI.parse(r[0]),r[1]]}}e.ResourceMap=p,p.defaultToKey=a=>a.toString();class c{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,d=0){const s=this._map.get(r);if(!!s)return d!==0&&this.touch(s,d),s.value}set(r,d,s=0){let i=this._map.get(r);if(i)i.value=d,s!==0&&this.touch(i,s);else{switch(i={key:r,value:d,next:void 0,previous:void 0},s){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(r,i),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const d=this._map.get(r);if(!!d)return this._map.delete(r),this.removeItem(d),this._size--,d.value}shift(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}}forEach(r,d){const s=this._state;let i=this._head;for(;i;){if(d?r.bind(d)(i.value,i.key,this):r(i.value,i.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const r=this,d=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(r._state!==d)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:s.key,done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}values(){const r=this,d=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(r._state!==d)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:s.value,done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}entries(){const r=this,d=this._state;let s=this._head;const i={[Symbol.iterator](){return i},next(){if(r._state!==d)throw new Error("LinkedMap got modified during iteration.");if(s){const n={value:[s.key,s.value],done:!1};return s=s.next,n}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(r){if(!(r>=this.size)){if(r===0){this.clear();return}let d=this._head,s=this.size;for(;d&&s>r;)this._map.delete(d.key),d=d.next,s--;this._head=d,this._size=s,d&&(d.previous=void 0),this._state++}}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const d=r.next,s=r.previous;if(!d||!s)throw new Error("Invalid list");d.previous=s,s.next=d}r.next=void 0,r.previous=void 0,this._state++}touch(r,d){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(d!==1&&d!==2)){if(d===1){if(r===this._head)return;const s=r.next,i=r.previous;r===this._tail?(i.next=void 0,this._tail=i):(s.previous=i,i.next=s),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(d===2){if(r===this._tail)return;const s=r.next,i=r.previous;r===this._head?(s.previous=void 0,this._head=s):(s.previous=i,i.next=s),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((d,s)=>{r.push([s,d])}),r}fromJSON(r){this.clear();for(const[d,s]of r)this.set(d,s)}}e.LinkedMap=c;class u extends c{constructor(r,d=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,d),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,d=2){return super.get(r,d)}peek(r){return super.get(r,0)}set(r,d){return super.set(r,d,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=u}),define(ee[66],te([0,1,51,8]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.or=void 0;function k(...Y){return function(j,ne){for(let Z=0,le=Y.length;Z<le;Z++){const he=Y[Z](j,ne);if(he)return he}return null}}e.or=k,e.matchesPrefix=w.bind(void 0,!0);function w(Y,j,ne){if(!ne||ne.length<j.length)return null;let Z;return Y?Z=M.startsWithIgnoreCase(ne,j):Z=ne.indexOf(j)===0,Z?j.length>0?[{start:0,end:j.length}]:[]:null}function S(Y,j){const ne=j.toLowerCase().indexOf(Y.toLowerCase());return ne===-1?null:[{start:ne,end:ne+Y.length}]}e.matchesContiguousSubString=S;function v(Y,j){return l(Y.toLowerCase(),j.toLowerCase(),0,0)}e.matchesSubString=v;function l(Y,j,ne,Z){if(ne===Y.length)return[];if(Z===j.length)return null;if(Y[ne]===j[Z]){let le=null;return(le=l(Y,j,ne+1,Z+1))?i({start:Z,end:Z+1},le):null}return l(Y,j,ne,Z+1)}function f(Y){return 97<=Y&&Y<=122}function p(Y){return 65<=Y&&Y<=90}e.isUpper=p;function c(Y){return 48<=Y&&Y<=57}function u(Y){return Y===32||Y===9||Y===10||Y===13}const a=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Y=>a.add(Y.charCodeAt(0)));function r(Y){return u(Y)||a.has(Y)}function d(Y,j){return Y===j||r(Y)&&r(j)}function s(Y){return f(Y)||p(Y)||c(Y)}function i(Y,j){return j.length===0?j=[Y]:Y.end===j[0].start?j[0].start=Y.start:j.unshift(Y),j}function n(Y,j){for(let ne=j;ne<Y.length;ne++){const Z=Y.charCodeAt(ne);if(p(Z)||c(Z)||ne>0&&!s(Y.charCodeAt(ne-1)))return ne}return Y.length}function t(Y,j,ne,Z){if(ne===Y.length)return[];if(Z===j.length)return null;if(Y[ne]!==j[Z].toLowerCase())return null;{let le=null,he=Z+1;for(le=t(Y,j,ne+1,Z+1);!le&&(he=n(j,he))<j.length;)le=t(Y,j,ne+1,he),he++;return le===null?null:i({start:Z,end:Z+1},le)}}function o(Y){let j=0,ne=0,Z=0,le=0,he=0;for(let Ce=0;Ce<Y.length;Ce++)he=Y.charCodeAt(Ce),p(he)&&j++,f(he)&&ne++,s(he)&&Z++,c(he)&&le++;const re=j/Y.length,de=ne/Y.length,me=Z/Y.length,ve=le/Y.length;return{upperPercent:re,lowerPercent:de,alphaPercent:me,numericPercent:ve}}function h(Y){const{upperPercent:j,lowerPercent:ne}=Y;return ne===0&&j>.6}function _(Y){const{upperPercent:j,lowerPercent:ne,alphaPercent:Z,numericPercent:le}=Y;return ne>.2&&j<.8&&Z>.6&&le<.2}function m(Y){let j=0,ne=0,Z=0,le=0;for(let he=0;he<Y.length;he++)Z=Y.charCodeAt(he),p(Z)&&j++,f(Z)&&ne++,u(Z)&&le++;return(j===0||ne===0)&&le===0?Y.length<=30:j<=5}function g(Y,j){if(!j||(j=j.trim(),j.length===0)||!m(Y)||j.length>60)return null;const ne=o(j);if(!_(ne)){if(!h(ne))return null;j=j.toLowerCase()}let Z=null,le=0;for(Y=Y.toLowerCase();le<j.length&&(Z=t(Y,j,0,le))===null;)le=n(j,le+1);return Z}e.matchesCamelCase=g;function b(Y,j,ne=!1){if(!j||j.length===0)return null;let Z=null,le=0;for(Y=Y.toLowerCase(),j=j.toLowerCase();le<j.length&&(Z=y(Y,j,0,le,ne))===null;)le=L(j,le+1);return Z}e.matchesWords=b;function y(Y,j,ne,Z,le){if(ne===Y.length)return[];if(Z===j.length)return null;if(d(Y.charCodeAt(ne),j.charCodeAt(Z))){let he=null,re=Z+1;if(he=y(Y,j,ne+1,Z+1,le),!le)for(;!he&&(re=L(j,re))<j.length;)he=y(Y,j,ne+1,re,le),re++;return he===null?null:i({start:Z,end:Z+1},he)}else return null}function L(Y,j){for(let ne=j;ne<Y.length;ne++)if(r(Y.charCodeAt(ne))||ne>0&&r(Y.charCodeAt(ne-1)))return ne;return Y.length}const D=k(e.matchesPrefix,g,S),N=k(e.matchesPrefix,g,v),I=new C.LRUCache(1e4);function T(Y,j,ne=!1){if(typeof Y!="string"||typeof j!="string")return null;let Z=I.get(Y);Z||(Z=new RegExp(M.convertSimple2RegExpPattern(Y),"i"),I.set(Y,Z));const le=Z.exec(j);return le?[{start:le.index,end:le.index+le[0].length}]:ne?N(Y,j):D(Y,j)}e.matchesFuzzy=T;function O(Y,j,ne,Z,le,he){const re=H(Y,j,0,Z,le,0,!0);if(re)return re;let de=[],me=0,ve=he;for(let Ce=0;Ce<j.length&&Ce<B;++Ce){const Ee=le.indexOf(j.charAt(Ce),ve);if(Ee>=0)me+=1,de.unshift(Ee),ve=Ee+1;else if(de.length>0)break}return[me,he,...de]}e.anyScore=O;function A(Y){if(typeof Y=="undefined")return[];const j=[],ne=Y[1];for(let Z=Y.length-1;Z>1;Z--){const le=Y[Z]+ne,he=j[j.length-1];he&&he.end===le?he.end=le+1:j.push({start:le,end:le+1})}return j}e.createMatches=A;const B=128;function E(){const Y=[],j=[];for(let ne=0;ne<=B;ne++)j[ne]=0;for(let ne=0;ne<=B;ne++)Y.push(j.slice(0));return Y}function W(Y){const j=[];for(let ne=0;ne<=Y;ne++)j[ne]=0;return j}const R=W(2*B),F=W(2*B),V=E(),K=E(),G=E(),J=!1;function se(Y,j,ne,Z,le){function he(de,me,ve=" "){for(;de.length<me;)de=ve+de;return de}let re=` |   |${Z.split("").map(de=>he(de,3)).join("|")}
`;for(let de=0;de<=ne;de++)de===0?re+=" |":re+=`${j[de-1]}|`,re+=Y[de].slice(0,le+1).map(me=>he(me.toString(),3)).join("|")+`
`;return re}function ie(Y,j,ne,Z){Y=Y.substr(j),ne=ne.substr(Z),console.log(se(K,Y,Y.length,ne,ne.length)),console.log(se(G,Y,Y.length,ne,ne.length)),console.log(se(V,Y,Y.length,ne,ne.length))}function ae(Y,j){if(j<0||j>=Y.length)return!1;const ne=Y.codePointAt(j);switch(ne){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!M.isEmojiImprecise(ne)}}function X(Y,j){if(j<0||j>=Y.length)return!1;switch(Y.charCodeAt(j)){case 32:case 9:return!0;default:return!1}}function U(Y,j,ne){return j[Y]!==ne[Y]}function P(Y,j,ne,Z,le,he,re=!1){for(;j<ne&&le<he;)Y[j]===Z[le]&&(re&&(R[j]=le),j+=1),le+=1;return j===ne}e.isPatternInWord=P;var x;(function(Y){Y.Default=[-100,0];function j(ne){return!ne||ne[0]===-100&&ne[1]===0&&ne[2]===0}Y.isDefault=j})(x=e.FuzzyScore||(e.FuzzyScore={}));function H(Y,j,ne,Z,le,he,re){const de=Y.length>B?B:Y.length,me=Z.length>B?B:Z.length;if(!(ne>=de||he>=me||de-ne>me-he)&&!!P(j,ne,de,le,he,me,!0)){z(de,me,ne,he,j,le);let ve=1,Ce=1,Ee=ne,De=he;const Pe=[!1];for(ve=1,Ee=ne;Ee<de;ve++,Ee++){const Be=R[Ee],we=F[Ee],Se=Ee+1<de?F[Ee+1]:me;for(Ce=Be-he+1,De=Be;De<Se;Ce++,De++){let fe=Number.MIN_SAFE_INTEGER,oe=!1;De<=we&&(fe=q(Y,j,Ee,ne,Z,le,De,me,he,V[ve-1][Ce-1]===0,Pe));let ge=0;fe!==Number.MAX_SAFE_INTEGER&&(oe=!0,ge=fe+K[ve-1][Ce-1]);const _e=De>Be,be=_e?K[ve][Ce-1]+(V[ve][Ce-1]>0?-5:0):0,ye=De>Be+1&&V[ve][Ce-1]>0,Le=ye?K[ve][Ce-2]+(V[ve][Ce-2]>0?-5:0):0;if(ye&&(!_e||Le>=be)&&(!oe||Le>=ge))K[ve][Ce]=Le,G[ve][Ce]=3,V[ve][Ce]=0;else if(_e&&(!oe||be>=ge))K[ve][Ce]=be,G[ve][Ce]=2,V[ve][Ce]=0;else if(oe)K[ve][Ce]=ge,G[ve][Ce]=1,V[ve][Ce]=V[ve-1][Ce-1]+1;else throw new Error("not possible")}}if(J&&ie(Y,ne,Z,he),!(!Pe[0]&&!re)){ve--,Ce--;const Ne=[K[ve][Ce],he];let Ae=0,Oe=0;for(;ve>=1;){let Be=Ce;do{const we=G[ve][Be];if(we===3)Be=Be-2;else if(we===2)Be=Be-1;else break}while(Be>=1);Ae>1&&j[ne+ve-1]===le[he+Ce-1]&&!U(Be+he-1,Z,le)&&Ae+1>V[ve][Be]&&(Be=Ce),Be===Ce?Ae++:Ae=1,Oe||(Oe=Be),ve--,Ce=Be-1,Ne.push(Ce)}me===de&&(Ne[0]+=2);const Re=Oe-de;return Ne[0]-=Re,Ne}}}e.fuzzyScore=H;function z(Y,j,ne,Z,le,he){let re=Y-1,de=j-1;for(;re>=ne&&de>=Z;)le[re]===he[de]&&(F[re]=de,re--),de--}function q(Y,j,ne,Z,le,he,re,de,me,ve,Ce){if(j[ne]!==he[re])return Number.MIN_SAFE_INTEGER;let Ee=1,De=!1;return re===ne-Z?Ee=Y[ne]===le[re]?7:5:U(re,le,he)&&(re===0||!U(re-1,le,he))?(Ee=Y[ne]===le[re]?7:5,De=!0):ae(he,re)&&(re===0||!ae(he,re-1))?Ee=5:(ae(he,re-1)||X(he,re-1))&&(Ee=5,De=!0),Ee>1&&ne===Z&&(Ce[0]=!0),De||(De=U(re,le,he)||ae(he,re-1)||X(he,re-1)),ne===Z?re>me&&(Ee-=De?3:5):ve?Ee+=De?2:0:Ee+=De?0:1,re+1===de&&(Ee-=De?3:5),Ee}function Q(Y,j,ne,Z,le,he,re){return ce(Y,j,ne,Z,le,he,!0,re)}e.fuzzyScoreGracefulAggressive=Q;function ce(Y,j,ne,Z,le,he,re,de){let me=H(Y,j,ne,Z,le,he,de);if(me&&!re)return me;if(Y.length>=3){const ve=Math.min(7,Y.length-1);for(let Ce=ne+1;Ce<ve;Ce++){const Ee=ue(Y,Ce);if(Ee){const De=H(Ee,Ee.toLowerCase(),ne,Z,le,he,de);De&&(De[0]-=3,(!me||De[0]>me[0])&&(me=De))}}}return me}function ue(Y,j){if(!(j+1>=Y.length)){const ne=Y[j],Z=Y[j+1];if(ne!==Z)return Y.slice(0,j)+Z+ne+Y.slice(j+2)}}}),define(ee[284],te([0,1,66,72,16,8]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function v(s,i,n=0,t=0){const o=i;return o.values&&o.values.length>1?l(s,o.values,n,t):f(s,i,n,t)}e.scoreFuzzy2=v;function l(s,i,n,t){let o=0;const h=[];for(const _ of i){const[m,g]=f(s,_,n,t);if(typeof m!="number")return S;o+=m,h.push(...g)}return[o,p(h)]}function f(s,i,n,t){const o=C.fuzzyScore(i.original,i.originalLowercase,n,s,s.toLowerCase(),t,!0);return o?[o[0],C.createMatches(o)]:S}function p(s){const i=s.sort((o,h)=>o.start-h.start),n=[];let t;for(const o of i)!t||!c(t,o)?(t=o,n.push(o)):(t.start=Math.min(t.start,o.start),t.end=Math.max(t.end,o.end));return n}function c(s,i){return!(s.end<i.start||i.end<s.start)}const u=" ";function a(s){typeof s!="string"&&(s="");const i=s.toLowerCase(),{pathNormalized:n,normalized:t,normalizedLowercase:o}=r(s),h=n.indexOf(M.sep)>=0;let _;const m=s.split(u);if(m.length>1)for(const g of m){const{pathNormalized:b,normalized:y,normalizedLowercase:L}=r(g);y&&(_||(_=[]),_.push({original:g,originalLowercase:g.toLowerCase(),pathNormalized:b,normalized:y,normalizedLowercase:L}))}return{original:s,originalLowercase:i,pathNormalized:n,normalized:t,normalizedLowercase:o,values:_,containsPathSeparator:h}}e.prepareQuery=a;function r(s){let i;k.isWindows?i=s.replace(/\//g,M.sep):i=s.replace(/\\/g,M.sep);const n=w.stripWildcards(i).replace(/\s/g,"");return{pathNormalized:i,normalized:n,normalizedLowercase:n.toLowerCase()}}function d(s){return Array.isArray(s)?a(s.map(i=>i.original).join(u)):a(s.original)}e.pieceToQuery=d}),define(ee[196],te([0,1,8,152,72,51,15]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=void 0;const v="**",l="/",f="[/\\\\]",p="[^/\\\\]",c=/\//g;function u(R){switch(R){case 0:return"";case 1:return`${p}*?`;default:return`(?:${f}|${p}+${f}|${f}${p}+)*?`}}function a(R,F){if(!R)return[];const V=[];let K=!1,G=!1,J="";for(const se of R){switch(se){case F:if(!K&&!G){V.push(J),J="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":G=!0;break;case"]":G=!1;break}J+=se}return J&&V.push(J),V}e.splitGlobAware=a;function r(R){if(!R)return"";let F="";const V=a(R,l);if(V.every(K=>K===v))F=".*";else{let K=!1;V.forEach((G,J)=>{if(G===v){K||(F+=u(2),K=!0);return}let se=!1,ie="",ae=!1,X="";for(const U of G){if(U!=="}"&&se){ie+=U;continue}if(ae&&(U!=="]"||!X)){let P;U==="-"?P=U:(U==="^"||U==="!")&&!X?P="^":U===l?P="":P=C.escapeRegExpCharacters(U),X+=P;continue}switch(U){case"{":se=!0;continue;case"[":ae=!0;continue;case"}":F+=`(?:${a(ie,",").map(H=>r(H)).join("|")})`,se=!1,ie="";break;case"]":F+="["+X+"]",ae=!1,X="";break;case"?":F+=p;continue;case"*":F+=u(1);continue;default:F+=C.escapeRegExpCharacters(U)}}J<V.length-1&&(V[J+1]!==v||J+2<V.length)&&(F+=f),K=!1})}return F}const d=/^\*\*\/\*\.[\w\.-]+$/,s=/^\*\*\/([\w\.-]+)\/?$/,i=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,n=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new w.LRUCache(1e4),_=function(){return!1},m=function(){return null};function g(R,F){if(!R)return m;let V;typeof R!="string"?V=R.pattern:V=R,V=V.trim();const K=`${V}_${!!F.trimForExclusions}`;let G=h.get(K);if(G)return b(G,R);let J;if(d.test(V)){const se=V.substr(4);G=function(ie,ae){return typeof ie=="string"&&ie.endsWith(se)?V:null}}else(J=s.exec(y(V,F)))?G=L(J[1],V):(F.trimForExclusions?n:i).test(V)?G=D(V,F):(J=t.exec(y(V,F)))?G=N(J[1].substr(1),V,!0):(J=o.exec(y(V,F)))?G=N(J[1],V,!1):G=I(V);return h.set(K,G),b(G,R)}function b(R,F){return typeof F=="string"?R:function(V,K){return M.isEqualOrParent(V,F.base)?R(k.relative(F.base,V),K):null}}function y(R,F){return F.trimForExclusions&&R.endsWith("/**")?R.substr(0,R.length-2):R}function L(R,F){const V=`/${R}`,K=`\\${R}`,G=function(se,ie){return typeof se!="string"?null:ie?ie===R?F:null:se===R||se.endsWith(V)||se.endsWith(K)?F:null},J=[R];return G.basenames=J,G.patterns=[F],G.allBasenames=J,G}function D(R,F){const V=W(R.slice(1,-1).split(",").map(ie=>g(ie,F)).filter(ie=>ie!==m),R),K=V.length;if(!K)return m;if(K===1)return V[0];const G=function(ie,ae){for(let X=0,U=V.length;X<U;X++)if(V[X](ie,ae))return R;return null},J=V.find(ie=>!!ie.allBasenames);J&&(G.allBasenames=J.allBasenames);const se=V.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return se.length&&(G.allPaths=se),G}function N(R,F,V){const K=k.sep===k.posix.sep,G=K?R:R.replace(c,k.sep),J=k.sep+G,se=k.posix.sep+R,ie=V?function(ae,X){return typeof ae=="string"&&(ae===G||ae.endsWith(J)||!K&&(ae===R||ae.endsWith(se)))?F:null}:function(ae,X){return typeof ae=="string"&&(ae===G||!K&&ae===R)?F:null};return ie.allPaths=[(V?"*/":"./")+R],ie}function I(R){try{const F=new RegExp(`^${r(R)}$`);return function(V){return F.lastIndex=0,typeof V=="string"&&F.test(V)?R:null}}catch(F){return m}}function T(R,F,V){return!R||typeof F!="string"?!1:O(R)(F,void 0,V)}e.match=T;function O(R,F={}){if(!R)return _;if(typeof R=="string"||A(R)){const V=g(R,F);if(V===m)return _;const K=function(G,J){return!!V(G,J)};return V.allBasenames&&(K.allBasenames=V.allBasenames),V.allPaths&&(K.allPaths=V.allPaths),K}return B(R,F)}e.parse=O;function A(R){const F=R;return F&&typeof F.base=="string"&&typeof F.pattern=="string"}e.isRelativePattern=A;function B(R,F){const V=W(Object.getOwnPropertyNames(R).map(ie=>E(ie,R[ie],F)).filter(ie=>ie!==m)),K=V.length;if(!K)return m;if(!V.some(ie=>!!ie.requiresSiblings)){if(K===1)return V[0];const ie=function(U,P){for(let x=0,H=V.length;x<H;x++){const z=V[x](U,P);if(z)return z}return null},ae=V.find(U=>!!U.allBasenames);ae&&(ie.allBasenames=ae.allBasenames);const X=V.reduce((U,P)=>P.allPaths?U.concat(P.allPaths):U,[]);return X.length&&(ie.allPaths=X),ie}const G=function(ie,ae,X){let U;for(let P=0,x=V.length;P<x;P++){const H=V[P];H.requiresSiblings&&X&&(ae||(ae=k.basename(ie)),U||(U=ae.substr(0,ae.length-k.extname(ie).length)));const z=H(ie,ae,U,X);if(z)return z}return null},J=V.find(ie=>!!ie.allBasenames);J&&(G.allBasenames=J.allBasenames);const se=V.reduce((ie,ae)=>ae.allPaths?ie.concat(ae.allPaths):ie,[]);return se.length&&(G.allPaths=se),G}function E(R,F,V){if(F===!1)return m;const K=g(R,V);if(K===m)return m;if(typeof F=="boolean")return K;if(F){const G=F.when;if(typeof G=="string"){const J=(se,ie,ae,X)=>{if(!X||!K(se,ie))return null;const U=G.replace("$(basename)",ae),P=X(U);return S.isThenable(P)?P.then(x=>x?R:null):P?R:null};return J.requiresSiblings=!0,J}}return K}function W(R,F){const V=R.filter(ie=>!!ie.basenames);if(V.length<2)return R;const K=V.reduce((ie,ae)=>{const X=ae.basenames;return X?ie.concat(X):ie},[]);let G;if(F){G=[];for(let ie=0,ae=K.length;ie<ae;ie++)G.push(F)}else G=V.reduce((ie,ae)=>{const X=ae.patterns;return X?ie.concat(X):ie},[]);const J=function(ie,ae){if(typeof ie!="string")return null;if(!ae){let U;for(U=ie.length;U>0;U--){const P=ie.charCodeAt(U-1);if(P===47||P===92)break}ae=ie.substr(U)}const X=K.indexOf(ae);return X!==-1?G[X]:null};J.basenames=K,J.patterns=G,J.allBasenames=K;const se=R.filter(ie=>!ie.basenames);return se.push(J),se}}),define(ee[102],te([0,1,66,8]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const k=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function w(a){return a.replace(k,(r,d)=>d?r:`\\${r}`)}e.escapeIcons=w;const S=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function v(a){return a.replace(S,r=>`\\${r}`)}e.markdownEscapeEscapedIcons=v;const l=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;function f(a){return a.indexOf(e.iconStartMarker)===-1?a:a.replace(l,(r,d,s,i)=>s?r:d||i||"")}e.stripIcons=f;function p(a){const r=a.indexOf(e.iconStartMarker);return r===-1?{text:a}:c(a,r)}e.parseLabelWithIcons=p;function c(a,r){const d=[];let s="";function i(b){if(b){s+=b;for(const y of b)d.push(o)}}let n=-1,t="",o=0,h,_,m=r;const g=a.length;for(i(a.substr(0,r));m<g;)h=a[m],_=a[m+1],h===e.iconStartMarker[0]&&_===e.iconStartMarker[1]?(n=m,i(t),t=e.iconStartMarker,m++):h===")"&&n!==-1?(o+=m-n+1,n=-1,t=""):n!==-1?/^[a-z0-9\-]$/i.test(h)?t+=h:(i(t),n=-1,t=""):i(h),m++;return i(t),{text:s,iconOffsets:d}}function u(a,r,d=!1){const{text:s,iconOffsets:i}=r;if(!i||i.length===0)return C.matchesFuzzy(a,s,d);const n=M.ltrim(s," "),t=s.length-n.length,o=C.matchesFuzzy(a,n,d);if(o)for(const h of o){const _=i[h.start+t]+t;h.start+=_,h.end+=_}return o}e.matchesFuzzyIconAware=u}),define(ee[73],te([0,1,19,102,11]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markedStringsEquals=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class w{constructor(r="",d=!1){var s,i;if(this.value=r,typeof this.value!="string")throw k.illegalArgument("value");typeof d=="boolean"?(this.isTrusted=d,this.supportThemeIcons=!1):(this.isTrusted=(s=d.isTrusted)!==null&&s!==void 0?s:void 0,this.supportThemeIcons=(i=d.supportThemeIcons)!==null&&i!==void 0?i:!1)}appendText(r,d=0){return this.value+=p(this.supportThemeIcons?M.escapeIcons(r):r).replace(/([ \t]+)/g,(s,i)=>"&nbsp;".repeat(i.length)).replace(/^>/gm,"\\>").replace(/\n/g,d===1?`\\
`:`

`),this}appendMarkdown(r){return this.value+=r,this}appendCodeblock(r,d){return this.value+="\n```",this.value+=r,this.value+=`
`,this.value+=d,this.value+="\n```\n",this}}e.MarkdownString=w;function S(a){return v(a)?!a.value:Array.isArray(a)?a.every(S):!0}e.isEmptyMarkdownString=S;function v(a){return a instanceof w?!0:a&&typeof a=="object"?typeof a.value=="string"&&(typeof a.isTrusted=="boolean"||a.isTrusted===void 0)&&(typeof a.supportThemeIcons=="boolean"||a.supportThemeIcons===void 0):!1}e.isMarkdownString=v;function l(a,r){return!a&&!r?!0:!a||!r?!1:Array.isArray(a)&&Array.isArray(r)?C.equals(a,r,f):v(a)&&v(r)?f(a,r):!1}e.markedStringsEquals=l;function f(a,r){return a===r?!0:!a||!r?!1:a.value===r.value&&a.isTrusted===r.isTrusted&&a.supportThemeIcons===r.supportThemeIcons}function p(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=p;function c(a){return a&&a.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=c;function u(a){const r=[],d=a.split("|").map(i=>i.trim());a=d[0];const s=d[1];if(s){const i=/height=(\d+)/.exec(s),n=/width=(\d+)/.exec(s),t=i?i[1]:"",o=n?n[1]:"",h=isFinite(parseInt(o)),_=isFinite(parseInt(t));h&&r.push(`width="${o}"`),_&&r.push(`height="${t}"`)}return{href:a,dimensions:r}}e.parseHrefAndDimensions=u}),define(ee[197],te([0,1,101,24]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(S){let v=JSON.parse(S);return v=w(v),v}e.parse=k;function w(S,v=0){if(!S||v>200)return S;if(typeof S=="object"){switch(S.$mid){case 1:return M.URI.revive(S);case 2:return new RegExp(S.source,S.flags)}if(S instanceof C.VSBuffer||S instanceof Uint8Array)return S;if(Array.isArray(S))for(let l=0;l<S.length;++l)S[l]=w(S[l],v+1);else for(const l in S)Object.hasOwnProperty.call(S,l)&&(S[l]=w(S[l],v+1))}return S}e.revive=w}),define(ee[43],te([0,1,24,16]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var k;(function(v){v.inMemory="inmemory",v.vscode="vscode",v.internal="private",v.walkThrough="walkThrough",v.walkThroughSnippet="walkThroughSnippet",v.http="http",v.https="https",v.file="file",v.mailto="mailto",v.untitled="untitled",v.data="data",v.command="command",v.vscodeRemote="vscode-remote",v.vscodeRemoteResource="vscode-remote-resource",v.userData="vscode-userdata",v.vscodeCustomEditor="vscode-custom-editor",v.vscodeNotebook="vscode-notebook",v.vscodeNotebookCell="vscode-notebook-cell",v.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",v.vscodeSettings="vscode-settings",v.webviewPanel="webview-panel",v.vscodeWebview="vscode-webview",v.vscodeWebviewResource="vscode-webview-resource",v.extension="extension",v.vscodeFileResource="vscode-file"})(k=e.Schemas||(e.Schemas={}));class w{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(l){this._preferredWebSchema=l}rewrite(l){if(this._delegate)return this._delegate(l);const f=l.authority;let p=this._hosts[f];p&&p.indexOf(":")!==-1&&(p=`[${p}]`);const c=this._ports[f],u=this._connectionTokens[f];let a=`path=${encodeURIComponent(l.path)}`;return typeof u=="string"&&(a+=`&tkn=${encodeURIComponent(u)}`),C.URI.from({scheme:M.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${p}:${c}`,path:"/vscode-remote-resource",query:a})}}e.RemoteAuthorities=new w;class S{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(l,f,p){const c=this.toUri(l,f);return c.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(c):M.isNative&&(p||M.isPreferringBrowserCodeLoad)&&c.scheme===k.file?c.with({scheme:k.vscodeFileResource,authority:c.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):c}toUri(l,f){return C.URI.isUri(l)?l:C.URI.parse(f.toUrl(l))}}e.FileAccess=new S}),define(ee[7],te([0,1,34,55,56,50,15,11,6,2,16,43,120]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifierKeyEmitter=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.removeTabIndexAndUpdateFocus=e.hide=e.show=e.$=e.Namespace=e.reset=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListner=e.addDisposableGenericMouseDownListner=e.addStandardDisposableGenericMouseDownListner=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function a(fe){for(;fe.firstChild;)fe.firstChild.remove()}e.clearNode=a;function r(fe){var oe;return(oe=fe==null?void 0:fe.isConnected)!==null&&oe!==void 0?oe:!1}e.isInDOM=r;class d{constructor(oe,ge,_e,be){this._node=oe,this._type=ge,this._handler=_e,this._options=be||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function s(fe,oe,ge,_e){return new d(fe,oe,ge,_e)}e.addDisposableListener=s;function i(fe){return function(oe){return fe(new w.StandardMouseEvent(oe))}}function n(fe){return function(oe){return fe(new k.StandardKeyboardEvent(oe))}}let t=function(oe,ge,_e,be){let ye=_e;return ge==="click"||ge==="mousedown"?ye=i(_e):(ge==="keydown"||ge==="keypress"||ge==="keyup")&&(ye=n(_e)),s(oe,ge,ye,be)};e.addStandardDisposableListener=t;let o=function(oe,ge,_e){let be=i(ge);return h(oe,be,_e)};e.addStandardDisposableGenericMouseDownListner=o;function h(fe,oe,ge){return s(fe,p.isIOS&&u.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,oe,ge)}e.addDisposableGenericMouseDownListner=h;function _(fe,oe,ge){return s(fe,p.isIOS&&u.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,oe,ge)}e.addDisposableGenericMouseUpListner=_;function m(fe,oe){return s(fe,"mouseout",ge=>{let _e=ge.relatedTarget;for(;_e&&_e!==fe;)_e=_e.parentNode;_e!==fe&&oe(ge)})}e.addDisposableNonBubblingMouseOutListener=m;function g(fe,oe){return s(fe,"pointerout",ge=>{let _e=ge.relatedTarget;for(;_e&&_e!==fe;)_e=_e.parentNode;_e!==fe&&oe(ge)})}e.addDisposableNonBubblingPointerOutListener=g;let b=null;function y(fe){if(!b){const oe=ge=>setTimeout(()=>ge(new Date().getTime()),0);b=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||oe}return b.call(self,fe)}class L{constructor(oe,ge=0){this._runner=oe,this.priority=ge,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(oe){v.onUnexpectedError(oe)}}static sort(oe,ge){return ge.priority-oe.priority}}(function(){let fe=[],oe=null,ge=!1,_e=!1,be=()=>{for(ge=!1,oe=fe,fe=[],_e=!0;oe.length>0;)oe.sort(L.sort),oe.shift().execute();_e=!1};e.scheduleAtNextAnimationFrame=(ye,Le=0)=>{let ke=new L(ye,Le);return fe.push(ke),ge||(ge=!0,y(be)),ke},e.runAtThisOrScheduleAtNextAnimationFrame=(ye,Le)=>{if(_e){let ke=new L(ye,Le);return oe.push(ke),ke}else return e.scheduleAtNextAnimationFrame(ye,Le)}})();const D=8,N=function(fe,oe){return oe};class I extends f.Disposable{constructor(oe,ge,_e,be=N,ye=D){super();let Le=null,ke=0,Te=this._register(new S.TimeoutTimer),xe=()=>{ke=new Date().getTime(),_e(Le),Le=null};this._register(s(oe,ge,We=>{Le=be(Le,We);let Ve=new Date().getTime()-ke;Ve>=ye?(Te.cancel(),xe()):Te.setIfNotSet(xe,ye-Ve)}))}}function T(fe,oe,ge,_e,be){return new I(fe,oe,ge,_e,be)}e.addDisposableThrottledListener=T;function O(fe){return document.defaultView.getComputedStyle(fe,null)}e.getComputedStyle=O;function A(fe){if(fe!==document.body)return new E(fe.clientWidth,fe.clientHeight);if(p.isIOS&&window.visualViewport){const oe=window.visualViewport.width,ge=window.visualViewport.height-(C.isStandalone?20+4:0);return new E(oe,ge)}if(window.innerWidth&&window.innerHeight)return new E(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new E(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new E(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=A;class B{static convertToPixels(oe,ge){return parseFloat(ge)||0}static getDimension(oe,ge,_e){let be=O(oe),ye="0";return be&&(be.getPropertyValue?ye=be.getPropertyValue(ge):ye=be.getAttribute(_e)),B.convertToPixels(oe,ye)}static getBorderLeftWidth(oe){return B.getDimension(oe,"border-left-width","borderLeftWidth")}static getBorderRightWidth(oe){return B.getDimension(oe,"border-right-width","borderRightWidth")}static getBorderTopWidth(oe){return B.getDimension(oe,"border-top-width","borderTopWidth")}static getBorderBottomWidth(oe){return B.getDimension(oe,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(oe){return B.getDimension(oe,"padding-left","paddingLeft")}static getPaddingRight(oe){return B.getDimension(oe,"padding-right","paddingRight")}static getPaddingTop(oe){return B.getDimension(oe,"padding-top","paddingTop")}static getPaddingBottom(oe){return B.getDimension(oe,"padding-bottom","paddingBottom")}static getMarginLeft(oe){return B.getDimension(oe,"margin-left","marginLeft")}static getMarginTop(oe){return B.getDimension(oe,"margin-top","marginTop")}static getMarginRight(oe){return B.getDimension(oe,"margin-right","marginRight")}static getMarginBottom(oe){return B.getDimension(oe,"margin-bottom","marginBottom")}}class E{constructor(oe,ge){this.width=oe,this.height=ge}with(oe=this.width,ge=this.height){return oe!==this.width||ge!==this.height?new E(oe,ge):this}static is(oe){return typeof oe=="object"&&typeof oe.height=="number"&&typeof oe.width=="number"}static lift(oe){return oe instanceof E?oe:new E(oe.width,oe.height)}static equals(oe,ge){return oe===ge?!0:!oe||!ge?!1:oe.width===ge.width&&oe.height===ge.height}}e.Dimension=E;function W(fe){let oe=fe.offsetParent,ge=fe.offsetTop,_e=fe.offsetLeft;for(;(fe=fe.parentNode)!==null&&fe!==document.body&&fe!==document.documentElement;){ge-=fe.scrollTop;const be=X(fe)?null:O(fe);be&&(_e-=be.direction!=="rtl"?fe.scrollLeft:-fe.scrollLeft),fe===oe&&(_e+=B.getBorderLeftWidth(fe),ge+=B.getBorderTopWidth(fe),ge+=fe.offsetTop,_e+=fe.offsetLeft,oe=fe.offsetParent)}return{left:_e,top:ge}}e.getTopLeftOffset=W;function R(fe,oe,ge){typeof oe=="number"&&(fe.style.width=`${oe}px`),typeof ge=="number"&&(fe.style.height=`${ge}px`)}e.size=R;function F(fe){let oe=fe.getBoundingClientRect();return{left:oe.left+e.StandardWindow.scrollX,top:oe.top+e.StandardWindow.scrollY,width:oe.width,height:oe.height}}e.getDomNodePagePosition=F,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function V(fe){let oe=B.getMarginLeft(fe)+B.getMarginRight(fe);return fe.offsetWidth+oe}e.getTotalWidth=V;function K(fe){let oe=B.getBorderLeftWidth(fe)+B.getBorderRightWidth(fe),ge=B.getPaddingLeft(fe)+B.getPaddingRight(fe);return fe.offsetWidth-oe-ge}e.getContentWidth=K;function G(fe){let oe=B.getBorderTopWidth(fe)+B.getBorderBottomWidth(fe),ge=B.getPaddingTop(fe)+B.getPaddingBottom(fe);return fe.offsetHeight-oe-ge}e.getContentHeight=G;function J(fe){let oe=B.getMarginTop(fe)+B.getMarginBottom(fe);return fe.offsetHeight+oe}e.getTotalHeight=J;function se(fe,oe){for(;fe;){if(fe===oe)return!0;fe=fe.parentNode}return!1}e.isAncestor=se;function ie(fe,oe,ge){for(;fe&&fe.nodeType===fe.ELEMENT_NODE;){if(fe.classList.contains(oe))return fe;if(ge){if(typeof ge=="string"){if(fe.classList.contains(ge))return null}else if(fe===ge)return null}fe=fe.parentNode}return null}e.findParentWithClass=ie;function ae(fe,oe,ge){return!!ie(fe,oe,ge)}e.hasParentWithClass=ae;function X(fe){return fe&&!!fe.host&&!!fe.mode}e.isShadowRoot=X;function U(fe){return!!P(fe)}e.isInShadowDOM=U;function P(fe){for(;fe.parentNode;){if(fe===document.body)return null;fe=fe.parentNode}return X(fe)?fe:null}e.getShadowRoot=P;function x(){let fe=document.activeElement;for(;fe==null?void 0:fe.shadowRoot;)fe=fe.shadowRoot.activeElement;return fe}e.getActiveElement=x;function H(fe=document.getElementsByTagName("head")[0]){let oe=document.createElement("style");return oe.type="text/css",oe.media="screen",fe.appendChild(oe),oe}e.createStyleSheet=H;let z=null;function q(){return z||(z=H()),z}function Q(fe){var oe,ge;return((oe=fe==null?void 0:fe.sheet)===null||oe===void 0?void 0:oe.rules)?fe.sheet.rules:((ge=fe==null?void 0:fe.sheet)===null||ge===void 0?void 0:ge.cssRules)?fe.sheet.cssRules:[]}function ce(fe,oe,ge=q()){!ge||!oe||ge.sheet.insertRule(fe+"{"+oe+"}",0)}e.createCSSRule=ce;function ue(fe,oe=q()){if(!!oe){let ge=Q(oe),_e=[];for(let be=0;be<ge.length;be++)ge[be].selectorText.indexOf(fe)!==-1&&_e.push(be);for(let be=_e.length-1;be>=0;be--)oe.sheet.deleteRule(_e[be])}}e.removeCSSRulesContainingSelector=ue;function Y(fe){return typeof HTMLElement=="object"?fe instanceof HTMLElement:fe&&typeof fe=="object"&&fe.nodeType===1&&typeof fe.nodeName=="string"}e.isHTMLElement=Y,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:C.isEdgeLegacy?"mousewheel":"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:C.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:C.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:C.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(fe,oe){fe.preventDefault?fe.preventDefault():fe.returnValue=!1,oe&&(fe.stopPropagation?fe.stopPropagation():fe.cancelBubble=!0)}};function j(fe){let oe=[];for(let ge=0;fe&&fe.nodeType===fe.ELEMENT_NODE;ge++)oe[ge]=fe.scrollTop,fe=fe.parentNode;return oe}e.saveParentsScrollTop=j;function ne(fe,oe){for(let ge=0;fe&&fe.nodeType===fe.ELEMENT_NODE;ge++)fe.scrollTop!==oe[ge]&&(fe.scrollTop=oe[ge]),fe=fe.parentNode}e.restoreParentsScrollTop=ne;class Z extends f.Disposable{constructor(oe){super();this._onDidFocus=this._register(new l.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new l.Emitter),this.onDidBlur=this._onDidBlur.event;let ge=se(document.activeElement,oe),_e=!1;const be=()=>{_e=!1,ge||(ge=!0,this._onDidFocus.fire())},ye=()=>{ge&&(_e=!0,window.setTimeout(()=>{_e&&(_e=!1,ge=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{se(document.activeElement,oe)!==ge&&(ge?ye():be())},this._register(M.domEvent(oe,e.EventType.FOCUS,!0)(be)),this._register(M.domEvent(oe,e.EventType.BLUR,!0)(ye))}}function le(fe){return new Z(fe)}e.trackFocus=le;function he(fe,...oe){if(fe.append(...oe),oe.length===1&&typeof oe[0]!="string")return oe[0]}e.append=he;function re(fe,...oe){fe.innerText="",he(fe,...oe)}e.reset=re;const de=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var me;(function(fe){fe.HTML="http://www.w3.org/1999/xhtml",fe.SVG="http://www.w3.org/2000/svg"})(me=e.Namespace||(e.Namespace={}));function ve(fe,oe,ge,..._e){let be=de.exec(oe);if(!be)throw new Error("Bad use of emmet");ge=Object.assign({},ge||{});let ye=be[1]||"div",Le;return fe!==me.HTML?Le=document.createElementNS(fe,ye):Le=document.createElement(ye),be[3]&&(Le.id=be[3]),be[4]&&(Le.className=be[4].replace(/\./g," ").trim()),Object.keys(ge).forEach(ke=>{const Te=ge[ke];typeof Te!="undefined"&&(/^on\w+$/.test(ke)?Le[ke]=Te:ke==="selected"?Te&&Le.setAttribute(ke,"true"):Le.setAttribute(ke,Te))}),Le.append(..._e),Le}function Ce(fe,oe,...ge){return ve(me.HTML,fe,oe,...ge)}e.$=Ce,Ce.SVG=function(fe,oe,...ge){return ve(me.SVG,fe,oe,...ge)};function Ee(...fe){for(let oe of fe)oe.style.display="",oe.removeAttribute("aria-hidden")}e.show=Ee;function De(...fe){for(let oe of fe)oe.style.display="none",oe.setAttribute("aria-hidden","true")}e.hide=De;function Pe(fe,oe){for(;fe&&fe.nodeType===fe.ELEMENT_NODE;){if(fe instanceof HTMLElement&&fe.hasAttribute(oe))return fe;fe=fe.parentNode}return null}function Ne(fe){if(!(!fe||!fe.hasAttribute("tabIndex"))){if(document.activeElement===fe){let oe=Pe(fe.parentElement,"tabIndex");oe&&oe.focus()}fe.removeAttribute("tabindex")}}e.removeTabIndexAndUpdateFocus=Ne;function Ae(fe){return Array.prototype.slice.call(document.getElementsByTagName(fe),0)}e.getElementsByTagName=Ae;function Oe(fe){const oe=window.devicePixelRatio*fe;return Math.max(1,Math.floor(oe))/window.devicePixelRatio}e.computeScreenAwareSize=Oe;function Re(fe){if(C.isElectron||C.isEdgeLegacyWebView)window.open(fe);else{let oe=window.open();oe&&(oe.opener=null,oe.location.href=fe)}}e.windowOpenNoOpener=Re;function Be(fe){const oe=()=>{fe(),ge=e.scheduleAtNextAnimationFrame(oe)};let ge=e.scheduleAtNextAnimationFrame(oe);return f.toDisposable(()=>ge.dispose())}e.animate=Be,c.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function we(fe){return fe?`url('${c.FileAccess.asBrowserUri(fe).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=we;class Se extends l.Emitter{constructor(){super();this._subscriptions=new f.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(M.domEvent(document.body,"keydown",!0)(oe=>{if(!oe.repeat){const ge=new k.StandardKeyboardEvent(oe);if(oe.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(oe.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(oe.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(oe.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(ge.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=oe.altKey,this._keyStatus.ctrlKey=oe.ctrlKey,this._keyStatus.metaKey=oe.metaKey,this._keyStatus.shiftKey=oe.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=oe,this.fire(this._keyStatus))}})),this._subscriptions.add(M.domEvent(document.body,"keyup",!0)(oe=>{!oe.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!oe.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!oe.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!oe.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=oe.altKey,this._keyStatus.ctrlKey=oe.ctrlKey,this._keyStatus.metaKey=oe.metaKey,this._keyStatus.shiftKey=oe.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=oe,this.fire(this._keyStatus))})),this._subscriptions.add(M.domEvent(document.body,"mousedown",!0)(oe=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(M.domEvent(document.body,"mouseup",!0)(oe=>{this._keyStatus.lastKeyPressed=void 0})),this._subscriptions.add(M.domEvent(document.body,"mousemove",!0)(oe=>{oe.buttons&&(this._keyStatus.lastKeyPressed=void 0)})),this._subscriptions.add(M.domEvent(window,"blur")(oe=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Se.instance||(Se.instance=new Se),Se.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Se}),define(ee[156],te([0,1,7]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function M(c,u={}){const a=w(u);return a.textContent=c,a}e.renderText=M;function k(c,u={}){const a=w(u);return v(a,l(c),u.actionHandler),a}e.renderFormattedText=k;function w(c){const u=c.inline?"span":"div",a=document.createElement(u);return c.className&&(a.className=c.className),a}e.createElement=w;class S{constructor(u){this.source=u,this.index=0}eos(){return this.index>=this.source.length}next(){const u=this.peek();return this.advance(),u}peek(){return this.source[this.index]}advance(){this.index++}}function v(c,u,a){let r;if(u.type===2)r=document.createTextNode(u.content||"");else if(u.type===3)r=document.createElement("b");else if(u.type===4)r=document.createElement("i");else if(u.type===5&&a){const d=document.createElement("a");d.href="#",a.disposeables.add(C.addStandardDisposableListener(d,"click",s=>{a.callback(String(u.index),s)})),r=d}else u.type===7?r=document.createElement("br"):u.type===1&&(r=c);r&&c!==r&&c.appendChild(r),r&&Array.isArray(u.children)&&u.children.forEach(d=>{v(r,d,a)})}function l(c){const u={type:1,children:[]};let a=0,r=u;const d=[],s=new S(c);for(;!s.eos();){let i=s.next();const n=i==="\\"&&p(s.peek())!==0;if(n&&(i=s.next()),!n&&f(i)&&i===s.peek()){s.advance(),r.type===2&&(r=d.pop());const t=p(i);if(r.type===t||r.type===5&&t===6)r=d.pop();else{const o={type:t,children:[]};t===5&&(o.index=a,a++),r.children.push(o),d.push(r),r=o}}else if(i===`
`)r.type===2&&(r=d.pop()),r.children.push({type:7});else if(r.type!==2){const t={type:2,content:i};r.children.push(t),d.push(r),r=t}else r.content+=i}return r.type===2&&(r=d.pop()),d.length,u}function f(c){return p(c)!==0}function p(c){switch(c){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}}),define(ee[90],te([0,1,7,191,50,2]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalMouseMoveMonitor=e.standardMouseMoveMerger=void 0;function S(l,f){let p=new k.StandardMouseEvent(f);return p.preventDefault(),{leftButton:p.leftButton,buttons:p.buttons,posx:p.posx,posy:p.posy}}e.standardMouseMoveMerger=S;class v{constructor(){this._hooks=new w.DisposableStore,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(f,p){if(!!this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const c=this._onStopCallback;this._onStopCallback=null,f&&c&&c(p)}}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(f,p,c,u,a){if(!this.isMonitoring()){this._mouseMoveEventMerger=c,this._mouseMoveCallback=u,this._onStopCallback=a;const r=M.IframeUtils.getSameOriginWindowChain(),d="mousemove",s="mouseup",i=r.map(t=>t.window.document),n=C.getShadowRoot(f);n&&i.unshift(n);for(const t of i)this._hooks.add(C.addDisposableThrottledListener(t,d,o=>{if(o.buttons!==p){this.stopMonitoring(!0);return}this._mouseMoveCallback(o)},(o,h)=>this._mouseMoveEventMerger(o,h))),this._hooks.add(C.addDisposableListener(t,s,o=>this.stopMonitoring(!0)));if(M.IframeUtils.hasDifferentOriginAncestor()){let t=r[r.length-1];this._hooks.add(C.addDisposableListener(t.window.document,"mouseout",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.addDisposableListener(t.window.document,"mouseover",o=>{new k.StandardMouseEvent(o).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(C.addDisposableListener(t.window.document.body,"mouseleave",o=>{this.stopMonitoring(!0)}))}}}}e.GlobalMouseMoveMonitor=v});var Me=this&&this.__decorate||function($,e,C,M){var k=arguments.length,w=k<3?e:M===null?M=Object.getOwnPropertyDescriptor(e,C):M,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate($,e,C,M);else for(var v=$.length-1;v>=0;v--)(S=$[v])&&(w=(k<3?S(w):k>3?S(e,C,w):S(e,C))||w);return k>3&&w&&Object.defineProperty(e,C,w),w};define(ee[60],te([0,1,19,2,7,99]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var S;(function(l){l.Tap="-monaco-gesturetap",l.Change="-monaco-gesturechange",l.Start="-monaco-gesturestart",l.End="-monaco-gesturesend",l.Contextmenu="-monaco-gesturecontextmenu"})(S=e.EventType||(e.EventType={}));class v extends M.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(k.addDisposableListener(document,"touchstart",f=>this.onTouchStart(f),{passive:!1})),this._register(k.addDisposableListener(document,"touchend",f=>this.onTouchEnd(f))),this._register(k.addDisposableListener(document,"touchmove",f=>this.onTouchMove(f),{passive:!1}))}static addTarget(f){return v.isTouchDevice()?(v.INSTANCE||(v.INSTANCE=new v),v.INSTANCE.targets.push(f),{dispose:()=>{v.INSTANCE.targets=v.INSTANCE.targets.filter(p=>p!==f)}}):M.Disposable.None}static ignoreTarget(f){return v.isTouchDevice()?(v.INSTANCE||(v.INSTANCE=new v),v.INSTANCE.ignoreTargets.push(f),{dispose:()=>{v.INSTANCE.ignoreTargets=v.INSTANCE.ignoreTargets.filter(p=>p!==f)}}):M.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(f){let p=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let c=0,u=f.targetTouches.length;c<u;c++){let a=f.targetTouches.item(c);this.activeTouches[a.identifier]={id:a.identifier,initialTarget:a.target,initialTimeStamp:p,initialPageX:a.pageX,initialPageY:a.pageY,rollingTimestamps:[p],rollingPageX:[a.pageX],rollingPageY:[a.pageY]};let r=this.newGestureEvent(S.Start,a.target);r.pageX=a.pageX,r.pageY=a.pageY,this.dispatchEvent(r)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}onTouchEnd(f){let p=Date.now(),c=Object.keys(this.activeTouches).length;for(let u=0,a=f.changedTouches.length;u<a;u++){let r=f.changedTouches.item(u);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let d=this.activeTouches[r.identifier],s=Date.now()-d.initialTimeStamp;if(s<v.HOLD_DELAY&&Math.abs(d.initialPageX-C.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-C.tail(d.rollingPageY))<30){let i=this.newGestureEvent(S.Tap,d.initialTarget);i.pageX=C.tail(d.rollingPageX),i.pageY=C.tail(d.rollingPageY),this.dispatchEvent(i)}else if(s>=v.HOLD_DELAY&&Math.abs(d.initialPageX-C.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-C.tail(d.rollingPageY))<30){let i=this.newGestureEvent(S.Contextmenu,d.initialTarget);i.pageX=C.tail(d.rollingPageX),i.pageY=C.tail(d.rollingPageY),this.dispatchEvent(i)}else if(c===1){let i=C.tail(d.rollingPageX),n=C.tail(d.rollingPageY),t=C.tail(d.rollingTimestamps)-d.rollingTimestamps[0],o=i-d.rollingPageX[0],h=n-d.rollingPageY[0];const _=this.targets.filter(m=>d.initialTarget instanceof Node&&m.contains(d.initialTarget));this.inertia(_,p,Math.abs(o)/t,o>0?1:-1,i,Math.abs(h)/t,h>0?1:-1,n)}this.dispatchEvent(this.newGestureEvent(S.End,d.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}newGestureEvent(f,p){let c=document.createEvent("CustomEvent");return c.initEvent(f,!1,!0),c.initialTarget=p,c.tapCount=0,c}dispatchEvent(f){if(f.type===S.Tap){const p=new Date().getTime();let c=0;p-this._lastSetTapCountTime>v.CLEAR_TAP_COUNT_TIME?c=1:c=2,this._lastSetTapCountTime=p,f.tapCount=c}else(f.type===S.Change||f.type===S.Contextmenu)&&(this._lastSetTapCountTime=0);for(let p=0;p<this.ignoreTargets.length;p++)if(f.initialTarget instanceof Node&&this.ignoreTargets[p].contains(f.initialTarget))return;this.targets.forEach(p=>{f.initialTarget instanceof Node&&p.contains(f.initialTarget)&&(p.dispatchEvent(f),this.dispatched=!0)})}inertia(f,p,c,u,a,r,d,s){this.handle=k.scheduleAtNextAnimationFrame(()=>{let i=Date.now(),n=i-p,t=0,o=0,h=!0;c+=v.SCROLL_FRICTION*n,r+=v.SCROLL_FRICTION*n,c>0&&(h=!1,t=u*c*n),r>0&&(h=!1,o=d*r*n);let _=this.newGestureEvent(S.Change);_.translationX=t,_.translationY=o,f.forEach(m=>m.dispatchEvent(_)),h||this.inertia(f,i,c,u,a+t,r,d,s+o)})}onTouchMove(f){let p=Date.now();for(let c=0,u=f.changedTouches.length;c<u;c++){let a=f.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("end of an UNKNOWN touch",a);continue}let r=this.activeTouches[a.identifier],d=this.newGestureEvent(S.Change,r.initialTarget);d.translationX=a.pageX-C.tail(r.rollingPageX),d.translationY=a.pageY-C.tail(r.rollingPageY),d.pageX=a.pageX,d.pageY=a.pageY,this.dispatchEvent(d),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(a.pageX),r.rollingPageY.push(a.pageY),r.rollingTimestamps.push(p)}this.dispatched&&(f.preventDefault(),f.stopPropagation(),this.dispatched=!1)}}v.SCROLL_FRICTION=-.005,v.HOLD_DELAY=700,v.CLEAR_TAP_COUNT_TIME=400,Me([w.memoize],v,"isTouchDevice",null),e.Gesture=v}),define(ee[103],te([0,1,7,27]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=/(\\)?\$\(([a-z\-]+(?:~[a-z\-]+)?)\)/gi;function w(v){const l=new Array;let f,p=0,c=0;for(;(f=k.exec(v))!==null;){c=f.index||0,l.push(v.substring(p,c)),p=(f.index||0)+f[0].length;const[,u,a]=f;l.push(u?`$(${a})`:S({id:a}))}return p<v.length&&l.push(v.substring(p)),l}e.renderLabelWithIcons=w;function S(v){const l=C.$("span");return l.classList.add(...M.CSSIcon.asClassNameArray(v)),l}e.renderIcon=S}),define(ee[157],te([0,1,40,7,103]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w{constructor(v,l){this.supportIcons=l,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",v.appendChild(this.domNode)}get element(){return this.domNode}set(v,l=[],f="",p){v||(v=""),p&&(v=w.escapeNewLines(v,l)),!(this.didEverRender&&this.text===v&&this.title===f&&C.equals(this.highlights,l))&&(this.text=v,this.title=f,this.highlights=l,this.render())}render(){const v=[];let l=0;for(const f of this.highlights)if(f.end!==f.start){if(l<f.start){const u=this.text.substring(l,f.start);v.push(M.$("span",void 0,...this.supportIcons?k.renderLabelWithIcons(u):[u])),l=f.end}const p=this.text.substring(f.start,f.end),c=M.$("span.highlight",void 0,...this.supportIcons?k.renderLabelWithIcons(p):[p]);f.extraClasses&&c.classList.add(f.extraClasses),v.push(c),l=f.end}if(l<this.text.length){const f=this.text.substring(l);v.push(M.$("span",void 0,...this.supportIcons?k.renderLabelWithIcons(f):[f]))}M.reset(this.domNode,...v),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(v,l){let f=0,p=0;return v.replace(/\r\n|\r|\n/g,(c,u)=>{p=c===`\r
`?-1:0,u+=f;for(const a of l)a.end<=u||(a.start>=u&&(a.start+=p),a.end>=u&&(a.end+=p));return f+=p,"\u23CE"})}}e.HighlightedLabel=w}),define(ee[285],te([0,1,7]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function M(w){try{w.parentElement&&w.parentElement.removeChild(w)}catch(S){}}class k{constructor(S){this.renderers=S,this.cache=new Map}alloc(S){let v=this.getTemplateCache(S).pop();if(!v){const l=C.$(".monaco-list-row"),p=this.getRenderer(S).renderTemplate(l);v={domNode:l,templateId:S,templateData:p}}return v}release(S){!S||this.releaseRow(S)}releaseRow(S){const{domNode:v,templateId:l}=S;v&&(v.classList.remove("scrolling"),M(v)),this.getTemplateCache(l).push(S)}getTemplateCache(S){let v=this.cache.get(S);return v||(v=[],this.cache.set(S,v)),v}dispose(){this.cache.forEach((S,v)=>{for(const l of S)this.getRenderer(v).disposeTemplate(l.templateData),l.templateData=null}),this.cache.clear()}getRenderer(S){const v=this.renderers.get(S);if(!v)throw new Error(`No renderer found for ${S}`);return v}}e.RowCache=k}),define(ee[52],te([0,1,7,56,50,2,60]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class v extends w.Disposable{onclick(f,p){this._register(C.addDisposableListener(f,C.EventType.CLICK,c=>p(new k.StandardMouseEvent(c))))}onmousedown(f,p){this._register(C.addDisposableListener(f,C.EventType.MOUSE_DOWN,c=>p(new k.StandardMouseEvent(c))))}onmouseover(f,p){this._register(C.addDisposableListener(f,C.EventType.MOUSE_OVER,c=>p(new k.StandardMouseEvent(c))))}onnonbubblingmouseout(f,p){this._register(C.addDisposableNonBubblingMouseOutListener(f,c=>p(new k.StandardMouseEvent(c))))}onkeydown(f,p){this._register(C.addDisposableListener(f,C.EventType.KEY_DOWN,c=>p(new M.StandardKeyboardEvent(c))))}onkeyup(f,p){this._register(C.addDisposableListener(f,C.EventType.KEY_UP,c=>p(new M.StandardKeyboardEvent(c))))}oninput(f,p){this._register(C.addDisposableListener(f,C.EventType.INPUT,p))}onblur(f,p){this._register(C.addDisposableListener(f,C.EventType.BLUR,p))}onfocus(f,p){this._register(C.addDisposableListener(f,C.EventType.FOCUS,p))}ignoreGesture(f){S.Gesture.ignoreTarget(f)}}e.Widget=v}),define(ee[158],te([0,1,90,52,15]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class w extends M.Widget{constructor(v){super();this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof v.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof v.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof v.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...v.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top!="undefined"&&(this.domNode.style.top=v.top+"px"),typeof v.left!="undefined"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom!="undefined"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right!="undefined"&&(this.domNode.style.right=v.right+"px"),this._mouseMoveMonitor=this._register(new C.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,l=>this._arrowMouseDown(l)),this.onmousedown(this.domNode,l=>this._arrowMouseDown(l)),this._mousedownRepeatTimer=this._register(new k.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowMouseDown(v){const l=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(l,200),this._mouseMoveMonitor.startMonitoring(v.target,v.buttons,C.standardMouseMoveMerger,f=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=w}),define(ee[198],te([0,1,7,30,90,158,280,52,16]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const f=140;class p extends v.Widget{constructor(u){super();this._lazyRender=u.lazyRender,this._host=u.host,this._scrollable=u.scrollable,this._scrollByPage=u.scrollByPage,this._scrollbarState=u.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(u.visibility,"visible scrollbar "+u.extraScrollbarClassName,"invisible scrollbar "+u.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new k.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=M.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,a=>this._domNodeMouseDown(a))}_createArrow(u){const a=this._register(new w.ScrollbarArrow(u));this.domNode.domNode.appendChild(a.bgDomNode),this.domNode.domNode.appendChild(a.domNode)}_createSlider(u,a,r,d){this.slider=M.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(u),this.slider.setLeft(a),typeof r=="number"&&this.slider.setWidth(r),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,s=>{s.leftButton&&(s.preventDefault(),this._sliderMouseDown(s,()=>{}))}),this.onclick(this.slider.domNode,s=>{s.leftButton&&s.stopPropagation()})}_onElementSize(u){return this._scrollbarState.setVisibleSize(u)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(u){return this._scrollbarState.setScrollSize(u)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(u){return this._scrollbarState.setScrollPosition(u)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(u){u.target===this.domNode.domNode&&this._onMouseDown(u)}delegateMouseDown(u){const a=this.domNode.domNode.getClientRects()[0].top,r=a+this._scrollbarState.getSliderPosition(),d=a+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(u);r<=s&&s<=d?u.leftButton&&(u.preventDefault(),this._sliderMouseDown(u,()=>{})):this._onMouseDown(u)}_onMouseDown(u){let a,r;if(u.target===this.domNode.domNode&&typeof u.browserEvent.offsetX=="number"&&typeof u.browserEvent.offsetY=="number")a=u.browserEvent.offsetX,r=u.browserEvent.offsetY;else{const s=C.getDomNodePagePosition(this.domNode.domNode);a=u.posx-s.left,r=u.posy-s.top}const d=this._mouseDownRelativePosition(a,r);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),u.leftButton&&(u.preventDefault(),this._sliderMouseDown(u,()=>{}))}_sliderMouseDown(u,a){const r=this._sliderMousePosition(u),d=this._sliderOrthogonalMousePosition(u),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(u.target,u.buttons,k.standardMouseMoveMerger,i=>{const n=this._sliderOrthogonalMousePosition(i),t=Math.abs(n-d);if(l.isWindows&&t>f){this._setDesiredScrollPositionNow(s.getScrollPosition());return}const h=this._sliderMousePosition(i)-r;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),a()}),this._host.onDragStart()}_setDesiredScrollPositionNow(u){const a={};this.writeScrollPosition(a,u),this._scrollable.setScrollPositionNow(a)}updateScrollbarSize(u){this._updateScrollbarSize(u),this._scrollbarState.setScrollbarSize(u),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=p}),define(ee[286],te([0,1,50,198,158,192,27]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;const v=S.registerCodicon("scrollbar-button-left",S.Codicon.triangleLeft),l=S.registerCodicon("scrollbar-button-right",S.Codicon.triangleRight);class f extends M.AbstractScrollbar{constructor(c,u,a){const r=c.getScrollDimensions(),d=c.getCurrentScrollPosition();super({lazyRender:u.lazyRender,host:a,scrollbarState:new w.ScrollbarState(u.horizontalHasArrows?u.arrowSize:0,u.horizontal===2?0:u.horizontalScrollbarSize,u.vertical===2?0:u.verticalScrollbarSize,r.width,r.scrollWidth,d.scrollLeft),visibility:u.horizontal,extraScrollbarClassName:"horizontal",scrollable:c,scrollByPage:u.scrollByPage});if(u.horizontalHasArrows){const s=(u.arrowSize-k.ARROW_IMG_SIZE)/2,i=(u.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:v,top:i,left:s,bottom:void 0,right:void 0,bgWidth:u.arrowSize,bgHeight:u.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:l,top:i,left:void 0,bottom:void 0,right:s,bgWidth:u.arrowSize,bgHeight:u.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((u.horizontalScrollbarSize-u.horizontalSliderSize)/2),0,void 0,u.horizontalSliderSize)}_updateSlider(c,u){this.slider.setWidth(c),this.slider.setLeft(u)}_renderDomNode(c,u){this.domNode.setWidth(c),this.domNode.setHeight(u),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(c){return this._shouldRender=this._onElementScrollSize(c.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(c.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(c.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(c,u){return c}_sliderMousePosition(c){return c.posx}_sliderOrthogonalMousePosition(c){return c.posy}_updateScrollbarSize(c){this.slider.setHeight(c)}writeScrollPosition(c,u){c.scrollLeft=u}}e.HorizontalScrollbar=f}),define(ee[287],te([0,1,50,198,158,192,27]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;const v=S.registerCodicon("scrollbar-button-up",S.Codicon.triangleUp),l=S.registerCodicon("scrollbar-button-down",S.Codicon.triangleDown);class f extends M.AbstractScrollbar{constructor(c,u,a){const r=c.getScrollDimensions(),d=c.getCurrentScrollPosition();super({lazyRender:u.lazyRender,host:a,scrollbarState:new w.ScrollbarState(u.verticalHasArrows?u.arrowSize:0,u.vertical===2?0:u.verticalScrollbarSize,0,r.height,r.scrollHeight,d.scrollTop),visibility:u.vertical,extraScrollbarClassName:"vertical",scrollable:c,scrollByPage:u.scrollByPage});if(u.verticalHasArrows){const s=(u.arrowSize-k.ARROW_IMG_SIZE)/2,i=(u.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:v,top:s,left:i,bottom:void 0,right:void 0,bgWidth:u.verticalScrollbarSize,bgHeight:u.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:l,top:void 0,left:i,bottom:s,right:void 0,bgWidth:u.verticalScrollbarSize,bgHeight:u.arrowSize,onActivate:()=>this._host.onMouseWheel(new C.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((u.verticalScrollbarSize-u.verticalSliderSize)/2),u.verticalSliderSize,void 0)}_updateSlider(c,u){this.slider.setHeight(c),this.slider.setTop(u)}_renderDomNode(c,u){this.domNode.setWidth(u),this.domNode.setHeight(c),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(c){return this._shouldRender=this._onElementScrollSize(c.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(c.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(c.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(c,u){return u}_sliderMousePosition(c){return c.posy}_sliderOrthogonalMousePosition(c){return c.posx}_updateScrollbarSize(c){this.slider.setWidth(c)}writeScrollPosition(c,u){c.scrollTop=u}}e.VerticalScrollbar=f}),define(ee[44],te([0,1,152,72,24,8,43]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.resolvePath=e.normalizePath=e.joinPath=e.dirname=e.basename=e.basenameOrAuthority=e.isEqual=e.extUri=e.ExtUri=e.originalFSPath=void 0;function v(p){return k.uriToFsPath(p,!0)}e.originalFSPath=v;class l{constructor(c){this._ignorePathCasing=c}compare(c,u,a=!1){return c===u?0:w.compare(this.getComparisonKey(c,a),this.getComparisonKey(u,a))}isEqual(c,u,a=!1){return c===u?!0:!c||!u?!1:this.getComparisonKey(c,a)===this.getComparisonKey(u,a)}getComparisonKey(c,u=!1){return c.with({path:this._ignorePathCasing(c)?c.path.toLowerCase():void 0,fragment:u?null:void 0}).toString()}joinPath(c,...u){return k.URI.joinPath(c,...u)}basenameOrAuthority(c){return e.basename(c)||c.authority}basename(c){return M.posix.basename(c.path)}dirname(c){if(c.path.length===0)return c;let u;return c.scheme===S.Schemas.file?u=k.URI.file(M.dirname(v(c))).path:(u=M.posix.dirname(c.path),c.authority&&u.length&&u.charCodeAt(0)!==47&&(console.error(`dirname("${c.toString})) resulted in a relative path`),u="/")),c.with({path:u})}normalizePath(c){if(!c.path.length)return c;let u;return c.scheme===S.Schemas.file?u=k.URI.file(M.normalize(v(c))).path:u=M.posix.normalize(c.path),c.with({path:u})}resolvePath(c,u){if(c.scheme===S.Schemas.file){const a=k.URI.file(M.resolve(v(c),u));return c.with({authority:a.authority,path:a.path})}return u.indexOf("/")===-1&&(u=C.toSlashes(u),/^[a-zA-Z]:(\/|$)/.test(u)&&(u="/"+u)),c.with({path:M.posix.resolve(c.path,u)})}}e.ExtUri=l,e.extUri=new l(()=>!1),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri);var f;(function(p){p.META_DATA_LABEL="label",p.META_DATA_DESCRIPTION="description",p.META_DATA_SIZE="size",p.META_DATA_MIME="mime";function c(u){const a=new Map;u.path.substring(u.path.indexOf(";")+1,u.path.lastIndexOf(";")).split(";").forEach(s=>{const[i,n]=s.split(":");i&&n&&a.set(i,n)});const d=u.path.substring(0,u.path.indexOf(";"));return d&&a.set(p.META_DATA_MIME,d),a}p.parseMetaData=c})(f=e.DataUri||(e.DataUri={}))}),define(ee[288],te([0,1,7,156,11,73,118,675,676,197,40,8,24,43,102,44,50,103,6,55]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;const h=(o=window.trustedTypes)===null||o===void 0?void 0:o.createPolicy("insane",{createHTML(b,y){return l.insane(b,y)}});function _(b,y={},L={}){var D;const N=M.createElement(y),I=function(R){let F;try{F=f.parse(decodeURIComponent(R))}catch(V){}return F?(F=p.cloneAndChange(F,V=>{if(b.uris&&b.uris[V])return u.URI.revive(b.uris[V])}),encodeURIComponent(JSON.stringify(F))):R},T=function(R,F){const V=b.uris&&b.uris[R];if(!V)return R;let K=u.URI.revive(V);return u.URI.parse(R).toString()===K.toString()?R:F?a.FileAccess.asBrowserUri(K).toString(!0):(K.query&&(K=K.with({query:I(K.query)})),K.toString())};let O;const A=new Promise(R=>O=R),B=new v.Renderer;B.image=(R,F,V)=>{let K=[],G=[];if(R){({href:R,dimensions:K}=w.parseHrefAndDimensions(R)),R=T(R,!0);try{const J=u.URI.parse(R);y.baseUrl&&J.scheme===a.Schemas.file&&(R=d.resolvePath(y.baseUrl,R).toString())}catch(J){}G.push(`src="${R}"`)}return V&&G.push(`alt="${V}"`),F&&G.push(`title="${F}"`),K.length&&(G=G.concat(K)),"<img "+G.join(" ")+">"},B.link=(R,F,V)=>(R===V&&(V=w.removeMarkdownEscapes(V)),R=T(R,!1),y.baseUrl&&(/^\w[\w\d+.-]*:/.test(R)||(R=d.resolvePath(y.baseUrl,R).toString())),F=w.removeMarkdownEscapes(F),R=w.removeMarkdownEscapes(R),!R||R.match(/^data:|javascript:/i)||R.match(/^command:/i)&&!b.isTrusted||R.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?V:(R=R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="#" data-href="${R}" title="${F||R}">${V}</a>`)),B.paragraph=R=>(b.supportThemeIcons&&(R=i.renderLabelWithIcons(R).map(V=>typeof V=="string"?V:V.outerHTML).join("")),`<p>${R}</p>`),y.codeBlockRenderer&&(B.code=(R,F)=>{const V=y.codeBlockRenderer(F,R),K=S.defaultGenerator.nextId(),G=Promise.all([V,A]).then(J=>{const se=N.querySelector(`div[data-code="${K}"]`);se&&C.reset(se,J[0])}).catch(J=>{});return y.asyncRenderCallback&&G.then(y.asyncRenderCallback),`<div class="code" data-code="${K}">${c.escape(R)}</div>`}),y.actionHandler&&y.actionHandler.disposeables.add(n.Event.any(t.domEvent(N,"click"),t.domEvent(N,"auxclick"))(R=>{const F=new s.StandardMouseEvent(R);if(!(!F.leftButton&&!F.middleButton)){let V=F.target;if(!(V.tagName!=="A"&&(V=V.parentElement,!V||V.tagName!=="A")))try{const K=V.dataset.href;K&&y.actionHandler.callback(K,F)}catch(K){k.onUnexpectedError(K)}finally{F.preventDefault()}}})),L.sanitizer=R=>(b.isTrusted?R.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?R:"",L.sanitize=!0,L.silent=!0,L.renderer=B;let E=(D=b.value)!==null&&D!==void 0?D:"";E.length>1e5&&(E=`${E.substr(0,1e5)}\u2026`),b.supportThemeIcons&&(E=r.markdownEscapeEscapedIcons(E));const W=v.parse(E,L);if(N.innerHTML=m(b,W),O(),y.asyncRenderCallback)for(const R of N.getElementsByTagName("img")){const F=C.addDisposableListener(R,"load",()=>{F.dispose(),y.asyncRenderCallback()})}return N}e.renderMarkdown=_;function m(b,y){var L;const D=g(b);return(L=h==null?void 0:h.createHTML(y,D))!==null&&L!==void 0?L:l.insane(y,D)}function g(b){const y=[a.Schemas.http,a.Schemas.https,a.Schemas.mailto,a.Schemas.data,a.Schemas.file,a.Schemas.vscodeRemote,a.Schemas.vscodeRemoteResource];return b.isTrusted&&y.push(a.Schemas.command),{allowedSchemes:y,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter(L){return L.tag==="span"&&b.isTrusted?L.attrs.style&&Object.keys(L.attrs).length===1?!!L.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):L.attrs.class?!!L.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/):!1:!0}}}}),define(ee[159],te([0,1,24,43,16,44,152]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function v(f){if(!!f){typeof f=="string"&&(f=C.URI.file(f));const p=w.basename(f)||(f.scheme===M.Schemas.file?f.fsPath:f.path);return k.isWindows&&S.isRootOrDriveLetter(p)?l(p):p}}e.getBaseLabel=v;function l(f){return S.hasDriveLetter(f)?f.charAt(0).toUpperCase()+f.slice(1):f}e.normalizeDriveLetter=l}),define(ee[289],te([0,1,72,8,196,43,44]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessMimeTypes=e.registerTextMime=e.MIME_UNKNOWN=e.MIME_TEXT=void 0,e.MIME_TEXT="text/plain",e.MIME_UNKNOWN="application/unknown";let v=[],l=[],f=[];function p(d,s=!1){const i=c(d);v.push(i),i.userConfigured?f.push(i):l.push(i),s&&!i.userConfigured&&v.forEach(n=>{n.mime===i.mime||n.userConfigured||(i.extension&&n.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&n.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&n.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&n.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}e.registerTextMime=p;function c(d){return{id:d.id,mime:d.mime,filename:d.filename,extension:d.extension,filepattern:d.filepattern,firstline:d.firstline,userConfigured:d.userConfigured,filenameLowercase:d.filename?d.filename.toLowerCase():void 0,extensionLowercase:d.extension?d.extension.toLowerCase():void 0,filepatternLowercase:d.filepattern?d.filepattern.toLowerCase():void 0,filepatternOnPath:d.filepattern?d.filepattern.indexOf(C.posix.sep)>=0:!1}}function u(d,s){let i;if(d)switch(d.scheme){case w.Schemas.file:i=d.fsPath;break;case w.Schemas.data:i=S.DataUri.parseMetaData(d).get(S.DataUri.META_DATA_LABEL);break;default:i=d.path}if(!i)return[e.MIME_UNKNOWN];i=i.toLowerCase();const n=C.basename(i),t=a(i,n,f);if(t)return[t,e.MIME_TEXT];const o=a(i,n,l);if(o)return[o,e.MIME_TEXT];if(s){const h=r(s);if(h)return[h,e.MIME_TEXT]}return[e.MIME_UNKNOWN]}e.guessMimeTypes=u;function a(d,s,i){let n=null,t=null,o=null;for(let h=i.length-1;h>=0;h--){const _=i[h];if(s===_.filenameLowercase){n=_;break}if(_.filepattern&&(!t||_.filepattern.length>t.filepattern.length)){const m=_.filepatternOnPath?d:s;k.match(_.filepatternLowercase,m)&&(t=_)}_.extension&&(!o||_.extension.length>o.extension.length)&&s.endsWith(_.extensionLowercase)&&(o=_)}return n?n.mime:t?t.mime:o?o.mime:null}function r(d){if(M.startsWithUTF8BOM(d)&&(d=d.substr(1)),d.length>0)for(let s=v.length-1;s>=0;s--){const i=v[s];if(!!i.firstline){const n=d.match(i.firstline);if(n&&n.length>0)return i.mime}}return null}}),define(ee[290],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const C=new Uint8Array(16),M=[];for(let S=0;S<256;S++)M.push(S.toString(16).padStart(2,"0"));const k=function(S){for(let v=0;v<S.length;v++)S[v]=Math.floor(Math.random()*256);return S};function w(){k(C),C[6]=C[6]&15|64,C[8]=C[8]&63|128;let S=0,v="";return v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v+="-",v+=M[C[S++]],v+=M[C[S++]],v+="-",v+=M[C[S++]],v+=M[C[S++]],v+="-",v+=M[C[S++]],v+=M[C[S++]],v+="-",v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v+=M[C[S++]],v}e.generateUuid=w}),define(ee[199],te([0,1,11,2,16,20]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const S="$initialize";let v=!1;function l(a){!k.isWeb||(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(a.message))}e.logOnceWebWorkerWarning=l;class f{constructor(r){this._workerId=-1,this._handler=r,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(r){this._workerId=r}sendMessage(r,d){let s=String(++this._lastSentReq);return new Promise((i,n)=>{this._pendingReplies[s]={resolve:i,reject:n},this._send({vsWorker:this._workerId,req:s,method:r,args:d})})}handleMessage(r){!r||!r.vsWorker||this._workerId!==-1&&r.vsWorker!==this._workerId||this._handleMessage(r)}_handleMessage(r){if(r.seq){let n=r;if(!this._pendingReplies[n.seq]){console.warn("Got reply to unknown seq");return}let t=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){let o=n.err;n.err.$isError&&(o=new Error,o.name=n.err.name,o.message=n.err.message,o.stack=n.err.stack),t.reject(o);return}t.resolve(n.res);return}let d=r,s=d.req;this._handler.handleMessage(d.method,d.args).then(n=>{this._send({vsWorker:this._workerId,seq:s,res:n,err:void 0})},n=>{n.detail instanceof Error&&(n.detail=C.transformErrorForSerialization(n.detail)),this._send({vsWorker:this._workerId,seq:s,res:void 0,err:C.transformErrorForSerialization(n)})})}_send(r){let d=[];if(r.req){const s=r;for(let i=0;i<s.args.length;i++)s.args[i]instanceof ArrayBuffer&&d.push(s.args[i])}else{const s=r;s.res instanceof ArrayBuffer&&d.push(s.res)}this._handler.sendMessage(r,d)}}class p extends M.Disposable{constructor(r,d,s){super();let i=null;this._worker=this._register(r.create("vs/base/common/worker/simpleWorker",h=>{this._protocol.handleMessage(h)},h=>{i&&i(h)})),this._protocol=new f({sendMessage:(h,_)=>{this._worker.postMessage(h,_)},handleMessage:(h,_)=>{if(typeof s[h]!="function")return Promise.reject(new Error("Missing method "+h+" on main thread host."));try{return Promise.resolve(s[h].apply(s,_))}catch(m){return Promise.reject(m)}}}),this._protocol.setWorkerId(this._worker.getId());let n=null;typeof self.require!="undefined"&&typeof self.require.getConfig=="function"?n=self.require.getConfig():typeof self.requirejs!="undefined"&&(n=self.requirejs.s.contexts._.config);const t=w.getAllMethodNames(s);this._onModuleLoaded=this._protocol.sendMessage(S,[this._worker.getId(),JSON.parse(JSON.stringify(n)),d,t]);const o=(h,_)=>this._request(h,_);this._lazyProxy=new Promise((h,_)=>{i=_,this._onModuleLoaded.then(m=>{h(w.createProxyObject(m,o))},m=>{_(m),this._onError("Worker failed to load "+d,m)})})}getProxyObject(){return this._lazyProxy}_request(r,d){return new Promise((s,i)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(r,d).then(s,i)},i)})}_onError(r,d){console.error(r),console.info(d)}}e.SimpleWorkerClient=p;class c{constructor(r,d){this._requestHandlerFactory=d,this._requestHandler=null,this._protocol=new f({sendMessage:(s,i)=>{r(s,i)},handleMessage:(s,i)=>this._handleMessage(s,i)})}onmessage(r){this._protocol.handleMessage(r)}_handleMessage(r,d){if(r===S)return this.initialize(d[0],d[1],d[2],d[3]);if(!this._requestHandler||typeof this._requestHandler[r]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+r));try{return Promise.resolve(this._requestHandler[r].apply(this._requestHandler,d))}catch(s){return Promise.reject(s)}}initialize(r,d,s,i){this._protocol.setWorkerId(r);const n=(o,h)=>this._protocol.sendMessage(o,h),t=w.createProxyObject(i,n);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(t),Promise.resolve(w.getAllMethodNames(this._requestHandler))):(d&&(typeof d.baseUrl!="undefined"&&delete d.baseUrl,typeof d.paths!="undefined"&&typeof d.paths.vs!="undefined"&&delete d.paths.vs,typeof d.trustedTypesPolicy!==void 0&&delete d.trustedTypesPolicy,d.catchError=!0,self.require.config(d)),new Promise((o,h)=>{self.require([s],_=>{if(this._requestHandler=_.create(t),!this._requestHandler){h(new Error("No RequestHandler!"));return}o(w.getAllMethodNames(this._requestHandler))},h)}))}}e.SimpleWorkerServer=c;function u(a){return new c(a,null)}e.create=u}),define(ee[200],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemActivation=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var C;(function(M){M[M.NONE=0]="NONE",M[M.FIRST=1]="FIRST",M[M.SECOND=2]="SECOND",M[M.LAST=3]="LAST"})(C=e.ItemActivation||(e.ItemActivation={}))}),define(ee[291],te([0,1,16,199]),function($,e,C,M){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const w=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:c=>c});function S(c,u){if(C.globals.MonacoEnvironment){if(typeof C.globals.MonacoEnvironment.getWorker=="function")return C.globals.MonacoEnvironment.getWorker(c,u);if(typeof C.globals.MonacoEnvironment.getWorkerUrl=="function"){const a=C.globals.MonacoEnvironment.getWorkerUrl(c,u);return new Worker(w?w.createScriptURL(a):a,{name:u})}}if(typeof $=="function"){const a=$.toUrl("./"+c),r=v(a,u);return new Worker(w?w.createScriptURL(r):r,{name:u})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function v(c,u,a=!1){if(a||/^((http:)|(https:)|(file:))/.test(c)){const r=String(window.location),d=r.substr(0,r.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(a||c.substring(0,d.length)!==d){const s="vs/base/worker/defaultWorkerFactory.js",i=$.toUrl(s).slice(0,-s.length),n=`/*${u}*/self.MonacoEnvironment={baseUrl: '${i}'};importScripts('${c}');/*${u}*/`;if(a)return`data:text/javascript;charset=utf-8,${encodeURIComponent(n)}`;const t=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(t)}}return c+"#"+u}e.getWorkerBootstrapUrl=v;function l(c){return typeof c.then=="function"}class f{constructor(u,a,r,d,s){this.id=a;const i=S("workerMain.js",r);l(i)?this.worker=i:this.worker=Promise.resolve(i),this.postMessage(u,[]),this.worker.then(n=>{n.onmessage=function(t){d(t.data)},n.onmessageerror=s,typeof n.addEventListener=="function"&&n.addEventListener("error",s)})}getId(){return this.id}postMessage(u,a){this.worker&&this.worker.then(r=>r.postMessage(u,a))}dispose(){this.worker&&this.worker.then(u=>u.terminate()),this.worker=null}}class p{constructor(u){this._label=u,this._webWorkerFailedBeforeError=!1}create(u,a,r){let d=++p.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new f(u,d,this._label||"anonymous"+d,a,s=>{M.logOnceWebWorkerWarning(s),this._webWorkerFailedBeforeError=s,r(s)})}}e.DefaultWorkerFactory=p,p.LAST_WORKER_ID=0}),define(ee[201],te([10]),{}),define(ee[292],te([10]),{}),define(ee[47],te([0,1,16,7,292]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let w,S,v,l,f;function p(r){w=document.createElement("div"),w.className="monaco-aria-container";const d=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),w.appendChild(i),i};S=d(),v=d();const s=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),w.appendChild(i),i};l=s(),f=s(),r.appendChild(w)}e.setARIAContainer=p;function c(r){!w||(S.textContent!==r?(M.clearNode(v),a(S,r)):(M.clearNode(S),a(v,r)))}e.alert=c;function u(r){!w||(C.isMacintosh?c(r):l.textContent!==r?(M.clearNode(f),a(l,r)):(M.clearNode(l),a(f,r)))}e.status=u;function a(r,d){M.clearNode(r),d.length>k&&(d=d.substr(0,k)),r.textContent=d,r.style.visibility="hidden",r.style.visibility="visible"}}),define(ee[293],te([10]),{}),define(ee[294],te([0,1,56,29,40,6,2,60,103,7,293]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const p={buttonBackground:M.Color.fromHex("#0E639C"),buttonHoverBackground:M.Color.fromHex("#006BB3"),buttonForeground:M.Color.white};class c extends S.Disposable{constructor(a,r){super();this._onDidClick=this._register(new w.Emitter),this.options=r||Object.create(null),k.mixin(this.options,p,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),a.appendChild(this._element),this._register(v.Gesture.addTarget(this._element)),[f.EventType.CLICK,v.EventType.Tap].forEach(d=>{this._register(f.addDisposableListener(this._element,d,s=>{if(!this.enabled){f.EventHelper.stop(s);return}this._onDidClick.fire(s)}))}),this._register(f.addDisposableListener(this._element,f.EventType.KEY_DOWN,d=>{const s=new C.StandardKeyboardEvent(d);let i=!1;this.enabled&&(s.equals(3)||s.equals(10))?(this._onDidClick.fire(d),i=!0):s.equals(9)&&(this._element.blur(),i=!0),i&&f.EventHelper.stop(s,!0)})),this._register(f.addDisposableListener(this._element,f.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(f.addDisposableListener(this._element,f.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register(f.trackFocus(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let a;this.options.secondary?a=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:a=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,a&&(this._element.style.backgroundColor=a)}style(a){this.buttonForeground=a.buttonForeground,this.buttonBackground=a.buttonBackground,this.buttonHoverBackground=a.buttonHoverBackground,this.buttonSecondaryForeground=a.buttonSecondaryForeground,this.buttonSecondaryBackground=a.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=a.buttonSecondaryHoverBackground,this.buttonBorder=a.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let a,r;this.options.secondary?(r=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",a=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(r=this.buttonForeground?this.buttonForeground.toString():"",a=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=r,this._element.style.backgroundColor=a,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(a){this._element.classList.add("monaco-text-button"),this.options.supportIcons?f.reset(this._element,...l.renderLabelWithIcons(a)):this._element.textContent=a,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=a)}set enabled(a){a?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)),f.removeTabIndexAndUpdateFocus(this._element))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=c}),define(ee[295],te([10]),{}),define(ee[160],te([0,1,7,52,29,6,27,295]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Checkbox=void 0;const v={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class l extends M.Widget{constructor(p){super();this._onChange=this._register(new w.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},v),p),this._checked=this._opts.isChecked;const c=["monaco-custom-checkbox"];this._opts.icon&&c.push(...S.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&c.push(...this._opts.actionClassName.split(" ")),this._checked&&c.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...c),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,u=>{this.checked=!this._checked,this._onChange.fire(!1),u.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,u=>{if(u.keyCode===10||u.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),u.preventDefault();return}this._onKeyDown.fire(u)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(p){this._checked=p,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(p){p.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=p.inputActiveOptionBorder),p.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=p.inputActiveOptionForeground),p.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=p.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))}disable(){C.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))}}e.Checkbox=l}),define(ee[296],te([10]),{}),define(ee[297],te([10]),{}),define(ee[123],te([0,1,27,296,297]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function M(k){let w=k.definition;for(;w instanceof C.Codicon;)w=w.definition;return`.codicon-${k.id}:before { content: '${w.character}'; }`}e.formatRule=M}),define(ee[298],te([10]),{}),define(ee[202],te([0,1,7,16,2,119,120,298]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var v;(function(c){c[c.AVOID=0]="AVOID",c[c.ALIGN=1]="ALIGN"})(v=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function l(c,u,a){const r=a.mode===v.ALIGN?a.offset:a.offset+a.size,d=a.mode===v.ALIGN?a.offset+a.size:a.offset;return a.position===0?u<=c-r?r:u<=d?d-u:Math.max(c-u,0):u<=d?d-u:u<=c-r?r:0}e.layout=l;class f extends k.Disposable{constructor(u,a){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=C.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,C.hide(this.view),this.setContainer(u,a),this._register(k.toDisposable(()=>this.setContainer(null,1)))}setContainer(u,a){var r;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(r=this.shadowRootHostElement)===null||r===void 0||r.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),u){if(this.container=u,this.useFixedPosition=a!==1,this.useShadowDOM=a===3,this.useShadowDOM){this.shadowRootHostElement=C.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const s=document.createElement("style");s.textContent=p,this.shadowRoot.appendChild(s),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(C.$("slot"))}else this.container.appendChild(this.view);const d=new k.DisposableStore;f.BUBBLE_UP_EVENTS.forEach(s=>{d.add(C.addStandardDisposableListener(this.container,s,i=>{this.onDOMEvent(i,!1)}))}),f.BUBBLE_DOWN_EVENTS.forEach(s=>{d.add(C.addStandardDisposableListener(this.container,s,i=>{this.onDOMEvent(i,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(u){this.isVisible()&&this.hide(),C.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",C.show(this.view),this.toDisposeOnClean=u.render(this.view)||k.Disposable.None,this.delegate=u,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(M.isIOS&&S.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!!this.isVisible()){let u=this.delegate.getAnchor(),a;if(C.isHTMLElement(u)){let _=C.getDomNodePagePosition(u);a={top:_.top,left:_.left,width:_.width,height:_.height}}else a={top:u.y,left:u.x,width:u.width||1,height:u.height||2};const r=C.getTotalWidth(this.view),d=C.getTotalHeight(this.view),s=this.delegate.anchorPosition||0,i=this.delegate.anchorAlignment||0,n=this.delegate.anchorAxisAlignment||0;let t,o;if(n===0){const _={offset:a.top-window.pageYOffset,size:a.height,position:s===0?0:1},m={offset:a.left,size:a.width,position:i===0?0:1,mode:v.ALIGN};t=l(window.innerHeight,d,_)+window.pageYOffset,w.Range.intersects({start:t,end:t+d},{start:_.offset,end:_.offset+_.size})&&(m.mode=v.AVOID),o=l(window.innerWidth,r,m)}else{const _={offset:a.left,size:a.width,position:i===0?0:1},m={offset:a.top,size:a.height,position:s===0?0:1,mode:v.ALIGN};o=l(window.innerWidth,r,_),w.Range.intersects({start:o,end:o+r},{start:_.offset,end:_.offset+_.size})&&(m.mode=v.AVOID),t=l(window.innerHeight,d,m)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(s===0?"bottom":"top"),this.view.classList.add(i===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=C.getDomNodePagePosition(this.container);this.view.style.top=`${t-(this.useFixedPosition?C.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${o-(this.useFixedPosition?C.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}}hide(u){const a=this.delegate;this.delegate=null,(a==null?void 0:a.onHide)&&a.onHide(u),this.toDisposeOnClean.dispose(),C.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(u,a){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(u,document.activeElement):a&&!C.isAncestor(u.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=f,f.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],f.BUBBLE_DOWN_EVENTS=["click"];let p=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ee[299],te([10]),{}),define(ee[203],te([0,1,7,8,29,40,299]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const S={badgeBackground:k.Color.fromHex("#4D4D4D"),badgeForeground:k.Color.fromHex("#FFFFFF")};class v{constructor(f,p){this.count=0,this.options=p||Object.create(null),w.mixin(this.options,S,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=C.append(f,C.$(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(f){this.count=f,this.render()}setTitleFormat(f){this.titleFormat=f,this.render()}render(){this.element.textContent=M.format(this.countFormat,this.count),this.element.title=M.format(this.titleFormat,this.count),this.applyStyles()}style(f){this.badgeBackground=f.badgeBackground,this.badgeForeground=f.badgeForeground,this.badgeBorder=f.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const f=this.badgeBackground?this.badgeBackground.toString():"",p=this.badgeForeground?this.badgeForeground.toString():"",c=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=f,this.element.style.color=p,this.element.style.borderWidth=c?"1px":"",this.element.style.borderStyle=c?"solid":"",this.element.style.borderColor=c}}}e.CountBadge=v}),define(ee[204],te([10]),{}),define(ee[205],te([10]),{}),define(ee[300],te([10]),{}),define(ee[301],te([10]),{}),define(ee[302],te([10]),{}),define(ee[303],te([10]),{}),define(ee[206],te([10]),{}),define(ee[304],te([10]),{}),define(ee[124],te([0,1,304]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ee[305],te([10]),{}),define(ee[306],te([0,1,2,29,40,7,15,305]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const v="done",l="active",f="infinite",p="discrete",c={progressBarBackground:M.Color.fromHex("#0E70C0")};class u extends C.Disposable{constructor(r,d){super();this.options=d||Object.create(null),k.mixin(this.options,c,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new S.RunOnceScheduler(()=>w.show(this.element),0)),this.create(r)}create(r){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),r.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(l,f,p),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(r){return this.element.classList.add(v),this.element.classList.contains(f)?(this.bit.style.opacity="0",r?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",r?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(p,v),this.element.classList.add(l,f),this}getContainer(){return this.element}style(r){this.progressBarBackground=r.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const r=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=r}}}e.ProgressBar=u}),define(ee[307],te([10]),{}),define(ee[104],te([0,1,2,16,20,60,50,6,7,55,307]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const p=!1;var c;(function(d){d.North="north",d.South="south",d.East="east",d.West="west"})(c=e.OrthogonalEdge||(e.OrthogonalEdge={}));let u=4;const a=new v.Emitter;class r extends C.Disposable{constructor(s,i,n){super();this._state=3,this._onDidEnablementChange=this._register(new v.Emitter),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new v.Emitter),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new v.Emitter),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new v.Emitter),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new C.DisposableStore),this.orthogonalEndSashDisposables=this._register(new C.DisposableStore),this.el=l.append(s,l.$(".monaco-sash")),n.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${n.orthogonalEdge}`),M.isMacintosh&&this.el.classList.add("mac"),this._register(f.domEvent(this.el,"mousedown")(this.onMouseDown,this)),this._register(f.domEvent(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(w.Gesture.addTarget(this.el)),this._register(f.domEvent(this.el,w.EventType.Start)(this.onTouchStart,this)),typeof n.size=="number"?(this.size=n.size,n.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=u,this._register(a.event(t=>{this.size=t,this.layout()}))),this.hidden=!1,this.layoutProvider=i,this.orthogonalStartSash=n.orthogonalStartSash,this.orthogonalEndSash=n.orthogonalEndSash,this.orientation=n.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",p),this.layout()}get state(){return this._state}set state(s){this._state!==s&&(this.el.classList.toggle("disabled",s===0),this.el.classList.toggle("minimum",s===1),this.el.classList.toggle("maximum",s===2),this._state=s,this._onDidEnablementChange.fire(s))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(s){this.orthogonalStartSashDisposables.clear(),s?(this.orthogonalStartSashDisposables.add(s.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(s.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=s}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(s){this.orthogonalEndSashDisposables.clear(),s?(this.orthogonalEndSashDisposables.add(s.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(s.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=s}onMouseDown(s){l.EventHelper.stop(s,!1);let i=!1;if(!s.__orthogonalSashEvent){const N=this.getOrthogonalSash(s);N&&(i=!0,s.__orthogonalSashEvent=!0,N.onMouseDown(s))}if(this.linkedSash&&!s.__linkedSashEvent&&(s.__linkedSashEvent=!0,this.linkedSash.onMouseDown(s)),!!this.state){const n=[...l.getElementsByTagName("iframe"),...l.getElementsByTagName("webview")];for(const N of n)N.style.pointerEvents="none";const t=new S.StandardMouseEvent(s),o=t.posx,h=t.posy,_=t.altKey,m={startX:o,currentX:o,startY:h,currentY:h,altKey:_};this.el.classList.add("active"),this._onDidStart.fire(m);const g=l.createStyleSheet(this.el),b=()=>{let N="";i?N="all-scroll":this.orientation===1?this.state===1?N="s-resize":this.state===2?N="n-resize":N=M.isMacintosh?"row-resize":"ns-resize":this.state===1?N="e-resize":this.state===2?N="w-resize":N=M.isMacintosh?"col-resize":"ew-resize",g.textContent=`* { cursor: ${N} !important; }`},y=new C.DisposableStore;b(),i||this.onDidEnablementChange(b,null,y);const L=N=>{l.EventHelper.stop(N,!1);const I=new S.StandardMouseEvent(N),T={startX:o,currentX:I.posx,startY:h,currentY:I.posy,altKey:_};this._onDidChange.fire(T)},D=N=>{l.EventHelper.stop(N,!1),this.el.removeChild(g),this.el.classList.remove("active"),this._onDidEnd.fire(),y.dispose();for(const I of n)I.style.pointerEvents="auto"};f.domEvent(window,"mousemove")(L,null,y),f.domEvent(window,"mouseup")(D,null,y)}}onMouseDoubleClick(s){const i=this.getOrthogonalSash(s);i&&i._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(s){l.EventHelper.stop(s);const i=[],n=s.pageX,t=s.pageY,o=s.altKey;this._onDidStart.fire({startX:n,currentX:n,startY:t,currentY:t,altKey:o}),i.push(l.addDisposableListener(this.el,w.EventType.Change,h=>{k.isNumber(h.pageX)&&k.isNumber(h.pageY)&&this._onDidChange.fire({startX:n,currentX:h.pageX,startY:t,currentY:h.pageY,altKey:o})})),i.push(l.addDisposableListener(this.el,w.EventType.End,h=>{this._onDidEnd.fire(),C.dispose(i)}))}layout(){if(this.orientation===0){const s=this.layoutProvider;this.el.style.left=s.getVerticalSashLeft(this)-this.size/2+"px",s.getVerticalSashTop&&(this.el.style.top=s.getVerticalSashTop(this)+"px"),s.getVerticalSashHeight&&(this.el.style.height=s.getVerticalSashHeight(this)+"px")}else{const s=this.layoutProvider;this.el.style.top=s.getHorizontalSashTop(this)-this.size/2+"px",s.getHorizontalSashLeft&&(this.el.style.left=s.getHorizontalSashLeft(this)+"px"),s.getHorizontalSashWidth&&(this.el.style.width=s.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}onOrthogonalStartSashEnablementChange(s){this.el.classList.toggle("orthogonal-start",s!==0)}onOrthogonalEndSashEnablementChange(s){this.el.classList.toggle("orthogonal-end",s!==0)}getOrthogonalSash(s){if(this.orientation===0){if(s.offsetY<=this.size)return this.orthogonalStartSash;if(s.offsetY>=this.el.clientHeight-this.size)return this.orthogonalEndSash}else{if(s.offsetX<=this.size)return this.orthogonalStartSash;if(s.offsetX>=this.el.clientWidth-this.size)return this.orthogonalEndSash}}dispose(){super.dispose(),this.el.remove()}}e.Sash=r}),define(ee[308],te([10]),{}),define(ee[61],te([0,1,7,30,50,286,287,52,15,6,2,16,121,34,308]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const r=500,d=50,s=!0;class i{constructor(b,y,L){this.timestamp=b,this.deltaX=y,this.deltaY=L,this.score=0}}class n{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let b=1,y=0,L=1,D=this._rear;do{const N=D===this._front?b:Math.pow(2,-L);if(b-=N,y+=this._memory[D].score*N,D===this._front)break;D=(this._capacity+D-1)%this._capacity,L++}while(!0);return y<=.5}accept(b,y,L){const D=new i(b,y,L);D.score=this._computeScore(D),this._front===-1&&this._rear===-1?(this._memory[0]=D,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=D)}_computeScore(b){if(Math.abs(b.deltaX)>0&&Math.abs(b.deltaY)>0)return 1;let y=.5;const L=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(b.deltaX)||!this._isAlmostInt(b.deltaY))&&(y+=.25),Math.min(Math.max(y,0),1)}_isAlmostInt(b){return Math.abs(Math.round(b)-b)<.01}}e.MouseWheelClassifier=n,n.INSTANCE=new n;class t extends v.Widget{constructor(b,y,L){super();this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new f.Emitter),b.style.overflow="hidden",this._options=m(y),this._scrollable=L,this._register(this._scrollable.onScroll(N=>{this._onWillScroll.fire(N),this._onDidScroll(N),this._onScroll.fire(N)}));const D={onMouseWheel:N=>this._onMouseWheel(N),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new S.VerticalScrollbar(this._scrollable,this._options,D)),this._horizontalScrollbar=this._register(new w.HorizontalScrollbar(this._scrollable,this._options,D)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(b),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=M.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=M.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=M.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,N=>this._onMouseOver(N)),this.onnonbubblingmouseout(this._listenOnDomNode,N=>this._onMouseOut(N)),this._hideTimeout=this._register(new l.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=p.dispose(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(b){this._verticalScrollbar.delegateMouseDown(b)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(b){this._scrollable.setScrollDimensions(b,!1)}updateClassName(b){this._options.className=b,c.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(b){typeof b.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=b.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof b.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=b.mouseWheelScrollSensitivity),typeof b.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=b.fastScrollSensitivity),typeof b.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=b.scrollPredominantAxis),typeof b.horizontalScrollbarSize!="undefined"&&this._horizontalScrollbar.updateScrollbarSize(b.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(b){if(this._mouseWheelToDispose.length>0!==b&&(this._mouseWheelToDispose=p.dispose(this._mouseWheelToDispose),b)){const L=D=>{this._onMouseWheel(new k.StandardWheelEvent(D))};this._mouseWheelToDispose.push(C.addDisposableListener(this._listenOnDomNode,C.EventType.MOUSE_WHEEL,L,{passive:!1}))}}_onMouseWheel(b){const y=n.INSTANCE;if(s){const N=window.devicePixelRatio/a.getZoomFactor();c.isWindows||c.isLinux?y.accept(Date.now(),b.deltaX/N,b.deltaY/N):y.accept(Date.now(),b.deltaX,b.deltaY)}let L=!1;if(b.deltaY||b.deltaX){let N=b.deltaY*this._options.mouseWheelScrollSensitivity,I=b.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(N)>=Math.abs(I)?I=0:N=0),this._options.flipAxes&&([N,I]=[I,N]);const T=!c.isMacintosh&&b.browserEvent&&b.browserEvent.shiftKey;(this._options.scrollYToX||T)&&!I&&(I=N,N=0),b.browserEvent&&b.browserEvent.altKey&&(I=I*this._options.fastScrollSensitivity,N=N*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let A={};if(N){const B=O.scrollTop-d*N;this._verticalScrollbar.writeScrollPosition(A,B)}if(I){const B=O.scrollLeft-d*I;this._horizontalScrollbar.writeScrollPosition(A,B)}A=this._scrollable.validateScrollPosition(A),(O.scrollLeft!==A.scrollLeft||O.scrollTop!==A.scrollTop)&&(s&&this._options.mouseWheelSmoothScroll&&y.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(A):this._scrollable.setScrollPositionNow(A),L=!0)}let D=L;!D&&this._options.alwaysConsumeMouseWheel&&(D=!0),!D&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(D=!0),D&&(b.preventDefault(),b.stopPropagation())}_onDidScroll(b){this._shouldRender=this._horizontalScrollbar.onDidScroll(b)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(b)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const b=this._scrollable.getCurrentScrollPosition(),y=b.scrollTop>0,L=b.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(L?" left":"")),this._topShadowDomNode.setClassName("shadow"+(y?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(y?" top":"")+(L?" left":""))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(b){this._mouseIsOver=!1,this._hide()}_onMouseOver(b){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),r)}}e.AbstractScrollableElement=t;class o extends t{constructor(b,y){y=y||{},y.mouseWheelSmoothScroll=!1;const L=new u.Scrollable(0,D=>C.scheduleAtNextAnimationFrame(D));super(b,y,L);this._register(L)}setScrollPosition(b){this._scrollable.setScrollPositionNow(b)}}e.ScrollableElement=o;class h extends t{constructor(b,y,L){super(b,y,L)}setScrollPosition(b){b.reuseAnimation?this._scrollable.setScrollPositionSmooth(b,b.reuseAnimation):this._scrollable.setScrollPositionNow(b)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class _ extends o{constructor(b,y){super(b,y);this._element=b,this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=_;function m(g){const b={lazyRender:typeof g.lazyRender!="undefined"?g.lazyRender:!1,className:typeof g.className!="undefined"?g.className:"",useShadows:typeof g.useShadows!="undefined"?g.useShadows:!0,handleMouseWheel:typeof g.handleMouseWheel!="undefined"?g.handleMouseWheel:!0,flipAxes:typeof g.flipAxes!="undefined"?g.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof g.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?g.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof g.alwaysConsumeMouseWheel!="undefined"?g.alwaysConsumeMouseWheel:!1,scrollYToX:typeof g.scrollYToX!="undefined"?g.scrollYToX:!1,mouseWheelScrollSensitivity:typeof g.mouseWheelScrollSensitivity!="undefined"?g.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof g.fastScrollSensitivity!="undefined"?g.fastScrollSensitivity:5,scrollPredominantAxis:typeof g.scrollPredominantAxis!="undefined"?g.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof g.mouseWheelSmoothScroll!="undefined"?g.mouseWheelSmoothScroll:!0,arrowSize:typeof g.arrowSize!="undefined"?g.arrowSize:11,listenOnDomNode:typeof g.listenOnDomNode!="undefined"?g.listenOnDomNode:null,horizontal:typeof g.horizontal!="undefined"?g.horizontal:1,horizontalScrollbarSize:typeof g.horizontalScrollbarSize!="undefined"?g.horizontalScrollbarSize:10,horizontalSliderSize:typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:0,horizontalHasArrows:typeof g.horizontalHasArrows!="undefined"?g.horizontalHasArrows:!1,vertical:typeof g.vertical!="undefined"?g.vertical:1,verticalScrollbarSize:typeof g.verticalScrollbarSize!="undefined"?g.verticalScrollbarSize:10,verticalHasArrows:typeof g.verticalHasArrows!="undefined"?g.verticalHasArrows:!1,verticalSliderSize:typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:0,scrollByPage:typeof g.scrollByPage!="undefined"?g.scrollByPage:!1};return b.horizontalSliderSize=typeof g.horizontalSliderSize!="undefined"?g.horizontalSliderSize:b.horizontalScrollbarSize,b.verticalSliderSize=typeof g.verticalSliderSize!="undefined"?g.verticalSliderSize:b.verticalScrollbarSize,c.isMacintosh&&(b.className+=" mac"),b}}),define(ee[207],te([0,1,7,2,61,300]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderHoverAction=e.HoverWidget=void 0;const w=C.$;class S extends M.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}e.HoverWidget=S;function v(l,f,p){const c=C.append(l,w("div.action-container")),u=C.append(c,w("a.action"));u.setAttribute("href","#"),u.setAttribute("role","button"),f.iconClass&&C.append(u,w(`span.icon.${f.iconClass}`));const a=C.append(u,w("span"));return a.textContent=p?`${f.label} (${p})`:f.label,C.addDisposableListener(c,C.EventType.CLICK,r=>{r.stopPropagation(),r.preventDefault(),f.run(c)})}e.renderHoverAction=v}),define(ee[161],te([0,1,40,2,60,6,55,61,121,279,285,99,119,19,150,15,34,7]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const n={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(b){return[b]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0};class t{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=t;class o{constructor(y){this.elements=y}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=o;class h{constructor(){this.types=[],this.files=[]}update(y){if(y.types&&this.types.splice(0,this.types.length,...y.types),y.files){this.files.splice(0,this.files.length);for(let L=0;L<y.files.length;L++){const D=y.files.item(L);D&&(D.size||D.type)&&this.files.push(D)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=h;function _(b,y){return Array.isArray(b)&&Array.isArray(y)?a.equals(b,y):b===y}class m{constructor(y){(y==null?void 0:y.getSetSize)?this.getSetSize=y.getSetSize.bind(y):this.getSetSize=(L,D,N)=>N,(y==null?void 0:y.getPosInSet)?this.getPosInSet=y.getPosInSet.bind(y):this.getPosInSet=(L,D)=>D+1,(y==null?void 0:y.getRole)?this.getRole=y.getRole.bind(y):this.getRole=L=>"listitem",(y==null?void 0:y.isChecked)?this.isChecked=y.isChecked.bind(y):this.isChecked=L=>{}}}class g{constructor(y,L,D,N=n){if(this.virtualDelegate=L,this.domId=`list_id_${++g.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new d.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=M.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=M.Disposable.None,this.onDragLeaveTimeout=M.Disposable.None,this.disposables=new M.DisposableStore,this._onDidChangeContentHeight=new w.Emitter,this._horizontalScrolling=!1,N.horizontalScrolling&&N.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new f.RangeMap;for(const T of D)this.renderers.set(T.templateId,T);this.cache=this.disposables.add(new p.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof N.mouseSupport=="boolean"?N.mouseSupport:!0),this._horizontalScrolling=C.getOrDefault(N,T=>T.horizontalScrolling,n.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof N.additionalScrollHeight=="undefined"?0:N.additionalScrollHeight,this.accessibilityProvider=new m(N.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",C.getOrDefault(N,T=>T.transformOptimization,n.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(k.Gesture.addTarget(this.rowsContainer)),this.scrollable=new l.Scrollable(C.getOrDefault(N,T=>T.smoothScrolling,!1)?125:0,T=>i.scheduleAtNextAnimationFrame(T)),this.scrollableElement=this.disposables.add(new v.SmoothScrollableElement(this.rowsContainer,{horizontal:1,vertical:C.getOrDefault(N,T=>T.verticalScrollMode,n.verticalScrollMode),useShadows:C.getOrDefault(N,T=>T.useShadows,n.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),y.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),S.domEvent(this.rowsContainer,k.EventType.Change)(this.onTouchChange,this,this.disposables),S.domEvent(this.scrollableElement.getDomNode(),"scroll")(T=>T.target.scrollTop=0,null,this.disposables),w.Event.map(S.domEvent(this.domNode,"dragover"),T=>this.toDragEvent(T))(this.onDragOver,this,this.disposables),w.Event.map(S.domEvent(this.domNode,"drop"),T=>this.toDragEvent(T))(this.onDrop,this,this.disposables),S.domEvent(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),S.domEvent(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=C.getOrDefault(N,T=>T.setRowLineHeight,n.setRowLineHeight),this.setRowHeight=C.getOrDefault(N,T=>T.setRowHeight,n.setRowHeight),this.supportDynamicHeights=C.getOrDefault(N,T=>T.supportDynamicHeights,n.supportDynamicHeights),this.dnd=C.getOrDefault(N,T=>T.dnd,n.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(y){if(y!==this._horizontalScrolling){if(y&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=y,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:i.getContentWidth(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(y){y.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=y.additionalScrollHeight),y.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(y.smoothScrolling?125:0),y.horizontalScrolling!==void 0&&(this.horizontalScrolling=y.horizontalScrolling)}splice(y,L,D=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(y,L,D)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(y,L,D=[]){const N=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),I={start:y,end:y+L},T=u.Range.intersect(N,I),O=new Map;for(let U=T.start;U<T.end;U++){const P=this.items[U];if(P.dragStartDisposable.dispose(),P.row){let x=O.get(P.templateId);x||(x=[],O.set(P.templateId,x)),x.push([P.row,P.element,U,P.size])}P.row=null}const A={start:y+L,end:this.items.length},B=u.Range.intersect(A,N),E=u.Range.relativeComplement(A,N),W=D.map(U=>({id:String(this.itemId++),element:U,templateId:this.virtualDelegate.getTemplateId(U),size:this.virtualDelegate.getHeight(U),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(U),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:M.Disposable.None}));let R;y===0&&L>=this.items.length?(this.rangeMap=new f.RangeMap,this.rangeMap.splice(0,0,W),this.items=W,R=[]):(this.rangeMap.splice(y,L,W),R=this.items.splice(y,L,...W));const F=D.length-L,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),K=f.shift(B,F),G=u.Range.intersect(V,K);for(let U=G.start;U<G.end;U++)this.updateItemInDOM(this.items[U],U);const J=u.Range.relativeComplement(K,V);for(const U of J)for(let P=U.start;P<U.end;P++)this.removeItemFromDOM(P);const se=E.map(U=>f.shift(U,F)),ae=[{start:y,end:y+D.length},...se].map(U=>u.Range.intersect(V,U)),X=this.getNextToLastElement(ae);for(const U of ae)for(let P=U.start;P<U.end;P++){const x=this.items[P],H=O.get(x.templateId),z=H==null?void 0:H.pop();if(!z)this.insertItemInDOM(P,X);else{const[q,Q,ce,ue]=z,Y=this.renderers.get(x.templateId);Y&&Y.disposeElement&&Y.disposeElement(Q,ce,q.templateData,ue),this.insertItemInDOM(P,X,q)}}for(const[U,P]of O)for(const[x,H,z,q]of P){const Q=this.renderers.get(U);Q&&Q.disposeElement&&Q.disposeElement(H,z,x.templateData,q),this.cache.release(x)}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),R.map(U=>U.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=i.scheduleAtNextAnimationFrame(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!!this.horizontalScrolling){let y=0;for(const L of this.items)typeof L.width!="undefined"&&(y=Math.max(y,L.width));this.scrollWidth=y,this.scrollableElement.setScrollDimensions({scrollWidth:y===0?0:y+10})}}rerender(){if(!!this.supportDynamicHeights){for(const y of this.items)y.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(y){return this.items[y].element}domElement(y){const L=this.items[y].row;return L&&L.domNode}elementHeight(y){return this.items[y].size}elementTop(y){return this.rangeMap.positionAt(y)}indexAt(y){return this.rangeMap.indexAt(y)}indexAfter(y){return this.rangeMap.indexAfter(y)}layout(y,L){let D={height:typeof y=="number"?y:i.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,D.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(D),typeof L!="undefined"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:i.getContentWidth(this.domNode)}))}render(y,L,D,N,I,T=!1){const O=this.getRenderRange(L,D),A=u.Range.relativeComplement(O,y),B=u.Range.relativeComplement(y,O),E=this.getNextToLastElement(A);if(T){const W=u.Range.intersect(y,O);for(let R=W.start;R<W.end;R++)this.updateItemInDOM(this.items[R],R)}for(const W of A)for(let R=W.start;R<W.end;R++)this.insertItemInDOM(R,E);for(const W of B)for(let R=W.start;R<W.end;R++)this.removeItemFromDOM(R);N!==void 0&&(this.rowsContainer.style.left=`-${N}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&I!==void 0&&(this.rowsContainer.style.width=`${Math.max(I,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=D}insertItemInDOM(y,L,D){const N=this.items[y];N.row||(N.row=D!=null?D:this.cache.alloc(N.templateId));const I=this.accessibilityProvider.getRole(N.element)||"listitem";N.row.domNode.setAttribute("role",I);const T=this.accessibilityProvider.isChecked(N.element);typeof T!="undefined"&&N.row.domNode.setAttribute("aria-checked",String(!!T)),N.row.domNode.parentElement||(L?this.rowsContainer.insertBefore(N.row.domNode,L):this.rowsContainer.appendChild(N.row.domNode)),this.updateItemInDOM(N,y);const O=this.renderers.get(N.templateId);if(!O)throw new Error(`No renderer found for template id ${N.templateId}`);O&&O.renderElement(N.element,y,N.row.templateData,N.size);const A=this.dnd.getDragURI(N.element);if(N.dragStartDisposable.dispose(),N.row.domNode.draggable=!!A,A){const B=S.domEvent(N.row.domNode,"dragstart");N.dragStartDisposable=B(E=>this.onDragStart(N.element,A,E))}this.horizontalScrolling&&(this.measureItemWidth(N),this.eventuallyUpdateScrollWidth())}measureItemWidth(y){if(!(!y.row||!y.row.domNode)){y.row.domNode.style.width=s.isFirefox?"-moz-fit-content":"fit-content",y.width=i.getContentWidth(y.row.domNode);const L=window.getComputedStyle(y.row.domNode);L.paddingLeft&&(y.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(y.width+=parseFloat(L.paddingRight)),y.row.domNode.style.width=""}}updateItemInDOM(y,L){y.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(y.row.domNode.style.height=`${y.size}px`),this.setRowLineHeight&&(y.row.domNode.style.lineHeight=`${y.size}px`),y.row.domNode.setAttribute("data-index",`${L}`),y.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),y.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(y.element,L,this.length))),y.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(y.element,L))),y.row.domNode.setAttribute("id",this.getElementDomId(L)),y.row.domNode.classList.toggle("drop-target",y.dropTarget)}removeItemFromDOM(y){const L=this.items[y];if(L.dragStartDisposable.dispose(),L.row){const D=this.renderers.get(L.templateId);D&&D.disposeElement&&D.disposeElement(L.element,y,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(y,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:y,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(y){this.setScrollTop(y)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return w.Event.map(S.domEvent(this.domNode,"click"),y=>this.toMouseEvent(y))}get onMouseDblClick(){return w.Event.map(S.domEvent(this.domNode,"dblclick"),y=>this.toMouseEvent(y))}get onMouseMiddleClick(){return w.Event.filter(w.Event.map(S.domEvent(this.domNode,"auxclick"),y=>this.toMouseEvent(y)),y=>y.browserEvent.button===1)}get onMouseDown(){return w.Event.map(S.domEvent(this.domNode,"mousedown"),y=>this.toMouseEvent(y))}get onContextMenu(){return w.Event.map(S.domEvent(this.domNode,"contextmenu"),y=>this.toMouseEvent(y))}get onTouchStart(){return w.Event.map(S.domEvent(this.domNode,"touchstart"),y=>this.toTouchEvent(y))}get onTap(){return w.Event.map(S.domEvent(this.rowsContainer,k.EventType.Tap),y=>this.toGestureEvent(y))}toMouseEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),D=typeof L=="undefined"?void 0:this.items[L],N=D&&D.element;return{browserEvent:y,index:L,element:N}}toTouchEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),D=typeof L=="undefined"?void 0:this.items[L],N=D&&D.element;return{browserEvent:y,index:L,element:N}}toGestureEvent(y){const L=this.getItemIndexFromEventTarget(y.initialTarget||null),D=typeof L=="undefined"?void 0:this.items[L],N=D&&D.element;return{browserEvent:y,index:L,element:N}}toDragEvent(y){const L=this.getItemIndexFromEventTarget(y.target||null),D=typeof L=="undefined"?void 0:this.items[L],N=D&&D.element;return{browserEvent:y,index:L,element:N}}onScroll(y){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,y.scrollTop,y.height,y.scrollLeft,y.scrollWidth),this.supportDynamicHeights&&this._rerender(y.scrollTop,y.height,y.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",y),L}}onTouchChange(y){y.preventDefault(),y.stopPropagation(),this.scrollTop-=y.translationY}onDragStart(y,L,D){if(!!D.dataTransfer){const N=this.dnd.getDragElements(y);if(D.dataTransfer.effectAllowed="copyMove",D.dataTransfer.setData(r.DataTransfers.RESOURCES,JSON.stringify([L])),D.dataTransfer.setDragImage){let I;this.dnd.getDragLabel&&(I=this.dnd.getDragLabel(N,D)),typeof I=="undefined"&&(I=String(N.length));const T=i.$(".monaco-drag-image");T.textContent=I,document.body.appendChild(T),D.dataTransfer.setDragImage(T,-10,-10),setTimeout(()=>document.body.removeChild(T),0)}this.currentDragData=new t(N),r.StaticDND.CurrentDragAndDropData=new o(N),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,D)}}onDragOver(y){if(y.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),r.StaticDND.CurrentDragAndDropData&&r.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(y.browserEvent),!y.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(r.StaticDND.CurrentDragAndDropData)this.currentDragData=r.StaticDND.CurrentDragAndDropData;else{if(!y.browserEvent.dataTransfer.types)return!1;this.currentDragData=new h}const L=this.dnd.onDragOver(this.currentDragData,y.element,y.index,y.browserEvent);if(this.canDrop=typeof L=="boolean"?L:L.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;y.browserEvent.dataTransfer.dropEffect=typeof L!="boolean"&&L.effect===0?"copy":"move";let D;if(typeof L!="boolean"&&L.feedback?D=L.feedback:typeof y.index=="undefined"?D=[-1]:D=[y.index],D=a.distinct(D).filter(N=>N>=-1&&N<this.length).sort((N,I)=>N-I),D=D[0]===-1?[-1]:D,_(this.currentDragFeedback,D))return!0;if(this.currentDragFeedback=D,this.currentDragFeedbackDisposable.dispose(),D[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=M.toDisposable(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const N of D){const I=this.items[N];I.dropTarget=!0,I.row&&I.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=M.toDisposable(()=>{for(const N of D){const I=this.items[N];I.dropTarget=!1,I.row&&I.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=d.disposableTimeout(()=>this.clearDragOverFeedback(),100)}onDrop(y){if(!!this.canDrop){const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,r.StaticDND.CurrentDragAndDropData=void 0,!(!L||!y.browserEvent.dataTransfer)&&(y.browserEvent.preventDefault(),L.update(y.browserEvent.dataTransfer),this.dnd.drop(L,y.element,y.index,y.browserEvent))}}onDragEnd(y){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,r.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(y)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=M.Disposable.None}setupDragAndDropScrollTopAnimation(y){if(!this.dragOverAnimationDisposable){const L=i.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=i.animate(this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=d.disposableTimeout(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=y.pageY}animateDragAndDropScrollTop(y){if(this.dragOverMouseY!==void 0){const L=this.dragOverMouseY-y,D=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>D&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-D))))}}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(y){const L=this.scrollableElement.getDomNode();let D=y;for(;D instanceof HTMLElement&&D!==this.rowsContainer&&L.contains(D);){const N=D.getAttribute("data-index");if(N){const I=Number(N);if(!isNaN(I))return I}D=D.parentElement}}getRenderRange(y,L){return{start:this.rangeMap.indexAt(y),end:this.rangeMap.indexAfter(y+L-1)}}_rerender(y,L,D){const N=this.getRenderRange(y,L);let I,T;y===this.elementTop(N.start)?(I=N.start,T=0):N.end-N.start>1&&(I=N.start+1,T=this.elementTop(I)-y);let O=0;for(;;){const A=this.getRenderRange(y,L);let B=!1;for(let E=A.start;E<A.end;E++){const W=this.probeDynamicHeight(E);W!==0&&this.rangeMap.splice(E,1,[this.items[E]]),O+=W,B=B||W!==0}if(!B){O!==0&&this.eventuallyUpdateScrollDimensions();const E=u.Range.relativeComplement(N,A);for(const R of E)for(let F=R.start;F<R.end;F++)this.items[F].row&&this.removeItemFromDOM(F);const W=u.Range.relativeComplement(A,N);for(const R of W)for(let F=R.start;F<R.end;F++){const V=F+1,K=V<this.items.length?this.items[V].row:null,G=K?K.domNode:null;this.insertItemInDOM(F,G)}for(let R=A.start;R<A.end;R++)this.items[R].row&&this.updateItemInDOM(this.items[R],R);if(typeof I=="number"){const R=this.scrollable.getFutureScrollPosition().scrollTop-y,F=this.elementTop(I)-T+R;this.setScrollTop(F,D)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(y){const L=this.items[y];if(!L.hasDynamicHeight||L.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(L.element))return 0;const D=L.size;if(!this.setRowHeight&&L.row){let T=L.row.domNode.offsetHeight;return L.size=T,L.lastDynamicHeightWidth=this.renderWidth,T-D}const N=this.cache.alloc(L.templateId);N.domNode.style.height="",this.rowsContainer.appendChild(N.domNode);const I=this.renderers.get(L.templateId);return I&&(I.renderElement(L.element,y,N.templateData,void 0),I.disposeElement&&I.disposeElement(L.element,y,N.templateData,void 0)),L.size=N.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(L.element,L.size),L.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(N.domNode),this.cache.release(N),L.size-D}getNextToLastElement(y){const L=y[y.length-1];if(!L)return null;const D=this.items[L.end];return!D||!D.row?null:D.row.domNode}getElementDomId(y){return`${this.domId}_${y}`}dispose(){if(this.items){for(const y of this.items)if(y.row){const L=this.renderers.get(y.row.templateId);L&&(L.disposeElement&&L.disposeElement(y.element,-1,y.row.templateData,void 0),L.disposeTemplate(y.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),M.dispose(this.disposables)}}g.InstanceCount=0,Me([c.memoize],g.prototype,"onMouseClick",null),Me([c.memoize],g.prototype,"onMouseDblClick",null),Me([c.memoize],g.prototype,"onMouseMiddleClick",null),Me([c.memoize],g.prototype,"onMouseDown",null),Me([c.memoize],g.prototype,"onContextMenu",null),Me([c.memoize],g.prototype,"onTouchStart",null),Me([c.memoize],g.prototype,"onTap",null),e.ListView=g}),define(ee[125],te([0,1,2,20,19,99,16,60,56,6,55,273,161,29,40,274,100,66,47,7,206]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class o{constructor(U){this.trait=U,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(U){return U}renderElement(U,P,x){const H=this.renderedElements.findIndex(z=>z.templateData===x);if(H>=0){const z=this.renderedElements[H];this.trait.unrender(x),z.index=P}else{const z={index:P,templateData:x};this.renderedElements.push(z)}this.trait.renderIndex(P,x)}splice(U,P,x){const H=[];for(const z of this.renderedElements)z.index<U?H.push(z):z.index>=U+P&&H.push({index:z.index+x-P,templateData:z.templateData});this.renderedElements=H}renderIndexes(U){for(const{index:P,templateData:x}of this.renderedElements)U.indexOf(P)>-1&&this.trait.renderIndex(P,x)}disposeTemplate(U){const P=this.renderedElements.findIndex(x=>x.templateData===U);P<0||this.renderedElements.splice(P,1)}}class h{constructor(U){this._trait=U,this.indexes=[],this.sortedIndexes=[],this._onChange=new f.Emitter,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new o(this)}splice(U,P,x){const H=x.length-P,z=U+P,q=[...this.sortedIndexes.filter(Q=>Q<U),...x.map((Q,ce)=>Q?ce+U:-1).filter(Q=>Q!==-1),...this.sortedIndexes.filter(Q=>Q>=z).map(Q=>Q+H)];this.renderer.splice(U,P,x.length),this._set(q,q)}renderIndex(U,P){P.classList.toggle(this._trait,this.contains(U))}unrender(U){U.classList.remove(this._trait)}set(U,P){return this._set(U,[...U].sort(G),P)}_set(U,P,x){const H=this.indexes,z=this.sortedIndexes;this.indexes=U,this.sortedIndexes=P;const q=V(z,U);return this.renderer.renderIndexes(q),this._onChange.fire({indexes:U,browserEvent:x}),H}get(){return this.indexes}contains(U){return k.binarySearch(this.sortedIndexes,U,G)>=0}dispose(){C.dispose(this._onChange)}}Me([w.memoize],h.prototype,"renderer",null);class _ extends h{constructor(U){super("selected");this.setAriaSelected=U}renderIndex(U,P){super.renderIndex(U,P),this.setAriaSelected&&(this.contains(U)?P.setAttribute("aria-selected","true"):P.setAttribute("aria-selected","false"))}}class m{constructor(U,P,x){this.trait=U,this.view=P,this.identityProvider=x}splice(U,P,x){if(!this.identityProvider)return this.trait.splice(U,P,x.map(()=>!1));const H=this.trait.get().map(q=>this.identityProvider.getId(this.view.element(q)).toString()),z=x.map(q=>H.indexOf(this.identityProvider.getId(q).toString())>-1);this.trait.splice(U,P,z)}}function g(X){return X.tagName==="INPUT"||X.tagName==="TEXTAREA"}e.isInputElement=g;function b(X){return X.classList.contains("monaco-editor")?!0:X.classList.contains("monaco-list")||!X.parentElement?!1:b(X.parentElement)}e.isMonacoEditor=b;class y{constructor(U,P,x){this.list=U,this.view=P,this.disposables=new C.DisposableStore;const H=x.multipleSelectionSupport!==!1,z=f.Event.chain(p.domEvent(P.domNode,"keydown")).filter(q=>!g(q.target)).map(q=>new l.StandardKeyboardEvent(q));z.filter(q=>q.keyCode===3).on(this.onEnter,this,this.disposables),z.filter(q=>q.keyCode===16).on(this.onUpArrow,this,this.disposables),z.filter(q=>q.keyCode===18).on(this.onDownArrow,this,this.disposables),z.filter(q=>q.keyCode===11).on(this.onPageUpArrow,this,this.disposables),z.filter(q=>q.keyCode===12).on(this.onPageDownArrow,this,this.disposables),z.filter(q=>q.keyCode===9).on(this.onEscape,this,this.disposables),H&&z.filter(q=>(S.isMacintosh?q.metaKey:q.ctrlKey)&&q.keyCode===31).on(this.onCtrlA,this,this.disposables)}onEnter(U){U.preventDefault(),U.stopPropagation(),this.list.setSelection(this.list.getFocus(),U.browserEvent)}onUpArrow(U){U.preventDefault(),U.stopPropagation(),this.list.focusPrevious(1,!1,U.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(U){U.preventDefault(),U.stopPropagation(),this.list.focusNext(1,!1,U.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(U){U.preventDefault(),U.stopPropagation(),this.list.focusPreviousPage(U.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(U){U.preventDefault(),U.stopPropagation(),this.list.focusNextPage(U.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(U){U.preventDefault(),U.stopPropagation(),this.list.setSelection(k.range(this.list.length),U.browserEvent),this.view.domNode.focus()}onEscape(U){this.list.getSelection().length&&(U.preventDefault(),U.stopPropagation(),this.list.setSelection([],U.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose()}}var L;(function(X){X[X.Idle=0]="Idle",X[X.Typing=1]="Typing"})(L||(L={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(X){return X.ctrlKey||X.metaKey||X.altKey?!1:X.keyCode>=31&&X.keyCode<=56||X.keyCode>=21&&X.keyCode<=30||X.keyCode>=93&&X.keyCode<=102||X.keyCode>=80&&X.keyCode<=90}};class D{constructor(U,P,x,H){this.list=U,this.view=P,this.keyboardNavigationLabelProvider=x,this.delegate=H,this.enabled=!1,this.state=L.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new C.DisposableStore,this.disposables=new C.DisposableStore,this.updateOptions(U.options)}updateOptions(U){(typeof U.enableKeyboardNavigation=="undefined"?!0:!!U.enableKeyboardNavigation)?this.enable():this.disable(),typeof U.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=U.automaticKeyboardNavigation)}enable(){if(!this.enabled){const U=f.Event.chain(p.domEvent(this.view.domNode,"keydown")).filter(H=>!g(H.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(H=>new l.StandardKeyboardEvent(H)).filter(H=>this.delegate.mightProducePrintableCharacter(H)).forEach(H=>{H.stopPropagation(),H.preventDefault()}).map(H=>H.browserEvent.key).event,P=f.Event.debounce(U,()=>null,800);f.Event.reduce(f.Event.any(U,P),(H,z)=>z===null?null:(H||"")+z)(this.onInput,this,this.enabledDisposables),P(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var U;const P=this.list.getFocus();if(P.length>0&&P[0]===this.previouslyFocused){const x=(U=this.list.options.accessibilityProvider)===null||U===void 0?void 0:U.getAriaLabel(this.list.element(P[0]));x&&n.alert(x)}this.previouslyFocused=-1}onInput(U){if(!U){this.state=L.Idle,this.triggered=!1;return}const P=this.list.getFocus(),x=P.length>0?P[0]:0,H=this.state===L.Idle?1:0;this.state=L.Typing;for(let z=0;z<this.list.length;z++){const q=(x+z+H)%this.list.length,Q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(q)),ce=Q&&Q.toString();if(typeof ce=="undefined"||i.matchesPrefix(U,ce)){this.previouslyFocused=x,this.list.setFocus([q]),this.list.reveal(q);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class N{constructor(U,P){this.list=U,this.view=P,this.disposables=new C.DisposableStore,f.Event.chain(p.domEvent(P.domNode,"keydown")).filter(H=>!g(H.target)).map(H=>new l.StandardKeyboardEvent(H)).filter(H=>H.keyCode===2&&!H.ctrlKey&&!H.metaKey&&!H.shiftKey&&!H.altKey).on(this.onTab,this,this.disposables)}onTab(U){if(U.target===this.view.domNode){const P=this.list.getFocus();if(P.length!==0){const x=this.view.domElement(P[0]);if(!!x){const H=x.querySelector("[tabIndex]");if(!(!H||!(H instanceof HTMLElement)||H.tabIndex===-1)){const z=window.getComputedStyle(H);z.visibility==="hidden"||z.display==="none"||(U.preventDefault(),U.stopPropagation(),H.focus())}}}}}dispose(){this.disposables.dispose()}}function I(X){return S.isMacintosh?X.browserEvent.metaKey:X.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=I;function T(X){return X.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=T;function O(X){return X instanceof MouseEvent&&X.button===2}const A={isSelectionSingleChangeEvent:I,isSelectionRangeChangeEvent:T};class B{constructor(U){this.list=U,this.disposables=new C.DisposableStore,this._onPointer=new f.Emitter,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=U.options.multipleSelectionSupport!==!1,this.multipleSelectionSupport&&(this.multipleSelectionController=U.options.multipleSelectionController||A),this.mouseSupport=typeof U.options.mouseSupport=="undefined"||!!U.options.mouseSupport,this.mouseSupport&&(U.onMouseDown(this.onMouseDown,this,this.disposables),U.onContextMenu(this.onContextMenu,this,this.disposables),U.onMouseDblClick(this.onDoubleClick,this,this.disposables),U.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(v.Gesture.addTarget(U.getHTMLElement()))),f.Event.any(U.onMouseClick,U.onMouseMiddleClick,U.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(U){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(U):S.isMacintosh?U.browserEvent.metaKey:U.browserEvent.ctrlKey}isSelectionRangeChangeEvent(U){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(U):U.browserEvent.shiftKey}isSelectionChangeEvent(U){return this.isSelectionSingleChangeEvent(U)||this.isSelectionRangeChangeEvent(U)}onMouseDown(U){b(U.browserEvent.target)||document.activeElement!==U.browserEvent.target&&this.list.domFocus()}onContextMenu(U){if(!b(U.browserEvent.target)){const P=typeof U.index=="undefined"?[]:[U.index];this.list.setFocus(P,U.browserEvent)}}onViewPointer(U){if(!!this.mouseSupport&&!(g(U.browserEvent.target)||b(U.browserEvent.target))){let P=this.list.getFocus()[0];const x=this.list.getSelection();P=P===void 0?x[0]:P;const H=U.index;if(typeof H=="undefined"){this.list.setFocus([],U.browserEvent),this.list.setSelection([],U.browserEvent);return}if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(U))return this.changeSelection(U,P);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(U))return this.changeSelection(U,P);this.list.setFocus([H],U.browserEvent),O(U.browserEvent)||this.list.setSelection([H],U.browserEvent),this._onPointer.fire(U)}}onDoubleClick(U){if(!(g(U.browserEvent.target)||b(U.browserEvent.target))&&!(this.multipleSelectionSupport&&this.isSelectionChangeEvent(U))){const P=this.list.getFocus();this.list.setSelection(P,U.browserEvent)}}changeSelection(U,P){const x=U.index;if(this.isSelectionRangeChangeEvent(U)&&P!==void 0){const H=Math.min(P,x),z=Math.max(P,x),q=k.range(H,z+1),Q=this.list.getSelection(),ce=F(V(Q,[P]),P);if(ce.length===0)return;const ue=V(q,K(Q,ce));this.list.setSelection(ue,U.browserEvent)}else if(this.isSelectionSingleChangeEvent(U)){const H=this.list.getSelection(),z=H.filter(q=>q!==x);this.list.setFocus([x]),H.length===z.length?this.list.setSelection([...z,x],U.browserEvent):this.list.setSelection(z,U.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=B;class E{constructor(U,P){this.styleElement=U,this.selectorSuffix=P}style(U){const P=this.selectorSuffix&&`.${this.selectorSuffix}`,x=[];U.listBackground&&(U.listBackground.isOpaque()?x.push(`.monaco-list${P} .monaco-list-rows { background: ${U.listBackground}; }`):S.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),U.listFocusBackground&&(x.push(`.monaco-list${P}:focus .monaco-list-row.focused { background-color: ${U.listFocusBackground}; }`),x.push(`.monaco-list${P}:focus .monaco-list-row.focused:hover { background-color: ${U.listFocusBackground}; }`)),U.listFocusForeground&&x.push(`.monaco-list${P}:focus .monaco-list-row.focused { color: ${U.listFocusForeground}; }`),U.listActiveSelectionBackground&&(x.push(`.monaco-list${P}:focus .monaco-list-row.selected { background-color: ${U.listActiveSelectionBackground}; }`),x.push(`.monaco-list${P}:focus .monaco-list-row.selected:hover { background-color: ${U.listActiveSelectionBackground}; }`)),U.listActiveSelectionForeground&&x.push(`.monaco-list${P}:focus .monaco-list-row.selected { color: ${U.listActiveSelectionForeground}; }`),U.listFocusAndSelectionBackground&&x.push(`
				.monaco-drag-image,
				.monaco-list${P}:focus .monaco-list-row.selected.focused { background-color: ${U.listFocusAndSelectionBackground}; }
			`),U.listFocusAndSelectionForeground&&x.push(`
				.monaco-drag-image,
				.monaco-list${P}:focus .monaco-list-row.selected.focused { color: ${U.listFocusAndSelectionForeground}; }
			`),U.listInactiveFocusBackground&&(x.push(`.monaco-list${P} .monaco-list-row.focused { background-color:  ${U.listInactiveFocusBackground}; }`),x.push(`.monaco-list${P} .monaco-list-row.focused:hover { background-color:  ${U.listInactiveFocusBackground}; }`)),U.listInactiveSelectionBackground&&(x.push(`.monaco-list${P} .monaco-list-row.selected { background-color:  ${U.listInactiveSelectionBackground}; }`),x.push(`.monaco-list${P} .monaco-list-row.selected:hover { background-color:  ${U.listInactiveSelectionBackground}; }`)),U.listInactiveSelectionForeground&&x.push(`.monaco-list${P} .monaco-list-row.selected { color: ${U.listInactiveSelectionForeground}; }`),U.listHoverBackground&&x.push(`.monaco-list${P}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${U.listHoverBackground}; }`),U.listHoverForeground&&x.push(`.monaco-list${P} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${U.listHoverForeground}; }`),U.listSelectionOutline&&x.push(`.monaco-list${P} .monaco-list-row.selected { outline: 1px dotted ${U.listSelectionOutline}; outline-offset: -1px; }`),U.listFocusOutline&&x.push(`
				.monaco-drag-image,
				.monaco-list${P}:focus .monaco-list-row.focused { outline: 1px solid ${U.listFocusOutline}; outline-offset: -1px; }
			`),U.listInactiveFocusOutline&&x.push(`.monaco-list${P} .monaco-list-row.focused { outline: 1px dotted ${U.listInactiveFocusOutline}; outline-offset: -1px; }`),U.listHoverOutline&&x.push(`.monaco-list${P} .monaco-list-row:hover { outline: 1px dashed ${U.listHoverOutline}; outline-offset: -1px; }`),U.listDropBackground&&x.push(`
				.monaco-list${P}.drop-target,
				.monaco-list${P} .monaco-list-rows.drop-target,
				.monaco-list${P} .monaco-list-row.drop-target { background-color: ${U.listDropBackground} !important; color: inherit !important; }
			`),U.listFilterWidgetBackground&&x.push(`.monaco-list-type-filter { background-color: ${U.listFilterWidgetBackground} }`),U.listFilterWidgetOutline&&x.push(`.monaco-list-type-filter { border: 1px solid ${U.listFilterWidgetOutline}; }`),U.listFilterWidgetNoMatchesOutline&&x.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${U.listFilterWidgetNoMatchesOutline}; }`),U.listMatchesShadow&&x.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${U.listMatchesShadow}; }`),this.styleElement.textContent=x.join(`
`)}}e.DefaultStyleController=E;const W={listFocusBackground:a.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:a.Color.fromHex("#0E639C"),listActiveSelectionForeground:a.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:a.Color.fromHex("#094771"),listFocusAndSelectionForeground:a.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:a.Color.fromHex("#3F3F46"),listHoverBackground:a.Color.fromHex("#2A2D2E"),listDropBackground:a.Color.fromHex("#383B3D"),treeIndentGuidesStroke:a.Color.fromHex("#a9a9a9")},R={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function F(X,U){const P=X.indexOf(U);if(P===-1)return[];const x=[];let H=P-1;for(;H>=0&&X[H]===U-(P-H);)x.push(X[H--]);for(x.reverse(),H=P;H<X.length&&X[H]===U+(H-P);)x.push(X[H++]);return x}function V(X,U){const P=[];let x=0,H=0;for(;x<X.length||H<U.length;)if(x>=X.length)P.push(U[H++]);else if(H>=U.length)P.push(X[x++]);else if(X[x]===U[H]){P.push(X[x]),x++,H++;continue}else X[x]<U[H]?P.push(X[x++]):P.push(U[H++]);return P}function K(X,U){const P=[];let x=0,H=0;for(;x<X.length||H<U.length;)if(x>=X.length)P.push(U[H++]);else if(H>=U.length)P.push(X[x++]);else if(X[x]===U[H]){x++,H++;continue}else X[x]<U[H]?P.push(X[x++]):H++;return P}const G=(X,U)=>X-U;class J{constructor(U,P){this._templateId=U,this.renderers=P}get templateId(){return this._templateId}renderTemplate(U){return this.renderers.map(P=>P.renderTemplate(U))}renderElement(U,P,x,H){let z=0;for(const q of this.renderers)q.renderElement(U,P,x[z++],H)}disposeElement(U,P,x,H){let z=0;for(const q of this.renderers)q.disposeElement&&q.disposeElement(U,P,x[z],H),z+=1}disposeTemplate(U){let P=0;for(const x of this.renderers)x.disposeTemplate(U[P++])}}class se{constructor(U){this.accessibilityProvider=U,this.templateId="a18n"}renderTemplate(U){return U}renderElement(U,P,x){const H=this.accessibilityProvider.getAriaLabel(U);H?x.setAttribute("aria-label",H):x.removeAttribute("aria-label");const z=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(U);typeof z=="number"?x.setAttribute("aria-level",`${z}`):x.removeAttribute("aria-level")}disposeTemplate(U){}}class ie{constructor(U,P){this.list=U,this.dnd=P}getDragElements(U){const P=this.list.getSelectedElements();return P.indexOf(U)>-1?P:[U]}getDragURI(U){return this.dnd.getDragURI(U)}getDragLabel(U,P){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(U,P)}onDragStart(U,P){this.dnd.onDragStart&&this.dnd.onDragStart(U,P)}onDragOver(U,P,x,H){return this.dnd.onDragOver(U,P,x,H)}onDragEnd(U){this.dnd.onDragEnd&&this.dnd.onDragEnd(U)}drop(U,P,x,H){this.dnd.drop(U,P,x,H)}}class ae{constructor(U,P,x,H,z=R){var q;this.user=U,this._options=z,this.eventBufferer=new f.EventBufferer,this._ariaLabel="",this.disposables=new C.DisposableStore,this._onDidDispose=new f.Emitter,this.onDidDispose=this._onDidDispose.event;const Q=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(q=this._options.accessibilityProvider)===null||q===void 0?void 0:q.getWidgetRole():"list";this.selection=new _(Q!=="listbox"),this.focus=new h("focused"),r.mixin(z,W,!1);const ce=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=z.accessibilityProvider,this.accessibilityProvider&&(ce.push(new se(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),H=H.map(Y=>new J(Y.templateId,[...ce,Y]));const ue=Object.assign(Object.assign({},z),{dnd:z.dnd&&new ie(this,z.dnd)});if(this.view=new u.ListView(P,x,H,ue),this.view.domNode.setAttribute("role",Q),z.styleController)this.styleController=z.styleController(this.view.domId);else{const Y=t.createStyleSheet(this.view.domNode);this.styleController=new E(Y,this.view.domId)}if(this.spliceable=new d.CombinedSpliceable([new m(this.focus,this.view,z.identityProvider),new m(this.selection,this.view,z.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=f.Event.map(p.domEvent(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=f.Event.map(p.domEvent(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new N(this,this.view)),typeof z.keyboardSupport!="boolean"||z.keyboardSupport){const Y=new y(this,this.view,z);this.disposables.add(Y)}if(z.keyboardNavigationLabelProvider){const Y=z.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new D(this,this.view,z.keyboardNavigationLabelProvider,Y),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(z),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),z.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return f.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),U=>this.toListEvent(U))}get onDidChangeSelection(){return f.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),U=>this.toListEvent(U))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){const U=f.Event.chain(p.domEvent(this.view.domNode,"keyup")).map(x=>new l.StandardKeyboardEvent(x)).filter(x=>x.keyCode===58||x.shiftKey&&x.keyCode===68).map(p.stopEvent).map(({browserEvent:x})=>{const H=this.getFocus(),z=H.length?H[0]:void 0,q=typeof z!="undefined"?this.view.element(z):void 0,Q=typeof z!="undefined"?this.view.domElement(z):this.view.domNode;return{index:z,element:q,anchor:Q,browserEvent:x}}).event,P=f.Event.chain(this.view.onContextMenu).filter(x=>!(x.browserEvent.button===0&&x.browserEvent.buttons===0&&!x.browserEvent.ctrlKey&&!x.browserEvent.altKey&&!x.browserEvent.metaKey)).map(({element:x,index:H,browserEvent:z})=>({element:x,index:H,anchor:{x:z.clientX+1,y:z.clientY},browserEvent:z})).event;return f.Event.any(U,P)}get onKeyDown(){return p.domEvent(this.view.domNode,"keydown")}createMouseController(U){return new B(this)}updateOptions(U={}){this._options=Object.assign(Object.assign({},this._options),U),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(U)}get options(){return this._options}splice(U,P,x=[]){if(U<0||U>this.view.length)throw new c.ListError(this.user,`Invalid start index: ${U}`);if(P<0)throw new c.ListError(this.user,`Invalid delete count: ${P}`);P===0&&x.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(U,P,x))}rerender(){this.view.rerender()}element(U){return this.view.element(U)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(U){this.view.setScrollTop(U)}get ariaLabel(){return this._ariaLabel}set ariaLabel(U){this._ariaLabel=U,this.view.domNode.setAttribute("aria-label",U)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(U,P){this.view.layout(U,P)}setSelection(U,P){for(const x of U)if(x<0||x>=this.length)throw new c.ListError(this.user,`Invalid index ${x}`);this.selection.set(U,P)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(U=>this.view.element(U))}setFocus(U,P){for(const x of U)if(x<0||x>=this.length)throw new c.ListError(this.user,`Invalid index ${x}`);this.focus.set(U,P)}focusNext(U=1,P=!1,x,H){if(this.length!==0){const z=this.focus.get(),q=this.findNextIndex(z.length>0?z[0]+U:0,P,H);q>-1&&this.setFocus([q],x)}}focusPrevious(U=1,P=!1,x,H){if(this.length!==0){const z=this.focus.get(),q=this.findPreviousIndex(z.length>0?z[0]-U:0,P,H);q>-1&&this.setFocus([q],x)}}focusNextPage(U,P){let x=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);x=x===0?0:x-1;const H=this.view.element(x),z=this.getFocusedElements()[0];if(z!==H){const q=this.findPreviousIndex(x,!1,P);q>-1&&z!==this.view.element(q)?this.setFocus([q],U):this.setFocus([x],U)}else{const q=this.view.getScrollTop();this.view.setScrollTop(q+this.view.renderHeight-this.view.elementHeight(x)),this.view.getScrollTop()!==q&&(this.setFocus([]),setTimeout(()=>this.focusNextPage(U,P),0))}}focusPreviousPage(U,P){let x;const H=this.view.getScrollTop();H===0?x=this.view.indexAt(H):x=this.view.indexAfter(H-1);const z=this.view.element(x),q=this.getFocusedElements()[0];if(q!==z){const Q=this.findNextIndex(x,!1,P);Q>-1&&q!==this.view.element(Q)?this.setFocus([Q],U):this.setFocus([x],U)}else{const Q=H;this.view.setScrollTop(H-this.view.renderHeight),this.view.getScrollTop()!==Q&&(this.setFocus([]),setTimeout(()=>this.focusPreviousPage(U,P),0))}}focusLast(U,P){if(this.length!==0){const x=this.findPreviousIndex(this.length-1,!1,P);x>-1&&this.setFocus([x],U)}}focusFirst(U,P){this.focusNth(0,U,P)}focusNth(U,P,x){if(this.length!==0){const H=this.findNextIndex(U,!1,x);H>-1&&this.setFocus([H],P)}}findNextIndex(U,P=!1,x){for(let H=0;H<this.length;H++){if(U>=this.length&&!P)return-1;if(U=U%this.length,!x||x(this.element(U)))return U;U++}return-1}findPreviousIndex(U,P=!1,x){for(let H=0;H<this.length;H++){if(U<0&&!P)return-1;if(U=(this.length+U%this.length)%this.length,!x||x(this.element(U)))return U;U--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(U=>this.view.element(U))}reveal(U,P){if(U<0||U>=this.length)throw new c.ListError(this.user,`Invalid index ${U}`);const x=this.view.getScrollTop(),H=this.view.elementTop(U),z=this.view.elementHeight(U);if(M.isNumber(P)){const q=z-this.view.renderHeight;this.view.setScrollTop(q*s.clamp(P,0,1)+H)}else{const q=H+z,Q=x+this.view.renderHeight;H<x&&q>=Q||(H<x?this.view.setScrollTop(H):q>=Q&&this.view.setScrollTop(q-this.view.renderHeight))}}getRelativeTop(U){if(U<0||U>=this.length)throw new c.ListError(this.user,`Invalid index ${U}`);const P=this.view.getScrollTop(),x=this.view.elementTop(U),H=this.view.elementHeight(U);if(x<P||x+H>P+this.view.renderHeight)return null;const z=H-this.view.renderHeight;return Math.abs((P-x)/z)}getHTMLElement(){return this.view.domNode}style(U){this.styleController.style(U)}toListEvent({indexes:U,browserEvent:P}){return{indexes:U,elements:U.map(x=>this.view.element(x)),browserEvent:P}}_onFocusChange(){const U=this.focus.get();this.view.domNode.classList.toggle("element-focused",U.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var U;const P=this.focus.get();if(P.length>0){let x;((U=this.accessibilityProvider)===null||U===void 0?void 0:U.getActiveDescendantId)&&(x=this.accessibilityProvider.getActiveDescendantId(this.view.element(P[0]))),this.view.domNode.setAttribute("aria-activedescendant",x||this.view.getElementDomId(P[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const U=this.selection.get();this.view.domNode.classList.toggle("selection-none",U.length===0),this.view.domNode.classList.toggle("selection-single",U.length===1),this.view.domNode.classList.toggle("selection-multiple",U.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Me([w.memoize],ae.prototype,"onDidChangeFocus",null),Me([w.memoize],ae.prototype,"onDidChangeSelection",null),Me([w.memoize],ae.prototype,"onContextMenu",null),e.List=ae}),define(ee[309],te([0,1,2,19,125,6,23,206]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class v{constructor(u,a){this.renderer=u,this.modelProvider=a}get templateId(){return this.renderer.templateId}renderTemplate(u){return{data:this.renderer.renderTemplate(u),disposable:C.Disposable.None}}renderElement(u,a,r,d){if(r.disposable&&r.disposable.dispose(),!!r.data){const s=this.modelProvider();if(s.isResolved(u))return this.renderer.renderElement(s.get(u),u,r.data,d);const i=new S.CancellationTokenSource,n=s.resolve(u,i.token);r.disposable={dispose:()=>i.cancel()},this.renderer.renderPlaceholder(u,r.data),n.then(t=>this.renderer.renderElement(t,u,r.data,d))}}disposeTemplate(u){u.disposable&&(u.disposable.dispose(),u.disposable=void 0),u.data&&(this.renderer.disposeTemplate(u.data),u.data=void 0)}}class l{constructor(u,a){this.modelProvider=u,this.accessibilityProvider=a}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(u){const a=this.modelProvider();return a.isResolved(u)?this.accessibilityProvider.getAriaLabel(a.get(u)):null}}function f(c,u){return Object.assign(Object.assign({},u),{accessibilityProvider:u.accessibilityProvider&&new l(c,u.accessibilityProvider)})}class p{constructor(u,a,r,d,s={}){const i=()=>this.model,n=d.map(t=>new v(t,i));this.list=new k.List(u,a,r,n,f(i,s))}updateOptions(u){this.list.updateOptions(u)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return w.Event.map(this.list.onMouseDblClick,({element:u,index:a,browserEvent:r})=>({element:u===void 0?void 0:this._model.get(u),index:a,browserEvent:r}))}get onPointer(){return w.Event.map(this.list.onPointer,({element:u,index:a,browserEvent:r})=>({element:u===void 0?void 0:this._model.get(u),index:a,browserEvent:r}))}get onDidChangeFocus(){return w.Event.map(this.list.onDidChangeFocus,({elements:u,indexes:a,browserEvent:r})=>({elements:u.map(d=>this._model.get(d)),indexes:a,browserEvent:r}))}get onDidChangeSelection(){return w.Event.map(this.list.onDidChangeSelection,({elements:u,indexes:a,browserEvent:r})=>({elements:u.map(d=>this._model.get(d)),indexes:a,browserEvent:r}))}get model(){return this._model}set model(u){this._model=u,this.list.splice(0,this.list.length,M.range(u.length))}getFocus(){return this.list.getFocus()}setSelection(u,a){this.list.setSelection(u,a)}style(u){this.list.style(u)}dispose(){this.list.dispose()}}e.PagedList=p}),define(ee[310],te([10]),{}),define(ee[311],te([0,1,2,6,20,100,19,104,29,55,7,61,121,310]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const a={separatorBorder:l.Color.transparent};class r{constructor(h,_,m,g){this.container=h,this.view=_,this.disposable=g,this._cachedVisibleSize=void 0,typeof m=="number"?(this._size=m,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=m.cachedVisibleSize)}set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(h,_){h!==this.visible&&(h?(this.size=w.clamp(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof _=="number"?_:this.size,this.size=0),this.container.classList.toggle("visible",h),this.view.setVisible&&this.view.setVisible(h))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}layout(h,_){this.layoutContainer(h),this.view.layout(this.size,h,_)}dispose(){return this.disposable.dispose(),this.view}}class d extends r{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class s extends r{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var i;(function(o){o[o.Idle=0]="Idle",o[o.Busy=1]="Busy"})(i||(i={}));var n;(function(o){o.Distribute={type:"distribute"};function h(m){return{type:"split",index:m}}o.Split=h;function _(m){return{type:"invisible",cachedVisibleSize:m}}o.Invisible=_})(n=e.Sizing||(e.Sizing={}));class t extends C.Disposable{constructor(h,_={}){super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=i.Idle,this._onDidSashChange=this._register(new M.Emitter),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new M.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=k.isUndefined(_.orientation)?0:_.orientation,this.inverseAltBehavior=!!_.inverseAltBehavior,this.proportionalLayout=k.isUndefined(_.proportionalLayout)?!0:!!_.proportionalLayout,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=p.append(this.el,p.$(".sash-container")),this.viewContainer=p.$(".split-view-container"),this.scrollable=new u.Scrollable(125,p.scheduleAtNextAnimationFrame),this.scrollableElement=this._register(new c.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?1:2,horizontal:this.orientation===1?1:2},this.scrollable)),this._register(this.scrollableElement.onScroll(m=>{this.viewContainer.scrollTop=m.scrollTop,this.viewContainer.scrollLeft=m.scrollLeft})),p.append(this.el,this.scrollableElement.getDomNode()),this.style(_.styles||a),_.descriptor&&(this.size=_.descriptor.size,_.descriptor.views.forEach((m,g)=>{const b=k.isUndefined(m.visible)||m.visible?m.size:{type:"invisible",cachedVisibleSize:m.size},y=m.view;this.doAddView(y,b,g,!0)}),this.contentSize=this.viewItems.reduce((m,g)=>m+g.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(h){for(const _ of this.sashItems)_.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(h){for(const _ of this.sashItems)_.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,_,m=this.viewItems.length,g){this.doAddView(h,_,m,g)}layout(h,_){const m=Math.max(this.size,this.contentSize);if(this.size=h,this.layoutContext=_,this.proportions)for(let g=0;g<this.viewItems.length;g++){const b=this.viewItems[g];b.size=w.clamp(Math.round(this.proportions[g]*h),b.minimumSize,b.maximumSize)}else{const g=S.range(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);this.resize(this.viewItems.length-1,h-m,void 0,b,y)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(h=>h.size/this.contentSize))}onSashStart({sash:h,start:_,alt:m}){for(const L of this.viewItems)L.enabled=!1;const g=this.sashItems.findIndex(L=>L.sash===h),b=C.combinedDisposable(f.domEvent(document.body,"keydown")(L=>y(this.sashDragState.current,L.altKey)),f.domEvent(document.body,"keyup")(()=>y(this.sashDragState.current,!1))),y=(L,D)=>{const N=this.viewItems.map(B=>B.size);let I=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(D=!D),D)if(g===this.sashItems.length-1){const E=this.viewItems[g];I=(E.minimumSize-E.size)/2,T=(E.maximumSize-E.size)/2}else{const E=this.viewItems[g+1];I=(E.size-E.maximumSize)/2,T=(E.size-E.minimumSize)/2}let O,A;if(!D){const B=S.range(g,-1),E=S.range(g+1,this.viewItems.length),W=B.reduce((ie,ae)=>ie+(this.viewItems[ae].minimumSize-N[ae]),0),R=B.reduce((ie,ae)=>ie+(this.viewItems[ae].viewMaximumSize-N[ae]),0),F=E.length===0?Number.POSITIVE_INFINITY:E.reduce((ie,ae)=>ie+(N[ae]-this.viewItems[ae].minimumSize),0),V=E.length===0?Number.NEGATIVE_INFINITY:E.reduce((ie,ae)=>ie+(N[ae]-this.viewItems[ae].viewMaximumSize),0),K=Math.max(W,V),G=Math.min(F,R),J=this.findFirstSnapIndex(B),se=this.findFirstSnapIndex(E);if(typeof J=="number"){const ie=this.viewItems[J],ae=Math.floor(ie.viewMinimumSize/2);O={index:J,limitDelta:ie.visible?K-ae:K+ae,size:ie.size}}if(typeof se=="number"){const ie=this.viewItems[se],ae=Math.floor(ie.viewMinimumSize/2);A={index:se,limitDelta:ie.visible?G+ae:G-ae,size:ie.size}}}this.sashDragState={start:L,current:L,index:g,sizes:N,minDelta:I,maxDelta:T,alt:D,snapBefore:O,snapAfter:A,disposable:b}};y(_,m)}onSashChange({current:h}){const{index:_,start:m,sizes:g,alt:b,minDelta:y,maxDelta:L,snapBefore:D,snapAfter:N}=this.sashDragState;this.sashDragState.current=h;const I=h-m,T=this.resize(_,I,g,void 0,void 0,y,L,D,N);if(b){const O=_===this.sashItems.length-1,A=this.viewItems.map(V=>V.size),B=O?_:_+1,E=this.viewItems[B],W=E.size-E.maximumSize,R=E.size-E.minimumSize,F=O?_-1:_+1;this.resize(F,-T,A,void 0,void 0,W,R)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const _ of this.viewItems)_.enabled=!0}onViewChange(h,_){const m=this.viewItems.indexOf(h);m<0||m>=this.viewItems.length||(_=typeof _=="number"?_:h.size,_=w.clamp(_,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&m>0?(this.resize(m-1,Math.floor((h.size-_)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=_,this.relayout([m],void 0)))}resizeView(h,_){if(this.state!==i.Idle)throw new Error("Cant modify splitview");if(this.state=i.Busy,!(h<0||h>=this.viewItems.length)){const m=S.range(this.viewItems.length).filter(L=>L!==h),g=[...m.filter(L=>this.viewItems[L].priority===1),h],b=m.filter(L=>this.viewItems[L].priority===2),y=this.viewItems[h];_=Math.round(_),_=w.clamp(_,y.minimumSize,Math.min(y.maximumSize,this.size)),y.size=_,this.relayout(g,b),this.state=i.Idle}}distributeViewSizes(){const h=[];let _=0;for(const L of this.viewItems)L.maximumSize-L.minimumSize>0&&(h.push(L),_+=L.size);const m=Math.floor(_/h.length);for(const L of h)L.size=w.clamp(m,L.minimumSize,L.maximumSize);const g=S.range(this.viewItems.length),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);this.relayout(b,y)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,_,m=this.viewItems.length,g){if(this.state!==i.Idle)throw new Error("Cant modify splitview");this.state=i.Busy;const b=p.$(".split-view-view");m===this.viewItems.length?this.viewContainer.appendChild(b):this.viewContainer.insertBefore(b,this.viewContainer.children.item(m));const y=h.onDidChange(O=>this.onViewChange(I,O)),L=C.toDisposable(()=>this.viewContainer.removeChild(b)),D=C.combinedDisposable(y,L);let N;typeof _=="number"?N=_:_.type==="split"?N=this.getViewSize(_.index)/2:_.type==="invisible"?N={cachedVisibleSize:_.cachedVisibleSize}:N=h.minimumSize;const I=this.orientation===0?new d(b,h,N,D):new s(b,h,N,D);if(this.viewItems.splice(m,0,I),this.viewItems.length>1){const O=this.orientation===0?new v.Sash(this.sashContainer,{getHorizontalSashTop:se=>this.getSashPosition(se)},{orientation:1,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}):new v.Sash(this.sashContainer,{getVerticalSashLeft:se=>this.getSashPosition(se)},{orientation:0,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),A=this.orientation===0?se=>({sash:O,start:se.startY,current:se.currentY,alt:se.altKey}):se=>({sash:O,start:se.startX,current:se.currentX,alt:se.altKey}),E=M.Event.map(O.onDidStart,A)(this.onSashStart,this),R=M.Event.map(O.onDidChange,A)(this.onSashChange,this),V=M.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(se=>se.sash===O))(this.onSashEnd,this),K=O.onDidReset(()=>{const se=this.sashItems.findIndex(P=>P.sash===O),ie=S.range(se,-1),ae=S.range(se+1,this.viewItems.length),X=this.findFirstSnapIndex(ie),U=this.findFirstSnapIndex(ae);typeof X=="number"&&!this.viewItems[X].visible||typeof U=="number"&&!this.viewItems[U].visible||this._onDidSashReset.fire(se)}),G=C.combinedDisposable(E,R,V,K,O),J={sash:O,disposable:G};this.sashItems.splice(m-1,0,J)}b.appendChild(h.element);let T;typeof _!="number"&&_.type==="split"&&(T=[_.index]),g||this.relayout([m],T),this.state=i.Idle,!g&&typeof _!="number"&&_.type==="distribute"&&this.distributeViewSizes()}relayout(h,_){const m=this.viewItems.reduce((g,b)=>g+b.size,0);this.resize(this.viewItems.length-1,this.size-m,void 0,h,_),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,_,m=this.viewItems.map(I=>I.size),g,b,y=Number.NEGATIVE_INFINITY,L=Number.POSITIVE_INFINITY,D,N){if(h<0||h>=this.viewItems.length)return 0;const I=S.range(h,-1),T=S.range(h+1,this.viewItems.length);if(b)for(const se of b)S.pushToStart(I,se),S.pushToStart(T,se);if(g)for(const se of g)S.pushToEnd(I,se),S.pushToEnd(T,se);const O=I.map(se=>this.viewItems[se]),A=I.map(se=>m[se]),B=T.map(se=>this.viewItems[se]),E=T.map(se=>m[se]),W=I.reduce((se,ie)=>se+(this.viewItems[ie].minimumSize-m[ie]),0),R=I.reduce((se,ie)=>se+(this.viewItems[ie].maximumSize-m[ie]),0),F=T.length===0?Number.POSITIVE_INFINITY:T.reduce((se,ie)=>se+(m[ie]-this.viewItems[ie].minimumSize),0),V=T.length===0?Number.NEGATIVE_INFINITY:T.reduce((se,ie)=>se+(m[ie]-this.viewItems[ie].maximumSize),0),K=Math.max(W,V,y),G=Math.min(F,R,L);let J=!1;if(D){const se=this.viewItems[D.index],ie=_>=D.limitDelta;J=ie!==se.visible,se.setVisible(ie,D.size)}if(!J&&N){const se=this.viewItems[N.index],ie=_<N.limitDelta;J=ie!==se.visible,se.setVisible(ie,N.size)}if(J)return this.resize(h,_,m,g,b,y,L);_=w.clamp(_,K,G);for(let se=0,ie=_;se<O.length;se++){const ae=O[se],X=w.clamp(A[se]+ie,ae.minimumSize,ae.maximumSize);ie-=X-A[se],ae.size=X}for(let se=0,ie=_;se<B.length;se++){const ae=B[se],X=w.clamp(E[se]-ie,ae.minimumSize,ae.maximumSize);ie+=X-E[se],ae.size=X}return _}distributeEmptySpace(h){const _=this.viewItems.reduce((L,D)=>L+D.size,0);let m=this.size-_;const g=S.range(this.viewItems.length-1,-1),b=g.filter(L=>this.viewItems[L].priority===1),y=g.filter(L=>this.viewItems[L].priority===2);for(const L of y)S.pushToStart(g,L);for(const L of b)S.pushToEnd(g,L);typeof h=="number"&&S.pushToEnd(g,h);for(let L=0;m!==0&&L<g.length;L++){const D=this.viewItems[g[L]],N=w.clamp(D.size+m,D.minimumSize,D.maximumSize);m-=N-D.size,D.size=N}}layoutViews(){this.contentSize=this.viewItems.reduce((_,m)=>_+m.size,0);let h=0;for(const _ of this.viewItems)_.layout(h,this.layoutContext),h+=_.size;this.sashItems.forEach(_=>_.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let h=!1;const _=this.viewItems.map(D=>h=D.size-D.minimumSize>0||h);h=!1;const m=this.viewItems.map(D=>h=D.maximumSize-D.size>0||h),g=[...this.viewItems].reverse();h=!1;const b=g.map(D=>h=D.size-D.minimumSize>0||h).reverse();h=!1;const y=g.map(D=>h=D.maximumSize-D.size>0||h).reverse();let L=0;for(let D=0;D<this.sashItems.length;D++){const{sash:N}=this.sashItems[D];L+=this.viewItems[D].size;const T=!(_[D]&&y[D+1]),O=!(m[D]&&b[D+1]);if(T&&O){const A=S.range(D,-1),B=S.range(D+1,this.viewItems.length),E=this.findFirstSnapIndex(A),W=this.findFirstSnapIndex(B),R=typeof E=="number"&&!this.viewItems[E].visible,F=typeof W=="number"&&!this.viewItems[W].visible;R&&b[D]&&(L>0||this.startSnappingEnabled)?N.state=1:F&&_[D]&&(L<this.contentSize||this.endSnappingEnabled)?N.state=2:N.state=0}else T&&!O?N.state=1:!T&&O?N.state=2:N.state=3}}getSashPosition(h){let _=0;for(let m=0;m<this.sashItems.length;m++)if(_+=this.viewItems[m].size,this.sashItems[m].sash===h)return _;return 0}findFirstSnapIndex(h){for(const _ of h){const m=this.viewItems[_];if(!!m.visible&&m.snap)return _}for(const _ of h){const m=this.viewItems[_];if(m.visible&&m.maximumSize-m.minimumSize>0)return;if(!m.visible&&m.snap)return _}}dispose(){super.dispose(),this.viewItems.forEach(h=>h.dispose()),this.viewItems=[],this.sashItems.forEach(h=>h.disposable.dispose()),this.sashItems=[]}}e.SplitView=t}),define(ee[312],te([10]),{}),define(ee[126],te([10]),{}),define(ee[208],te([0,1,7,118,126]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},w=new M.IdGenerator("quick-input-button-icon-");function S(v){if(!!v){let l;const f=v.dark.toString();return k[f]?l=k[f]:(l=w.nextId(),C.createCSSRule(`.${l}`,`background-image: ${C.asCSSUrl(v.light||v.dark)}`),C.createCSSRule(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${C.asCSSUrl(v.dark)}`),k[f]=l),l}}e.getIconClass=S}),define(ee[313],te([10]),{}),define(ee[314],te([10]),{}),define(ee[315],te([10]),{}),define(ee[316],te([10]),{}),define(ee[317],te([10]),{}),define(ee[318],te([10]),{}),define(ee[319],te([10]),{}),define(ee[320],te([10]),{}),define(ee[321],te([10]),{}),define(ee[322],te([10]),{}),define(ee[323],te([10]),{}),define(ee[324],te([10]),{}),define(ee[325],te([10]),{}),define(ee[326],te([10]),{}),define(ee[327],te([10]),{}),define(ee[328],te([10]),{}),define(ee[329],te([10]),{}),define(ee[330],te([10]),{}),define(ee[331],te([10]),{}),define(ee[332],te([10]),{}),define(ee[333],te([10]),{}),define(ee[334],te([10]),{}),define(ee[335],te([10]),{}),define(ee[336],te([10]),{}),define(ee[337],te([10]),{}),define(ee[338],te([10]),{}),define(ee[339],te([10]),{}),define(ee[340],te([10]),{}),define(ee[341],te([10]),{}),define(ee[342],te([10]),{}),define(ee[343],te([10]),{}),define(ee[344],te([10]),{}),define(ee[345],te([10]),{}),define(ee[346],te([10]),{}),define(ee[347],te([10]),{}),define(ee[348],te([10]),{}),define(ee[349],te([10]),{}),define(ee[350],te([10]),{}),define(ee[351],te([10]),{}),define(ee[352],te([10]),{}),define(ee[353],te([10]),{}),define(ee[354],te([10]),{}),define(ee[355],te([10]),{}),define(ee[356],te([10]),{}),define(ee[357],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class C{constructor(S,v){this.chr=S,this.type=v,this.width=0}fulfill(S){this.width=S}}e.CharWidthRequest=C;class M{constructor(S,v){this._bareFontInfo=S,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const S=document.createElement("div");S.style.position="absolute",S.style.top="-50000px",S.style.width="50000px";const v=document.createElement("div");v.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),v.style.fontWeight=this._bareFontInfo.fontWeight,v.style.fontSize=this._bareFontInfo.fontSize+"px",v.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,v.style.lineHeight=this._bareFontInfo.lineHeight+"px",v.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(v);const l=document.createElement("div");l.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),l.style.fontWeight="bold",l.style.fontSize=this._bareFontInfo.fontSize+"px",l.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,l.style.lineHeight=this._bareFontInfo.lineHeight+"px",l.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",S.appendChild(l);const f=document.createElement("div");f.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),f.style.fontWeight=this._bareFontInfo.fontWeight,f.style.fontSize=this._bareFontInfo.fontSize+"px",f.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,f.style.lineHeight=this._bareFontInfo.lineHeight+"px",f.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",f.style.fontStyle="italic",S.appendChild(f);const p=[];for(const c of this._requests){let u;c.type===0&&(u=v),c.type===2&&(u=l),c.type===1&&(u=f),u.appendChild(document.createElement("br"));const a=document.createElement("span");M._render(a,c),u.appendChild(a),p.push(a)}this._container=S,this._testElements=p}static _render(S,v){if(v.chr===" "){let l="\xA0";for(let f=0;f<8;f++)l+=l;S.innerText=l}else{let l=v.chr;for(let f=0;f<8;f++)l+=l;S.textContent=l}}_readFromDomElements(){for(let S=0,v=this._requests.length;S<v;S++){const l=this._requests[S],f=this._testElements[S];l.fulfill(f.offsetWidth/256)}}}function k(w,S){new M(w,S).read()}e.readCharWidths=k}),define(ee[209],te([0,1,2]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class M extends C.Disposable{constructor(w,S,v){super();this.referenceDomElement=w,this.changeCallback=v,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver!="undefined"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(w=>{w&&w[0]&&w[0].contentRect?this.observe({width:w[0].contentRect.width,height:w[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(w){this.measureReferenceDomElement(!0,w)}measureReferenceDomElement(w,S){let v=0,l=0;S?(v=S.width,l=S.height):this.referenceDomElement&&(v=this.referenceDomElement.clientWidth,l=this.referenceDomElement.clientHeight),v=Math.max(5,v),l=Math.max(5,l),(this.width!==v||this.height!==l)&&(this.width=v,this.height=l,w&&this.changeCallback())}}e.ElementSizeObserver=M}),define(ee[162],te([0,1,7,90,50,2]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalEditorMouseMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createEditorPagePosition=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class S{constructor(d,s){this.x=d,this.y=s}toClientCoordinates(){return new v(this.x-C.StandardWindow.scrollX,this.y-C.StandardWindow.scrollY)}}e.PageCoordinates=S;class v{constructor(d,s){this.clientX=d,this.clientY=s}toPageCoordinates(){return new S(this.clientX+C.StandardWindow.scrollX,this.clientY+C.StandardWindow.scrollY)}}e.ClientCoordinates=v;class l{constructor(d,s,i,n){this.x=d,this.y=s,this.width=i,this.height=n}}e.EditorPagePosition=l;function f(r){const d=C.getDomNodePagePosition(r);return new l(d.left,d.top,d.width,d.height)}e.createEditorPagePosition=f;class p extends k.StandardMouseEvent{constructor(d,s){super(d);this.pos=new S(this.posx,this.posy),this.editorPos=f(s)}}e.EditorMouseEvent=p;class c{constructor(d){this._editorViewDomNode=d}_create(d){return new p(d,this._editorViewDomNode)}onContextMenu(d,s){return C.addDisposableListener(d,"contextmenu",i=>{s(this._create(i))})}onMouseUp(d,s){return C.addDisposableListener(d,"mouseup",i=>{s(this._create(i))})}onMouseDown(d,s){return C.addDisposableListener(d,"mousedown",i=>{s(this._create(i))})}onMouseLeave(d,s){return C.addDisposableNonBubblingMouseOutListener(d,i=>{s(this._create(i))})}onMouseMoveThrottled(d,s,i,n){const t=(o,h)=>i(o,this._create(h));return C.addDisposableThrottledListener(d,"mousemove",s,t,n)}}e.EditorMouseEventFactory=c;class u{constructor(d){this._editorViewDomNode=d}_create(d){return new p(d,this._editorViewDomNode)}onPointerUp(d,s){return C.addDisposableListener(d,"pointerup",i=>{s(this._create(i))})}onPointerDown(d,s){return C.addDisposableListener(d,"pointerdown",i=>{s(this._create(i))})}onPointerLeave(d,s){return C.addDisposableNonBubblingPointerOutListener(d,i=>{s(this._create(i))})}onPointerMoveThrottled(d,s,i,n){const t=(o,h)=>i(o,this._create(h));return C.addDisposableThrottledListener(d,"pointermove",s,t,n)}}e.EditorPointerEventFactory=u;class a extends w.Disposable{constructor(d){super();this._editorViewDomNode=d,this._globalMouseMoveMonitor=this._register(new M.GlobalMouseMoveMonitor),this._keydownListener=null}startMonitoring(d,s,i,n,t){this._keydownListener=C.addStandardDisposableListener(document,"keydown",h=>{h.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,h.browserEvent)},!0);const o=(h,_)=>i(h,new p(_,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(d,s,o,n,h=>{this._keydownListener.dispose(),t(h)})}}e.GlobalEditorMouseMoveMonitor=a}),define(ee[358],te([0,1,6,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCodeEditorService=void 0;class k extends M.Disposable{constructor(){super();this._onCodeEditorAdd=this._register(new C.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new C.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new C.Emitter),this._onDiffEditorRemove=this._register(new C.Emitter),this._onDecorationTypeRegistered=this._register(new C.Emitter),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(S){this._codeEditors[S.getId()]=S,this._onCodeEditorAdd.fire(S)}removeCodeEditor(S){delete this._codeEditors[S.getId()]&&this._onCodeEditorRemove.fire(S)}listCodeEditors(){return Object.keys(this._codeEditors).map(S=>this._codeEditors[S])}addDiffEditor(S){this._diffEditors[S.getId()]=S,this._onDiffEditorAdd.fire(S)}removeDiffEditor(S){delete this._diffEditors[S.getId()]&&this._onDiffEditorRemove.fire(S)}listDiffEditors(){return Object.keys(this._diffEditors).map(S=>this._diffEditors[S])}getFocusedCodeEditor(){let S=null;const v=this.listCodeEditors();for(const l of v){if(l.hasTextFocus())return l;l.hasWidgetFocus()&&(S=l)}return S}setModelProperty(S,v,l){const f=S.toString();let p;this._modelProperties.has(f)?p=this._modelProperties.get(f):(p=new Map,this._modelProperties.set(f,p)),p.set(v,l)}getModelProperty(S,v){const l=S.toString();if(this._modelProperties.has(l))return this._modelProperties.get(l).get(v)}}e.AbstractCodeEditorService=k}),define(ee[210],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const M=[];for(let k=32;k<=126;k++)M.push(k);return M.push(65533),M})();const C=(M,k)=>(M-=32,M<0||M>96?k<=2?(M+96)%96:96-1:M);e.getCharIndex=C}),define(ee[359],te([0,1,210,122]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(S,v){this.scale=v,this.charDataNormal=k.soften(S,12/15),this.charDataLight=k.soften(S,50/60)}static soften(S,v){let l=new Uint8ClampedArray(S.length);for(let f=0,p=S.length;f<p;f++)l[f]=M.toUint8(S[f]*v);return l}renderChar(S,v,l,f,p,c,u,a,r){const d=1*this.scale,s=2*this.scale,i=r?1:s;if(v+d>S.width||l+i>S.height){console.warn("bad render request outside image data");return}const n=a?this.charDataLight:this.charDataNormal,t=C.getCharIndex(f,u),o=S.width*4,h=c.r,_=c.g,m=c.b,g=p.r-h,b=p.g-_,y=p.b-m,L=S.data;let D=t*d*s,N=l*o+v*4;for(let I=0;I<i;I++){let T=N;for(let O=0;O<d;O++){const A=n[D++]/255;L[T++]=h+g*A,L[T++]=_+b*A,L[T++]=m+y*A,T++}N+=o}}blockRenderChar(S,v,l,f,p,c,u){const a=1*this.scale,r=2*this.scale,d=u?1:r;if(v+a>S.width||l+d>S.height){console.warn("bad render request outside image data");return}const s=S.width*4,i=.5,n=p.r,t=p.g,o=p.b,h=f.r-n,_=f.g-t,m=f.b-o,g=n+h*i,b=t+_*i,y=o+m*i,L=S.data;let D=l*s+v*4;for(let N=0;N<d;N++){let I=D;for(let T=0;T<a;T++)L[I++]=g,L[I++]=b,L[I++]=y,I++;D+=s}}}e.MinimapCharRenderer=k}),define(ee[360],te([0,1,88]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const M={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=w=>{const S=new Uint8ClampedArray(w.length/2);for(let v=0;v<w.length;v+=2)S[v>>1]=M[w[v]]<<4|M[w[v+1]]&15;return S};e.prebakedMiniMaps={1:C.once(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:C.once(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ee[361],te([0,1,359,210,360,122]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(l,f){if(this.lastCreated&&l===this.lastCreated.scale&&f===this.lastFontFamily)return this.lastCreated;let p;return k.prebakedMiniMaps[l]?p=new C.MinimapCharRenderer(k.prebakedMiniMaps[l](),l):p=S.createFromSampleData(S.createSampleData(f).data,l),this.lastFontFamily=f,this.lastCreated=p,p}static createSampleData(l){const f=document.createElement("canvas"),p=f.getContext("2d");f.style.height=`${16}px`,f.height=16,f.width=96*10,f.style.width=96*10+"px",p.fillStyle="#ffffff",p.font=`bold ${16}px ${l}`,p.textBaseline="middle";let c=0;for(const u of M.allCharCodes)p.fillText(String.fromCharCode(u),c,16/2),c+=10;return p.getImageData(0,0,96*10,16)}static createFromSampleData(l,f){const p=16*10*4*96;if(l.length!==p)throw new Error("Unexpected source in MinimapCharRenderer");let c=S._downsample(l,f);return new C.MinimapCharRenderer(c,f)}static _downsampleChar(l,f,p,c,u){const a=1*u,r=2*u;let d=c,s=0;for(let i=0;i<r;i++){const n=i/r*16,t=(i+1)/r*16;for(let o=0;o<a;o++){const h=o/a*10,_=(o+1)/a*10;let m=0,g=0;for(let y=n;y<t;y++){const L=f+Math.floor(y)*3840,D=1-(y-Math.floor(y));for(let N=h;N<_;N++){const I=1-(N-Math.floor(N)),T=L+Math.floor(N)*4,O=I*D;g+=O,m+=l[T]*l[T+3]/255*O}}const b=m/g;s=Math.max(s,b),p[d++]=w.toUint8(b)}}return s}static _downsample(l,f){const p=2*f*1*f,c=p*96,u=new Uint8ClampedArray(c);let a=0,r=0,d=0;for(let s=0;s<96;s++)d=Math.max(d,this._downsampleChar(l,r,u,a,f)),a+=p,r+=10*4;if(d>0){const s=255/d;for(let i=0;i<c;i++)u[i]*=s}return u}}e.MinimapCharRendererFactory=S}),define(ee[127],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new C.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(M){M=Math.min(Math.max(-5,M),20),this._zoomLevel!==M&&(this._zoomLevel=M,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ee[163],te([0,1,16,127]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const k=C.isMacintosh?1.5:1.35,w=8;class S{constructor(f){this.zoomLevel=f.zoomLevel,this.pixelRatio=f.pixelRatio,this.fontFamily=String(f.fontFamily),this.fontWeight=String(f.fontWeight),this.fontSize=f.fontSize,this.fontFeatureSettings=f.fontFeatureSettings,this.lineHeight=f.lineHeight|0,this.letterSpacing=f.letterSpacing}static createFromValidatedSettings(f,p,c,u){const a=f.get(37),r=f.get(41),d=f.get(40),s=f.get(39),i=f.get(53),n=f.get(50);return S._create(a,r,d,s,i,n,p,c,u)}static _create(f,p,c,u,a,r,d,s,i){a===0?a=Math.round(k*c):a<w&&(a=w);const n=1+(i?0:M.EditorZoom.getZoomLevel()*.1);return c*=n,a*=n,new S({zoomLevel:d,pixelRatio:s,fontFamily:f,fontWeight:p,fontSize:c,fontFeatureSettings:u,lineHeight:a,letterSpacing:r})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}e.BareFontInfo=S,e.SERIALIZED_FONT_INFO_VERSION=1;class v extends S{constructor(f,p){super(f);this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=p,this.isMonospace=f.isMonospace,this.typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=f.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=f.canUseHalfwidthRightwardsArrow,this.spaceWidth=f.spaceWidth,this.middotWidth=f.middotWidth,this.wsmiddotWidth=f.wsmiddotWidth,this.maxDigitWidth=f.maxDigitWidth}equals(f){return this.fontFamily===f.fontFamily&&this.fontWeight===f.fontWeight&&this.fontSize===f.fontSize&&this.fontFeatureSettings===f.fontFeatureSettings&&this.lineHeight===f.lineHeight&&this.letterSpacing===f.letterSpacing&&this.typicalHalfwidthCharacterWidth===f.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===f.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===f.canUseHalfwidthRightwardsArrow&&this.spaceWidth===f.spaceWidth&&this.middotWidth===f.middotWidth&&this.wsmiddotWidth===f.wsmiddotWidth&&this.maxDigitWidth===f.maxDigitWidth}}e.FontInfo=v}),define(ee[91],te([0,1,122]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class M{constructor(S){let v=C.toUint8(S);this._defaultValue=v,this._asciiMap=M._createAsciiMap(v),this._map=new Map}static _createAsciiMap(S){let v=new Uint8Array(256);for(let l=0;l<256;l++)v[l]=S;return v}set(S,v){let l=C.toUint8(v);S>=0&&S<256?this._asciiMap[S]=l:this._map.set(S,l)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}}e.CharacterClassifier=M;class k{constructor(){this._actual=new M(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}}e.CharacterSet=k}),define(ee[105],te([0,1,91]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class M extends C.CharacterClassifier{constructor(S){super(0);for(let v=0,l=S.length;v<l;v++)this.set(S.charCodeAt(v),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=M;function k(w){let S={};return v=>(S.hasOwnProperty(v)||(S[v]=w(v)),S[v])}e.getMapForWordSeparators=k(w=>new M(w))}),define(ee[13],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class C{constructor(k,w){this.lineNumber=k,this.column=w}with(k=this.lineNumber,w=this.column){return k===this.lineNumber&&w===this.column?this:new C(k,w)}delta(k=0,w=0){return this.with(this.lineNumber+k,this.column+w)}equals(k){return C.equals(this,k)}static equals(k,w){return!k&&!w?!0:!!k&&!!w&&k.lineNumber===w.lineNumber&&k.column===w.column}isBefore(k){return C.isBefore(this,k)}static isBefore(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<w.column}isBeforeOrEqual(k){return C.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,w){return k.lineNumber<w.lineNumber?!0:w.lineNumber<k.lineNumber?!1:k.column<=w.column}static compare(k,w){let S=k.lineNumber|0,v=w.lineNumber|0;if(S===v){let l=k.column|0,f=w.column|0;return l-f}return S-v}clone(){return new C(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new C(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=C}),define(ee[3],te([0,1,13]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class M{constructor(w,S,v,l){w>v||w===v&&S>l?(this.startLineNumber=v,this.startColumn=l,this.endLineNumber=w,this.endColumn=S):(this.startLineNumber=w,this.startColumn=S,this.endLineNumber=v,this.endColumn=l)}isEmpty(){return M.isEmpty(this)}static isEmpty(w){return w.startLineNumber===w.endLineNumber&&w.startColumn===w.endColumn}containsPosition(w){return M.containsPosition(this,w)}static containsPosition(w,S){return!(S.lineNumber<w.startLineNumber||S.lineNumber>w.endLineNumber||S.lineNumber===w.startLineNumber&&S.column<w.startColumn||S.lineNumber===w.endLineNumber&&S.column>w.endColumn)}containsRange(w){return M.containsRange(this,w)}static containsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>w.endColumn)}strictContainsRange(w){return M.strictContainsRange(this,w)}static strictContainsRange(w,S){return!(S.startLineNumber<w.startLineNumber||S.endLineNumber<w.startLineNumber||S.startLineNumber>w.endLineNumber||S.endLineNumber>w.endLineNumber||S.startLineNumber===w.startLineNumber&&S.startColumn<=w.startColumn||S.endLineNumber===w.endLineNumber&&S.endColumn>=w.endColumn)}plusRange(w){return M.plusRange(this,w)}static plusRange(w,S){let v,l,f,p;return S.startLineNumber<w.startLineNumber?(v=S.startLineNumber,l=S.startColumn):S.startLineNumber===w.startLineNumber?(v=S.startLineNumber,l=Math.min(S.startColumn,w.startColumn)):(v=w.startLineNumber,l=w.startColumn),S.endLineNumber>w.endLineNumber?(f=S.endLineNumber,p=S.endColumn):S.endLineNumber===w.endLineNumber?(f=S.endLineNumber,p=Math.max(S.endColumn,w.endColumn)):(f=w.endLineNumber,p=w.endColumn),new M(v,l,f,p)}intersectRanges(w){return M.intersectRanges(this,w)}static intersectRanges(w,S){let v=w.startLineNumber,l=w.startColumn,f=w.endLineNumber,p=w.endColumn,c=S.startLineNumber,u=S.startColumn,a=S.endLineNumber,r=S.endColumn;return v<c?(v=c,l=u):v===c&&(l=Math.max(l,u)),f>a?(f=a,p=r):f===a&&(p=Math.min(p,r)),v>f||v===f&&l>p?null:new M(v,l,f,p)}equalsRange(w){return M.equalsRange(this,w)}static equalsRange(w,S){return!!w&&!!S&&w.startLineNumber===S.startLineNumber&&w.startColumn===S.startColumn&&w.endLineNumber===S.endLineNumber&&w.endColumn===S.endColumn}getEndPosition(){return M.getEndPosition(this)}static getEndPosition(w){return new C.Position(w.endLineNumber,w.endColumn)}getStartPosition(){return M.getStartPosition(this)}static getStartPosition(w){return new C.Position(w.startLineNumber,w.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(w,S){return new M(this.startLineNumber,this.startColumn,w,S)}setStartPosition(w,S){return new M(w,S,this.endLineNumber,this.endColumn)}collapseToStart(){return M.collapseToStart(this)}static collapseToStart(w){return new M(w.startLineNumber,w.startColumn,w.startLineNumber,w.startColumn)}static fromPositions(w,S=w){return new M(w.lineNumber,w.column,S.lineNumber,S.column)}static lift(w){return w?new M(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn):null}static isIRange(w){return w&&typeof w.startLineNumber=="number"&&typeof w.startColumn=="number"&&typeof w.endLineNumber=="number"&&typeof w.endColumn=="number"}static areIntersectingOrTouching(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<w.startColumn)}static areIntersecting(w,S){return!(w.endLineNumber<S.startLineNumber||w.endLineNumber===S.startLineNumber&&w.endColumn<=S.startColumn||S.endLineNumber<w.startLineNumber||S.endLineNumber===w.startLineNumber&&S.endColumn<=w.startColumn)}static compareRangesUsingStarts(w,S){if(w&&S){const f=w.startLineNumber|0,p=S.startLineNumber|0;if(f===p){const c=w.startColumn|0,u=S.startColumn|0;if(c===u){const a=w.endLineNumber|0,r=S.endLineNumber|0;if(a===r){const d=w.endColumn|0,s=S.endColumn|0;return d-s}return a-r}return c-u}return f-p}return(w?1:0)-(S?1:0)}static compareRangesUsingEnds(w,S){return w.endLineNumber===S.endLineNumber?w.endColumn===S.endColumn?w.startLineNumber===S.startLineNumber?w.startColumn-S.startColumn:w.startLineNumber-S.startLineNumber:w.endColumn-S.endColumn:w.endLineNumber-S.endLineNumber}static spansMultipleLines(w){return w.endLineNumber>w.startLineNumber}}e.Range=M}),define(ee[211],te([0,1,8,13,3]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class w{constructor(l,f,p,c,u){this.value=l,this.selectionStart=f,this.selectionEnd=p,this.selectionStartPosition=c,this.selectionEndPosition=u}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(l){return new w(l.getValue(),l.getSelectionStart(),l.getSelectionEnd(),null,null)}collapseSelection(){return new w(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(l,f,p){e._debugComposition&&console.log("writeToTextArea "+l+": "+this.toString()),f.setValue(l,this.value),p&&f.setSelectionRange(l,this.selectionStart,this.selectionEnd)}deduceEditorPosition(l){if(l<=this.selectionStart){const c=this.value.substring(l,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,c,-1)}if(l>=this.selectionEnd){const c=this.value.substring(this.selectionEnd,l);return this._finishDeduceEditorPosition(this.selectionEndPosition,c,1)}const f=this.value.substring(this.selectionStart,l);if(f.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,f,1);const p=this.value.substring(l,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,p,-1)}_finishDeduceEditorPosition(l,f,p){let c=0,u=-1;for(;(u=f.indexOf(`
`,u+1))!==-1;)c++;return[l,p*f.length,c]}static selectedText(l){return new w(l,0,l.length,null,null)}static deduceInput(l,f,p){if(!l)return{text:"",replaceCharCnt:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+l.toString()),console.log("CURRENT STATE: "+f.toString()));let c=l.value,u=l.selectionStart,a=l.selectionEnd,r=f.value,d=f.selectionStart,s=f.selectionEnd;const i=c.substring(a),n=r.substring(s),t=C.commonSuffixLength(i,n);r=r.substring(0,r.length-t),c=c.substring(0,c.length-t);const o=c.substring(0,u),h=r.substring(0,d),_=C.commonPrefixLength(o,h);if(r=r.substring(_),c=c.substring(_),d-=_,u-=_,s-=_,a-=_,e._debugComposition&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+c+">, selectionStart: "+u+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+r+">, selectionStart: "+d+", selectionEnd: "+s)),p&&d===s&&c.length>0){let g=null;if(d===r.length?r.startsWith(c)&&(g=r.substring(c.length)):r.endsWith(c)&&(g=r.substring(0,r.length-c.length)),g!==null&&g.length>0&&(/\uFE0F/.test(g)||C.containsEmoji(g)))return{text:g,replaceCharCnt:0}}if(d===s){if(c===r&&u===0&&a===c.length&&d===r.length&&r.indexOf(`
`)===-1&&C.containsFullWidthCharacter(r))return{text:"",replaceCharCnt:0};const g=o.length-_;return e._debugComposition&&console.log("REMOVE PREVIOUS: "+(o.length-_)+" chars"),{text:r,replaceCharCnt:g}}const m=a-u;return{text:r,replaceCharCnt:m}}}e.TextAreaState=w,w.EMPTY=new w("",0,0,null,null);class S{static _getPageOfLine(l,f){return Math.floor((l-1)/f)}static _getRangeForPage(l,f){const p=l*f,c=p+1,u=p+f;return new k.Range(c,1,u+1,1)}static fromEditorSelection(l,f,p,c,u){const a=S._getPageOfLine(p.startLineNumber,c),r=S._getRangeForPage(a,c),d=S._getPageOfLine(p.endLineNumber,c),s=S._getRangeForPage(d,c),i=r.intersectRanges(new k.Range(1,1,p.startLineNumber,p.startColumn));let n=f.getValueInRange(i,1);const t=f.getLineCount(),o=f.getLineMaxColumn(t),h=s.intersectRanges(new k.Range(p.endLineNumber,p.endColumn,t,o));let _=f.getValueInRange(h,1),m;if(a===d||a+1===d)m=f.getValueInRange(p,1);else{const g=r.intersectRanges(p),b=s.intersectRanges(p);m=f.getValueInRange(g,1)+String.fromCharCode(8230)+f.getValueInRange(b,1)}if(u){const g=500;n.length>g&&(n=n.substring(n.length-g,n.length)),_.length>g&&(_=_.substring(0,g)),m.length>2*g&&(m=m.substring(0,g)+String.fromCharCode(8230)+m.substring(m.length-g,m.length))}return new w(n+m+_,n.length,n.length+m.length,new M.Position(p.startLineNumber,p.startColumn),new M.Position(p.endLineNumber,p.endColumn))}}e.PagedScreenReaderStrategy=S}),define(ee[212],te([0,1,193,6,2,40,3]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const v={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class l extends k.Disposable{constructor(p,c={}){super();this._onDidUpdate=this._register(new M.Emitter),this._editor=p,this._options=w.mixin(c,v,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(u=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(u=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(p){this.ranges=[],p&&p.forEach(c=>{!this._options.ignoreCharChanges&&c.charChanges?c.charChanges.forEach(u=>{this.ranges.push({rhs:!0,range:new S.Range(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new S.Range(c.modifiedStartLineNumber,1,c.modifiedStartLineNumber,1)})}),this.ranges.sort((c,u)=>c.range.getStartPosition().isBeforeOrEqual(u.range.getStartPosition())?-1:u.range.getStartPosition().isBeforeOrEqual(c.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(p){let c=!1,u=this._editor.getPosition();if(!u){this.nextIdx=0;return}for(let a=0,r=this.ranges.length;a<r&&!c;a++){let d=this.ranges[a].range;u.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=a+(p?0:-1),c=!0)}c||(this.nextIdx=p?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(p,c){if(C.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!!this.canNavigate()){this.nextIdx===-1?this._initIdx(p):p?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let u=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let a=u.range.getStartPosition();this._editor.setPosition(a),this._editor.revealPositionInCenter(a,c)}finally{this.ignoreSelectionChange=!1}}}canNavigate(){return this.ranges&&this.ranges.length>0}next(p=0){this._move(!0,p)}previous(p=0){this._move(!1,p)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=l}),define(ee[62],te([0,1,3]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class M{static insert(w,S){return{range:new C.Range(w.lineNumber,w.column,w.lineNumber,w.column),text:S,forceMoveMarkers:!0}}static delete(w){return{range:w,text:null}}static replace(w,S){return{range:w,text:S}}static replaceMove(w,S){return{range:w,text:S,forceMoveMarkers:!0}}}e.EditOperation=M}),define(ee[362],te([0,1,8,62,3]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class w{constructor(l,f){this._selection=l,this._cursors=f,this._selectionId=null}getEditOperations(l,f){let p=S(l,this._cursors);for(let c=0,u=p.length;c<u;c++){let a=p[c];f.addEditOperation(a.range,a.text)}this._selectionId=f.trackSelection(this._selection)}computeCursorState(l,f){return f.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=w;function S(v,l){l.sort((a,r)=>a.lineNumber===r.lineNumber?a.column-r.column:a.lineNumber-r.lineNumber);for(let a=l.length-2;a>=0;a--)l[a].lineNumber===l[a+1].lineNumber&&l.splice(a,1);let f=[],p=0,c=0,u=l.length;for(let a=1,r=v.getLineCount();a<=r;a++){let d=v.getLineContent(a),s=d.length+1,i=0;if(!(c<u&&l[c].lineNumber===a&&(i=l[c].column,c++,i===s))&&d.length!==0){let n=C.lastNonWhitespaceIndex(d),t=0;if(n===-1)t=1;else if(n!==d.length-1)t=n+2;else continue;t=Math.max(i,t),f[p++]=M.EditOperation.delete(new k.Range(a,t,a,s))}}return f}e.trimTrailingWhitespace=S}),define(ee[213],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class C{constructor(k,w,S,v){this.r=C._clamp(k),this.g=C._clamp(w),this.b=C._clamp(S),this.a=C._clamp(v)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=C,C.Empty=new C(0,0,0,0)}),define(ee[21],te([0,1,13,3]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends M.Range{constructor(S,v,l,f){super(S,v,l,f);this.selectionStartLineNumber=S,this.selectionStartColumn=v,this.positionLineNumber=l,this.positionColumn=f}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return k.selectionsEqual(this,S)}static selectionsEqual(S,v){return S.selectionStartLineNumber===v.selectionStartLineNumber&&S.selectionStartColumn===v.selectionStartColumn&&S.positionLineNumber===v.positionLineNumber&&S.positionColumn===v.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,v){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,S,v):new k(S,v,this.startLineNumber,this.startColumn)}getPosition(){return new C.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(S,v){return this.getDirection()===0?new k(S,v,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,S,v)}static fromPositions(S,v=S){return new k(S.lineNumber,S.column,v.lineNumber,v.column)}static liftSelection(S){return new k(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,v){if(S&&!v||!S&&v)return!1;if(!S&&!v)return!0;if(S.length!==v.length)return!1;for(let l=0,f=S.length;l<f;l++)if(!this.selectionsEqual(S[l],v[l]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,v,l,f,p){return p===0?new k(S,v,l,f):new k(l,f,S,v)}}e.Selection=k}),define(ee[214],te([0,1,34,7,15,6,2,16,8,211,13,21,120]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=void 0,e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class a{constructor(){this._lastState=null}set(n,t){this._lastState={lastCopiedValue:n,data:t}}get(n){return this._lastState&&this._lastState.lastCopiedValue===n?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=a,a.INSTANCE=new a;class r extends S.Disposable{constructor(n,t){super();this.textArea=t,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=n,this._textArea=this._register(new s(t)),this._asyncTriggerCut=this._register(new k.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new k.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=f.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let o=null;this._register(M.addStandardDisposableListener(t.domNode,"keydown",m=>{(m.keyCode===109||this._isDoingComposition&&m.keyCode===1)&&m.stopPropagation(),m.equals(9)&&m.preventDefault(),o=m,this._onKeyDown.fire(m)})),this._register(M.addStandardDisposableListener(t.domNode,"keyup",m=>{this._onKeyUp.fire(m)})),this._register(M.addDisposableListener(t.domNode,"compositionstart",m=>{if(f._debugComposition&&console.log("[compositionstart]",m),!this._isDoingComposition){this._isDoingComposition=!0;let g=!1;v.isMacintosh&&o&&o.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===m.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")&&(f._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",m),g=!0),g?this._textAreaState=new f.TextAreaState(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new p.Position(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition):this._setAndWriteTextAreaState("compositionstart",f.TextAreaState.EMPTY),this._onCompositionStart.fire({moveOneCharacterLeft:g})}}));const h=m=>{const g=this._textAreaState,b=f.TextAreaState.readFromTextArea(this._textArea);return[b,f.TextAreaState.deduceInput(g,b,m)]},_=m=>{const g=this._textAreaState,b=f.TextAreaState.selectedText(m),y={text:b.value,replaceCharCnt:g.selectionEnd-g.selectionStart};return[b,y]};this._register(M.addDisposableListener(t.domNode,"compositionupdate",m=>{f._debugComposition&&console.log("[compositionupdate]",m);const[g,b]=_(m.data||"");this._textAreaState=g,this._onType.fire(b),this._onCompositionUpdate.fire(m)})),this._register(M.addDisposableListener(t.domNode,"compositionend",m=>{if(f._debugComposition&&console.log("[compositionend]",m),!!this._isDoingComposition){const[g,b]=_(m.data||"");this._textAreaState=g,this._onType.fire(b),(C.isChrome||C.isFirefox)&&(this._textAreaState=f.TextAreaState.readFromTextArea(this._textArea)),!!this._isDoingComposition&&(this._isDoingComposition=!1,this._onCompositionEnd.fire())}})),this._register(M.addDisposableListener(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),!this._isDoingComposition){const[m,g]=h(v.isMacintosh);g.replaceCharCnt===0&&g.text.length===1&&l.isHighSurrogate(g.text.charCodeAt(0))||(this._textAreaState=m,this._nextCommand===0?g.text!==""&&this._onType.fire(g):((g.text!==""||g.replaceCharCnt!==0)&&this._firePaste(g.text,null),this._nextCommand=0))}})),this._register(M.addDisposableListener(t.domNode,"cut",m=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(m),this._asyncTriggerCut.schedule()})),this._register(M.addDisposableListener(t.domNode,"copy",m=>{this._ensureClipboardGetsEditorSelection(m)})),this._register(M.addDisposableListener(t.domNode,"paste",m=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),d.canUseTextData(m)){const[g,b]=d.getTextData(m);g!==""&&this._firePaste(g,b)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",f.TextAreaState.EMPTY),this._nextCommand=1})),this._register(M.addDisposableListener(t.domNode,"focus",()=>{const m=this._hasFocus;this._setHasFocus(!0),C.isSafari&&!m&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(M.addDisposableListener(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)}))}_installSelectionChangeListener(){let n=0;return M.addDisposableListener(document,"selectionchange",t=>{if(!!this._hasFocus&&!this._isDoingComposition&&!!C.isChrome){const o=Date.now(),h=o-n;if(n=o,!(h<5)){const _=o-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),!(_<100)&&!(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)){const m=this._textArea.getValue();if(this._textAreaState.value===m){const g=this._textArea.getSelectionStart(),b=this._textArea.getSelectionEnd();if(!(this._textAreaState.selectionStart===g&&this._textAreaState.selectionEnd===b)){const y=this._textAreaState.deduceEditorPosition(g),L=this._host.deduceModelPosition(y[0],y[1],y[2]),D=this._textAreaState.deduceEditorPosition(b),N=this._host.deduceModelPosition(D[0],D[1],D[2]),I=new c.Selection(L.lineNumber,L.column,N.lineNumber,N.column);this._onSelectionChangeRequest.fire(I)}}}}}})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const n=M.getShadowRoot(this.textArea.domNode);n?this._setHasFocus(n.activeElement===this.textArea.domNode):M.isInDOM(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(n){this._hasFocus!==n&&(this._hasFocus=n,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(n,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(n,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(n){this._isDoingComposition||this._setAndWriteTextAreaState(n,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(n){const t=this._host.getDataToCopy(d.canUseTextData(n)&&u.BrowserFeatures.clipboard.richText),o={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(a.INSTANCE.set(C.isFirefox?t.text.replace(/\r\n/g,`
`):t.text,o),!d.canUseTextData(n)){this._setAndWriteTextAreaState("copy or cut",f.TextAreaState.selectedText(t.text));return}d.setTextData(n,t.text,t.html,o)}_firePaste(n,t){t||(t=a.INSTANCE.get(n)),this._onPaste.fire({text:n,metadata:t})}}e.TextAreaInput=r;class d{static canUseTextData(n){return!!(n.clipboardData||window.clipboardData)}static getTextData(n){if(n.clipboardData){n.preventDefault();const t=n.clipboardData.getData("text/plain");let o=null;const h=n.clipboardData.getData("vscode-editor-data");if(typeof h=="string")try{o=JSON.parse(h),o.version!==1&&(o=null)}catch(_){}return[t,o]}if(window.clipboardData)return n.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(n,t,o,h){if(n.clipboardData){n.clipboardData.setData("text/plain",t),typeof o=="string"&&n.clipboardData.setData("text/html",o),n.clipboardData.setData("vscode-editor-data",JSON.stringify(h)),n.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),n.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class s extends S.Disposable{constructor(n){super();this._actual=n,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(n){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(n,t){const o=this._actual.domNode;o.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),o.value=t)}getSelectionStart(){return this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionEnd}setSelectionRange(n,t,o){const h=this._actual.domNode;let _=null;const m=M.getShadowRoot(h);m?_=m.activeElement:_=document.activeElement;const g=_===h,b=h.selectionStart,y=h.selectionEnd;if(g&&b===t&&y===o){C.isFirefox&&window.parent!==window&&h.focus();return}if(g){this.setIgnoreSelectionChangeTime("setSelectionRange"),h.setSelectionRange(t,o),C.isFirefox&&window.parent!==window&&h.focus();return}try{const L=M.saveParentsScrollTop(h);this.setIgnoreSelectionChangeTime("setSelectionRange"),h.focus(),h.setSelectionRange(t,o),M.restoreParentsScrollTop(h,L)}catch(L){}}}}),define(ee[92],te([0,1,21]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class M{constructor(f,p,c=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=c}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let u=p.getInverseEditOperations()[0].range;return new C.Selection(u.endLineNumber,u.endColumn,u.endLineNumber,u.endColumn)}}e.ReplaceCommand=M;class k{constructor(f,p){this._range=f,this._text=p}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){const u=p.getInverseEditOperations()[0].range;return new C.Selection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)}}e.ReplaceCommandThatSelectsText=k;class w{constructor(f,p,c=!1){this._range=f,this._text=p,this.insertsAutoWhitespace=c}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let u=p.getInverseEditOperations()[0].range;return new C.Selection(u.startLineNumber,u.startColumn,u.startLineNumber,u.startColumn)}}e.ReplaceCommandWithoutChangingPosition=w;class S{constructor(f,p,c,u,a=!1){this._range=f,this._text=p,this._columnDeltaOffset=u,this._lineNumberDeltaOffset=c,this.insertsAutoWhitespace=a}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text)}computeCursorState(f,p){let u=p.getInverseEditOperations()[0].range;return new C.Selection(u.endLineNumber+this._lineNumberDeltaOffset,u.endColumn+this._columnDeltaOffset,u.endLineNumber+this._lineNumberDeltaOffset,u.endColumn+this._columnDeltaOffset)}}e.ReplaceCommandWithOffsetCursorState=S;class v{constructor(f,p,c,u=!1){this._range=f,this._text=p,this._initialSelection=c,this._forceMoveMarkers=u,this._selectionId=null}getEditOperations(f,p){p.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=p.trackSelection(this._initialSelection)}computeCursorState(f,p){return p.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=v}),define(ee[363],te([0,1,3,21]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SurroundSelectionCommand=void 0;class k{constructor(S,v,l){this._range=S,this._charBeforeSelection=v,this._charAfterSelection=l}getEditOperations(S,v){v.addTrackedEditOperation(new C.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),v.addTrackedEditOperation(new C.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(S,v){let l=v.getInverseEditOperations(),f=l[0].range,p=l[1].range;return new M.Selection(f.endLineNumber,f.endColumn,p.endLineNumber,p.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k}),define(ee[93],te([0,1,8,16,101]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let w;function S(){return w||(w=new TextDecoder(M.isLittleEndian()?"UTF-16LE":"UTF-16BE")),w}e.getPlatformTextDecoder=S,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=c=>new f(c),e.decodeUTF16LE=v):(e.createStringBuilder=c=>new p,e.decodeUTF16LE=l);function v(c,u,a){const r=new Uint16Array(c.buffer,u,a);return S().decode(r)}function l(c,u,a){let r=[],d=0;for(let s=0;s<a;s++){const i=k.readUInt16LE(c,u);u+=2,r[d++]=String.fromCharCode(i)}return r.join("")}class f{constructor(u){this._capacity=u|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const u=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return S().decode(u)}_flushBuffer(){const u=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[u]:this._completedStrings[this._completedStrings.length]=u}write1(u){const a=this._capacity-this._bufferLength;a<=1&&(a===0||C.isHighSurrogate(u))&&this._flushBuffer(),this._buffer[this._bufferLength++]=u}appendASCII(u){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=u}appendASCIIString(u){const a=u.length;if(this._bufferLength+a>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=u;return}for(let r=0;r<a;r++)this._buffer[this._bufferLength++]=u.charCodeAt(r)}}class p{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(u){this._pieces[this._piecesLen++]=String.fromCharCode(u)}appendASCII(u){this._pieces[this._piecesLen++]=String.fromCharCode(u)}appendASCIIString(u){this._pieces[this._piecesLen++]=u}}}),define(ee[164],te([0,1,30,93]),function($,e,C,M){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class w{constructor(f){this._createLine=f,this._set(1,[])}flush(){this._set(1,[])}_set(f,p){this._lines=p,this._rendLineNumberStart=f}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(f){const p=f-this._rendLineNumberStart;if(p<0||p>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[p]}onLinesDeleted(f,p){if(this.getCount()===0)return null;const c=this.getStartLineNumber(),u=this.getEndLineNumber();if(p<c){const s=p-f+1;return this._rendLineNumberStart-=s,null}if(f>u)return null;let a=0,r=0;for(let s=c;s<=u;s++){const i=s-this._rendLineNumberStart;f<=s&&s<=p&&(r===0?(a=i,r=1):r++)}if(f<c){let s=0;p<c?s=p-f+1:s=c-f,this._rendLineNumberStart-=s}return this._lines.splice(a,r)}onLinesChanged(f,p){if(this.getCount()===0)return!1;const c=this.getStartLineNumber(),u=this.getEndLineNumber();let a=!1;for(let r=f;r<=p;r++)r>=c&&r<=u&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),a=!0);return a}onLinesInserted(f,p){if(this.getCount()===0)return null;const c=p-f+1,u=this.getStartLineNumber(),a=this.getEndLineNumber();if(f<=u)return this._rendLineNumberStart+=c,null;if(f>a)return null;if(c+f>a)return this._lines.splice(f-this._rendLineNumberStart,a-f+1);const r=[];for(let t=0;t<c;t++)r[t]=this._createLine();const d=f-this._rendLineNumberStart,s=this._lines.slice(0,d),i=this._lines.slice(d,this._lines.length-c),n=this._lines.slice(this._lines.length-c,this._lines.length);return this._lines=s.concat(r).concat(i),n}onTokensChanged(f){if(this.getCount()===0)return!1;const p=this.getStartLineNumber(),c=this.getEndLineNumber();let u=!1;for(let a=0,r=f.length;a<r;a++){const d=f[a];if(!(d.toLineNumber<p||d.fromLineNumber>c)){const s=Math.max(p,d.fromLineNumber),i=Math.min(c,d.toLineNumber);for(let n=s;n<=i;n++){const t=n-this._rendLineNumberStart;this._lines[t].onTokensChanged(),u=!0}}}return u}}e.RenderedLinesCollection=w;class S{constructor(f){this._host=f,this.domNode=this._createDomNode(),this._linesCollection=new w(()=>this._host.createVisibleLine())}_createDomNode(){const f=C.createFastDomNode(document.createElement("div"));return f.setClassName("view-layer"),f.setPosition("absolute"),f.domNode.setAttribute("role","presentation"),f.domNode.setAttribute("aria-hidden","true"),f}onConfigurationChanged(f){return!!f.hasChanged(124)}onFlushed(f){return this._linesCollection.flush(),!0}onLinesChanged(f){return this._linesCollection.onLinesChanged(f.fromLineNumber,f.toLineNumber)}onLinesDeleted(f){const p=this._linesCollection.onLinesDeleted(f.fromLineNumber,f.toLineNumber);if(p)for(let c=0,u=p.length;c<u;c++){const a=p[c].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onLinesInserted(f){const p=this._linesCollection.onLinesInserted(f.fromLineNumber,f.toLineNumber);if(p)for(let c=0,u=p.length;c<u;c++){const a=p[c].getDomNode();a&&this.domNode.domNode.removeChild(a)}return!0}onScrollChanged(f){return f.scrollTopChanged}onTokensChanged(f){return this._linesCollection.onTokensChanged(f.ranges)}onZonesChanged(f){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(f){return this._linesCollection.getLine(f)}renderLines(f){const p=this._linesCollection._get(),c=new v(this.domNode.domNode,this._host,f),u={rendLineNumberStart:p.rendLineNumberStart,lines:p.lines,linesLength:p.lines.length},a=c.render(u,f.startLineNumber,f.endLineNumber,f.relativeVerticalOffset);this._linesCollection._set(a.rendLineNumberStart,a.lines)}}e.VisibleLinesCollection=S;class v{constructor(f,p,c){this.domNode=f,this.host=p,this.viewportData=c}render(f,p,c,u){const a={rendLineNumberStart:f.rendLineNumberStart,lines:f.lines.slice(0),linesLength:f.linesLength};if(a.rendLineNumberStart+a.linesLength-1<p||c<a.rendLineNumberStart){a.rendLineNumberStart=p,a.linesLength=c-p+1,a.lines=[];for(let r=p;r<=c;r++)a.lines[r-p]=this.host.createVisibleLine();return this._finishRendering(a,!0,u),a}if(this._renderUntouchedLines(a,Math.max(p-a.rendLineNumberStart,0),Math.min(c-a.rendLineNumberStart,a.linesLength-1),u,p),a.rendLineNumberStart>p){const r=p,d=Math.min(c,a.rendLineNumberStart-1);r<=d&&(this._insertLinesBefore(a,r,d,u,p),a.linesLength+=d-r+1)}else if(a.rendLineNumberStart<p){const r=Math.min(a.linesLength,p-a.rendLineNumberStart);r>0&&(this._removeLinesBefore(a,r),a.linesLength-=r)}if(a.rendLineNumberStart=p,a.rendLineNumberStart+a.linesLength-1<c){const r=a.rendLineNumberStart+a.linesLength,d=c;r<=d&&(this._insertLinesAfter(a,r,d,u,p),a.linesLength+=d-r+1)}else if(a.rendLineNumberStart+a.linesLength-1>c){const r=Math.max(0,c-a.rendLineNumberStart+1),s=a.linesLength-1-r+1;s>0&&(this._removeLinesAfter(a,s),a.linesLength-=s)}return this._finishRendering(a,!1,u),a}_renderUntouchedLines(f,p,c,u,a){const r=f.rendLineNumberStart,d=f.lines;for(let s=p;s<=c;s++){const i=r+s;d[s].layoutLine(i,u[i-a])}}_insertLinesBefore(f,p,c,u,a){const r=[];let d=0;for(let s=p;s<=c;s++)r[d++]=this.host.createVisibleLine();f.lines=r.concat(f.lines)}_removeLinesBefore(f,p){for(let c=0;c<p;c++){const u=f.lines[c].getDomNode();u&&this.domNode.removeChild(u)}f.lines.splice(0,p)}_insertLinesAfter(f,p,c,u,a){const r=[];let d=0;for(let s=p;s<=c;s++)r[d++]=this.host.createVisibleLine();f.lines=f.lines.concat(r)}_removeLinesAfter(f,p){const c=f.linesLength-p;for(let u=0;u<p;u++){const a=f.lines[c+u].getDomNode();a&&this.domNode.removeChild(a)}f.lines.splice(c,p)}_finishRenderingNewLines(f,p,c,u){v._ttPolicy&&(c=v._ttPolicy.createHTML(c));const a=this.domNode.lastChild;p||!a?this.domNode.innerHTML=c:a.insertAdjacentHTML("afterend",c);let r=this.domNode.lastChild;for(let d=f.linesLength-1;d>=0;d--){const s=f.lines[d];u[d]&&(s.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(f,p,c){const u=document.createElement("div");v._ttPolicy&&(p=v._ttPolicy.createHTML(p)),u.innerHTML=p;for(let a=0;a<f.linesLength;a++){const r=f.lines[a];if(c[a]){const d=u.firstChild,s=r.getDomNode();s.parentNode.replaceChild(d,s),r.setDomNode(d)}}}_finishRendering(f,p,c){const u=v._sb,a=f.linesLength,r=f.lines,d=f.rendLineNumberStart,s=[];{u.reset();let i=!1;for(let n=0;n<a;n++){const t=r[n];s[n]=!1,!t.getDomNode()&&(!t.renderLine(n+d,c[n],this.viewportData,u)||(s[n]=!0,i=!0))}i&&this._finishRenderingNewLines(f,p,u.build(),s)}{u.reset();let i=!1;const n=[];for(let t=0;t<a;t++){const o=r[t];n[t]=!1,!s[t]&&(!o.renderLine(t+d,c[t],this.viewportData,u)||(n[t]=!0,i=!0))}i&&this._finishRenderingInvalidLines(f,u.build(),n)}}}v._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:l=>l}),v._sb=M.createStringBuilder(1e5)}),define(ee[128],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationResult2=e.TokenizationResult=e.Token=void 0;class C{constructor(S,v,l){this.offset=S|0,this.type=v,this.language=l}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=C;class M{constructor(S,v){this.tokens=S,this.endState=v}}e.TokenizationResult=M;class k{constructor(S,v){this.tokens=S,this.endState=v}}e.TokenizationResult2=k}),define(ee[364],te([0,1,153,8]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const k=3;function w(d,s,i,n){return new C.LcsDiff(d,s,i).ComputeDiff(n)}class S{constructor(s){const i=[],n=[];for(let t=0,o=s.length;t<o;t++)i[t]=u(s[t],1),n[t]=a(s[t],1);this.lines=s,this._startColumns=i,this._endColumns=n}getElements(){const s=[];for(let i=0,n=this.lines.length;i<n;i++)s[i]=this.lines[i].substring(this._startColumns[i]-1,this._endColumns[i]-1);return s}getStartLineNumber(s){return s+1}getEndLineNumber(s){return s+1}createCharSequence(s,i,n){const t=[],o=[],h=[];let _=0;for(let m=i;m<=n;m++){const g=this.lines[m],b=s?this._startColumns[m]:1,y=s?this._endColumns[m]:g.length+1;for(let L=b;L<y;L++)t[_]=g.charCodeAt(L-1),o[_]=m+1,h[_]=L,_++}return new v(t,o,h)}}class v{constructor(s,i,n){this._charCodes=s,this._lineNumbers=i,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(s){return this._lineNumbers[s]}getStartColumn(s){return this._columns[s]}getEndLineNumber(s){return this._lineNumbers[s]}getEndColumn(s){return this._columns[s]+1}}class l{constructor(s,i,n,t,o,h,_,m){this.originalStartLineNumber=s,this.originalStartColumn=i,this.originalEndLineNumber=n,this.originalEndColumn=t,this.modifiedStartLineNumber=o,this.modifiedStartColumn=h,this.modifiedEndLineNumber=_,this.modifiedEndColumn=m}static createFromDiffChange(s,i,n){let t,o,h,_,m,g,b,y;return s.originalLength===0?(t=0,o=0,h=0,_=0):(t=i.getStartLineNumber(s.originalStart),o=i.getStartColumn(s.originalStart),h=i.getEndLineNumber(s.originalStart+s.originalLength-1),_=i.getEndColumn(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(m=0,g=0,b=0,y=0):(m=n.getStartLineNumber(s.modifiedStart),g=n.getStartColumn(s.modifiedStart),b=n.getEndLineNumber(s.modifiedStart+s.modifiedLength-1),y=n.getEndColumn(s.modifiedStart+s.modifiedLength-1)),new l(t,o,h,_,m,g,b,y)}}function f(d){if(d.length<=1)return d;const s=[d[0]];let i=s[0];for(let n=1,t=d.length;n<t;n++){const o=d[n],h=o.originalStart-(i.originalStart+i.originalLength),_=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(h,_)<k?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(s.push(o),i=o)}return s}class p{constructor(s,i,n,t,o){this.originalStartLineNumber=s,this.originalEndLineNumber=i,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=t,this.charChanges=o}static createFromDiffResult(s,i,n,t,o,h,_){let m,g,b,y,L;if(i.originalLength===0?(m=n.getStartLineNumber(i.originalStart)-1,g=0):(m=n.getStartLineNumber(i.originalStart),g=n.getEndLineNumber(i.originalStart+i.originalLength-1)),i.modifiedLength===0?(b=t.getStartLineNumber(i.modifiedStart)-1,y=0):(b=t.getStartLineNumber(i.modifiedStart),y=t.getEndLineNumber(i.modifiedStart+i.modifiedLength-1)),h&&i.originalLength>0&&i.originalLength<20&&i.modifiedLength>0&&i.modifiedLength<20&&o()){const D=n.createCharSequence(s,i.originalStart,i.originalStart+i.originalLength-1),N=t.createCharSequence(s,i.modifiedStart,i.modifiedStart+i.modifiedLength-1);let I=w(D,N,o,!0).changes;_&&(I=f(I)),L=[];for(let T=0,O=I.length;T<O;T++)L.push(l.createFromDiffChange(I[T],D,N))}return new p(m,g,b,y,L)}}class c{constructor(s,i,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=s,this.modifiedLines=i,this.original=new S(s),this.modified=new S(i),this.continueLineDiff=r(n.maxComputationTime),this.continueCharDiff=r(n.maxComputationTime===0?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const s=w(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),i=s.changes,n=s.quitEarly;if(this.shouldIgnoreTrimWhitespace){const _=[];for(let m=0,g=i.length;m<g;m++)_.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,i[m],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:_}}const t=[];let o=0,h=0;for(let _=-1,m=i.length;_<m;_++){const g=_+1<m?i[_+1]:null,b=g?g.originalStart:this.originalLines.length,y=g?g.modifiedStart:this.modifiedLines.length;for(;o<b&&h<y;){const L=this.originalLines[o],D=this.modifiedLines[h];if(L!==D){{let N=u(L,1),I=u(D,1);for(;N>1&&I>1;){const T=L.charCodeAt(N-2),O=D.charCodeAt(I-2);if(T!==O)break;N--,I--}(N>1||I>1)&&this._pushTrimWhitespaceCharChange(t,o+1,1,N,h+1,1,I)}{let N=a(L,1),I=a(D,1);const T=L.length+1,O=D.length+1;for(;N<T&&I<O;){const A=L.charCodeAt(N-1),B=L.charCodeAt(I-1);if(A!==B)break;N++,I++}(N<T||I<O)&&this._pushTrimWhitespaceCharChange(t,o+1,N,T,h+1,I,O)}}o++,h++}g&&(t.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=g.originalLength,h+=g.modifiedLength)}return{quitEarly:n,changes:t}}_pushTrimWhitespaceCharChange(s,i,n,t,o,h,_){if(!this._mergeTrimWhitespaceCharChange(s,i,n,t,o,h,_)){let m;this.shouldComputeCharChanges&&(m=[new l(i,n,i,t,o,h,o,_)]),s.push(new p(i,i,o,o,m))}}_mergeTrimWhitespaceCharChange(s,i,n,t,o,h,_){const m=s.length;if(m===0)return!1;const g=s[m-1];return g.originalEndLineNumber===0||g.modifiedEndLineNumber===0?!1:g.originalEndLineNumber+1===i&&g.modifiedEndLineNumber+1===o?(g.originalEndLineNumber=i,g.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&g.charChanges&&g.charChanges.push(new l(i,n,i,t,o,h,o,_)),!0):!1}}e.DiffComputer=c;function u(d,s){const i=M.firstNonWhitespaceIndex(d);return i===-1?s:i+1}function a(d,s){const i=M.lastNonWhitespaceIndex(d);return i===-1?s:i+2}function r(d){if(d===0)return()=>!0;const s=Date.now();return()=>Date.now()-s<d}}),define(ee[215],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class C{constructor(k,w,S,v,l,f){this.id=k,this.label=w,this.alias=S,this._precondition=v,this._run=l,this._contextKeyService=f}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=C}),define(ee[106],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=e.isThemeColor=void 0;function C(M){return M&&typeof M.id=="string"}e.isThemeColor=C,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ee[107],te([0,1,106]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function M(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===C.EditorType.ICodeEditor:!1}e.isCodeEditor=M;function k(S){return S&&typeof S.getEditorType=="function"?S.getEditorType()===C.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function w(S){return M(S)?S:k(S)?S.getModifiedEditor():null}e.getCodeEditor=w}),define(ee[53],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.MinimapPosition=e.OverviewRulerLane=void 0;var C;(function(l){l[l.Left=1]="Left",l[l.Center=2]="Center",l[l.Right=4]="Right",l[l.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var M;(function(l){l[l.Inline=1]="Inline",l[l.Gutter=2]="Gutter"})(M=e.MinimapPosition||(e.MinimapPosition={}));class k{constructor(f){this.tabSize=Math.max(1,f.tabSize|0),this.indentSize=f.tabSize|0,this.insertSpaces=Boolean(f.insertSpaces),this.defaultEOL=f.defaultEOL|0,this.trimAutoWhitespace=Boolean(f.trimAutoWhitespace)}equals(f){return this.tabSize===f.tabSize&&this.indentSize===f.indentSize&&this.insertSpaces===f.insertSpaces&&this.defaultEOL===f.defaultEOL&&this.trimAutoWhitespace===f.trimAutoWhitespace}createChangeEvent(f){return{tabSize:this.tabSize!==f.tabSize,indentSize:this.indentSize!==f.indentSize,insertSpaces:this.insertSpaces!==f.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==f.trimAutoWhitespace}}}e.TextModelResolvedOptions=k;class w{constructor(f,p){this.range=f,this.matches=p}}e.FindMatch=w;class S{constructor(f,p,c,u,a,r){this.identifier=f,this.range=p,this.text=c,this.forceMoveMarkers=u,this.isAutoWhitespaceEdit=a,this._isTracked=r}}e.ValidAnnotatedEditOperation=S;class v{constructor(f,p,c){this.reverseEdits=f,this.changes=p,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=v}),define(ee[365],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class C{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function M(w,S,v,l,f){f.spacesDiff=0,f.looksLikeAlignment=!1;let p;for(p=0;p<S&&p<l;p++){let i=w.charCodeAt(p),n=v.charCodeAt(p);if(i!==n)break}let c=0,u=0;for(let i=p;i<S;i++)w.charCodeAt(i)===32?c++:u++;let a=0,r=0;for(let i=p;i<l;i++)v.charCodeAt(i)===32?a++:r++;if(!(c>0&&u>0)&&!(a>0&&r>0)){let d=Math.abs(u-r),s=Math.abs(c-a);if(d===0){f.spacesDiff=s,s>0&&0<=a-1&&a-1<w.length&&a<v.length&&v.charCodeAt(a)!==32&&w.charCodeAt(a-1)===32&&w.charCodeAt(w.length-1)===44&&(f.looksLikeAlignment=!0);return}if(s%d==0){f.spacesDiff=s/d;return}}}function k(w,S,v){const l=Math.min(w.getLineCount(),1e4);let f=0,p=0,c="",u=0;const a=[2,4,6,8,3,5,7],r=8;let d=[0,0,0,0,0,0,0,0,0],s=new C;for(let t=1;t<=l;t++){let o=w.getLineLength(t),h=w.getLineContent(t);const _=o<=65536;let m=!1,g=0,b=0,y=0;for(let D=0,N=o;D<N;D++){let I=_?h.charCodeAt(D):w.getLineCharCode(t,D);if(I===9)y++;else if(I===32)b++;else{m=!0,g=D;break}}if(!!m&&(y>0?f++:b>1&&p++,M(c,u,h,g,s),!(s.looksLikeAlignment&&!(v&&S===s.spacesDiff)))){let L=s.spacesDiff;L<=r&&d[L]++,c=h,u=g}}let i=v;f!==p&&(i=f<p);let n=S;if(i){let t=i?0:.1*l;a.forEach(o=>{let h=d[o];h>t&&(t=h,n=o)}),n===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(n=2)}return{insertSpaces:i,tabSize:n}}e.guessIndentation=k}),define(ee[366],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeIsInOverviewRuler=e.getNodeColor=void 0;function C(W){return(W.metadata&1)>>>0}e.getNodeColor=C;function M(W,R){W.metadata=W.metadata&254|R<<0}function k(W){return(W.metadata&2)>>>1==1}function w(W,R){W.metadata=W.metadata&253|(R?1:0)<<1}function S(W){return(W.metadata&4)>>>2==1}function v(W,R){W.metadata=W.metadata&251|(R?1:0)<<2}function l(W){return(W.metadata&8)>>>3==1}e.getNodeIsInOverviewRuler=l;function f(W,R){W.metadata=W.metadata&247|(R?1:0)<<3}function p(W){return(W.metadata&48)>>>4}function c(W,R){W.metadata=W.metadata&207|R<<4}function u(W){return(W.metadata&64)>>>6==1}function a(W,R){W.metadata=W.metadata&191|(R?1:0)<<6}class r{constructor(R,F,V){this.metadata=0,this.parent=this,this.left=this,this.right=this,M(this,1),this.start=F,this.end=V,this.delta=0,this.maxEnd=V,this.id=R,this.ownerId=0,this.options=null,v(this,!1),c(this,1),f(this,!1),a(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=V,this.range=null,w(this,!1)}reset(R,F,V,K){this.start=F,this.end=V,this.maxEnd=V,this.cachedVersionId=R,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=V,this.range=K}setOptions(R){this.options=R;let F=this.options.className;v(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),c(this,this.options.stickiness),f(this,!!(this.options.overviewRuler&&this.options.overviewRuler.color)),a(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,F,V){this.cachedVersionId!==V&&(this.range=null),this.cachedVersionId=V,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=r,e.SENTINEL=new r(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,M(e.SENTINEL,0);class d{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(R,F,V,K,G){return this.root===e.SENTINEL?[]:g(this,R,F,V,K,G)}search(R,F,V){return this.root===e.SENTINEL?[]:m(this,R,F,V)}collectNodesFromOwner(R){return h(this,R)}collectNodesPostOrder(){return _(this)}insert(R){b(this,R),this._normalizeDeltaIfNecessary()}delete(R){L(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,F){const V=R;let K=0;for(;R!==this.root;)R===R.parent.right&&(K+=R.parent.delta),R=R.parent;const G=V.start+K,J=V.end+K;V.setCachedOffsets(G,J,F)}acceptReplace(R,F,V,K){const G=t(this,R,R+F);for(let J=0,se=G.length;J<se;J++){const ie=G[J];L(this,ie)}this._normalizeDeltaIfNecessary(),o(this,R,R+F,V),this._normalizeDeltaIfNecessary();for(let J=0,se=G.length;J<se;J++){const ie=G[J];ie.start=ie.cachedAbsoluteStart,ie.end=ie.cachedAbsoluteEnd,n(ie,R,R+F,V,K),ie.maxEnd=ie.end,b(this,ie)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,s(this))}}e.IntervalTree=d;function s(W){let R=W.root,F=0;for(;R!==e.SENTINEL;){if(R.left!==e.SENTINEL&&!k(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!k(R.right)){F+=R.delta,R=R.right;continue}R.start=F+R.start,R.end=F+R.end,R.delta=0,A(R),w(R,!0),w(R.left,!1),w(R.right,!1),R===R.parent.right&&(F-=R.parent.delta),R=R.parent}w(W.root,!1)}function i(W,R,F,V){return W<F?!0:W>F||V===1?!1:V===2?!0:R}function n(W,R,F,V,K){const G=p(W),J=G===0||G===2,se=G===1||G===2,ie=F-R,ae=V,X=Math.min(ie,ae),U=W.start;let P=!1;const x=W.end;let H=!1;R<=U&&x<=F&&u(W)&&(W.start=R,P=!0,W.end=R,H=!0);{const q=K?1:ie>0?2:0;!P&&i(U,J,R,q)&&(P=!0),!H&&i(x,se,R,q)&&(H=!0)}if(X>0&&!K){const q=ie>ae?2:0;!P&&i(U,J,R+X,q)&&(P=!0),!H&&i(x,se,R+X,q)&&(H=!0)}{const q=K?1:0;!P&&i(U,J,F,q)&&(W.start=R+ae,P=!0),!H&&i(x,se,F,q)&&(W.end=R+ae,H=!0)}const z=ae-ie;P||(W.start=Math.max(0,U+z)),H||(W.end=Math.max(0,x+z)),W.start>W.end&&(W.end=W.start)}e.nodeAcceptEdit=n;function t(W,R,F){let V=W.root,K=0,G=0,J=0,se=0,ie=[],ae=0;for(;V!==e.SENTINEL;){if(k(V)){w(V.left,!1),w(V.right,!1),V===V.parent.right&&(K-=V.parent.delta),V=V.parent;continue}if(!k(V.left)){if(G=K+V.maxEnd,G<R){w(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(J=K+V.start,J>F){w(V,!0);continue}if(se=K+V.end,se>=R&&(V.setCachedOffsets(J,se,0),ie[ae++]=V),w(V,!0),V.right!==e.SENTINEL&&!k(V.right)){K+=V.delta,V=V.right;continue}}return w(W.root,!1),ie}function o(W,R,F,V){let K=W.root,G=0,J=0,se=0;const ie=V-(F-R);for(;K!==e.SENTINEL;){if(k(K)){w(K.left,!1),w(K.right,!1),K===K.parent.right&&(G-=K.parent.delta),A(K),K=K.parent;continue}if(!k(K.left)){if(J=G+K.maxEnd,J<R){w(K,!0);continue}if(K.left!==e.SENTINEL){K=K.left;continue}}if(se=G+K.start,se>F){K.start+=ie,K.end+=ie,K.delta+=ie,(K.delta<-1073741824||K.delta>1073741824)&&(W.requestNormalizeDelta=!0),w(K,!0);continue}if(w(K,!0),K.right!==e.SENTINEL&&!k(K.right)){G+=K.delta,K=K.right;continue}}w(W.root,!1)}function h(W,R){let F=W.root,V=[],K=0;for(;F!==e.SENTINEL;){if(k(F)){w(F.left,!1),w(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!k(F.left)){F=F.left;continue}if(F.ownerId===R&&(V[K++]=F),w(F,!0),F.right!==e.SENTINEL&&!k(F.right)){F=F.right;continue}}return w(W.root,!1),V}function _(W){let R=W.root,F=[],V=0;for(;R!==e.SENTINEL;){if(k(R)){w(R.left,!1),w(R.right,!1),R=R.parent;continue}if(R.left!==e.SENTINEL&&!k(R.left)){R=R.left;continue}if(R.right!==e.SENTINEL&&!k(R.right)){R=R.right;continue}F[V++]=R,w(R,!0)}return w(W.root,!1),F}function m(W,R,F,V){let K=W.root,G=0,J=0,se=0,ie=[],ae=0;for(;K!==e.SENTINEL;){if(k(K)){w(K.left,!1),w(K.right,!1),K===K.parent.right&&(G-=K.parent.delta),K=K.parent;continue}if(K.left!==e.SENTINEL&&!k(K.left)){K=K.left;continue}J=G+K.start,se=G+K.end,K.setCachedOffsets(J,se,V);let X=!0;if(R&&K.ownerId&&K.ownerId!==R&&(X=!1),F&&S(K)&&(X=!1),X&&(ie[ae++]=K),w(K,!0),K.right!==e.SENTINEL&&!k(K.right)){G+=K.delta,K=K.right;continue}}return w(W.root,!1),ie}function g(W,R,F,V,K,G){let J=W.root,se=0,ie=0,ae=0,X=0,U=[],P=0;for(;J!==e.SENTINEL;){if(k(J)){w(J.left,!1),w(J.right,!1),J===J.parent.right&&(se-=J.parent.delta),J=J.parent;continue}if(!k(J.left)){if(ie=se+J.maxEnd,ie<R){w(J,!0);continue}if(J.left!==e.SENTINEL){J=J.left;continue}}if(ae=se+J.start,ae>F){w(J,!0);continue}if(X=se+J.end,X>=R){J.setCachedOffsets(ae,X,G);let x=!0;V&&J.ownerId&&J.ownerId!==V&&(x=!1),K&&S(J)&&(x=!1),x&&(U[P++]=J)}if(w(J,!0),J.right!==e.SENTINEL&&!k(J.right)){se+=J.delta,J=J.right;continue}}return w(W.root,!1),U}function b(W,R){if(W.root===e.SENTINEL)return R.parent=e.SENTINEL,R.left=e.SENTINEL,R.right=e.SENTINEL,M(R,0),W.root=R,W.root;y(W,R),B(R.parent);let F=R;for(;F!==W.root&&C(F.parent)===1;)if(F.parent===F.parent.parent.left){const V=F.parent.parent.right;C(V)===1?(M(F.parent,0),M(V,0),M(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,I(W,F)),M(F.parent,0),M(F.parent.parent,1),T(W,F.parent.parent))}else{const V=F.parent.parent.left;C(V)===1?(M(F.parent,0),M(V,0),M(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,T(W,F)),M(F.parent,0),M(F.parent.parent,1),I(W,F.parent.parent))}return M(W.root,0),R}function y(W,R){let F=0,V=W.root;const K=R.start,G=R.end;for(;;)if(E(K,G,V.start+F,V.end+F)<0)if(V.left===e.SENTINEL){R.start-=F,R.end-=F,R.maxEnd-=F,V.left=R;break}else V=V.left;else if(V.right===e.SENTINEL){R.start-=F+V.delta,R.end-=F+V.delta,R.maxEnd-=F+V.delta,V.right=R;break}else F+=V.delta,V=V.right;R.parent=V,R.left=e.SENTINEL,R.right=e.SENTINEL,M(R,1)}function L(W,R){let F,V;if(R.left===e.SENTINEL?(F=R.right,V=R,F.delta+=R.delta,(F.delta<-1073741824||F.delta>1073741824)&&(W.requestNormalizeDelta=!0),F.start+=R.delta,F.end+=R.delta):R.right===e.SENTINEL?(F=R.left,V=R):(V=D(R.right),F=V.right,F.start+=V.delta,F.end+=V.delta,F.delta+=V.delta,(F.delta<-1073741824||F.delta>1073741824)&&(W.requestNormalizeDelta=!0),V.start+=R.delta,V.end+=R.delta,V.delta=R.delta,(V.delta<-1073741824||V.delta>1073741824)&&(W.requestNormalizeDelta=!0)),V===W.root){W.root=F,M(F,0),R.detach(),N(),A(F),W.root.parent=e.SENTINEL;return}let K=C(V)===1;if(V===V.parent.left?V.parent.left=F:V.parent.right=F,V===R?F.parent=V.parent:(V.parent===R?F.parent=V:F.parent=V.parent,V.left=R.left,V.right=R.right,V.parent=R.parent,M(V,C(R)),R===W.root?W.root=V:R===R.parent.left?R.parent.left=V:R.parent.right=V,V.left!==e.SENTINEL&&(V.left.parent=V),V.right!==e.SENTINEL&&(V.right.parent=V)),R.detach(),K){B(F.parent),V!==R&&(B(V),B(V.parent)),N();return}B(F),B(F.parent),V!==R&&(B(V),B(V.parent));let G;for(;F!==W.root&&C(F)===0;)F===F.parent.left?(G=F.parent.right,C(G)===1&&(M(G,0),M(F.parent,1),I(W,F.parent),G=F.parent.right),C(G.left)===0&&C(G.right)===0?(M(G,1),F=F.parent):(C(G.right)===0&&(M(G.left,0),M(G,1),T(W,G),G=F.parent.right),M(G,C(F.parent)),M(F.parent,0),M(G.right,0),I(W,F.parent),F=W.root)):(G=F.parent.left,C(G)===1&&(M(G,0),M(F.parent,1),T(W,F.parent),G=F.parent.left),C(G.left)===0&&C(G.right)===0?(M(G,1),F=F.parent):(C(G.left)===0&&(M(G.right,0),M(G,1),I(W,G),G=F.parent.left),M(G,C(F.parent)),M(F.parent,0),M(G.left,0),T(W,F.parent),F=W.root));M(F,0),N()}function D(W){for(;W.left!==e.SENTINEL;)W=W.left;return W}function N(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function I(W,R){const F=R.right;F.delta+=R.delta,(F.delta<-1073741824||F.delta>1073741824)&&(W.requestNormalizeDelta=!0),F.start+=R.delta,F.end+=R.delta,R.right=F.left,F.left!==e.SENTINEL&&(F.left.parent=R),F.parent=R.parent,R.parent===e.SENTINEL?W.root=F:R===R.parent.left?R.parent.left=F:R.parent.right=F,F.left=R,R.parent=F,A(R),A(F)}function T(W,R){const F=R.left;R.delta-=F.delta,(R.delta<-1073741824||R.delta>1073741824)&&(W.requestNormalizeDelta=!0),R.start-=F.delta,R.end-=F.delta,R.left=F.right,F.right!==e.SENTINEL&&(F.right.parent=R),F.parent=R.parent,R.parent===e.SENTINEL?W.root=F:R===R.parent.right?R.parent.right=F:R.parent.left=F,F.right=R,R.parent=F,A(R),A(F)}function O(W){let R=W.end;if(W.left!==e.SENTINEL){const F=W.left.maxEnd;F>R&&(R=F)}if(W.right!==e.SENTINEL){const F=W.right.maxEnd+W.delta;F>R&&(R=F)}return R}function A(W){W.maxEnd=O(W)}e.recomputeMaxEnd=A;function B(W){for(;W!==e.SENTINEL;){const R=O(W);if(W.maxEnd===R)return;W.maxEnd=R,W=W.parent}}function E(W,R,F,V){return W===F?R-V:W-F}e.intervalCompare=E}),define(ee[367],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class C{constructor(d,s){this.piece=d,this.color=s,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return M(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=C,e.SENTINEL=new C(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function M(r){for(;r.left!==e.SENTINEL;)r=r.left;return r}e.leftest=M;function k(r){for(;r.right!==e.SENTINEL;)r=r.right;return r}e.righttest=k;function w(r){return r===e.SENTINEL?0:r.size_left+r.piece.length+w(r.right)}e.calculateSize=w;function S(r){return r===e.SENTINEL?0:r.lf_left+r.piece.lineFeedCnt+S(r.right)}e.calculateLF=S;function v(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=v;function l(r,d){let s=d.right;s.size_left+=d.size_left+(d.piece?d.piece.length:0),s.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=s.left,s.left!==e.SENTINEL&&(s.left.parent=d),s.parent=d.parent,d.parent===e.SENTINEL?r.root=s:d.parent.left===d?d.parent.left=s:d.parent.right=s,s.left=d,d.parent=s}e.leftRotate=l;function f(r,d){let s=d.left;d.left=s.right,s.right!==e.SENTINEL&&(s.right.parent=d),s.parent=d.parent,d.size_left-=s.size_left+(s.piece?s.piece.length:0),d.lf_left-=s.lf_left+(s.piece?s.piece.lineFeedCnt:0),d.parent===e.SENTINEL?r.root=s:d===d.parent.right?d.parent.right=s:d.parent.left=s,s.right=d,d.parent=s}e.rightRotate=f;function p(r,d){let s,i;if(d.left===e.SENTINEL?(i=d,s=i.right):d.right===e.SENTINEL?(i=d,s=i.left):(i=M(d.right),s=i.right),i===r.root){r.root=s,s.color=0,d.detach(),v(),r.root.parent=e.SENTINEL;return}let n=i.color===1;if(i===i.parent.left?i.parent.left=s:i.parent.right=s,i===d?(s.parent=i.parent,a(r,s)):(i.parent===d?s.parent=i:s.parent=i.parent,a(r,s),i.left=d.left,i.right=d.right,i.parent=d.parent,i.color=d.color,d===r.root?r.root=i:d===d.parent.left?d.parent.left=i:d.parent.right=i,i.left!==e.SENTINEL&&(i.left.parent=i),i.right!==e.SENTINEL&&(i.right.parent=i),i.size_left=d.size_left,i.lf_left=d.lf_left,a(r,i)),d.detach(),s.parent.left===s){let o=w(s),h=S(s);if(o!==s.parent.size_left||h!==s.parent.lf_left){let _=o-s.parent.size_left,m=h-s.parent.lf_left;s.parent.size_left=o,s.parent.lf_left=h,u(r,s.parent,_,m)}}if(a(r,s.parent),n){v();return}let t;for(;s!==r.root&&s.color===0;)s===s.parent.left?(t=s.parent.right,t.color===1&&(t.color=0,s.parent.color=1,l(r,s.parent),t=s.parent.right),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.right.color===0&&(t.left.color=0,t.color=1,f(r,t),t=s.parent.right),t.color=s.parent.color,s.parent.color=0,t.right.color=0,l(r,s.parent),s=r.root)):(t=s.parent.left,t.color===1&&(t.color=0,s.parent.color=1,f(r,s.parent),t=s.parent.left),t.left.color===0&&t.right.color===0?(t.color=1,s=s.parent):(t.left.color===0&&(t.right.color=0,t.color=1,l(r,t),t=s.parent.left),t.color=s.parent.color,s.parent.color=0,t.left.color=0,f(r,s.parent),s=r.root));s.color=0,v()}e.rbDelete=p;function c(r,d){for(a(r,d);d!==r.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const s=d.parent.parent.right;s.color===1?(d.parent.color=0,s.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,l(r,d)),d.parent.color=0,d.parent.parent.color=1,f(r,d.parent.parent))}else{const s=d.parent.parent.left;s.color===1?(d.parent.color=0,s.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,f(r,d)),d.parent.color=0,d.parent.parent.color=1,l(r,d.parent.parent))}r.root.color=0}e.fixInsert=c;function u(r,d,s,i){for(;d!==r.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=s,d.parent.lf_left+=i),d=d.parent}e.updateTreeMetadata=u;function a(r,d){let s=0,i=0;if(d!==r.root){if(s===0){for(;d!==r.root&&d===d.parent.right;)d=d.parent;if(d===r.root)return;d=d.parent,s=w(d.left)-d.size_left,i=S(d.left)-d.lf_left,d.size_left+=s,d.lf_left+=i}for(;d!==r.root&&(s!==0||i!==0);)d.parent.left===d&&(d.parent.size_left+=s,d.parent.lf_left+=i),d=d.parent}}e.recomputeTreeMetadata=a}),define(ee[216],te([0,1,101,93]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(l){return l.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class w{constructor(f,p,c,u){this.oldPosition=f,this.oldText=p,this.newPosition=c,this.newText=u}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(f){return 4+2*f.length}static _writeString(f,p,c){const u=p.length;C.writeUInt32BE(f,u,c),c+=4;for(let a=0;a<u;a++)C.writeUInt16LE(f,p.charCodeAt(a),c),c+=2;return c}static _readString(f,p){const c=C.readUInt32BE(f,p);return p+=4,M.decodeUTF16LE(f,p,c)}writeSize(){return 4+4+w._writeStringSize(this.oldText)+w._writeStringSize(this.newText)}write(f,p){return C.writeUInt32BE(f,this.oldPosition,p),p+=4,C.writeUInt32BE(f,this.newPosition,p),p+=4,p=w._writeString(f,this.oldText,p),p=w._writeString(f,this.newText,p),p}static read(f,p,c){const u=C.readUInt32BE(f,p);p+=4;const a=C.readUInt32BE(f,p);p+=4;const r=w._readString(f,p);p+=w._writeStringSize(r);const d=w._readString(f,p);return p+=w._writeStringSize(d),c.push(new w(u,r,a,d)),p}}e.TextChange=w;function S(l,f){return l===null||l.length===0?f:new v(l,f).compress()}e.compressConsecutiveTextChanges=S;class v{constructor(f,p){this._prevEdits=f,this._currEdits=p,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let f=0,p=0,c=this._getPrev(f),u=this._getCurr(p);for(;f<this._prevLen||p<this._currLen;){if(c===null){this._acceptCurr(u),u=this._getCurr(++p);continue}if(u===null){this._acceptPrev(c),c=this._getPrev(++f);continue}if(u.oldEnd<=c.newPosition){this._acceptCurr(u),u=this._getCurr(++p);continue}if(c.newEnd<=u.oldPosition){this._acceptPrev(c),c=this._getPrev(++f);continue}if(u.oldPosition<c.newPosition){const[i,n]=v._splitCurr(u,c.newPosition-u.oldPosition);this._acceptCurr(i),u=n;continue}if(c.newPosition<u.oldPosition){const[i,n]=v._splitPrev(c,u.oldPosition-c.newPosition);this._acceptPrev(i),c=n;continue}let d,s;if(u.oldEnd===c.newEnd)d=c,s=u,c=this._getPrev(++f),u=this._getCurr(++p);else if(u.oldEnd<c.newEnd){const[i,n]=v._splitPrev(c,u.oldLength);d=i,s=u,c=n,u=this._getCurr(++p)}else{const[i,n]=v._splitCurr(u,c.newLength);d=c,s=i,c=this._getPrev(++f),u=n}this._result[this._resultLen++]=new w(d.oldPosition,d.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const a=v._merge(this._result);return v._removeNoOps(a)}_acceptCurr(f){this._result[this._resultLen++]=v._rebaseCurr(this._prevDeltaOffset,f),this._currDeltaOffset+=f.newLength-f.oldLength}_getCurr(f){return f<this._currLen?this._currEdits[f]:null}_acceptPrev(f){this._result[this._resultLen++]=v._rebasePrev(this._currDeltaOffset,f),this._prevDeltaOffset+=f.newLength-f.oldLength}_getPrev(f){return f<this._prevLen?this._prevEdits[f]:null}static _rebaseCurr(f,p){return new w(p.oldPosition-f,p.oldText,p.newPosition,p.newText)}static _rebasePrev(f,p){return new w(p.oldPosition,p.oldText,p.newPosition+f,p.newText)}static _splitPrev(f,p){const c=f.newText.substr(0,p),u=f.newText.substr(p);return[new w(f.oldPosition,f.oldText,f.newPosition,c),new w(f.oldEnd,"",f.newPosition+p,u)]}static _splitCurr(f,p){const c=f.oldText.substr(0,p),u=f.oldText.substr(p);return[new w(f.oldPosition,c,f.newPosition,f.newText),new w(f.oldPosition+p,u,f.newEnd,"")]}static _merge(f){if(f.length===0)return f;let p=[],c=0,u=f[0];for(let a=1;a<f.length;a++){const r=f[a];u.oldEnd===r.oldPosition?u=new w(u.oldPosition,u.oldText+r.oldText,u.newPosition,u.newText+r.newText):(p[c++]=u,u=r)}return p[c++]=u,p}static _removeNoOps(f){if(f.length===0)return f;let p=[],c=0;for(let u=0;u<f.length;u++){const a=f[u];a.oldText!==a.newText&&(p[c++]=a)}return p}}}),define(ee[368],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.ModelRawFlush=void 0;class C{constructor(){this.changeType=1}}e.ModelRawFlush=C;class M{constructor(p,c){this.changeType=2,this.lineNumber=p,this.detail=c}}e.ModelRawLineChanged=M;class k{constructor(p,c){this.changeType=3,this.fromLineNumber=p,this.toLineNumber=c}}e.ModelRawLinesDeleted=k;class w{constructor(p,c,u){this.changeType=4,this.fromLineNumber=p,this.toLineNumber=c,this.detail=u}}e.ModelRawLinesInserted=w;class S{constructor(){this.changeType=5}}e.ModelRawEOLChanged=S;class v{constructor(p,c,u,a){this.changes=p,this.versionId=c,this.isUndoing=u,this.isRedoing=a,this.resultingSelection=null}containsEvent(p){for(let c=0,u=this.changes.length;c<u;c++)if(this.changes[c].changeType===p)return!0;return!1}static merge(p,c){const u=[].concat(p.changes).concat(c.changes),a=c.versionId,r=p.isUndoing||c.isUndoing,d=p.isRedoing||c.isRedoing;return new v(u,a,r,d)}}e.ModelRawContentChangedEvent=v;class l{constructor(p,c){this.rawContentChangedEvent=p,this.contentChangedEvent=c}merge(p){const c=v.merge(this.rawContentChangedEvent,p.rawContentChangedEvent),u=l._mergeChangeEvents(this.contentChangedEvent,p.contentChangedEvent);return new l(c,u)}static _mergeChangeEvents(p,c){const u=[].concat(p.changes).concat(c.changes),a=c.eol,r=c.versionId,d=p.isUndoing||c.isUndoing,s=p.isRedoing||c.isRedoing,i=p.isFlush||c.isFlush;return{changes:u,eol:a,versionId:r,isUndoing:d,isRedoing:s,isFlush:i}}}e.InternalModelContentChangeEvent=l}),define(ee[165],te([0,1,8,105,13,3,53]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const v=999;class l{constructor(t,o,h,_){this.searchString=t,this.isRegex=o,this.matchCase=h,this.wordSeparators=_}parseSearchRequest(){if(this.searchString==="")return null;let t;this.isRegex?t=f(this.searchString):t=this.searchString.indexOf(`
`)>=0;let o=null;try{o=C.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:t,global:!0,unicode:!0})}catch(_){return null}if(!o)return null;let h=!this.isRegex&&!t;return h&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(h=this.matchCase),new p(o,this.wordSeparators?M.getMapForWordSeparators(this.wordSeparators):null,h?this.searchString:null)}}e.SearchParams=l;function f(n){if(!n||n.length===0)return!1;for(let t=0,o=n.length;t<o;t++)if(n.charCodeAt(t)===92){if(t++,t>=o)break;const _=n.charCodeAt(t);if(_===110||_===114||_===87||_===119)return!0}return!1}e.isMultilineRegexSource=f;class p{constructor(t,o,h){this.regex=t,this.wordSeparators=o,this.simpleSearch=h}}e.SearchData=p;function c(n,t,o){if(!o)return new S.FindMatch(n,null);let h=[];for(let _=0,m=t.length;_<m;_++)h[_]=t[_];return new S.FindMatch(n,h)}e.createFindMatch=c;class u{constructor(t){let o=[],h=0;for(let _=0,m=t.length;_<m;_++)t.charCodeAt(_)===10&&(o[h++]=_);this._lineFeedsOffsets=o}findLineFeedCountBeforeOffset(t){const o=this._lineFeedsOffsets;let h=0,_=o.length-1;if(_===-1||t<=o[0])return 0;for(;h<_;){const m=h+((_-h)/2>>0);o[m]>=t?_=m-1:o[m+1]>=t?(h=m,_=m):h=m+1}return h+1}}class a{static findMatches(t,o,h,_,m){const g=o.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(t,h,new i(g.wordSeparators,g.regex),_,m):this._doFindMatchesLineByLine(t,h,g,_,m):[]}static _getMultilineMatchRange(t,o,h,_,m,g){let b,y=0;_?(y=_.findLineFeedCountBeforeOffset(m),b=o+m+y):b=o+m;let L;if(_){let T=_.findLineFeedCountBeforeOffset(m+g.length)-y;L=b+g.length+T}else L=b+g.length;const D=t.getPositionAt(b),N=t.getPositionAt(L);return new w.Range(D.lineNumber,D.column,N.lineNumber,N.column)}static _doFindMatchesMultiline(t,o,h,_,m){const g=t.getOffsetAt(o.getStartPosition()),b=t.getValueInRange(o,1),y=t.getEOL()===`\r
`?new u(b):null,L=[];let D=0,N;for(h.reset(0);N=h.next(b);)if(L[D++]=c(this._getMultilineMatchRange(t,g,b,y,N.index,N[0]),N,_),D>=m)return L;return L}static _doFindMatchesLineByLine(t,o,h,_,m){const g=[];let b=0;if(o.startLineNumber===o.endLineNumber){const L=t.getLineContent(o.startLineNumber).substring(o.startColumn-1,o.endColumn-1);return b=this._findMatchesInLine(h,L,o.startLineNumber,o.startColumn-1,b,g,_,m),g}const y=t.getLineContent(o.startLineNumber).substring(o.startColumn-1);b=this._findMatchesInLine(h,y,o.startLineNumber,o.startColumn-1,b,g,_,m);for(let L=o.startLineNumber+1;L<o.endLineNumber&&b<m;L++)b=this._findMatchesInLine(h,t.getLineContent(L),L,0,b,g,_,m);if(b<m){const L=t.getLineContent(o.endLineNumber).substring(0,o.endColumn-1);b=this._findMatchesInLine(h,L,o.endLineNumber,0,b,g,_,m)}return g}static _findMatchesInLine(t,o,h,_,m,g,b,y){const L=t.wordSeparators;if(!b&&t.simpleSearch){const I=t.simpleSearch,T=I.length,O=o.length;let A=-T;for(;(A=o.indexOf(I,A+T))!==-1;)if((!L||s(L,o,O,A,T))&&(g[m++]=new S.FindMatch(new w.Range(h,A+1+_,h,A+1+T+_),null),m>=y))return m;return m}const D=new i(t.wordSeparators,t.regex);let N;D.reset(0);do if(N=D.next(o),N&&(g[m++]=c(new w.Range(h,N.index+1+_,h,N.index+1+N[0].length+_),N,b),m>=y))return m;while(N);return m}static findNextMatch(t,o,h,_){const m=o.parseSearchRequest();if(!m)return null;const g=new i(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindNextMatchMultiline(t,h,g,_):this._doFindNextMatchLineByLine(t,h,g,_)}static _doFindNextMatchMultiline(t,o,h,_){const m=new k.Position(o.lineNumber,1),g=t.getOffsetAt(m),b=t.getLineCount(),y=t.getValueInRange(new w.Range(m.lineNumber,m.column,b,t.getLineMaxColumn(b)),1),L=t.getEOL()===`\r
`?new u(y):null;h.reset(o.column-1);let D=h.next(y);return D?c(this._getMultilineMatchRange(t,g,y,L,D.index,D[0]),D,_):o.lineNumber!==1||o.column!==1?this._doFindNextMatchMultiline(t,new k.Position(1,1),h,_):null}static _doFindNextMatchLineByLine(t,o,h,_){const m=t.getLineCount(),g=o.lineNumber,b=t.getLineContent(g),y=this._findFirstMatchInLine(h,b,g,o.column,_);if(y)return y;for(let L=1;L<=m;L++){const D=(g+L-1)%m,N=t.getLineContent(D+1),I=this._findFirstMatchInLine(h,N,D+1,1,_);if(I)return I}return null}static _findFirstMatchInLine(t,o,h,_,m){t.reset(_-1);const g=t.next(o);return g?c(new w.Range(h,g.index+1,h,g.index+1+g[0].length),g,m):null}static findPreviousMatch(t,o,h,_){const m=o.parseSearchRequest();if(!m)return null;const g=new i(m.wordSeparators,m.regex);return m.regex.multiline?this._doFindPreviousMatchMultiline(t,h,g,_):this._doFindPreviousMatchLineByLine(t,h,g,_)}static _doFindPreviousMatchMultiline(t,o,h,_){const m=this._doFindMatchesMultiline(t,new w.Range(1,1,o.lineNumber,o.column),h,_,10*v);if(m.length>0)return m[m.length-1];const g=t.getLineCount();return o.lineNumber!==g||o.column!==t.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(t,new k.Position(g,t.getLineMaxColumn(g)),h,_):null}static _doFindPreviousMatchLineByLine(t,o,h,_){const m=t.getLineCount(),g=o.lineNumber,b=t.getLineContent(g).substring(0,o.column-1),y=this._findLastMatchInLine(h,b,g,_);if(y)return y;for(let L=1;L<=m;L++){const D=(m+g-L-1)%m,N=t.getLineContent(D+1),I=this._findLastMatchInLine(h,N,D+1,_);if(I)return I}return null}static _findLastMatchInLine(t,o,h,_){let m=null,g;for(t.reset(0);g=t.next(o);)m=c(new w.Range(h,g.index+1,h,g.index+1+g[0].length),g,_);return m}}e.TextModelSearch=a;function r(n,t,o,h,_){if(h===0)return!0;const m=t.charCodeAt(h-1);if(n.get(m)!==0||m===13||m===10)return!0;if(_>0){const g=t.charCodeAt(h);if(n.get(g)!==0)return!0}return!1}function d(n,t,o,h,_){if(h+_===o)return!0;const m=t.charCodeAt(h+_);if(n.get(m)!==0||m===13||m===10)return!0;if(_>0){const g=t.charCodeAt(h+_-1);if(n.get(g)!==0)return!0}return!1}function s(n,t,o,h,_){return r(n,t,o,h,_)&&d(n,t,o,h,_)}e.isValidMatch=s;class i{constructor(t,o){this._wordSeparators=t,this._searchRegex=o,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const o=t.length;let h;do{if(this._prevMatchStartIndex+this._prevMatchLength===o||(h=this._searchRegex.exec(t),!h))return null;const _=h.index,m=h[0].length;if(_===this._prevMatchStartIndex&&m===this._prevMatchLength){if(m===0){C.getNextCodePoint(t,o,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=_,this._prevMatchLength=m,!this._wordSeparators||s(this._wordSeparators,t,o,_,m))return h}while(h);return null}}e.Searcher=i}),define(ee[217],te([0,1,13,3,53,367,165]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function v(s){let i;return s[s.length-1]<65536?i=new Uint16Array(s.length):i=new Uint32Array(s.length),i.set(s,0),i}e.createUintArray=v;class l{constructor(i,n,t,o,h){this.lineStarts=i,this.cr=n,this.lf=t,this.crlf=o,this.isBasicASCII=h}}e.LineStarts=l;function f(s,i=!0){let n=[0],t=1;for(let o=0,h=s.length;o<h;o++){const _=s.charCodeAt(o);_===13?o+1<h&&s.charCodeAt(o+1)===10?(n[t++]=o+2,o++):n[t++]=o+1:_===10&&(n[t++]=o+1)}return i?v(n):n}e.createLineStartsFast=f;function p(s,i){s.length=0,s[0]=0;let n=1,t=0,o=0,h=0,_=!0;for(let g=0,b=i.length;g<b;g++){const y=i.charCodeAt(g);y===13?g+1<b&&i.charCodeAt(g+1)===10?(h++,s[n++]=g+2,g++):(t++,s[n++]=g+1):y===10?(o++,s[n++]=g+1):_&&y!==9&&(y<32||y>126)&&(_=!1)}const m=new l(v(s),t,o,h,_);return s.length=0,m}e.createLineStarts=p;class c{constructor(i,n,t,o,h){this.bufferIndex=i,this.start=n,this.end=t,this.lineFeedCnt=o,this.length=h}}e.Piece=c;class u{constructor(i,n){this.buffer=i,this.lineStarts=n}}e.StringBuffer=u;class a{constructor(i,n){this._pieces=[],this._tree=i,this._BOM=n,this._index=0,i.root!==w.SENTINEL&&i.iterate(i.root,t=>(t!==w.SENTINEL&&this._pieces.push(t.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class r{constructor(i){this._limit=i,this._cache=[]}get(i){for(let n=this._cache.length-1;n>=0;n--){let t=this._cache[n];if(t.nodeStartOffset<=i&&t.nodeStartOffset+t.node.piece.length>=i)return t}return null}get2(i){for(let n=this._cache.length-1;n>=0;n--){let t=this._cache[n];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<i&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=i)return t}return null}set(i){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(i)}validate(i){let n=!1,t=this._cache;for(let o=0;o<t.length;o++){let h=t[o];if(h.node.parent===null||h.nodeStartOffset>=i){t[o]=null,n=!0;continue}}if(n){let o=[];for(const h of t)h!==null&&o.push(h);this._cache=o}}}class d{constructor(i,n,t){this.create(i,n,t)}create(i,n,t){this._buffers=[new u("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=w.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=n,this._EOLLength=n.length,this._EOLNormalized=t;let o=null;for(let h=0,_=i.length;h<_;h++)if(i[h].buffer.length>0){i[h].lineStarts||(i[h].lineStarts=f(i[h].buffer));let m=new c(h+1,{line:0,column:0},{line:i[h].lineStarts.length-1,column:i[h].buffer.length-i[h].lineStarts[i[h].lineStarts.length-1]},i[h].lineStarts.length-1,i[h].buffer.length);this._buffers.push(i[h]),o=this.rbInsertRight(o,m)}this._searchCache=new r(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(i){let n=e.AverageBufferSize,t=n-Math.floor(n/3),o=t*2,h="",_=0,m=[];if(this.iterate(this.root,g=>{let b=this.getNodeContent(g),y=b.length;if(_<=t||_+y<o)return h+=b,_+=y,!0;let L=h.replace(/\r\n|\r|\n/g,i);return m.push(new u(L,f(L))),h=b,_=y,!0}),_>0){let g=h.replace(/\r\n|\r|\n/g,i);m.push(new u(g,f(g)))}this.create(m,i,!0)}getEOL(){return this._EOL}setEOL(i){this._EOL=i,this._EOLLength=this._EOL.length,this.normalizeEOL(i)}createSnapshot(i){return new a(this,i)}getOffsetAt(i,n){let t=0,o=this.root;for(;o!==w.SENTINEL;)if(o.left!==w.SENTINEL&&o.lf_left+1>=i)o=o.left;else{if(o.lf_left+o.piece.lineFeedCnt+1>=i)return t+=o.size_left,t+=this.getAccumulatedValue(o,i-o.lf_left-2)+n-1;i-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right}return t}getPositionAt(i){i=Math.floor(i),i=Math.max(0,i);let n=this.root,t=0,o=i;for(;n!==w.SENTINEL;)if(n.size_left!==0&&n.size_left>=i)n=n.left;else if(n.size_left+n.piece.length>=i){let h=this.getIndexOf(n,i-n.size_left);if(t+=n.lf_left+h.index,h.index===0){let _=this.getOffsetAt(t+1,1),m=o-_;return new C.Position(t+1,m+1)}return new C.Position(t+1,h.remainder+1)}else if(i-=n.size_left+n.piece.length,t+=n.lf_left+n.piece.lineFeedCnt,n.right===w.SENTINEL){let h=this.getOffsetAt(t+1,1),_=o-i-h;return new C.Position(t+1,_+1)}else n=n.right;return new C.Position(1,1)}getValueInRange(i,n){if(i.startLineNumber===i.endLineNumber&&i.startColumn===i.endColumn)return"";let t=this.nodeAt2(i.startLineNumber,i.startColumn),o=this.nodeAt2(i.endLineNumber,i.endColumn),h=this.getValueInRange2(t,o);return n?n!==this._EOL||!this._EOLNormalized?h.replace(/\r\n|\r|\n/g,n):n===this.getEOL()&&this._EOLNormalized?h:h.replace(/\r\n|\r|\n/g,n):h}getValueInRange2(i,n){if(i.node===n.node){let m=i.node,g=this._buffers[m.piece.bufferIndex].buffer,b=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return g.substring(b+i.remainder,b+n.remainder)}let t=i.node,o=this._buffers[t.piece.bufferIndex].buffer,h=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start),_=o.substring(h+i.remainder,h+t.piece.length);for(t=t.next();t!==w.SENTINEL;){let m=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(t===n.node){_+=m.substring(g,g+n.remainder);break}else _+=m.substr(g,t.piece.length);t=t.next()}return _}getLinesContent(){let i=[],n=0,t="",o=!1;return this.iterate(this.root,h=>{if(h===w.SENTINEL)return!0;const _=h.piece;let m=_.length;if(m===0)return!0;const g=this._buffers[_.bufferIndex].buffer,b=this._buffers[_.bufferIndex].lineStarts,y=_.start.line,L=_.end.line;let D=b[y]+_.start.column;if(o&&(g.charCodeAt(D)===10&&(D++,m--),i[n++]=t,t="",o=!1,m===0))return!0;if(y===L)return!this._EOLNormalized&&g.charCodeAt(D+m-1)===13?(o=!0,t+=g.substr(D,m-1)):t+=g.substr(D,m),!0;t+=this._EOLNormalized?g.substring(D,Math.max(D,b[y+1]-this._EOLLength)):g.substring(D,b[y+1]).replace(/(\r\n|\r|\n)$/,""),i[n++]=t;for(let N=y+1;N<L;N++)t=this._EOLNormalized?g.substring(b[N],b[N+1]-this._EOLLength):g.substring(b[N],b[N+1]).replace(/(\r\n|\r|\n)$/,""),i[n++]=t;return!this._EOLNormalized&&g.charCodeAt(b[L]+_.end.column-1)===13?(o=!0,_.end.column===0?n--:t=g.substr(b[L],_.end.column-1)):t=g.substr(b[L],_.end.column),!0}),o&&(i[n++]=t,t=""),i[n++]=t,i}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(i){return this._lastVisitedLine.lineNumber===i?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=i,i===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(i):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(i,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(i).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(i){if(i.remainder===i.node.piece.length){let n=i.node.next();if(!n)return 0;let t=this._buffers[n.piece.bufferIndex],o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return t.buffer.charCodeAt(o)}else{let n=this._buffers[i.node.piece.bufferIndex],o=this.offsetInBuffer(i.node.piece.bufferIndex,i.node.piece.start)+i.remainder;return n.buffer.charCodeAt(o)}}getLineCharCode(i,n){let t=this.nodeAt2(i,n+1);return this._getCharCode(t)}getLineLength(i){if(i===this.getLineCount()){let n=this.getOffsetAt(i,1);return this.getLength()-n}return this.getOffsetAt(i+1,1)-this.getOffsetAt(i,1)-this._EOLLength}findMatchesInNode(i,n,t,o,h,_,m,g,b,y,L){let D=this._buffers[i.piece.bufferIndex],N=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),I=this.offsetInBuffer(i.piece.bufferIndex,h),T=this.offsetInBuffer(i.piece.bufferIndex,_),O,A={line:0,column:0},B,E;n._wordSeparators?(B=D.buffer.substring(I,T),E=W=>W+I,n.reset(0)):(B=D.buffer,E=W=>W,n.reset(I));do if(O=n.next(B),O){if(E(O.index)>=T)return y;this.positionInBuffer(i,E(O.index)-N,A);let W=this.getLineFeedCnt(i.piece.bufferIndex,h,A),R=A.line===h.line?A.column-h.column+o:A.column+1,F=R+O[0].length;if(L[y++]=S.createFindMatch(new M.Range(t+W,R,t+W,F),O,g),E(O.index)+O[0].length>=T||y>=b)return y}while(O);return y}findMatchesLineByLine(i,n,t,o){const h=[];let _=0;const m=new S.Searcher(n.wordSeparators,n.regex);let g=this.nodeAt2(i.startLineNumber,i.startColumn);if(g===null)return[];let b=this.nodeAt2(i.endLineNumber,i.endColumn);if(b===null)return[];let y=this.positionInBuffer(g.node,g.remainder),L=this.positionInBuffer(b.node,b.remainder);if(g.node===b.node)return this.findMatchesInNode(g.node,m,i.startLineNumber,i.startColumn,y,L,n,t,o,_,h),h;let D=i.startLineNumber,N=g.node;for(;N!==b.node;){let T=this.getLineFeedCnt(N.piece.bufferIndex,y,N.piece.end);if(T>=1){let A=this._buffers[N.piece.bufferIndex].lineStarts,B=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),E=A[y.line+T],W=D===i.startLineNumber?i.startColumn:1;if(_=this.findMatchesInNode(N,m,D,W,y,this.positionInBuffer(N,E-B),n,t,o,_,h),_>=o)return h;D+=T}let O=D===i.startLineNumber?i.startColumn-1:0;if(D===i.endLineNumber){const A=this.getLineContent(D).substring(O,i.endColumn-1);return _=this._findMatchesInLine(n,m,A,i.endLineNumber,O,_,h,t,o),h}if(_=this._findMatchesInLine(n,m,this.getLineContent(D).substr(O),D,O,_,h,t,o),_>=o)return h;D++,g=this.nodeAt2(D,1),N=g.node,y=this.positionInBuffer(g.node,g.remainder)}if(D===i.endLineNumber){let T=D===i.startLineNumber?i.startColumn-1:0;const O=this.getLineContent(D).substring(T,i.endColumn-1);return _=this._findMatchesInLine(n,m,O,i.endLineNumber,T,_,h,t,o),h}let I=D===i.startLineNumber?i.startColumn:1;return _=this.findMatchesInNode(b.node,m,D,I,y,L,n,t,o,_,h),h}_findMatchesInLine(i,n,t,o,h,_,m,g,b){const y=i.wordSeparators;if(!g&&i.simpleSearch){const D=i.simpleSearch,N=D.length,I=t.length;let T=-N;for(;(T=t.indexOf(D,T+N))!==-1;)if((!y||S.isValidMatch(y,t,I,T,N))&&(m[_++]=new k.FindMatch(new M.Range(o,T+1+h,o,T+1+N+h),null),_>=b))return _;return _}let L;n.reset(0);do if(L=n.next(t),L&&(m[_++]=S.createFindMatch(new M.Range(o,L.index+1+h,o,L.index+1+L[0].length+h),L,g),_>=b))return _;while(L);return _}insert(i,n,t=!1){if(this._EOLNormalized=this._EOLNormalized&&t,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==w.SENTINEL){let{node:o,remainder:h,nodeStartOffset:_}=this.nodeAt(i),m=o.piece,g=m.bufferIndex,b=this.positionInBuffer(o,h);if(o.piece.bufferIndex===0&&m.end.line===this._lastChangeBufferPos.line&&m.end.column===this._lastChangeBufferPos.column&&_+m.length===i&&n.length<e.AverageBufferSize){this.appendToNode(o,n),this.computeBufferMetadata();return}if(_===i)this.insertContentToNodeLeft(n,o),this._searchCache.validate(i);else if(_+o.piece.length>i){let y=[],L=new c(m.bufferIndex,b,m.end,this.getLineFeedCnt(m.bufferIndex,b,m.end),this.offsetInBuffer(g,m.end)-this.offsetInBuffer(g,b));if(this.shouldCheckCRLF()&&this.endWithCR(n)&&this.nodeCharCodeAt(o,h)===10){let T={line:L.start.line+1,column:0};L=new c(L.bufferIndex,T,L.end,this.getLineFeedCnt(L.bufferIndex,T,L.end),L.length-1),n+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(n))if(this.nodeCharCodeAt(o,h-1)===13){let T=this.positionInBuffer(o,h-1);this.deleteNodeTail(o,T),n="\r"+n,o.piece.length===0&&y.push(o)}else this.deleteNodeTail(o,b);else this.deleteNodeTail(o,b);let D=this.createNewPieces(n);L.length>0&&this.rbInsertRight(o,L);let N=o;for(let I=0;I<D.length;I++)N=this.rbInsertRight(N,D[I]);this.deleteNodes(y)}else this.insertContentToNodeRight(n,o)}else{let o=this.createNewPieces(n),h=this.rbInsertLeft(null,o[0]);for(let _=1;_<o.length;_++)h=this.rbInsertRight(h,o[_])}this.computeBufferMetadata()}delete(i,n){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(n<=0||this.root===w.SENTINEL)){let t=this.nodeAt(i),o=this.nodeAt(i+n),h=t.node,_=o.node;if(h===_){let D=this.positionInBuffer(h,t.remainder),N=this.positionInBuffer(h,o.remainder);if(t.nodeStartOffset===i){if(n===h.piece.length){let I=h.next();w.rbDelete(this,h),this.validateCRLFWithPrevNode(I),this.computeBufferMetadata();return}this.deleteNodeHead(h,N),this._searchCache.validate(i),this.validateCRLFWithPrevNode(h),this.computeBufferMetadata();return}if(t.nodeStartOffset+h.piece.length===i+n){this.deleteNodeTail(h,D),this.validateCRLFWithNextNode(h),this.computeBufferMetadata();return}this.shrinkNode(h,D,N),this.computeBufferMetadata();return}let m=[],g=this.positionInBuffer(h,t.remainder);this.deleteNodeTail(h,g),this._searchCache.validate(i),h.piece.length===0&&m.push(h);let b=this.positionInBuffer(_,o.remainder);this.deleteNodeHead(_,b),_.piece.length===0&&m.push(_);let y=h.next();for(let D=y;D!==w.SENTINEL&&D!==_;D=D.next())m.push(D);let L=h.piece.length===0?h.prev():h;this.deleteNodes(m),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}}insertContentToNodeLeft(i,n){let t=[];if(this.shouldCheckCRLF()&&this.endWithCR(i)&&this.startWithLF(n)){let _=n.piece,m={line:_.start.line+1,column:0},g=new c(_.bufferIndex,m,_.end,this.getLineFeedCnt(_.bufferIndex,m,_.end),_.length-1);n.piece=g,i+=`
`,w.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&t.push(n)}let o=this.createNewPieces(i),h=this.rbInsertLeft(n,o[o.length-1]);for(let _=o.length-2;_>=0;_--)h=this.rbInsertLeft(h,o[_]);this.validateCRLFWithPrevNode(h),this.deleteNodes(t)}insertContentToNodeRight(i,n){this.adjustCarriageReturnFromNext(i,n)&&(i+=`
`);let t=this.createNewPieces(i),o=this.rbInsertRight(n,t[0]),h=o;for(let _=1;_<t.length;_++)h=this.rbInsertRight(h,t[_]);this.validateCRLFWithPrevNode(o)}positionInBuffer(i,n,t){let o=i.piece,h=i.piece.bufferIndex,_=this._buffers[h].lineStarts,g=_[o.start.line]+o.start.column+n,b=o.start.line,y=o.end.line,L=0,D=0,N=0;for(;b<=y&&(L=b+(y-b)/2|0,N=_[L],L!==y);)if(D=_[L+1],g<N)y=L-1;else if(g>=D)b=L+1;else break;return t?(t.line=L,t.column=g-N,null):{line:L,column:g-N}}getLineFeedCnt(i,n,t){if(t.column===0)return t.line-n.line;let o=this._buffers[i].lineStarts;if(t.line===o.length-1)return t.line-n.line;let h=o[t.line+1],_=o[t.line]+t.column;if(h>_+1)return t.line-n.line;let m=_-1;return this._buffers[i].buffer.charCodeAt(m)===13?t.line-n.line+1:t.line-n.line}offsetInBuffer(i,n){return this._buffers[i].lineStarts[n.line]+n.column}deleteNodes(i){for(let n=0;n<i.length;n++)w.rbDelete(this,i[n])}createNewPieces(i){if(i.length>e.AverageBufferSize){let y=[];for(;i.length>e.AverageBufferSize;){const D=i.charCodeAt(e.AverageBufferSize-1);let N;D===13||D>=55296&&D<=56319?(N=i.substring(0,e.AverageBufferSize-1),i=i.substring(e.AverageBufferSize-1)):(N=i.substring(0,e.AverageBufferSize),i=i.substring(e.AverageBufferSize));let I=f(N);y.push(new c(this._buffers.length,{line:0,column:0},{line:I.length-1,column:N.length-I[I.length-1]},I.length-1,N.length)),this._buffers.push(new u(N,I))}let L=f(i);return y.push(new c(this._buffers.length,{line:0,column:0},{line:L.length-1,column:i.length-L[L.length-1]},L.length-1,i.length)),this._buffers.push(new u(i,L)),y}let n=this._buffers[0].buffer.length;const t=f(i,!1);let o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&n!==0&&this.startWithLF(i)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(let y=0;y<t.length;y++)t[y]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+="_"+i,n+=1}else{if(n!==0)for(let y=0;y<t.length;y++)t[y]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(t.slice(1)),this._buffers[0].buffer+=i}const h=this._buffers[0].buffer.length;let _=this._buffers[0].lineStarts.length-1,m=h-this._buffers[0].lineStarts[_],g={line:_,column:m},b=new c(0,o,g,this.getLineFeedCnt(0,o,g),h-n);return this._lastChangeBufferPos=g,[b]}getLineRawContent(i,n=0){let t=this.root,o="",h=this._searchCache.get2(i);if(h){t=h.node;let _=this.getAccumulatedValue(t,i-h.nodeStartLineNumber-1),m=this._buffers[t.piece.bufferIndex].buffer,g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===i)o=m.substring(g+_,g+t.piece.length);else{let b=this.getAccumulatedValue(t,i-h.nodeStartLineNumber);return m.substring(g+_,g+b-n)}}else{let _=0;const m=i;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=i-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>i-1){let g=this.getAccumulatedValue(t,i-t.lf_left-2),b=this.getAccumulatedValue(t,i-t.lf_left-1),y=this._buffers[t.piece.bufferIndex].buffer,L=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return _+=t.size_left,this._searchCache.set({node:t,nodeStartOffset:_,nodeStartLineNumber:m-(i-1-t.lf_left)}),y.substring(L+g,L+b-n)}else if(t.lf_left+t.piece.lineFeedCnt===i-1){let g=this.getAccumulatedValue(t,i-t.lf_left-2),b=this._buffers[t.piece.bufferIndex].buffer,y=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o=b.substring(y+g,y+t.piece.length);break}else i-=t.lf_left+t.piece.lineFeedCnt,_+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==w.SENTINEL;){let _=this._buffers[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){let m=this.getAccumulatedValue(t,0),g=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return o+=_.substring(g,g+m-n),o}else{let m=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);o+=_.substr(m,t.piece.length)}t=t.next()}return o}computeBufferMetadata(){let i=this.root,n=1,t=0;for(;i!==w.SENTINEL;)n+=i.lf_left+i.piece.lineFeedCnt,t+=i.size_left+i.piece.length,i=i.right;this._lineCnt=n,this._length=t,this._searchCache.validate(this._length)}getIndexOf(i,n){let t=i.piece,o=this.positionInBuffer(i,n),h=o.line-t.start.line;if(this.offsetInBuffer(t.bufferIndex,t.end)-this.offsetInBuffer(t.bufferIndex,t.start)===n){let _=this.getLineFeedCnt(i.piece.bufferIndex,t.start,o);if(_!==h)return{index:_,remainder:0}}return{index:h,remainder:o.column}}getAccumulatedValue(i,n){if(n<0)return 0;let t=i.piece,o=this._buffers[t.bufferIndex].lineStarts,h=t.start.line+n+1;return h>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[h]-o[t.start.line]-t.start.column}deleteNodeTail(i,n){const t=i.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.end),_=n,m=this.offsetInBuffer(t.bufferIndex,_),g=this.getLineFeedCnt(t.bufferIndex,t.start,_),b=g-o,y=m-h,L=t.length+y;i.piece=new c(t.bufferIndex,t.start,_,g,L),w.updateTreeMetadata(this,i,y,b)}deleteNodeHead(i,n){const t=i.piece,o=t.lineFeedCnt,h=this.offsetInBuffer(t.bufferIndex,t.start),_=n,m=this.getLineFeedCnt(t.bufferIndex,_,t.end),g=this.offsetInBuffer(t.bufferIndex,_),b=m-o,y=h-g,L=t.length+y;i.piece=new c(t.bufferIndex,_,t.end,m,L),w.updateTreeMetadata(this,i,y,b)}shrinkNode(i,n,t){const o=i.piece,h=o.start,_=o.end,m=o.length,g=o.lineFeedCnt,b=n,y=this.getLineFeedCnt(o.bufferIndex,o.start,b),L=this.offsetInBuffer(o.bufferIndex,n)-this.offsetInBuffer(o.bufferIndex,h);i.piece=new c(o.bufferIndex,o.start,b,y,L),w.updateTreeMetadata(this,i,L-m,y-g);let D=new c(o.bufferIndex,t,_,this.getLineFeedCnt(o.bufferIndex,t,_),this.offsetInBuffer(o.bufferIndex,_)-this.offsetInBuffer(o.bufferIndex,t)),N=this.rbInsertRight(i,D);this.validateCRLFWithPrevNode(N)}appendToNode(i,n){this.adjustCarriageReturnFromNext(n,i)&&(n+=`
`);const t=this.shouldCheckCRLF()&&this.startWithLF(n)&&this.endWithCR(i),o=this._buffers[0].buffer.length;this._buffers[0].buffer+=n;const h=f(n,!1);for(let N=0;N<h.length;N++)h[N]+=o;if(t){let N=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:o-N}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(h.slice(1));const _=this._buffers[0].lineStarts.length-1,m=this._buffers[0].buffer.length-this._buffers[0].lineStarts[_],g={line:_,column:m},b=i.piece.length+n.length,y=i.piece.lineFeedCnt,L=this.getLineFeedCnt(0,i.piece.start,g),D=L-y;i.piece=new c(i.piece.bufferIndex,i.piece.start,g,L,b),this._lastChangeBufferPos=g,w.updateTreeMetadata(this,i,n.length,D)}nodeAt(i){let n=this.root,t=this._searchCache.get(i);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:i-t.nodeStartOffset};let o=0;for(;n!==w.SENTINEL;)if(n.size_left>i)n=n.left;else if(n.size_left+n.piece.length>=i){o+=n.size_left;let h={node:n,remainder:i-n.size_left,nodeStartOffset:o};return this._searchCache.set(h),h}else i-=n.size_left+n.piece.length,o+=n.size_left+n.piece.length,n=n.right;return null}nodeAt2(i,n){let t=this.root,o=0;for(;t!==w.SENTINEL;)if(t.left!==w.SENTINEL&&t.lf_left>=i-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>i-1){let h=this.getAccumulatedValue(t,i-t.lf_left-2),_=this.getAccumulatedValue(t,i-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(h+n-1,_),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===i-1){let h=this.getAccumulatedValue(t,i-t.lf_left-2);if(h+n-1<=t.piece.length)return{node:t,remainder:h+n-1,nodeStartOffset:o};n-=t.piece.length-h;break}else i-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==w.SENTINEL;){if(t.piece.lineFeedCnt>0){let h=this.getAccumulatedValue(t,0),_=this.offsetOfNode(t);return{node:t,remainder:Math.min(n-1,h),nodeStartOffset:_}}else if(t.piece.length>=n-1){let h=this.offsetOfNode(t);return{node:t,remainder:n-1,nodeStartOffset:h}}else n-=t.piece.length;t=t.next()}return null}nodeCharCodeAt(i,n){if(i.piece.lineFeedCnt<1)return-1;let t=this._buffers[i.piece.bufferIndex],o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start)+n;return t.buffer.charCodeAt(o)}offsetOfNode(i){if(!i)return 0;let n=i.size_left;for(;i!==this.root;)i.parent.right===i&&(n+=i.parent.size_left+i.parent.piece.length),i=i.parent;return n}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(i){if(typeof i=="string")return i.charCodeAt(0)===10;if(i===w.SENTINEL||i.piece.lineFeedCnt===0)return!1;let n=i.piece,t=this._buffers[n.bufferIndex].lineStarts,o=n.start.line,h=t[o]+n.start.column;return o===t.length-1||t[o+1]>h+1?!1:this._buffers[n.bufferIndex].buffer.charCodeAt(h)===10}endWithCR(i){return typeof i=="string"?i.charCodeAt(i.length-1)===13:i===w.SENTINEL||i.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(i,i.piece.length-1)===13}validateCRLFWithPrevNode(i){if(this.shouldCheckCRLF()&&this.startWithLF(i)){let n=i.prev();this.endWithCR(n)&&this.fixCRLF(n,i)}}validateCRLFWithNextNode(i){if(this.shouldCheckCRLF()&&this.endWithCR(i)){let n=i.next();this.startWithLF(n)&&this.fixCRLF(i,n)}}fixCRLF(i,n){let t=[],o=this._buffers[i.piece.bufferIndex].lineStarts,h;i.piece.end.column===0?h={line:i.piece.end.line-1,column:o[i.piece.end.line]-o[i.piece.end.line-1]-1}:h={line:i.piece.end.line,column:i.piece.end.column-1};const _=i.piece.length-1,m=i.piece.lineFeedCnt-1;i.piece=new c(i.piece.bufferIndex,i.piece.start,h,m,_),w.updateTreeMetadata(this,i,-1,-1),i.piece.length===0&&t.push(i);let g={line:n.piece.start.line+1,column:0};const b=n.piece.length-1,y=this.getLineFeedCnt(n.piece.bufferIndex,g,n.piece.end);n.piece=new c(n.piece.bufferIndex,g,n.piece.end,y,b),w.updateTreeMetadata(this,n,-1,-1),n.piece.length===0&&t.push(n);let L=this.createNewPieces(`\r
`);this.rbInsertRight(i,L[0]);for(let D=0;D<t.length;D++)w.rbDelete(this,t[D])}adjustCarriageReturnFromNext(i,n){if(this.shouldCheckCRLF()&&this.endWithCR(i)){let t=n.next();if(this.startWithLF(t)){if(i+=`
`,t.piece.length===1)w.rbDelete(this,t);else{const o=t.piece,h={line:o.start.line+1,column:0},_=o.length-1,m=this.getLineFeedCnt(o.bufferIndex,h,o.end);t.piece=new c(o.bufferIndex,h,o.end,m,_),w.updateTreeMetadata(this,t,-1,-1)}return!0}}return!1}iterate(i,n){if(i===w.SENTINEL)return n(w.SENTINEL);let t=this.iterate(i.left,n);return t&&n(i)&&this.iterate(i.right,n)}getNodeContent(i){if(i===w.SENTINEL)return"";let n=this._buffers[i.piece.bufferIndex],t,o=i.piece,h=this.offsetInBuffer(o.bufferIndex,o.start),_=this.offsetInBuffer(o.bufferIndex,o.end);return t=n.buffer.substring(h,_),t}getPieceContent(i){let n=this._buffers[i.bufferIndex],t=this.offsetInBuffer(i.bufferIndex,i.start),o=this.offsetInBuffer(i.bufferIndex,i.end);return n.buffer.substring(t,o)}rbInsertRight(i,n){let t=new w.TreeNode(n,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(i.right===w.SENTINEL)i.right=t,t.parent=i;else{let h=w.leftest(i.right);h.left=t,t.parent=h}return w.fixInsert(this,t),t}rbInsertLeft(i,n){let t=new w.TreeNode(n,1);if(t.left=w.SENTINEL,t.right=w.SENTINEL,t.parent=w.SENTINEL,t.size_left=0,t.lf_left=0,this.root===w.SENTINEL)this.root=t,t.color=0;else if(i.left===w.SENTINEL)i.left=t,t.parent=i;else{let o=w.righttest(i.left);o.right=t,t.parent=o}return w.fixInsert(this,t),t}}e.PieceTreeBase=d}),define(ee[129],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function C(v=""){let l="(-?\\d*\\.\\d\\w*)|([^";for(const f of e.USUAL_WORD_SEPARATORS)v.indexOf(f)>=0||(l+="\\"+f);return l+="\\s]+)",new RegExp(l,"g")}e.DEFAULT_WORD_REGEXP=C();function M(v){let l=e.DEFAULT_WORD_REGEXP;if(v&&v instanceof RegExp)if(v.global)l=v;else{let f="g";v.ignoreCase&&(f+="i"),v.multiline&&(f+="m"),v.unicode&&(f+="u"),l=new RegExp(v.source,f)}return l.lastIndex=0,l}e.ensureValidWordDefinition=M;const k={maxLen:1e3,windowSize:15,timeBudget:150};function w(v,l,f,p,c=k){if(f.length>c.maxLen){let s=v-c.maxLen/2;return s<0?s=0:p+=s,f=f.substring(s,v+c.maxLen/2),w(v,l,f,p,c)}const u=Date.now(),a=v-1-p;let r=-1,d=null;for(let s=1;!(Date.now()-u>=c.timeBudget);s++){const i=a-c.windowSize*s;l.lastIndex=Math.max(0,i);const n=S(l,f,a,r);if(!n&&d||(d=n,i<=0))break;r=i}if(d){let s={word:d[0],startColumn:p+1+d.index,endColumn:p+1+d.index+d[0].length};return l.lastIndex=0,s}return null}e.getWordAtText=w;function S(v,l,f,p){let c;for(;c=v.exec(l);){const u=c.index||0;if(u<=f&&v.lastIndex>=f)return c;if(p>0&&u>p)return null}return null}}),define(ee[369],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrankensteinMode=void 0;class C{constructor(k){this._languageIdentifier=k}getId(){return this._languageIdentifier.language}}e.FrankensteinMode=C}),define(ee[108],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var C;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(C=e.IndentAction||(e.IndentAction={}));class M{constructor(v){if(this.open=v.open,this.close=v.close,this._standardTokenMask=0,Array.isArray(v.notIn))for(let l=0,f=v.notIn.length;l<f;l++)switch(v.notIn[l]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(v){return(this._standardTokenMask&v)==0}}e.StandardAutoClosingPairConditional=M;class k{constructor(v){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const l of v)w(this.autoClosingPairsOpenByStart,l.open.charAt(0),l),w(this.autoClosingPairsOpenByEnd,l.open.charAt(l.open.length-1),l),w(this.autoClosingPairsCloseByStart,l.close.charAt(0),l),w(this.autoClosingPairsCloseByEnd,l.close.charAt(l.close.length-1),l),l.close.length===1&&l.open.length===1&&w(this.autoClosingPairsCloseSingleChar,l.close,l)}}e.AutoClosingPairs=k;function w(S,v,l){S.has(v)?S.get(v).push(l):S.set(v,[l])}}),define(ee[370],te([0,1,196,72]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(w,S,v,l){if(Array.isArray(w)){let f=0;for(const p of w){const c=k(p,S,v,l);if(c===10)return c;c>f&&(f=c)}return f}else{if(typeof w=="string")return l?w==="*"?5:w===v?10:0:0;if(w){const{language:f,pattern:p,scheme:c,hasAccessToAllModels:u}=w;if(!l&&!u)return 0;let a=0;if(c)if(c===S.scheme)a=10;else if(c==="*")a=5;else return 0;if(f)if(f===v)a=10;else if(f==="*")a=Math.max(a,5);else return 0;if(p){let r;if(typeof p=="string"?r=p:r=Object.assign(Object.assign({},p),{base:M.normalize(p.base)}),r===S.fsPath||C.match(r,S.fsPath))a=10;else return 0}return a}else return 0}}e.score=k}),define(ee[371],te([0,1,91]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class M{constructor(u,a,r){const d=new Uint8Array(u*a);for(let s=0,i=u*a;s<i;s++)d[s]=r;this._data=d,this.rows=u,this.cols=a}get(u,a){return this._data[u*this.cols+a]}set(u,a,r){this._data[u*this.cols+a]=r}}e.Uint8Matrix=M;class k{constructor(u){let a=0,r=0;for(let s=0,i=u.length;s<i;s++){let[n,t,o]=u[s];t>a&&(a=t),n>r&&(r=n),o>r&&(r=o)}a++,r++;let d=new M(r,a,0);for(let s=0,i=u.length;s<i;s++){let[n,t,o]=u[s];d.set(n,t,o)}this._states=d,this._maxCharCode=a}nextState(u,a){return a<0||a>=this._maxCharCode?0:this._states.get(u,a)}}e.StateMachine=k;let w=null;function S(){return w===null&&(w=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),w}let v=null;function l(){if(v===null){v=new C.CharacterClassifier(0);const c=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`;for(let a=0;a<c.length;a++)v.set(c.charCodeAt(a),1);const u=".,;";for(let a=0;a<u.length;a++)v.set(u.charCodeAt(a),2)}return v}class f{static _createLink(u,a,r,d,s){let i=s-1;do{const n=a.charCodeAt(i);if(u.get(n)!==2)break;i--}while(i>d);if(d>0){const n=a.charCodeAt(d-1),t=a.charCodeAt(i);(n===40&&t===41||n===91&&t===93||n===123&&t===125)&&i--}return{range:{startLineNumber:r,startColumn:d+1,endLineNumber:r,endColumn:i+2},url:a.substring(d,i+1)}}static computeLinks(u,a=S()){const r=l();let d=[];for(let s=1,i=u.getLineCount();s<=i;s++){const n=u.getLineContent(s),t=n.length;let o=0,h=0,_=0,m=1,g=!1,b=!1,y=!1,L=!1;for(;o<t;){let D=!1;const N=n.charCodeAt(o);if(m===13){let I;switch(N){case 40:g=!0,I=0;break;case 41:I=g?0:1;break;case 91:y=!0,b=!0,I=0;break;case 93:y=!1,I=b?0:1;break;case 123:L=!0,I=0;break;case 125:I=L?0:1;break;case 39:I=_===34||_===96?0:1;break;case 34:I=_===39||_===96?0:1;break;case 96:I=_===39||_===34?0:1;break;case 42:I=_===42?1:0;break;case 124:I=_===124?1:0;break;case 32:I=y?0:1;break;default:I=r.get(N)}I===1&&(d.push(f._createLink(r,n,s,h,o)),D=!0)}else if(m===12){let I;N===91?(b=!0,I=0):I=r.get(N),I===1?D=!0:m=13}else m=a.nextState(m,N),m===0&&(D=!0);D&&(m=1,g=!1,b=!1,L=!1,h=o+1,_=N),o++}m===13&&d.push(f._createLink(r,n,s,h,t))}return d}}e.LinkComputer=f;function p(c){return!c||typeof c.getLineCount!="function"||typeof c.getLineContent!="function"?[]:f.computeLinks(c)}e.computeLinks=p}),define(ee[166],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function C(w,S){let v=w.getCount(),l=w.findTokenIndexAtOffset(S),f=w.getLanguageId(l),p=l;for(;p+1<v&&w.getLanguageId(p+1)===f;)p++;let c=l;for(;c>0&&w.getLanguageId(c-1)===f;)c--;return new M(w,f,c,p+1,w.getStartOffset(c),w.getEndOffset(p))}e.createScopedLineTokens=C;class M{constructor(S,v,l,f,p,c){this._actual=S,this.languageId=v,this._firstTokenIndex=l,this._lastTokenIndex=f,this.firstCharOffset=p,this._lastCharOffset=c}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=M;function k(w){return(w&7)!=0}e.ignoreBracketsInToken=k}),define(ee[372],te([0,1,108]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class M{constructor(w){if(w.autoClosingPairs?this._autoClosingPairs=w.autoClosingPairs.map(S=>new C.StandardAutoClosingPairConditional(S)):w.brackets?this._autoClosingPairs=w.brackets.map(S=>new C.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],w.__electricCharacterSupport&&w.__electricCharacterSupport.docComment){const S=w.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new C.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBefore=typeof w.autoCloseBefore=="string"?w.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=w.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(w,S,v){if(S.getTokenCount()===0)return!0;const l=S.findTokenIndexAtOffset(v-2),f=S.getStandardTokenType(l);return w.isOK(f)}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=M,M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(ee[373],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function C(k){return k.global&&(k.lastIndex=0),!0}class M{constructor(w){this._indentationRules=w}shouldIncrease(w){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&C(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(w))}shouldDecrease(w){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&C(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(w))}shouldIndentNextLine(w){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&C(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(w))}shouldIgnore(w){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&C(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(w))}getIndentMetadata(w){let S=0;return this.shouldIncrease(w)&&(S+=1),this.shouldDecrease(w)&&(S+=2),this.shouldIndentNextLine(w)&&(S+=4),this.shouldIgnore(w)&&(S+=8),S}}e.IndentRulesSupport=M}),define(ee[374],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class C{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,w,S,v,l){if(k&&w){let f=this.doNavigateValueSet(w,l);if(f)return{range:k,value:f}}if(S&&v){let f=this.doNavigateValueSet(v,l);if(f)return{range:S,value:f}}return null}doNavigateValueSet(k,w){let S=this.numberReplace(k,w);return S!==null?S:this.textReplace(k,w)}numberReplace(k,w){let S=Math.pow(10,k.length-(k.lastIndexOf(".")+1)),v=Number(k),l=parseFloat(k);return!isNaN(v)&&!isNaN(l)&&v===l?v===0&&!w?null:(v=Math.floor(v*S),v+=w?S:-S,String(v/S)):null}textReplace(k,w){return this.valueSetsReplace(this._defaultValueSet,k,w)}valueSetsReplace(k,w,S){let v=null;for(let l=0,f=k.length;v===null&&l<f;l++)v=this.valueSetReplace(k[l],w,S);return v}valueSetReplace(k,w,S){let v=k.indexOf(w);return v>=0?(v+=S?1:-1,v<0?v=k.length-1:v%=k.length,k[v]):null}}e.BasicInplaceReplace=C,C.INSTANCE=new C}),define(ee[375],te([0,1,11,8,108]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class w{constructor(v){v=v||{},v.brackets=v.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],v.brackets.forEach(l=>{const f=w._createOpenBracketRegExp(l[0]),p=w._createCloseBracketRegExp(l[1]);f&&p&&this._brackets.push({open:l[0],openRegExp:f,close:l[1],closeRegExp:p})}),this._regExpRules=v.onEnterRules||[]}onEnter(v,l,f,p){if(v>=3)for(let c=0,u=this._regExpRules.length;c<u;c++){let a=this._regExpRules[c];if([{reg:a.beforeText,text:f},{reg:a.afterText,text:p},{reg:a.previousLineText,text:l}].every(d=>d.reg?d.reg.test(d.text):!0))return a.action}if(v>=2&&f.length>0&&p.length>0)for(let c=0,u=this._brackets.length;c<u;c++){let a=this._brackets[c];if(a.openRegExp.test(f)&&a.closeRegExp.test(p))return{indentAction:k.IndentAction.IndentOutdent}}if(v>=2&&f.length>0){for(let c=0,u=this._brackets.length;c<u;c++)if(this._brackets[c].openRegExp.test(f))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(v){let l=M.escapeRegExpCharacters(v);return/\B/.test(l.charAt(0))||(l="\\b"+l),l+="\\s*$",w._safeRegExp(l)}static _createCloseBracketRegExp(v){let l=M.escapeRegExpCharacters(v);return/\B/.test(l.charAt(l.length-1))||(l=l+"\\b"),l="^\\s*"+l,w._safeRegExp(l)}static _safeRegExp(v){try{return new RegExp(v)}catch(l){return C.onUnexpectedError(l),null}}}e.OnEnterSupport=w}),define(ee[167],te([0,1,8,93,3]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class w{constructor(o,h,_,m,g,b){this.languageIdentifier=o,this.index=h,this.open=_,this.close=m,this.forwardRegex=g,this.reversedRegex=b,this._openSet=w._toSet(this.open),this._closeSet=w._toSet(this.close)}isOpen(o){return this._openSet.has(o)}isClose(o){return this._closeSet.has(o)}static _toSet(o){const h=new Set;for(const _ of o)h.add(_);return h}}e.RichEditBracket=w;function S(t){const o=t.length;t=t.map(b=>[b[0].toLowerCase(),b[1].toLowerCase()]);const h=[];for(let b=0;b<o;b++)h[b]=b;const _=(b,y)=>{const[L,D]=b,[N,I]=y;return L===N||L===I||D===N||D===I},m=(b,y)=>{const L=Math.min(b,y),D=Math.max(b,y);for(let N=0;N<o;N++)h[N]===D&&(h[N]=L)};for(let b=0;b<o;b++){const y=t[b];for(let L=b+1;L<o;L++){const D=t[L];_(y,D)&&m(h[b],h[L])}}const g=[];for(let b=0;b<o;b++){let y=[],L=[];for(let D=0;D<o;D++)if(h[D]===b){const[N,I]=t[D];y.push(N),L.push(I)}y.length>0&&g.push({open:y,close:L})}return g}class v{constructor(o,h){const _=S(h);this.brackets=_.map((m,g)=>new w(o,g,m.open,m.close,c(m.open,m.close,_,g),u(m.open,m.close,_,g))),this.forwardRegex=a(this.brackets),this.reversedRegex=r(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const m of this.brackets){for(const g of m.open)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,g.length);for(const g of m.close)this.textIsBracket[g]=m,this.textIsOpenBracket[g]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,g.length)}}}e.RichEditBrackets=v;function l(t,o,h,_){for(let m=0,g=o.length;m<g;m++)if(m!==h){const b=o[m];for(const y of b.open)y.indexOf(t)>=0&&_.push(y);for(const y of b.close)y.indexOf(t)>=0&&_.push(y)}}function f(t,o){return t.length-o.length}function p(t){if(t.length<=1)return t;const o=[],h=new Set;for(const _ of t)h.has(_)||(o.push(_),h.add(_));return o}function c(t,o,h,_){let m=[];m=m.concat(t),m=m.concat(o);for(let g=0,b=m.length;g<b;g++)l(m[g],h,_,m);return m=p(m),m.sort(f),m.reverse(),s(m)}function u(t,o,h,_){let m=[];m=m.concat(t),m=m.concat(o);for(let g=0,b=m.length;g<b;g++)l(m[g],h,_,m);return m=p(m),m.sort(f),m.reverse(),s(m.map(i))}function a(t){let o=[];for(const h of t){for(const _ of h.open)o.push(_);for(const _ of h.close)o.push(_)}return o=p(o),s(o)}function r(t){let o=[];for(const h of t){for(const _ of h.open)o.push(_);for(const _ of h.close)o.push(_)}return o=p(o),s(o.map(i))}function d(t){const o=/^[\w ]+$/.test(t);return t=C.escapeRegExpCharacters(t),o?`\\b${t}\\b`:t}function s(t){let o=`(${t.map(d).join(")|(")})`;return C.createRegExp(o,!0)}const i=function(){function t(_){if(M.hasTextDecoder){const m=new Uint16Array(_.length);let g=0;for(let b=_.length-1;b>=0;b--)m[g++]=_.charCodeAt(b);return M.getPlatformTextDecoder().decode(m)}else{let m=[],g=0;for(let b=_.length-1;b>=0;b--)m[g++]=_.charAt(b);return m.join("")}}let o=null,h=null;return function(m){return o!==m&&(o=m,h=t(o)),h}}();class n{static _findPrevBracketInText(o,h,_,m){let g=_.match(o);if(!g)return null;let b=_.length-(g.index||0),y=g[0].length,L=m+b;return new k.Range(h,L-y+1,h,L+1)}static findPrevBracketInRange(o,h,_,m,g){const y=i(_).substring(_.length-g,_.length-m);return this._findPrevBracketInText(o,h,y,m)}static findNextBracketInText(o,h,_,m){let g=_.match(o);if(!g)return null;let b=g.index||0,y=g[0].length;if(y===0)return null;let L=m+b;return new k.Range(h,L+1,h,L+1+y)}static findNextBracketInRange(o,h,_,m,g){const b=_.substring(m,g);return this.findNextBracketInText(o,h,b,m)}}e.BracketsUtils=n}),define(ee[376],te([0,1,166,167]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class k{constructor(S){this._richEditBrackets=S}getElectricCharacters(){let S=[];if(this._richEditBrackets)for(const v of this._richEditBrackets.brackets)for(const l of v.close){const f=l.charAt(l.length-1);S.push(f)}return S=S.filter((v,l,f)=>f.indexOf(v)===l),S}onElectricCharacter(S,v,l){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const f=v.findTokenIndexAtOffset(l-1);if(C.ignoreBracketsInToken(v.getStandardTokenType(f)))return null;const p=this._richEditBrackets.reversedRegex,c=v.getLineContent().substring(0,l-1)+S,u=M.BracketsUtils.findPrevBracketInRange(p,1,c,0,c.length);if(!u)return null;const a=c.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const d=v.getActualLineContentBefore(u.startColumn-1);return/^\s*$/.test(d)?{matchOpenBracket:a}:null}}e.BracketElectricCharacterSupport=k}),define(ee[41],te([0,1,6,2,8,129,108,166,372,376,373,375,167]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageConfigurationRegistry=e.LanguageConfigurationRegistryImpl=e.LanguageConfigurationChangeEvent=e.RichEditSupport=void 0;class a{constructor(t,o){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null,this._conf=o,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new c.OnEnterSupport(this._conf):null,this.comments=a._handleComments(this._conf),this.characterPair=new l.CharacterPairSupport(this._conf),this.wordDefinition=this._conf.wordPattern||w.DEFAULT_WORD_REGEXP,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new p.IndentRulesSupport(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new u.RichEditBrackets(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new f.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(t,o,h,_){return this._onEnterSupport?this._onEnterSupport.onEnter(t,o,h,_):null}static _handleComments(t){let o=t.comments;if(!o)return null;let h={};if(o.lineComment&&(h.lineCommentToken=o.lineComment),o.blockComment){let[_,m]=o.blockComment;h.blockCommentStartToken=_,h.blockCommentEndToken=m}return h}}e.RichEditSupport=a;class r{constructor(t){this.languageIdentifier=t}}e.LanguageConfigurationChangeEvent=r;class d{constructor(t,o,h){this.configuration=t,this.priority=o,this.order=h}static cmp(t,o){return t.priority===o.priority?t.order-o.order:t.priority-o.priority}}class s{constructor(t){this.languageIdentifier=t,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(t,o){const h=new d(t,o,++this._order);return this._entries.push(h),this._resolved=null,M.toDisposable(()=>{for(let _=0;_<this._entries.length;_++)if(this._entries[_]===h){this._entries.splice(_,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const t=this._resolve();t&&(this._resolved=new a(this.languageIdentifier,t))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(d.cmp);const t={};for(const o of this._entries){const h=o.configuration;t.comments=h.comments||t.comments,t.brackets=h.brackets||t.brackets,t.wordPattern=h.wordPattern||t.wordPattern,t.indentationRules=h.indentationRules||t.indentationRules,t.onEnterRules=h.onEnterRules||t.onEnterRules,t.autoClosingPairs=h.autoClosingPairs||t.autoClosingPairs,t.surroundingPairs=h.surroundingPairs||t.surroundingPairs,t.autoCloseBefore=h.autoCloseBefore||t.autoCloseBefore,t.folding=h.folding||t.folding,t.__electricCharacterSupport=h.__electricCharacterSupport||t.__electricCharacterSupport}return t}}class i{constructor(){this._entries2=new Map,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event}register(t,o,h=0){let _=this._entries2.get(t.id);_||(_=new s(t),this._entries2.set(t.id,_));const m=_.register(o,h);return this._onDidChange.fire(new r(t)),M.toDisposable(()=>{m.dispose(),this._onDidChange.fire(new r(t))})}_getRichEditSupport(t){const o=this._entries2.get(t);return o?o.getRichEditSupport():null}getIndentationRules(t){const o=this._getRichEditSupport(t);return o&&o.indentationRules||null}_getElectricCharacterSupport(t){let o=this._getRichEditSupport(t);return o&&o.electricCharacter||null}getElectricCharacters(t){let o=this._getElectricCharacterSupport(t);return o?o.getElectricCharacters():[]}onElectricCharacter(t,o,h){let _=v.createScopedLineTokens(o,h-1),m=this._getElectricCharacterSupport(_.languageId);return m?m.onElectricCharacter(t,_,h-_.firstCharOffset):null}getComments(t){let o=this._getRichEditSupport(t);return o&&o.comments||null}_getCharacterPairSupport(t){let o=this._getRichEditSupport(t);return o&&o.characterPair||null}getAutoClosingPairs(t){const o=this._getCharacterPairSupport(t);return new S.AutoClosingPairs(o?o.getAutoClosingPairs():[])}getAutoCloseBeforeSet(t){let o=this._getCharacterPairSupport(t);return o?o.getAutoCloseBeforeSet():l.CharacterPairSupport.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(t){let o=this._getCharacterPairSupport(t);return o?o.getSurroundingPairs():[]}shouldAutoClosePair(t,o,h){const _=v.createScopedLineTokens(o,h-1);return l.CharacterPairSupport.shouldAutoClosePair(t,_,h-_.firstCharOffset)}getWordDefinition(t){let o=this._getRichEditSupport(t);return o?w.ensureValidWordDefinition(o.wordDefinition||null):w.ensureValidWordDefinition(null)}getFoldingRules(t){let o=this._getRichEditSupport(t);return o?o.foldingRules:{}}getIndentRulesSupport(t){let o=this._getRichEditSupport(t);return o&&o.indentRulesSupport||null}getPrecedingValidLine(t,o,h){let _=t.getLanguageIdAtPosition(o,0);if(o>1){let m,g=-1;for(m=o-1;m>=1;m--){if(t.getLanguageIdAtPosition(m,0)!==_)return g;let b=t.getLineContent(m);if(h.shouldIgnore(b)||/^\s+$/.test(b)||b===""){g=m;continue}return m}}return-1}getInheritIndentForLine(t,o,h,_=!0){if(t<4)return null;const m=this.getIndentRulesSupport(o.getLanguageIdentifier().id);if(!m)return null;if(h<=1)return{indentation:"",action:null};const g=this.getPrecedingValidLine(o,h,m);if(g<0)return null;if(g<1)return{indentation:"",action:null};const b=o.getLineContent(g);if(m.shouldIncrease(b)||m.shouldIndentNextLine(b))return{indentation:k.getLeadingWhitespace(b),action:S.IndentAction.Indent,line:g};if(m.shouldDecrease(b))return{indentation:k.getLeadingWhitespace(b),action:null,line:g};{if(g===1)return{indentation:k.getLeadingWhitespace(o.getLineContent(g)),action:null,line:g};const y=g-1,L=m.getIndentMetadata(o.getLineContent(y));if(!(L&(1|2))&&L&4){let D=0;for(let N=y-1;N>0;N--)if(!m.shouldIndentNextLine(o.getLineContent(N))){D=N;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(D+1)),action:null,line:D+1}}if(_)return{indentation:k.getLeadingWhitespace(o.getLineContent(g)),action:null,line:g};for(let D=g;D>0;D--){const N=o.getLineContent(D);if(m.shouldIncrease(N))return{indentation:k.getLeadingWhitespace(N),action:S.IndentAction.Indent,line:D};if(m.shouldIndentNextLine(N)){let I=0;for(let T=D-1;T>0;T--)if(!m.shouldIndentNextLine(o.getLineContent(D))){I=T;break}return{indentation:k.getLeadingWhitespace(o.getLineContent(I+1)),action:null,line:I+1}}else if(m.shouldDecrease(N))return{indentation:k.getLeadingWhitespace(N),action:null,line:D}}return{indentation:k.getLeadingWhitespace(o.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(t,o,h,_,m){if(t<4)return null;const g=this._getRichEditSupport(h);if(!g)return null;const b=this.getIndentRulesSupport(h);if(!b)return null;const y=this.getInheritIndentForLine(t,o,_),L=o.getLineContent(_);if(y){const D=y.line;if(D!==void 0){const N=g.onEnter(t,"",o.getLineContent(D),"");if(N){let I=k.getLeadingWhitespace(o.getLineContent(D));return N.removeText&&(I=I.substring(0,I.length-N.removeText)),N.indentAction===S.IndentAction.Indent||N.indentAction===S.IndentAction.IndentOutdent?I=m.shiftIndent(I):N.indentAction===S.IndentAction.Outdent&&(I=m.unshiftIndent(I)),b.shouldDecrease(L)&&(I=m.unshiftIndent(I)),N.appendText&&(I+=N.appendText),k.getLeadingWhitespace(I)}}return b.shouldDecrease(L)?y.action===S.IndentAction.Indent?y.indentation:m.unshiftIndent(y.indentation):y.action===S.IndentAction.Indent?m.shiftIndent(y.indentation):y.indentation}return null}getIndentForEnter(t,o,h,_){if(t<4)return null;o.forceTokenization(h.startLineNumber);const m=o.getLineTokens(h.startLineNumber),g=v.createScopedLineTokens(m,h.startColumn-1),b=g.getLineContent();let y=!1,L;g.firstCharOffset>0&&m.getLanguageId(0)!==g.languageId?(y=!0,L=b.substr(0,h.startColumn-1-g.firstCharOffset)):L=m.getLineContent().substring(0,h.startColumn-1);let D;h.isEmpty()?D=b.substr(h.startColumn-1-g.firstCharOffset):D=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset);const N=this.getIndentRulesSupport(g.languageId);if(!N)return null;const I=L,T=k.getLeadingWhitespace(L),O={getLineTokens:W=>o.getLineTokens(W),getLanguageIdentifier:()=>o.getLanguageIdentifier(),getLanguageIdAtPosition:(W,R)=>o.getLanguageIdAtPosition(W,R),getLineContent:W=>W===h.startLineNumber?I:o.getLineContent(W)},A=k.getLeadingWhitespace(m.getLineContent()),B=this.getInheritIndentForLine(t,O,h.startLineNumber+1);if(!B){const W=y?A:T;return{beforeEnter:W,afterEnter:W}}let E=y?A:B.indentation;return B.action===S.IndentAction.Indent&&(E=_.shiftIndent(E)),N.shouldDecrease(D)&&(E=_.unshiftIndent(E)),{beforeEnter:y?A:T,afterEnter:E}}getIndentActionForType(t,o,h,_,m){if(t<4)return null;const g=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn);if(g.firstCharOffset)return null;const b=this.getIndentRulesSupport(g.languageId);if(!b)return null;const y=g.getLineContent(),L=y.substr(0,h.startColumn-1-g.firstCharOffset);let D;if(h.isEmpty()?D=y.substr(h.startColumn-1-g.firstCharOffset):D=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-g.firstCharOffset),!b.shouldDecrease(L+D)&&b.shouldDecrease(L+_+D)){const N=this.getInheritIndentForLine(t,o,h.startLineNumber,!1);if(!N)return null;let I=N.indentation;return N.action!==S.IndentAction.Indent&&(I=m.unshiftIndent(I)),I}return null}getIndentMetadata(t,o){const h=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return!h||o<1||o>t.getLineCount()?null:h.getIndentMetadata(t.getLineContent(o))}getEnterAction(t,o,h){const _=this.getScopedLineTokens(o,h.startLineNumber,h.startColumn),m=this._getRichEditSupport(_.languageId);if(!m)return null;const g=_.getLineContent(),b=g.substr(0,h.startColumn-1-_.firstCharOffset);let y;h.isEmpty()?y=g.substr(h.startColumn-1-_.firstCharOffset):y=this.getScopedLineTokens(o,h.endLineNumber,h.endColumn).getLineContent().substr(h.endColumn-1-_.firstCharOffset);let L="";if(h.startLineNumber>1&&_.firstCharOffset===0){const A=this.getScopedLineTokens(o,h.startLineNumber-1);A.languageId===_.languageId&&(L=A.getLineContent())}const D=m.onEnter(t,L,b,y);if(!D)return null;const N=D.indentAction;let I=D.appendText;const T=D.removeText||0;I?N===S.IndentAction.Indent&&(I="	"+I):N===S.IndentAction.Indent||N===S.IndentAction.IndentOutdent?I="	":I="";let O=this.getIndentationAtPosition(o,h.startLineNumber,h.startColumn);return T&&(O=O.substring(0,O.length-T)),{indentAction:N,appendText:I,removeText:T,indentation:O}}getIndentationAtPosition(t,o,h){const _=t.getLineContent(o);let m=k.getLeadingWhitespace(_);return m.length>h-1&&(m=m.substring(0,h-1)),m}getScopedLineTokens(t,o,h){t.forceTokenization(o);const _=t.getLineTokens(o),m=typeof h=="undefined"?t.getLineMaxColumn(o)-1:h-1;return v.createScopedLineTokens(_,m)}getBracketsSupport(t){const o=this._getRichEditSupport(t);return o&&o.brackets||null}}e.LanguageConfigurationRegistryImpl=i,e.LanguageConfigurationRegistry=new i}),define(ee[377],te([0,1,29]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class M{constructor(s,i,n,t,o){this.token=s,this.index=i,this.fontStyle=n,this.foreground=t,this.background=o}}e.ParsedTokenThemeRule=M;function k(d){if(!d||!Array.isArray(d))return[];let s=[],i=0;for(let n=0,t=d.length;n<t;n++){let o=d[n],h=-1;if(typeof o.fontStyle=="string"){h=0;let g=o.fontStyle.split(" ");for(let b=0,y=g.length;b<y;b++)switch(g[b]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break}}let _=null;typeof o.foreground=="string"&&(_=o.foreground);let m=null;typeof o.background=="string"&&(m=o.background),s[i++]=new M(o.token||"",n,h,_,m)}return s}e.parseTokenTheme=k;function w(d,s){d.sort((b,y)=>{let L=c(b.token,y.token);return L!==0?L:b.index-y.index});let i=0,n="000000",t="ffffff";for(;d.length>=1&&d[0].token==="";){let b=d.shift();b.fontStyle!==-1&&(i=b.fontStyle),b.foreground!==null&&(n=b.foreground),b.background!==null&&(t=b.background)}let o=new v;for(let b of s)o.getId(b);let h=o.getId(n),_=o.getId(t),m=new u(i,h,_),g=new a(m);for(let b=0,y=d.length;b<y;b++){let L=d[b];g.insert(L.token,L.fontStyle,o.getId(L.foreground),o.getId(L.background))}return new l(o,g)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class v{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(s){if(s===null)return 0;const i=s.match(S);if(!i)throw new Error("Illegal value for token color: "+s);s=i[1].toUpperCase();let n=this._color2id.get(s);return n||(n=++this._lastColorId,this._color2id.set(s,n),this._id2color[n]=C.Color.fromHex("#"+s),n)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=v;class l{constructor(s,i){this._colorMap=s,this._root=i,this._cache=new Map}static createFromRawTokenTheme(s,i){return this.createFromParsedTokenTheme(k(s),i)}static createFromParsedTokenTheme(s,i){return w(s,i)}getColorMap(){return this._colorMap.getColorMap()}_match(s){return this._root.match(s)}match(s,i){let n=this._cache.get(i);if(typeof n=="undefined"){let t=this._match(i),o=p(i);n=(t.metadata|o<<8)>>>0,this._cache.set(i,n)}return(n|s<<0)>>>0}}e.TokenTheme=l;const f=/\b(comment|string|regex|regexp)\b/;function p(d){let s=d.match(f);if(!s)return 0;switch(s[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=p;function c(d,s){return d<s?-1:d>s?1:0}e.strcmp=c;class u{constructor(s,i,n){this._fontStyle=s,this._foreground=i,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new u(this._fontStyle,this._foreground,this._background)}acceptOverwrite(s,i,n){s!==-1&&(this._fontStyle=s),i!==0&&(this._foreground=i),n!==0&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}e.ThemeTrieElementRule=u;class a{constructor(s){this._mainRule=s,this._children=new Map}match(s){if(s==="")return this._mainRule;let i=s.indexOf("."),n,t;i===-1?(n=s,t=""):(n=s.substring(0,i),t=s.substring(i+1));let o=this._children.get(n);return typeof o!="undefined"?o.match(t):this._mainRule}insert(s,i,n,t){if(s===""){this._mainRule.acceptOverwrite(i,n,t);return}let o=s.indexOf("."),h,_;o===-1?(h=s,_=""):(h=s.substring(0,o),_=s.substring(o+1));let m=this._children.get(h);typeof m=="undefined"&&(m=new a(this._mainRule.clone()),this._children.set(h,m)),m.insert(_,i,n,t)}}e.ThemeTrieElement=a;function r(d){let s=[];for(let i=1,n=d.length;i<n;i++){let t=d[i];s[i]=`.mtk${i} { color: ${t}; }`}return s.push(".mtki { font-style: italic; }"),s.push(".mtkb { font-weight: bold; }"),s.push(".mtku { text-decoration: underline; text-underline-position: under; }"),s.join(`
`)}e.generateTokensCSSForColorMap=r}),define(ee[378],te([0,1,6,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class k{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(S){this._onDidChange.fire({changedLanguages:S,changedColorMap:!1})}register(S,v){return this._map.set(S,v),this.fire([S]),M.toDisposable(()=>{this._map.get(S)===v&&(this._map.delete(S),this.fire([S]))})}registerPromise(S,v){let l=null,f=!1;return this._promises.set(S,v.then(p=>{this._promises.delete(S),!(f||!p)&&(l=this.register(S,p))})),M.toDisposable(()=>{f=!0,l&&l.dispose()})}getPromise(S){const v=this.get(S);if(v)return Promise.resolve(v);const l=this._promises.get(S);return l?l.then(f=>this.get(S)):null}get(S){return this._map.get(S)||null}setColorMap(S){this._colorMap=S,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=k}),define(ee[379],te([0,1,101,16]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(l){for(let f=0,p=l.length;f<p;f+=4){const c=l[f+0],u=l[f+1],a=l[f+2],r=l[f+3];l[f+0]=r,l[f+1]=a,l[f+2]=u,l[f+3]=c}}function w(l){const f=new Uint8Array(l.buffer,l.byteOffset,l.length*4);return M.isLittleEndian()||k(f),C.VSBuffer.wrap(f)}function S(l){const f=new Uint32Array(v(l));let p=0;if(f[p++]=l.id,l.type==="full")f[p++]=1,f[p++]=l.data.length,f.set(l.data,p),p+=l.data.length;else{f[p++]=2,f[p++]=l.deltas.length;for(const c of l.deltas)f[p++]=c.start,f[p++]=c.deleteCount,c.data?(f[p++]=c.data.length,f.set(c.data,p),p+=c.data.length):f[p++]=0}return w(f)}e.encodeSemanticTokensDto=S;function v(l){let f=0;if(f+=1+1,l.type==="full")f+=1+l.data.length;else{f+=1,f+=(1+1+1)*l.deltas.length;for(const p of l.deltas)p.data&&(f+=p.data.length)}return f}}),define(ee[168],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var C;(function(E){E[E.Unknown=0]="Unknown",E[E.Disabled=1]="Disabled",E[E.Enabled=2]="Enabled"})(C=e.AccessibilitySupport||(e.AccessibilitySupport={}));var M;(function(E){E[E.KeepWhitespace=1]="KeepWhitespace",E[E.InsertAsSnippet=4]="InsertAsSnippet"})(M=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var k;(function(E){E[E.Method=0]="Method",E[E.Function=1]="Function",E[E.Constructor=2]="Constructor",E[E.Field=3]="Field",E[E.Variable=4]="Variable",E[E.Class=5]="Class",E[E.Struct=6]="Struct",E[E.Interface=7]="Interface",E[E.Module=8]="Module",E[E.Property=9]="Property",E[E.Event=10]="Event",E[E.Operator=11]="Operator",E[E.Unit=12]="Unit",E[E.Value=13]="Value",E[E.Constant=14]="Constant",E[E.Enum=15]="Enum",E[E.EnumMember=16]="EnumMember",E[E.Keyword=17]="Keyword",E[E.Text=18]="Text",E[E.Color=19]="Color",E[E.File=20]="File",E[E.Reference=21]="Reference",E[E.Customcolor=22]="Customcolor",E[E.Folder=23]="Folder",E[E.TypeParameter=24]="TypeParameter",E[E.User=25]="User",E[E.Issue=26]="Issue",E[E.Snippet=27]="Snippet"})(k=e.CompletionItemKind||(e.CompletionItemKind={}));var w;(function(E){E[E.Deprecated=1]="Deprecated"})(w=e.CompletionItemTag||(e.CompletionItemTag={}));var S;(function(E){E[E.Invoke=0]="Invoke",E[E.TriggerCharacter=1]="TriggerCharacter",E[E.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(S=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var v;(function(E){E[E.EXACT=0]="EXACT",E[E.ABOVE=1]="ABOVE",E[E.BELOW=2]="BELOW"})(v=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var l;(function(E){E[E.NotSet=0]="NotSet",E[E.ContentFlush=1]="ContentFlush",E[E.RecoverFromMarkers=2]="RecoverFromMarkers",E[E.Explicit=3]="Explicit",E[E.Paste=4]="Paste",E[E.Undo=5]="Undo",E[E.Redo=6]="Redo"})(l=e.CursorChangeReason||(e.CursorChangeReason={}));var f;(function(E){E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(f=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var p;(function(E){E[E.Text=0]="Text",E[E.Read=1]="Read",E[E.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var c;(function(E){E[E.None=0]="None",E[E.Keep=1]="Keep",E[E.Brackets=2]="Brackets",E[E.Advanced=3]="Advanced",E[E.Full=4]="Full"})(c=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var u;(function(E){E[E.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",E[E.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",E[E.accessibilitySupport=2]="accessibilitySupport",E[E.accessibilityPageSize=3]="accessibilityPageSize",E[E.ariaLabel=4]="ariaLabel",E[E.autoClosingBrackets=5]="autoClosingBrackets",E[E.autoClosingOvertype=6]="autoClosingOvertype",E[E.autoClosingQuotes=7]="autoClosingQuotes",E[E.autoIndent=8]="autoIndent",E[E.automaticLayout=9]="automaticLayout",E[E.autoSurround=10]="autoSurround",E[E.codeLens=11]="codeLens",E[E.codeLensFontFamily=12]="codeLensFontFamily",E[E.codeLensFontSize=13]="codeLensFontSize",E[E.colorDecorators=14]="colorDecorators",E[E.columnSelection=15]="columnSelection",E[E.comments=16]="comments",E[E.contextmenu=17]="contextmenu",E[E.copyWithSyntaxHighlighting=18]="copyWithSyntaxHighlighting",E[E.cursorBlinking=19]="cursorBlinking",E[E.cursorSmoothCaretAnimation=20]="cursorSmoothCaretAnimation",E[E.cursorStyle=21]="cursorStyle",E[E.cursorSurroundingLines=22]="cursorSurroundingLines",E[E.cursorSurroundingLinesStyle=23]="cursorSurroundingLinesStyle",E[E.cursorWidth=24]="cursorWidth",E[E.disableLayerHinting=25]="disableLayerHinting",E[E.disableMonospaceOptimizations=26]="disableMonospaceOptimizations",E[E.dragAndDrop=27]="dragAndDrop",E[E.emptySelectionClipboard=28]="emptySelectionClipboard",E[E.extraEditorClassName=29]="extraEditorClassName",E[E.fastScrollSensitivity=30]="fastScrollSensitivity",E[E.find=31]="find",E[E.fixedOverflowWidgets=32]="fixedOverflowWidgets",E[E.folding=33]="folding",E[E.foldingStrategy=34]="foldingStrategy",E[E.foldingHighlight=35]="foldingHighlight",E[E.unfoldOnClickAfterEndOfLine=36]="unfoldOnClickAfterEndOfLine",E[E.fontFamily=37]="fontFamily",E[E.fontInfo=38]="fontInfo",E[E.fontLigatures=39]="fontLigatures",E[E.fontSize=40]="fontSize",E[E.fontWeight=41]="fontWeight",E[E.formatOnPaste=42]="formatOnPaste",E[E.formatOnType=43]="formatOnType",E[E.glyphMargin=44]="glyphMargin",E[E.gotoLocation=45]="gotoLocation",E[E.hideCursorInOverviewRuler=46]="hideCursorInOverviewRuler",E[E.highlightActiveIndentGuide=47]="highlightActiveIndentGuide",E[E.hover=48]="hover",E[E.inDiffEditor=49]="inDiffEditor",E[E.letterSpacing=50]="letterSpacing",E[E.lightbulb=51]="lightbulb",E[E.lineDecorationsWidth=52]="lineDecorationsWidth",E[E.lineHeight=53]="lineHeight",E[E.lineNumbers=54]="lineNumbers",E[E.lineNumbersMinChars=55]="lineNumbersMinChars",E[E.linkedEditing=56]="linkedEditing",E[E.links=57]="links",E[E.matchBrackets=58]="matchBrackets",E[E.minimap=59]="minimap",E[E.mouseStyle=60]="mouseStyle",E[E.mouseWheelScrollSensitivity=61]="mouseWheelScrollSensitivity",E[E.mouseWheelZoom=62]="mouseWheelZoom",E[E.multiCursorMergeOverlapping=63]="multiCursorMergeOverlapping",E[E.multiCursorModifier=64]="multiCursorModifier",E[E.multiCursorPaste=65]="multiCursorPaste",E[E.occurrencesHighlight=66]="occurrencesHighlight",E[E.overviewRulerBorder=67]="overviewRulerBorder",E[E.overviewRulerLanes=68]="overviewRulerLanes",E[E.padding=69]="padding",E[E.parameterHints=70]="parameterHints",E[E.peekWidgetDefaultFocus=71]="peekWidgetDefaultFocus",E[E.definitionLinkOpensInPeek=72]="definitionLinkOpensInPeek",E[E.quickSuggestions=73]="quickSuggestions",E[E.quickSuggestionsDelay=74]="quickSuggestionsDelay",E[E.readOnly=75]="readOnly",E[E.renameOnType=76]="renameOnType",E[E.renderControlCharacters=77]="renderControlCharacters",E[E.renderIndentGuides=78]="renderIndentGuides",E[E.renderFinalNewline=79]="renderFinalNewline",E[E.renderLineHighlight=80]="renderLineHighlight",E[E.renderLineHighlightOnlyWhenFocus=81]="renderLineHighlightOnlyWhenFocus",E[E.renderValidationDecorations=82]="renderValidationDecorations",E[E.renderWhitespace=83]="renderWhitespace",E[E.revealHorizontalRightPadding=84]="revealHorizontalRightPadding",E[E.roundedSelection=85]="roundedSelection",E[E.rulers=86]="rulers",E[E.scrollbar=87]="scrollbar",E[E.scrollBeyondLastColumn=88]="scrollBeyondLastColumn",E[E.scrollBeyondLastLine=89]="scrollBeyondLastLine",E[E.scrollPredominantAxis=90]="scrollPredominantAxis",E[E.selectionClipboard=91]="selectionClipboard",E[E.selectionHighlight=92]="selectionHighlight",E[E.selectOnLineNumbers=93]="selectOnLineNumbers",E[E.showFoldingControls=94]="showFoldingControls",E[E.showUnused=95]="showUnused",E[E.snippetSuggestions=96]="snippetSuggestions",E[E.smartSelect=97]="smartSelect",E[E.smoothScrolling=98]="smoothScrolling",E[E.stickyTabStops=99]="stickyTabStops",E[E.stopRenderingLineAfter=100]="stopRenderingLineAfter",E[E.suggest=101]="suggest",E[E.suggestFontSize=102]="suggestFontSize",E[E.suggestLineHeight=103]="suggestLineHeight",E[E.suggestOnTriggerCharacters=104]="suggestOnTriggerCharacters",E[E.suggestSelection=105]="suggestSelection",E[E.tabCompletion=106]="tabCompletion",E[E.tabIndex=107]="tabIndex",E[E.unusualLineTerminators=108]="unusualLineTerminators",E[E.useTabStops=109]="useTabStops",E[E.wordSeparators=110]="wordSeparators",E[E.wordWrap=111]="wordWrap",E[E.wordWrapBreakAfterCharacters=112]="wordWrapBreakAfterCharacters",E[E.wordWrapBreakBeforeCharacters=113]="wordWrapBreakBeforeCharacters",E[E.wordWrapColumn=114]="wordWrapColumn",E[E.wordWrapOverride1=115]="wordWrapOverride1",E[E.wordWrapOverride2=116]="wordWrapOverride2",E[E.wrappingIndent=117]="wrappingIndent",E[E.wrappingStrategy=118]="wrappingStrategy",E[E.showDeprecated=119]="showDeprecated",E[E.inlineHints=120]="inlineHints",E[E.editorClassName=121]="editorClassName",E[E.pixelRatio=122]="pixelRatio",E[E.tabFocusMode=123]="tabFocusMode",E[E.layoutInfo=124]="layoutInfo",E[E.wrappingInfo=125]="wrappingInfo"})(u=e.EditorOption||(e.EditorOption={}));var a;(function(E){E[E.TextDefined=0]="TextDefined",E[E.LF=1]="LF",E[E.CRLF=2]="CRLF"})(a=e.EndOfLinePreference||(e.EndOfLinePreference={}));var r;(function(E){E[E.LF=0]="LF",E[E.CRLF=1]="CRLF"})(r=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var s;(function(E){E[E.Unknown=0]="Unknown",E[E.Backspace=1]="Backspace",E[E.Tab=2]="Tab",E[E.Enter=3]="Enter",E[E.Shift=4]="Shift",E[E.Ctrl=5]="Ctrl",E[E.Alt=6]="Alt",E[E.PauseBreak=7]="PauseBreak",E[E.CapsLock=8]="CapsLock",E[E.Escape=9]="Escape",E[E.Space=10]="Space",E[E.PageUp=11]="PageUp",E[E.PageDown=12]="PageDown",E[E.End=13]="End",E[E.Home=14]="Home",E[E.LeftArrow=15]="LeftArrow",E[E.UpArrow=16]="UpArrow",E[E.RightArrow=17]="RightArrow",E[E.DownArrow=18]="DownArrow",E[E.Insert=19]="Insert",E[E.Delete=20]="Delete",E[E.KEY_0=21]="KEY_0",E[E.KEY_1=22]="KEY_1",E[E.KEY_2=23]="KEY_2",E[E.KEY_3=24]="KEY_3",E[E.KEY_4=25]="KEY_4",E[E.KEY_5=26]="KEY_5",E[E.KEY_6=27]="KEY_6",E[E.KEY_7=28]="KEY_7",E[E.KEY_8=29]="KEY_8",E[E.KEY_9=30]="KEY_9",E[E.KEY_A=31]="KEY_A",E[E.KEY_B=32]="KEY_B",E[E.KEY_C=33]="KEY_C",E[E.KEY_D=34]="KEY_D",E[E.KEY_E=35]="KEY_E",E[E.KEY_F=36]="KEY_F",E[E.KEY_G=37]="KEY_G",E[E.KEY_H=38]="KEY_H",E[E.KEY_I=39]="KEY_I",E[E.KEY_J=40]="KEY_J",E[E.KEY_K=41]="KEY_K",E[E.KEY_L=42]="KEY_L",E[E.KEY_M=43]="KEY_M",E[E.KEY_N=44]="KEY_N",E[E.KEY_O=45]="KEY_O",E[E.KEY_P=46]="KEY_P",E[E.KEY_Q=47]="KEY_Q",E[E.KEY_R=48]="KEY_R",E[E.KEY_S=49]="KEY_S",E[E.KEY_T=50]="KEY_T",E[E.KEY_U=51]="KEY_U",E[E.KEY_V=52]="KEY_V",E[E.KEY_W=53]="KEY_W",E[E.KEY_X=54]="KEY_X",E[E.KEY_Y=55]="KEY_Y",E[E.KEY_Z=56]="KEY_Z",E[E.Meta=57]="Meta",E[E.ContextMenu=58]="ContextMenu",E[E.F1=59]="F1",E[E.F2=60]="F2",E[E.F3=61]="F3",E[E.F4=62]="F4",E[E.F5=63]="F5",E[E.F6=64]="F6",E[E.F7=65]="F7",E[E.F8=66]="F8",E[E.F9=67]="F9",E[E.F10=68]="F10",E[E.F11=69]="F11",E[E.F12=70]="F12",E[E.F13=71]="F13",E[E.F14=72]="F14",E[E.F15=73]="F15",E[E.F16=74]="F16",E[E.F17=75]="F17",E[E.F18=76]="F18",E[E.F19=77]="F19",E[E.NumLock=78]="NumLock",E[E.ScrollLock=79]="ScrollLock",E[E.US_SEMICOLON=80]="US_SEMICOLON",E[E.US_EQUAL=81]="US_EQUAL",E[E.US_COMMA=82]="US_COMMA",E[E.US_MINUS=83]="US_MINUS",E[E.US_DOT=84]="US_DOT",E[E.US_SLASH=85]="US_SLASH",E[E.US_BACKTICK=86]="US_BACKTICK",E[E.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",E[E.US_BACKSLASH=88]="US_BACKSLASH",E[E.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",E[E.US_QUOTE=90]="US_QUOTE",E[E.OEM_8=91]="OEM_8",E[E.OEM_102=92]="OEM_102",E[E.NUMPAD_0=93]="NUMPAD_0",E[E.NUMPAD_1=94]="NUMPAD_1",E[E.NUMPAD_2=95]="NUMPAD_2",E[E.NUMPAD_3=96]="NUMPAD_3",E[E.NUMPAD_4=97]="NUMPAD_4",E[E.NUMPAD_5=98]="NUMPAD_5",E[E.NUMPAD_6=99]="NUMPAD_6",E[E.NUMPAD_7=100]="NUMPAD_7",E[E.NUMPAD_8=101]="NUMPAD_8",E[E.NUMPAD_9=102]="NUMPAD_9",E[E.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",E[E.NUMPAD_ADD=104]="NUMPAD_ADD",E[E.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",E[E.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",E[E.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",E[E.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",E[E.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",E[E.ABNT_C1=110]="ABNT_C1",E[E.ABNT_C2=111]="ABNT_C2",E[E.MAX_VALUE=112]="MAX_VALUE"})(s=e.KeyCode||(e.KeyCode={}));var i;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(i=e.MarkerSeverity||(e.MarkerSeverity={}));var n;(function(E){E[E.Unnecessary=1]="Unnecessary",E[E.Deprecated=2]="Deprecated"})(n=e.MarkerTag||(e.MarkerTag={}));var t;(function(E){E[E.Inline=1]="Inline",E[E.Gutter=2]="Gutter"})(t=e.MinimapPosition||(e.MinimapPosition={}));var o;(function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.TEXTAREA=1]="TEXTAREA",E[E.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",E[E.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",E[E.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",E[E.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",E[E.CONTENT_TEXT=6]="CONTENT_TEXT",E[E.CONTENT_EMPTY=7]="CONTENT_EMPTY",E[E.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",E[E.CONTENT_WIDGET=9]="CONTENT_WIDGET",E[E.OVERVIEW_RULER=10]="OVERVIEW_RULER",E[E.SCROLLBAR=11]="SCROLLBAR",E[E.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",E[E.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(o=e.MouseTargetType||(e.MouseTargetType={}));var h;(function(E){E[E.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",E[E.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",E[E.TOP_CENTER=2]="TOP_CENTER"})(h=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var _;(function(E){E[E.Left=1]="Left",E[E.Center=2]="Center",E[E.Right=4]="Right",E[E.Full=7]="Full"})(_=e.OverviewRulerLane||(e.OverviewRulerLane={}));var m;(function(E){E[E.Off=0]="Off",E[E.On=1]="On",E[E.Relative=2]="Relative",E[E.Interval=3]="Interval",E[E.Custom=4]="Custom"})(m=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var g;(function(E){E[E.None=0]="None",E[E.Text=1]="Text",E[E.Blocks=2]="Blocks"})(g=e.RenderMinimap||(e.RenderMinimap={}));var b;(function(E){E[E.Smooth=0]="Smooth",E[E.Immediate=1]="Immediate"})(b=e.ScrollType||(e.ScrollType={}));var y;(function(E){E[E.Auto=1]="Auto",E[E.Hidden=2]="Hidden",E[E.Visible=3]="Visible"})(y=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var L;(function(E){E[E.LTR=0]="LTR",E[E.RTL=1]="RTL"})(L=e.SelectionDirection||(e.SelectionDirection={}));var D;(function(E){E[E.Invoke=1]="Invoke",E[E.TriggerCharacter=2]="TriggerCharacter",E[E.ContentChange=3]="ContentChange"})(D=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var N;(function(E){E[E.File=0]="File",E[E.Module=1]="Module",E[E.Namespace=2]="Namespace",E[E.Package=3]="Package",E[E.Class=4]="Class",E[E.Method=5]="Method",E[E.Property=6]="Property",E[E.Field=7]="Field",E[E.Constructor=8]="Constructor",E[E.Enum=9]="Enum",E[E.Interface=10]="Interface",E[E.Function=11]="Function",E[E.Variable=12]="Variable",E[E.Constant=13]="Constant",E[E.String=14]="String",E[E.Number=15]="Number",E[E.Boolean=16]="Boolean",E[E.Array=17]="Array",E[E.Object=18]="Object",E[E.Key=19]="Key",E[E.Null=20]="Null",E[E.EnumMember=21]="EnumMember",E[E.Struct=22]="Struct",E[E.Event=23]="Event",E[E.Operator=24]="Operator",E[E.TypeParameter=25]="TypeParameter"})(N=e.SymbolKind||(e.SymbolKind={}));var I;(function(E){E[E.Deprecated=1]="Deprecated"})(I=e.SymbolTag||(e.SymbolTag={}));var T;(function(E){E[E.Hidden=0]="Hidden",E[E.Blink=1]="Blink",E[E.Smooth=2]="Smooth",E[E.Phase=3]="Phase",E[E.Expand=4]="Expand",E[E.Solid=5]="Solid"})(T=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var O;(function(E){E[E.Line=1]="Line",E[E.Block=2]="Block",E[E.Underline=3]="Underline",E[E.LineThin=4]="LineThin",E[E.BlockOutline=5]="BlockOutline",E[E.UnderlineThin=6]="UnderlineThin"})(O=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var A;(function(E){E[E.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",E[E.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",E[E.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",E[E.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(A=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var B;(function(E){E[E.None=0]="None",E[E.Same=1]="Same",E[E.Indent=2]="Indent",E[E.DeepIndent=3]="DeepIndent"})(B=e.WrappingIndent||(e.WrappingIndent={}))}),define(ee[218],te([0,1,23,6,39,24,13,3,21,128,168]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class c{static chord(r,d){return k.KeyChord(r,d)}}e.KeyMod=c,c.CtrlCmd=2048,c.Shift=1024,c.Alt=512,c.WinCtrl=256;function u(){return{editor:void 0,languages:void 0,CancellationTokenSource:C.CancellationTokenSource,Emitter:M.Emitter,KeyCode:p.KeyCode,KeyMod:c,Position:S.Position,Range:v.Range,Selection:l.Selection,SelectionDirection:p.SelectionDirection,MarkerSeverity:p.MarkerSeverity,MarkerTag:p.MarkerTag,Uri:w.URI,Token:f.Token}}e.createMonacoBaseAPI=u}),define(ee[219],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class C{constructor(S,v,l){this.from=S|0,this.to=v|0,this.colorId=l|0}static compare(S,v){return S.colorId===v.colorId?S.from===v.from?S.to-v.to:S.from-v.from:S.colorId-v.colorId}}e.ColorZone=C;class M{constructor(S,v,l){this.startLineNumber=S,this.endLineNumber=v,this.color=l,this._colorZone=null}static compare(S,v){return S.color===v.color?S.startLineNumber===v.startLineNumber?S.endLineNumber-v.endLineNumber:S.startLineNumber-v.startLineNumber:S.color<v.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=M;class k{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(M.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,v=Math.floor(this._lineHeight),l=Math.floor(this.getCanvasHeight()),f=Math.floor(this._outerHeight),p=l/f,c=Math.floor(4*this._pixelRatio/2);let u=[];for(let a=0,r=this._zones.length;a<r;a++){const d=this._zones[a];if(!S){const m=d.getColorZones();if(m){u.push(m);continue}}const s=Math.floor(p*this._getVerticalOffsetForLine(d.startLineNumber)),i=Math.floor(p*(this._getVerticalOffsetForLine(d.endLineNumber)+v));let n=Math.floor((s+i)/2),t=i-n;t<c&&(t=c),n-t<0&&(n=t),n+t>l&&(n=l-t);const o=d.color;let h=this._color2Id[o];h||(h=++this._lastAssignedId,this._color2Id[o]=h,this._id2Color[h]=o);const _=new C(n-t,n+t,h);d.setColorZone(_),u.push(_)}return this._colorZonesInvalid=!1,u.sort(C.compare),u}}e.OverviewZoneManager=k}),define(ee[109],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class C{constructor(f,p){this._viewLayout=f,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const c=this._viewLayout.getCurrentViewport();this.scrollTop=c.top,this.scrollLeft=c.left,this.viewportWidth=c.width,this.viewportHeight=c.height}getScrolledTopFromAbsoluteTop(f){return f-this.scrollTop}getVerticalOffsetForLineNumber(f){return this._viewLayout.getVerticalOffsetForLineNumber(f)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=C;class M extends C{constructor(f,p,c){super(f,p);this._viewLines=c}linesVisibleRangesForRange(f,p){return this._viewLines.linesVisibleRangesForRange(f,p)}visibleRangeForPosition(f){return this._viewLines.visibleRangeForPosition(f)}}e.RenderingContext=M;class k{constructor(f,p,c){this.outsideRenderedLine=f,this.lineNumber=p,this.ranges=c}}e.LineVisibleRanges=k;class w{constructor(f,p){this.left=Math.round(f),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=w;class S{constructor(f,p){this.outsideRenderedLine=f,this.left=Math.round(p)}}e.HorizontalPosition=S;class v{constructor(f,p){this.outsideRenderedLine=f,this.ranges=p}}e.VisibleRanges=v}),define(ee[380],te([0,1,109]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class M{constructor(S,v){this.left=S,this.width=v}toString(){return`[${this.left},${this.width}]`}static compare(S,v){return S.left-v.left}}class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(S,v){S.selectNodeContents(v)}static _readClientRects(S,v,l,f,p){const c=this._createRange();try{return c.setStart(S,v),c.setEnd(l,f),c.getClientRects()}catch(u){return null}finally{this._detachRange(c,p)}}static _mergeAdjacentRanges(S){if(S.length===1)return[new C.HorizontalRange(S[0].left,S[0].width)];S.sort(M.compare);let v=[],l=0,f=S[0].left,p=S[0].width;for(let c=1,u=S.length;c<u;c++){const a=S[c],r=a.left,d=a.width;f+p+.9>=r?p=Math.max(p,r+d-f):(v[l++]=new C.HorizontalRange(f,p),f=r,p=d)}return v[l++]=new C.HorizontalRange(f,p),v}static _createHorizontalRangesFromClientRects(S,v){if(!S||S.length===0)return null;const l=[];for(let f=0,p=S.length;f<p;f++){const c=S[f];l[f]=new M(Math.max(0,c.left-v),c.width)}return this._mergeAdjacentRanges(l)}static readHorizontalRanges(S,v,l,f,p,c,u){const a=0,r=S.children.length-1;if(a>r)return null;if(v=Math.min(r,Math.max(a,v)),f=Math.min(r,Math.max(a,f)),v===f&&l===p&&l===0){const n=S.children[v].getClientRects();return this._createHorizontalRangesFromClientRects(n,c)}v!==f&&f>0&&p===0&&(f--,p=1073741824);let d=S.children[v].firstChild,s=S.children[f].firstChild;if((!d||!s)&&(!d&&l===0&&v>0&&(d=S.children[v-1].firstChild,l=1073741824),!s&&p===0&&f>0&&(s=S.children[f-1].firstChild,p=1073741824)),!d||!s)return null;l=Math.min(d.textContent.length,Math.max(0,l)),p=Math.min(s.textContent.length,Math.max(0,p));const i=this._readClientRects(d,l,s,p,u);return this._createHorizontalRangesFromClientRects(i,c)}}e.RangeUtil=k}),define(ee[381],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=e.EditorTheme=void 0;class C{constructor(w){this._theme=w}get type(){return this._theme.type}update(w){this._theme=w}getColor(w){return this._theme.getColor(w)}}e.EditorTheme=C;class M{constructor(w,S,v){this.configuration=w,this.theme=new C(S),this.model=v,this.viewLayout=v.viewLayout}addEventHandler(w){this.model.addViewEventHandler(w)}removeEventHandler(w){this.model.removeViewEventHandler(w)}}e.ViewContext=M}),define(ee[169],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class C{constructor(){this.type=0}}e.ViewCompositionStartEvent=C;class M{constructor(){this.type=1}}e.ViewCompositionEndEvent=M;class k{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=k;class w{constructor(h,_){this.type=3,this.selections=h,this.modelSelections=_}}e.ViewCursorStateChangedEvent=w;class S{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=S;class v{constructor(){this.type=5}}e.ViewFlushedEvent=v;class l{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=l;class f{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=f;class p{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=p;class c{constructor(h,_){this.type=9,this.fromLineNumber=h,this.toLineNumber=_}}e.ViewLinesChangedEvent=c;class u{constructor(h,_){this.type=10,this.fromLineNumber=h,this.toLineNumber=_}}e.ViewLinesDeletedEvent=u;class a{constructor(h,_){this.type=11,this.fromLineNumber=h,this.toLineNumber=_}}e.ViewLinesInsertedEvent=a;class r{constructor(h,_,m,g,b,y){this.type=12,this.source=h,this.range=_,this.selections=m,this.verticalType=g,this.revealHorizontal=b,this.scrollType=y}}e.ViewRevealRangeRequestEvent=r;class d{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=d;class s{constructor(){this.type=14}}e.ViewThemeChangedEvent=s;class i{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=i;class n{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=n;class t{constructor(){this.type=17}}e.ViewZonesChangedEvent=t}),define(ee[170],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class M{constructor(l,f,p,c){this.startColumn=l,this.endColumn=f,this.className=p,this.type=c}static _equals(l,f){return l.startColumn===f.startColumn&&l.endColumn===f.endColumn&&l.className===f.className&&l.type===f.type}static equalsArr(l,f){const p=l.length,c=f.length;if(p!==c)return!1;for(let u=0;u<p;u++)if(!M._equals(l[u],f[u]))return!1;return!0}static extractWrapped(l,f,p){if(l.length===0)return l;const c=f+1,u=p+1,a=p-f,r=[];let d=0;for(const s of l)s.endColumn<=c||s.startColumn>=u||(r[d++]=new M(Math.max(1,s.startColumn-c+1),Math.min(a+1,s.endColumn-c+1),s.className,s.type));return r}static filter(l,f,p,c){if(l.length===0)return[];let u=[],a=0;for(let r=0,d=l.length;r<d;r++){const s=l[r],i=s.range;if(!(i.endLineNumber<f||i.startLineNumber>f)&&!(i.isEmpty()&&(s.type===0||s.type===3))){const n=i.startLineNumber===f?i.startColumn:p,t=i.endLineNumber===f?i.endColumn:c;u[a++]=new M(n,t,s.inlineClassName,s.type)}}return u}static _typeCompare(l,f){const p=[2,0,1,3];return p[l]-p[f]}static compare(l,f){if(l.startColumn===f.startColumn){if(l.endColumn===f.endColumn){const p=M._typeCompare(l.type,f.type);return p===0?l.className<f.className?-1:l.className>f.className?1:0:p}return l.endColumn-f.endColumn}return l.startColumn-f.startColumn}}e.LineDecoration=M;class k{constructor(l,f,p,c){this.startOffset=l,this.endOffset=f,this.className=p,this.metadata=c}}e.DecorationSegment=k;class w{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(l){let f=0;for(let p=0,c=l.length;p<c;p++)f|=l[p];return f}consumeLowerThan(l,f,p){for(;this.count>0&&this.stopOffsets[0]<l;){let c=0;for(;c+1<this.count&&this.stopOffsets[c]===this.stopOffsets[c+1];)c++;p.push(new k(f,this.stopOffsets[c],this.classNames.join(" "),w._metadata(this.metadata))),f=this.stopOffsets[c]+1,this.stopOffsets.splice(0,c+1),this.classNames.splice(0,c+1),this.metadata.splice(0,c+1),this.count-=c+1}return this.count>0&&f<l&&(p.push(new k(f,l-1,this.classNames.join(" "),w._metadata(this.metadata))),f=l),f}insert(l,f,p){if(this.count===0||this.stopOffsets[this.count-1]<=l)this.stopOffsets.push(l),this.classNames.push(f),this.metadata.push(p);else for(let c=0;c<this.count;c++)if(this.stopOffsets[c]>=l){this.stopOffsets.splice(c,0,l),this.classNames.splice(c,0,f),this.metadata.splice(c,0,p);break}this.count++}}class S{static normalize(l,f){if(f.length===0)return[];let p=[];const c=new w;let u=0;for(let a=0,r=f.length;a<r;a++){const d=f[a];let s=d.startColumn,i=d.endColumn;const n=d.className,t=d.type===1?2:d.type===2?4:0;if(s>1){const _=l.charCodeAt(s-2);C.isHighSurrogate(_)&&s--}if(i>1){const _=l.charCodeAt(i-2);C.isHighSurrogate(_)&&i--}const o=s-1,h=i-2;u=c.consumeLowerThan(o,u,p),c.count===0&&(u=o),c.insert(h,n,t)}return c.consumeLowerThan(1073741824,u,p),p}}e.LineDecorationsNormalizer=S}),define(ee[382],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class M{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(v){this._hasPending=!0,this._inserts.push(v)}change(v){this._hasPending=!0,this._changes.push(v)}remove(v){this._hasPending=!0,this._removes.push(v)}mustCommit(){return this._hasPending}commit(v){if(!!this._hasPending){const l=this._inserts,f=this._changes,p=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],v._commitPendingChanges(l,f,p)}}}class k{constructor(v,l,f,p,c){this.id=v,this.afterLineNumber=l,this.ordinal=f,this.height=p,this.minWidth=c,this.prefixSum=0}}e.EditorWhitespace=k;class w{constructor(v,l,f,p){this._instanceId=C.singleLetterHash(++w.INSTANCE_COUNT),this._pendingChanges=new M,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=v,this._lineHeight=l,this._paddingTop=f,this._paddingBottom=p}static findInsertionIndex(v,l,f){let p=0,c=v.length;for(;p<c;){const u=p+c>>>1;l===v[u].afterLineNumber?f<v[u].ordinal?c=u:p=u+1:l<v[u].afterLineNumber?c=u:p=u+1}return p}setLineHeight(v){this._checkPendingChanges(),this._lineHeight=v}setPadding(v,l){this._paddingTop=v,this._paddingBottom=l}onFlushed(v){this._checkPendingChanges(),this._lineCount=v}changeWhitespace(v){let l=!1;try{v({insertWhitespace:(p,c,u,a)=>{l=!0,p=p|0,c=c|0,u=u|0,a=a|0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(r,p,c,u,a)),r},changeOneWhitespace:(p,c,u)=>{l=!0,c=c|0,u=u|0,this._pendingChanges.change({id:p,newAfterLineNumber:c,newHeight:u})},removeWhitespace:p=>{l=!0,this._pendingChanges.remove({id:p})}})}finally{this._pendingChanges.commit(this)}return l}_commitPendingChanges(v,l,f){if((v.length>0||f.length>0)&&(this._minWidth=-1),v.length+l.length+f.length<=1){for(const r of v)this._insertWhitespace(r);for(const r of l)this._changeOneWhitespace(r.id,r.newAfterLineNumber,r.newHeight);for(const r of f){const d=this._findWhitespaceIndex(r.id);d!==-1&&this._removeWhitespace(d)}return}const p=new Set;for(const r of f)p.add(r.id);const c=new Map;for(const r of l)c.set(r.id,r);const u=r=>{let d=[];for(const s of r)if(!p.has(s.id)){if(c.has(s.id)){const i=c.get(s.id);s.afterLineNumber=i.newAfterLineNumber,s.height=i.newHeight}d.push(s)}return d},a=u(this._arr).concat(u(v));a.sort((r,d)=>r.afterLineNumber===d.afterLineNumber?r.ordinal-d.ordinal:r.afterLineNumber-d.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(v){const l=w.findInsertionIndex(this._arr,v.afterLineNumber,v.ordinal);this._arr.splice(l,0,v),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,l-1)}_findWhitespaceIndex(v){const l=this._arr;for(let f=0,p=l.length;f<p;f++)if(l[f].id===v)return f;return-1}_changeOneWhitespace(v,l,f){const p=this._findWhitespaceIndex(v);if(p!==-1&&(this._arr[p].height!==f&&(this._arr[p].height=f,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)),this._arr[p].afterLineNumber!==l)){const c=this._arr[p];this._removeWhitespace(p),c.afterLineNumber=l,this._insertWhitespace(c)}}_removeWhitespace(v){this._arr.splice(v,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}onLinesDeleted(v,l){this._checkPendingChanges(),v=v|0,l=l|0,this._lineCount-=l-v+1;for(let f=0,p=this._arr.length;f<p;f++){const c=this._arr[f].afterLineNumber;v<=c&&c<=l?this._arr[f].afterLineNumber=v-1:c>l&&(this._arr[f].afterLineNumber-=l-v+1)}}onLinesInserted(v,l){this._checkPendingChanges(),v=v|0,l=l|0,this._lineCount+=l-v+1;for(let f=0,p=this._arr.length;f<p;f++){const c=this._arr[f].afterLineNumber;v<=c&&(this._arr[f].afterLineNumber+=l-v+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(v){this._checkPendingChanges(),v=v|0;let l=Math.max(0,this._prefixSumValidIndex+1);l===0&&(this._arr[0].prefixSum=this._arr[0].height,l++);for(let f=l;f<=v;f++)this._arr[f].prefixSum=this._arr[f-1].prefixSum+this._arr[f].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,v),this._arr[v].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const v=this._lineHeight*this._lineCount,l=this.getWhitespacesTotalHeight();return v+l+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(v){this._checkPendingChanges(),v=v|0;const l=this._findLastWhitespaceBeforeLineNumber(v);return l===-1?0:this.getWhitespacesAccumulatedHeight(l)}_findLastWhitespaceBeforeLineNumber(v){v=v|0;const l=this._arr;let f=0,p=l.length-1;for(;f<=p;){const u=(p-f|0)/2|0,a=f+u|0;if(l[a].afterLineNumber<v){if(a+1>=l.length||l[a+1].afterLineNumber>=v)return a;f=a+1|0}else p=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(v){v=v|0;const f=this._findLastWhitespaceBeforeLineNumber(v)+1;return f<this._arr.length?f:-1}getFirstWhitespaceIndexAfterLineNumber(v){return this._checkPendingChanges(),v=v|0,this._findFirstWhitespaceAfterLineNumber(v)}getVerticalOffsetForLineNumber(v){this._checkPendingChanges(),v=v|0;let l;v>1?l=this._lineHeight*(v-1):l=0;const f=this.getWhitespaceAccumulatedHeightBeforeLineNumber(v);return l+f+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let v=0;for(let l=0,f=this._arr.length;l<f;l++)v=Math.max(v,this._arr[l].minWidth);this._minWidth=v}return this._minWidth}isAfterLines(v){this._checkPendingChanges();const l=this.getLinesTotalHeight();return v>l}isInTopPadding(v){return this._paddingTop===0?!1:(this._checkPendingChanges(),v<this._paddingTop)}isInBottomPadding(v){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const l=this.getLinesTotalHeight();return v>=l-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(v){if(this._checkPendingChanges(),v=v|0,v<0)return 1;const l=this._lineCount|0,f=this._lineHeight;let p=1,c=l;for(;p<c;){const u=(p+c)/2|0,a=this.getVerticalOffsetForLineNumber(u)|0;if(v>=a+f)p=u+1;else{if(v>=a)return u;c=u}}return p>l?l:p}getLinesViewportData(v,l){this._checkPendingChanges(),v=v|0,l=l|0;const f=this._lineHeight,p=this.getLineNumberAtOrAfterVerticalOffset(v)|0,c=this.getVerticalOffsetForLineNumber(p)|0;let u=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(p)|0;const r=this.getWhitespacesCount()|0;let d,s;a===-1?(a=r,s=u+1,d=0):(s=this.getAfterLineNumberForWhitespaceIndex(a)|0,d=this.getHeightForWhitespaceIndex(a)|0);let i=c,n=i;const t=5e5;let o=0;c>=t&&(o=Math.floor(c/t)*t,o=Math.floor(o/f)*f,n-=o);const h=[],_=v+(l-v)/2;let m=-1;for(let L=p;L<=u;L++){if(m===-1){const D=i,N=i+f;(D<=_&&_<N||D>_)&&(m=L)}for(i+=f,h[L-p]=n,n+=f;s===L;)n+=d,i+=d,a++,a>=r?s=u+1:(s=this.getAfterLineNumberForWhitespaceIndex(a)|0,d=this.getHeightForWhitespaceIndex(a)|0);if(i>=l){u=L;break}}m===-1&&(m=u);const g=this.getVerticalOffsetForLineNumber(u)|0;let b=p,y=u;return b<y&&c<v&&b++,b<y&&g+f>l&&y--,{bigNumbersDelta:o,startLineNumber:p,endLineNumber:u,relativeVerticalOffset:h,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:y}}getVerticalOffsetForWhitespaceIndex(v){this._checkPendingChanges(),v=v|0;const l=this.getAfterLineNumberForWhitespaceIndex(v);let f;l>=1?f=this._lineHeight*l:f=0;let p;return v>0?p=this.getWhitespacesAccumulatedHeight(v-1):p=0,f+p+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(v){this._checkPendingChanges(),v=v|0;let l=0,f=this.getWhitespacesCount()-1;if(f<0)return-1;const p=this.getVerticalOffsetForWhitespaceIndex(f),c=this.getHeightForWhitespaceIndex(f);if(v>=p+c)return-1;for(;l<f;){const u=Math.floor((l+f)/2),a=this.getVerticalOffsetForWhitespaceIndex(u),r=this.getHeightForWhitespaceIndex(u);if(v>=a+r)l=u+1;else{if(v>=a)return u;f=u}}return l}getWhitespaceAtVerticalOffset(v){this._checkPendingChanges(),v=v|0;const l=this.getWhitespaceIndexAtOrAfterVerticallOffset(v);if(l<0||l>=this.getWhitespacesCount())return null;const f=this.getVerticalOffsetForWhitespaceIndex(l);if(f>v)return null;const p=this.getHeightForWhitespaceIndex(l),c=this.getIdForWhitespaceIndex(l),u=this.getAfterLineNumberForWhitespaceIndex(l);return{id:c,afterLineNumber:u,verticalOffset:f,height:p}}getWhitespaceViewportData(v,l){this._checkPendingChanges(),v=v|0,l=l|0;const f=this.getWhitespaceIndexAtOrAfterVerticallOffset(v),p=this.getWhitespacesCount()-1;if(f<0)return[];let c=[];for(let u=f;u<=p;u++){const a=this.getVerticalOffsetForWhitespaceIndex(u),r=this.getHeightForWhitespaceIndex(u);if(a>=l)break;c.push({id:this.getIdForWhitespaceIndex(u),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(u),verticalOffset:a,height:r})}return c}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(v){return this._checkPendingChanges(),v=v|0,this._arr[v].id}getAfterLineNumberForWhitespaceIndex(v){return this._checkPendingChanges(),v=v|0,this._arr[v].afterLineNumber}getHeightForWhitespaceIndex(v){return this._checkPendingChanges(),v=v|0,this._arr[v].height}}e.LinesLayout=w,w.INSTANCE_COUNT=0}),define(ee[130],te([0,1,8,93,170]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.RenderLineInput=e.LineRange=void 0;class w{constructor(h,_,m){this.endIndex=h,this.type=_,this.metadata=m}isWhitespace(){return!!(this.metadata&1)}}class S{constructor(h,_){this.startOffset=h,this.endOffset=_}equals(h){return this.startOffset===h.startOffset&&this.endOffset===h.endOffset}}e.LineRange=S;class v{constructor(h,_,m,g,b,y,L,D,N,I,T,O,A,B,E,W,R,F,V){this.useMonospaceOptimizations=h,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=m,this.continuesWithWrappedLine=g,this.isBasicASCII=b,this.containsRTL=y,this.fauxIndentLength=L,this.lineTokens=D,this.lineDecorations=N.sort(k.LineDecoration.compare),this.tabSize=I,this.startVisibleColumn=T,this.spaceWidth=O,this.stopRenderingLineAfter=E,this.renderWhitespace=W==="all"?4:W==="boundary"?1:W==="selection"?2:W==="trailing"?3:0,this.renderControlCharacters=R,this.fontLigatures=F,this.selectionsOnLine=V&&V.sort((J,se)=>J.startOffset<se.startOffset?-1:1);const K=Math.abs(B-O),G=Math.abs(A-O);K<G?(this.renderSpaceWidth=B,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=A,this.renderSpaceCharCode=183)}sameSelection(h){if(this.selectionsOnLine===null)return h===null;if(h===null||h.length!==this.selectionsOnLine.length)return!1;for(let _=0;_<this.selectionsOnLine.length;_++)if(!this.selectionsOnLine[_].equals(h[_]))return!1;return!0}equals(h){return this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineContent===h.lineContent&&this.continuesWithWrappedLine===h.continuesWithWrappedLine&&this.isBasicASCII===h.isBasicASCII&&this.containsRTL===h.containsRTL&&this.fauxIndentLength===h.fauxIndentLength&&this.tabSize===h.tabSize&&this.startVisibleColumn===h.startVisibleColumn&&this.spaceWidth===h.spaceWidth&&this.renderSpaceWidth===h.renderSpaceWidth&&this.renderSpaceCharCode===h.renderSpaceCharCode&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.fontLigatures===h.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,h.lineDecorations)&&this.lineTokens.equals(h.lineTokens)&&this.sameSelection(h.selectionsOnLine)}}e.RenderLineInput=v;class l{constructor(h,_){this.length=h,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(h){return(h&4294901760)>>>16}static getCharIndex(h){return(h&65535)>>>0}setPartData(h,_,m,g){let b=(_<<16|m<<0)>>>0;this._data[h]=b,this._absoluteOffsets[h]=g+m}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(h){return this.length===0?0:h<0?this._data[0]:h>=this.length?this._data[this.length-1]:this._data[h]}partDataToCharOffset(h,_,m){if(this.length===0)return 0;let g=(h<<16|m<<0)>>>0,b=0,y=this.length-1;for(;b+1<y;){let E=b+y>>>1,W=this._data[E];if(W===g)return E;W>g?y=E:b=E}if(b===y)return b;let L=this._data[b],D=this._data[y];if(L===g)return b;if(D===g)return y;let N=l.getPartIndex(L),I=l.getCharIndex(L),T=l.getPartIndex(D),O;N!==T?O=_:O=l.getCharIndex(D);let A=m-I,B=O-m;return A<=B?b:y}}e.CharacterMapping=l;class f{constructor(h,_,m){this.characterMapping=h,this.containsRTL=_,this.containsForeignElements=m}}e.RenderLineOutput=f;function p(o,h){if(o.lineContent.length===0){let _=0,m="<span><span></span></span>";if(o.lineDecorations.length>0){const g=[],b=[];for(let y=0,L=o.lineDecorations.length;y<L;y++){const D=o.lineDecorations[y];D.type===1&&(g.push(o.lineDecorations[y].className),_|=1),D.type===2&&(b.push(o.lineDecorations[y].className),_|=2)}if(_!==0){const y=g.length>0?`<span class="${g.join(" ")}"></span>`:"",L=b.length>0?`<span class="${b.join(" ")}"></span>`:"";m=`<span>${y}${L}</span>`}}return h.appendASCIIString(m),new f(new l(0,0),!1,_)}return t(r(o),h)}e.renderViewLine=p;class c{constructor(h,_,m,g){this.characterMapping=h,this.html=_,this.containsRTL=m,this.containsForeignElements=g}}e.RenderLineOutput2=c;function u(o){let h=M.createStringBuilder(1e4),_=p(o,h);return new c(_.characterMapping,h.build(),_.containsRTL,_.containsForeignElements)}e.renderViewLine2=u;class a{constructor(h,_,m,g,b,y,L,D,N,I,T,O,A,B,E){this.fontIsMonospace=h,this.canUseHalfwidthRightwardsArrow=_,this.lineContent=m,this.len=g,this.isOverflowing=b,this.parts=y,this.containsForeignElements=L,this.fauxIndentLength=D,this.tabSize=N,this.startVisibleColumn=I,this.containsRTL=T,this.spaceWidth=O,this.renderSpaceCharCode=A,this.renderWhitespace=B,this.renderControlCharacters=E}}function r(o){const h=o.lineContent;let _,m;o.stopRenderingLineAfter!==-1&&o.stopRenderingLineAfter<h.length?(_=!0,m=o.stopRenderingLineAfter):(_=!1,m=h.length);let g=d(o.lineTokens,o.fauxIndentLength,m);(o.renderWhitespace===4||o.renderWhitespace===1||o.renderWhitespace===2&&!!o.selectionsOnLine||o.renderWhitespace===3)&&(g=i(o,h,m,g));let b=0;if(o.lineDecorations.length>0){for(let y=0,L=o.lineDecorations.length;y<L;y++){const D=o.lineDecorations[y];D.type===3||D.type===1?b|=1:D.type===2&&(b|=2)}g=n(h,m,g,o.lineDecorations)}return o.containsRTL||(g=s(h,g,!o.isBasicASCII||o.fontLigatures)),new a(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,h,m,_,g,b,o.fauxIndentLength,o.tabSize,o.startVisibleColumn,o.containsRTL,o.spaceWidth,o.renderSpaceCharCode,o.renderWhitespace,o.renderControlCharacters)}function d(o,h,_){let m=[],g=0;h>0&&(m[g++]=new w(h,"",0));for(let b=0,y=o.getCount();b<y;b++){const L=o.getEndOffset(b);if(!(L<=h)){const D=o.getClassName(b);if(L>=_){m[g++]=new w(_,D,0);break}m[g++]=new w(L,D,0)}}return m}function s(o,h,_){let m=0,g=[],b=0;if(_)for(let y=0,L=h.length;y<L;y++){const D=h[y],N=D.endIndex;if(m+50<N){const I=D.type,T=D.metadata;let O=-1,A=m;for(let B=m;B<N;B++)o.charCodeAt(B)===32&&(O=B),O!==-1&&B-A>=50&&(g[b++]=new w(O+1,I,T),A=O+1,O=-1);A!==N&&(g[b++]=new w(N,I,T))}else g[b++]=D;m=N}else for(let y=0,L=h.length;y<L;y++){const D=h[y],N=D.endIndex;let I=N-m;if(I>50){const T=D.type,O=D.metadata,A=Math.ceil(I/50);for(let B=1;B<A;B++){let E=m+B*50;g[b++]=new w(E,T,O)}g[b++]=new w(N,T,O)}else g[b++]=D;m=N}return g}function i(o,h,_,m){const g=o.continuesWithWrappedLine,b=o.fauxIndentLength,y=o.tabSize,L=o.startVisibleColumn,D=o.useMonospaceOptimizations,N=o.selectionsOnLine,I=o.renderWhitespace===1,T=o.renderWhitespace===3,O=o.renderSpaceWidth!==o.spaceWidth;let A=[],B=0,E=0,W=m[E].type,R=m[E].endIndex;const F=m.length;let V=!1,K=C.firstNonWhitespaceIndex(h),G;K===-1?(V=!0,K=_,G=_):G=C.lastNonWhitespaceIndex(h);let J=!1,se=0,ie=N&&N[se],ae=L%y;for(let U=b;U<_;U++){const P=h.charCodeAt(U);ie&&U>=ie.endOffset&&(se++,ie=N&&N[se]);let x;if(U<K||U>G)x=!0;else if(P===9)x=!0;else if(P===32)if(I)if(J)x=!0;else{const H=U+1<_?h.charCodeAt(U+1):0;x=H===32||H===9}else x=!0;else x=!1;if(x&&N&&(x=!!ie&&ie.startOffset<=U&&ie.endOffset>U),x&&T&&(x=V||U>G),J){if(!x||!D&&ae>=y){if(O){const H=B>0?A[B-1].endIndex:b;for(let z=H+1;z<=U;z++)A[B++]=new w(z,"mtkw",1)}else A[B++]=new w(U,"mtkw",1);ae=ae%y}}else(U===R||x&&U>b)&&(A[B++]=new w(U,W,0),ae=ae%y);for(P===9?ae=y:C.isFullWidthCharacter(P)?ae+=2:ae++,J=x;U===R;)E++,E<F&&(W=m[E].type,R=m[E].endIndex)}let X=!1;if(J)if(g&&I){let U=_>0?h.charCodeAt(_-1):0,P=_>1?h.charCodeAt(_-2):0;U===32&&P!==32&&P!==9||(X=!0)}else X=!0;if(X)if(O){const U=B>0?A[B-1].endIndex:b;for(let P=U+1;P<=_;P++)A[B++]=new w(P,"mtkw",1)}else A[B++]=new w(_,"mtkw",1);else A[B++]=new w(_,W,0);return A}function n(o,h,_,m){m.sort(k.LineDecoration.compare);const g=k.LineDecorationsNormalizer.normalize(o,m),b=g.length;let y=0,L=[],D=0,N=0;for(let T=0,O=_.length;T<O;T++){const A=_[T],B=A.endIndex,E=A.type,W=A.metadata;for(;y<b&&g[y].startOffset<B;){const R=g[y];if(R.startOffset>N&&(N=R.startOffset,L[D++]=new w(N,E,W)),R.endOffset+1<=B)N=R.endOffset+1,L[D++]=new w(N,E+" "+R.className,W|R.metadata),y++;else{N=B,L[D++]=new w(N,E+" "+R.className,W|R.metadata);break}}B>N&&(N=B,L[D++]=new w(N,E,W))}const I=_[_.length-1].endIndex;if(y<b&&g[y].startOffset===I){let T=[],O=0;for(;y<b&&g[y].startOffset===I;)T.push(g[y].className),O|=g[y].metadata,y++;L[D++]=new w(N,T.join(" "),O)}return L}function t(o,h){const _=o.fontIsMonospace,m=o.canUseHalfwidthRightwardsArrow,g=o.containsForeignElements,b=o.lineContent,y=o.len,L=o.isOverflowing,D=o.parts,N=o.fauxIndentLength,I=o.tabSize,T=o.startVisibleColumn,O=o.containsRTL,A=o.spaceWidth,B=o.renderSpaceCharCode,E=o.renderWhitespace,W=o.renderControlCharacters,R=new l(y+1,D.length);let F=0,V=T,K=0,G=0,J=0,se=0;O?h.appendASCIIString('<span dir="ltr">'):h.appendASCIIString("<span>");for(let ie=0,ae=D.length;ie<ae;ie++){se+=J;const X=D[ie],U=X.endIndex,P=X.type,x=E!==0&&X.isWhitespace(),H=x&&!_&&(P==="mtkw"||!g),z=F===U&&X.metadata===4;if(K=0,h.appendASCIIString('<span class="'),h.appendASCIIString(H?"mtkz":P),h.appendASCII(34),x){let q=0;{let Q=F,ce=V;for(;Q<U;Q++){const Y=(b.charCodeAt(Q)===9?I-ce%I:1)|0;q+=Y,Q>=N&&(ce+=Y)}}for(H&&(h.appendASCIIString(' style="width:'),h.appendASCIIString(String(A*q)),h.appendASCIIString('px"')),h.appendASCII(62);F<U;F++){R.setPartData(F,ie-G,K,se),G=0;const Q=b.charCodeAt(F);let ce;if(Q===9){ce=I-V%I|0,!m||ce>1?h.write1(8594):h.write1(65515);for(let ue=2;ue<=ce;ue++)h.write1(160)}else ce=1,h.write1(B);K+=ce,F>=N&&(V+=ce)}J=q}else{let q=0;for(h.appendASCII(62);F<U;F++){R.setPartData(F,ie-G,K,se),G=0;const Q=b.charCodeAt(F);let ce=1,ue=1;switch(Q){case 9:ce=I-V%I,ue=ce;for(let Y=1;Y<=ce;Y++)h.write1(160);break;case 32:h.write1(160);break;case 60:h.appendASCIIString("&lt;");break;case 62:h.appendASCIIString("&gt;");break;case 38:h.appendASCIIString("&amp;");break;case 0:h.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:h.write1(65533);break;default:C.isFullWidthCharacter(Q)&&ue++,W&&Q<32?h.write1(9216+Q):h.write1(Q)}K+=ce,q+=ce,F>=N&&(V+=ue)}J=q}z?G++:G=0,h.appendASCIIString("</span>")}return R.setPartData(y,D.length-1,K,se),L&&h.appendASCIIString("<span>&hellip;</span>"),h.appendASCIIString("</span>"),new f(R,O,g)}}),define(ee[383],te([0,1,3]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class M{constructor(w,S,v,l){this.selections=w,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=v,this._model=l,this.visibleRange=new C.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(w){return this._model.getViewLineRenderingData(this.visibleRange,w)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=M}),define(ee[220],te([0,1,122]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class M{constructor(S,v){this.index=S,this.remainder=v}}e.PrefixSumIndexOfResult=M;class k{constructor(S){this.values=S,this.prefixSum=new Uint32Array(S.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(S,v){S=C.toUint32(S);const l=this.values,f=this.prefixSum,p=v.length;return p===0?!1:(this.values=new Uint32Array(l.length+p),this.values.set(l.subarray(0,S),0),this.values.set(l.subarray(S),S+p),this.values.set(v,S),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(f.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(S,v){return S=C.toUint32(S),v=C.toUint32(v),this.values[S]===v?!1:(this.values[S]=v,S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),!0)}removeValues(S,v){S=C.toUint32(S),v=C.toUint32(v);const l=this.values,f=this.prefixSum;if(S>=l.length)return!1;let p=l.length-S;return v>=p&&(v=p),v===0?!1:(this.values=new Uint32Array(l.length-v),this.values.set(l.subarray(0,S),0),this.values.set(l.subarray(S+v),S),this.prefixSum=new Uint32Array(this.values.length),S-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=S-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(f.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(S){return S<0?0:(S=C.toUint32(S),this._getAccumulatedValue(S))}_getAccumulatedValue(S){if(S<=this.prefixSumValidIndex[0])return this.prefixSum[S];let v=this.prefixSumValidIndex[0]+1;v===0&&(this.prefixSum[0]=this.values[0],v++),S>=this.values.length&&(S=this.values.length-1);for(let l=v;l<=S;l++)this.prefixSum[l]=this.prefixSum[l-1]+this.values[l];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],S),this.prefixSum[S]}getIndexOf(S){S=Math.floor(S),this.getTotalValue();let v=0,l=this.values.length-1,f=0,p=0,c=0;for(;v<=l;)if(f=v+(l-v)/2|0,p=this.prefixSum[f],c=p-this.values[f],S<c)l=f-1;else if(S>=p)v=f+1;else break;return new M(f,S-c)}}e.PrefixSumComputer=k}),define(ee[384],te([0,1,8,13,220]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class w{constructor(v,l,f,p){this._uri=v,this._lines=l,this._eol=f,this._versionId=p,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(v){v.eol&&v.eol!==this._eol&&(this._eol=v.eol,this._lineStarts=null);const l=v.changes;for(const f of l)this._acceptDeleteRange(f.range),this._acceptInsertText(new M.Position(f.range.startLineNumber,f.range.startColumn),f.text);this._versionId=v.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const v=this._eol.length,l=this._lines.length,f=new Uint32Array(l);for(let p=0;p<l;p++)f[p]=this._lines[p].length+v;this._lineStarts=new k.PrefixSumComputer(f)}}_setLineText(v,l){this._lines[v]=l,this._lineStarts&&this._lineStarts.changeValue(v,this._lines[v].length+this._eol.length)}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber){if(v.startColumn===v.endColumn)return;this._setLineText(v.startLineNumber-1,this._lines[v.startLineNumber-1].substring(0,v.startColumn-1)+this._lines[v.startLineNumber-1].substring(v.endColumn-1));return}this._setLineText(v.startLineNumber-1,this._lines[v.startLineNumber-1].substring(0,v.startColumn-1)+this._lines[v.endLineNumber-1].substring(v.endColumn-1)),this._lines.splice(v.startLineNumber,v.endLineNumber-v.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(v.startLineNumber,v.endLineNumber-v.startLineNumber)}_acceptInsertText(v,l){if(l.length!==0){let f=C.splitLines(l);if(f.length===1){this._setLineText(v.lineNumber-1,this._lines[v.lineNumber-1].substring(0,v.column-1)+f[0]+this._lines[v.lineNumber-1].substring(v.column-1));return}f[f.length-1]+=this._lines[v.lineNumber-1].substring(v.column-1),this._setLineText(v.lineNumber-1,this._lines[v.lineNumber-1].substring(0,v.column-1)+f[0]);let p=new Uint32Array(f.length-1);for(let c=1;c<f.length;c++)this._lines.splice(v.lineNumber+c-1,0,f[c]),p[c-1]=f[c].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(v.lineNumber,p)}}}e.MirrorTextModel=w}),define(ee[385],te([0,1,19,153,16,24,13,3,364,384,129,371,374,218,20,81]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class s extends f.MirrorTextModel{get uri(){return this._uri}get version(){return this._versionId}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(o){return this._lines[o-1]}getWordAtPosition(o,h){let _=p.getWordAtText(o.column,p.ensureValidWordDefinition(h),this._lines[o.lineNumber-1],0);return _?new v.Range(o.lineNumber,_.startColumn,o.lineNumber,_.endColumn):null}words(o){const h=this._lines,_=this._wordenize.bind(this);let m=0,g="",b=0,y=[];return{*[Symbol.iterator](){for(;;)if(b<y.length){const L=g.substring(y[b].start,y[b].end);b+=1,yield L}else if(m<h.length)g=h[m],y=_(g,o),b=0,m+=1;else break}}}getLineWords(o,h){let _=this._lines[o-1],m=this._wordenize(_,h),g=[];for(const b of m)g.push({word:_.substring(b.start,b.end),startColumn:b.start+1,endColumn:b.end+1});return g}_wordenize(o,h){const _=[];let m;for(h.lastIndex=0;(m=h.exec(o))&&m[0].length!==0;)_.push({start:m.index,end:m.index+m[0].length});return _}getValueInRange(o){if(o=this._validateRange(o),o.startLineNumber===o.endLineNumber)return this._lines[o.startLineNumber-1].substring(o.startColumn-1,o.endColumn-1);let h=this._eol,_=o.startLineNumber-1,m=o.endLineNumber-1,g=[];g.push(this._lines[_].substring(o.startColumn-1));for(let b=_+1;b<m;b++)g.push(this._lines[b]);return g.push(this._lines[m].substring(0,o.endColumn-1)),g.join(h)}offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(o.lineNumber-2)+(o.column-1)}positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();let h=this._lineStarts.getIndexOf(o),_=this._lines[h.index].length;return{lineNumber:1+h.index,column:1+Math.min(h.remainder,_)}}_validateRange(o){const h=this._validatePosition({lineNumber:o.startLineNumber,column:o.startColumn}),_=this._validatePosition({lineNumber:o.endLineNumber,column:o.endColumn});return h.lineNumber!==o.startLineNumber||h.column!==o.startColumn||_.lineNumber!==o.endLineNumber||_.column!==o.endColumn?{startLineNumber:h.lineNumber,startColumn:h.column,endLineNumber:_.lineNumber,endColumn:_.column}:o}_validatePosition(o){if(!S.Position.isIPosition(o))throw new Error("bad position");let{lineNumber:h,column:_}=o,m=!1;if(h<1)h=1,_=1,m=!0;else if(h>this._lines.length)h=this._lines.length,_=this._lines[h-1].length+1,m=!0;else{let g=this._lines[h-1].length+1;_<1?(_=1,m=!0):_>g&&(_=g,m=!0)}return m?{lineNumber:h,column:_}:o}}class i{constructor(o,h){this._host=o,this._models=Object.create(null),this._foreignModuleFactory=h,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(o){return this._models[o]}_getModels(){let o=[];return Object.keys(this._models).forEach(h=>o.push(this._models[h])),o}acceptNewModel(o){this._models[o.url]=new s(w.URI.parse(o.url),o.lines,o.EOL,o.versionId)}acceptModelChanged(o,h){!this._models[o]||this._models[o].onEvents(h)}acceptRemovedModel(o){!this._models[o]||delete this._models[o]}computeDiff(o,h,_,m){return Ie(this,void 0,void 0,function*(){const g=this._getModel(o),b=this._getModel(h);if(!g||!b)return null;const y=g.getLinesContent(),L=b.getLinesContent(),N=new l.DiffComputer(y,L,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:_,shouldMakePrettyDiff:!0,maxComputationTime:m}).computeDiff(),I=N.changes.length>0?!1:this._modelsAreIdentical(g,b);return{quitEarly:N.quitEarly,identical:I,changes:N.changes}})}_modelsAreIdentical(o,h){const _=o.getLineCount(),m=h.getLineCount();if(_!==m)return!1;for(let g=1;g<=_;g++){const b=o.getLineContent(g),y=h.getLineContent(g);if(b!==y)return!1}return!0}computeMoreMinimalEdits(o,h){return Ie(this,void 0,void 0,function*(){const _=this._getModel(o);if(!_)return h;const m=[];let g;h=C.mergeSort(h,(b,y)=>{if(b.range&&y.range)return v.Range.compareRangesUsingStarts(b.range,y.range);let L=b.range?0:1,D=y.range?0:1;return L-D});for(let{range:b,text:y,eol:L}of h)if(typeof L=="number"&&(g=L),!(v.Range.isEmpty(b)&&!y)){const D=_.getValueInRange(b);if(y=y.replace(/\r\n|\n|\r/g,_.eol),D!==y){if(Math.max(y.length,D.length)>i._diffLimit){m.push({range:b,text:y});continue}const N=M.stringDiff(D,y,!1),I=_.offsetAt(v.Range.lift(b).getStartPosition());for(const T of N){const O=_.positionAt(I+T.originalStart),A=_.positionAt(I+T.originalStart+T.originalLength),B={text:y.substr(T.modifiedStart,T.modifiedLength),range:{startLineNumber:O.lineNumber,startColumn:O.column,endLineNumber:A.lineNumber,endColumn:A.column}};_.getValueInRange(B.range)!==B.text&&m.push(B)}}}return typeof g=="number"&&m.push({eol:g,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),m})}computeLinks(o){return Ie(this,void 0,void 0,function*(){let h=this._getModel(o);return h?c.computeLinks(h):null})}textualSuggest(o,h,_,m){return Ie(this,void 0,void 0,function*(){const g=new d.StopWatch(!0),b=new RegExp(_,m),y=new Set;e:for(let L of o){const D=this._getModel(L);if(!!D){for(let N of D.words(b))if(!(N===h||!isNaN(Number(N)))&&(y.add(N),y.size>i._suggestionsLimit))break e}}return{words:Array.from(y),duration:g.elapsed()}})}computeWordRanges(o,h,_,m){return Ie(this,void 0,void 0,function*(){let g=this._getModel(o);if(!g)return Object.create(null);const b=new RegExp(_,m),y=Object.create(null);for(let L=h.startLineNumber;L<h.endLineNumber;L++){let D=g.getLineWords(L,b);for(const N of D)if(!!isNaN(Number(N.word))){let I=y[N.word];I||(I=[],y[N.word]=I),I.push({startLineNumber:L,startColumn:N.startColumn,endLineNumber:L,endColumn:N.endColumn})}}return y})}navigateValueSet(o,h,_,m,g){return Ie(this,void 0,void 0,function*(){let b=this._getModel(o);if(!b)return null;let y=new RegExp(m,g);h.startColumn===h.endColumn&&(h={startLineNumber:h.startLineNumber,startColumn:h.startColumn,endLineNumber:h.endLineNumber,endColumn:h.endColumn+1});let L=b.getValueInRange(h),D=b.getWordAtPosition({lineNumber:h.startLineNumber,column:h.startColumn},y);if(!D)return null;let N=b.getValueInRange(D);return u.BasicInplaceReplace.INSTANCE.navigateValueSet(h,L,D,N,_)})}loadForeignModule(o,h,_){const m=(y,L)=>this._host.fhr(y,L);let b={host:r.createProxyObject(_,m),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(b,h),Promise.resolve(r.getAllMethodNames(this._foreignModule))):new Promise((y,L)=>{$([o],D=>{this._foreignModule=D.create(b,h),y(r.getAllMethodNames(this._foreignModule))},L)})}fmr(o,h){if(!this._foreignModule||typeof this._foreignModule[o]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+o));try{return Promise.resolve(this._foreignModule[o].apply(this._foreignModule,h))}catch(_){return Promise.reject(_)}}}e.EditorSimpleWorker=i,i._diffLimit=1e5,i._suggestionsLimit=1e4;function n(t){return new i(t,null)}e.create=n,typeof importScripts=="function"&&(k.globals.monaco=a.createMonacoBaseAPI())}),define(ee[110],te([0,1,2]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class M extends C.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(w){return!1}onCompositionEnd(w){return!1}onConfigurationChanged(w){return!1}onCursorStateChanged(w){return!1}onDecorationsChanged(w){return!1}onFlushed(w){return!1}onFocusChanged(w){return!1}onLanguageConfigurationChanged(w){return!1}onLineMappingChanged(w){return!1}onLinesChanged(w){return!1}onLinesDeleted(w){return!1}onLinesInserted(w){return!1}onRevealRangeRequest(w){return!1}onScrollChanged(w){return!1}onThemeChanged(w){return!1}onTokensChanged(w){return!1}onTokensColorsChanged(w){return!1}onZonesChanged(w){return!1}handleEvents(w){let S=!1;for(let v=0,l=w.length;v<l;v++){let f=w[v];switch(f.type){case 0:this.onCompositionStart(f)&&(S=!0);break;case 1:this.onCompositionEnd(f)&&(S=!0);break;case 2:this.onConfigurationChanged(f)&&(S=!0);break;case 3:this.onCursorStateChanged(f)&&(S=!0);break;case 4:this.onDecorationsChanged(f)&&(S=!0);break;case 5:this.onFlushed(f)&&(S=!0);break;case 6:this.onFocusChanged(f)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(f)&&(S=!0);break;case 8:this.onLineMappingChanged(f)&&(S=!0);break;case 9:this.onLinesChanged(f)&&(S=!0);break;case 10:this.onLinesDeleted(f)&&(S=!0);break;case 11:this.onLinesInserted(f)&&(S=!0);break;case 12:this.onRevealRangeRequest(f)&&(S=!0);break;case 13:this.onScrollChanged(f)&&(S=!0);break;case 15:this.onTokensChanged(f)&&(S=!0);break;case 14:this.onThemeChanged(f)&&(S=!0);break;case 16:this.onTokensColorsChanged(f)&&(S=!0);break;case 17:this.onZonesChanged(f)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(f)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=M}),define(ee[94],te([0,1,110]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class M extends C.ViewEventHandler{}e.DynamicViewOverlay=M}),define(ee[45],te([0,1,30,110]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends M.ViewEventHandler{constructor(v){super();this._context=v,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class w{static write(v,l){v instanceof C.FastDomNode,v.setAttribute("data-mprt",String(l))}static read(v){const l=v.getAttribute("data-mprt");return l===null?0:parseInt(l,10)}static collect(v,l){let f=[],p=0;for(;v&&v!==document.body&&v!==l;)v.nodeType===v.ELEMENT_NODE&&(f[p++]=this.read(v)),v=v.parentElement;const c=new Uint8Array(p);for(let u=0;u<p;u++)c[u]=f[p-u-1];return c}}e.PartFingerprints=w}),define(ee[386],te([0,1,7,30,45]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class w{constructor(p,c){this.top=p,this.left=c}}class S extends k.ViewPart{constructor(p,c){super(p);this._viewDomNode=c,this._widgets={},this.domNode=M.createFastDomNode(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=M.createFastDomNode(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(p){const c=Object.keys(this._widgets);for(const u of c)this._widgets[u].onConfigurationChanged(p);return!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLineMappingChanged(p){const c=Object.keys(this._widgets);for(const u of c)this._widgets[u].onLineMappingChanged(p);return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return!0}onZonesChanged(p){return!0}addWidget(p){const c=new v(this._context,this._viewDomNode,p);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(p,c,u){this._widgets[p.getId()].setPosition(c,u),this.setShouldRender()}removeWidget(p){const c=p.getId();if(this._widgets.hasOwnProperty(c)){const u=this._widgets[c];delete this._widgets[c];const a=u.domNode.domNode;a.parentNode.removeChild(a),a.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(p){return this._widgets.hasOwnProperty(p)?this._widgets[p].suppressMouseDown:!1}onBeforeRender(p){const c=Object.keys(this._widgets);for(const u of c)this._widgets[u].onBeforeRender(p)}prepareRender(p){const c=Object.keys(this._widgets);for(const u of c)this._widgets[u].prepareRender(p)}render(p){const c=Object.keys(this._widgets);for(const u of c)this._widgets[u].render(p)}}e.ViewContentWidgets=S;class v{constructor(p,c,u){this._context=p,this._viewDomNode=c,this._actual=u,this.domNode=M.createFastDomNode(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const a=this._context.configuration.options,r=a.get(124);this._fixedOverflowWidgets=a.get(32),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=a.get(53),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(p){const c=this._context.configuration.options;if(this._lineHeight=c.get(53),p.hasChanged(124)){const u=c.get(124);this._contentLeft=u.contentLeft,this._contentWidth=u.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(p){this._setPosition(this._range)}_setPosition(p){if(this._range=p,this._viewRange=null,this._range){const c=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(c.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(c.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(c))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(p,c){this._setPosition(p),this._preference=c,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(p,c,u,a,r){const d=p.top,s=d,i=c.top+this._lineHeight,n=r.viewportHeight-i,t=d-a,o=s>=a,h=i,_=n>=a;let m=p.left,g=c.left;return m+u>r.scrollLeft+r.viewportWidth&&(m=r.scrollLeft+r.viewportWidth-u),g+u>r.scrollLeft+r.viewportWidth&&(g=r.scrollLeft+r.viewportWidth-u),m<r.scrollLeft&&(m=r.scrollLeft),g<r.scrollLeft&&(g=r.scrollLeft),{fitsAbove:o,aboveTop:t,aboveLeft:m,fitsBelow:_,belowTop:h,belowLeft:g}}_layoutHorizontalSegmentInPage(p,c,u,a){const r=Math.max(0,c.left-a),d=Math.min(c.left+c.width+a,p.width);let s=c.left+u-C.StandardWindow.scrollX;if(s+a>d){const i=s-(d-a);s-=i,u-=i}if(s<r){const i=s-r;s-=i,u-=i}return[u,s]}_layoutBoxInPage(p,c,u,a,r){const d=p.top-a,s=c.top+this._lineHeight,i=C.getDomNodePagePosition(this._viewDomNode.domNode),n=i.top+d-C.StandardWindow.scrollY,t=i.top+s-C.StandardWindow.scrollY,o=C.getClientArea(document.body),[h,_]=this._layoutHorizontalSegmentInPage(o,i,p.left-r.scrollLeft+this._contentLeft,u),[m,g]=this._layoutHorizontalSegmentInPage(o,i,c.left-r.scrollLeft+this._contentLeft,u),b=22,y=22,L=n>=b,D=t+a<=o.height-y;return this._fixedOverflowWidgets?{fitsAbove:L,aboveTop:Math.max(n,b),aboveLeft:_,fitsBelow:D,belowTop:t,belowLeft:g}:{fitsAbove:L,aboveTop:d,aboveLeft:h,fitsBelow:D,belowTop:s,belowLeft:m}}_prepareRenderWidgetAtExactPositionOverflowing(p){return new w(p.top,p.left+this._contentLeft)}_getTopAndBottomLeft(p){if(!this._viewRange)return[null,null];const c=p.linesVisibleRangesForRange(this._viewRange,!1);if(!c||c.length===0)return[null,null];let u=c[0],a=c[0];for(const o of c)o.lineNumber<u.lineNumber&&(u=o),o.lineNumber>a.lineNumber&&(a=o);let r=1073741824;for(const o of u.ranges)o.left<r&&(r=o.left);let d=1073741824;for(const o of a.ranges)o.left<d&&(d=o.left);const s=p.getVerticalOffsetForLineNumber(u.lineNumber)-p.scrollTop,i=new w(s,r),n=p.getVerticalOffsetForLineNumber(a.lineNumber)-p.scrollTop,t=new w(n,d);return[i,t]}_prepareRenderWidget(p){const[c,u]=this._getTopAndBottomLeft(p);if(!c||!u)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let r=null;if(typeof this._actual.beforeRender=="function"&&(r=l(this._actual.beforeRender,this._actual)),r)this._cachedDomNodeClientWidth=r.width,this._cachedDomNodeClientHeight=r.height;else{const d=this.domNode.domNode;this._cachedDomNodeClientWidth=d.clientWidth,this._cachedDomNodeClientHeight=d.clientHeight}}let a;if(this.allowEditorOverflow?a=this._layoutBoxInPage(c,u,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p):a=this._layoutBoxInViewport(c,u,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,p),this._preference)for(let r=1;r<=2;r++)for(const d of this._preference)if(d===1){if(!a)return null;if(r===2||a.fitsAbove)return{coordinate:new w(a.aboveTop,a.aboveLeft),position:1}}else if(d===2){if(!a)return null;if(r===2||a.fitsBelow)return{coordinate:new w(a.belowTop,a.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};return null}onBeforeRender(p){!this._viewRange||!this._preference||this._viewRange.endLineNumber<p.startLineNumber||this._viewRange.startLineNumber>p.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(p){this._renderData=this._prepareRenderWidget(p)}render(p){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&l(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+p.scrollTop-p.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&l(this._actual.afterRender,this._actual,this._renderData.position)}}function l(f,p,...c){try{return f.call(p,...c)}catch(u){return null}}}),define(ee[387],te([0,1,94,3,109,315]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class w extends C.DynamicViewOverlay{constructor(v){super();this._context=v;const l=this._context.configuration.options;this._lineHeight=l.get(53),this._typicalHalfwidthCharacterWidth=l.get(38).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const l=this._context.configuration.options;return this._lineHeight=l.get(53),this._typicalHalfwidthCharacterWidth=l.get(38).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged||v.scrollWidthChanged}onZonesChanged(v){return!0}prepareRender(v){const l=v.getDecorationsInViewport();let f=[],p=0;for(let r=0,d=l.length;r<d;r++){const s=l[r];s.options.className&&(f[p++]=s)}f=f.sort((r,d)=>{if(r.options.zIndex<d.options.zIndex)return-1;if(r.options.zIndex>d.options.zIndex)return 1;const s=r.options.className,i=d.options.className;return s<i?-1:s>i?1:M.Range.compareRangesUsingStarts(r.range,d.range)});const c=v.visibleRange.startLineNumber,u=v.visibleRange.endLineNumber,a=[];for(let r=c;r<=u;r++){const d=r-c;a[d]=""}this._renderWholeLineDecorations(v,f,a),this._renderNormalDecorations(v,f,a),this._renderResult=a}_renderWholeLineDecorations(v,l,f){const p=String(this._lineHeight),c=v.visibleRange.startLineNumber,u=v.visibleRange.endLineNumber;for(let a=0,r=l.length;a<r;a++){const d=l[a];if(!!d.options.isWholeLine){const s='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+p+'px;"></div>',i=Math.max(d.range.startLineNumber,c),n=Math.min(d.range.endLineNumber,u);for(let t=i;t<=n;t++){const o=t-c;f[o]+=s}}}}_renderNormalDecorations(v,l,f){const p=String(this._lineHeight),c=v.visibleRange.startLineNumber;let u=null,a=!1,r=null;for(let d=0,s=l.length;d<s;d++){const i=l[d];if(!i.options.isWholeLine){const n=i.options.className,t=Boolean(i.options.showIfCollapsed);let o=i.range;if(t&&o.endColumn===1&&o.endLineNumber!==o.startLineNumber&&(o=new M.Range(o.startLineNumber,o.startColumn,o.endLineNumber-1,this._context.model.getLineMaxColumn(o.endLineNumber-1))),u===n&&a===t&&M.Range.areIntersectingOrTouching(r,o)){r=M.Range.plusRange(r,o);continue}u!==null&&this._renderNormalDecoration(v,r,u,a,p,c,f),u=n,a=t,r=o}}u!==null&&this._renderNormalDecoration(v,r,u,a,p,c,f)}_renderNormalDecoration(v,l,f,p,c,u,a){const r=v.linesVisibleRangesForRange(l,f==="findMatch");if(!!r)for(let d=0,s=r.length;d<s;d++){const i=r[d];if(!i.outsideRenderedLine){const n=i.lineNumber-u;if(p&&i.ranges.length===1){const t=i.ranges[0];t.width===0&&(i.ranges[0]=new k.HorizontalRange(t.left,this._typicalHalfwidthCharacterWidth))}for(let t=0,o=i.ranges.length;t<o;t++){const h=i.ranges[t],_='<div class="cdr '+f+'" style="left:'+String(h.left)+"px;width:"+String(h.width)+"px;height:"+c+'px;"></div>';a[n]+=_}}}}render(v,l){if(!this._renderResult)return"";const f=l-v;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.DecorationsOverlay=w}),define(ee[171],te([0,1,94,316]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class M{constructor(v,l,f){this.startLineNumber=+v,this.endLineNumber=+l,this.className=String(f)}}e.DecorationToRender=M;class k extends C.DynamicViewOverlay{_render(v,l,f){const p=[];for(let a=v;a<=l;a++){const r=a-v;p[r]=[]}if(f.length===0)return p;f.sort((a,r)=>a.className===r.className?a.startLineNumber===r.startLineNumber?a.endLineNumber-r.endLineNumber:a.startLineNumber-r.startLineNumber:a.className<r.className?-1:1);let c=null,u=0;for(let a=0,r=f.length;a<r;a++){const d=f[a],s=d.className;let i=Math.max(d.startLineNumber,v)-v;const n=Math.min(d.endLineNumber,l)-v;c===s?(i=Math.max(u+1,i),u=Math.max(u,n)):(c=s,u=n);for(let t=i;t<=u;t++)p[t].push(c)}return p}}e.DedupOverlay=k;class w extends k{constructor(v){super();this._context=v;const l=this._context.configuration.options,f=l.get(124);this._lineHeight=l.get(53),this._glyphMargin=l.get(44),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(v){const l=this._context.configuration.options,f=l.get(124);return this._lineHeight=l.get(53),this._glyphMargin=l.get(44),this._glyphMarginLeft=f.glyphMarginLeft,this._glyphMarginWidth=f.glyphMarginWidth,!0}onDecorationsChanged(v){return!0}onFlushed(v){return!0}onLinesChanged(v){return!0}onLinesDeleted(v){return!0}onLinesInserted(v){return!0}onScrollChanged(v){return v.scrollTopChanged}onZonesChanged(v){return!0}_getDecorations(v){const l=v.getDecorationsInViewport();let f=[],p=0;for(let c=0,u=l.length;c<u;c++){const a=l[c],r=a.options.glyphMarginClassName;r&&(f[p++]=new M(a.range.startLineNumber,a.range.endLineNumber,r))}return f}prepareRender(v){if(!this._glyphMargin){this._renderResult=null;return}const l=v.visibleRange.startLineNumber,f=v.visibleRange.endLineNumber,p=this._render(l,f,this._getDecorations(v)),c=this._lineHeight.toString(),u=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),r='" style="left:'+u+"px;width:"+a+"px;height:"+c+'px;"></div>',d=[];for(let s=l;s<=f;s++){const i=s-l,n=p[i];n.length===0?d[i]="":d[i]='<div class="cgmr codicon '+n.join(" ")+r}this._renderResult=d}render(v,l){if(!this._renderResult)return"";const f=l-v;return f<0||f>=this._renderResult.length?"":this._renderResult[f]}}e.GlyphMarginOverlay=w}),define(ee[388],te([0,1,171,320]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class M extends C.DedupOverlay{constructor(w){super();this._context=w;const v=this._context.configuration.options.get(124);this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){const v=this._context.configuration.options.get(124);return this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let v=[],l=0;for(let f=0,p=S.length;f<p;f++){const c=S[f],u=c.options.linesDecorationsClassName;u&&(v[l++]=new C.DecorationToRender(c.range.startLineNumber,c.range.endLineNumber,u));const a=c.options.firstLineDecorationClassName;a&&(v[l++]=new C.DecorationToRender(c.range.startLineNumber,c.range.startLineNumber,a))}return v}prepareRender(w){const S=w.visibleRange.startLineNumber,v=w.visibleRange.endLineNumber,l=this._render(S,v,this._getDecorations(w)),f=this._decorationsLeft.toString(),p=this._decorationsWidth.toString(),c='" style="left:'+f+"px;width:"+p+'px;"></div>',u=[];for(let a=S;a<=v;a++){const r=a-S,d=l[r];let s="";for(let i=0,n=d.length;i<n;i++)s+='<div class="cldr '+d[i]+c;u[r]=s}this._renderResult=u}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.LinesDecorationsOverlay=M}),define(ee[221],te([0,1,30,45]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends M.ViewPart{constructor(S){super(S);const v=this._context.configuration.options,l=v.get(124);this._canUseLayerHinting=!v.get(25),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=C.createFastDomNode(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const v=this._context.configuration.options,l=v.get(124);return this._canUseLayerHinting=!v.get(25),this._contentLeft=l.contentLeft,this._glyphMarginLeft=l.glyphMarginLeft,this._glyphMarginWidth=l.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const v=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-v);const l=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(l),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(l)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(ee[389],te([0,1,171,321]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class M extends C.DedupOverlay{constructor(w){super();this._context=w,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(w){return!0}onDecorationsChanged(w){return!0}onFlushed(w){return!0}onLinesChanged(w){return!0}onLinesDeleted(w){return!0}onLinesInserted(w){return!0}onScrollChanged(w){return w.scrollTopChanged}onZonesChanged(w){return!0}_getDecorations(w){const S=w.getDecorationsInViewport();let v=[],l=0;for(let f=0,p=S.length;f<p;f++){const c=S[f],u=c.options.marginClassName;u&&(v[l++]=new C.DecorationToRender(c.range.startLineNumber,c.range.endLineNumber,u))}return v}prepareRender(w){const S=w.visibleRange.startLineNumber,v=w.visibleRange.endLineNumber,l=this._render(S,v,this._getDecorations(w)),f=[];for(let p=S;p<=v;p++){const c=p-S,u=l[c];let a="";for(let r=0,d=u.length;r<d;r++)a+='<div class="cmdr '+u[r]+'" style=""></div>';f[c]=a}this._renderResult=f}render(w,S){return this._renderResult?this._renderResult[S-w]:""}}e.MarginViewLineDecorationsOverlay=M}),define(ee[390],te([0,1,30,45,323]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends M.ViewPart{constructor(S){super(S);const l=this._context.configuration.options.get(124);this._widgets={},this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,this._domNode=C.createFastDomNode(document.createElement("div")),M.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(S){const l=this._context.configuration.options.get(124);return this._verticalScrollbarWidth=l.verticalScrollbarWidth,this._minimapWidth=l.minimap.minimapWidth,this._horizontalScrollbarHeight=l.horizontalScrollbarHeight,this._editorHeight=l.height,this._editorWidth=l.width,!0}addWidget(S){const v=C.createFastDomNode(S.getDomNode());this._widgets[S.getId()]={widget:S,preference:null,domNode:v},v.setPosition("absolute"),v.setAttribute("widgetId",S.getId()),this._domNode.appendChild(v),this.setShouldRender()}setWidgetPosition(S,v){const l=this._widgets[S.getId()];return l.preference===v?!1:(l.preference=v,this.setShouldRender(),!0)}removeWidget(S){const v=S.getId();if(this._widgets.hasOwnProperty(v)){const f=this._widgets[v].domNode.domNode;delete this._widgets[v],f.parentNode.removeChild(f),this.setShouldRender()}}_renderWidget(S){const v=S.domNode;if(S.preference===null){v.unsetTop();return}if(S.preference===0)v.setTop(0),v.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(S.preference===1){const l=v.domNode.clientHeight;v.setTop(this._editorHeight-l-2*this._horizontalScrollbarHeight),v.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else S.preference===2&&(v.setTop(0),v.domNode.style.right="50%")}prepareRender(S){}render(S){this._domNode.setWidth(this._editorWidth);const v=Object.keys(this._widgets);for(let l=0,f=v.length;l<f;l++){const p=v[l];this._renderWidget(this._widgets[p])}}}e.ViewOverlayWidgets=k}),define(ee[391],te([0,1,30,219,110]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class w extends k.ViewEventHandler{constructor(v,l){super();this._context=v;const f=this._context.configuration.options;this._domNode=C.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName(l),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new M.OverviewZoneManager(p=>this._context.viewLayout.getVerticalOffsetForLineNumber(p)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(f.get(53)),this._zoneManager.setPixelRatio(f.get(122)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(v){const l=this._context.configuration.options;return v.hasChanged(53)&&(this._zoneManager.setLineHeight(l.get(53)),this._render()),v.hasChanged(122)&&(this._zoneManager.setPixelRatio(l.get(122)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(v){return this._render(),!0}onScrollChanged(v){return v.scrollHeightChanged&&(this._zoneManager.setOuterHeight(v.scrollHeight),this._render()),!0}onZonesChanged(v){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(v){this._domNode.setTop(v.top),this._domNode.setRight(v.right);let l=!1;l=this._zoneManager.setDOMWidth(v.width)||l,l=this._zoneManager.setDOMHeight(v.height)||l,l&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(v){this._zoneManager.setZones(v),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const v=this._zoneManager.getCanvasWidth(),l=this._zoneManager.getCanvasHeight(),f=this._zoneManager.resolveColorZones(),p=this._zoneManager.getId2Color(),c=this._domNode.domNode.getContext("2d");return c.clearRect(0,0,v,l),f.length>0&&this._renderOneLane(c,f,p,v),!0}_renderOneLane(v,l,f,p){let c=0,u=0,a=0;for(const r of l){const d=r.colorId,s=r.from,i=r.to;d!==c?(v.fillRect(0,u,p,a-u),c=d,v.fillStyle=f[c],u=s,a=i):a>=s?a=Math.max(a,i):(v.fillRect(0,u,p,a-u),u=s,a=i)}v.fillRect(0,u,p,a-u)}}e.OverviewRuler=w}),define(ee[392],te([0,1,30,11,45,13]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class v extends k.ViewPart{constructor(p){super(p);const c=this._context.configuration.options,u=c.get(124);this._lineHeight=c.get(53),this._contentWidth=u.contentWidth,this._contentLeft=u.contentLeft,this.domNode=C.createFastDomNode(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=C.createFastDomNode(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const p=this._context.viewLayout.getWhitespaces(),c=new Map;for(const a of p)c.set(a.id,a);let u=!1;return this._context.model.changeWhitespace(a=>{const r=Object.keys(this._zones);for(let d=0,s=r.length;d<s;d++){const i=r[d],n=this._zones[i],t=this._computeWhitespaceProps(n.delegate),o=c.get(i);o&&(o.afterLineNumber!==t.afterViewLineNumber||o.height!==t.heightInPx)&&(a.changeOneWhitespace(i,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(n.delegate,t.heightInPx),u=!0)}}),u}onConfigurationChanged(p){const c=this._context.configuration.options,u=c.get(124);return this._lineHeight=c.get(53),this._contentWidth=u.contentWidth,this._contentLeft=u.contentLeft,p.hasChanged(53)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(p){return this._recomputeWhitespacesProps()}onLinesDeleted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}onLinesInserted(p){return!0}_getZoneOrdinal(p){return typeof p.afterColumn!="undefined"?p.afterColumn:1e4}_computeWhitespaceProps(p){if(p.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(p),minWidthInPx:this._minWidthInPixels(p)};let c;if(typeof p.afterColumn!="undefined")c=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:p.afterColumn});else{const d=this._context.model.validateModelPosition({lineNumber:p.afterLineNumber,column:1}).lineNumber;c=new w.Position(d,this._context.model.getModelLineMaxColumn(d))}let u;c.column===this._context.model.getModelLineMaxColumn(c.lineNumber)?u=this._context.model.validateModelPosition({lineNumber:c.lineNumber+1,column:1}):u=this._context.model.validateModelPosition({lineNumber:c.lineNumber,column:c.column+1});const a=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(c),r=this._context.model.coordinatesConverter.modelPositionIsVisible(u);return{afterViewLineNumber:a.lineNumber,heightInPx:r?this._heightInPixels(p):0,minWidthInPx:this._minWidthInPixels(p)}}changeViewZones(p){let c=!1;return this._context.model.changeWhitespace(u=>{const a={addZone:r=>(c=!0,this._addZone(u,r)),removeZone:r=>{!r||(c=this._removeZone(u,r)||c)},layoutZone:r=>{!r||(c=this._layoutZone(u,r)||c)}};l(p,a),a.addZone=S,a.removeZone=S,a.layoutZone=S}),c}_addZone(p,c){const u=this._computeWhitespaceProps(c),r={whitespaceId:p.insertWhitespace(u.afterViewLineNumber,this._getZoneOrdinal(c),u.heightInPx,u.minWidthInPx),delegate:c,isVisible:!1,domNode:C.createFastDomNode(c.domNode),marginDomNode:c.marginDomNode?C.createFastDomNode(c.marginDomNode):null};return this._safeCallOnComputedHeight(r.delegate,u.heightInPx),r.domNode.setPosition("absolute"),r.domNode.domNode.style.width="100%",r.domNode.setDisplay("none"),r.domNode.setAttribute("monaco-view-zone",r.whitespaceId),this.domNode.appendChild(r.domNode),r.marginDomNode&&(r.marginDomNode.setPosition("absolute"),r.marginDomNode.domNode.style.width="100%",r.marginDomNode.setDisplay("none"),r.marginDomNode.setAttribute("monaco-view-zone",r.whitespaceId),this.marginDomNode.appendChild(r.marginDomNode)),this._zones[r.whitespaceId]=r,this.setShouldRender(),r.whitespaceId}_removeZone(p,c){if(this._zones.hasOwnProperty(c)){const u=this._zones[c];return delete this._zones[c],p.removeWhitespace(u.whitespaceId),u.domNode.removeAttribute("monaco-visible-view-zone"),u.domNode.removeAttribute("monaco-view-zone"),u.domNode.domNode.parentNode.removeChild(u.domNode.domNode),u.marginDomNode&&(u.marginDomNode.removeAttribute("monaco-visible-view-zone"),u.marginDomNode.removeAttribute("monaco-view-zone"),u.marginDomNode.domNode.parentNode.removeChild(u.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(p,c){if(this._zones.hasOwnProperty(c)){const u=this._zones[c],a=this._computeWhitespaceProps(u.delegate);return p.changeOneWhitespace(u.whitespaceId,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(u.delegate,a.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(p){if(this._zones.hasOwnProperty(p)){const c=this._zones[p];return Boolean(c.delegate.suppressMouseDown)}return!1}_heightInPixels(p){return typeof p.heightInPx=="number"?p.heightInPx:typeof p.heightInLines=="number"?this._lineHeight*p.heightInLines:this._lineHeight}_minWidthInPixels(p){return typeof p.minWidthInPx=="number"?p.minWidthInPx:0}_safeCallOnComputedHeight(p,c){if(typeof p.onComputedHeight=="function")try{p.onComputedHeight(c)}catch(u){M.onUnexpectedError(u)}}_safeCallOnDomNodeTop(p,c){if(typeof p.onDomNodeTop=="function")try{p.onDomNodeTop(c)}catch(u){M.onUnexpectedError(u)}}prepareRender(p){}render(p){const c=p.viewportData.whitespaceViewportData,u={};let a=!1;for(let d=0,s=c.length;d<s;d++)u[c[d].id]=c[d],a=!0;const r=Object.keys(this._zones);for(let d=0,s=r.length;d<s;d++){const i=r[d],n=this._zones[i];let t=0,o=0,h="none";u.hasOwnProperty(i)?(t=u[i].verticalOffset-p.bigNumbersDelta,o=u[i].height,h="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(u[i].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,p.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(t),n.domNode.setHeight(o),n.domNode.setDisplay(h),n.marginDomNode&&(n.marginDomNode.setTop(t),n.marginDomNode.setHeight(o),n.marginDomNode.setDisplay(h))}a&&(this.domNode.setWidth(Math.max(p.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=v;function l(f,p){try{return f(p)}catch(c){M.onUnexpectedError(c)}}}),define(ee[63],te([0,1,8]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.LineBreakData=e.OutputPosition=e.Viewport=void 0;class M{constructor(u,a,r,d){this.top=u|0,this.left=a|0,this.width=r|0,this.height=d|0}}e.Viewport=M;class k{constructor(u,a){this.outputLineIndex=u,this.outputOffset=a}}e.OutputPosition=k;class w{constructor(u,a,r){this.breakOffsets=u,this.breakOffsetsVisibleColumn=a,this.wrappedTextIndentLength=r}static getInputOffsetOfOutputPosition(u,a,r){return a===0?r:u[a-1]+r}static getOutputPositionOfInputOffset(u,a){let r=0,d=u.length-1,s=0,i=0;for(;r<=d;){s=r+(d-r)/2|0;const n=u[s];if(i=s>0?u[s-1]:0,a<i)d=s-1;else if(a>=n)r=s+1;else break}return new k(s,a-i)}}e.LineBreakData=w;class S{constructor(u,a){this.tabSize=u,this.data=a}}e.MinimapLinesRenderingData=S;class v{constructor(u,a,r,d,s,i){this.content=u,this.continuesWithWrappedLine=a,this.minColumn=r,this.maxColumn=d,this.startVisibleColumn=s,this.tokens=i}}e.ViewLineData=v;class l{constructor(u,a,r,d,s,i,n,t,o,h){this.minColumn=u,this.maxColumn=a,this.content=r,this.continuesWithWrappedLine=d,this.isBasicASCII=l.isBasicASCII(r,i),this.containsRTL=l.containsRTL(r,this.isBasicASCII,s),this.tokens=n,this.inlineDecorations=t,this.tabSize=o,this.startVisibleColumn=h}static isBasicASCII(u,a){return a?C.isBasicASCII(u):!0}static containsRTL(u,a,r){return!a&&r?C.containsRTL(u):!1}}e.ViewLineRenderingData=l;class f{constructor(u,a,r){this.range=u,this.inlineClassName=a,this.type=r}}e.InlineDecoration=f;class p{constructor(u,a){this.range=u,this.options=a}}e.ViewModelDecoration=p}),define(ee[393],te([0,1,8,91,63]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class w extends M.CharacterClassifier{constructor(s,i){super(0);for(let n=0;n<s.length;n++)this.set(s.charCodeAt(n),1);for(let n=0;n<i.length;n++)this.set(i.charCodeAt(n),2)}get(s){return s>=0&&s<256?this._asciiMap[s]:s>=12352&&s<=12543||s>=13312&&s<=19903||s>=19968&&s<=40959?3:this._map.get(s)||this._defaultValue}}let S=[],v=[];class l{constructor(s,i){this.classifier=new w(s,i)}static create(s){return new l(s.get(113),s.get(112))}createLineBreaksComputer(s,i,n,t){i=i|0,n=+n;let o=[],h=[];return{addRequest:(_,m)=>{o.push(_),h.push(m)},finalize:()=>{const _=s.typicalFullwidthCharacterWidth/s.typicalHalfwidthCharacterWidth;let m=[];for(let g=0,b=o.length;g<b;g++){const y=h[g];y?m[g]=f(this.classifier,y,o[g],i,n,_,t):m[g]=p(this.classifier,o[g],i,n,_,t)}return S.length=0,v.length=0,m}}}}e.MonospaceLineBreaksComputerFactory=l;function f(d,s,i,n,t,o,h){if(t===-1)return null;const _=i.length;if(_<=1)return null;const m=s.breakOffsets,g=s.breakOffsetsVisibleColumn,b=r(i,n,t,o,h),y=t-b;let L=S,D=v,N=0,I=0,T=0,O=t;const A=m.length;let B=0;if(B>=0){let E=Math.abs(g[B]-O);for(;B+1<A;){const W=Math.abs(g[B+1]-O);if(W>=E)break;E=W,B++}}for(;B<A;){let E=B<0?0:m[B],W=B<0?0:g[B];I>E&&(E=I,W=T);let R=0,F=0,V=0,K=0;if(W<=O){let J=W,se=E===0?0:i.charCodeAt(E-1),ie=E===0?0:d.get(se),ae=!0;for(let X=E;X<_;X++){const U=X,P=i.charCodeAt(X);let x,H;if(C.isHighSurrogate(P)?(X++,x=0,H=2):(x=d.get(P),H=c(P,J,n,o)),U>I&&a(se,ie,P,x)&&(R=U,F=J),J+=H,J>O){U>I?(V=U,K=J-H):(V=X+1,K=J),J-F>y&&(R=0),ae=!1;break}se=P,ie=x}if(ae){N>0&&(L[N]=m[m.length-1],D[N]=g[m.length-1],N++);break}}if(R===0){let J=W,se=i.charCodeAt(E),ie=d.get(se),ae=!1;for(let X=E-1;X>=I;X--){const U=X+1,P=i.charCodeAt(X);if(P===9){ae=!0;break}let x,H;if(C.isLowSurrogate(P)?(X--,x=0,H=2):(x=d.get(P),H=C.isFullWidthCharacter(P)?o:1),J<=O){if(V===0&&(V=U,K=J),J<=O-y)break;if(a(P,x,se,ie)){R=U,F=J;break}}J-=H,se=P,ie=x}if(R!==0){const X=y-(K-F);if(X<=n){const U=i.charCodeAt(V);let P;C.isHighSurrogate(U)?P=2:P=c(U,K,n,o),X-P<0&&(R=0)}}if(ae){B--;continue}}if(R===0&&(R=V,F=K),R<=I){const J=i.charCodeAt(I);C.isHighSurrogate(J)?(R=I+2,F=T+2):(R=I+1,F=T+c(J,T,n,o))}for(I=R,L[N]=R,T=F,D[N]=F,N++,O=F+y;B<0||B<A&&g[B]<F;)B++;let G=Math.abs(g[B]-O);for(;B+1<A;){const J=Math.abs(g[B+1]-O);if(J>=G)break;G=J,B++}}return N===0?null:(L.length=N,D.length=N,S=s.breakOffsets,v=s.breakOffsetsVisibleColumn,s.breakOffsets=L,s.breakOffsetsVisibleColumn=D,s.wrappedTextIndentLength=b,s)}function p(d,s,i,n,t,o){if(n===-1)return null;const h=s.length;if(h<=1)return null;const _=r(s,i,n,t,o),m=n-_;let g=[],b=[],y=0,L=0,D=0,N=n,I=s.charCodeAt(0),T=d.get(I),O=c(I,0,i,t),A=1;C.isHighSurrogate(I)&&(O+=1,I=s.charCodeAt(1),T=d.get(I),A++);for(let B=A;B<h;B++){const E=B,W=s.charCodeAt(B);let R,F;C.isHighSurrogate(W)?(B++,R=0,F=2):(R=d.get(W),F=c(W,O,i,t)),a(I,T,W,R)&&(L=E,D=O),O+=F,O>N&&((L===0||O-D>m)&&(L=E,D=O-F),g[y]=L,b[y]=D,y++,N=D+m,L=0),I=W,T=R}return y===0?null:(g[y]=h,b[y]=O,new k.LineBreakData(g,b,_))}function c(d,s,i,n){return d===9?i-s%i:C.isFullWidthCharacter(d)||d<32?n:1}function u(d,s){return s-d%s}function a(d,s,i,n){return i!==32&&(s===2||s===3&&n!==2||n===1||n===3&&s!==1)}function r(d,s,i,n,t){let o=0;if(t!==0){const h=C.firstNonWhitespaceIndex(d);if(h!==-1){for(let m=0;m<h;m++)o+=d.charCodeAt(m)===9?u(o,s):1;const _=t===3?2:t===2?1:0;for(let m=0;m<_;m++)o+=u(o,s);o+n>i&&(o=0)}}return o}}),define(ee[172],te([0,1,6,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends M.Disposable{constructor(){super();this._onEvent=this._register(new C.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOugoingEvents()}_addOutgoingEvent(a){for(let r=0,d=this._outgoingEvents.length;r<d;r++)if(this._outgoingEvents[r].kind===a.kind){this._outgoingEvents[r]=this._outgoingEvents[r].merge(a);return}this._outgoingEvents.push(a)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let r=0,d=this._eventHandlers.length;r<d;r++)this._eventHandlers[r]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r]===a){this._eventHandlers.splice(r,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new w),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,r=this._collector.viewEvents;this._collector=null;for(const d of a)this._addOutgoingEvent(d);r.length>0&&this._emitMany(r)}this._emitOugoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const r=this._eventHandlers.slice(0);for(const d of r)d.handleEvents(a)}}}e.ViewModelEventDispatcher=k;class w{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=w;class S{constructor(a,r,d,s){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=r,this.contentWidth=d,this.contentHeight=s,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(a){return a.kind!==0?this:new S(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=S;class v{constructor(a,r){this.kind=1,this.oldHasFocus=a,this.hasFocus=r}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(a){return a.kind!==1?this:new v(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=v;class l{constructor(a,r,d,s,i,n,t,o){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=r,this._oldScrollHeight=d,this._oldScrollTop=s,this.scrollWidth=i,this.scrollLeft=n,this.scrollHeight=t,this.scrollTop=o,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(a){return a.kind!==2?this:new l(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=l;class f{constructor(){this.kind=3}isNoOp(){return!1}merge(a){return this}}e.ViewZonesChangedEvent=f;class p{constructor(a,r,d,s,i,n,t){this.kind=5,this.oldSelections=a,this.selections=r,this.oldModelVersionId=d,this.modelVersionId=s,this.source=i,this.reason=n,this.reachedMaxCursorCount=t}static _selectionsAreEqual(a,r){if(!a&&!r)return!0;if(!a||!r)return!1;const d=a.length,s=r.length;if(d!==s)return!1;for(let i=0;i<d;i++)if(!a[i].equalsSelection(r[i]))return!1;return!0}isNoOp(){return p._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(a){return a.kind!==5?this:new p(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=p;class c{constructor(){this.kind=4}isNoOp(){return!1}merge(a){return this}}e.ReadOnlyEditAttemptEvent=c}),define(ee[394],te([0,1,6,2,121,382,63,172]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const l=125;class f{constructor(a,r,d,s){a=a|0,r=r|0,d=d|0,s=s|0,a<0&&(a=0),r<0&&(r=0),d<0&&(d=0),s<0&&(s=0),this.width=a,this.contentWidth=r,this.scrollWidth=Math.max(a,r),this.height=d,this.contentHeight=s,this.scrollHeight=Math.max(d,s)}equals(a){return this.width===a.width&&this.contentWidth===a.contentWidth&&this.height===a.height&&this.contentHeight===a.contentHeight}}class p extends M.Disposable{constructor(a,r){super();this._onDidContentSizeChange=this._register(new C.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new f(0,0,0,0),this._scrollable=this._register(new k.Scrollable(a,r)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(a){this._scrollable.setSmoothScrollDuration(a)}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}getScrollDimensions(){return this._dimensions}setScrollDimensions(a){if(!this._dimensions.equals(a)){const r=this._dimensions;this._dimensions=a,this._scrollable.setScrollDimensions({width:a.width,scrollWidth:a.scrollWidth,height:a.height,scrollHeight:a.scrollHeight},!0);const d=r.contentWidth!==a.contentWidth,s=r.contentHeight!==a.contentHeight;(d||s)&&this._onDidContentSizeChange.fire(new v.ContentSizeChangedEvent(r.contentWidth,r.contentHeight,a.contentWidth,a.contentHeight))}}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(a){this._scrollable.setScrollPositionNow(a)}setScrollPositionSmooth(a){this._scrollable.setScrollPositionSmooth(a)}}class c extends M.Disposable{constructor(a,r,d){super();this._configuration=a;const s=this._configuration.options,i=s.get(124),n=s.get(69);this._linesLayout=new w.LinesLayout(r,s.get(53),n.top,n.bottom),this._scrollable=this._register(new p(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new f(i.contentWidth,0,i.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(98)?l:0)}onConfigurationChanged(a){const r=this._configuration.options;if(a.hasChanged(53)&&this._linesLayout.setLineHeight(r.get(53)),a.hasChanged(69)){const d=r.get(69);this._linesLayout.setPadding(d.top,d.bottom)}if(a.hasChanged(124)){const d=r.get(124),s=d.contentWidth,i=d.height,n=this._scrollable.getScrollDimensions(),t=n.contentWidth;this._scrollable.setScrollDimensions(new f(s,n.contentWidth,i,this._getContentHeight(s,i,t)))}else this._updateHeight();a.hasChanged(98)&&this._configureSmoothScrollDuration()}onFlushed(a){this._linesLayout.onFlushed(a)}onLinesDeleted(a,r){this._linesLayout.onLinesDeleted(a,r)}onLinesInserted(a,r){this._linesLayout.onLinesInserted(a,r)}_getHorizontalScrollbarHeight(a,r){const s=this._configuration.options.get(87);return s.horizontal===2||a>=r?0:s.horizontalScrollbarSize}_getContentHeight(a,r,d){const s=this._configuration.options;let i=this._linesLayout.getLinesTotalHeight();return s.get(89)?i+=Math.max(0,r-s.get(53)-s.get(69).bottom):i+=this._getHorizontalScrollbarHeight(a,d),i}_updateHeight(){const a=this._scrollable.getScrollDimensions(),r=a.width,d=a.height,s=a.contentWidth;this._scrollable.setScrollDimensions(new f(r,a.contentWidth,d,this._getContentHeight(r,d,s)))}getCurrentViewport(){const a=this._scrollable.getScrollDimensions(),r=this._scrollable.getCurrentScrollPosition();return new S.Viewport(r.scrollTop,r.scrollLeft,a.width,a.height)}getFutureViewport(){const a=this._scrollable.getScrollDimensions(),r=this._scrollable.getFutureScrollPosition();return new S.Viewport(r.scrollTop,r.scrollLeft,a.width,a.height)}_computeContentWidth(a){const r=this._configuration.options,d=r.get(125),s=r.get(38);if(d.isViewportWrapping){const i=r.get(124),n=r.get(59);return a>i.contentWidth+s.typicalHalfwidthCharacterWidth&&n.enabled&&n.side==="right"?a+i.verticalScrollbarWidth:a}else{const i=r.get(88)*s.typicalHalfwidthCharacterWidth,n=this._linesLayout.getWhitespaceMinWidth();return Math.max(a+i,n)}}setMaxLineWidth(a){const r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new f(r.width,this._computeContentWidth(a),r.height,r.contentHeight)),this._updateHeight()}saveState(){const a=this._scrollable.getFutureScrollPosition();let r=a.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r),s=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:r,scrollTopWithoutViewZones:r-s,scrollLeft:a.scrollLeft}}changeWhitespace(a){const r=this._linesLayout.changeWhitespace(a);return r&&this.onHeightMaybeChanged(),r}getVerticalOffsetForLineNumber(a){return this._linesLayout.getVerticalOffsetForLineNumber(a)}isAfterLines(a){return this._linesLayout.isAfterLines(a)}isInTopPadding(a){return this._linesLayout.isInTopPadding(a)}isInBottomPadding(a){return this._linesLayout.isInBottomPadding(a)}getLineNumberAtVerticalOffset(a){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(a)}getWhitespaceAtVerticalOffset(a){return this._linesLayout.getWhitespaceAtVerticalOffset(a)}getLinesViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(a.top,a.top+a.height)}getLinesViewportDataAtScrollTop(a){const r=this._scrollable.getScrollDimensions();return a+r.height>r.scrollHeight&&(a=r.scrollHeight-r.height),a<0&&(a=0),this._linesLayout.getLinesViewportData(a,a+r.height)}getWhitespaceViewportData(){const a=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(a.top,a.top+a.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(a){return this._scrollable.validateScrollPosition(a)}setScrollPosition(a,r){r===1?this._scrollable.setScrollPositionNow(a):this._scrollable.setScrollPositionSmooth(a)}deltaScrollNow(a,r){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+a,scrollTop:d.scrollTop+r})}}e.ViewLayout=c}),define(ee[395],te([0,1,3,21]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(S,v){this._selection=S,this._isMovingLeft=v}getEditOperations(S,v){if(!(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())){const l=this._selection.startLineNumber,f=this._selection.startColumn,p=this._selection.endColumn;if(!(this._isMovingLeft&&f===1)&&!(!this._isMovingLeft&&p===S.getLineMaxColumn(l)))if(this._isMovingLeft){const c=new C.Range(l,f-1,l,f),u=S.getValueInRange(c);v.addEditOperation(c,null),v.addEditOperation(new C.Range(l,p,l,p),u)}else{const c=new C.Range(l,p,l,p+1),u=S.getValueInRange(c);v.addEditOperation(c,null),v.addEditOperation(new C.Range(l,f,l,f),u)}}}computeCursorState(S,v){return this._isMovingLeft?new M.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new M.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(ee[131],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class C{constructor(l){this.value=l}equals(l){return this.value===l.value}contains(l){return this.equals(l)||this.value===""||l.value.startsWith(this.value+C.sep)}intersects(l){return this.contains(l)||l.contains(this)}append(l){return new C(this.value+C.sep+l)}}e.CodeActionKind=C,C.sep=".",C.None=new C("@@none@@"),C.Empty=new C(""),C.QuickFix=new C("quickfix"),C.Refactor=new C("refactor"),C.Source=new C("source"),C.SourceOrganizeImports=C.Source.append("organizeImports"),C.SourceFixAll=C.Source.append("fixAll");function M(v,l){return!(v.include&&!v.include.intersects(l)||v.excludes&&v.excludes.some(f=>w(l,f,v.include))||!v.includeSourceActions&&C.Source.contains(l))}e.mayIncludeActionsOfKind=M;function k(v,l){const f=l.kind?new C(l.kind):void 0;return!(v.include&&(!f||!v.include.contains(f))||v.excludes&&f&&v.excludes.some(p=>w(f,p,v.include))||!v.includeSourceActions&&f&&C.Source.contains(f)||v.onlyIncludePreferredActions&&!l.isPreferred)}e.filtersAction=k;function w(v,l,f){return!(!l.contains(v)||f&&l.contains(f))}class S{constructor(l,f,p){this.kind=l,this.apply=f,this.preferred=p}static fromUser(l,f){return!l||typeof l!="object"?new S(f.kind,f.apply,!1):new S(S.getKindFromUser(l,f.kind),S.getApplyFromUser(l,f.apply),S.getPreferredUser(l))}static getApplyFromUser(l,f){switch(typeof l.apply=="string"?l.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return f}}static getKindFromUser(l,f){return typeof l.kind=="string"?new C(l.kind):f}static getPreferredUser(l){return typeof l.preferred=="boolean"?l.preferred:!1}}e.CodeActionCommandArgs=S}),define(ee[396],te([0,1,6]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class M{constructor(w,S,v){this.presentationIndex=v,this._onColorFlushed=new C.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new C.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new C.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=w,this._color=w,this._colorPresentations=S}get color(){return this._color}set color(w){this._color.equals(w)||(this._color=w,this._onDidChangeColor.fire(w))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(w){this._colorPresentations=w,this.presentationIndex>w.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(w,S){for(let v=0;v<this.colorPresentations.length;v++)if(S.toLowerCase()===this.colorPresentations[v].label){this.presentationIndex=v,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=M}),define(ee[222],te([0,1,62,13,3,21,41]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class v{constructor(f,p){this._selection=f,this._insertSpace=p,this._usedEndToken=null}static _haystackHasNeedleAtOffset(f,p,c){if(c<0)return!1;const u=p.length,a=f.length;if(c+u>a)return!1;for(let r=0;r<u;r++){const d=f.charCodeAt(c+r),s=p.charCodeAt(r);if(d!==s&&!(d>=65&&d<=90&&d+32===s)&&!(s>=65&&s<=90&&s+32===d))return!1}return!0}_createOperationsForBlockComment(f,p,c,u,a,r){const d=f.startLineNumber,s=f.startColumn,i=f.endLineNumber,n=f.endColumn,t=a.getLineContent(d),o=a.getLineContent(i);let h=t.lastIndexOf(p,s-1+p.length),_=o.indexOf(c,n-1-c.length);if(h!==-1&&_!==-1)if(d===i)t.substring(h+p.length,_).indexOf(c)>=0&&(h=-1,_=-1);else{const g=t.substring(h+p.length),b=o.substring(0,_);(g.indexOf(c)>=0||b.indexOf(c)>=0)&&(h=-1,_=-1)}let m;h!==-1&&_!==-1?(u&&h+p.length<t.length&&t.charCodeAt(h+p.length)===32&&(p=p+" "),u&&_>0&&o.charCodeAt(_-1)===32&&(c=" "+c,_-=1),m=v._createRemoveBlockCommentOperations(new k.Range(d,h+p.length+1,i,_+1),p,c)):(m=v._createAddBlockCommentOperations(f,p,c,this._insertSpace),this._usedEndToken=m.length===1?c:null);for(const g of m)r.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(f,p,c){let u=[];return k.Range.isEmpty(f)?u.push(C.EditOperation.delete(new k.Range(f.startLineNumber,f.startColumn-p.length,f.endLineNumber,f.endColumn+c.length))):(u.push(C.EditOperation.delete(new k.Range(f.startLineNumber,f.startColumn-p.length,f.startLineNumber,f.startColumn))),u.push(C.EditOperation.delete(new k.Range(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn+c.length)))),u}static _createAddBlockCommentOperations(f,p,c,u){let a=[];return k.Range.isEmpty(f)?a.push(C.EditOperation.replace(new k.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn),p+"  "+c)):(a.push(C.EditOperation.insert(new M.Position(f.startLineNumber,f.startColumn),p+(u?" ":""))),a.push(C.EditOperation.insert(new M.Position(f.endLineNumber,f.endColumn),(u?" ":"")+c))),a}getEditOperations(f,p){const c=this._selection.startLineNumber,u=this._selection.startColumn;f.tokenizeIfCheap(c);const a=f.getLanguageIdAtPosition(c,u),r=S.LanguageConfigurationRegistry.getComments(a);!r||!r.blockCommentStartToken||!r.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,f,p)}computeCursorState(f,p){const c=p.getInverseEditOperations();if(c.length===2){const u=c[0],a=c[1];return new w.Selection(u.range.endLineNumber,u.range.endColumn,a.range.startLineNumber,a.range.startColumn)}else{const u=c[0].range,a=this._usedEndToken?-this._usedEndToken.length-1:0;return new w.Selection(u.endLineNumber,u.endColumn+a,u.endLineNumber,u.endColumn+a)}}}e.BlockCommentCommand=v}),define(ee[397],te([0,1,8,62,13,3,21,41,222]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class f{constructor(c,u,a,r,d,s){this._selection=c,this._tabSize=u,this._type=a,this._insertSpace=r,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(c,u,a){c.tokenizeIfCheap(u);const r=c.getLanguageIdAtPosition(u,1),d=v.LanguageConfigurationRegistry.getComments(r),s=d?d.lineCommentToken:null;if(!s)return null;let i=[];for(let n=0,t=a-u+1;n<t;n++)i[n]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return i}static _analyzeLines(c,u,a,r,d,s,i){let n=!0,t;c===0?t=!0:c===1?t=!1:t=!0;for(let o=0,h=r.length;o<h;o++){const _=r[o],m=d+o;if(m===d&&i){_.ignore=!0;continue}const g=a.getLineContent(m),b=C.firstNonWhitespaceIndex(g);if(b===-1){_.ignore=s,_.commentStrOffset=g.length;continue}if(n=!1,_.ignore=!1,_.commentStrOffset=b,t&&!l.BlockCommentCommand._haystackHasNeedleAtOffset(g,_.commentStr,b)&&(c===0?t=!1:c===1||(_.ignore=!0)),t&&u){const y=b+_.commentStrLength;y<g.length&&g.charCodeAt(y)===32&&(_.commentStrLength+=1)}}if(c===0&&n){t=!1;for(let o=0,h=r.length;o<h;o++)r[o].ignore=!1}return{supported:!0,shouldRemoveComments:t,lines:r}}static _gatherPreflightData(c,u,a,r,d,s,i){const n=f._gatherPreflightCommentStrings(a,r,d);return n===null?{supported:!1}:f._analyzeLines(c,u,a,n,r,s,i)}_executeLineComments(c,u,a,r){let d;a.shouldRemoveComments?d=f._createRemoveLineCommentsOperations(a.lines,r.startLineNumber):(f._normalizeInsertionPoint(c,a.lines,r.startLineNumber,this._tabSize),d=this._createAddLineCommentsOperations(a.lines,r.startLineNumber));const s=new k.Position(r.positionLineNumber,r.positionColumn);for(let i=0,n=d.length;i<n;i++)u.addEditOperation(d[i].range,d[i].text),w.Range.isEmpty(d[i].range)&&w.Range.getStartPosition(d[i].range).equals(s)&&c.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(d[i].text||"").length);this._selectionId=u.trackSelection(r)}_attemptRemoveBlockComment(c,u,a,r){let d=u.startLineNumber,s=u.endLineNumber,i=r.length+Math.max(c.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.startColumn),n=c.getLineContent(d).lastIndexOf(a,i-1),t=c.getLineContent(s).indexOf(r,u.endColumn-1-a.length);return n!==-1&&t===-1&&(t=c.getLineContent(d).indexOf(r,n+a.length),s=d),n===-1&&t!==-1&&(n=c.getLineContent(s).lastIndexOf(a,t),d=s),u.isEmpty()&&(n===-1||t===-1)&&(n=c.getLineContent(d).indexOf(a),n!==-1&&(t=c.getLineContent(d).indexOf(r,n+a.length))),n!==-1&&c.getLineContent(d).charCodeAt(n+a.length)===32&&(a+=" "),t!==-1&&c.getLineContent(s).charCodeAt(t-1)===32&&(r=" "+r,t-=1),n!==-1&&t!==-1?l.BlockCommentCommand._createRemoveBlockCommentOperations(new w.Range(d,n+a.length+1,s,t+1),a,r):null}_executeBlockComment(c,u,a){c.tokenizeIfCheap(a.startLineNumber);let r=c.getLanguageIdAtPosition(a.startLineNumber,1),d=v.LanguageConfigurationRegistry.getComments(r);if(!(!d||!d.blockCommentStartToken||!d.blockCommentEndToken)){const s=d.blockCommentStartToken,i=d.blockCommentEndToken;let n=this._attemptRemoveBlockComment(c,a,s,i);if(!n){if(a.isEmpty()){const t=c.getLineContent(a.startLineNumber);let o=C.firstNonWhitespaceIndex(t);o===-1&&(o=t.length),n=l.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(a.startLineNumber,o+1,a.startLineNumber,t.length+1),s,i,this._insertSpace)}else n=l.BlockCommentCommand._createAddBlockCommentOperations(new w.Range(a.startLineNumber,c.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.endLineNumber,c.getLineMaxColumn(a.endLineNumber)),s,i,this._insertSpace);n.length===1&&(this._deltaColumn=s.length+1)}this._selectionId=u.trackSelection(a);for(const t of n)u.addEditOperation(t.range,t.text)}}getEditOperations(c,u){let a=this._selection;if(this._moveEndPositionDown=!1,a.startLineNumber===a.endLineNumber&&this._ignoreFirstLine){u.addEditOperation(new w.Range(a.startLineNumber,c.getLineMaxColumn(a.startLineNumber),a.startLineNumber+1,1),a.startLineNumber===c.getLineCount()?"":`
`),this._selectionId=u.trackSelection(a);return}a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,c.getLineMaxColumn(a.endLineNumber-1)));const r=f._gatherPreflightData(this._type,this._insertSpace,c,a.startLineNumber,a.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return r.supported?this._executeLineComments(c,u,r,a):this._executeBlockComment(c,u,a)}computeCursorState(c,u){let a=u.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),new S.Selection(a.selectionStartLineNumber,a.selectionStartColumn+this._deltaColumn,a.positionLineNumber,a.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(c,u){let a=[];for(let r=0,d=c.length;r<d;r++){const s=c[r];s.ignore||a.push(M.EditOperation.delete(new w.Range(u+r,s.commentStrOffset+1,u+r,s.commentStrOffset+s.commentStrLength+1)))}return a}_createAddLineCommentsOperations(c,u){let a=[];const r=this._insertSpace?" ":"";for(let d=0,s=c.length;d<s;d++){const i=c[d];i.ignore||a.push(M.EditOperation.insert(new k.Position(u+d,i.commentStrOffset+1),i.commentStr+r))}return a}static nextVisibleColumn(c,u,a,r){return a?c+(u-c%u):c+r}static _normalizeInsertionPoint(c,u,a,r){let d=1073741824,s,i;for(let n=0,t=u.length;n<t;n++)if(!u[n].ignore){const o=c.getLineContent(a+n);let h=0;for(let _=0,m=u[n].commentStrOffset;h<d&&_<m;_++)h=f.nextVisibleColumn(h,r,o.charCodeAt(_)===9,1);h<d&&(d=h)}d=Math.floor(d/r)*r;for(let n=0,t=u.length;n<t;n++)if(!u[n].ignore){const o=c.getLineContent(a+n);let h=0;for(s=0,i=u[n].commentStrOffset;h<d&&s<i;s++)h=f.nextVisibleColumn(h,r,o.charCodeAt(s)===9,1);h>d?u[n].commentStrOffset=s-1:u[n].commentStrOffset=s}}}e.LineCommentCommand=f}),define(ee[398],te([0,1,21,3]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(S,v,l){this.selection=S,this.targetPosition=v,this.copy=l,this.targetSelection=null}getEditOperations(S,v){let l=S.getValueInRange(this.selection);if(this.copy||v.addEditOperation(this.selection,null),v.addEditOperation(new M.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),l),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new C.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new C.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,v){return this.targetSelection}}e.DragAndDropCommand=k}),define(ee[399],te([0,1,3]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class M{constructor(w,S,v){this._editorSelection=w,this._ranges=S,this._replaceStrings=v,this._trackedEditorSelectionId=null}getEditOperations(w,S){if(this._ranges.length>0){let v=[];for(let p=0;p<this._ranges.length;p++)v.push({range:this._ranges[p],text:this._replaceStrings[p]});v.sort((p,c)=>C.Range.compareRangesUsingStarts(p.range,c.range));let l=[],f=v[0];for(let p=1;p<v.length;p++)f.range.endLineNumber===v[p].range.startLineNumber&&f.range.endColumn===v[p].range.startColumn?(f.range=f.range.plusRange(v[p].range),f.text=f.text+v[p].text):(l.push(f),f=v[p]);l.push(f);for(const p of l)S.addEditOperation(p.range,p.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(w,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=M}),define(ee[400],te([0,1,283]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class M{constructor(p){this.staticValue=p,this.kind=0}}class k{constructor(p){this.pieces=p,this.kind=1}}class w{constructor(p){!p||p.length===0?this._state=new M(""):p.length===1&&p[0].staticValue!==null?this._state=new M(p[0].staticValue):this._state=new k(p)}static fromStaticValue(p){return new w([S.staticValue(p)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(p,c){if(this._state.kind===0)return c?C.buildReplaceStringWithCasePreserved(p,this._state.staticValue):this._state.staticValue;let u="";for(let a=0,r=this._state.pieces.length;a<r;a++){let d=this._state.pieces[a];if(d.staticValue!==null){u+=d.staticValue;continue}let s=w._substitute(d.matchIndex,p);if(d.caseOps!==null&&d.caseOps.length>0){let i=[],n=d.caseOps.length,t=0;for(let o=0,h=s.length;o<h;o++){if(t>=n){i.push(s.slice(o));break}switch(d.caseOps[t]){case"U":i.push(s[o].toUpperCase());break;case"u":i.push(s[o].toUpperCase()),t++;break;case"L":i.push(s[o].toLowerCase());break;case"l":i.push(s[o].toLowerCase()),t++;break;default:i.push(s[o])}}s=i.join("")}u+=s}return u}static _substitute(p,c){if(c===null)return"";if(p===0)return c[0];let u="";for(;p>0;){if(p<c.length)return(c[p]||"")+u;u=String(p%10)+u,p=Math.floor(p/10)}return"$"+u}}e.ReplacePattern=w;class S{constructor(p,c,u){this.staticValue=p,this.matchIndex=c,!u||u.length===0?this.caseOps=null:this.caseOps=u.slice(0)}static staticValue(p){return new S(p,-1,null)}static caseOps(p,c){return new S(null,p,c)}}e.ReplacePiece=S;class v{constructor(p){this._source=p,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(p){this._emitStatic(this._source.substring(this._lastCharIndex,p)),this._lastCharIndex=p}emitStatic(p,c){this._emitStatic(p),this._lastCharIndex=c}_emitStatic(p){p.length!==0&&(this._currentStaticPiece+=p)}emitMatchIndex(p,c,u){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(p,u),this._lastCharIndex=c}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new w(this._result)}}function l(f){if(!f||f.length===0)return new w(null);let p=[],c=new v(f);for(let u=0,a=f.length;u<a;u++){let r=f.charCodeAt(u);if(r===92){if(u++,u>=a)break;let d=f.charCodeAt(u);switch(d){case 92:c.emitUnchanged(u-1),c.emitStatic("\\",u+1);break;case 110:c.emitUnchanged(u-1),c.emitStatic(`
`,u+1);break;case 116:c.emitUnchanged(u-1),c.emitStatic("	",u+1);break;case 117:case 85:case 108:case 76:c.emitUnchanged(u-1),c.emitStatic("",u+1),p.push(String.fromCharCode(d));break}continue}if(r===36){if(u++,u>=a)break;let d=f.charCodeAt(u);if(d===36){c.emitUnchanged(u-1),c.emitStatic("$",u+1);continue}if(d===48||d===38){c.emitUnchanged(u-1),c.emitMatchIndex(0,u+1,p),p.length=0;continue}if(49<=d&&d<=57){let s=d-48;if(u+1<a){let i=f.charCodeAt(u+1);if(48<=i&&i<=57){u++,s=s*10+(i-48),c.emitUnchanged(u-2),c.emitMatchIndex(s,u+1,p),p.length=0;continue}}c.emitUnchanged(u-1),c.emitMatchIndex(s,u+1,p),p.length=0;continue}}}return c.finalize()}e.parseReplaceString=l}),define(ee[173],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const C=4278190080;class M{constructor(S,v,l){if(S.length!==v.length||S.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=S,this._endIndexes=v,this._collapseStates=new Uint32Array(Math.ceil(S.length/32)),this._types=l,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let S=[],v=(l,f)=>{let p=S[S.length-1];return this.getStartLineNumber(p)<=l&&this.getEndLineNumber(p)>=f};for(let l=0,f=this._startIndexes.length;l<f;l++){let p=this._startIndexes[l],c=this._endIndexes[l];if(p>e.MAX_LINE_NUMBER||c>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;S.length>0&&!v(p,c);)S.pop();let u=S.length>0?S[S.length-1]:-1;S.push(l),this._startIndexes[l]=p+((u&255)<<24),this._endIndexes[l]=c+((u&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(S){return this._startIndexes[S]&e.MAX_LINE_NUMBER}getEndLineNumber(S){return this._endIndexes[S]&e.MAX_LINE_NUMBER}getType(S){return this._types?this._types[S]:void 0}hasTypes(){return!!this._types}isCollapsed(S){let v=S/32|0,l=S%32;return(this._collapseStates[v]&1<<l)!=0}setCollapsed(S,v){let l=S/32|0,f=S%32,p=this._collapseStates[l];v?this._collapseStates[l]=p|1<<f:this._collapseStates[l]=p&~(1<<f)}toRegion(S){return new k(this,S)}getParentIndex(S){this.ensureParentIndices();let v=((this._startIndexes[S]&C)>>>24)+((this._endIndexes[S]&C)>>>16);return v===e.MAX_FOLDING_REGIONS?-1:v}contains(S,v){return this.getStartLineNumber(S)<=v&&this.getEndLineNumber(S)>=v}findIndex(S){let v=0,l=this._startIndexes.length;if(l===0)return-1;for(;v<l;){let f=Math.floor((v+l)/2);S<this.getStartLineNumber(f)?l=f:v=f+1}return v-1}findRange(S){let v=this.findIndex(S);if(v>=0){if(this.getEndLineNumber(v)>=S)return v;for(v=this.getParentIndex(v);v!==-1;){if(this.contains(v,S))return v;v=this.getParentIndex(v)}}return-1}toString(){let S=[];for(let v=0;v<this.length;v++)S[v]=`[${this.isCollapsed(v)?"+":"-"}] ${this.getStartLineNumber(v)}/${this.getEndLineNumber(v)}`;return S.join(", ")}}e.FoldingRegions=M;class k{constructor(S,v){this.ranges=S,this.index=v}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(S){return S.startLineNumber<=this.startLineNumber&&S.endLineNumber>=this.endLineNumber}containsLine(S){return this.startLineNumber<=S&&S<=this.endLineNumber}}e.FoldingRegion=k}),define(ee[401],te([0,1,6,173]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class k{constructor(a,r){this._updateEventEmitter=new C.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=a,this._decorationProvider=r,this._regions=new M.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(a){if(!!a.length){a=a.sort((d,s)=>d.regionIndex-s.regionIndex);const r={};this._decorationProvider.changeDecorations(d=>{let s=0,i=-1,n=-1;const t=o=>{for(;s<o;){const h=this._regions.getEndLineNumber(s),_=this._regions.isCollapsed(s);h<=i&&d.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(_,h<=n)),_&&h>n&&(n=h),s++}};for(let o of a){let h=o.regionIndex,_=this._editorDecorationIds[h];if(_&&!r[_]){r[_]=!0,t(h);let m=!this._regions.isCollapsed(h);this._regions.setCollapsed(h,m),i=Math.max(i,this._regions.getEndLineNumber(h))}}t(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:a})}}update(a,r=[]){let d=[],s=(m,g)=>{for(let b of r)if(m<b&&b<=g)return!0;return!1},i=-1,n=(m,g)=>{const b=a.getStartLineNumber(m),y=a.getEndLineNumber(m);g&&s(b,y)&&(g=!1),a.setCollapsed(m,g);const L=this._textModel.getLineMaxColumn(b),D={startLineNumber:b,startColumn:Math.max(L-1,1),endLineNumber:b,endColumn:L};d.push({range:D,options:this._decorationProvider.getDecorationOption(g,y<=i)}),g&&y>i&&(i=y)},t=0,o=()=>{for(;t<this._regions.length;){let m=this._regions.isCollapsed(t);if(t++,m)return t-1}return-1},h=0,_=o();for(;_!==-1&&h<a.length;){let m=this._textModel.getDecorationRange(this._editorDecorationIds[_]);if(m){let g=m.startLineNumber;if(m.startColumn===Math.max(m.endColumn-1,1)&&this._textModel.getLineMaxColumn(g)===m.endColumn)for(;h<a.length;){let b=a.getStartLineNumber(h);if(g>=b)n(h,g===b),h++;else break}}_=o()}for(;h<a.length;)n(h,!1),h++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,d),this._regions=a,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let a=[];for(let r=0;r<this._regions.length;r++)if(this._regions.isCollapsed(r)){let d=this._textModel.getDecorationRange(this._editorDecorationIds[r]);if(d){let s=d.startLineNumber,i=d.endLineNumber+this._regions.getEndLineNumber(r)-this._regions.getStartLineNumber(r);a.push({startLineNumber:s,endLineNumber:i})}}if(a.length>0)return a}applyMemento(a){if(!!Array.isArray(a)){let r=[];for(let d of a){let s=this.getRegionAtLine(d.startLineNumber);s&&!s.isCollapsed&&r.push(s)}this.toggleCollapseState(r)}}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(a,r){let d=[];if(this._regions){let s=this._regions.findRange(a),i=1;for(;s>=0;){let n=this._regions.toRegion(s);(!r||r(n,i))&&d.push(n),i++,s=n.parentIndex}}return d}getRegionAtLine(a){if(this._regions){let r=this._regions.findRange(a);if(r>=0)return this._regions.toRegion(r)}return null}getRegionsInside(a,r){let d=[],s=a?a.regionIndex+1:0,i=a?a.endLineNumber:Number.MAX_VALUE;if(r&&r.length===2){const n=[];for(let t=s,o=this._regions.length;t<o;t++){let h=this._regions.toRegion(t);if(this._regions.getStartLineNumber(t)<i){for(;n.length>0&&!h.containedBy(n[n.length-1]);)n.pop();n.push(h),r(h,n.length)&&d.push(h)}else break}}else for(let n=s,t=this._regions.length;n<t;n++){let o=this._regions.toRegion(n);if(this._regions.getStartLineNumber(n)<i)(!r||r(o))&&d.push(o);else break}return d}}e.FoldingModel=k;function w(u,a,r){let d=[];for(let s of r){let i=u.getRegionAtLine(s);if(i){const n=!i.isCollapsed;if(d.push(i),a>1){let t=u.getRegionsInside(i,(o,h)=>o.isCollapsed!==n&&h<a);d.push(...t)}}}u.toggleCollapseState(d)}e.toggleCollapseState=w;function S(u,a,r=Number.MAX_VALUE,d){let s=[];if(d&&d.length>0)for(let i of d){let n=u.getRegionAtLine(i);if(n&&(n.isCollapsed!==a&&s.push(n),r>1)){let t=u.getRegionsInside(n,(o,h)=>o.isCollapsed!==a&&h<r);s.push(...t)}}else{let i=u.getRegionsInside(null,(n,t)=>n.isCollapsed!==a&&t<r);s.push(...i)}u.toggleCollapseState(s)}e.setCollapseStateLevelsDown=S;function v(u,a,r,d){let s=[];for(let i of d){let n=u.getAllRegionsAtLine(i,(t,o)=>t.isCollapsed!==a&&o<=r);s.push(...n)}u.toggleCollapseState(s)}e.setCollapseStateLevelsUp=v;function l(u,a,r){let d=[];for(let s of r){let i=u.getAllRegionsAtLine(s,n=>n.isCollapsed!==a);i.length>0&&d.push(i[0])}u.toggleCollapseState(d)}e.setCollapseStateUp=l;function f(u,a,r,d){let s=(n,t)=>t===a&&n.isCollapsed!==r&&!d.some(o=>n.containsLine(o)),i=u.getRegionsInside(null,s);u.toggleCollapseState(i)}e.setCollapseStateAtLevel=f;function p(u,a,r){let d=u.textModel,s=u.regions,i=[];for(let n=s.length-1;n>=0;n--)if(r!==s.isCollapsed(n)){let t=s.getStartLineNumber(n);a.test(d.getLineContent(t))&&i.push(s.toRegion(n))}u.toggleCollapseState(i)}e.setCollapseStateForMatchingLines=p;function c(u,a,r){let d=u.regions,s=[];for(let i=d.length-1;i>=0;i--)r!==d.isCollapsed(i)&&a===d.getType(i)&&s.push(d.toRegion(i));u.toggleCollapseState(s)}e.setCollapseStateForType=c}),define(ee[402],te([0,1,6,3,19]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class w{constructor(f){this._updateEventEmitter=new C.Emitter,this._foldingModel=f,this._foldingModelListener=f.onDidChange(p=>this.updateHiddenRanges()),this._hiddenRanges=[],f.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let f=!1,p=[],c=0,u=0,a=Number.MAX_VALUE,r=-1,d=this._foldingModel.regions;for(;c<d.length;c++)if(!!d.isCollapsed(c)){let s=d.getStartLineNumber(c)+1,i=d.getEndLineNumber(c);a<=s&&i<=r||(!f&&u<this._hiddenRanges.length&&this._hiddenRanges[u].startLineNumber===s&&this._hiddenRanges[u].endLineNumber===i?(p.push(this._hiddenRanges[u]),u++):(f=!0,p.push(new M.Range(s,1,i,1))),a=s,r=i)}(f||u<this._hiddenRanges.length)&&this.applyHiddenRanges(p)}applyMemento(f){if(!Array.isArray(f)||f.length===0)return!1;let p=[];for(let c of f){if(!c.startLineNumber||!c.endLineNumber)return!1;p.push(new M.Range(c.startLineNumber+1,1,c.endLineNumber,1))}return this.applyHiddenRanges(p),!0}getMemento(){return this._hiddenRanges.map(f=>({startLineNumber:f.startLineNumber-1,endLineNumber:f.endLineNumber}))}applyHiddenRanges(f){this._hiddenRanges=f,this._updateEventEmitter.fire(f)}hasRanges(){return this._hiddenRanges.length>0}isHidden(f){return v(this._hiddenRanges,f)!==null}adjustSelections(f){let p=!1,c=this._foldingModel.textModel,u=null,a=r=>((!u||!S(r,u))&&(u=v(this._hiddenRanges,r)),u?u.startLineNumber-1:null);for(let r=0,d=f.length;r<d;r++){let s=f[r],i=a(s.startLineNumber);i&&(s=s.setStartPosition(i,c.getLineMaxColumn(i)),p=!0);let n=a(s.endLineNumber);n&&(s=s.setEndPosition(n,c.getLineMaxColumn(n)),p=!0),f[r]=s}return p}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=w;function S(l,f){return l>=f.startLineNumber&&l<=f.endLineNumber}function v(l,f){let p=k.findFirstInSorted(l,c=>f<c.startLineNumber)-1;return p>=0&&l[p].endLineNumber>=f?l[p]:null}}),define(ee[223],te([0,1,11,173,2]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const w=5e3,S={};e.ID_SYNTAX_PROVIDER="syntax";class v{constructor(u,a,r,d=w){this.editorModel=u,this.providers=a,this.limit=d,this.id=e.ID_SYNTAX_PROVIDER;for(const s of a)typeof s.onDidChange=="function"&&(this.disposables||(this.disposables=new k.DisposableStore),this.disposables.add(s.onDidChange(r)))}compute(u){return l(this.providers,this.editorModel,u).then(a=>a?p(a,this.limit):null)}dispose(){var u;(u=this.disposables)===null||u===void 0||u.dispose()}}e.SyntaxRangeProvider=v;function l(c,u,a){let r=null,d=c.map((s,i)=>Promise.resolve(s.provideFoldingRanges(u,S,a)).then(n=>{if(!a.isCancellationRequested&&Array.isArray(n)){Array.isArray(r)||(r=[]);let t=u.getLineCount();for(let o of n)o.start>0&&o.end>o.start&&o.end<=t&&r.push({start:o.start,end:o.end,rank:i,kind:o.kind})}},C.onUnexpectedExternalError));return Promise.all(d).then(s=>r)}class f{constructor(u){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=u}add(u,a,r,d){if(!(u>M.MAX_LINE_NUMBER||a>M.MAX_LINE_NUMBER)){let s=this._length;this._startIndexes[s]=u,this._endIndexes[s]=a,this._nestingLevels[s]=d,this._types[s]=r,this._length++,d<30&&(this._nestingLevelCounts[d]=(this._nestingLevelCounts[d]||0)+1)}}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let u=new Uint32Array(this._length),a=new Uint32Array(this._length);for(let r=0;r<this._length;r++)u[r]=this._startIndexes[r],a[r]=this._endIndexes[r];return new M.FoldingRegions(u,a,this._types)}else{let u=0,a=this._nestingLevelCounts.length;for(let i=0;i<this._nestingLevelCounts.length;i++){let n=this._nestingLevelCounts[i];if(n){if(n+u>this._foldingRangesLimit){a=i;break}u+=n}}let r=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit),s=[];for(let i=0,n=0;i<this._length;i++){let t=this._nestingLevels[i];(t<a||t===a&&u++<this._foldingRangesLimit)&&(r[n]=this._startIndexes[i],d[n]=this._endIndexes[i],s[n]=this._types[i],n++)}return new M.FoldingRegions(r,d,s)}}}e.RangesCollector=f;function p(c,u){let a=c.sort((i,n)=>{let t=i.start-n.start;return t===0&&(t=i.rank-n.rank),t}),r=new f(u),d,s=[];for(let i of a)if(!d)d=i,r.add(i.start,i.end,i.kind&&i.kind.value,s.length);else if(i.start>d.start)if(i.end<=d.end)s.push(d),d=i,r.add(i.start,i.end,i.kind&&i.kind.value,s.length);else{if(i.start>d.end){do d=s.pop();while(d&&i.start>d.end);d&&s.push(d),d=i}r.add(i.start,i.end,i.kind&&i.kind.value,s.length)}return r.toIndentRanges()}e.sanitizeRanges=p}),define(ee[403],te([0,1,223]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class M{constructor(w,S,v,l){if(this.editorModel=w,this.id=e.ID_INIT_PROVIDER,S.length){let f=p=>({range:{startLineNumber:p.startLineNumber,startColumn:0,endLineNumber:p.endLineNumber,endColumn:w.getLineLength(p.endLineNumber)},options:{stickiness:1}});this.decorationIds=w.deltaDecorations([],S.map(f)),this.timeout=setTimeout(v,l)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(w){let S=[];if(this.decorationIds)for(let v of this.decorationIds){let l=this.editorModel.getDecorationRange(v);l&&S.push({start:l.startLineNumber,end:l.endLineNumber,rank:1})}return Promise.resolve(C.sanitizeRanges(S,Number.MAX_VALUE))}}e.InitializingRangeProvider=M}),define(ee[224],te([0,1,62,3]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(S,v){let l,f=[];for(let p of v)typeof p.eol=="number"&&(l=p.eol),p.range&&typeof p.text=="string"&&f.push(p);return typeof l=="number"&&S.hasModel()&&S.getModel().pushEOL(l),f}static _isFullModelReplaceEdit(S,v){if(!S.hasModel())return!1;const l=S.getModel(),f=l.validateRange(v.range);return l.getFullModelRange().equalsRange(f)}static execute(S,v,l){l&&S.pushUndoStop();const f=k._handleEolEdits(S,v);f.length===1&&k._isFullModelReplaceEdit(S,f[0])?S.executeEdits("formatEditsCommand",f.map(p=>C.EditOperation.replace(M.Range.lift(p.range),p.text))):S.executeEdits("formatEditsCommand",f.map(p=>C.EditOperation.replaceMove(M.Range.lift(p.range),p.text))),l&&S.pushUndoStop()}}e.FormattingEdit=k}),define(ee[225],te([0,1,2,6,16]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function w(c,u){return!!c[u]}class S{constructor(u,a){this.target=u.target,this.hasTriggerModifier=w(u.event,a.triggerModifier),this.hasSideBySideModifier=w(u.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=u.event.detail<=1}}e.ClickLinkMouseEvent=S;class v{constructor(u,a){this.keyCodeIsTriggerKey=u.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=u.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=w(u,a.triggerModifier)}}e.ClickLinkKeyboardEvent=v;class l{constructor(u,a,r,d){this.triggerKey=u,this.triggerModifier=a,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=d}equals(u){return this.triggerKey===u.triggerKey&&this.triggerModifier===u.triggerModifier&&this.triggerSideBySideKey===u.triggerSideBySideKey&&this.triggerSideBySideModifier===u.triggerSideBySideModifier}}e.ClickLinkOptions=l;function f(c){return c==="altKey"?k.isMacintosh?new l(57,"metaKey",6,"altKey"):new l(5,"ctrlKey",6,"altKey"):k.isMacintosh?new l(6,"altKey",57,"metaKey"):new l(6,"altKey",5,"ctrlKey")}class p extends C.Disposable{constructor(u){super();this._onMouseMoveOrRelevantKeyDown=this._register(new M.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new M.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new M.Emitter),this.onCancel=this._onCancel.event,this._editor=u,this._opts=f(this._editor.getOption(64)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(a=>{if(a.hasChanged(64)){const r=f(this._editor.getOption(64));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(a=>this._onEditorMouseMove(new S(a,this._opts)))),this._register(this._editor.onMouseDown(a=>this._onEditorMouseDown(new S(a,this._opts)))),this._register(this._editor.onMouseUp(a=>this._onEditorMouseUp(new S(a,this._opts)))),this._register(this._editor.onKeyDown(a=>this._onEditorKeyDown(new v(a,this._opts)))),this._register(this._editor.onKeyUp(a=>this._onEditorKeyUp(new v(a,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(a=>this._onDidChangeCursorSelection(a))),this._register(this._editor.onDidChangeModel(a=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(a=>{(a.scrollTopChanged||a.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(u){u.selection&&u.selection.startColumn!==u.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(u){this._lastMouseMoveEvent=u,this._onMouseMoveOrRelevantKeyDown.fire([u,null])}_onEditorMouseDown(u){this._hasTriggerKeyOnMouseDown=u.hasTriggerModifier,this._lineNumberOnMouseDown=u.target.position?u.target.position.lineNumber:0}_onEditorMouseUp(u){const a=u.target.position?u.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===a&&this._onExecute.fire(u)}_onEditorKeyDown(u){this._lastMouseMoveEvent&&(u.keyCodeIsTriggerKey||u.keyCodeIsSideBySideKey&&u.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,u]):u.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(u){u.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=p}),define(ee[226],te([0,1,15,11]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=void 0;class k{constructor(S,v,l,f,p){this._computer=S,this._state=0,this._hoverTime=p,this._firstWaitScheduler=new C.RunOnceScheduler(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new C.RunOnceScheduler(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new C.RunOnceScheduler(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=v,this._errorCallback=l,this._progressCallback=f}setHoverTime(S){this._hoverTime=S}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=C.createCancelablePromise(S=>this._computer.computeAsync(S)),this._asyncComputationPromise.then(S=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(S)},S=>this._onError(S))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){this._state===3&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(S){S&&this._computer.onResult(S,!1),this._state===3&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(S){this._completeCallback(S)}_onError(S){this._errorCallback?this._errorCallback(S):M.onUnexpectedError(S)}_onProgress(S){this._progressCallback(S)}start(S){if(S===0)this._state===0&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._loadingMessageScheduler.cancel(),this._state===1&&this._firstWaitScheduler.cancel(),this._state===2&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===3&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}e.HoverOperation=k}),define(ee[404],te([0,1,52]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphHoverWidget=void 0;class M extends C.Widget{constructor(w,S){super();this._id=w,this._editor=S,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(38)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(w){this._isVisible=w,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(w){this._showAtLineNumber=w,this.isVisible||(this.isVisible=!0);const S=this._editor.getLayoutInfo(),v=this._editor.getTopForLineNumber(this._showAtLineNumber),l=this._editor.getScrollTop(),f=this._editor.getOption(53),p=this._domNode.clientHeight,c=v-l-(p-f)/2;this._domNode.style.left=`${S.glyphMarginLeft+S.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(c),0)}px`}hide(){!this.isVisible||(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){const w=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),S=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));[...w,...S].forEach(v=>this._editor.applyFontInfo(v))}updateContents(w){this._domNode.textContent="",this._domNode.appendChild(w),this.updateFont()}}e.GlyphHoverWidget=M}),define(ee[405],te([0,1,21]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class M{constructor(w,S,v){this._editRange=w,this._originalSelection=S,this._text=v}getEditOperations(w,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(w,S){const l=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new C.Selection(l.endLineNumber,Math.min(this._originalSelection.positionColumn,l.endColumn),l.endLineNumber,Math.min(this._originalSelection.positionColumn,l.endColumn)):new C.Selection(l.endLineNumber,l.endColumn-this._text.length,l.endLineNumber,l.endColumn)}}e.InPlaceReplaceCommand=M}),define(ee[227],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function C(k,w){let S=0;for(let v=0;v<k.length;v++)k.charAt(v)==="	"?S+=w:S++;return S}e.getSpaceCnt=C;function M(k,w,S){k=k<0?0:k;let v="";if(!S){let l=Math.floor(k/w);k=k%w;for(let f=0;f<l;f++)v+="	"}for(let l=0;l<k;l++)v+=" ";return v}e.generateIndent=M}),define(ee[406],te([0,1,3,21]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(S,v,l){this._selection=S,this._isCopyingDown=v,this._noop=l||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,v){let l=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,l.startLineNumber<l.endLineNumber&&l.endColumn===1&&(this._endLineNumberDelta=1,l=l.setEndPosition(l.endLineNumber-1,S.getLineMaxColumn(l.endLineNumber-1)));let f=[];for(let c=l.startLineNumber;c<=l.endLineNumber;c++)f.push(S.getLineContent(c));const p=f.join(`
`);p===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?v.addEditOperation(new C.Range(l.endLineNumber,S.getLineMaxColumn(l.endLineNumber),l.endLineNumber+1,1),l.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?v.addEditOperation(new C.Range(l.startLineNumber,1,l.startLineNumber,1),p+`
`):v.addEditOperation(new C.Range(l.endLineNumber,S.getLineMaxColumn(l.endLineNumber),l.endLineNumber,S.getLineMaxColumn(l.endLineNumber)),`
`+p),this._selectionId=v.trackSelection(l),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,v){let l=v.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let f=l.startLineNumber,p=l.startColumn,c=l.endLineNumber,u=l.endColumn;this._startLineNumberDelta!==0&&(f=f+this._startLineNumberDelta,p=1),this._endLineNumberDelta!==0&&(c=c+this._endLineNumberDelta,u=1),l=M.Selection.createWithDirection(f,p,c,u,this._selectionDirection)}return l}}e.CopyLinesCommand=k}),define(ee[407],te([0,1,62,3]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(l,f){this.selection=l,this.descending=f,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(l,f){let p=S(l,this.selection,this.descending);p&&f.addEditOperation(p.range,p.text),this.selectionId=f.trackSelection(this.selection)}computeCursorState(l,f){return f.getTrackedSelection(this.selectionId)}static canRun(l,f,p){if(l===null)return!1;let c=w(l,f,p);if(!c)return!1;for(let u=0,a=c.before.length;u<a;u++)if(c.before[u]!==c.after[u])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function w(v,l,f){let p=l.startLineNumber,c=l.endLineNumber;if(l.endColumn===1&&c--,p>=c)return null;let u=[];for(let r=p;r<=c;r++)u.push(v.getLineContent(r));let a=u.slice(0);return a.sort(k.getCollator().compare),f===!0&&(a=a.reverse()),{startLineNumber:p,endLineNumber:c,before:u,after:a}}function S(v,l,f){let p=w(v,l,f);return p?C.EditOperation.replace(new M.Range(p.startLineNumber,1,p.endLineNumber,v.getLineMaxColumn(p.endLineNumber)),p.after.join(`
`)):null}}),define(ee[228],te([0,1,13,3,71]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class w{provideSelectionRanges(v,l){return Ie(this,void 0,void 0,function*(){const f=[];for(const p of l){const c=[];f.push(c);const u=new Map;yield new Promise(a=>w._bracketsRightYield(a,0,v,p,u)),yield new Promise(a=>w._bracketsLeftYield(a,0,v,p,u,c))}return f})}static _bracketsRightYield(v,l,f,p,c){const u=new Map,a=Date.now();for(;;){if(l>=w._maxRounds){v();break}if(!p){v();break}let r=f.findNextBracket(p);if(!r){v();break}if(Date.now()-a>w._maxDuration){setTimeout(()=>w._bracketsRightYield(v,l+1,f,p,c));break}const s=r.close[0];if(r.isOpen){let i=u.has(s)?u.get(s):0;u.set(s,i+1)}else{let i=u.has(s)?u.get(s):0;if(i-=1,u.set(s,Math.max(0,i)),i<0){let n=c.get(s);n||(n=new k.LinkedList,c.set(s,n)),n.push(r.range)}}p=r.range.getEndPosition()}}static _bracketsLeftYield(v,l,f,p,c,u){const a=new Map,r=Date.now();for(;;){if(l>=w._maxRounds&&c.size===0){v();break}if(!p){v();break}let d=f.findPrevBracket(p);if(!d){v();break}if(Date.now()-r>w._maxDuration){setTimeout(()=>w._bracketsLeftYield(v,l+1,f,p,c,u));break}const i=d.close[0];if(d.isOpen){let n=a.has(i)?a.get(i):0;if(n-=1,a.set(i,Math.max(0,n)),n<0){let t=c.get(i);if(t){let o=t.shift();t.size===0&&c.delete(i);const h=M.Range.fromPositions(d.range.getEndPosition(),o.getStartPosition()),_=M.Range.fromPositions(d.range.getStartPosition(),o.getEndPosition());u.push({range:h}),u.push({range:_}),w._addBracketLeading(f,_,u)}}}else{let n=a.has(i)?a.get(i):0;a.set(i,n+1)}p=d.range.getStartPosition()}}static _addBracketLeading(v,l,f){if(l.startLineNumber!==l.endLineNumber){const p=l.startLineNumber,c=v.getLineFirstNonWhitespaceColumn(p);c!==0&&c!==l.startColumn&&(f.push({range:M.Range.fromPositions(new C.Position(p,c),l.getEndPosition())}),f.push({range:M.Range.fromPositions(new C.Position(p,1),l.getEndPosition())}));const u=p-1;if(u>0){const a=v.getLineFirstNonWhitespaceColumn(u);a===l.startColumn&&a!==v.getLineLastNonWhitespaceColumn(u)&&(f.push({range:M.Range.fromPositions(new C.Position(u,a),l.getEndPosition())}),f.push({range:M.Range.fromPositions(new C.Position(u,1),l.getEndPosition())}))}}}}e.BracketSelectionRangeProvider=w,w._maxDuration=30,w._maxRounds=2}),define(ee[408],te([0,1,3,8]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(S,v){const l=[];for(const f of v){const p=[];l.push(p),this._addInWordRanges(p,S,f),this._addWordRanges(p,S,f),this._addWhitespaceLine(p,S,f),p.push({range:S.getFullModelRange()})}return l}_addInWordRanges(S,v,l){const f=v.getWordAtPosition(l);if(!!f){let{word:p,startColumn:c}=f,u=l.column-c,a=u,r=u,d=0;for(;a>=0;a--){let s=p.charCodeAt(a);if(a!==u&&(s===95||s===45))break;if(M.isLowerAsciiLetter(s)&&M.isUpperAsciiLetter(d))break;d=s}for(a+=1;r<p.length;r++){let s=p.charCodeAt(r);if(M.isUpperAsciiLetter(s)&&M.isLowerAsciiLetter(d))break;if(s===95||s===45)break;d=s}a<r&&S.push({range:new C.Range(l.lineNumber,c+a,l.lineNumber,c+r)})}}_addWordRanges(S,v,l){const f=v.getWordAtPosition(l);f&&S.push({range:new C.Range(l.lineNumber,f.startColumn,l.lineNumber,f.endColumn)})}_addWhitespaceLine(S,v,l){v.getLineLength(l.lineNumber)>0&&v.getLineFirstNonWhitespaceColumn(l.lineNumber)===0&&v.getLineLastNonWhitespaceColumn(l.lineNumber)===0&&S.push({range:new C.Range(l.lineNumber,1,l.lineNumber,v.getLineMaxColumn(l.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(ee[132],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class C{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,s=0,i=this.value.charCodeAt(d),n;if(n=C._table[i],typeof n=="number")return this.pos+=1,{type:n,pos:d,len:1};if(C.isDigitCharacter(i)){n=8;do s+=1,i=this.value.charCodeAt(d+s);while(C.isDigitCharacter(i));return this.pos+=s,{type:n,pos:d,len:s}}if(C.isVariableCharacter(i)){n=9;do i=this.value.charCodeAt(d+ ++s);while(C.isVariableCharacter(i)||C.isDigitCharacter(i));return this.pos+=s,{type:n,pos:d,len:s}}n=10;do s+=1,i=this.value.charCodeAt(d+s);while(!isNaN(i)&&typeof C._table[i]=="undefined"&&!C.isDigitCharacter(i)&&!C.isVariableCharacter(i));return this.pos+=s,{type:n,pos:d,len:s}}}e.Scanner=C,C._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class M{constructor(){this._children=[]}appendChild(d){return d instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,s){const{parent:i}=d,n=i.children.indexOf(d),t=i.children.slice(0);t.splice(n,1,...s),i._children=t,function o(h,_){for(const m of h)m.parent=_,o(m.children,m)}(s,i)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof u)return d;d=d.parent}}toString(){return this.children.reduce((d,s)=>d+s.toString(),"")}len(){return 0}}e.Marker=M;class k extends M{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class w extends M{}e.TransformableMarker=w;class S extends w{constructor(d){super();this.index=d}static compareByIndex(d,s){return d.index===s.index?0:d.isFinalTabstop?1:s.isFinalTabstop||d.index<s.index?-1:d.index>s.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof v?this._children[0]:void 0}clone(){let d=new S(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(s=>s.clone()),d}}e.Placeholder=S;class v extends M{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof k&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new v;return this.options.forEach(d.appendChild,d),d}}e.Choice=v;class l extends M{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const s=this;let i=!1,n=d.replace(this.regexp,function(){return i=!0,s._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(t=>t instanceof f&&Boolean(t.elseValue))&&(n=this._replace([])),n}_replace(d){let s="";for(const i of this._children)if(i instanceof f){let n=d[i.index]||"";n=i.resolve(n),s+=n}else s+=i.toString();return s}toString(){return""}clone(){let d=new l;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(s=>s.clone()),d}}e.Transform=l;class f extends M{constructor(d,s,i,n){super();this.index=d,this.shorthandName=s,this.ifValue=i,this.elseValue=n}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const s=d.match(/[a-z]+/gi);return s?s.map(function(i){return i.charAt(0).toUpperCase()+i.substr(1).toLowerCase()}).join(""):d}clone(){return new f(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=f;class p extends w{constructor(d){super();this.name=d}resolve(d){let s=d.resolve(this);return this.transform&&(s=this.transform.resolve(s||"")),s!==void 0?(this._children=[new k(s)],!0):!1}clone(){const d=new p(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(s=>s.clone()),d}}e.Variable=p;function c(r,d){const s=[...r];for(;s.length>0;){const i=s.shift();if(!d(i))break;s.unshift(...i.children)}}class u extends M{get placeholderInfo(){if(!this._placeholders){let d=[],s;this.walk(function(i){return i instanceof S&&(d.push(i),s=!s||s.index<i.index?i:s),!0}),this._placeholders={all:d,last:s}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let s=0,i=!1;return this.walk(n=>n===d?(i=!0,!1):(s+=n.len(),!0)),i?s:-1}fullLen(d){let s=0;return c([d],i=>(s+=i.len(),!0)),s}enclosingPlaceholders(d){let s=[],{parent:i}=d;for(;i;)i instanceof S&&s.push(i),i=i.parent;return s}resolveVariables(d){return this.walk(s=>(s instanceof p&&s.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,s){return this._placeholders=void 0,super.replace(d,s)}clone(){let d=new u;return this._children=this.children.map(s=>s.clone()),d}walk(d){c(this.children,d)}}e.TextmateSnippet=u;class a{constructor(){this._scanner=new C,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,s,i){this._scanner.text(d),this._token=this._scanner.next();const n=new u;for(;this._parse(n););const t=new Map,o=[];let h=0;n.walk(_=>(_ instanceof S&&(h+=1,_.isFinalTabstop?t.set(0,void 0):!t.has(_.index)&&_.children.length>0?t.set(_.index,_.children):o.push(_)),!0));for(const _ of o){const m=t.get(_.index);if(m){const g=new S(_.index);g.transform=_.transform;for(const b of m)g.appendChild(b.clone());n.replace(_,[g])}}return i||(i=h>0&&s),!t.has(0)&&i&&n.appendChild(new S(0)),n}_accept(d,s){if(d===void 0||this._token.type===d){let i=s?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const s=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const n=this._scanner.next();if(n.type!==0&&n.type!==4&&n.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(s.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let s;return(s=this._accept(5,!0))?(s=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||s,d.appendChild(new k(s)),!0):!1}_parseTabstopOrVariableName(d){let s;const i=this._token;return this._accept(0)&&(s=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(s)?new S(Number(s)):new p(s)),!0):this._backTo(i)}_parseComplexPlaceholder(d){let s;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(8,!0))))return this._backTo(i);const t=new S(Number(s));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+s+":")),t.children.forEach(d.appendChild,d),!0}else if(t.index>0&&this._accept(7)){const o=new v;for(;;){if(this._parseChoiceElement(o)){if(this._accept(2))continue;if(this._accept(7)&&(t.appendChild(o),this._accept(4)))return d.appendChild(t),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(i),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(i)}_parseChoiceElement(d){const s=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let n;if((n=this._accept(5,!0))?n=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||n:n=this._accept(void 0,!0),!n)return this._backTo(s),!1;i.push(n)}return i.length===0?(this._backTo(s),!1):(d.appendChild(new k(i.join(""))),!0)}_parseComplexVariable(d){let s;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(s=this._accept(9,!0))))return this._backTo(i);const t=new p(s);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(t),!0;if(!this._parse(t))return d.appendChild(new k("${"+s+":")),t.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(t)?(d.appendChild(t),!0):(this._backTo(i),!1):this._accept(4)?(d.appendChild(t),!0):this._backTo(i)}_parseTransform(d){let s=new l,i="",n="";for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(6,!0)||t,i+=t;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let t;if(t=this._accept(5,!0)){t=this._accept(5,!0)||this._accept(6,!0)||t,s.appendChild(new k(t));continue}if(!(this._parseFormatString(s)||this._parseAnything(s)))return!1}for(;!this._accept(4);){if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}try{s.regexp=new RegExp(i,n)}catch(t){return!1}return d.transform=s,!0}_parseFormatString(d){const s=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(n)if(i){if(this._accept(4))return d.appendChild(new f(Number(n))),!0;if(!this._accept(1))return this._backTo(s),!1}else return d.appendChild(new f(Number(n))),!0;else return this._backTo(s),!1;if(this._accept(6)){let t=this._accept(9,!0);return!t||!this._accept(4)?(this._backTo(s),!1):(d.appendChild(new f(Number(n),t)),!0)}else if(this._accept(11)){let t=this._until(4);if(t)return d.appendChild(new f(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return d.appendChild(new f(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let o=this._until(4);if(o)return d.appendChild(new f(Number(n),void 0,t,o)),!0}}else{let t=this._until(4);if(t)return d.appendChild(new f(Number(n),void 0,void 0,t)),!0}return this._backTo(s),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=a}),define(ee[409],te([0,1,66,8,19]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class w{constructor(l,f){this.leadingLineContent=l,this.characterCountDelta=f}}e.LineContext=w;class S{constructor(l,f,p,c,u,a,r){this.clipboardText=r,this._snippetCompareFn=S._compareCompletionItems,this._items=l,this._column=f,this._wordDistance=c,this._options=u,this._refilterKind=1,this._lineContext=p,a==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(l){(this._lineContext.leadingLineContent!==l.leadingLineContent||this._lineContext.characterCountDelta!==l.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<l.characterCountDelta&&this._filteredItems?2:1,this._lineContext=l)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const l=new Set;for(let[f,p]of this._providerInfo)p&&l.add(f);return l}adopt(l){let f=[];for(let p=0;p<this._items.length;)l.has(this._items[p].provider)?p++:(f.push(this._items[p]),this._items[p]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,f}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const l=[],{leadingLineContent:f,characterCountDelta:p}=this._lineContext;let c="",u="";const a=this._refilterKind===1?this._items:this._filteredItems,r=[],d=!this._options.filterGraceful||a.length>2e3?C.fuzzyScore:C.fuzzyScoreGracefulAggressive;for(let s=0;s<a.length;s++){const i=a[s];if(!i.isInvalid){this._providerInfo.set(i.provider,Boolean(i.container.incomplete));const n=i.position.column-i.editStart.column,t=n+p-(i.position.column-this._column);c.length!==t&&(c=t===0?"":f.slice(-t),u=c.toLowerCase());const o=typeof i.completion.label=="string"?i.completion.label:i.completion.label.name;if(i.word=c,t===0)i.score=C.FuzzyScore.Default;else{let h=0;for(;h<n;){const _=c.charCodeAt(h);if(_===32||_===9)h+=1;else break}if(h>=t)i.score=C.FuzzyScore.Default;else if(typeof i.completion.filterText=="string"){let _=d(c,u,h,i.completion.filterText,i.filterTextLow,0,!1);if(!_)continue;M.compareIgnoreCase(i.completion.filterText,o)===0?i.score=_:(i.score=C.anyScore(c,u,h,o,i.labelLow,0),i.score[0]=_[0])}else{let _=d(c,u,h,o,i.labelLow,0,!1);if(!_)continue;i.score=_}}i.idx=s,i.distance=this._wordDistance.distance(i.position,i.completion),r.push(i),l.push(o.length)}}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:l.length?k.quickSelect(l.length-.85,l,(s,i)=>s-i):0}}static _compareCompletionItems(l,f){return l.score[0]>f.score[0]?-1:l.score[0]<f.score[0]?1:l.distance<f.distance?-1:l.distance>f.distance?1:l.idx<f.idx?-1:l.idx>f.idx?1:0}static _compareCompletionItemsSnippetsDown(l,f){if(l.completion.kind!==f.completion.kind){if(l.completion.kind===27)return 1;if(f.completion.kind===27)return-1}return S._compareCompletionItems(l,f)}static _compareCompletionItemsSnippetsUp(l,f){if(l.completion.kind!==f.completion.kind){if(l.completion.kind===27)return-1;if(f.completion.kind===27)return 1}return S._compareCompletionItems(l,f)}}e.CompletionModel=S}),define(ee[229],te([0,1,6,2,7,104]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new C.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new C.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new M.DisposableStore,this._size=new k.Dimension(0,0),this._minSize=new k.Dimension(0,0),this._maxSize=new k.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new w.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:w.OrthogonalEdge.North}),this._southSash=new w.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:w.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let l,f=0,p=0;this._sashListener.add(C.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{l===void 0&&(this._onDidWillResize.fire(),l=this._size,f=0,p=0)})),this._sashListener.add(C.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{l!==void 0&&(l=void 0,f=0,p=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(c=>{l&&(p=c.currentX-c.startX,this.layout(l.height+f,l.width+p),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(c=>{l&&(p=-(c.currentX-c.startX),this.layout(l.height+f,l.width+p),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(c=>{l&&(f=-(c.currentY-c.startY),this.layout(l.height+f,l.width+p),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(c=>{l&&(f=c.currentY-c.startY,this.layout(l.height+f,l.width+p),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(C.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(c=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(C.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(c=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this.domNode.remove()}enableSashes(l,f,p,c){this._northSash.state=l?3:0,this._eastSash.state=f?3:0,this._southSash.state=p?3:0,this._westSash.state=c?3:0}layout(l=this.size.height,f=this.size.width){const{height:p,width:c}=this._minSize,{height:u,width:a}=this._maxSize;l=Math.max(p,Math.min(u,l)),f=Math.max(c,Math.min(a,f));const r=new k.Dimension(f,l);k.Dimension.equals(r,this._size)||(this.domNode.style.height=l+"px",this.domNode.style.width=f+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}get size(){return this._size}set maxSize(l){this._maxSize=l}get maxSize(){return this._maxSize}set minSize(l){this._minSize=l}get minSize(){return this._minSize}set preferredSize(l){this._preferredSize=l}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ee[410],te([0,1,19,2,91]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class w{constructor(v,l,f){this._disposables=new M.DisposableStore,this._disposables.add(l.onDidShow(()=>this._onItem(l.getFocusedItem()))),this._disposables.add(l.onDidFocus(this._onItem,this)),this._disposables.add(l.onDidHide(this.reset,this)),this._disposables.add(v.onWillType(p=>{if(this._active&&!l.isFrozen()){const c=p.charCodeAt(p.length-1);this._active.acceptCharacters.has(c)&&v.getOption(0)&&f(this._active.item)}}))}_onItem(v){if(!v||!C.isNonEmptyArray(v.item.completion.commitCharacters)){this.reset();return}if(!(this._active&&this._active.item.item===v.item)){const l=new k.CharacterSet;for(const f of v.item.completion.commitCharacters)f.length>0&&l.add(f.charCodeAt(0));this._active={acceptCharacters:l,item:v}}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=w}),define(ee[411],te([0,1,2]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class M{constructor(w,S){this._disposables=new C.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(w.onWillType(()=>{if(!!this._empty&&!!w.hasModel()){const v=w.getSelections(),l=v.length;let f=!1;for(let c=0;c<l;c++)if(!v[c].isEmpty()){f=!0;break}if(!!f){this._lastOvertyped=[];const p=w.getModel();for(let c=0;c<l;c++){const u=v[c];if(p.getValueLengthInRange(u)>M._maxSelectionLength)return;this._lastOvertyped[c]={value:p.getValueInRange(u),multiline:u.startLineNumber!==u.endLineNumber}}this._empty=!1}}})),this._disposables.add(S.onDidCancel(v=>{!this._empty&&!v.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(w){if(!this._empty&&w>=0&&w<this._lastOvertyped.length)return this._lastOvertyped[w]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=M,M._maxSelectionLength=51200}),define(ee[412],te([0,1,19,3,228]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class w{static create(v,l){return Ie(this,void 0,void 0,function*(){if(!l.getOption(101).localityBonus||!l.hasModel())return w.None;const f=l.getModel(),p=l.getPosition();if(!v.canComputeWordRanges(f.uri))return w.None;const[c]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(f,[p]);if(c.length===0)return w.None;const u=yield v.computeWordRanges(f.uri,c[0].range);if(!u)return w.None;const a=f.getWordUntilPosition(p);return delete u[a.word],new class extends w{distance(r,d){if(!p.equals(l.getPosition()))return 0;if(d.kind===17)return 2<<20;let s=typeof d.label=="string"?d.label:d.label.name,i=u[s];if(C.isFalsyOrEmpty(i))return 2<<20;let n=C.binarySearch(i,M.Range.fromPositions(r),M.Range.compareRangesUsingStarts),t=n>=0?i[n]:i[Math.max(0,~n-1)],o=c.length;for(const h of c){if(!M.Range.containsRange(h.range,t))break;o-=1}return o}}})}}e.WordDistance=w,w.None=new class extends w{distance(){return 0}}}),define(ee[230],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function C(r){return Array.isArray(r)}e.isFuzzyActionArr=C;function M(r){return!C(r)}e.isFuzzyAction=M;function k(r){return typeof r=="string"}e.isString=k;function w(r){return!k(r)}e.isIAction=w;function S(r){return!r}e.empty=S;function v(r,d){return r.ignoreCase&&d?d.toLowerCase():d}e.fixCase=v;function l(r){return r.replace(/[&<>'"_]/g,"-")}e.sanitize=l;function f(r,d){console.log(`${r.languageId}: ${d}`)}e.log=f;function p(r,d){return new Error(`${r.languageId}: ${d}`)}e.createError=p;function c(r,d,s,i,n){const t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let o=null;return d.replace(t,function(h,_,m,g,b,y,L,D,N){return S(m)?S(g)?!S(b)&&b<i.length?v(r,i[b]):!S(L)&&r&&typeof r[L]=="string"?r[L]:(o===null&&(o=n.split("."),o.unshift(n)),!S(y)&&y<o.length?v(r,o[y]):""):v(r,s):"$"})}e.substituteMatches=c;function u(r,d){let s=d;for(;s&&s.length>0;){const i=r.tokenizer[s];if(i)return i;const n=s.lastIndexOf(".");n<0?s=null:s=s.substr(0,n)}return null}e.findRules=u;function a(r,d){let s=d;for(;s&&s.length>0;){if(r.stateNames[s])return!0;const n=s.lastIndexOf(".");n<0?s=null:s=s.substr(0,n)}return!1}e.stateExists=a}),define(ee[413],te([0,1,230]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function M(r,d){if(!d||!Array.isArray(d))return!1;for(const s of d)if(!r(s))return!1;return!0}function k(r,d){return typeof r=="boolean"?r:d}function w(r,d){return typeof r=="string"?r:d}function S(r){const d={};for(const s of r)d[s]=!0;return d}function v(r,d=!1){d&&(r=r.map(function(i){return i.toLowerCase()}));const s=S(r);return d?function(i){return s[i.toLowerCase()]!==void 0&&s.hasOwnProperty(i.toLowerCase())}:function(i){return s[i]!==void 0&&s.hasOwnProperty(i)}}function l(r,d){let s=0;for(;d.indexOf("@")>=0&&s<5;)s++,d=d.replace(/@(\w+)/g,function(n,t){let o="";if(typeof r[t]=="string")o=r[t];else if(r[t]&&r[t]instanceof RegExp)o=r[t].source;else throw r[t]===void 0?C.createError(r,"language definition does not contain attribute '"+t+"', used at: "+d):C.createError(r,"attribute reference '"+t+"' must be a string, used at: "+d);return C.empty(o)?"":"(?:"+o+")"});let i=(r.ignoreCase?"i":"")+(r.unicode?"u":"");return new RegExp(d,i)}function f(r,d,s,i){if(i<0)return r;if(i<d.length)return d[i];if(i>=100){i=i-100;let n=s.split(".");if(n.unshift(s),i<n.length)return n[i]}return null}function p(r,d,s,i){let n=-1,t=s,o=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);o&&(o[3]&&(n=parseInt(o[3]),o[2]&&(n=n+100)),t=o[4]);let h="~",_=t;!t||t.length===0?(h="!=",_=""):/^\w*$/.test(_)?h="==":(o=t.match(/^(@|!@|~|!~|==|!=)(.*)$/),o&&(h=o[1],_=o[2]));let m;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(_)){let g=v(_.split("|"),r.ignoreCase);m=function(b){return h==="~"?g(b):!g(b)}}else if(h==="@"||h==="!@"){let g=r[_];if(!g)throw C.createError(r,"the @ match target '"+_+"' is not defined, in rule: "+d);if(!M(function(y){return typeof y=="string"},g))throw C.createError(r,"the @ match target '"+_+"' must be an array of strings, in rule: "+d);let b=v(g,r.ignoreCase);m=function(y){return h==="@"?b(y):!b(y)}}else if(h==="~"||h==="!~")if(_.indexOf("$")<0){let g=l(r,"^"+_+"$");m=function(b){return h==="~"?g.test(b):!g.test(b)}}else m=function(g,b,y,L){return l(r,"^"+C.substituteMatches(r,_,b,y,L)+"$").test(g)};else if(_.indexOf("$")<0){let g=C.fixCase(r,_);m=function(b){return h==="=="?b===g:b!==g}}else{let g=C.fixCase(r,_);m=function(b,y,L,D,N){let I=C.substituteMatches(r,g,y,L,D);return h==="=="?b===I:b!==I}}return n===-1?{name:s,value:i,test:function(g,b,y,L){return m(g,g,b,y,L)}}:{name:s,value:i,test:function(g,b,y,L){let D=f(g,b,y,n);return m(D||"",g,b,y,L)}}}function c(r,d,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw C.createError(r,"a 'token' attribute must be of type string, in rule: "+d);{let i={token:s.token};if(s.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")i.bracket=1;else if(s.bracket==="@close")i.bracket=-1;else throw C.createError(r,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(s.next){if(typeof s.next!="string")throw C.createError(r,"the next state must be a string value in rule: "+d);{let n=s.next;if(!/^(@pop|@push|@popall)$/.test(n)&&(n[0]==="@"&&(n=n.substr(1)),n.indexOf("$")<0&&!C.stateExists(r,C.substituteMatches(r,n,"",[],""))))throw C.createError(r,"the next state '"+s.next+"' is not defined in rule: "+d);i.next=n}}return typeof s.goBack=="number"&&(i.goBack=s.goBack),typeof s.switchTo=="string"&&(i.switchTo=s.switchTo),typeof s.log=="string"&&(i.log=s.log),typeof s.nextEmbedded=="string"&&(i.nextEmbedded=s.nextEmbedded,r.usesEmbedded=!0),i}}else if(Array.isArray(s)){let i=[];for(let n=0,t=s.length;n<t;n++)i[n]=c(r,d,s[n]);return{group:i}}else if(s.cases){let i=[];for(let t in s.cases)if(s.cases.hasOwnProperty(t)){const o=c(r,d,s.cases[t]);t==="@default"||t==="@"||t===""?i.push({test:void 0,value:o,name:t}):t==="@eos"?i.push({test:function(h,_,m,g){return g},value:o,name:t}):i.push(p(r,d,t,o))}const n=r.defaultToken;return{test:function(t,o,h,_){for(const m of i)if(!m.test||m.test(t,o,h,_))return m.value;return n}}}else throw C.createError(r,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class u{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,s){let i;if(typeof s=="string")i=s;else if(s instanceof RegExp)i=s.source;else throw C.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=l(d,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(d,s){this.action=c(d,this.name,s)}}function a(r,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");let s={};s.languageId=r,s.includeLF=k(d.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof d.start=="string"?d.start:null,s.ignoreCase=k(d.ignoreCase,!1),s.unicode=k(d.unicode,!1),s.tokenPostfix=w(d.tokenPostfix,"."+s.languageId),s.defaultToken=w(d.defaultToken,"source"),s.usesEmbedded=!1;let i=d;i.languageId=r,i.includeLF=s.includeLF,i.ignoreCase=s.ignoreCase,i.unicode=s.unicode,i.noThrow=s.noThrow,i.usesEmbedded=s.usesEmbedded,i.stateNames=d.tokenizer,i.defaultToken=s.defaultToken;function n(o,h,_){for(const m of _){let g=m.include;if(g){if(typeof g!="string")throw C.createError(s,"an 'include' attribute must be a string at: "+o);if(g[0]==="@"&&(g=g.substr(1)),!d.tokenizer[g])throw C.createError(s,"include target '"+g+"' is not defined at: "+o);n(o+"."+g,h,d.tokenizer[g])}else{const b=new u(o);if(Array.isArray(m)&&m.length>=1&&m.length<=3)if(b.setRegex(i,m[0]),m.length>=3)if(typeof m[1]=="string")b.setAction(i,{token:m[1],next:m[2]});else if(typeof m[1]=="object"){const y=m[1];y.next=m[2],b.setAction(i,y)}else throw C.createError(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+o);else b.setAction(i,m[1]);else{if(!m.regex)throw C.createError(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+o);m.name&&typeof m.name=="string"&&(b.name=m.name),m.matchOnlyAtStart&&(b.matchOnlyAtLineStart=k(m.matchOnlyAtLineStart,!1)),b.setRegex(i,m.regex),b.setAction(i,m.action)}h.push(b)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw C.createError(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(let o in d.tokenizer)if(d.tokenizer.hasOwnProperty(o)){s.start||(s.start=o);const h=d.tokenizer[o];s.tokenizer[o]=new Array,n("tokenizer."+o,s.tokenizer[o],h)}if(s.usesEmbedded=i.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw C.createError(s,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let t=[];for(let o of d.brackets){let h=o;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw C.createError(s,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")t.push({token:h.token+s.tokenPostfix,open:C.fixCase(s,h.open),close:C.fixCase(s,h.close)});else throw C.createError(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=t,s.noThrow=!0,s}e.compile=a}),define(ee[414],te([4,5]),function($,e){return $.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ee[415],te([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInput",e)}),define(ee[416],te([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/findInputCheckboxes",e)}),define(ee[231],te([0,1,160,416,27]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexCheckbox=e.WholeWordsCheckbox=e.CaseSensitiveCheckbox=void 0;const w=M.localize(0,null),S=M.localize(1,null),v=M.localize(2,null);class l extends C.Checkbox{constructor(u){super({icon:k.Codicon.caseSensitive,title:w+u.appendTitle,isChecked:u.isChecked,inputActiveOptionBorder:u.inputActiveOptionBorder,inputActiveOptionForeground:u.inputActiveOptionForeground,inputActiveOptionBackground:u.inputActiveOptionBackground})}}e.CaseSensitiveCheckbox=l;class f extends C.Checkbox{constructor(u){super({icon:k.Codicon.wholeWord,title:S+u.appendTitle,isChecked:u.isChecked,inputActiveOptionBorder:u.inputActiveOptionBorder,inputActiveOptionForeground:u.inputActiveOptionForeground,inputActiveOptionBackground:u.inputActiveOptionBackground})}}e.WholeWordsCheckbox=f;class p extends C.Checkbox{constructor(u){super({icon:k.Codicon.regex,title:v+u.appendTitle,isChecked:u.isChecked,inputActiveOptionBorder:u.inputActiveOptionBorder,inputActiveOptionForeground:u.inputActiveOptionForeground,inputActiveOptionBackground:u.inputActiveOptionBackground})}}e.RegexCheckbox=p}),define(ee[417],te([4,5]),function($,e){return $.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ee[418],te([4,5]),function($,e){return $.create("vs/base/browser/ui/iconLabel/iconLabel",e)}),define(ee[174],te([0,1,7,157,2,119,40,16,20,55,418,23,301]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class u{constructor(n){this._element=n}get element(){return this._element}set textContent(n){this.disposed||n===this._textContent||(this._textContent=n,this._element.textContent=n)}set className(n){this.disposed||n===this._className||(this._className=n,this._element.className=n)}set empty(n){this.disposed||n===this._empty||(this._empty=n,this._element.style.marginLeft=n?"0":"")}dispose(){this.disposed=!0}}class a extends k.Disposable{constructor(n,t){super();this.hoverDelegate=void 0,this.customHovers=new Map,this.domNode=this._register(new u(C.append(n,C.$(".monaco-icon-label")))),this.labelContainer=C.append(this.domNode.element,C.$(".monaco-icon-label-container"));const o=C.append(this.labelContainer,C.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new u(C.append(this.labelContainer,C.$("span.monaco-icon-description-container")))),(t==null?void 0:t.supportHighlights)?this.nameNode=new s(o,!!t.supportIcons):this.nameNode=new r(o),(t==null?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new M.HighlightedLabel(C.append(this.descriptionContainer.element,C.$("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new u(C.append(this.descriptionContainer.element,C.$("span.label-description")))),(t==null?void 0:t.hoverDelegate)&&(this.hoverDelegate=t.hoverDelegate)}setLabel(n,t,o){const h=["monaco-icon-label"];o&&(o.extraClasses&&h.push(...o.extraClasses),o.italic&&h.push("italic"),o.strikethrough&&h.push("strikethrough")),this.domNode.className=h.join(" "),this.setupHover(this.labelContainer,o==null?void 0:o.title),this.nameNode.setLabel(n,o),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof M.HighlightedLabel?(this.descriptionNode.set(t||"",o?o.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,o==null?void 0:o.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(o==null?void 0:o.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(n,t){const o=this.customHovers.get(n);if(o&&(o.dispose(),this.customHovers.delete(n)),!t){n.removeAttribute("title");return}return this.hoverDelegate?this.setupCustomHover(this.hoverDelegate,n,t):this.setupNativeHover(n,t)}static adjustXAndShowCustomHover(n,t,o,h){if(n&&h)return t!==void 0&&(n.target.x=t+10),o.showHover(n)}getTooltipForCustom(n){if(l.isString(n))return()=>Ie(this,void 0,void 0,function*(){return n});if(l.isFunction(n.markdown))return n.markdown;{const t=n.markdown;return()=>Ie(this,void 0,void 0,function*(){return t})}}setupCustomHover(n,t,o){t.setAttribute("title",""),t.removeAttribute("title");let h=this.getTooltipForCustom(o);const _=v.isMacintosh?1500:500;let m,g,b=!1,y;function L(N){if(!b){y=new c.CancellationTokenSource;function I(E){b=!1,m=void 0,y.dispose(!0),T.dispose(),O.dispose()}const T=f.domEvent(t,C.EventType.MOUSE_LEAVE,!0)(I.bind(t)),O=f.domEvent(t,C.EventType.MOUSE_DOWN,!0)(I.bind(t));b=!0;function A(E){g=E.x}const B=f.domEvent(t,C.EventType.MOUSE_MOVE,!0)(A.bind(t));setTimeout(()=>Ie(this,void 0,void 0,function*(){var E;if(b&&h&&!m){const W={targetElements:[this],dispose:()=>{}};m={text:p.localize(0,null),target:W,anchorPosition:0};const R=a.adjustXAndShowCustomHover(m,g,n,b),F=(E=yield h(y.token))!==null&&E!==void 0?E:l.isString(o)?void 0:o.markdownNotSupportedFallback;F?(m={text:F,target:W,anchorPosition:0},a.adjustXAndShowCustomHover(m,g,n,b)):R&&R.dispose()}B.dispose()}),_)}}const D=this._register(f.domEvent(t,C.EventType.MOUSE_OVER,!0)(L.bind(t)));this.customHovers.set(t,D)}setupNativeHover(n,t){let o="";l.isString(t)?o=t:(t==null?void 0:t.markdownNotSupportedFallback)&&(o=t.markdownNotSupportedFallback),n.title=o}}e.IconLabel=a;class r{constructor(n){this.container=n,this.label=void 0,this.singleLabel=void 0}setLabel(n,t){if(!(this.label===n&&S.equals(this.options,t)))if(this.label=n,this.options=t,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=C.append(this.container,C.$("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=n;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let o=0;o<n.length;o++){const h=n[o],_=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`;C.append(this.container,C.$("a.label-name",{id:_,"data-icon-label-count":n.length,"data-icon-label-index":o,role:"treeitem"},h)),o<n.length-1&&C.append(this.container,C.$("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function d(i,n,t){if(!!t){let o=0;return i.map(h=>{const _={start:o,end:o+h.length},m=t.map(g=>w.Range.intersect(_,g)).filter(g=>!w.Range.isEmpty(g)).map(({start:g,end:b})=>({start:g-o,end:b-o}));return o=_.end+n.length,m})}}class s{constructor(n,t){this.container=n,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(n,t){if(!(this.label===n&&S.equals(this.options,t)))if(this.label=n,this.options=t,typeof n=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new M.HighlightedLabel(C.append(this.container,C.$("a.label-name",{id:t==null?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(n,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const o=(t==null?void 0:t.separator)||"/",h=d(n,o,t==null?void 0:t.matches);for(let _=0;_<n.length;_++){const m=n[_],g=h?h[_]:void 0,b=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${_}`,y=C.$("a.label-name",{id:b,"data-icon-label-count":n.length,"data-icon-label-index":_,role:"treeitem"});new M.HighlightedLabel(C.append(this.container,y),this.supportIcons).set(m,g,void 0,t==null?void 0:t.labelEscapeNewLines),_<n.length-1&&C.append(y,C.$("span.label-separator",void 0,o))}}}}}),define(ee[419],te([4,5]),function($,e){return $.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ee[420],te([4,5]),function($,e){return $.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ee[421],te([4,5]),function($,e){return $.create("vs/base/browser/ui/menu/menu",e)}),define(ee[422],te([4,5]),function($,e){return $.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ee[175],te([0,1,2,125,7,6,56,98,150,19,161,55,66,154,422,15,16,100,194,195,312]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class o extends p.ElementsDragAndDropData{constructor(R){super(R.elements.map(F=>F.element));this.data=R}}function h(W){return W instanceof p.ElementsDragAndDropData?new o(W):W}class _{constructor(R,F){this.modelProvider=R,this.dnd=F,this.autoExpandDisposable=C.Disposable.None}getDragURI(R){return this.dnd.getDragURI(R.element)}getDragLabel(R,F){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(R.map(V=>V.element),F)}onDragStart(R,F){this.dnd.onDragStart&&this.dnd.onDragStart(h(R),F)}onDragOver(R,F,V,K,G=!0){const J=this.dnd.onDragOver(h(R),F&&F.element,V,K),se=this.autoExpandNode!==F;if(se&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=F),typeof F=="undefined")return J;if(se&&typeof J!="boolean"&&J.autoExpand&&(this.autoExpandDisposable=d.disposableTimeout(()=>{const P=this.modelProvider(),x=P.getNodeLocation(F);P.isCollapsed(x)&&P.setCollapsed(x,!1),this.autoExpandNode=void 0},500)),typeof J=="boolean"||!J.accept||typeof J.bubble=="undefined"||J.feedback){if(!G){const P=typeof J=="boolean"?J:J.accept,x=typeof J=="boolean"?void 0:J.effect;return{accept:P,effect:x,feedback:[V]}}return J}if(J.bubble===1){const P=this.modelProvider(),x=P.getNodeLocation(F),H=P.getParentNodeLocation(x),z=P.getNode(H),q=H&&P.getListIndex(H);return this.onDragOver(R,z,q,K,!1)}const ie=this.modelProvider(),ae=ie.getNodeLocation(F),X=ie.getListIndex(ae),U=ie.getListRenderCount(ae);return Object.assign(Object.assign({},J),{feedback:f.range(X,X+U)})}drop(R,F,V,K){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(h(R),F&&F.element,V,K)}onDragEnd(R){this.dnd.onDragEnd&&this.dnd.onDragEnd(R)}}function m(W,R){return R&&Object.assign(Object.assign({},R),{identityProvider:R.identityProvider&&{getId(F){return R.identityProvider.getId(F.element)}},dnd:R.dnd&&new _(W,R.dnd),multipleSelectionController:R.multipleSelectionController&&{isSelectionSingleChangeEvent(F){return R.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))},isSelectionRangeChangeEvent(F){return R.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},F),{element:F.element}))}},accessibilityProvider:R.accessibilityProvider&&Object.assign(Object.assign({},R.accessibilityProvider),{getSetSize(F){const V=W(),K=V.getNodeLocation(F),G=V.getParentNodeLocation(K);return V.getNode(G).visibleChildrenCount},getPosInSet(F){return F.visibleChildIndex+1},isChecked:R.accessibilityProvider&&R.accessibilityProvider.isChecked?F=>R.accessibilityProvider.isChecked(F.element):void 0,getRole:R.accessibilityProvider&&R.accessibilityProvider.getRole?F=>R.accessibilityProvider.getRole(F.element):()=>"treeitem",getAriaLabel(F){return R.accessibilityProvider.getAriaLabel(F.element)},getWidgetAriaLabel(){return R.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:R.accessibilityProvider&&R.accessibilityProvider.getWidgetRole?()=>R.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:R.accessibilityProvider&&R.accessibilityProvider.getAriaLevel?F=>R.accessibilityProvider.getAriaLevel(F.element):F=>F.depth,getActiveDescendantId:R.accessibilityProvider.getActiveDescendantId&&(F=>R.accessibilityProvider.getActiveDescendantId(F.element))}),keyboardNavigationLabelProvider:R.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},R.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(F){return R.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F.element)}}),enableKeyboardNavigation:R.simpleKeyboardNavigation})}class g{constructor(R){this.delegate=R}getHeight(R){return this.delegate.getHeight(R.element)}getTemplateId(R){return this.delegate.getTemplateId(R.element)}hasDynamicHeight(R){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(R.element)}setDynamicHeight(R,F){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(R.element,F)}}e.ComposedTreeDelegate=g;var b;(function(W){W.None="none",W.OnHover="onHover",W.Always="always"})(b=e.RenderIndentGuides||(e.RenderIndentGuides={}));class y{constructor(R,F=[]){this._elements=F,this.onDidChange=w.Event.forEach(R,V=>this._elements=V)}get elements(){return this._elements}}class L{constructor(R,F,V,K,G={}){this.renderer=R,this.modelProvider=F,this.activeNodes=K,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=L.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new n.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=C.Disposable.None,this.disposables=new C.DisposableStore,this.templateId=R.templateId,this.updateOptions(G),w.Event.map(V,J=>J.node)(this.onDidChangeNodeTwistieState,this,this.disposables),R.onDidChangeTwistieState&&R.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(R={}){if(typeof R.indent!="undefined"&&(this.indent=i.clamp(R.indent,0,40)),typeof R.renderIndentGuides!="undefined"){const F=R.renderIndentGuides!==b.None;if(F!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=F,this.indentGuidesDisposable.dispose(),F)){const V=new C.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof R.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=R.hideTwistiesOfChildlessElements)}renderTemplate(R){const F=k.append(R,k.$(".monaco-tl-row")),V=k.append(F,k.$(".monaco-tl-indent")),K=k.append(F,k.$(".monaco-tl-twistie")),G=k.append(F,k.$(".monaco-tl-contents")),J=this.renderer.renderTemplate(G);return{container:R,indent:V,twistie:K,indentGuidesDisposable:C.Disposable.None,templateData:J}}renderElement(R,F,V,K){typeof K=="number"&&(this.renderedNodes.set(R,{templateData:V,height:K}),this.renderedElements.set(R.element,R));const G=L.DefaultIndent+(R.depth-1)*this.indent;V.twistie.style.paddingLeft=`${G}px`,V.indent.style.width=`${G+this.indent-16}px`,this.renderTwistie(R,V),typeof K=="number"&&this.renderIndentGuides(R,V),this.renderer.renderElement(R,F,V.templateData,K)}disposeElement(R,F,V,K){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(R,F,V.templateData,K),typeof K=="number"&&(this.renderedNodes.delete(R),this.renderedElements.delete(R.element))}disposeTemplate(R){this.renderer.disposeTemplate(R.templateData)}onDidChangeTwistieState(R){const F=this.renderedElements.get(R);!F||this.onDidChangeNodeTwistieState(F)}onDidChangeNodeTwistieState(R){const F=this.renderedNodes.get(R);!F||(this.renderTwistie(R,F.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(R,F.templateData))}renderTwistie(R,F){F.twistie.classList.remove(...t.treeItemExpandedIcon.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(R.element,F.twistie)),R.collapsible&&(!this.hideTwistiesOfChildlessElements||R.visibleChildrenCount>0)?(V||F.twistie.classList.add(...t.treeItemExpandedIcon.classNamesArray),F.twistie.classList.add("collapsible"),F.twistie.classList.toggle("collapsed",R.collapsed)):F.twistie.classList.remove("collapsible","collapsed"),R.collapsible?F.container.setAttribute("aria-expanded",String(!R.collapsed)):F.container.removeAttribute("aria-expanded")}renderIndentGuides(R,F){if(k.clearNode(F.indent),F.indentGuidesDisposable.dispose(),!!this.shouldRenderIndentGuides){const V=new C.DisposableStore,K=this.modelProvider();let G=R;for(;;){const J=K.getNodeLocation(G),se=K.getParentNodeLocation(J);if(!se)break;const ie=K.getNode(se),ae=k.$(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ie)&&ae.classList.add("active"),F.indent.childElementCount===0?F.indent.appendChild(ae):F.indent.insertBefore(ae,F.indent.firstElementChild),this.renderedIndentGuides.add(ie,ae),V.add(C.toDisposable(()=>this.renderedIndentGuides.delete(ie,ae))),G=ie}F.indentGuidesDisposable=V}}_onDidChangeActiveNodes(R){if(!!this.shouldRenderIndentGuides){const F=new Set,V=this.modelProvider();R.forEach(K=>{const G=V.getNodeLocation(K);try{const J=V.getParentNodeLocation(G);K.collapsible&&K.children.length>0&&!K.collapsed?F.add(K):J&&F.add(V.getNode(J))}catch(J){}}),this.activeIndentNodes.forEach(K=>{F.has(K)||this.renderedIndentGuides.forEach(K,G=>G.classList.remove("active"))}),F.forEach(K=>{this.activeIndentNodes.has(K)||this.renderedIndentGuides.forEach(K,G=>G.classList.add("active"))}),this.activeIndentNodes=F}}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),C.dispose(this.disposables)}}L.DefaultIndent=8;class D{constructor(R,F,V){this.tree=R,this.keyboardNavigationLabelProvider=F,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new C.DisposableStore,R.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(R){this._pattern=R,this._lowercasePattern=R.toLowerCase()}filter(R,F){if(this._filter){const G=this._filter.filter(R,F);if(this.tree.options.simpleKeyboardNavigation)return G;let J;if(typeof G=="boolean"?J=G?1:0:a.isFilterResult(G)?J=a.getVisibleState(G.visibility):J=G,J===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:u.FuzzyScore.Default,visibility:!0};const V=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(R),K=Array.isArray(V)?V:[V];for(const G of K){const J=G&&G.toString();if(typeof J=="undefined")return{data:u.FuzzyScore.Default,visibility:!0};const se=u.fuzzyScore(this._pattern,this._lowercasePattern,0,J,J.toLowerCase(),0,!0);if(se)return this._matchCount++,K.length===1?{data:se,visibility:!0}:{data:{label:J,score:se},visibility:!0}}return this.tree.options.filterOnType?2:{data:u.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){C.dispose(this.disposables)}}class N{constructor(R,F,V,K,G){this.tree=R,this.view=V,this.filter=K,this.keyboardNavigationDelegate=G,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new w.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new w.Emitter,this.enabledDisposables=new C.DisposableStore,this.disposables=new C.DisposableStore,this.domNode=k.$(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,c.domEvent(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=k.append(V.getHTMLElement(),k.$(".monaco-list-type-filter-message")),this.labelDomNode=k.append(this.domNode,k.$("span.label"));const J=k.append(this.domNode,k.$(".controls"));this._filterOnType=!!R.options.filterOnType,this.filterOnTypeDomNode=k.append(J,k.$("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),c.domEvent(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=k.append(J,k.$("button.clear"+t.treeFilterClearIcon.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=r.localize(0,null),this.keyboardNavigationEventFilter=R.options.keyboardNavigationEventFilter,F.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(R.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(R){R.simpleKeyboardNavigation?this.disable():this.enable(),typeof R.filterOnType!="undefined"&&(this._filterOnType=!!R.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),typeof R.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=R.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(!this._enabled){const R=w.Event.chain(c.domEvent(this.view.getHTMLElement(),"keydown")).filter(V=>!M.isInputElement(V.target)||V.target===this.filterOnTypeDomNode).filter(V=>V.key!=="Dead"&&!/^Media/.test(V.key)).map(V=>new S.StandardKeyboardEvent(V)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(V=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(V)&&!(V.keyCode===18||V.keyCode===16||V.keyCode===15||V.keyCode===17)||(this.pattern.length>0||this.triggered)&&(V.keyCode===9||V.keyCode===1)&&!V.altKey&&!V.ctrlKey&&!V.metaKey||V.keyCode===1&&(s.isMacintosh?V.altKey&&!V.metaKey:V.ctrlKey)&&!V.shiftKey).forEach(V=>{V.stopPropagation(),V.preventDefault()}).event,F=c.domEvent(this.clearDomNode,"click");w.Event.chain(w.Event.any(R,F)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(R){typeof R=="string"?this.onInput(R):R instanceof MouseEvent||R.keyCode===9||R.keyCode===1&&(s.isMacintosh?R.altKey:R.ctrlKey)?this.onInput(""):R.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+R.browserEvent.key)}onInput(R){const F=this.view.getHTMLElement();R&&!this.domNode.parentElement?F.append(this.domNode):!R&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=R,this._onDidChangePattern.fire(R),this.filter.pattern=R,this.tree.refilter(),R&&this.tree.focusNext(0,!0,void 0,K=>!u.FuzzyScore.isDefault(K.filterData));const V=this.tree.getFocus();if(V.length>0){const K=V[0];this.tree.getRelativeTop(K)===null&&this.tree.reveal(K,.5)}this.render(),R||(this.triggered=!1)}onDragStart(){const R=this.view.getHTMLElement(),{left:F}=k.getDomNodePagePosition(R),V=R.clientWidth,K=V/2,G=this.domNode.clientWidth,J=new C.DisposableStore;let se=this.positionClassName;const ie=()=>{switch(se){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${V-G-6}px`;break}},ae=U=>{U.preventDefault();const P=U.clientX-F;U.dataTransfer&&(U.dataTransfer.dropEffect="none"),P<K?se="nw":se="ne",ie()},X=()=>{this.positionClassName=se,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",C.dispose(J)};ie(),this.domNode.classList.remove(se),this.domNode.classList.add("dragging"),J.add(C.toDisposable(()=>this.domNode.classList.remove("dragging"))),c.domEvent(document,"dragover")(ae,null,J),c.domEvent(this.domNode,"dragend")(X,null,J),l.StaticDND.CurrentDragAndDropData=new l.DragAndDropData("vscode-ui"),J.add(C.toDisposable(()=>l.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.title=r.localize(1,null)):(this.filterOnTypeDomNode.classList.remove(...t.treeFilterOnTypeOnIcon.classNamesArray),this.filterOnTypeDomNode.classList.add(...t.treeFilterOnTypeOffIcon.classNamesArray),this.filterOnTypeDomNode.title=r.localize(2,null))}render(){const R=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&R?(this.messageDomNode.textContent=r.localize(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",R),this.domNode.title=r.localize(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(R){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!u.FuzzyScore.isDefault(R.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),C.dispose(this.disposables)}}function I(W){let R=v.TreeMouseEventTarget.Unknown;return k.hasParentWithClass(W.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?R=v.TreeMouseEventTarget.Twistie:k.hasParentWithClass(W.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(R=v.TreeMouseEventTarget.Element),{browserEvent:W.browserEvent,element:W.element?W.element.element:null,target:R}}function T(W,R){R(W),W.children.forEach(F=>T(F,R))}class O{constructor(R){this.identityProvider=R,this.nodes=[],this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(R,F){var V;!((V=F)===null||V===void 0?void 0:V.__forceEvent)&&f.equals(this.nodes,R)||this._set(R,!1,F)}_set(R,F,V){if(this.nodes=[...R],this.elements=void 0,this._nodeSet=void 0,!F){const K=this;this._onDidChange.fire({get elements(){return K.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(R=>R.element)),[...this.elements]}getNodes(){return this.nodes}has(R){return this.nodeSet.has(R)}onDidModelSplice({insertedNodes:R,deletedNodes:F}){if(!this.identityProvider){const ie=this.createNodeSet(),ae=X=>ie.delete(X);F.forEach(X=>T(X,ae)),this.set([...ie.values()]);return}const V=new Set,K=ie=>V.add(this.identityProvider.getId(ie.element).toString());F.forEach(ie=>T(ie,K));const G=new Map,J=ie=>G.set(this.identityProvider.getId(ie.element).toString(),ie);R.forEach(ie=>T(ie,J));const se=[];for(const ie of this.nodes){const ae=this.identityProvider.getId(ie.element).toString();if(!V.has(ae))se.push(ie);else{const U=G.get(ae);U&&se.push(U)}}this._set(se,!0)}createNodeSet(){const R=new Set;for(const F of this.nodes)R.add(F);return R}}class A extends M.MouseController{constructor(R,F){super(R);this.tree=F}onViewPointer(R){if(!(M.isInputElement(R.browserEvent.target)||M.isMonacoEditor(R.browserEvent.target))){const F=R.element;if(!F)return super.onViewPointer(R);if(this.isSelectionRangeChangeEvent(R)||this.isSelectionSingleChangeEvent(R))return super.onViewPointer(R);const V=R.browserEvent.target,K=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&R.browserEvent.offsetX<16;let G=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?G=this.tree.expandOnlyOnTwistieClick(F.element):G=!!this.tree.expandOnlyOnTwistieClick,G&&!K&&R.browserEvent.detail!==2)return super.onViewPointer(R);if(this.tree.expandOnlyOnDoubleClick&&R.browserEvent.detail!==2&&!K)return super.onViewPointer(R);if(F.collapsible){const J=this.tree.model,se=J.getNodeLocation(F),ie=R.browserEvent.altKey;if(J.setCollapsed(se,void 0,ie),G&&K)return}super.onViewPointer(R)}}onDoubleClick(R){R.browserEvent.target.classList.contains("monaco-tl-twistie")||super.onDoubleClick(R)}}class B extends M.List{constructor(R,F,V,K,G,J,se){super(R,F,V,K,se);this.focusTrait=G,this.selectionTrait=J}createMouseController(R){return new A(this,R.tree)}splice(R,F,V=[]){if(super.splice(R,F,V),V.length!==0){const K=[],G=[];V.forEach((J,se)=>{this.focusTrait.has(J)&&K.push(R+se),this.selectionTrait.has(J)&&G.push(R+se)}),K.length>0&&super.setFocus(f.distinctES6([...super.getFocus(),...K])),G.length>0&&super.setSelection(f.distinctES6([...super.getSelection(),...G]))}}setFocus(R,F,V=!1){super.setFocus(R,F),V||this.focusTrait.set(R.map(K=>this.element(K)),F)}setSelection(R,F,V=!1){super.setSelection(R,F),V||this.selectionTrait.set(R.map(K=>this.element(K)),F)}}class E{constructor(R,F,V,K,G={}){this._options=G,this.eventBufferer=new w.EventBufferer,this.disposables=new C.DisposableStore,this._onWillRefilter=new w.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new w.Emitter;const J=new g(V),se=new w.Relay,ie=new w.Relay,ae=new y(ie.event);this.renderers=K.map(P=>new L(P,()=>this.model,se.event,ae,G));for(let P of this.renderers)this.disposables.add(P);let X;G.keyboardNavigationLabelProvider&&(X=new D(this,G.keyboardNavigationLabelProvider,G.filter),G=Object.assign(Object.assign({},G),{filter:X}),this.disposables.add(X)),this.focus=new O(G.identityProvider),this.selection=new O(G.identityProvider),this.view=new B(R,F,J,this.renderers,this.focus,this.selection,Object.assign(Object.assign({},m(()=>this.model,G)),{tree:this})),this.model=this.createModel(R,this.view,G),se.input=this.model.onDidChangeCollapseState;const U=w.Event.forEach(this.model.onDidSplice,P=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(P),this.selection.onDidModelSplice(P)})});if(U(()=>null,null,this.disposables),ie.input=w.Event.chain(w.Event.any(U,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const P=new Set;for(const x of this.focus.getNodes())P.add(x);for(const x of this.selection.getNodes())P.add(x);return[...P.values()]}).event,G.keyboardSupport!==!1){const P=w.Event.chain(this.view.onKeyDown).filter(x=>!M.isInputElement(x.target)).map(x=>new S.StandardKeyboardEvent(x));P.filter(x=>x.keyCode===15).on(this.onLeftArrow,this,this.disposables),P.filter(x=>x.keyCode===17).on(this.onRightArrow,this,this.disposables),P.filter(x=>x.keyCode===10).on(this.onSpace,this,this.disposables)}if(G.keyboardNavigationLabelProvider){const P=G.keyboardNavigationDelegate||M.DefaultKeyboardNavigationDelegate;this.typeFilterController=new N(this,this.model,this.view,X,P),this.focusNavigationFilter=x=>this.typeFilterController.shouldAllowFocus(x),this.disposables.add(this.typeFilterController)}this.styleElement=k.createStyleSheet(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return w.Event.map(this.view.onMouseDblClick,I)}get onPointer(){return w.Event.map(this.view.onPointer,I)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnlyOnDoubleClick(){var R;return(R=this._options.expandOnlyOnDoubleClick)!==null&&R!==void 0?R:!1}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!1:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(R={}){this._options=Object.assign(Object.assign({},this._options),R);for(const F of this.renderers)F.updateOptions(R);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===b.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(R){this.view.scrollTop=R}domFocus(){this.view.domFocus()}layout(R,F){this.view.layout(R,F)}style(R){const F=`.${this.view.domId}`,V=[];R.treeIndentGuidesStroke&&(V.push(`.monaco-list${F}:hover .monaco-tl-indent > .indent-guide, .monaco-list${F}.always .monaco-tl-indent > .indent-guide  { border-color: ${R.treeIndentGuidesStroke.transparent(.4)}; }`),V.push(`.monaco-list${F} .monaco-tl-indent > .indent-guide.active { border-color: ${R.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=V.join(`
`),this.view.style(R)}collapse(R,F=!1){return this.model.setCollapsed(R,!0,F)}expand(R,F=!1){return this.model.setCollapsed(R,!1,F)}isCollapsible(R){return this.model.isCollapsible(R)}setCollapsible(R,F){return this.model.setCollapsible(R,F)}isCollapsed(R){return this.model.isCollapsed(R)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(R,F){const V=R.map(G=>this.model.getNode(G));this.selection.set(V,F);const K=R.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setSelection(K,F,!0)}getSelection(){return this.selection.get()}setFocus(R,F){const V=R.map(G=>this.model.getNode(G));this.focus.set(V,F);const K=R.map(G=>this.model.getListIndex(G)).filter(G=>G>-1);this.view.setFocus(K,F,!0)}focusNext(R=1,F=!1,V,K=this.focusNavigationFilter){this.view.focusNext(R,F,V,K)}getFocus(){return this.focus.get()}reveal(R,F){this.model.expandTo(R);const V=this.model.getListIndex(R);V!==-1&&this.view.reveal(V,F)}getRelativeTop(R){const F=this.model.getListIndex(R);return F===-1?null:this.view.getRelativeTop(F)}onLeftArrow(R){R.preventDefault(),R.stopPropagation();const F=this.view.getFocusedElements();if(F.length!==0){const V=F[0],K=this.model.getNodeLocation(V);if(!this.model.setCollapsed(K,!0)){const J=this.model.getParentNodeLocation(K);if(!J)return;const se=this.model.getListIndex(J);this.view.reveal(se),this.view.setFocus([se])}}}onRightArrow(R){R.preventDefault(),R.stopPropagation();const F=this.view.getFocusedElements();if(F.length!==0){const V=F[0],K=this.model.getNodeLocation(V);if(!this.model.setCollapsed(K,!1)){if(!V.children.some(ie=>ie.visible))return;const[J]=this.view.getFocus(),se=J+1;this.view.reveal(se),this.view.setFocus([se])}}}onSpace(R){R.preventDefault(),R.stopPropagation();const F=this.view.getFocusedElements();if(F.length!==0){const V=F[0],K=this.model.getNodeLocation(V),G=R.browserEvent.altKey;this.model.setCollapsed(K,void 0,G)}}dispose(){C.dispose(this.disposables),this.view.dispose()}}e.AbstractTree=E}),define(ee[423],te([0,1,175,155]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends C.AbstractTree{constructor(S,v,l,f,p,c={}){super(S,v,l,f,c);this.user=S,this.dataSource=p,this.identityProvider=c.identityProvider}createModel(S,v,l){return new M.ObjectTreeModel(S,v,l)}}e.DataTree=k}),define(ee[232],te([0,1,54,175,155,282,99]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class v extends M.AbstractTree{constructor(u,a,r,d,s={}){super(u,a,r,d,s)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(u,a=C.Iterable.empty(),r){this.model.setChildren(u,a,r)}rerender(u){if(u===void 0){this.view.rerender();return}this.model.rerender(u)}hasElement(u){return this.model.has(u)}createModel(u,a,r){return new k.ObjectTreeModel(u,a,r)}}e.ObjectTree=v;class l{constructor(u,a){this._compressedTreeNodeProvider=u,this.renderer=a,this.templateId=a.templateId,a.onDidChangeTwistieState&&(this.onDidChangeTwistieState=a.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(u){const a=this.renderer.renderTemplate(u);return{compressedTreeNode:void 0,data:a}}renderElement(u,a,r,d){const s=this.compressedTreeNodeProvider.getCompressedTreeNode(u.element);s.element.elements.length===1?(r.compressedTreeNode=void 0,this.renderer.renderElement(u,a,r.data,d)):(r.compressedTreeNode=s,this.renderer.renderCompressedElements(s,a,r.data,d))}disposeElement(u,a,r,d){r.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(r.compressedTreeNode,a,r.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(u,a,r.data,d)}disposeTemplate(u){this.renderer.disposeTemplate(u.data)}renderTwistie(u,a){return this.renderer.renderTwistie?this.renderer.renderTwistie(u,a):!1}}Me([S.memoize],l.prototype,"compressedTreeNodeProvider",null);function f(c,u){return u&&Object.assign(Object.assign({},u),{keyboardNavigationLabelProvider:u.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(a){let r;try{r=c().getCompressedTreeNode(a)}catch(d){return u.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a)}return r.element.elements.length===1?u.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(a):u.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(r.element.elements)}}})}class p extends v{constructor(u,a,r,d,s={}){const i=()=>this,n=d.map(t=>new l(i,t));super(u,a,r,n,f(i,s))}setChildren(u,a=C.Iterable.empty(),r){this.model.setChildren(u,a,r)}createModel(u,a,r){return new w.CompressibleObjectTreeModel(u,a,r)}updateOptions(u={}){super.updateOptions(u),typeof u.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(u.compressionEnabled)}getCompressedTreeNode(u=null){return this.model.getCompressedTreeNode(u)}}e.CompressibleObjectTree=p}),define(ee[424],te([0,1,175,232,98,2,6,15,54,161,11,154,195]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function a(T){return Object.assign(Object.assign({},T),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function r(T,O){return O.parent?O.parent===T?!0:r(T,O.parent):!1}function d(T,O){return T===O||r(T,O)||r(O,T)}class s{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new s(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class i{constructor(O,A,B){this.renderer=O,this.nodeMapper=A,this.onDidChangeTwistieState=B,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,A,B,E){this.renderer.renderElement(this.nodeMapper.map(O),A,B.templateData,E)}renderTwistie(O,A){return O.slow?(A.classList.add(...u.treeItemLoadingIcon.classNamesArray),!0):(A.classList.remove(...u.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,A,B,E){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),A,B.templateData,E)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function n(T){return{browserEvent:T.browserEvent,elements:T.elements.map(O=>O.element)}}function t(T){return{browserEvent:T.browserEvent,element:T.element&&T.element.element,target:T.target}}class o extends f.ElementsDragAndDropData{constructor(O){super(O.elements.map(A=>A.element));this.data=O}}function h(T){return T instanceof f.ElementsDragAndDropData?new o(T):T}class _{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,A){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(B=>B.element),A)}onDragStart(O,A){this.dnd.onDragStart&&this.dnd.onDragStart(h(O),A)}onDragOver(O,A,B,E,W=!0){return this.dnd.onDragOver(h(O),A&&A.element,B,E)}drop(O,A,B,E){this.dnd.drop(h(O),A&&A.element,B,E)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function m(T){return T&&Object.assign(Object.assign({},T),{collapseByDefault:!0,identityProvider:T.identityProvider&&{getId(O){return T.identityProvider.getId(O.element)}},dnd:T.dnd&&new _(T.dnd),multipleSelectionController:T.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return T.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return T.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:T.accessibilityProvider&&Object.assign(Object.assign({},T.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:T.accessibilityProvider.getRole?O=>T.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:T.accessibilityProvider.isChecked?O=>{var A;return!!((A=T.accessibilityProvider)===null||A===void 0?void 0:A.isChecked(O.element))}:void 0,getAriaLabel(O){return T.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return T.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:T.accessibilityProvider.getWidgetRole?()=>T.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:T.accessibilityProvider.getAriaLevel&&(O=>T.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:T.accessibilityProvider.getActiveDescendantId&&(O=>T.accessibilityProvider.getActiveDescendantId(O.element))}),filter:T.filter&&{filter(O,A){return T.filter.filter(O.element,A)}},keyboardNavigationLabelProvider:T.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},T.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return T.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof T.expandOnlyOnTwistieClick=="undefined"?void 0:typeof T.expandOnlyOnTwistieClick!="function"?T.expandOnlyOnTwistieClick:O=>T.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:T.additionalScrollHeight})}function g(T,O){O(T),T.children.forEach(A=>g(A,O))}class b{constructor(O,A,B,E,W,R={}){this.user=O,this.dataSource=W,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Emitter,this._onDidChangeNodeSlowState=new S.Emitter,this.nodeMapper=new k.WeakMapper(F=>new s(F)),this.disposables=new w.DisposableStore,this.identityProvider=R.identityProvider,this.autoExpandSingleChildren=typeof R.autoExpandSingleChildren=="undefined"?!1:R.autoExpandSingleChildren,this.sorter=R.sorter,this.collapseByDefault=R.collapseByDefault,this.tree=this.createTree(O,A,B,E,R),this.root=a({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.Event.map(this.tree.onDidChangeFocus,n)}get onDidChangeSelection(){return S.Event.map(this.tree.onDidChangeSelection,n)}get onMouseDblClick(){return S.Event.map(this.tree.onMouseDblClick,t)}get onPointer(){return S.Event.map(this.tree.onPointer,t)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(O,A,B,E,W){const R=new C.ComposedTreeDelegate(B),F=E.map(K=>new i(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),V=m(W)||{};return new M.ObjectTree(O,A,R,F,V)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,A){this.tree.layout(O,A)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,A){return Ie(this,void 0,void 0,function*(){this.refreshPromises.forEach(E=>E.cancel()),this.refreshPromises.clear(),this.root.element=O;const B=A&&{viewState:A,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,B),B&&(this.tree.setFocus(B.focus),this.tree.setSelection(B.selection)),A&&typeof A.scrollTop=="number"&&(this.scrollTop=A.scrollTop)})}_updateChildren(O=this.root.element,A=!0,B=!1,E,W){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const R=this.getDataNode(O);if(yield this.refreshAndRenderNode(R,A,E,W),B)try{this.tree.rerender(R)}catch(F){}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const A=this.getDataNode(O);this.tree.rerender(A)}collapse(O,A=!1){const B=this.getDataNode(O);return this.tree.collapse(B===this.root?null:B,A)}expand(O,A=!1){return Ie(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new k.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event));const B=this.getDataNode(O);if(this.tree.hasElement(B)&&!this.tree.isCollapsible(B)||(B.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),B!==this.root&&!B.refreshPromise&&!this.tree.isCollapsed(B)))return!1;const E=this.tree.expand(B===this.root?null:B,A);return B.refreshPromise&&(yield this.root.refreshPromise,yield S.Event.toPromise(this._onDidRender.event)),E})}setSelection(O,A){const B=O.map(E=>this.getDataNode(E));this.tree.setSelection(B,A)}getSelection(){return this.tree.getSelection().map(A=>A.element)}setFocus(O,A){const B=O.map(E=>this.getDataNode(E));this.tree.setFocus(B,A)}getFocus(){return this.tree.getFocus().map(A=>A.element)}reveal(O,A){this.tree.reveal(this.getDataNode(O),A)}getDataNode(O){const A=this.nodes.get(O===this.root.element?null:O);if(!A)throw new k.TreeError(this.user,`Data tree node not found: ${O}`);return A}refreshAndRenderNode(O,A,B,E){return Ie(this,void 0,void 0,function*(){yield this.refreshNode(O,A,B),this.render(O,B,E)})}refreshNode(O,A,B){return Ie(this,void 0,void 0,function*(){let E;return this.subTreeRefreshPromises.forEach((W,R)=>{!E&&d(R,O)&&(E=W.then(()=>this.refreshNode(O,A,B)))}),E||this.doRefreshSubTree(O,A,B)})}doRefreshSubTree(O,A,B){return Ie(this,void 0,void 0,function*(){let E;O.refreshPromise=new Promise(W=>E=W),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const W=yield this.doRefreshNode(O,A,B);O.stale=!1,yield v.Promises.settled(W.map(R=>this.doRefreshSubTree(R,A,B)))}finally{E()}})}doRefreshNode(O,A,B){return Ie(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let E;if(!O.hasChildren)E=Promise.resolve(l.Iterable.empty());else{const W=v.timeout(800);W.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},R=>null),E=this.doGetChildren(O).finally(()=>W.cancel())}try{const W=yield E;return this.setChildren(O,W,A,B)}catch(W){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),p.isPromiseCanceledError(W))return[];throw W}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let A=this.refreshPromises.get(O);return A||(A=v.createCancelablePromise(()=>Ie(this,void 0,void 0,function*(){const B=yield this.dataSource.getChildren(O.element);return this.processChildren(B)})),this.refreshPromises.set(O,A),A.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:A}){O.element!==null&&!O.collapsed&&O.element.stale&&(A?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(p.onUnexpectedError))}setChildren(O,A,B,E){const W=[...A];if(O.children.length===0&&W.length===0)return[];const R=new Map,F=new Map;for(const G of O.children)if(R.set(G.element,G),this.identityProvider){const J=this.tree.isCollapsed(G);F.set(G.id,{node:G,collapsed:J})}const V=[],K=W.map(G=>{const J=!!this.dataSource.hasChildren(G);if(!this.identityProvider){const X=a({element:G,parent:O,hasChildren:J});return J&&this.collapseByDefault&&!this.collapseByDefault(G)&&(X.collapsedByDefault=!1,V.push(X)),X}const se=this.identityProvider.getId(G).toString(),ie=F.get(se);if(ie){const X=ie.node;return R.delete(X.element),this.nodes.delete(X.element),this.nodes.set(G,X),X.element=G,X.hasChildren=J,B?ie.collapsed?(X.children.forEach(U=>g(U,P=>this.nodes.delete(P.element))),X.children.splice(0,X.children.length),X.stale=!0):V.push(X):J&&this.collapseByDefault&&!this.collapseByDefault(G)&&(X.collapsedByDefault=!1,V.push(X)),X}const ae=a({element:G,parent:O,id:se,hasChildren:J});return E&&E.viewState.focus&&E.viewState.focus.indexOf(se)>-1&&E.focus.push(ae),E&&E.viewState.selection&&E.viewState.selection.indexOf(se)>-1&&E.selection.push(ae),E&&E.viewState.expanded&&E.viewState.expanded.indexOf(se)>-1?V.push(ae):J&&this.collapseByDefault&&!this.collapseByDefault(G)&&(ae.collapsedByDefault=!1,V.push(ae)),ae});for(const G of R.values())g(G,J=>this.nodes.delete(J.element));for(const G of K)this.nodes.set(G.element,G);return O.children.splice(0,O.children.length,...K),O!==this.root&&this.autoExpandSingleChildren&&K.length===1&&V.length===0&&(K[0].collapsedByDefault=!1,V.push(K[0])),V}render(O,A,B){const E=O.children.map(R=>this.asTreeElement(R,A)),W=B&&Object.assign(Object.assign({},B),{diffIdentityProvider:B.diffIdentityProvider&&{getId(R){return B.diffIdentityProvider.getId(R.element)}}});this.tree.setChildren(O===this.root?null:O,E,W),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,A){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let B;return A&&A.viewState.expanded&&O.id&&A.viewState.expanded.indexOf(O.id)>-1?B=!1:B=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?l.Iterable.map(O.children,E=>this.asTreeElement(E,A)):[],collapsible:O.hasChildren,collapsed:B}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=b;class y{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new y(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class L{constructor(O,A,B,E){this.renderer=O,this.nodeMapper=A,this.compressibleNodeMapperProvider=B,this.onDidChangeTwistieState=E,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,A,B,E){this.renderer.renderElement(this.nodeMapper.map(O),A,B.templateData,E)}renderCompressedElements(O,A,B,E){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),A,B.templateData,E)}renderTwistie(O,A){return O.slow?(A.classList.add(...u.treeItemLoadingIcon.classNamesArray),!0):(A.classList.remove(...u.treeItemLoadingIcon.classNamesArray),!1)}disposeElement(O,A,B,E){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),A,B.templateData,E)}disposeCompressedElements(O,A,B,E){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),A,B.templateData,E)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=w.dispose(this.disposables)}}function D(T){const O=T&&m(T);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(A){return T.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(A.map(B=>B.element))}})})}class N extends b{constructor(O,A,B,E,W,R,F={}){super(O,A,B,W,R,F);this.compressionDelegate=E,this.compressibleNodeMapper=new k.WeakMapper(V=>new y(V)),this.filter=F.filter}createTree(O,A,B,E,W){const R=new C.ComposedTreeDelegate(B),F=E.map(K=>new L(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),V=D(W)||{};return new M.CompressibleObjectTree(O,A,R,F,V)}asTreeElement(O,A){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,A))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,A){if(!this.identityProvider)return super.render(O,A);const B=se=>this.identityProvider.getId(se).toString(),E=se=>{const ie=new Set;for(const ae of se){const X=this.tree.getCompressedTreeNode(ae===this.root?null:ae);if(!!X.element)for(const U of X.element.elements)ie.add(B(U.element))}return ie},W=E(this.tree.getSelection()),R=E(this.tree.getFocus());super.render(O,A);const F=this.getSelection();let V=!1;const K=this.getFocus();let G=!1;const J=se=>{const ie=se.element;if(ie)for(let ae=0;ae<ie.elements.length;ae++){const X=B(ie.elements[ae].element),U=ie.elements[ie.elements.length-1].element;W.has(X)&&F.indexOf(U)===-1&&(F.push(U),V=!0),R.has(X)&&K.indexOf(U)===-1&&(K.push(U),G=!0)}se.children.forEach(J)};J(this.tree.getCompressedTreeNode(O===this.root?null:O)),V&&this.setSelection(F),G&&this.setFocus(K)}processChildren(O){return this.filter&&(O=l.Iterable.filter(O,A=>{const B=this.filter.filter(A,1),E=I(B);if(E===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return E===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=N;function I(T){return typeof T=="boolean"?T?1:0:c.isFilterResult(T)?c.getVisibleState(T.visibility):c.getVisibleState(T)}}),define(ee[425],te([4,5]),function($,e){return $.create("vs/base/common/actions",e)}),define(ee[48],te([0,1,425,2,6]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class w extends M.Disposable{constructor(c,u="",a="",r=!0,d){super();this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=c,this._label=u,this._cssClass=a,this._enabled=r,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(c){this._setLabel(c)}_setLabel(c){this._label!==c&&(this._label=c,this._onDidChange.fire({label:c}))}get tooltip(){return this._tooltip||""}set tooltip(c){this._setTooltip(c)}_setTooltip(c){this._tooltip!==c&&(this._tooltip=c,this._onDidChange.fire({tooltip:c}))}get class(){return this._cssClass}set class(c){this._setClass(c)}_setClass(c){this._cssClass!==c&&(this._cssClass=c,this._onDidChange.fire({class:c}))}get enabled(){return this._enabled}set enabled(c){this._setEnabled(c)}_setEnabled(c){this._enabled!==c&&(this._enabled=c,this._onDidChange.fire({enabled:c}))}get checked(){return this._checked}set checked(c){this._setChecked(c)}_setChecked(c){this._checked!==c&&(this._checked=c,this._onDidChange.fire({checked:c}))}run(c,u){return this._actionCallback?this._actionCallback(c):Promise.resolve(!0)}}e.Action=w;class S extends M.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new k.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new k.Emitter),this.onDidRun=this._onDidRun.event}run(c,u){return Ie(this,void 0,void 0,function*(){if(!c.enabled)return Promise.resolve(null);this._onBeforeRun.fire({action:c});try{const a=yield this.runAction(c,u);this._onDidRun.fire({action:c,result:a})}catch(a){this._onDidRun.fire({action:c,error:a})}})}runAction(c,u){const a=u?c.run(u):c.run();return Promise.resolve(a)}}e.ActionRunner=S;class v extends w{constructor(c){super(v.ID,c,c?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=v,v.ID="vs.actions.separator";class l{constructor(c,u,a,r){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=c,this.label=u,this.class=r,this._actions=a}dispose(){}get actions(){return this._actions}run(){return Ie(this,void 0,void 0,function*(){})}}e.SubmenuAction=l;class f extends w{constructor(){super(f.ID,C.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=f,f.ID="vs.actions.empty"}),define(ee[111],te([0,1,16,414,2,48,20,60,150,34,7,201]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class c extends k.Disposable{constructor(r,d,s={}){super();this.options=s,this._context=r||this,this._action=d,d instanceof w.Action&&this._register(d.onDidChange(i=>{!this.element||this.handleActionChangeEvent(i)}))}handleActionChangeEvent(r){r.enabled!==void 0&&this.updateEnabled(),r.checked!==void 0&&this.updateChecked(),r.class!==void 0&&this.updateClass(),r.label!==void 0&&(this.updateLabel(),this.updateTooltip()),r.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(r){this._actionRunner=r}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(r){this._context=r}render(r){const d=this.element=r;this._register(v.Gesture.addTarget(r));const s=this.options&&this.options.draggable;s&&(r.draggable=!0,f.isFirefox&&this._register(p.addDisposableListener(r,p.EventType.DRAG_START,i=>{var n;return(n=i.dataTransfer)===null||n===void 0?void 0:n.setData(l.DataTransfers.TEXT,this._action.label)}))),this._register(p.addDisposableListener(d,v.EventType.Tap,i=>this.onClick(i))),this._register(p.addDisposableListener(d,p.EventType.MOUSE_DOWN,i=>{s||p.EventHelper.stop(i,!0),this._action.enabled&&i.button===0&&d.classList.add("active")})),C.isMacintosh&&this._register(p.addDisposableListener(d,p.EventType.CONTEXT_MENU,i=>{i.button===0&&i.ctrlKey===!0&&this.onClick(i)})),this._register(p.addDisposableListener(d,p.EventType.CLICK,i=>{p.EventHelper.stop(i,!0),this.options&&this.options.isMenu||C.setImmediate(()=>this.onClick(i))})),this._register(p.addDisposableListener(d,p.EventType.DBLCLICK,i=>{p.EventHelper.stop(i,!0)})),[p.EventType.MOUSE_UP,p.EventType.MOUSE_OUT].forEach(i=>{this._register(p.addDisposableListener(d,i,n=>{p.EventHelper.stop(n),d.classList.remove("active")}))})}onClick(r){var d;p.EventHelper.stop(r,!0);const s=S.isUndefinedOrNull(this._context)?((d=this.options)===null||d===void 0?void 0:d.useEventAsContext)?r:void 0:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.classList.remove("focused"))}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=c;class u extends c{constructor(r,d,s={}){super(r,d,s);this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(r){super.render(r),this.element&&(this.label=p.append(this.element,p.$("a.action-label"))),this.label&&(this._action.id===w.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(p.append(this.element,p.$("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){super.focus(),this.label&&this.label.focus()}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let r=null;this.getAction().tooltip?r=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(r=this.getAction().label,this.options.keybinding&&(r=M.localize(0,null,r,this.options.keybinding))),r&&this.label&&(this.label.title=r)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled"),this.label.tabIndex=0),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled"),p.removeTabIndexAndUpdateFocus(this.label)),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=u}),define(ee[83],te([0,1,2,48,7,20,56,6,111,201]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class f extends C.Disposable{constructor(c,u={}){var a,r,d,s,i,n;super();this.triggerKeyDown=!1,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new v.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=u,this._context=(a=u.context)!==null&&a!==void 0?a:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(s=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&s!==void 0?s:!1,keys:(n=(i=this.options.triggerKeys)===null||i===void 0?void 0:i.keys)!==null&&n!==void 0?n:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new M.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._register(this._actionRunner.onBeforeRun(h=>this._onBeforeRun.fire(h))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",u.animated!==!1&&this.domNode.classList.add("animated");let t,o;switch(this._orientation){case 0:t=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[15],o=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[17];break;case 1:t=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[17],o=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[15],this.domNode.className+=" reverse";break;case 2:t=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[16],o=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[18],this.domNode.className+=" vertical";break;case 3:t=this.options.ignoreOrientationForPreviousAndNextKey?[17,18]:[18],o=this.options.ignoreOrientationForPreviousAndNextKey?[15,16]:[16],this.domNode.className+=" vertical reverse";break}this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_DOWN,h=>{const _=new S.StandardKeyboardEvent(h);let m=!0;t&&(_.equals(t[0])||_.equals(t[1]))?m=this.focusPrevious():o&&(_.equals(o[0])||_.equals(o[1]))?m=this.focusNext():_.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():this.isTriggerKeyEvent(_)?this._triggerKeys.keyDown?this.doTrigger(_):this.triggerKeyDown=!0:m=!1,m&&(_.preventDefault(),_.stopPropagation())})),this._register(k.addDisposableListener(this.domNode,k.EventType.KEY_UP,h=>{const _=new S.StandardKeyboardEvent(h);this.isTriggerKeyEvent(_)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(_)),_.preventDefault(),_.stopPropagation()):(_.equals(2)||_.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(k.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(k.getActiveElement()===this.domNode||!k.isAncestor(k.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),c.appendChild(this.domNode)}isTriggerKeyEvent(c){let u=!1;return this._triggerKeys.keys.forEach(a=>{u=u||c.equals(a)}),u}updateFocusedItem(){for(let c=0;c<this.actionsList.children.length;c++){const u=this.actionsList.children[c];if(k.isAncestor(k.getActiveElement(),u)){this.focusedItem=c;break}}}get context(){return this._context}set context(c){this._context=c,this.viewItems.forEach(u=>u.setActionContext(c))}get actionRunner(){return this._actionRunner}set actionRunner(c){c&&(this._actionRunner=c,this.viewItems.forEach(u=>u.actionRunner=c))}getContainer(){return this.domNode}push(c,u={}){const a=Array.isArray(c)?c:[c];let r=w.isNumber(u.index)?u.index:null;a.forEach(d=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(k.addDisposableListener(s,k.EventType.CONTEXT_MENU,n=>{k.EventHelper.stop(n,!0)}));let i;this.options.actionViewItemProvider&&(i=this.options.actionViewItemProvider(d)),i||(i=new l.ActionViewItem(this.context,d,u)),i.actionRunner=this._actionRunner,i.setActionContext(this.context),i.render(s),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(i),this._actionIds.push(d.id)):(this.actionsList.insertBefore(s,this.actionsList.children[r]),this.viewItems.splice(r,0,i),this._actionIds.splice(r,0,d.id),r++)}),this.focusedItem&&this.focus(this.focusedItem)}clear(){C.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],k.clearNode(this.actionsList)}focus(c){let u=!1,a;if(c===void 0?u=!0:typeof c=="number"?a=c:typeof c=="boolean"&&(u=c),u&&typeof this.focusedItem=="undefined"){const r=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus()}else a!==void 0&&(this.focusedItem=a),this.updateFocus()}focusNext(){typeof this.focusedItem=="undefined"&&(this.focusedItem=this.viewItems.length-1);const c=this.focusedItem;let u;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=c,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,u=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&!u.isEnabled());return this.focusedItem===c&&!u.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(),!0}focusPrevious(){typeof this.focusedItem=="undefined"&&(this.focusedItem=0);const c=this.focusedItem;let u;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=c,!1;this.focusedItem=this.viewItems.length-1}u=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&!u.isEnabled());return this.focusedItem===c&&!u.isEnabled()&&(this.focusedItem=void 0),this.updateFocus(!0),!0}updateFocus(c,u){typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:u});for(let a=0;a<this.viewItems.length;a++){const d=this.viewItems[a];a===this.focusedItem?w.isFunction(d.isEnabled)&&(d.isEnabled()&&w.isFunction(d.focus)?d.focus(c):this.actionsList.focus({preventScroll:u})):w.isFunction(d.blur)&&d.blur()}}doTrigger(c){if(typeof this.focusedItem!="undefined"){const u=this.viewItems[this.focusedItem];if(u instanceof l.BaseActionViewItem){const a=u._context===null||u._context===void 0?c:u._context;this.run(u._action,a)}}}run(c,u){return this._actionRunner.run(c,u)}dispose(){C.dispose(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=f}),define(ee[426],te([0,1,60,48,7,56,6,204]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class v extends M.ActionRunner{constructor(p,c){super();this._onDidChangeVisibility=new S.Emitter,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=k.append(p,k.$(".monaco-dropdown")),this._label=k.append(this._element,k.$(".dropdown-label"));let u=c.labelRenderer;u||(u=r=>(r.textContent=c.label||"",null));for(const r of[k.EventType.CLICK,k.EventType.MOUSE_DOWN,C.EventType.Tap])this._register(k.addDisposableListener(this.element,r,d=>k.EventHelper.stop(d,!0)));for(const r of[k.EventType.MOUSE_DOWN,C.EventType.Tap])this._register(k.addDisposableListener(this._label,r,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register(k.addDisposableListener(this._label,k.EventType.KEY_UP,r=>{const d=new w.StandardKeyboardEvent(r);(d.equals(3)||d.equals(10))&&(k.EventHelper.stop(r,!0),this.visible?this.hide():this.show())}));const a=u(this._label);a&&this._register(a),this._register(C.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=v;class l extends v{constructor(p,c){super(p,c);this._actions=[],this._contextMenuProvider=c.contextMenuProvider,this.actions=c.actions||[],this.actionProvider=c.actionProvider,this.menuClassName=c.menuClassName||"",this.menuAsChild=!!c.menuAsChild}set menuOptions(p){this._menuOptions=p}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(p){this._actions=p}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:p=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(p):void 0,getKeyBinding:p=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(p):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=l}),define(ee[427],te([0,1,7,6,111,426,204]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class S extends k.BaseActionViewItem{constructor(l,f,p,c={}){super(null,l,c);this.options=c,this.actionItem=null,this._onDidChangeVisibility=this._register(new M.Emitter),this.menuActionsOrProvider=f,this.contextMenuProvider=p,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(l){this.actionItem=l;const f=u=>{this.element=C.append(u,C.$("a.action-label"));let a=[];return typeof this.options.classNames=="string"?a=this.options.classNames.split(/\s+/g).filter(r=>!!r):this.options.classNames&&(a=this.options.classNames),a.find(r=>r==="icon")||a.push("codicon"),this.element.classList.add(...a),this.element.tabIndex=0,this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},p=Array.isArray(this.menuActionsOrProvider),c={contextMenuProvider:this.contextMenuProvider,labelRenderer:f,menuAsChild:this.options.menuAsChild,actions:p?this.menuActionsOrProvider:void 0,actionProvider:p?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new w.DropdownMenu(l,c)),this._register(this.dropdownMenu.onDidChangeVisibility(u=>{var a;(a=this.element)===null||a===void 0||a.setAttribute("aria-expanded",`${u}`),this._onDidChangeVisibility.fire(u)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const u=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return u.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(l){super.setActionContext(l),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=l:this.dropdownMenu.menuOptions={context:l})}updateEnabled(){var l,f;const p=!this.getAction().enabled;(l=this.actionItem)===null||l===void 0||l.classList.toggle("disabled",p),(f=this.element)===null||f===void 0||f.classList.toggle("disabled",p)}}e.DropdownMenuActionViewItem=S}),define(ee[176],te([0,1,419,7,156,47,83,6,52,29,40,277,61,55,302]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const r=M.$,d={inputBackground:f.Color.fromHex("#3C3C3C"),inputForeground:f.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:f.Color.fromHex("#55AAFF"),inputValidationInfoBackground:f.Color.fromHex("#063B49"),inputValidationWarningBorder:f.Color.fromHex("#B89500"),inputValidationWarningBackground:f.Color.fromHex("#352A05"),inputValidationErrorBorder:f.Color.fromHex("#BE1100"),inputValidationErrorBackground:f.Color.fromHex("#5A1D1D")};class s extends l.Widget{constructor(t,o,h){super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=o,this.options=h||Object.create(null),p.mixin(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=M.append(t,r(".monaco-inputbox.idle"));let _=this.options.flexibleHeight?"textarea":"input",m=M.append(this.element,r(".ibwrapper"));if(this.input=M.append(m,r(_+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=M.append(m,r("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new u.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),M.append(t,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(b=>this.input.scrollTop=b.scrollTop));const g=v.Event.filter(a.domEvent(document,"selectionchange"),()=>{const b=document.getSelection();return(b==null?void 0:b.anchorNode)===m});this._register(g(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(t){this.placeholder=t,this.input.setAttribute("placeholder",t),this.input.title=t}setAriaLabel(t){this.ariaLabel=t,t?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(t){this.input.value!==t&&(this.input.value=t,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:M.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(t=null){this.input.select(),t&&this.input.setSelectionRange(t.start,t.end)}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return M.getTotalWidth(this.input)}set width(t){if(this.options.flexibleHeight&&this.options.flexibleWidth){let o=0;if(this.mirror){const h=parseFloat(this.mirror.style.paddingLeft||"")||0,_=parseFloat(this.mirror.style.paddingRight||"")||0;o=h+_}this.input.style.width=t-o+"px"}else this.input.style.width=t+"px";this.mirror&&(this.mirror.style.width=t+"px")}set paddingRight(t){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${t}px)`:this.input.style.paddingRight=t+"px",this.mirror&&(this.mirror.style.paddingRight=t+"px")}updateScrollDimensions(){if(!(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)){const t=this.cachedContentHeight,o=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:t,height:o}),this.scrollableElement.setScrollPosition({scrollTop:h})}}showMessage(t,o){this.message=t,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(t.type));const h=this.stylesForType(this.message.type);this.element.style.border=h.border?`1px solid ${h.border}`:"",(this.hasFocus()||o)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let t=null;return this.validation&&(t=this.validation(this.value),t?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(t)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),t==null?void 0:t.type}stylesForType(t){switch(t){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(t){switch(t){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!(!this.contextViewProvider||!this.message)){let t,o=()=>t.style.width=M.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:_=>{if(!this.message)return null;t=M.append(_,r(".monaco-inputbox-container")),o();const m={inline:!0,className:"monaco-inputbox-message"},g=this.message.formatContent?k.renderFormattedText(this.message.content,m):k.renderText(this.message.content,m);g.classList.add(this.classForType(this.message.type));const b=this.stylesForType(this.message.type);return g.style.backgroundColor=b.background?b.background.toString():"",g.style.color=b.foreground?b.foreground.toString():"",g.style.border=b.border?`1px solid ${b.border}`:"",M.append(t,g),null},onHide:()=>{this.state="closed"},layout:o});let h;this.message.type===3?h=C.localize(0,null,this.message.content):this.message.type===2?h=C.localize(1,null,this.message.content):h=C.localize(2,null,this.message.content),w.alert(h),this.state="open"}}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!!this.mirror){const t=this.value,h=t.charCodeAt(t.length-1)===10?" ":"";t+h?this.mirror.textContent=t+h:this.mirror.innerText="\xA0",this.layout()}}style(t){this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const t=this.inputBackground?this.inputBackground.toString():"",o=this.inputForeground?this.inputForeground.toString():"",h=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=t,this.element.style.color=o,this.input.style.backgroundColor="inherit",this.input.style.color=o,this.element.style.borderWidth=h?"1px":"",this.element.style.borderStyle=h?"solid":"",this.element.style.borderColor=h}layout(){if(!!this.mirror){const t=this.cachedContentHeight;this.cachedContentHeight=M.getTotalHeight(this.mirror),t!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}}insertAtCursor(t){const o=this.inputElement,h=o.selectionStart,_=o.selectionEnd,m=o.value;h!==null&&_!==null&&(this.value=m.substr(0,h)+t+m.substr(_),o.setSelectionRange(h+1,h+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=s;class i extends s{constructor(t,o,h){super(t,o,h);this.history=new c.HistoryNavigator(h.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let t=this.getNextValue();t&&(t=t===this.value?this.getNextValue():t),t&&(this.value=t,w.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let t=this.getPreviousValue();t&&(t=t===this.value?this.getPreviousValue():t),t&&(this.value=t,w.status(this.value))}getCurrentValue(){let t=this.history.current();return t||(t=this.history.last(),this.history.next()),t}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=i}),define(ee[428],te([0,1,415,7,176,52,6,231,205]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const l=C.localize(0,null);class f extends w.Widget{constructor(c,u,a,r){super();this._showOptionButtons=a,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=u,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||l,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const d=r.appendCaseSensitiveLabel||"",s=r.appendWholeWordsLabel||"",i=r.appendRegexLabel||"",n=r.history||[],t=!!r.flexibleHeight,o=!!r.flexibleWidth,h=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:n,flexibleHeight:t,flexibleWidth:o,flexibleMaxHeight:h})),this.regex=this._register(new v.RegexCheckbox({appendTitle:i,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new v.WholeWordsCheckbox({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new v.CaseSensitiveCheckbox({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let _=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let b=_.indexOf(document.activeElement);if(b>=0){let y=-1;g.equals(17)?y=(b+1)%_.length:g.equals(15)&&(b===0?y=_.length-1:y=b-1),g.equals(9)?(_[b].blur(),this.inputBox.focus()):y>=0&&_[y].focus(),M.EventHelper.stop(g,!0)}}});let m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.caseSensitive.domNode),m.appendChild(this.wholeWords.domNode),m.appendChild(this.regex.domNode),this.domNode.appendChild(m),c&&c.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(c){this.fixFocusOnOptionClickEnabled=c}setEnabled(c){c?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(c){this.inputBox.value!==c&&(this.inputBox.value=c)}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(c),this.wholeWords.style(c),this.caseSensitive.style(c);const u={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(u)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(c){this.caseSensitive.checked=c}getWholeWords(){return this.wholeWords.checked}setWholeWords(c){this.wholeWords.checked=c}getRegex(){return this.regex.checked}setRegex(c){this.regex.checked=c,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=f}),define(ee[429],te([0,1,417,7,176,52,6,160,27,205]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseCheckbox=void 0;const f=C.localize(0,null),p=C.localize(1,null);class c extends v.Checkbox{constructor(r){super({icon:l.Codicon.preserveCase,title:p+r.appendTitle,isChecked:r.isChecked,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionForeground:r.inputActiveOptionForeground,inputActiveOptionBackground:r.inputActiveOptionBackground})}}e.PreserveCaseCheckbox=c;class u extends w.Widget{constructor(r,d,s,i){super();this._showOptionButtons=s,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onPreserveCaseKeyDown=this._register(new S.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||f,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const n=i.appendPreserveCaseLabel||"",t=i.history||[],o=!!i.flexibleHeight,h=!!i.flexibleWidth,_=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:t,flexibleHeight:o,flexibleWidth:h,flexibleMaxHeight:_})),this.preserveCase=this._register(new c({appendTitle:n,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(b=>{this._onPreserveCaseKeyDown.fire(b)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let m=[this.preserveCase.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let y=m.indexOf(document.activeElement);if(y>=0){let L=-1;b.equals(17)?L=(y+1)%m.length:b.equals(15)&&(y===0?L=m.length-1:L=y-1),b.equals(9)?(m[y].blur(),this.inputBox.focus()):L>=0&&m[L].focus(),M.EventHelper.stop(b,!0)}}});let g=document.createElement("div");g.className="controls",g.style.display=this._showOptionButtons?"block":"none",g.appendChild(this.preserveCase.domNode),this.domNode.appendChild(g),r&&r.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(r){r?this.enable():this.disable()}style(r){this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const r={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(r);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(r){this.preserveCase.checked=r}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(r){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=r,this.domNode.style.width=r+"px"}dispose(){super.dispose()}}e.ReplaceInput=u}),define(ee[430],te([0,1,421,8,48,83,7,56,15,2,61,202,16,27,111,123,34,50,102]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;const t=a.registerCodicon("menu-selection",a.Codicon.check),o=a.registerCodicon("menu-submenu",a.Codicon.chevronRight);var h;(function(D){D[D.Right=0]="Right",D[D.Left=1]="Left"})(h=e.Direction||(e.Direction={}));class _ extends w.ActionBar{constructor(N,I,T={}){N.classList.add("monaco-menu-container"),N.setAttribute("role","presentation");const O=document.createElement("div");O.classList.add("monaco-menu"),O.setAttribute("role","presentation"),super(O,{orientation:2,actionViewItemProvider:E=>this.doGetActionViewItem(E,T,A),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.menuElement=O,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new f.DisposableStore),this.initializeStyleSheet(N),S.addDisposableListener(O,S.EventType.KEY_DOWN,E=>{new v.StandardKeyboardEvent(E).equals(2)&&E.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add(S.addDisposableListener(O,S.EventType.KEY_DOWN,E=>{const W=E.key.toLocaleLowerCase();if(this.mnemonics.has(W)){S.EventHelper.stop(E,!0);const R=this.mnemonics.get(W);if(R.length===1&&(R[0]instanceof g&&R[0].container&&this.focusItemByElement(R[0].container),R[0].onClick(E)),R.length>1){const F=R.shift();F&&F.container&&(this.focusItemByElement(F.container),R.push(F)),this.mnemonics.set(W,R)}}})),u.isLinux&&this._register(S.addDisposableListener(O,S.EventType.KEY_DOWN,E=>{const W=new v.StandardKeyboardEvent(E);W.equals(14)||W.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),S.EventHelper.stop(E,!0)):(W.equals(13)||W.equals(12))&&(this.focusedItem=0,this.focusPrevious(),S.EventHelper.stop(E,!0))})),this._register(S.addDisposableListener(this.domNode,S.EventType.MOUSE_OUT,E=>{let W=E.relatedTarget;S.isAncestor(W,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),E.stopPropagation())})),this._register(S.addDisposableListener(this.actionsList,S.EventType.MOUSE_OVER,E=>{let W=E.target;if(!(!W||!S.isAncestor(W,this.actionsList)||W===this.actionsList)){for(;W.parentElement!==this.actionsList&&W.parentElement!==null;)W=W.parentElement;if(W.classList.contains("action-item")){const R=this.focusedItem;this.setFocusedItem(W),R!==this.focusedItem&&this.updateFocus()}}}));let A={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new p.DomScrollableElement(O,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const B=this.scrollableElement.getDomNode();B.style.position="",this._register(S.addDisposableListener(B,S.EventType.MOUSE_UP,E=>{E.preventDefault()})),O.style.maxHeight=`${Math.max(10,window.innerHeight-N.getBoundingClientRect().top-35)}px`,I=I.filter(E=>{var W;return((W=T.submenuIds)===null||W===void 0?void 0:W.has(E.id))?(console.warn(`Found submenu cycle: ${E.id}`),!1):!0}),this.push(I,{icon:!0,label:!0,isMenu:!0}),N.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(E=>!(E instanceof b)).forEach((E,W,R)=>{E.updatePositionInSet(W+1,R.length)})}initializeStyleSheet(N){S.isInShadowDOM(N)?(this.styleSheet=S.createStyleSheet(N),this.styleSheet.textContent=L):(_.globalStyleSheet||(_.globalStyleSheet=S.createStyleSheet(),_.globalStyleSheet.textContent=L),this.styleSheet=_.globalStyleSheet)}style(N){const I=this.getContainer(),T=N.foregroundColor?`${N.foregroundColor}`:"",O=N.backgroundColor?`${N.backgroundColor}`:"",A=N.borderColor?`1px solid ${N.borderColor}`:"",B=N.shadowColor?`0 2px 4px ${N.shadowColor}`:"";I.style.border=A,this.domNode.style.color=T,this.domNode.style.backgroundColor=O,I.style.boxShadow=B,this.viewItems&&this.viewItems.forEach(E=>{(E instanceof m||E instanceof b)&&E.style(N)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(N){const I=this.focusedItem;this.setFocusedItem(N),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(N){for(let I=0;I<this.actionsList.children.length;I++){let T=this.actionsList.children[I];if(N===T){this.focusedItem=I;break}}}updateFocus(N){super.updateFocus(N,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(N,I,T){if(N instanceof k.Separator)return new b(I.context,N,{icon:!0});if(N instanceof k.SubmenuAction){const O=new g(N,N.actions,T,Object.assign(Object.assign({},I),{submenuIds:new Set([...I.submenuIds||[],N.id])}));if(I.enableMnemonics){const A=O.getMnemonic();if(A&&O.isEnabled()){let B=[];this.mnemonics.has(A)&&(B=this.mnemonics.get(A)),B.push(O),this.mnemonics.set(A,B)}}return O}else{const O={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const B=I.getKeyBinding(N);if(B){const E=B.getLabel();E&&(O.keybinding=E)}}const A=new m(I.context,N,O);if(I.enableMnemonics){const B=A.getMnemonic();if(B&&A.isEnabled()){let E=[];this.mnemonics.has(B)&&(E=this.mnemonics.get(B)),E.push(A),this.mnemonics.set(B,E)}}return A}}}e.Menu=_;class m extends r.BaseActionViewItem{constructor(N,I,T={}){if(T.isMenu=!0,super(I,I,T),this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){let O=this.getAction().label;if(O){let A=e.MENU_MNEMONIC_REGEX.exec(O);A&&(this.mnemonic=(A[1]?A[1]:A[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new l.RunOnceScheduler(()=>{!this.element||(this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_UP,O=>{if(S.EventHelper.stop(O,!0),s.isFirefox){if(new i.StandardMouseEvent(O).rightButton)return;this.onClick(O)}else setTimeout(()=>{this.onClick(O)},0)})),this._register(S.addDisposableListener(this.element,S.EventType.CONTEXT_MENU,O=>{S.EventHelper.stop(O,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(N){super.render(N),!!this.element&&(this.container=N,this.item=S.append(this.element,S.$("a.action-menu-item")),this._action.id===k.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=S.append(this.item,S.$("span.menu-item-check"+t.cssSelector)),this.check.setAttribute("role","none"),this.label=S.append(this.item,S.$("span.action-label")),this.options.label&&this.options.keybinding&&(S.append(this.item,S.$("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(N,I){this.item&&(this.item.setAttribute("aria-posinset",`${N}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){if(!!this.label&&this.options.label){S.clearNode(this.label);let N=n.stripIcons(this.getAction().label);if(N){const I=y(N);this.options.enableMnemonics||(N=I),this.label.setAttribute("aria-label",I.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(N);if(T){N=M.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;O&&O[1];)O=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const A=B=>B.replace(/&amp;&amp;/g,"&amp;");O?this.label.append(M.ltrim(A(N.substr(0,O.index))," "),S.$("u",{"aria-hidden":"true"},O[3]),M.rtrim(A(N.substr(O.index+O[0].length))," ")):this.label.innerText=A(N).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){let N=null;this.getAction().tooltip?N=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(N=this.getAction().label,this.options.keybinding&&(N=C.localize(0,null,N,this.options.keybinding))),N&&this.item&&(this.item.title=N)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&this.element.classList.remove("disabled"),this.item&&(this.item.classList.remove("disabled"),this.item.tabIndex=0)):(this.element&&this.element.classList.add("disabled"),this.item&&(this.item.classList.add("disabled"),S.removeTabIndexAndUpdateFocus(this.item)))}updateChecked(){!this.item||(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!!this.menuStyle){const N=this.element&&this.element.classList.contains("focused"),I=N&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=N&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,O=N&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=I?I.toString():"",this.item.style.backgroundColor=T?T.toString():""),this.check&&(this.check.style.color=I?I.toString():""),this.container&&(this.container.style.border=O)}}style(N){this.menuStyle=N,this.applyStyle()}}class g extends m{constructor(N,I,T,O){super(N,N,O);this.submenuActions=I,this.parentData=T,this.submenuOptions=O,this.mysubmenu=null,this.submenuDisposables=this._register(new f.DisposableStore),this.mouseOver=!1,this.expandDirection=O&&O.expandDirection!==void 0?O.expandDirection:h.Right,this.showScheduler=new l.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new l.RunOnceScheduler(()=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(N){super.render(N),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=S.append(this.item,S.$("span.submenu-indicator"+o.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(S.addDisposableListener(this.element,S.EventType.KEY_UP,I=>{let T=new v.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(S.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register(S.addDisposableListener(this.element,S.EventType.KEY_DOWN,I=>{let T=new v.StandardKeyboardEvent(I);S.getActiveElement()===this.item&&(T.equals(17)||T.equals(3))&&S.EventHelper.stop(I,!0)})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(S.addDisposableListener(this.element,S.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register(S.addDisposableListener(this.element,S.EventType.FOCUS_OUT,I=>{this.element&&!S.isAncestor(S.getActiveElement(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(N){S.EventHelper.stop(N,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(N){if(this.parentData.submenu&&(N||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(I){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(N,I,T,O){const A={top:0,left:0};return A.left=c.layout(N.width,I.width,{position:O===h.Right?0:1,offset:T.left,size:T.width}),A.left>=T.left&&A.left<T.left+T.width&&(T.left+10+I.width<=N.width&&(A.left=T.left+10),T.top+=10,T.height=0),A.top=c.layout(N.height,I.height,{position:0,offset:T.top,size:0}),A.top+I.height===T.top&&A.top+T.height+I.height<=N.height&&(A.top+=T.height),A}createSubmenu(N=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=S.append(this.element,S.$("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new _(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new k.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const O=this.element.getBoundingClientRect(),A={top:O.top-T,left:O.left,height:O.height+2*T,width:O.width},B=this.submenuContainer.getBoundingClientRect(),{top:E,left:W}=this.calculateSubmenuMenuLayout(new S.Dimension(window.innerWidth,window.innerHeight),S.Dimension.lift(B),A,this.expandDirection);this.submenuContainer.style.left=`${W}px`,this.submenuContainer.style.top=`${E}px`,this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_UP,R=>{new v.StandardKeyboardEvent(R).equals(15)&&(S.EventHelper.stop(R,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(S.addDisposableListener(this.submenuContainer,S.EventType.KEY_DOWN,R=>{new v.StandardKeyboardEvent(R).equals(15)&&S.EventHelper.stop(R,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(N),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(N){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",N))}applyStyle(){if(super.applyStyle(),!!this.menuStyle){const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I?`${I}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends r.ActionViewItem{style(N){this.label&&(this.label.style.borderBottomColor=N.separatorColor?`${N.separatorColor}`:"")}}function y(D){const N=e.MENU_MNEMONIC_REGEX,I=N.exec(D);if(!I)return D;const T=!I[1];return D.replace(N,T?"$2$3":"").trim()}e.cleanMnemonic=y;let L=`
.monaco-menu {
	font-size: 13px;

}

${d.formatRule(t)}
${d.formatRule(o)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`}),define(ee[431],te([0,1,7,176,2,56,82,50,126]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const l=C.$;class f extends k.Disposable{constructor(c){super();this.parent=c,this.onKeyDown=u=>C.addDisposableListener(this.inputBox.inputElement,C.EventType.KEY_DOWN,a=>{u(new w.StandardKeyboardEvent(a))}),this.onMouseDown=u=>C.addDisposableListener(this.inputBox.inputElement,C.EventType.MOUSE_DOWN,a=>{u(new v.StandardMouseEvent(a))}),this.onDidChange=u=>this.inputBox.onDidChange(u),this.container=C.append(this.parent,l(".quick-input-box")),this.inputBox=this._register(new M.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(c){this.inputBox.value=c}select(c=null){this.inputBox.select(c)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(c){this.inputBox.setPlaceHolder(c)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(c){this.inputBox.setAriaLabel(c)}get password(){return this.inputBox.inputElement.type==="password"}set password(c){this.inputBox.inputElement.type=c?"password":"text"}setAttribute(c,u){this.inputBox.inputElement.setAttribute(c,u)}removeAttribute(c){this.inputBox.inputElement.removeAttribute(c)}showDecoration(c){c===S.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:c===S.default.Info?1:c===S.default.Warning?2:3,content:""})}stylesForType(c){return this.inputBox.stylesForType(c===S.default.Info?1:c===S.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(c){this.inputBox.style(c)}}e.QuickInputBox=f}),define(ee[432],te([4,5]),function($,e){return $.create("vs/base/common/errorMessage",e)}),define(ee[433],te([0,1,432,20,19]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function w(f,p){return p&&(f.stack||f.stacktrace)?C.localize(0,null,v(f),S(f.stack)||S(f.stacktrace)):v(f)}function S(f){return Array.isArray(f)?f.join(`
`):f}function v(f){return typeof f.code=="string"&&typeof f.errno=="number"&&typeof f.syscall=="string"?C.localize(1,null,f.message):f.message||C.localize(2,null)}function l(f=null,p=!1){if(!f)return C.localize(3,null);if(Array.isArray(f)){const c=k.coalesce(f),u=l(c[0],p);return c.length>1?C.localize(4,null,u,c.length):u}if(M.isString(f))return f;if(f.detail){const c=f.detail;if(c.error)return w(c.error,p);if(c.exception)return w(c.exception,p)}return f.stack?w(f,p):f.message?f.message:C.localize(5,null)}e.toErrorMessage=l}),define(ee[434],te([4,5]),function($,e){return $.create("vs/base/common/keybindingLabels",e)}),define(ee[233],te([0,1,434]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class M{constructor(S,v,l=v){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=v,this.modifierLabels[3]=l}toLabel(S,v,l){if(v.length===0)return null;const f=[];for(let p=0,c=v.length;p<c;p++){const u=v[p],a=l(u);if(a===null)return null;f[p]=k(u,a,this.modifierLabels[S])}return f.join(" ")}}e.ModifierLabelProvider=M,e.UILabelProvider=new M({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:C.localize(0,null),shiftKey:C.localize(1,null),altKey:C.localize(2,null),metaKey:C.localize(3,null),separator:"+"},{ctrlKey:C.localize(4,null),shiftKey:C.localize(5,null),altKey:C.localize(6,null),metaKey:C.localize(7,null),separator:"+"}),e.AriaLabelProvider=new M({ctrlKey:C.localize(8,null),shiftKey:C.localize(9,null),altKey:C.localize(10,null),metaKey:C.localize(11,null),separator:"+"},{ctrlKey:C.localize(12,null),shiftKey:C.localize(13,null),altKey:C.localize(14,null),metaKey:C.localize(15,null),separator:"+"},{ctrlKey:C.localize(16,null),shiftKey:C.localize(17,null),altKey:C.localize(18,null),metaKey:C.localize(19,null),separator:"+"});function k(w,S,v){if(S===null)return"";const l=[];return w.ctrlKey&&l.push(v.ctrlKey),w.shiftKey&&l.push(v.shiftKey),w.altKey&&l.push(v.altKey),w.metaKey&&l.push(v.metaKey),S!==""&&l.push(S),l.join(v.separator)}}),define(ee[435],te([0,1,40,233,7,420,303]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const S=k.$;class v{constructor(f,p,c){this.os=p,this.options=c,this.domNode=k.append(f,S(".monaco-keybinding")),this.didEverRender=!1,f.appendChild(this.domNode)}set(f,p){this.didEverRender&&this.keybinding===f&&v.areSame(this.matches,p)||(this.keybinding=f,this.matches=p,this.render())}render(){if(k.clearNode(this.domNode),this.keybinding){let[f,p]=this.keybinding.getParts();f&&this.renderPart(this.domNode,f,this.matches?this.matches.firstPart:null),p&&(k.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,p,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}renderPart(f,p,c){const u=M.UILabelProvider.modifierLabels[this.os];p.ctrlKey&&this.renderKey(f,u.ctrlKey,Boolean(c==null?void 0:c.ctrlKey),u.separator),p.shiftKey&&this.renderKey(f,u.shiftKey,Boolean(c==null?void 0:c.shiftKey),u.separator),p.altKey&&this.renderKey(f,u.altKey,Boolean(c==null?void 0:c.altKey),u.separator),p.metaKey&&this.renderKey(f,u.metaKey,Boolean(c==null?void 0:c.metaKey),u.separator);const a=p.keyLabel;a&&this.renderKey(f,a,Boolean(c==null?void 0:c.keyCode),"")}renderKey(f,p,c,u){k.append(f,S("span.monaco-keybinding-key"+(c?".highlight":""),void 0,p)),u&&k.append(f,S("span.monaco-keybinding-key-separator",void 0,u))}renderUnbound(f){k.append(f,S("span.monaco-keybinding-key",void 0,w.localize(0,null)))}static areSame(f,p){return f===p||!f&&!p?!0:!!f&&!!p&&C.equals(f.firstPart,p.firstPart)&&C.equals(f.chordPart,p.chordPart)}}e.KeybindingLabel=v}),define(ee[436],te([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(ee[437],te([4,5]),function($,e){return $.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(ee[438],te([0,1,7,2,102,281,6,56,174,157,99,19,16,83,48,208,20,435,437,126]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const t=C.$;class o{constructor(D){this.hidden=!1,this._onChecked=new S.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,D)}get checked(){return!!this._checked}set checked(D){D!==this._checked&&(this._checked=D,this._onChecked.fire(D))}dispose(){this._onChecked.dispose()}}class h{get templateId(){return h.ID}renderTemplate(D){const N=Object.create(null);N.toDisposeElement=[],N.toDisposeTemplate=[],N.entry=C.append(D,t(".quick-input-list-entry"));const I=C.append(N.entry,t("label.quick-input-list-label"));N.toDisposeTemplate.push(C.addStandardDisposableListener(I,C.EventType.CLICK,W=>{N.checkbox.offsetParent||W.preventDefault()})),N.checkbox=C.append(I,t("input.quick-input-list-checkbox")),N.checkbox.type="checkbox",N.toDisposeTemplate.push(C.addStandardDisposableListener(N.checkbox,C.EventType.CHANGE,W=>{N.element.checked=N.checkbox.checked}));const T=C.append(I,t(".quick-input-list-rows")),O=C.append(T,t(".quick-input-list-row")),A=C.append(T,t(".quick-input-list-row"));N.label=new l.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const B=C.append(O,t(".quick-input-list-entry-keybinding"));N.keybinding=new i.KeybindingLabel(B,u.OS);const E=C.append(A,t(".quick-input-list-label-meta"));return N.detail=new f.HighlightedLabel(E,!0),N.separator=C.append(N.entry,t(".quick-input-list-separator")),N.actionBar=new a.ActionBar(N.entry),N.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),N.toDisposeTemplate.push(N.actionBar),N}renderElement(D,N,I){I.toDisposeElement=M.dispose(I.toDisposeElement),I.element=D,I.checkbox.checked=D.checked,I.toDisposeElement.push(D.onChecked(W=>I.checkbox.checked=W));const{labelHighlights:T,descriptionHighlights:O,detailHighlights:A}=D,B=Object.create(null);B.matches=T||[],B.descriptionTitle=D.saneDescription,B.descriptionMatches=O||[],B.extraClasses=D.item.iconClasses,B.italic=D.item.italic,B.strikethrough=D.item.strikethrough,I.label.setLabel(D.saneLabel,D.saneDescription,B),I.keybinding.set(D.item.keybinding),I.detail.set(D.saneDetail,A),D.separator&&D.separator.label?(I.separator.textContent=D.separator.label,I.separator.style.display=""):I.separator.style.display="none",I.entry.classList.toggle("quick-input-list-separator-border",!!D.separator),I.actionBar.clear();const E=D.item.buttons;E&&E.length?(I.actionBar.push(E.map((W,R)=>{let F=W.iconClass||(W.iconPath?d.getIconClass(W.iconPath):void 0);W.alwaysVisible&&(F=F?`${F} always-visible`:"always-visible");const V=new r.Action(`id-${R}`,"",F,!0,()=>Ie(this,void 0,void 0,function*(){D.fireButtonTriggered({button:W,item:D.item})}));return V.tooltip=W.tooltip||"",V}),{icon:!0,label:!1}),I.entry.classList.add("has-actions")):I.entry.classList.remove("has-actions")}disposeElement(D,N,I){I.toDisposeElement=M.dispose(I.toDisposeElement)}disposeTemplate(D){D.toDisposeElement=M.dispose(D.toDisposeElement),D.toDisposeTemplate=M.dispose(D.toDisposeTemplate)}}h.ID="listelement";class _{getHeight(D){return D.saneDetail?44:22}getTemplateId(D){return h.ID}}var m;(function(L){L[L.First=1]="First",L[L.Second=2]="Second",L[L.Last=3]="Last",L[L.Next=4]="Next",L[L.Previous=5]="Previous",L[L.NextPage=6]="NextPage",L[L.PreviousPage=7]="PreviousPage"})(m=e.QuickInputListFocus||(e.QuickInputListFocus={}));class g{constructor(D,N,I){this.parent=D,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new S.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new S.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new S.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new S.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new S.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new S.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new S.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=N,this.container=C.append(this.parent,t(".quick-input-list"));const T=new _,O=new y;this.list=I.createList("QuickInput",this.container,T,[new h],{identityProvider:{getId:A=>A.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:O}),this.list.getHTMLElement().id=N,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(A=>{const B=new v.StandardKeyboardEvent(A);switch(B.keyCode){case 10:this.toggleCheckbox();break;case 31:(u.isMacintosh?A.metaKey:A.ctrlKey)&&this.list.setFocus(c.range(this.list.length));break;case 16:const E=this.list.getFocus();E.length===1&&E[0]===0&&this._onLeave.fire();break;case 18:const W=this.list.getFocus();W.length===1&&W[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(B)})),this.disposables.push(this.list.onMouseDown(A=>{A.browserEvent.button!==2&&A.browserEvent.preventDefault()})),this.disposables.push(C.addDisposableListener(this.container,C.EventType.CLICK,A=>{(A.x||A.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(A=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(A=>{typeof A.index=="number"&&(A.browserEvent.preventDefault(),this.list.setSelection([A.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return S.Event.map(this.list.onDidChangeFocus,D=>D.elements.map(N=>N.item))}get onDidChangeSelection(){return S.Event.map(this.list.onDidChangeSelection,D=>({items:D.elements.map(N=>N.item),event:D.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(D,N=!0){for(let I=0,T=D.length;I<T;I++){const O=D[I];if(!O.hidden)if(O.checked)N=!0;else return!1}return N}getCheckedCount(){let D=0;const N=this.elements;for(let I=0,T=N.length;I<T;I++)N[I].checked&&D++;return D}getVisibleCount(){let D=0;const N=this.elements;for(let I=0,T=N.length;I<T;I++)N[I].hidden||D++;return D}setAllVisibleChecked(D){try{this._fireCheckedEvents=!1,this.elements.forEach(N=>{N.hidden||(N.checked=D)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(D){this.elementDisposables=M.dispose(this.elementDisposables);const N=I=>this.fireButtonTriggered(I);this.inputElements=D,this.elements=D.reduce((I,T,O)=>{var A,B,E;if(T.type!=="separator"){const W=O&&D[O-1],R=T.label&&T.label.replace(/\r?\n/g," "),F=T.meta&&T.meta.replace(/\r?\n/g," "),V=T.description&&T.description.replace(/\r?\n/g," "),K=T.detail&&T.detail.replace(/\r?\n/g," "),G=T.ariaLabel||[R,V,K].map(J=>J&&k.parseLabelWithIcons(J).text).filter(J=>!!J).join(", ");I.push(new o({index:O,item:T,saneLabel:R,saneMeta:F,saneAriaLabel:G,saneDescription:V,saneDetail:K,labelHighlights:(A=T.highlights)===null||A===void 0?void 0:A.label,descriptionHighlights:(B=T.highlights)===null||B===void 0?void 0:B.description,detailHighlights:(E=T.highlights)===null||E===void 0?void 0:E.detail,checked:!1,separator:W&&W.type==="separator"?W:void 0,fireButtonTriggered:N}))}return I},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(I=>I.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((I,T,O)=>(I.set(T.item,O),I),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(D=>D.item)}setFocusedElements(D){if(this.list.setFocus(D.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N))),D.length>0){const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(D){this.list.setSelection(D.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N)))}getCheckedElements(){return this.elements.filter(D=>D.checked).map(D=>D.item)}setCheckedElements(D){try{this._fireCheckedEvents=!1;const N=new Set;for(const I of D)N.add(I);for(const I of this.elements)I.checked=N.has(I.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(D){this.list.getHTMLElement().style.pointerEvents=D?"":"none"}focus(D){if(!!this.list.length){switch(D===m.Next&&this.list.getFocus()[0]===this.list.length-1&&(D=m.First),D===m.Previous&&this.list.getFocus()[0]===0&&(D=m.Last),D===m.Second&&this.list.length<2&&(D=m.First),D){case m.First:this.list.focusFirst();break;case m.Second:this.list.focusNth(1);break;case m.Last:this.list.focusLast();break;case m.Next:this.list.focusNext();break;case m.Previous:this.list.focusPrevious();break;case m.NextPage:this.list.focusNextPage();break;case m.PreviousPage:this.list.focusPreviousPage();break}const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(D){this.list.getHTMLElement().style.maxHeight=D?`calc(${Math.floor(D/44)*44}px)`:"",this.list.layout()}filter(D){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;D=D.trim(),!D||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach(I=>{I.labelHighlights=void 0,I.descriptionHighlights=void 0,I.detailHighlights=void 0,I.hidden=!1;const T=I.index&&this.inputElements[I.index-1];I.separator=T&&T.type==="separator"?T:void 0}):this.elements.forEach(I=>{const T=this.matchOnLabel?s.withNullAsUndefined(k.matchesFuzzyIconAware(D,k.parseLabelWithIcons(I.saneLabel))):void 0,O=this.matchOnDescription?s.withNullAsUndefined(k.matchesFuzzyIconAware(D,k.parseLabelWithIcons(I.saneDescription||""))):void 0,A=this.matchOnDetail?s.withNullAsUndefined(k.matchesFuzzyIconAware(D,k.parseLabelWithIcons(I.saneDetail||""))):void 0,B=this.matchOnMeta?s.withNullAsUndefined(k.matchesFuzzyIconAware(D,k.parseLabelWithIcons(I.saneMeta||""))):void 0;T||O||A||B?(I.labelHighlights=T,I.descriptionHighlights=O,I.detailHighlights=A,I.hidden=!1):(I.labelHighlights=void 0,I.descriptionHighlights=void 0,I.detailHighlights=void 0,I.hidden=!I.item.alwaysShow),I.separator=void 0});const N=this.elements.filter(I=>!I.hidden);if(this.sortByLabel&&D){const I=D.toLowerCase();N.sort((T,O)=>b(T,O,I))}return this.elementsToIndexes=N.reduce((I,T,O)=>(I.set(T.item,O),I),new Map),this.list.splice(0,this.list.length,N),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(N.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const D=this.list.getFocusedElements(),N=this.allVisibleChecked(D);for(const I of D)I.checked=!N}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(D){this.container.style.display=D?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=M.dispose(this.elementDisposables),this.disposables=M.dispose(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(D){this._onButtonTriggered.fire(D)}style(D){this.list.style(D)}}Me([p.memoize],g.prototype,"onDidChangeFocus",null),Me([p.memoize],g.prototype,"onDidChangeSelection",null),e.QuickInputList=g;function b(L,D,N){const I=L.labelHighlights||[],T=D.labelHighlights||[];return I.length&&!T.length?-1:!I.length&&T.length?1:I.length===0&&T.length===0?0:w.compareAnything(L.saneLabel,D.saneLabel,N)}class y{getWidgetAriaLabel(){return n.localize(0,null)}getAriaLabel(D){return D.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}}),define(ee[439],te([0,1,200,7,23,438,431,56,436,203,306,6,294,2,82,83,48,19,15,208,27,8,103,126]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=M.$,b={iconClass:o.registerCodicon("quick-input-back",o.Codicon.arrowLeft).classNames,tooltip:l.localize(0,null),handle:-1};class y extends a.Disposable{constructor(I){super();this.ui=I,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.onDidHideEmitter=this._register(new c.Emitter),this.onDisposeEmitter=this._register(new c.Emitter),this.visibleDisposables=this._register(new a.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(I){this._title=I,this.update()}get description(){return this._description}set description(I){this._description=I,this.update()}get step(){return this._steps}set step(I){this._steps=I,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(I){this._totalSteps=I,this.update()}get enabled(){return this._enabled}set enabled(I){this._enabled=I,this.update()}get contextKey(){return this._contextKey}set contextKey(I){this._contextKey=I,this.update()}get busy(){return this._busy}set busy(I){this._busy=I,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(I){this._ignoreFocusOut=I,this.update()}get buttons(){return this._buttons}set buttons(I){this._buttons=I,this.buttonsUpdated=!0,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(I=>{this.buttons.indexOf(I)!==-1&&this.onDidTriggerButtonEmitter.fire(I)})),this.ui.show(this),this.visible=!0,this.update())}hide(){!this.visible||this.ui.hide()}didHide(){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire()}update(){if(!!this.visible){const I=this.getTitle();I&&this.ui.title.textContent!==I?this.ui.title.textContent=I:!I&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0;");const T=this.getDescription();if(this.ui.description1.textContent!==T&&(this.ui.description1.textContent=T),this.ui.description2.textContent!==T&&(this.ui.description2.textContent=T),this.busy&&!this.busyDelay&&(this.busyDelay=new n.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(B=>B===b);this.ui.leftActionBar.push(O.map((B,E)=>{const W=new s.Action(`id-${E}`,"",B.iconClass||t.getIconClass(B.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(B)}));return W.tooltip=B.tooltip||"",W}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const A=this.buttons.filter(B=>B!==b);this.ui.rightActionBar.push(A.map((B,E)=>{const W=new s.Action(`id-${E}`,"",B.iconClass||t.getIconClass(B.iconPath),!0,()=>Ie(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(B)}));return W.tooltip=B.tooltip||"",W}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?l.localize(1,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(I){if(this.ui.inputBox.showDecoration(I),I===r.default.Error){const T=this.ui.inputBox.stylesForType(I);this.ui.message.style.color=T.foreground?`${T.foreground}`:"",this.ui.message.style.backgroundColor=T.background?`${T.background}`:"",this.ui.message.style.border=T.border?`1px solid ${T.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class L extends y{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new c.Emitter),this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?C.ItemActivation.NONE:C.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new c.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new c.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new c.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=I=>I,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(I){this._quickNavigate=I,this.update()}get value(){return this._value}set value(I){this._value=I||"",this.update()}set ariaLabel(I){this._ariaLabel=I,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(I){this._placeholder=I,this.update()}get items(){return this._items}set items(I){this._items=I,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(I){this._canSelectMany=I,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(I){this._canAcceptInBackground=I}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(I){this._matchOnDescription=I,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(I){this._matchOnDetail=I,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(I){this._matchOnLabel=I,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(I){this._sortByLabel=I,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(I){this._autoFocusOnList=I,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(I){this._itemActivation=I}get activeItems(){return this._activeItems}set activeItems(I){this._activeItems=I,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(I){this._selectedItems=I,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?C.NO_KEY_MODS:this.ui.keyMods}set valueSelection(I){this._valueSelection=I,this.valueSelectionUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(I){this._validationMessage=I,this.update()}get customButton(){return this._customButton}set customButton(I){this._customButton=I,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(I){this._customButtonLabel=I,this.update()}get customHover(){return this._customButtonHover}set customHover(I){this._customButtonHover=I,this.update()}get ok(){return this._ok}set ok(I){this._ok=I,this.update()}get hideInput(){return!!this._hideInput}set hideInput(I){this._hideInput=I,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(w.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(I=>{I!==this.value&&(this._value=I,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(I))})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(I=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(I=>{switch(I.keyCode){case 18:this.ui.list.focus(w.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),M.EventHelper.stop(I,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(w.QuickInputListFocus.Previous):this.ui.list.focus(w.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),M.EventHelper.stop(I,!0);break;case 12:this.ui.list.focus(w.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),M.EventHelper.stop(I,!0);break;case 11:this.ui.list.focus(w.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),M.EventHelper.stop(I,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(w.QuickInputListFocus.First),M.EventHelper.stop(I,!0));break;case 13:(I.ctrlKey||I.metaKey)&&!I.shiftKey&&!I.altKey&&(this.ui.list.focus(w.QuickInputListFocus.Last),M.EventHelper.stop(I,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(I=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&i.equals(I,this._activeItems,(T,O)=>T===O)||(this._activeItems=I,this.onDidChangeActiveEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:I,event:T})=>{if(this.canSelectMany){I.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&i.equals(I,this._selectedItems,(O,A)=>O===A)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I),I.length&&this.onDidAcceptEmitter.fire({inBackground:T instanceof MouseEvent&&T.button===1}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(I=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&i.equals(I,this._selectedItems,(T,O)=>T===O)||(this._selectedItems=I,this.onDidChangeSelectionEmitter.fire(I))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(I=>this.onDidTriggerItemButtonEmitter.fire(I))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return M.addDisposableListener(this.ui.container,M.EventType.KEY_UP,I=>{if(!(this.canSelectMany||!this._quickNavigate)){const T=new v.StandardKeyboardEvent(I),O=T.keyCode;this._quickNavigate.keybindings.some(E=>{const[W,R]=E.getParts();return R?!1:W.shiftKey&&O===4?!(T.ctrlKey||T.altKey||T.metaKey):!!(W.altKey&&O===6||W.ctrlKey&&O===5||W.metaKey&&O===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}})}update(){if(!!this.visible){let I=!1,T=!1;!!this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?T=!0:I=!0),this.ui.container.classList.toggle("hidden-input",I&&!this.description);const O={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!I,progressBar:!I,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(O),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),T)this.ui.inputBox.ariaLabel="";else{const B=this.ariaLabel||this.placeholder||L.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==B&&(this.ui.inputBox.ariaLabel=B)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case C.ItemActivation.NONE:this._itemActivation=C.ItemActivation.FIRST;break;case C.ItemActivation.SECOND:this.ui.list.focus(w.QuickInputListFocus.Second),this._itemActivation=C.ItemActivation.FIRST;break;case C.ItemActivation.LAST:this.ui.list.focus(w.QuickInputListFocus.Last),this._itemActivation=C.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null));const A=this.validationMessage||"";this._lastValidationMessage!==A&&(this._lastValidationMessage=A,M.reset(this.ui.message,..._.renderLabelWithIcons(h.escape(A))),this.showMessageDecoration(this.validationMessage?r.default.Error:r.default.Ignore)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),O.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(w.QuickInputListFocus.First))}}}L.DEFAULT_ARIA_LABEL=l.localize(2,null);class D extends a.Disposable{constructor(I){super();this.options=I,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new c.Emitter),this.onDidCustomEmitter=this._register(new c.Emitter),this.onDidTriggerButtonEmitter=this._register(new c.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new c.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new c.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=I.idPrefix,this.parentElement=I.container,this.styles=I.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const I=T=>{this.keyMods.ctrlCmd=T.ctrlKey||T.metaKey,this.keyMods.alt=T.altKey};this._register(M.addDisposableListener(window,M.EventType.KEY_DOWN,I,!0)),this._register(M.addDisposableListener(window,M.EventType.KEY_UP,I,!0)),this._register(M.addDisposableListener(window,M.EventType.MOUSE_DOWN,I,!0))}getUI(){if(this.ui)return this.ui;const I=M.append(this.parentElement,m(".quick-input-widget.show-file-icons"));I.tabIndex=-1,I.style.display="none";const T=M.createStyleSheet(I),O=M.append(I,m(".quick-input-titlebar")),A=this._register(new d.ActionBar(O));A.domNode.classList.add("quick-input-left-action-bar");const B=M.append(O,m(".quick-input-title")),E=this._register(new d.ActionBar(O));E.domNode.classList.add("quick-input-right-action-bar");const W=M.append(I,m(".quick-input-description")),R=M.append(I,m(".quick-input-header")),F=M.append(R,m("input.quick-input-check-all"));F.type="checkbox",this._register(M.addStandardDisposableListener(F,M.EventType.CHANGE,ue=>{const Y=F.checked;Q.setAllVisibleChecked(Y)})),this._register(M.addDisposableListener(F,M.EventType.CLICK,ue=>{(ue.x||ue.y)&&J.setFocus()}));const V=M.append(R,m(".quick-input-description")),K=M.append(R,m(".quick-input-and-message")),G=M.append(K,m(".quick-input-filter")),J=this._register(new S.QuickInputBox(G));J.setAttribute("aria-describedby",`${this.idPrefix}message`);const se=M.append(G,m(".quick-input-visible-count"));se.setAttribute("aria-live","polite"),se.setAttribute("aria-atomic","true");const ie=new f.CountBadge(se,{countFormat:l.localize(3,null)}),ae=M.append(G,m(".quick-input-count"));ae.setAttribute("aria-live","polite");const X=new f.CountBadge(ae,{countFormat:l.localize(4,null)}),U=M.append(R,m(".quick-input-action")),P=new u.Button(U);P.label=l.localize(5,null),this._register(P.onDidClick(ue=>{this.onDidAcceptEmitter.fire()}));const x=M.append(R,m(".quick-input-action")),H=new u.Button(x);H.label=l.localize(6,null),this._register(H.onDidClick(ue=>{this.onDidCustomEmitter.fire()}));const z=M.append(K,m(`#${this.idPrefix}message.quick-input-message`)),q=new p.ProgressBar(I);q.getContainer().classList.add("quick-input-progress");const Q=this._register(new w.QuickInputList(I,this.idPrefix+"list",this.options));this._register(Q.onChangedAllVisibleChecked(ue=>{F.checked=ue})),this._register(Q.onChangedVisibleCount(ue=>{ie.setCount(ue)})),this._register(Q.onChangedCheckedCount(ue=>{X.setCount(ue)})),this._register(Q.onLeave(()=>{setTimeout(()=>{J.setFocus(),this.controller instanceof L&&this.controller.canSelectMany&&Q.clearFocus()},0)})),this._register(Q.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const ce=M.trackFocus(I);return this._register(ce),this._register(M.addDisposableListener(I,M.EventType.FOCUS,ue=>{this.previousFocusElement=ue.relatedTarget instanceof HTMLElement?ue.relatedTarget:void 0},!0)),this._register(ce.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(),this.previousFocusElement=void 0})),this._register(M.addDisposableListener(I,M.EventType.FOCUS,ue=>{J.setFocus()})),this._register(M.addDisposableListener(I,M.EventType.KEY_DOWN,ue=>{const Y=new v.StandardKeyboardEvent(ue);switch(Y.keyCode){case 3:M.EventHelper.stop(ue,!0),this.onDidAcceptEmitter.fire();break;case 9:M.EventHelper.stop(ue,!0),this.hide();break;case 2:if(!Y.altKey&&!Y.ctrlKey&&!Y.metaKey){const j=[".action-label.codicon"];I.classList.contains("show-checkboxes")?j.push("input"):j.push("input[type=text]"),this.getUI().list.isDisplayed()&&j.push(".monaco-list");const ne=I.querySelectorAll(j.join(", "));Y.shiftKey&&Y.target===ne[0]?(M.EventHelper.stop(ue,!0),ne[ne.length-1].focus()):!Y.shiftKey&&Y.target===ne[ne.length-1]&&(M.EventHelper.stop(ue,!0),ne[0].focus())}break}})),this.ui={container:I,styleSheet:T,leftActionBar:A,titleBar:O,title:B,description1:W,description2:V,rightActionBar:E,checkAll:F,filterContainer:G,inputBox:J,visibleCountContainer:se,visibleCount:ie,countContainer:ae,count:X,okContainer:U,ok:P,message:z,customButtonContainer:x,customButton:H,progressBar:q,list:Q,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:ue=>this.show(ue),hide:()=>this.hide(),setVisibilities:ue=>this.setVisibilities(ue),setComboboxAccessibility:ue=>this.setComboboxAccessibility(ue),setEnabled:ue=>this.setEnabled(ue),setContextKey:ue=>this.options.setContextKey(ue)},this.updateStyles(),this.ui}pick(I,T={},O=k.CancellationToken.None){return new Promise((A,B)=>{let E=V=>{E=A,T.onKeyMods&&T.onKeyMods(W.keyMods),A(V)};if(O.isCancellationRequested){E(void 0);return}const W=this.createQuickPick();let R;const F=[W,W.onDidAccept(()=>{if(W.canSelectMany)E(W.selectedItems.slice()),W.hide();else{const V=W.activeItems[0];V&&(E(V),W.hide())}}),W.onDidChangeActive(V=>{const K=V[0];K&&T.onDidFocus&&T.onDidFocus(K)}),W.onDidChangeSelection(V=>{if(!W.canSelectMany){const K=V[0];K&&(E(K),W.hide())}}),W.onDidTriggerItemButton(V=>T.onDidTriggerItemButton&&T.onDidTriggerItemButton(Object.assign(Object.assign({},V),{removeItem:()=>{const K=W.items.indexOf(V.item);if(K!==-1){const G=W.items.slice();G.splice(K,1),W.items=G}}}))),W.onDidChangeValue(V=>{R&&!V&&(W.activeItems.length!==1||W.activeItems[0]!==R)&&(W.activeItems=[R])}),O.onCancellationRequested(()=>{W.hide()}),W.onDidHide(()=>{a.dispose(F),E(void 0)})];W.canSelectMany=!!T.canPickMany,W.placeholder=T.placeHolder,W.ignoreFocusOut=!!T.ignoreFocusLost,W.matchOnDescription=!!T.matchOnDescription,W.matchOnDetail=!!T.matchOnDetail,W.matchOnLabel=T.matchOnLabel===void 0||T.matchOnLabel,W.autoFocusOnList=T.autoFocusOnList===void 0||T.autoFocusOnList,W.quickNavigate=T.quickNavigate,W.contextKey=T.contextKey,W.busy=!0,Promise.all([I,T.activeItem]).then(([V,K])=>{R=K,W.busy=!1,W.items=V,W.canSelectMany&&(W.selectedItems=V.filter(G=>G.type!=="separator"&&G.picked)),R&&(W.activeItems=[R])}),W.show(),Promise.resolve(I).then(void 0,V=>{B(V),W.hide()})})}createQuickPick(){const I=this.getUI();return new L(I)}show(I){const T=this.getUI();this.onShowEmitter.fire();const O=this.controller;this.controller=I,O&&O.didHide(),this.setEnabled(!0),T.leftActionBar.clear(),T.title.textContent="",T.description1.textContent="",T.description2.textContent="",T.rightActionBar.clear(),T.checkAll.checked=!1,T.inputBox.placeholder="",T.inputBox.password=!1,T.inputBox.showDecoration(r.default.Ignore),T.visibleCount.setCount(0),T.count.setCount(0),M.reset(T.message),T.progressBar.stop(),T.list.setElements([]),T.list.matchOnDescription=!1,T.list.matchOnDetail=!1,T.list.matchOnLabel=!0,T.list.sortByLabel=!0,T.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),T.inputBox.ariaLabel="";const A=this.options.backKeybindingLabel();b.tooltip=A?l.localize(7,null,A):l.localize(8,null),T.container.style.display="",this.updateLayout(),T.inputBox.setFocus()}setVisibilities(I){const T=this.getUI();T.title.style.display=I.title?"":"none",T.description1.style.display=I.description&&(I.inputBox||I.checkAll)?"":"none",T.description2.style.display=I.description&&!(I.inputBox||I.checkAll)?"":"none",T.checkAll.style.display=I.checkAll?"":"none",T.filterContainer.style.display=I.inputBox?"":"none",T.visibleCountContainer.style.display=I.visibleCount?"":"none",T.countContainer.style.display=I.count?"":"none",T.okContainer.style.display=I.ok?"":"none",T.customButtonContainer.style.display=I.customButton?"":"none",T.message.style.display=I.message?"":"none",T.progressBar.getContainer().style.display=I.progressBar?"":"none",T.list.display(!!I.list),T.container.classList[I.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(I){if(I!==this.comboboxAccessibility){const T=this.getUI();this.comboboxAccessibility=I,this.comboboxAccessibility?(T.inputBox.setAttribute("role","combobox"),T.inputBox.setAttribute("aria-haspopup","true"),T.inputBox.setAttribute("aria-autocomplete","list"),T.inputBox.setAttribute("aria-activedescendant",T.list.getActiveDescendant()||"")):(T.inputBox.removeAttribute("role"),T.inputBox.removeAttribute("aria-haspopup"),T.inputBox.removeAttribute("aria-autocomplete"),T.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(I){if(I!==this.enabled){this.enabled=I;for(const T of this.getUI().leftActionBar.viewItems)T.getAction().enabled=I;for(const T of this.getUI().rightActionBar.viewItems)T.getAction().enabled=I;this.getUI().checkAll.disabled=!I,this.getUI().ok.enabled=I,this.getUI().list.enabled=I}}hide(){var I;const T=this.controller;if(T){const O=!((I=this.ui)===null||I===void 0?void 0:I.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",O||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),T.didHide()}}layout(I,T){this.dimension=I,this.titleBarOffset=T,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const I=this.ui.container.style,T=Math.min(this.dimension.width*.62,D.MAX_WIDTH);I.width=T+"px",I.marginLeft="-"+T/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(I){this.styles=I,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:I,quickInputBackground:T,quickInputForeground:O,contrastBorder:A,widgetShadow:B}=this.styles.widget;this.ui.titleBar.style.backgroundColor=I?I.toString():"",this.ui.container.style.backgroundColor=T?T.toString():"",this.ui.container.style.color=O?O.toString():"",this.ui.container.style.border=A?`1px solid ${A}`:"",this.ui.container.style.boxShadow=B?`0 0 8px 2px ${B}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const E=[];this.styles.list.listInactiveFocusForeground&&(E.push(`.monaco-list .monaco-list-row.focused { color:  ${this.styles.list.listInactiveFocusForeground}; }`),E.push(`.monaco-list .monaco-list-row.focused:hover { color:  ${this.styles.list.listInactiveFocusForeground}; }`)),this.styles.list.pickerGroupBorder&&E.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&E.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);const W=E.join(`
`);W!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=W)}}}e.QuickInputController=D,D.MAX_WIDTH=600}),define(ee[440],te([4,5]),function($,e){return $.create("vs/editor/browser/controller/coreCommands",e)}),define(ee[441],te([4,5]),function($,e){return $.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ee[442],te([4,5]),function($,e){return $.create("vs/editor/browser/editorExtensions",e)}),define(ee[443],te([4,5]),function($,e){return $.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ee[444],te([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(ee[445],te([4,5]),function($,e){return $.create("vs/editor/browser/widget/diffReview",e)}),define(ee[446],te([4,5]),function($,e){return $.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(ee[447],te([0,1,446,7,48,2,3,27]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class l extends w.Disposable{constructor(p,c,u,a,r,d){super();this._viewZoneId=p,this._marginDomNode=c,this.editor=u,this.diff=a,this._contextMenuService=r,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=v.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=u.getOption(53),i=u.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);const n=[];n.push(new k.Action("diff.clipboard.copyDeletedContent",a.originalEndLineNumber>a.modifiedStartLineNumber?C.localize(0,null):C.localize(1,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber+1,1),g=a.originalModel.getValueInRange(m);yield this._clipboardService.writeText(g)})));let t=0,o;a.originalEndLineNumber>a.modifiedStartLineNumber&&(o=new k.Action("diff.clipboard.copyDeletedLineContent",C.localize(2,null,a.originalStartLineNumber),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=a.originalModel.getLineContent(a.originalStartLineNumber+t);yield this._clipboardService.writeText(m)})),n.push(o)),u.getOption(75)||n.push(new k.Action("diff.inline.revertChange",C.localize(3,null),void 0,!0,()=>Ie(this,void 0,void 0,function*(){const m=new S.Range(a.originalStartLineNumber,1,a.originalEndLineNumber,a.originalModel.getLineMaxColumn(a.originalEndLineNumber)),g=a.originalModel.getValueInRange(m);if(a.modifiedEndLineNumber===0){const b=u.getModel().getLineMaxColumn(a.modifiedStartLineNumber);u.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,b,a.modifiedStartLineNumber,b),text:i+g}])}else{const b=u.getModel().getLineMaxColumn(a.modifiedEndLineNumber);u.executeEdits("diffEditor",[{range:new S.Range(a.modifiedStartLineNumber,1,a.modifiedEndLineNumber,b),text:g}])}})));const _=(m,g)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:m,y:g}),getActions:()=>(o&&(o.label=C.localize(4,null,a.originalStartLineNumber+t)),n),autoSelectFirstItem:!0})};this._register(M.addStandardDisposableListener(this._diffActions,"mousedown",m=>{const{top:g,height:b}=M.getDomNodePagePosition(this._diffActions);let y=Math.floor(s/3);m.preventDefault(),_(m.posx,g+b+y)})),this._register(u.onMouseMove(m=>{m.target.type===8||m.target.type===5?m.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,s)):this.visibility=!1:this.visibility=!1})),this._register(u.onMouseDown(m=>{!m.event.rightButton||(m.target.type===8||m.target.type===5)&&m.target.detail.viewZoneId===this._viewZoneId&&(m.event.preventDefault(),t=this._updateLightBulbPosition(this._marginDomNode,m.event.browserEvent.y,s),_(m.event.posx,m.event.posy+s))}))}get visibility(){return this._visibility}set visibility(p){this._visibility!==p&&(this._visibility=p,p?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(p,c,u){const{top:a}=M.getDomNodePagePosition(p),r=c-a,d=Math.floor(r/u),s=d*u;if(this._diffActions.style.top=`${s}px`,this.diff.viewLineCounts){let i=0;for(let n=0;n<this.diff.viewLineCounts.length;n++)if(i+=this.diff.viewLineCounts[n],d<i)return n}return d}}e.InlineDiffMargin=l}),define(ee[448],te([4,5]),function($,e){return $.create("vs/editor/common/config/commonEditorConfig",e)}),define(ee[449],te([4,5]),function($,e){return $.create("vs/editor/common/config/editorOptions",e)}),define(ee[38],te([0,1,449,16,129]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(Z){this._values=Z}hasChanged(Z){return this._values[Z]}}e.ConfigurationChangedEvent=w;class S{constructor(){this._values=[]}_read(Z){return this._values[Z]}get(Z){return this._values[Z]}_write(Z,le){this._values[Z]=le}}e.ValidatedEditorOptions=S;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class l{constructor(Z,le,he,re){this.id=Z,this.name=le,this.defaultValue=he,this.schema=re}compute(Z,le,he){return he}}class f{constructor(Z,le=null){this.schema=void 0,this.id=Z,this.name="_never_",this.defaultValue=void 0,this.deps=le}validate(Z){return this.defaultValue}}class p{constructor(Z,le,he,re){this.id=Z,this.name=le,this.defaultValue=he,this.schema=re}validate(Z){return typeof Z=="undefined"?this.defaultValue:Z}compute(Z,le,he){return he}}function c(ne,Z){return typeof ne=="undefined"?Z:ne==="false"?!1:Boolean(ne)}e.boolean=c;class u extends p{constructor(Z,le,he,re=void 0){typeof re!="undefined"&&(re.type="boolean",re.default=he),super(Z,le,he,re)}validate(Z){return c(Z,this.defaultValue)}}class a extends p{constructor(Z,le,he,re,de,me=void 0){typeof me!="undefined"&&(me.type="integer",me.default=he,me.minimum=re,me.maximum=de),super(Z,le,he,me),this.minimum=re,this.maximum=de}static clampedInt(Z,le,he,re){if(typeof Z=="undefined")return le;let de=parseInt(Z,10);return isNaN(de)?le:(de=Math.max(he,de),de=Math.min(re,de),de|0)}validate(Z){return a.clampedInt(Z,this.defaultValue,this.minimum,this.maximum)}}class r extends p{constructor(Z,le,he,re,de){typeof de!="undefined"&&(de.type="number",de.default=he),super(Z,le,he,de),this.validationFn=re}static clamp(Z,le,he){return Z<le?le:Z>he?he:Z}static float(Z,le){if(typeof Z=="number")return Z;if(typeof Z=="undefined")return le;const he=parseFloat(Z);return isNaN(he)?le:he}validate(Z){return this.validationFn(r.float(Z,this.defaultValue))}}class d extends p{static string(Z,le){return typeof Z!="string"?le:Z}constructor(Z,le,he,re=void 0){typeof re!="undefined"&&(re.type="string",re.default=he),super(Z,le,he,re)}validate(Z){return d.string(Z,this.defaultValue)}}function s(ne,Z,le){return typeof ne!="string"||le.indexOf(ne)===-1?Z:ne}e.stringSet=s;class i extends p{constructor(Z,le,he,re,de=void 0){typeof de!="undefined"&&(de.type="string",de.enum=re,de.default=he),super(Z,le,he,de),this._allowedValues=re}validate(Z){return s(Z,this.defaultValue,this._allowedValues)}}class n extends l{constructor(Z,le,he,re,de,me,ve=void 0){typeof ve!="undefined"&&(ve.type="string",ve.enum=de,ve.default=re),super(Z,le,he,ve),this._allowedValues=de,this._convert=me}validate(Z){return typeof Z!="string"?this.defaultValue:this._allowedValues.indexOf(Z)===-1?this.defaultValue:this._convert(Z)}}function t(ne){switch(ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class o extends l{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[C.localize(0,null),C.localize(1,null),C.localize(2,null)],default:"auto",description:C.localize(3,null)})}validate(Z){switch(Z){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Z,le,he){return he===0?Z.accessibilitySupport:he}}class h extends l{constructor(){const Z={insertSpace:!0,ignoreEmptyLines:!0};super(16,"comments",Z,{"editor.comments.insertSpace":{type:"boolean",default:Z.insertSpace,description:C.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Z.ignoreEmptyLines,description:C.localize(5,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{insertSpace:c(le.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:c(le.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function _(ne){switch(ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var m;(function(ne){ne[ne.Line=1]="Line",ne[ne.Block=2]="Block",ne[ne.Underline=3]="Underline",ne[ne.LineThin=4]="LineThin",ne[ne.BlockOutline=5]="BlockOutline",ne[ne.UnderlineThin=6]="UnderlineThin"})(m=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function g(ne){switch(ne){case"line":return m.Line;case"block":return m.Block;case"underline":return m.Underline;case"line-thin":return m.LineThin;case"block-outline":return m.BlockOutline;case"underline-thin":return m.UnderlineThin}}class b extends f{constructor(){super(121,[60,29])}compute(Z,le,he){const re=["monaco-editor"];return le.get(29)&&re.push(le.get(29)),Z.extraEditorClassName&&re.push(Z.extraEditorClassName),le.get(60)==="default"?re.push("mouse-default"):le.get(60)==="copy"&&re.push("mouse-copy"),le.get(95)&&re.push("showUnused"),le.get(119)&&re.push("showDeprecated"),re.join(" ")}}class y extends u{constructor(){super(28,"emptySelectionClipboard",!0,{description:C.localize(6,null)})}compute(Z,le,he){return he&&Z.emptySelectionClipboard}}class L extends l{constructor(){const Z={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,"find",Z,{"editor.find.cursorMoveOnType":{type:"boolean",default:Z.cursorMoveOnType,description:C.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:Z.seedSearchStringFromSelection,description:C.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Z.autoFindInSelection,enumDescriptions:[C.localize(9,null),C.localize(10,null),C.localize(11,null)],description:C.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:Z.globalFindClipboard,description:C.localize(13,null),included:M.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Z.addExtraSpaceOnTop,description:C.localize(14,null)},"editor.find.loop":{type:"boolean",default:Z.loop,description:C.localize(15,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{cursorMoveOnType:c(le.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:c(le.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof Z.autoFindInSelection=="boolean"?Z.autoFindInSelection?"always":"never":s(le.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:c(le.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:c(le.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:c(le.loop,this.defaultValue.loop)}}}class D extends l{constructor(){super(39,"fontLigatures",D.OFF,{anyOf:[{type:"boolean",description:C.localize(16,null)},{type:"string",description:C.localize(17,null)}],description:C.localize(18,null),default:!1})}validate(Z){return typeof Z=="undefined"?this.defaultValue:typeof Z=="string"?Z==="false"?D.OFF:Z==="true"?D.ON:Z:Boolean(Z)?D.ON:D.OFF}}e.EditorFontLigatures=D,D.OFF='"liga" off, "calt" off',D.ON='"liga" on, "calt" on';class N extends f{constructor(){super(38)}compute(Z,le,he){return Z.fontInfo}}class I extends p{constructor(){super(40,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:C.localize(19,null)})}validate(Z){let le=r.float(Z,this.defaultValue);return le===0?e.EDITOR_FONT_DEFAULTS.fontSize:r.clamp(le,6,100)}compute(Z,le,he){return Z.fontInfo.fontSize}}class T extends l{constructor(){super(41,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:T.MINIMUM_VALUE,maximum:T.MAXIMUM_VALUE,errorMessage:C.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:T.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:C.localize(21,null)})}validate(Z){return Z==="normal"||Z==="bold"?Z:String(a.clampedInt(Z,e.EDITOR_FONT_DEFAULTS.fontWeight,T.MINIMUM_VALUE,T.MAXIMUM_VALUE))}}T.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],T.MINIMUM_VALUE=1,T.MAXIMUM_VALUE=1e3;class O extends l{constructor(){const Z={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},le={type:"string",enum:["peek","gotoAndPeek","goto"],default:Z.multiple,enumDescriptions:[C.localize(22,null),C.localize(23,null),C.localize(24,null)]};super(45,"gotoLocation",Z,{"editor.gotoLocation.multiple":{deprecationMessage:C.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:C.localize(26,null)},le),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:C.localize(27,null)},le),"editor.gotoLocation.multipleDeclarations":Object.assign({description:C.localize(28,null)},le),"editor.gotoLocation.multipleImplementations":Object.assign({description:C.localize(29,null)},le),"editor.gotoLocation.multipleReferences":Object.assign({description:C.localize(30,null)},le),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Z.alternativeDefinitionCommand,description:C.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Z.alternativeTypeDefinitionCommand,description:C.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Z.alternativeDeclarationCommand,description:C.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Z.alternativeImplementationCommand,description:C.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Z.alternativeReferenceCommand,description:C.localize(35,null)}})}validate(Z){var le,he,re,de,me;if(!Z||typeof Z!="object")return this.defaultValue;const ve=Z;return{multiple:s(ve.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(le=ve.multipleDefinitions)!==null&&le!==void 0?le:s(ve.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(he=ve.multipleTypeDefinitions)!==null&&he!==void 0?he:s(ve.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(re=ve.multipleDeclarations)!==null&&re!==void 0?re:s(ve.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(de=ve.multipleImplementations)!==null&&de!==void 0?de:s(ve.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(me=ve.multipleReferences)!==null&&me!==void 0?me:s(ve.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:d.string(ve.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:d.string(ve.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:d.string(ve.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:d.string(ve.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:d.string(ve.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class A extends l{constructor(){const Z={enabled:!0,delay:300,sticky:!0};super(48,"hover",Z,{"editor.hover.enabled":{type:"boolean",default:Z.enabled,description:C.localize(36,null)},"editor.hover.delay":{type:"number",default:Z.delay,description:C.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:Z.sticky,description:C.localize(38,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{enabled:c(le.enabled,this.defaultValue.enabled),delay:a.clampedInt(le.delay,this.defaultValue.delay,0,1e4),sticky:c(le.sticky,this.defaultValue.sticky)}}}class B extends f{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(Z,le,he){return B.computeLayout(le,{memory:Z.memory,outerWidth:Z.outerWidth,outerHeight:Z.outerHeight,isDominatedByLongLines:Z.isDominatedByLongLines,lineHeight:Z.fontInfo.lineHeight,viewLineCount:Z.viewLineCount,lineNumbersDigitCount:Z.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Z.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Z.fontInfo.maxDigitWidth,pixelRatio:Z.pixelRatio})}static computeContainedMinimapLineCount(Z){const le=Z.height/Z.lineHeight,he=Z.scrollBeyondLastLine?le-1:0,re=(Z.viewLineCount+he)/(Z.pixelRatio*Z.height),de=Math.floor(Z.viewLineCount/re);return{typicalViewportLineCount:le,extraLinesBeyondLastLine:he,desiredRatio:re,minimapLineCount:de}}static _computeMinimapLayout(Z,le){const he=Z.outerWidth,re=Z.outerHeight,de=Z.pixelRatio;if(!Z.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(de*re),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:re};const me=le.stableMinimapLayoutInput,ve=me&&Z.outerHeight===me.outerHeight&&Z.lineHeight===me.lineHeight&&Z.typicalHalfwidthCharacterWidth===me.typicalHalfwidthCharacterWidth&&Z.pixelRatio===me.pixelRatio&&Z.scrollBeyondLastLine===me.scrollBeyondLastLine&&Z.minimap.enabled===me.minimap.enabled&&Z.minimap.side===me.minimap.side&&Z.minimap.size===me.minimap.size&&Z.minimap.showSlider===me.minimap.showSlider&&Z.minimap.renderCharacters===me.minimap.renderCharacters&&Z.minimap.maxColumn===me.minimap.maxColumn&&Z.minimap.scale===me.minimap.scale&&Z.verticalScrollbarWidth===me.verticalScrollbarWidth&&Z.isViewportWrapping===me.isViewportWrapping,Ce=Z.lineHeight,Ee=Z.typicalHalfwidthCharacterWidth,De=Z.scrollBeyondLastLine,Pe=Z.minimap.renderCharacters;let Ne=de>=2?Math.round(Z.minimap.scale*2):Z.minimap.scale;const Ae=Z.minimap.maxColumn,Oe=Z.minimap.size,Re=Z.minimap.side,Be=Z.verticalScrollbarWidth,we=Z.viewLineCount,Se=Z.remainingWidth,fe=Z.isViewportWrapping,oe=Pe?2:3;let ge=Math.floor(de*re);const _e=ge/de;let be=!1,ye=!1,Le=oe*Ne,ke=Ne/de,Te=1;if(Oe==="fill"||Oe==="fit"){const{typicalViewportLineCount:je,extraLinesBeyondLastLine:Ue,desiredRatio:qe,minimapLineCount:He}=B.computeContainedMinimapLineCount({viewLineCount:we,scrollBeyondLastLine:De,height:re,lineHeight:Ce,pixelRatio:de});if(we/He>1)be=!0,ye=!0,Ne=1,Le=1,ke=Ne/de;else{let Ge=!1,Ye=Ne+1;if(Oe==="fit"){const Xe=Math.ceil((we+Ue)*Le);fe&&ve&&Se<=le.stableFitRemainingWidth?(Ge=!0,Ye=le.stableFitMaxMinimapScale):(Ge=Xe>ge,fe&&Ge?(le.stableMinimapLayoutInput=Z,le.stableFitRemainingWidth=Se):(le.stableMinimapLayoutInput=null,le.stableFitRemainingWidth=0))}if(Oe==="fill"||Ge){be=!0;const Xe=Ne;Le=Math.min(Ce*de,Math.max(1,Math.floor(1/qe))),Ne=Math.min(Ye,Math.max(1,Math.floor(Le/oe))),Ne>Xe&&(Te=Math.min(2,Ne/Xe)),ke=Ne/de/Te,ge=Math.ceil(Math.max(je,we+Ue)*Le),fe&&Ge&&(le.stableFitMaxMinimapScale=Ne)}}}const xe=Math.floor(Ae*ke),We=Math.min(xe,Math.max(0,Math.floor((Se-Be-2)*ke/(Ee+ke)))+e.MINIMAP_GUTTER_WIDTH);let Ve=Math.floor(de*We);const ze=Ve/de;Ve=Math.floor(Ve*Te);const Fe=Pe?1:2,Ke=Re==="left"?0:he-We-Be;return{renderMinimap:Fe,minimapLeft:Ke,minimapWidth:We,minimapHeightIsEditorHeight:be,minimapIsSampling:ye,minimapScale:Ne,minimapLineHeight:Le,minimapCanvasInnerWidth:Ve,minimapCanvasInnerHeight:ge,minimapCanvasOuterWidth:ze,minimapCanvasOuterHeight:_e}}static computeLayout(Z,le){const he=le.outerWidth|0,re=le.outerHeight|0,de=le.lineHeight|0,me=le.lineNumbersDigitCount|0,ve=le.typicalHalfwidthCharacterWidth,Ce=le.maxDigitWidth,Ee=le.pixelRatio,De=le.viewLineCount,Pe=Z.get(116),Ne=Pe==="inherit"?Z.get(115):Pe,Ae=Ne==="inherit"?Z.get(111):Ne,Oe=Z.get(114),Re=Z.get(2),Be=le.isDominatedByLongLines,we=Z.get(44),Se=Z.get(54).renderType!==0,fe=Z.get(55),oe=Z.get(89),ge=Z.get(59),_e=Z.get(87),be=_e.verticalScrollbarSize,ye=_e.verticalHasArrows,Le=_e.arrowSize,ke=_e.horizontalScrollbarSize,Te=Z.get(52),xe=Z.get(33);let We;if(typeof Te=="string"&&/^\d+(\.\d+)?ch$/.test(Te)){const it=parseFloat(Te.substr(0,Te.length-2));We=a.clampedInt(it*ve,0,0,1e3)}else We=a.clampedInt(Te,0,0,1e3);xe&&(We+=16);let Ve=0;if(Se){const it=Math.max(me,fe);Ve=Math.round(it*Ce)}let ze=0;we&&(ze=de);let Fe=0,Ke=Fe+ze,je=Ke+Ve,Ue=je+We;const qe=he-ze-Ve-We;let He=!1,Qe=!1,Ge=-1;Re!==2&&(Ne==="inherit"&&Be?(He=!0,Qe=!0):Ae==="on"||Ae==="bounded"?Qe=!0:Ae==="wordWrapColumn"&&(Ge=Oe));const Ye=B._computeMinimapLayout({outerWidth:he,outerHeight:re,lineHeight:de,typicalHalfwidthCharacterWidth:ve,pixelRatio:Ee,scrollBeyondLastLine:oe,minimap:ge,verticalScrollbarWidth:be,viewLineCount:De,remainingWidth:qe,isViewportWrapping:Qe},le.memory||new v);Ye.renderMinimap!==0&&Ye.minimapLeft===0&&(Fe+=Ye.minimapWidth,Ke+=Ye.minimapWidth,je+=Ye.minimapWidth,Ue+=Ye.minimapWidth);const Xe=qe-Ye.minimapWidth,Je=Math.max(1,Math.floor((Xe-be-2)/ve)),et=ye?Le:0;return Qe&&(Ge=Math.max(1,Je),Ae==="bounded"&&(Ge=Math.min(Ge,Oe))),{width:he,height:re,glyphMarginLeft:Fe,glyphMarginWidth:ze,lineNumbersLeft:Ke,lineNumbersWidth:Ve,decorationsLeft:je,decorationsWidth:We,contentLeft:Ue,contentWidth:Xe,minimap:Ye,viewportColumn:Je,isWordWrapMinified:He,isViewportWrapping:Qe,wrappingColumn:Ge,verticalScrollbarWidth:be,horizontalScrollbarHeight:ke,overviewRuler:{top:et,width:be,height:re-2*et,right:0}}}}e.EditorLayoutInfoComputer=B;class E extends l{constructor(){const Z={enabled:!0};super(51,"lightbulb",Z,{"editor.lightbulb.enabled":{type:"boolean",default:Z.enabled,description:C.localize(39,null)}})}validate(Z){return!Z||typeof Z!="object"?this.defaultValue:{enabled:c(Z.enabled,this.defaultValue.enabled)}}}class W extends l{constructor(){const Z={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,"inlineHints",Z,{"editor.inlineHints.enabled":{type:"boolean",default:Z.enabled,description:C.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:Z.fontSize,description:C.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:Z.fontFamily,description:C.localize(42,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{enabled:c(le.enabled,this.defaultValue.enabled),fontSize:a.clampedInt(le.fontSize,this.defaultValue.fontSize,0,100),fontFamily:d.string(le.fontFamily,this.defaultValue.fontFamily)}}}class R extends a{constructor(){super(53,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:C.localize(43,null)})}compute(Z,le,he){return Z.fontInfo.lineHeight}}class F extends l{constructor(){const Z={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(59,"minimap",Z,{"editor.minimap.enabled":{type:"boolean",default:Z.enabled,description:C.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[C.localize(45,null),C.localize(46,null),C.localize(47,null)],default:Z.size,description:C.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:Z.side,description:C.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Z.showSlider,description:C.localize(50,null)},"editor.minimap.scale":{type:"number",default:Z.scale,minimum:1,maximum:3,enum:[1,2,3],description:C.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:Z.renderCharacters,description:C.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:Z.maxColumn,description:C.localize(53,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{enabled:c(le.enabled,this.defaultValue.enabled),size:s(le.size,this.defaultValue.size,["proportional","fill","fit"]),side:s(le.side,this.defaultValue.side,["right","left"]),showSlider:s(le.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:c(le.renderCharacters,this.defaultValue.renderCharacters),scale:a.clampedInt(le.scale,1,1,3),maxColumn:a.clampedInt(le.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(ne){return ne==="ctrlCmd"?M.isMacintosh?"metaKey":"ctrlKey":"altKey"}class K extends l{constructor(){super(69,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:C.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:C.localize(55,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{top:a.clampedInt(le.top,0,0,1e3),bottom:a.clampedInt(le.bottom,0,0,1e3)}}}class G extends l{constructor(){const Z={enabled:!0,cycle:!1};super(70,"parameterHints",Z,{"editor.parameterHints.enabled":{type:"boolean",default:Z.enabled,description:C.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:Z.cycle,description:C.localize(57,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{enabled:c(le.enabled,this.defaultValue.enabled),cycle:c(le.cycle,this.defaultValue.cycle)}}}class J extends f{constructor(){super(122)}compute(Z,le,he){return Z.pixelRatio}}class se extends l{constructor(){const Z={other:!0,comments:!1,strings:!1};super(73,"quickSuggestions",Z,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:Z.strings,description:C.localize(58,null)},comments:{type:"boolean",default:Z.comments,description:C.localize(59,null)},other:{type:"boolean",default:Z.other,description:C.localize(60,null)}}}],default:Z,description:C.localize(61,null)});this.defaultValue=Z}validate(Z){if(typeof Z=="boolean")return Z;if(Z&&typeof Z=="object"){const le=Z,he={other:c(le.other,this.defaultValue.other),comments:c(le.comments,this.defaultValue.comments),strings:c(le.strings,this.defaultValue.strings)};return he.other&&he.comments&&he.strings?!0:!he.other&&!he.comments&&!he.strings?!1:he}return this.defaultValue}}class ie extends l{constructor(){super(54,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[C.localize(62,null),C.localize(63,null),C.localize(64,null),C.localize(65,null)],default:"on",description:C.localize(66,null)})}validate(Z){let le=this.defaultValue.renderType,he=this.defaultValue.renderFn;return typeof Z!="undefined"&&(typeof Z=="function"?(le=4,he=Z):Z==="interval"?le=3:Z==="relative"?le=2:Z==="on"?le=1:le=0),{renderType:le,renderFn:he}}}function ae(ne){const Z=ne.get(82);return Z==="editable"?ne.get(75):Z!=="on"}e.filterValidationDecorations=ae;class X extends l{constructor(){const Z=[],le={type:"number",description:C.localize(67,null)};super(86,"rulers",Z,{type:"array",items:{anyOf:[le,{type:["object"],properties:{column:le,color:{type:"string",description:C.localize(68,null),format:"color-hex"}}}]},default:Z,description:C.localize(69,null)})}validate(Z){if(Array.isArray(Z)){let le=[];for(let he of Z)if(typeof he=="number")le.push({column:a.clampedInt(he,0,0,1e4),color:null});else if(he&&typeof he=="object"){const re=he;le.push({column:a.clampedInt(re.column,0,0,1e4),color:re.color})}return le.sort((he,re)=>he.column-re.column),le}return this.defaultValue}}function U(ne,Z){if(typeof ne!="string")return Z;switch(ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class P extends l{constructor(){super(87,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z,he=a.clampedInt(le.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),re=a.clampedInt(le.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:a.clampedInt(le.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:U(le.vertical,this.defaultValue.vertical),horizontal:U(le.horizontal,this.defaultValue.horizontal),useShadows:c(le.useShadows,this.defaultValue.useShadows),verticalHasArrows:c(le.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:c(le.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:c(le.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:c(le.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:he,horizontalSliderSize:a.clampedInt(le.horizontalSliderSize,he,0,1e3),verticalScrollbarSize:re,verticalSliderSize:a.clampedInt(le.verticalSliderSize,re,0,1e3),scrollByPage:c(le.scrollByPage,this.defaultValue.scrollByPage)}}}class x extends l{constructor(){const Z={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,"suggest",Z,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[C.localize(70,null),C.localize(71,null)],default:Z.insertMode,description:C.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:Z.filterGraceful,description:C.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:Z.localityBonus,description:C.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Z.shareSuggestSelections,markdownDescription:C.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Z.snippetsPreventQuickSuggestions,description:C.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:Z.showIcons,description:C.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:Z.showStatusBar,description:C.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:Z.showInlineDetails,description:C.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:C.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:C.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:C.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:C.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:C.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:C.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:C.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:C.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:C.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:C.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:C.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:C.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:C.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:C.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:C.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:C.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:C.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:C.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:C.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:C.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:C.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:C.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:C.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:C.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:C.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:C.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:C.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:C.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:C.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:C.localize(109,null)}})}validate(Z){if(!Z||typeof Z!="object")return this.defaultValue;const le=Z;return{insertMode:s(le.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:c(le.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:c(le.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:c(le.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:c(le.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:c(le.showIcons,this.defaultValue.showIcons),showStatusBar:c(le.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:c(le.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:c(le.showMethods,this.defaultValue.showMethods),showFunctions:c(le.showFunctions,this.defaultValue.showFunctions),showConstructors:c(le.showConstructors,this.defaultValue.showConstructors),showFields:c(le.showFields,this.defaultValue.showFields),showVariables:c(le.showVariables,this.defaultValue.showVariables),showClasses:c(le.showClasses,this.defaultValue.showClasses),showStructs:c(le.showStructs,this.defaultValue.showStructs),showInterfaces:c(le.showInterfaces,this.defaultValue.showInterfaces),showModules:c(le.showModules,this.defaultValue.showModules),showProperties:c(le.showProperties,this.defaultValue.showProperties),showEvents:c(le.showEvents,this.defaultValue.showEvents),showOperators:c(le.showOperators,this.defaultValue.showOperators),showUnits:c(le.showUnits,this.defaultValue.showUnits),showValues:c(le.showValues,this.defaultValue.showValues),showConstants:c(le.showConstants,this.defaultValue.showConstants),showEnums:c(le.showEnums,this.defaultValue.showEnums),showEnumMembers:c(le.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:c(le.showKeywords,this.defaultValue.showKeywords),showWords:c(le.showWords,this.defaultValue.showWords),showColors:c(le.showColors,this.defaultValue.showColors),showFiles:c(le.showFiles,this.defaultValue.showFiles),showReferences:c(le.showReferences,this.defaultValue.showReferences),showFolders:c(le.showFolders,this.defaultValue.showFolders),showTypeParameters:c(le.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:c(le.showSnippets,this.defaultValue.showSnippets),showUsers:c(le.showUsers,this.defaultValue.showUsers),showIssues:c(le.showIssues,this.defaultValue.showIssues)}}}class H extends l{constructor(){super(97,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:C.localize(110,null),default:!0,type:"boolean"}})}validate(Z){return!Z||typeof Z!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:c(Z.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class z extends f{constructor(){super(123,[75])}compute(Z,le,he){return le.get(75)?!0:Z.tabFocusMode}}function q(ne){switch(ne){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Q extends f{constructor(){super(125,[124])}compute(Z,le,he){const re=le.get(124);return{isDominatedByLongLines:Z.isDominatedByLongLines,isWordWrapMinified:re.isWordWrapMinified,isViewportWrapping:re.isViewportWrapping,wrappingColumn:re.wrappingColumn}}}const ce="Consolas, 'Courier New', monospace",ue="Menlo, Monaco, 'Courier New', monospace",Y="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:M.isMacintosh?ue:M.isLinux?Y:ce,fontWeight:"normal",fontSize:M.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function j(ne){return e.editorOptionsRegistry[ne.id]=ne,ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:j(new u(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:C.localize(111,null)})),acceptSuggestionOnEnter:j(new i(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",C.localize(112,null),""],markdownDescription:C.localize(113,null)})),accessibilitySupport:j(new o),accessibilityPageSize:j(new a(3,"accessibilityPageSize",10,1,1073741824,{description:C.localize(114,null)})),ariaLabel:j(new d(4,"ariaLabel",C.localize(115,null))),autoClosingBrackets:j(new i(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.localize(116,null),C.localize(117,null),""],description:C.localize(118,null)})),autoClosingOvertype:j(new i(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",C.localize(119,null),""],description:C.localize(120,null)})),autoClosingQuotes:j(new i(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.localize(121,null),C.localize(122,null),""],description:C.localize(123,null)})),autoIndent:j(new n(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],t,{enumDescriptions:[C.localize(124,null),C.localize(125,null),C.localize(126,null),C.localize(127,null),C.localize(128,null)],description:C.localize(129,null)})),automaticLayout:j(new u(9,"automaticLayout",!1)),autoSurround:j(new i(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[C.localize(130,null),C.localize(131,null),C.localize(132,null),""],description:C.localize(133,null)})),stickyTabStops:j(new u(99,"stickyTabStops",!1,{description:C.localize(134,null)})),codeLens:j(new u(11,"codeLens",!0,{description:C.localize(135,null)})),codeLensFontFamily:j(new d(12,"codeLensFontFamily","",{description:C.localize(136,null)})),codeLensFontSize:j(new a(13,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:C.localize(137,null)})),colorDecorators:j(new u(14,"colorDecorators",!0,{description:C.localize(138,null)})),columnSelection:j(new u(15,"columnSelection",!1,{description:C.localize(139,null)})),comments:j(new h),contextmenu:j(new u(17,"contextmenu",!0)),copyWithSyntaxHighlighting:j(new u(18,"copyWithSyntaxHighlighting",!0,{description:C.localize(140,null)})),cursorBlinking:j(new n(19,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],_,{description:C.localize(141,null)})),cursorSmoothCaretAnimation:j(new u(20,"cursorSmoothCaretAnimation",!1,{description:C.localize(142,null)})),cursorStyle:j(new n(21,"cursorStyle",m.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],g,{description:C.localize(143,null)})),cursorSurroundingLines:j(new a(22,"cursorSurroundingLines",0,0,1073741824,{description:C.localize(144,null)})),cursorSurroundingLinesStyle:j(new i(23,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[C.localize(145,null),C.localize(146,null)],description:C.localize(147,null)})),cursorWidth:j(new a(24,"cursorWidth",0,0,1073741824,{markdownDescription:C.localize(148,null)})),disableLayerHinting:j(new u(25,"disableLayerHinting",!1)),disableMonospaceOptimizations:j(new u(26,"disableMonospaceOptimizations",!1)),dragAndDrop:j(new u(27,"dragAndDrop",!0,{description:C.localize(149,null)})),emptySelectionClipboard:j(new y),extraEditorClassName:j(new d(29,"extraEditorClassName","")),fastScrollSensitivity:j(new r(30,"fastScrollSensitivity",5,ne=>ne<=0?5:ne,{markdownDescription:C.localize(150,null)})),find:j(new L),fixedOverflowWidgets:j(new u(32,"fixedOverflowWidgets",!1)),folding:j(new u(33,"folding",!0,{description:C.localize(151,null)})),foldingStrategy:j(new i(34,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[C.localize(152,null),C.localize(153,null)],description:C.localize(154,null)})),foldingHighlight:j(new u(35,"foldingHighlight",!0,{description:C.localize(155,null)})),unfoldOnClickAfterEndOfLine:j(new u(36,"unfoldOnClickAfterEndOfLine",!1,{description:C.localize(156,null)})),fontFamily:j(new d(37,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:C.localize(157,null)})),fontInfo:j(new N),fontLigatures2:j(new D),fontSize:j(new I),fontWeight:j(new T),formatOnPaste:j(new u(42,"formatOnPaste",!1,{description:C.localize(158,null)})),formatOnType:j(new u(43,"formatOnType",!1,{description:C.localize(159,null)})),glyphMargin:j(new u(44,"glyphMargin",!0,{description:C.localize(160,null)})),gotoLocation:j(new O),hideCursorInOverviewRuler:j(new u(46,"hideCursorInOverviewRuler",!1,{description:C.localize(161,null)})),highlightActiveIndentGuide:j(new u(47,"highlightActiveIndentGuide",!0,{description:C.localize(162,null)})),hover:j(new A),inDiffEditor:j(new u(49,"inDiffEditor",!1)),letterSpacing:j(new r(50,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,ne=>r.clamp(ne,-5,20),{description:C.localize(163,null)})),lightbulb:j(new E),lineDecorationsWidth:j(new p(52,"lineDecorationsWidth",10)),lineHeight:j(new R),lineNumbers:j(new ie),lineNumbersMinChars:j(new a(55,"lineNumbersMinChars",5,1,300)),linkedEditing:j(new u(56,"linkedEditing",!1,{description:C.localize(164,null)})),links:j(new u(57,"links",!0,{description:C.localize(165,null)})),matchBrackets:j(new i(58,"matchBrackets","always",["always","near","never"],{description:C.localize(166,null)})),minimap:j(new F),mouseStyle:j(new i(60,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:j(new r(61,"mouseWheelScrollSensitivity",1,ne=>ne===0?1:ne,{markdownDescription:C.localize(167,null)})),mouseWheelZoom:j(new u(62,"mouseWheelZoom",!1,{markdownDescription:C.localize(168,null)})),multiCursorMergeOverlapping:j(new u(63,"multiCursorMergeOverlapping",!0,{description:C.localize(169,null)})),multiCursorModifier:j(new n(64,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[C.localize(170,null),C.localize(171,null)],markdownDescription:C.localize(172,null)})),multiCursorPaste:j(new i(65,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[C.localize(173,null),C.localize(174,null)],markdownDescription:C.localize(175,null)})),occurrencesHighlight:j(new u(66,"occurrencesHighlight",!0,{description:C.localize(176,null)})),overviewRulerBorder:j(new u(67,"overviewRulerBorder",!0,{description:C.localize(177,null)})),overviewRulerLanes:j(new a(68,"overviewRulerLanes",3,0,3)),padding:j(new K),parameterHints:j(new G),peekWidgetDefaultFocus:j(new i(71,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[C.localize(178,null),C.localize(179,null)],description:C.localize(180,null)})),definitionLinkOpensInPeek:j(new u(72,"definitionLinkOpensInPeek",!1,{description:C.localize(181,null)})),quickSuggestions:j(new se),quickSuggestionsDelay:j(new a(74,"quickSuggestionsDelay",10,0,1073741824,{description:C.localize(182,null)})),readOnly:j(new u(75,"readOnly",!1)),renameOnType:j(new u(76,"renameOnType",!1,{description:C.localize(183,null),markdownDeprecationMessage:C.localize(184,null)})),renderControlCharacters:j(new u(77,"renderControlCharacters",!1,{description:C.localize(185,null)})),renderIndentGuides:j(new u(78,"renderIndentGuides",!0,{description:C.localize(186,null)})),renderFinalNewline:j(new u(79,"renderFinalNewline",!0,{description:C.localize(187,null)})),renderLineHighlight:j(new i(80,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",C.localize(188,null)],description:C.localize(189,null)})),renderLineHighlightOnlyWhenFocus:j(new u(81,"renderLineHighlightOnlyWhenFocus",!1,{description:C.localize(190,null)})),renderValidationDecorations:j(new i(82,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:j(new i(83,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",C.localize(191,null),C.localize(192,null),C.localize(193,null),""],description:C.localize(194,null)})),revealHorizontalRightPadding:j(new a(84,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:j(new u(85,"roundedSelection",!0,{description:C.localize(195,null)})),rulers:j(new X),scrollbar:j(new P),scrollBeyondLastColumn:j(new a(88,"scrollBeyondLastColumn",5,0,1073741824,{description:C.localize(196,null)})),scrollBeyondLastLine:j(new u(89,"scrollBeyondLastLine",!0,{description:C.localize(197,null)})),scrollPredominantAxis:j(new u(90,"scrollPredominantAxis",!0,{description:C.localize(198,null)})),selectionClipboard:j(new u(91,"selectionClipboard",!0,{description:C.localize(199,null),included:M.isLinux})),selectionHighlight:j(new u(92,"selectionHighlight",!0,{description:C.localize(200,null)})),selectOnLineNumbers:j(new u(93,"selectOnLineNumbers",!0)),showFoldingControls:j(new i(94,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[C.localize(201,null),C.localize(202,null)],description:C.localize(203,null)})),showUnused:j(new u(95,"showUnused",!0,{description:C.localize(204,null)})),showDeprecated:j(new u(119,"showDeprecated",!0,{description:C.localize(205,null)})),inlineHints:j(new W),snippetSuggestions:j(new i(96,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[C.localize(206,null),C.localize(207,null),C.localize(208,null),C.localize(209,null)],description:C.localize(210,null)})),smartSelect:j(new H),smoothScrolling:j(new u(98,"smoothScrolling",!1,{description:C.localize(211,null)})),stopRenderingLineAfter:j(new a(100,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:j(new x),suggestFontSize:j(new a(102,"suggestFontSize",0,0,1e3,{markdownDescription:C.localize(212,null)})),suggestLineHeight:j(new a(103,"suggestLineHeight",0,0,1e3,{markdownDescription:C.localize(213,null)})),suggestOnTriggerCharacters:j(new u(104,"suggestOnTriggerCharacters",!0,{description:C.localize(214,null)})),suggestSelection:j(new i(105,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[C.localize(215,null),C.localize(216,null),C.localize(217,null)],description:C.localize(218,null)})),tabCompletion:j(new i(106,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[C.localize(219,null),C.localize(220,null),C.localize(221,null)],description:C.localize(222,null)})),tabIndex:j(new a(107,"tabIndex",0,-1,1073741824)),unusualLineTerminators:j(new i(108,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[C.localize(223,null),C.localize(224,null),C.localize(225,null)],description:C.localize(226,null)})),useTabStops:j(new u(109,"useTabStops",!0,{description:C.localize(227,null)})),wordSeparators:j(new d(110,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:C.localize(228,null)})),wordWrap:j(new i(111,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[C.localize(229,null),C.localize(230,null),C.localize(231,null),C.localize(232,null)],description:C.localize(233,null)})),wordWrapBreakAfterCharacters:j(new d(112,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:j(new d(113,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:j(new a(114,"wordWrapColumn",80,1,1073741824,{markdownDescription:C.localize(234,null)})),wordWrapOverride1:j(new i(115,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:j(new i(116,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:j(new n(117,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],q,{enumDescriptions:[C.localize(235,null),C.localize(236,null),C.localize(237,null),C.localize(238,null)],description:C.localize(239,null)})),wrappingStrategy:j(new i(118,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[C.localize(240,null),C.localize(241,null)],description:C.localize(242,null)})),editorClassName:j(new b),pixelRatio:j(new J),tabFocusMode:j(new z),layoutInfo:j(new B),wrappingInfo:j(new Q)}}),define(ee[450],te([0,1,13,3,63,38]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0;class S{constructor(l,f,p,c,u){this.editorId=l,this.model=f,this.configuration=p,this._linesCollection=c,this._coordinatesConverter=u,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(l){const f=l.id;let p=this._decorationsCache[f];if(!p){const c=l.range,u=l.options;let a;if(u.isWholeLine){const r=this._coordinatesConverter.convertModelPositionToViewPosition(new C.Position(c.startLineNumber,1)),d=this._coordinatesConverter.convertModelPositionToViewPosition(new C.Position(c.endLineNumber,this.model.getLineMaxColumn(c.endLineNumber)));a=new M.Range(r.lineNumber,r.column,d.lineNumber,d.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(c);p=new k.ViewModelDecoration(a,u),this._decorationsCache[f]=p}return p}getDecorationsViewportData(l){let f=this._cachedModelDecorationsResolver!==null;return f=f&&l.equalsRange(this._cachedModelDecorationsResolverViewRange),f||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(l),this._cachedModelDecorationsResolverViewRange=l),this._cachedModelDecorationsResolver}_getDecorationsViewportData(l){const f=this._linesCollection.getDecorationsInRange(l,this.editorId,w.filterValidationDecorations(this.configuration.options)),p=l.startLineNumber,c=l.endLineNumber;let u=[],a=0,r=[];for(let d=p;d<=c;d++)r[d-p]=[];for(let d=0,s=f.length;d<s;d++){let i=f[d],n=i.options,t=this._getOrCreateViewModelDecoration(i),o=t.range;if(u[a++]=t,n.inlineClassName){let h=new k.InlineDecoration(o,n.inlineClassName,n.inlineClassNameAffectsLetterSpacing?3:0),_=Math.max(p,o.startLineNumber),m=Math.min(c,o.endLineNumber);for(let g=_;g<=m;g++)r[g-p].push(h)}if(n.beforeContentClassName&&p<=o.startLineNumber&&o.startLineNumber<=c){let h=new k.InlineDecoration(new M.Range(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn),n.beforeContentClassName,1);r[o.startLineNumber-p].push(h)}if(n.afterContentClassName&&p<=o.endLineNumber&&o.endLineNumber<=c){let h=new k.InlineDecoration(new M.Range(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn),n.afterContentClassName,2);r[o.endLineNumber-p].push(h)}}return{decorations:u,inlineDecorations:r}}}e.ViewModelDecorations=S}),define(ee[451],te([4,5]),function($,e){return $.create("vs/editor/common/model/editStack",e)}),define(ee[234],te([0,1,451,11,21,24,216,101,44]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=void 0;function f(s){return s.toString()}class p{constructor(i,n,t,o,h,_,m){this.beforeVersionId=i,this.afterVersionId=n,this.beforeEOL=t,this.afterEOL=o,this.beforeCursorState=h,this.afterCursorState=_,this.changes=m}static create(i,n){const t=i.getAlternativeVersionId(),o=a(i);return new p(t,t,o,o,n,n,[])}append(i,n,t,o,h){n.length>0&&(this.changes=S.compressConsecutiveTextChanges(this.changes,n)),this.afterEOL=t,this.afterVersionId=o,this.afterCursorState=h}static _writeSelectionsSize(i){return 4+4*4*(i?i.length:0)}static _writeSelections(i,n,t){if(v.writeUInt32BE(i,n?n.length:0,t),t+=4,n)for(const o of n)v.writeUInt32BE(i,o.selectionStartLineNumber,t),t+=4,v.writeUInt32BE(i,o.selectionStartColumn,t),t+=4,v.writeUInt32BE(i,o.positionLineNumber,t),t+=4,v.writeUInt32BE(i,o.positionColumn,t),t+=4;return t}static _readSelections(i,n,t){const o=v.readUInt32BE(i,n);n+=4;for(let h=0;h<o;h++){const _=v.readUInt32BE(i,n);n+=4;const m=v.readUInt32BE(i,n);n+=4;const g=v.readUInt32BE(i,n);n+=4;const b=v.readUInt32BE(i,n);n+=4,t.push(new k.Selection(_,m,g,b))}return n}serialize(){let i=4+4+1+1+p._writeSelectionsSize(this.beforeCursorState)+p._writeSelectionsSize(this.afterCursorState)+4;for(const o of this.changes)i+=o.writeSize();const n=new Uint8Array(i);let t=0;v.writeUInt32BE(n,this.beforeVersionId,t),t+=4,v.writeUInt32BE(n,this.afterVersionId,t),t+=4,v.writeUInt8(n,this.beforeEOL,t),t+=1,v.writeUInt8(n,this.afterEOL,t),t+=1,t=p._writeSelections(n,this.beforeCursorState,t),t=p._writeSelections(n,this.afterCursorState,t),v.writeUInt32BE(n,this.changes.length,t),t+=4;for(const o of this.changes)t=o.write(n,t);return n.buffer}static deserialize(i){const n=new Uint8Array(i);let t=0;const o=v.readUInt32BE(n,t);t+=4;const h=v.readUInt32BE(n,t);t+=4;const _=v.readUInt8(n,t);t+=1;const m=v.readUInt8(n,t);t+=1;const g=[];t=p._readSelections(n,t,g);const b=[];t=p._readSelections(n,t,b);const y=v.readUInt32BE(n,t);t+=4;const L=[];for(let D=0;D<y;D++)t=S.TextChange.read(n,t,L);return new p(o,h,_,m,g,b,L)}}class c{constructor(i,n){this.model=i,this._data=p.create(i,n)}get type(){return 0}get resource(){return w.URI.isUri(this.model)?this.model:this.model.uri}get label(){return C.localize(0,null)}toString(){return(this._data instanceof p?this._data:p.deserialize(this._data)).changes.map(n=>n.toString()).join(", ")}matchesResource(i){return(w.URI.isUri(this.model)?this.model:this.model.uri).toString()===i.toString()}setModel(i){this.model=i}canAppend(i){return this.model===i&&this._data instanceof p}append(i,n,t,o,h){this._data instanceof p&&this._data.append(i,n,t,o,h)}close(){this._data instanceof p&&(this._data=this._data.serialize())}open(){this._data instanceof p||(this._data=p.deserialize(this._data))}undo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const i=p.deserialize(this._data);this.model._applyUndo(i.changes,i.beforeEOL,i.beforeVersionId,i.beforeCursorState)}redo(){if(w.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof p&&(this._data=this._data.serialize());const i=p.deserialize(this._data);this.model._applyRedo(i.changes,i.afterEOL,i.afterVersionId,i.afterCursorState)}heapSize(){return this._data instanceof p&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=c;class u{constructor(i,n){this.type=1,this.label=i,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const t of this._editStackElementsArr){const o=f(t.resource);this._editStackElementsMap.set(o,t)}this._delegate=null}get resources(){return this._editStackElementsArr.map(i=>i.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(i){const n=f(i);return this._editStackElementsMap.has(n)}setModel(i){const n=f(w.URI.isUri(i)?i:i.uri);this._editStackElementsMap.has(n)&&this._editStackElementsMap.get(n).setModel(i)}canAppend(i){if(!this._isOpen)return!1;const n=f(i.uri);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).canAppend(i):!1}append(i,n,t,o,h){const _=f(i.uri);this._editStackElementsMap.get(_).append(i,n,t,o,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const i of this._editStackElementsArr)i.undo()}redo(){for(const i of this._editStackElementsArr)i.redo()}heapSize(i){const n=f(i);return this._editStackElementsMap.has(n)?this._editStackElementsMap.get(n).heapSize():0}split(){return this._editStackElementsArr}toString(){let i=[];for(const n of this._editStackElementsArr)i.push(`${l.basename(n.resource)}: ${n}`);return`{${i.join(", ")}}`}}e.MultiModelEditStackElement=u;function a(s){return s.getEOL()===`
`?0:1}function r(s){return s?s instanceof c||s instanceof u:!1}e.isEditStackElement=r;class d{constructor(i,n){this._model=i,this._undoRedoService=n}pushStackElement(){const i=this._undoRedoService.getLastElement(this._model.uri);r(i)&&i.close()}popStackElement(){const i=this._undoRedoService.getLastElement(this._model.uri);r(i)&&i.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(i){const n=this._undoRedoService.getLastElement(this._model.uri);if(r(n)&&n.canAppend(this._model))return n;const t=new c(this._model,i);return this._undoRedoService.pushElement(t),t}pushEOL(i){const n=this._getOrCreateEditStackElement(null);this._model.setEOL(i),n.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(i,n,t){const o=this._getOrCreateEditStackElement(i),h=this._model.applyEdits(n,!0),_=d._computeCursorState(t,h),m=h.map((g,b)=>({index:b,textChange:g.textChange}));return m.sort((g,b)=>g.textChange.oldPosition===b.textChange.oldPosition?g.index-b.index:g.textChange.oldPosition-b.textChange.oldPosition),o.append(this._model,m.map(g=>g.textChange),a(this._model),this._model.getAlternativeVersionId(),_),_}static _computeCursorState(i,n){try{return i?i(n):null}catch(t){return M.onUnexpectedError(t),null}}}e.EditStack=d}),define(ee[452],te([4,5]),function($,e){return $.create("vs/editor/common/modes/modesRegistry",e)}),define(ee[453],te([4,5]),function($,e){return $.create("vs/editor/common/standaloneStrings",e)}),define(ee[64],te([0,1,453]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var M;(function(u){u.noSelection=C.localize(0,null),u.singleSelectionRange=C.localize(1,null),u.singleSelection=C.localize(2,null),u.multiSelectionRange=C.localize(3,null),u.multiSelection=C.localize(4,null),u.emergencyConfOn=C.localize(5,null),u.openingDocs=C.localize(6,null),u.readonlyDiffEditor=C.localize(7,null),u.editableDiffEditor=C.localize(8,null),u.readonlyEditor=C.localize(9,null),u.editableEditor=C.localize(10,null),u.changeConfigToOnMac=C.localize(11,null),u.changeConfigToOnWinLinux=C.localize(12,null),u.auto_on=C.localize(13,null),u.auto_off=C.localize(14,null),u.tabFocusModeOnMsg=C.localize(15,null),u.tabFocusModeOnMsgNoKb=C.localize(16,null),u.tabFocusModeOffMsg=C.localize(17,null),u.tabFocusModeOffMsgNoKb=C.localize(18,null),u.openDocMac=C.localize(19,null),u.openDocWinLinux=C.localize(20,null),u.outroMsg=C.localize(21,null),u.showAccessibilityHelpAction=C.localize(22,null)})(M=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(u){u.inspectTokensAction=C.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var w;(function(u){u.gotoLineActionLabel=C.localize(24,null)})(w=e.GoToLineNLS||(e.GoToLineNLS={}));var S;(function(u){u.helpQuickAccessActionLabel=C.localize(25,null)})(S=e.QuickHelpNLS||(e.QuickHelpNLS={}));var v;(function(u){u.quickCommandActionLabel=C.localize(26,null),u.quickCommandHelp=C.localize(27,null)})(v=e.QuickCommandNLS||(e.QuickCommandNLS={}));var l;(function(u){u.quickOutlineActionLabel=C.localize(28,null),u.quickOutlineByCategoryActionLabel=C.localize(29,null)})(l=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var f;(function(u){u.editorViewAccessibleLabel=C.localize(30,null),u.accessibilityHelpMessage=C.localize(31,null)})(f=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var p;(function(u){u.toggleHighContrast=C.localize(32,null)})(p=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var c;(function(u){u.bulkEditServiceSummary=C.localize(33,null)})(c=e.SimpleServicesNLS||(e.SimpleServicesNLS={}))}),define(ee[454],te([4,5]),function($,e){return $.create("vs/editor/common/view/editorColorRegistry",e)}),define(ee[455],te([4,5]),function($,e){return $.create("vs/editor/contrib/anchorSelect/anchorSelect",e)}),define(ee[456],te([4,5]),function($,e){return $.create("vs/editor/contrib/bracketMatching/bracketMatching",e)}),define(ee[457],te([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/caretOperations",e)}),define(ee[458],te([4,5]),function($,e){return $.create("vs/editor/contrib/caretOperations/transpose",e)}),define(ee[459],te([4,5]),function($,e){return $.create("vs/editor/contrib/clipboard/clipboard",e)}),define(ee[460],te([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/codeActionCommands",e)}),define(ee[461],te([4,5]),function($,e){return $.create("vs/editor/contrib/codeAction/lightBulbWidget",e)}),define(ee[462],te([4,5]),function($,e){return $.create("vs/editor/contrib/codelens/codelensController",e)}),define(ee[463],te([4,5]),function($,e){return $.create("vs/editor/contrib/comment/comment",e)}),define(ee[464],te([4,5]),function($,e){return $.create("vs/editor/contrib/contextmenu/contextmenu",e)}),define(ee[465],te([4,5]),function($,e){return $.create("vs/editor/contrib/cursorUndo/cursorUndo",e)}),define(ee[466],te([4,5]),function($,e){return $.create("vs/editor/contrib/find/findController",e)}),define(ee[467],te([4,5]),function($,e){return $.create("vs/editor/contrib/find/findWidget",e)}),define(ee[468],te([4,5]),function($,e){return $.create("vs/editor/contrib/folding/folding",e)}),define(ee[469],te([4,5]),function($,e){return $.create("vs/editor/contrib/folding/foldingDecorations",e)}),define(ee[470],te([4,5]),function($,e){return $.create("vs/editor/contrib/fontZoom/fontZoom",e)}),define(ee[471],te([4,5]),function($,e){return $.create("vs/editor/contrib/format/format",e)}),define(ee[472],te([4,5]),function($,e){return $.create("vs/editor/contrib/format/formatActions",e)}),define(ee[473],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoError",e)}),define(ee[474],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoError/gotoErrorWidget",e)}),define(ee[475],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/goToCommands",e)}),define(ee[476],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition",e)}),define(ee[477],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesController",e)}),define(ee[478],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesTree",e)}),define(ee[479],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/peek/referencesWidget",e)}),define(ee[480],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/referencesModel",e)}),define(ee[133],te([0,1,480,6,44,2,8,118,3,51,11]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class c{constructor(s,i,n,t,o){this.isProviderFirst=s,this.parent=i,this.uri=n,this._range=t,this._rangeCallback=o,this.id=v.defaultGenerator.nextId()}get range(){return this._range}set range(s){this._range=s,this._rangeCallback(this)}get ariaMessage(){var s;const i=(s=this.parent.getPreview(this))===null||s===void 0?void 0:s.preview(this.range);return i?C.localize(1,null,k.basename(this.uri),this.range.startLineNumber,this.range.startColumn,i.value):C.localize(0,null,k.basename(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=c;class u{constructor(s){this._modelReference=s}dispose(){this._modelReference.dispose()}preview(s,i=8){const n=this._modelReference.object.textEditorModel;if(!!n){const{startLineNumber:t,startColumn:o,endLineNumber:h,endColumn:_}=s,m=n.getWordUntilPosition({lineNumber:t,column:o-i}),g=new l.Range(t,m.startColumn,t,o),b=new l.Range(h,_,h,1073741824),y=n.getValueInRange(g).replace(/^\s+/,""),L=n.getValueInRange(s),D=n.getValueInRange(b).replace(/\s+$/,"");return{value:y+L+D,highlight:{start:y.length,end:y.length+L.length}}}}}e.FilePreview=u;class a{constructor(s,i){this.parent=s,this.uri=i,this.children=[],this._previews=new f.ResourceMap}dispose(){w.dispose(this._previews.values()),this._previews.clear()}getPreview(s){return this._previews.get(s.uri)}get ariaMessage(){const s=this.children.length;return s===1?C.localize(2,null,k.basename(this.uri),this.uri.fsPath):C.localize(3,null,s,k.basename(this.uri),this.uri.fsPath)}resolve(s){return Ie(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let i of this.children)if(!this._previews.has(i.uri))try{const n=yield s.createModelReference(i.uri);this._previews.set(i.uri,new u(n))}catch(n){p.onUnexpectedError(n)}return this})}}e.FileReferences=a;class r{constructor(s,i){this._disposables=new w.DisposableStore,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new M.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=s,this._title=i;const[n]=s;s.sort(r._compareReferences);let t;for(let o of s)if((!t||!k.extUri.isEqual(t.uri,o.uri,!0))&&(t=new a(this,o.uri),this.groups.push(t)),t.children.length===0||r._compareReferences(o,t.children[t.children.length-1])!==0){const h=new c(n===o,t,o.uri,o.targetSelectionRange||o.range,_=>this._onDidChangeReferenceRange.fire(_));this.references.push(h),t.children.push(h)}}dispose(){w.dispose(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new r(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?C.localize(4,null):this.references.length===1?C.localize(5,null,this.references[0].uri.fsPath):this.groups.length===1?C.localize(6,null,this.references.length,this.groups[0].uri.fsPath):C.localize(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(s,i){let{parent:n}=s,t=n.children.indexOf(s),o=n.children.length,h=n.parent.groups.length;return h===1||i&&t+1<o||!i&&t>0?(i?t=(t+1)%o:t=(t+o-1)%o,n.children[t]):(t=n.parent.groups.indexOf(n),i?(t=(t+1)%h,n.parent.groups[t].children[0]):(t=(t+h-1)%h,n.parent.groups[t].children[n.parent.groups[t].children.length-1]))}nearestReference(s,i){const n=this.references.map((t,o)=>({idx:o,prefixLen:S.commonPrefixLength(t.uri.toString(),s.toString()),offsetDist:Math.abs(t.range.startLineNumber-i.lineNumber)*100+Math.abs(t.range.startColumn-i.column)})).sort((t,o)=>t.prefixLen>o.prefixLen?-1:t.prefixLen<o.prefixLen?1:t.offsetDist<o.offsetDist?-1:t.offsetDist>o.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(s,i){for(const n of this.references)if(n.uri.toString()===s.toString()&&l.Range.containsPosition(n.range,i))return n}firstReference(){for(const s of this.references)if(s.isProviderFirst)return s;return this.references[0]}static _compareReferences(s,i){return k.extUri.compare(s.uri,i.uri)||l.Range.compareRangesUsingStarts(s.range,i.range)}}e.ReferencesModel=r}),define(ee[481],te([4,5]),function($,e){return $.create("vs/editor/contrib/gotoSymbol/symbolNavigation",e)}),define(ee[482],te([4,5]),function($,e){return $.create("vs/editor/contrib/hover/hover",e)}),define(ee[483],te([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markdownHoverParticipant",e)}),define(ee[484],te([4,5]),function($,e){return $.create("vs/editor/contrib/hover/markerHoverParticipant",e)}),define(ee[485],te([4,5]),function($,e){return $.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",e)}),define(ee[486],te([4,5]),function($,e){return $.create("vs/editor/contrib/indentation/indentation",e)}),define(ee[487],te([4,5]),function($,e){return $.create("vs/editor/contrib/linesOperations/linesOperations",e)}),define(ee[488],te([4,5]),function($,e){return $.create("vs/editor/contrib/linkedEditing/linkedEditing",e)}),define(ee[489],te([4,5]),function($,e){return $.create("vs/editor/contrib/links/links",e)}),define(ee[490],te([4,5]),function($,e){return $.create("vs/editor/contrib/message/messageController",e)}),define(ee[491],te([4,5]),function($,e){return $.create("vs/editor/contrib/multicursor/multicursor",e)}),define(ee[492],te([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHints",e)}),define(ee[493],te([4,5]),function($,e){return $.create("vs/editor/contrib/parameterHints/parameterHintsWidget",e)}),define(ee[494],te([4,5]),function($,e){return $.create("vs/editor/contrib/peekView/peekView",e)}),define(ee[495],te([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoLineQuickAccess",e)}),define(ee[496],te([4,5]),function($,e){return $.create("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess",e)}),define(ee[497],te([4,5]),function($,e){return $.create("vs/editor/contrib/rename/rename",e)}),define(ee[498],te([4,5]),function($,e){return $.create("vs/editor/contrib/rename/renameInputField",e)}),define(ee[499],te([4,5]),function($,e){return $.create("vs/editor/contrib/smartSelect/smartSelect",e)}),define(ee[500],te([4,5]),function($,e){return $.create("vs/editor/contrib/snippet/snippetVariables",e)}),define(ee[501],te([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestController",e)}),define(ee[502],te([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidget",e)}),define(ee[503],te([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetDetails",e)}),define(ee[504],te([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetRenderer",e)}),define(ee[505],te([4,5]),function($,e){return $.create("vs/editor/contrib/suggest/suggestWidgetStatus",e)}),define(ee[506],te([4,5]),function($,e){return $.create("vs/editor/contrib/symbolIcons/symbolIcons",e)}),define(ee[507],te([4,5]),function($,e){return $.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",e)}),define(ee[508],te([4,5]),function($,e){return $.create("vs/editor/contrib/tokenization/tokenization",e)}),define(ee[509],te([4,5]),function($,e){return $.create("vs/editor/contrib/unusualLineTerminators/unusualLineTerminators",e)}),define(ee[510],te([4,5]),function($,e){return $.create("vs/editor/contrib/wordHighlighter/wordHighlighter",e)}),define(ee[511],te([4,5]),function($,e){return $.create("vs/editor/contrib/wordOperations/wordOperations",e)}),define(ee[512],te([4,5]),function($,e){return $.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ee[513],te([4,5]),function($,e){return $.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ee[514],te([4,5]),function($,e){return $.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ee[515],te([4,5]),function($,e){return $.create("vs/platform/list/browser/listService",e)}),define(ee[516],te([4,5]),function($,e){return $.create("vs/platform/markers/common/markers",e)}),define(ee[517],te([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ee[518],te([4,5]),function($,e){return $.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ee[519],te([4,5]),function($,e){return $.create("vs/platform/theme/common/colorRegistry",e)}),define(ee[520],te([4,5]),function($,e){return $.create("vs/platform/theme/common/iconRegistry",e)}),define(ee[521],te([4,5]),function($,e){return $.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ee[522],te([0,1,7]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;class M{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(w,S){return Ie(this,void 0,void 0,function*(){if(S){this.mapTextToType.set(S,w);return}try{return yield navigator.clipboard.writeText(w)}catch(f){console.error(f)}const v=document.activeElement,l=document.body.appendChild(C.$("textarea",{"aria-hidden":!0}));l.style.height="1px",l.style.width="1px",l.style.position="absolute",l.value=w,l.focus(),l.select(),document.execCommand("copy"),v instanceof HTMLElement&&v.focus(),document.body.removeChild(l)})}readText(w){return Ie(this,void 0,void 0,function*(){if(w)return this.mapTextToType.get(w)||"";try{return yield navigator.clipboard.readText()}catch(S){return console.error(S),""}})}readFindText(){return Ie(this,void 0,void 0,function*(){return this.findText})}writeFindText(w){return Ie(this,void 0,void 0,function*(){this.findText=w})}}e.BrowserClipboardService=M}),define(ee[523],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContextKey=void 0,e.InputFocusedContextKey="inputFocus"}),define(ee[524],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenContext=void 0;var C;(function(M){M[M.API=0]="API",M[M.USER=1]="USER"})(C=e.EditorOpenContext||(e.EditorOpenContext={}))}),define(ee[525],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class C{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=C}),define(ee[235],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var C;(function(M){M[M.FILE=0]="FILE",M[M.FOLDER=1]="FOLDER",M[M.ROOT_FOLDER=2]="ROOT_FOLDER"})(C=e.FileKind||(e.FileKind={}))}),define(ee[236],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class C{constructor(k,w=[],S=!1){this.ctor=k,this.staticArguments=w,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=C}),define(ee[74],te([0,1,236]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const M=[];function k(S,v,l){M.push([S,new C.SyncDescriptor(v,[],l)])}e.registerSingleton=k;function w(){return M}e.getSingletonServiceDescriptors=w}),define(ee[526],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class C{constructor(w){this.incoming=new Map,this.outgoing=new Map,this.data=w}}e.Node=C;class M{constructor(w){this._hashFn=w,this._nodes=new Map}roots(){const w=[];for(let S of this._nodes.values())S.outgoing.size===0&&w.push(S);return w}insertEdge(w,S){const v=this.lookupOrInsertNode(w),l=this.lookupOrInsertNode(S);v.outgoing.set(this._hashFn(S),l),l.incoming.set(this._hashFn(w),v)}removeNode(w){const S=this._hashFn(w);this._nodes.delete(S);for(let v of this._nodes.values())v.outgoing.delete(S),v.incoming.delete(S)}lookupOrInsertNode(w){const S=this._hashFn(w);let v=this._nodes.get(S);return v||(v=new C(w),this._nodes.set(S,v)),v}isEmpty(){return this._nodes.size===0}toString(){let w=[];for(let[S,v]of this._nodes)w.push(`${S}, (incoming)[${[...v.incoming.keys()].join(", ")}], (outgoing)[${[...v.outgoing.keys()].join(",")}]`);return w.join(`
`)}}e.Graph=M}),define(ee[9],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var C;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function v(l){return l[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=v})(C=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function M(S,v,l,f){v[C.DI_TARGET]===v?v[C.DI_DEPENDENCIES].push({id:S,index:l,optional:f}):(v[C.DI_DEPENDENCIES]=[{id:S,index:l,optional:f}],v[C.DI_TARGET]=v)}function k(S){if(C.serviceIds.has(S))return C.serviceIds.get(S);const v=function(l,f,p){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");M(v,l,p,!1)};return v.toString=()=>S,C.serviceIds.set(S,v),v}e.createDecorator=k;function w(S){return function(v,l,f){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");M(S,v,f,!0)}}e.optional=w}),define(ee[134],te([0,1,9,24,20]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=C.createDecorator("IWorkspaceEditService");function w(p){return k.isObject(p)&&(Boolean(p.newUri)||Boolean(p.oldUri))}function S(p){return k.isObject(p)&&M.URI.isUri(p.resource)&&k.isObject(p.edit)}class v{constructor(c){this.metadata=c}static convert(c){return c.edits.map(u=>{if(S(u))return new l(u.resource,u.edit,u.modelVersionId,u.metadata);if(w(u))return new f(u.oldUri,u.newUri,u.options,u.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=v;class l extends v{constructor(c,u,a,r){super(r);this.resource=c,this.textEdit=u,this.versionId=a,this.metadata=r}}e.ResourceTextEdit=l;class f extends v{constructor(c,u,a,r){super(r);this.oldResource=c,this.newResource=u,this.options=a,this.metadata=r}}e.ResourceFileEdit=f}),define(ee[28],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=C.createDecorator("codeEditorService")}),define(ee[75],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=C.createDecorator(e.ID_EDITOR_WORKER_SERVICE)}),define(ee[237],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=C.createDecorator("markerDecorationsService")}),define(ee[57],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModeService=void 0,e.IModeService=C.createDecorator("modeService")}),define(ee[36],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=C.createDecorator("modelService");function M(k){return!k.isTooLargeForSyncing()&&!k.isForSimpleWidget}e.shouldSynchronizeModel=M}),define(ee[135],te([0,1,6,89,2,51,100,370,36]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function f(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(f):!!u.exclusive}class p{constructor(){this._clock=0,this._entries=[],this._onDidChange=new C.Emitter}get onDidChange(){return this._onDidChange.event}register(a,r){let d={selector:a,provider:r,_score:-1,_time:this._clock++};return this._entries.push(d),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),k.toDisposable(()=>{if(d){let s=this._entries.indexOf(d);s>=0&&(this._entries.splice(s,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),d=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const r=[];for(let d of this._entries)d._score>0&&r.push(d.provider);return r}ordered(a){const r=[];return this._orderedForEach(a,d=>r.push(d.provider)),r}orderedGroups(a){const r=[];let d,s;return this._orderedForEach(a,i=>{d&&s===i._score?d.push(i.provider):(s=i._score,d=[i.provider],r.push(d))}),r}_orderedForEach(a,r){if(!!a){this._updateScores(a);for(const d of this._entries)d._score>0&&r(d)}}_updateScores(a){let r={uri:a.uri.toString(),language:a.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===r.language&&this._lastCandidate.uri===r.uri)){this._lastCandidate=r;for(let d of this._entries)if(d._score=v.score(d.selector,a.uri,a.getLanguageIdentifier().language,l.shouldSynchronizeModel(a)),f(d.selector)&&d._score>0){for(let s of this._entries)s._score=0;d._score=1e3;break}this._entries.sort(p._compareByScoreAndTime)}}static _compareByScoreAndTime(a,r){return a._score<r._score?1:a._score>r._score?-1:a._time<r._time?1:a._time>r._time?-1:0}}e.LanguageFeatureRegistry=p;class c{constructor(a,r,d=Number.MAX_SAFE_INTEGER){this._registry=a,this.min=r,this.max=d,this._cache=new w.LRUCache(50,.7)}_key(a){return a.id+M.hash(this._registry.all(a))}_clamp(a){return a===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(a*1.3)))}get(a){const r=this._key(a),d=this._cache.get(r);return this._clamp(d==null?void 0:d.value)}update(a,r){const d=this._key(a);let s=this._cache.get(d);return s||(s=new S.MovingAverage,this._cache.set(d,s)),s.update(r),this.get(a)}}e.LanguageFeatureRequestDelays=c}),define(ee[17],te([0,1,24,3,135,378,27]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlineHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.completionKindFromString=e.completionKindToCssClass=e.TokenMetadata=e.LanguageIdentifier=void 0;class v{constructor(d,s){this.language=d,this.id=s}}e.LanguageIdentifier=v;class l{static getLanguageId(d){return(d&255)>>>0}static getTokenType(d){return(d&1792)>>>8}static getFontStyle(d){return(d&14336)>>>11}static getForeground(d){return(d&8372224)>>>14}static getBackground(d){return(d&4286578688)>>>23}static getClassNameFromMetadata(d){let s=this.getForeground(d),i="mtk"+s,n=this.getFontStyle(d);return n&1&&(i+=" mtki"),n&2&&(i+=" mtkb"),n&4&&(i+=" mtku"),i}static getInlineStyleFromMetadata(d,s){const i=this.getForeground(d),n=this.getFontStyle(d);let t=`color: ${s[i]};`;return n&1&&(t+="font-style: italic;"),n&2&&(t+="font-weight: bold;"),n&4&&(t+="text-decoration: underline;"),t}}e.TokenMetadata=l,e.completionKindToCssClass=function(){let r=Object.create(null);return r[0]="symbol-method",r[1]="symbol-function",r[2]="symbol-constructor",r[3]="symbol-field",r[4]="symbol-variable",r[5]="symbol-class",r[6]="symbol-struct",r[7]="symbol-interface",r[8]="symbol-module",r[9]="symbol-property",r[10]="symbol-event",r[11]="symbol-operator",r[12]="symbol-unit",r[13]="symbol-value",r[14]="symbol-constant",r[15]="symbol-enum",r[16]="symbol-enum-member",r[17]="symbol-keyword",r[27]="symbol-snippet",r[18]="symbol-text",r[19]="symbol-color",r[20]="symbol-file",r[21]="symbol-reference",r[22]="symbol-customcolor",r[23]="symbol-folder",r[24]="symbol-type-parameter",r[25]="account",r[26]="issues",function(d){const s=r[d];let i=s&&S.iconRegistry.get(s);return i||(console.info("No codicon found for CompletionItemKind "+d),i=S.Codicon.symbolProperty),i.classNames}}(),e.completionKindFromString=function(){let r=Object.create(null);return r.method=0,r.function=1,r.constructor=2,r.field=3,r.variable=4,r.class=5,r.struct=6,r.interface=7,r.module=8,r.property=9,r.event=10,r.operator=11,r.unit=12,r.value=13,r.constant=14,r.enum=15,r["enum-member"]=16,r.enumMember=16,r.keyword=17,r.snippet=27,r.text=18,r.color=19,r.file=20,r.reference=21,r.customcolor=22,r.folder=23,r["type-parameter"]=24,r.typeParameter=24,r.account=25,r.issue=26,function(d,s){let i=r[d];return typeof i=="undefined"&&!s&&(i=9),i}}();var f;(function(r){r[r.Invoke=1]="Invoke",r[r.TriggerCharacter=2]="TriggerCharacter",r[r.ContentChange=3]="ContentChange"})(f=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var p;(function(r){r[r.Text=0]="Text",r[r.Read=1]="Read",r[r.Write=2]="Write"})(p=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function c(r){return r&&C.URI.isUri(r.uri)&&M.Range.isIRange(r.range)&&(M.Range.isIRange(r.originSelectionRange)||M.Range.isIRange(r.targetSelectionRange))}e.isLocationLink=c;var u;(function(r){const d=new Map;d.set("file",0),d.set("module",1),d.set("namespace",2),d.set("package",3),d.set("class",4),d.set("method",5),d.set("property",6),d.set("field",7),d.set("constructor",8),d.set("enum",9),d.set("interface",10),d.set("function",11),d.set("variable",12),d.set("constant",13),d.set("string",14),d.set("number",15),d.set("boolean",16),d.set("array",17),d.set("object",18),d.set("key",19),d.set("null",20),d.set("enum-member",21),d.set("struct",22),d.set("event",23),d.set("operator",24),d.set("type-parameter",25);const s=new Map;s.set(0,"file"),s.set(1,"module"),s.set(2,"namespace"),s.set(3,"package"),s.set(4,"class"),s.set(5,"method"),s.set(6,"property"),s.set(7,"field"),s.set(8,"constructor"),s.set(9,"enum"),s.set(10,"interface"),s.set(11,"function"),s.set(12,"variable"),s.set(13,"constant"),s.set(14,"string"),s.set(15,"number"),s.set(16,"boolean"),s.set(17,"array"),s.set(18,"object"),s.set(19,"key"),s.set(20,"null"),s.set(21,"enum-member"),s.set(22,"struct"),s.set(23,"event"),s.set(24,"operator"),s.set(25,"type-parameter");function i(o){return d.get(o)}r.fromString=i;function n(o){return s.get(o)}r.toString=n;function t(o,h){const _=s.get(o);let m=_&&S.iconRegistry.get("symbol-"+_);return m||(console.info("No codicon found for SymbolKind "+o),m=S.Codicon.symbolProperty),`${h?"inline":"block"} ${m.classNames}`}r.toCssClassName=t})(u=e.SymbolKinds||(e.SymbolKinds={}));class a{constructor(d){this.value=d}}e.FoldingRangeKind=a,a.Comment=new a("comment"),a.Imports=new a("imports"),a.Region=new a("region"),e.ReferenceProviderRegistry=new k.LanguageFeatureRegistry,e.RenameProviderRegistry=new k.LanguageFeatureRegistry,e.CompletionProviderRegistry=new k.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new k.LanguageFeatureRegistry,e.HoverProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new k.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new k.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new k.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new k.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new k.LanguageFeatureRegistry,e.InlineHintsProviderRegistry=new k.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new k.LanguageFeatureRegistry,e.LinkProviderRegistry=new k.LanguageFeatureRegistry,e.ColorProviderRegistry=new k.LanguageFeatureRegistry,e.SelectionRangeRegistry=new k.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new k.LanguageFeatureRegistry,e.TokenizationRegistry=new w.TokenizationRegistryImpl}),define(ee[112],te([0,1,17]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlicedLineTokens=e.LineTokens=void 0;class M{constructor(S,v){this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=v}equals(S){return S instanceof M?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,v,l){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const f=v<<1,p=f+(l<<1);for(let c=f;c<p;c++)if(this._tokens[c]!==S._tokens[c])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const v=this._tokens[(S<<1)+1];return C.TokenMetadata.getLanguageId(v)}getStandardTokenType(S){const v=this._tokens[(S<<1)+1];return C.TokenMetadata.getTokenType(v)}getForeground(S){const v=this._tokens[(S<<1)+1];return C.TokenMetadata.getForeground(v)}getClassName(S){const v=this._tokens[(S<<1)+1];return C.TokenMetadata.getClassNameFromMetadata(v)}getInlineStyle(S,v){const l=this._tokens[(S<<1)+1];return C.TokenMetadata.getInlineStyleFromMetadata(l,v)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return M.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,v,l){return new k(this,S,v,l)}static convertToEndOffset(S,v){const f=(S.length>>>1)-1;for(let p=0;p<f;p++)S[p<<1]=S[p+1<<1];S[f<<1]=v}static findIndexInTokensArray(S,v){if(S.length<=2)return 0;let l=0,f=(S.length>>>1)-1;for(;l<f;){const p=l+Math.floor((f-l)/2),c=S[p<<1];if(c===v)return p+1;c<v?l=p+1:c>v&&(f=p)}return l}}e.LineTokens=M;class k{constructor(S,v,l,f){this._source=S,this._startOffset=v,this._endOffset=l,this._deltaOffset=f,this._firstTokenIndex=S.findTokenIndexAtOffset(v),this._tokensCount=0;for(let p=this._firstTokenIndex,c=S.getCount();p<c&&!(S.getStartOffset(p)>=l);p++)this._tokensCount++}equals(S){return S instanceof k?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const v=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,v)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,v){return this._source.getInlineStyle(this._firstTokenIndex+S,v)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}e.SlicedLineTokens=k}),define(ee[136],te([0,1,19,112,13,3,17]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokensStore=e.TokensStore2=e.MultilineTokens=e.MultilineTokens2=e.LineTokens2=e.SparseEncodedTokens=e.MultilineTokensBuilder=e.countEOL=void 0;function v(n){let t=0,o=0,h=0,_=0;for(let m=0,g=n.length;m<g;m++){const b=n.charCodeAt(m);b===13?(t===0&&(o=m),t++,m+1<g&&n.charCodeAt(m+1)===10?(_|=2,m++):_|=3,h=m+1):b===10&&(_|=1,t===0&&(o=m),t++,h=m+1)}return t===0&&(o=n.length),[t,o,n.length-h,_]}e.countEOL=v;function l(n){return(n<<0|0<<8|0<<11|1<<14|2<<23)>>>0}const f=new Uint32Array(0).buffer;class p{constructor(){this.tokens=[]}add(t,o){if(this.tokens.length>0){const h=this.tokens[this.tokens.length-1];if(h.startLineNumber+h.tokens.length-1+1===t){h.tokens.push(o);return}}this.tokens.push(new r(t,[o]))}}e.MultilineTokensBuilder=p;class c{constructor(t){this._tokens=t,this._tokenCount=t.length/4}toString(t){let o=[];for(let h=0;h<this._tokenCount;h++)o.push(`(${this._getDeltaLine(h)+t},${this._getStartCharacter(h)}-${this._getEndCharacter(h)})`);return`[${o.join(",")}]`}getMaxDeltaLine(){const t=this._getTokenCount();return t===0?-1:this._getDeltaLine(t-1)}getRange(){const t=this._getTokenCount();if(t===0)return null;const o=this._getStartCharacter(0),h=this._getDeltaLine(t-1),_=this._getEndCharacter(t-1);return new w.Range(0,o+1,h,_+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(t){return this._tokens[4*t]}_getStartCharacter(t){return this._tokens[4*t+1]}_getEndCharacter(t){return this._tokens[4*t+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(t){let o=0,h=this._getTokenCount()-1;for(;o<h;){const _=o+Math.floor((h-o)/2),m=this._getDeltaLine(_);if(m<t)o=_+1;else if(m>t)h=_-1;else{let g=_;for(;g>o&&this._getDeltaLine(g-1)===t;)g--;let b=_;for(;b<h&&this._getDeltaLine(b+1)===t;)b++;return new u(this._tokens.subarray(4*g,4*b+4))}}return this._getDeltaLine(o)===t?new u(this._tokens.subarray(4*o,4*o+4)):null}clear(){this._tokenCount=0}removeTokens(t,o,h,_){const m=this._tokens,g=this._tokenCount;let b=0,y=!1,L=0;for(let D=0;D<g;D++){const N=4*D,I=m[N],T=m[N+1],O=m[N+2],A=m[N+3];if((I>t||I===t&&O>=o)&&(I<h||I===h&&T<=_))y=!0;else{if(b===0&&(L=I),y){const B=4*b;m[B]=I-L,m[B+1]=T,m[B+2]=O,m[B+3]=A}b++}}return this._tokenCount=b,L}split(t,o,h,_){const m=this._tokens,g=this._tokenCount;let b=[],y=[],L=b,D=0,N=0;for(let I=0;I<g;I++){const T=4*I,O=m[T],A=m[T+1],B=m[T+2],E=m[T+3];if(O>t||O===t&&B>=o){if(O<h||O===h&&A<=_)continue;L!==y&&(L=y,D=0,N=O)}L[D++]=O-N,L[D++]=A,L[D++]=B,L[D++]=E}return[new c(new Uint32Array(b)),new c(new Uint32Array(y)),N]}acceptDeleteRange(t,o,h,_,m){const g=this._tokens,b=this._tokenCount,y=_-o;let L=0,D=!1;for(let N=0;N<b;N++){const I=4*N;let T=g[I],O=g[I+1],A=g[I+2];const B=g[I+3];if(T<o||T===o&&A<=h){L++;continue}else if(T===o&&O<h)T===_&&A>m?A-=m-h:A=h;else if(T===o&&O===h)if(T===_&&A>m)A-=m-h;else{D=!0;continue}else if(T<_||T===_&&O<m)if(T===_&&A>m)T===o?(O=h,A=O+(A-m)):(O=0,A=O+(A-m));else{D=!0;continue}else if(T>_){if(y===0&&!D){L=b;break}T-=y}else if(T===_&&O>=m)t&&T===0&&(O+=t,A+=t),T-=y,O-=m-h,A-=m-h;else throw new Error("Not possible!");const E=4*L;g[E]=T,g[E+1]=O,g[E+2]=A,g[E+3]=B,L++}this._tokenCount=L}acceptInsertText(t,o,h,_,m,g){const b=h===0&&_===1&&(g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122),y=this._tokens,L=this._tokenCount;for(let D=0;D<L;D++){const N=4*D;let I=y[N],T=y[N+1],O=y[N+2];if(!(I<t||I===t&&O<o)){if(I===t&&O===o)if(b)O+=1;else continue;else if(I===t&&T<o&&o<O)h===0?O+=_:O=o;else{if(I===t&&T===o&&b)continue;if(I===t)if(I+=h,h===0)T+=_,O+=_;else{const A=O-T;T=m+(T-o),O=T+A}else I+=h}y[N]=I,y[N+1]=T,y[N+2]=O}}}}e.SparseEncodedTokens=c;class u{constructor(t){this._tokens=t}getCount(){return this._tokens.length/4}getStartCharacter(t){return this._tokens[4*t+1]}getEndCharacter(t){return this._tokens[4*t+2]}getMetadata(t){return this._tokens[4*t+3]}}e.LineTokens2=u;class a{constructor(t,o){this.startLineNumber=t,this.tokens=o,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(t){return this.startLineNumber<=t&&t<=this.endLineNumber?this.tokens.getLineTokens(t-this.startLineNumber):null}getRange(){const t=this.tokens.getRange();return t&&new w.Range(this.startLineNumber+t.startLineNumber,t.startColumn,this.startLineNumber+t.endLineNumber,t.endColumn)}removeTokens(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(o,t.startColumn-1,h,t.endColumn-1),this._updateEndLineNumber()}split(t){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber,[_,m,g]=this.tokens.split(o,t.startColumn-1,h,t.endColumn-1);return[new a(this.startLineNumber,_),new a(this.startLineNumber+g,m)]}applyEdit(t,o){const[h,_,m]=v(o);this.acceptEdit(t,h,_,m,o.length>0?o.charCodeAt(0):0)}acceptEdit(t,o,h,_,m){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h,_,m),this._updateEndLineNumber()}_acceptDeleteRange(t){if(!(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)){const o=t.startLineNumber-this.startLineNumber,h=t.endLineNumber-this.startLineNumber;if(h<0){const m=h-o;this.startLineNumber-=m;return}const _=this.tokens.getMaxDeltaLine();if(!(o>=_+1)){if(o<0&&h>=_+1){this.startLineNumber=0,this.tokens.clear();return}if(o<0){const m=-o;this.startLineNumber-=m,this.tokens.acceptDeleteRange(t.startColumn-1,0,0,h,t.endColumn-1)}else this.tokens.acceptDeleteRange(0,o,t.startColumn-1,h,t.endColumn-1)}}}_acceptInsertText(t,o,h,_,m){if(!(o===0&&h===0)){const g=t.lineNumber-this.startLineNumber;if(g<0){this.startLineNumber+=o;return}const b=this.tokens.getMaxDeltaLine();g>=b+1||this.tokens.acceptInsertText(g,t.column-1,o,h,_,m)}}}e.MultilineTokens2=a;class r{constructor(t,o){this.startLineNumber=t,this.tokens=o}}e.MultilineTokens=r;function d(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class s{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(t,o){this._pieces=t||[],this._isComplete=o}setPartial(t,o){let h=t;if(o.length>0){const m=o[0].getRange(),g=o[o.length-1].getRange();if(!m||!g)return t;h=t.plusRange(m).plusRange(g)}let _=null;for(let m=0,g=this._pieces.length;m<g;m++){const b=this._pieces[m];if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){_=_||{index:m};break}if(b.removeTokens(h),b.isEmpty()){this._pieces.splice(m,1),m--,g--;continue}if(!(b.endLineNumber<h.startLineNumber)){if(b.startLineNumber>h.endLineNumber){_=_||{index:m};continue}const[y,L]=b.split(h);if(y.isEmpty()){_=_||{index:m};continue}L.isEmpty()||(this._pieces.splice(m,1,y,L),m++,g++,_=_||{index:m})}}}return _=_||{index:this._pieces.length},o.length>0&&(this._pieces=C.arrayInsert(this._pieces,_.index,o)),h}isComplete(){return this._isComplete}addSemanticTokens(t,o){const h=this._pieces;if(h.length===0)return o;const _=s._findFirstPieceWithLine(h,t),m=h[_].getLineTokens(t);if(!m)return o;const g=o.getCount(),b=m.getCount();let y=0,L=[],D=0,N=0;const I=(T,O)=>{T!==N&&(N=T,L[D++]=T,L[D++]=O)};for(let T=0;T<b;T++){const O=m.getStartCharacter(T),A=m.getEndCharacter(T),B=m.getMetadata(T),E=((B&1?2048:0)|(B&2?4096:0)|(B&4?8192:0)|(B&8?8372224:0)|(B&16?4286578688:0))>>>0,W=~E>>>0;for(;y<g&&o.getEndOffset(y)<=O;)I(o.getEndOffset(y),o.getMetadata(y)),y++;for(y<g&&o.getStartOffset(y)<O&&I(O,o.getMetadata(y));y<g&&o.getEndOffset(y)<A;)I(o.getEndOffset(y),o.getMetadata(y)&W|B&E),y++;if(y<g)I(A,o.getMetadata(y)&W|B&E),o.getEndOffset(y)===A&&y++;else{const R=Math.min(Math.max(0,y-1),g-1);I(A,o.getMetadata(R)&W|B&E)}}for(;y<g;)I(o.getEndOffset(y),o.getMetadata(y)),y++;return new M.LineTokens(new Uint32Array(L),o.getLineContent())}static _findFirstPieceWithLine(t,o){let h=0,_=t.length-1;for(;h<_;){let m=h+Math.floor((_-h)/2);if(t[m].endLineNumber<o)h=m+1;else if(t[m].startLineNumber>o)_=m-1;else{for(;m>h&&t[m-1].startLineNumber<=o&&o<=t[m-1].endLineNumber;)m--;return m}}return h}acceptEdit(t,o,h,_,m){for(const g of this._pieces)g.acceptEdit(t,o,h,_,m)}}e.TokensStore2=s;class i{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(t,o,h){let _=null;if(o<this._len&&(_=this._lineTokens[o]),_!==null&&_!==f)return new M.LineTokens(d(_),h);let m=new Uint32Array(2);return m[0]=h.length,m[1]=l(t),new M.LineTokens(m,h)}static _massageTokens(t,o,h){const _=h?d(h):null;if(o===0){let m=!1;if(_&&_.length>1&&(m=S.TokenMetadata.getLanguageId(_[1])!==t),!m)return f}if(!_||_.length===0){const m=new Uint32Array(2);return m[0]=o,m[1]=l(t),m.buffer}return _[_.length-2]=o,_.byteOffset===0&&_.byteLength===_.buffer.byteLength?_.buffer:_}_ensureLine(t){for(;t>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(t,o){o!==0&&(t+o>this._len&&(o=this._len-t),this._lineTokens.splice(t,o),this._len-=o)}_insertLines(t,o){if(o!==0){let h=[];for(let _=0;_<o;_++)h[_]=null;this._lineTokens=C.arrayInsert(this._lineTokens,t,h),this._len+=o}}setTokens(t,o,h,_,m){const g=i._massageTokens(t,h,_);this._ensureLine(o);const b=this._lineTokens[o];return this._lineTokens[o]=g,m?!i._equals(b,g):!1}static _equals(t,o){if(!t||!o)return!t&&!o;const h=d(t),_=d(o);if(h.length!==_.length)return!1;for(let m=0,g=h.length;m<g;m++)if(h[m]!==_[m])return!1;return!0}acceptEdit(t,o,h){this._acceptDeleteRange(t),this._acceptInsertText(new k.Position(t.startLineNumber,t.startColumn),o,h)}_acceptDeleteRange(t){const o=t.startLineNumber-1;if(!(o>=this._len)){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._lineTokens[o]=i._delete(this._lineTokens[o],t.startColumn-1,t.endColumn-1);return}this._lineTokens[o]=i._deleteEnding(this._lineTokens[o],t.startColumn-1);const h=t.endLineNumber-1;let _=null;h<this._len&&(_=i._deleteBeginning(this._lineTokens[h],t.endColumn-1)),this._lineTokens[o]=i._append(this._lineTokens[o],_),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}}_acceptInsertText(t,o,h){if(!(o===0&&h===0)){const _=t.lineNumber-1;if(!(_>=this._len)){if(o===0){this._lineTokens[_]=i._insert(this._lineTokens[_],t.column-1,h);return}this._lineTokens[_]=i._deleteEnding(this._lineTokens[_],t.column-1),this._lineTokens[_]=i._insert(this._lineTokens[_],t.column-1,h),this._insertLines(t.lineNumber,o)}}}static _deleteBeginning(t,o){return t===null||t===f?t:i._delete(t,0,o)}static _deleteEnding(t,o){if(t===null||t===f)return t;const h=d(t),_=h[h.length-2];return i._delete(t,o,_)}static _delete(t,o,h){if(t===null||t===f||o===h)return t;const _=d(t),m=_.length>>>1;if(o===0&&_[_.length-2]===h)return f;const g=M.LineTokens.findIndexInTokensArray(_,o),b=g>0?_[g-1<<1]:0,y=_[g<<1];if(h<y){const T=h-o;for(let O=g;O<m;O++)_[O<<1]-=T;return t}let L,D;b!==o?(_[g<<1]=o,L=g+1<<1,D=o):(L=g<<1,D=b);const N=h-o;for(let T=g+1;T<m;T++){const O=_[T<<1]-N;O>D&&(_[L++]=O,_[L++]=_[(T<<1)+1],D=O)}if(L===_.length)return t;let I=new Uint32Array(L);return I.set(_.subarray(0,L),0),I.buffer}static _append(t,o){if(o===f)return t;if(t===f)return o;if(t===null)return t;if(o===null)return null;const h=d(t),_=d(o),m=_.length>>>1;let g=new Uint32Array(h.length+_.length);g.set(h,0);let b=h.length;const y=h[h.length-2];for(let L=0;L<m;L++)g[b++]=_[L<<1]+y,g[b++]=_[(L<<1)+1];return g.buffer}static _insert(t,o,h){if(t===null||t===f)return t;const _=d(t),m=_.length>>>1;let g=M.LineTokens.findIndexInTokensArray(_,o);g>0&&_[g-1<<1]===o&&g--;for(let b=g;b<m;b++)_[b<<1]+=h;return t}}e.TokensStore=i}),define(ee[238],te([0,1,6,8,3,53,217,136,216,2]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class p extends f.Disposable{constructor(u,a,r,d,s,i,n){super();this._onDidChangeContent=this._register(new C.Emitter),this._BOM=a,this._mightContainNonBasicASCII=!i,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=s,this._pieceTree=new S.PieceTreeBase(u,r,n)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(u){return this._pieceTree.createSnapshot(u?this._BOM:"")}getOffsetAt(u,a){return this._pieceTree.getOffsetAt(u,a)}getPositionAt(u){return this._pieceTree.getPositionAt(u)}getRangeAt(u,a){let r=u+a;const d=this.getPositionAt(u),s=this.getPositionAt(r);return new k.Range(d.lineNumber,d.column,s.lineNumber,s.column)}getValueInRange(u,a=0){if(u.isEmpty())return"";const r=this._getEndOfLine(a);return this._pieceTree.getValueInRange(u,r)}getValueLengthInRange(u,a=0){if(u.isEmpty())return 0;if(u.startLineNumber===u.endLineNumber)return u.endColumn-u.startColumn;let r=this.getOffsetAt(u.startLineNumber,u.startColumn);return this.getOffsetAt(u.endLineNumber,u.endColumn)-r}getCharacterCountInRange(u,a=0){if(this._mightContainNonBasicASCII){let r=0;const d=u.startLineNumber,s=u.endLineNumber;for(let i=d;i<=s;i++){const n=this.getLineContent(i),t=i===d?u.startColumn-1:0,o=i===s?u.endColumn-1:n.length;for(let h=t;h<o;h++)M.isHighSurrogate(n.charCodeAt(h))?(r=r+1,h=h+1):r=r+1}return r+=this._getEndOfLine(a).length*(s-d),r}return this.getValueLengthInRange(u,a)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(u){return this._pieceTree.getLineContent(u)}getLineCharCode(u,a){return this._pieceTree.getLineCharCode(u,a)}getLineLength(u){return this._pieceTree.getLineLength(u)}getLineFirstNonWhitespaceColumn(u){const a=M.firstNonWhitespaceIndex(this.getLineContent(u));return a===-1?0:a+1}getLineLastNonWhitespaceColumn(u){const a=M.lastNonWhitespaceIndex(this.getLineContent(u));return a===-1?0:a+2}_getEndOfLine(u){switch(u){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(u){this._pieceTree.setEOL(u)}applyEdits(u,a,r){let d=this._mightContainRTL,s=this._mightContainUnusualLineTerminators,i=this._mightContainNonBasicASCII,n=!0,t=[];for(let y=0;y<u.length;y++){let L=u[y];n&&L._isTracked&&(n=!1);let D=L.range;if(L.text){let A=!0;i||(A=!M.isBasicASCII(L.text),i=A),!d&&A&&(d=M.containsRTL(L.text)),!s&&A&&(s=M.containsUnusualLineTerminators(L.text))}let N="",I=0,T=0,O=0;if(L.text){let A;[I,T,O,A]=v.countEOL(L.text);const B=this.getEOL();A===0||A===(B===`\r
`?2:1)?N=L.text:N=L.text.replace(/\r\n|\r|\n/g,B)}t[y]={sortIndex:y,identifier:L.identifier||null,range:D,rangeOffset:this.getOffsetAt(D.startLineNumber,D.startColumn),rangeLength:this.getValueLengthInRange(D),text:N,eolCount:I,firstLineLength:T,lastLineLength:O,forceMoveMarkers:Boolean(L.forceMoveMarkers),isAutoWhitespaceEdit:L.isAutoWhitespaceEdit||!1}}t.sort(p._sortOpsAscending);let o=!1;for(let y=0,L=t.length-1;y<L;y++){let D=t[y].range.getEndPosition(),N=t[y+1].range.getStartPosition();if(N.isBeforeOrEqual(D)){if(N.isBefore(D))throw new Error("Overlapping ranges are not allowed!");o=!0}}n&&(t=this._reduceOperations(t));let h=r||a?p._getInverseEditRanges(t):[],_=[];if(a)for(let y=0;y<t.length;y++){let L=t[y],D=h[y];if(L.isAutoWhitespaceEdit&&L.range.isEmpty())for(let N=D.startLineNumber;N<=D.endLineNumber;N++){let I="";N===D.startLineNumber&&(I=this.getLineContent(L.range.startLineNumber),M.firstNonWhitespaceIndex(I)!==-1)||_.push({lineNumber:N,oldContent:I})}}let m=null;if(r){let y=0;m=[];for(let L=0;L<t.length;L++){const D=t[L],N=h[L],I=this.getValueInRange(D.range),T=D.rangeOffset+y;y+=D.text.length-I.length,m[L]={sortIndex:D.sortIndex,identifier:D.identifier,range:N,text:I,textChange:new l.TextChange(D.rangeOffset,I,T,D.text)}}o||m.sort((L,D)=>L.sortIndex-D.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=s,this._mightContainNonBasicASCII=i;const g=this._doApplyEdits(t);let b=null;if(a&&_.length>0){_.sort((y,L)=>L.lineNumber-y.lineNumber),b=[];for(let y=0,L=_.length;y<L;y++){let D=_[y].lineNumber;if(!(y>0&&_[y-1].lineNumber===D)){let N=_[y].oldContent,I=this.getLineContent(D);I.length===0||I===N||M.firstNonWhitespaceIndex(I)!==-1||b.push(D)}}}return this._onDidChangeContent.fire(),new w.ApplyEditsResult(m,g,b)}_reduceOperations(u){return u.length<1e3?u:[this._toSingleEditOperation(u)]}_toSingleEditOperation(u){let a=!1;const r=u[0].range,d=u[u.length-1].range,s=new k.Range(r.startLineNumber,r.startColumn,d.endLineNumber,d.endColumn);let i=r.startLineNumber,n=r.startColumn;const t=[];for(let g=0,b=u.length;g<b;g++){const y=u[g],L=y.range;a=a||y.forceMoveMarkers,t.push(this.getValueInRange(new k.Range(i,n,L.startLineNumber,L.startColumn))),y.text.length>0&&t.push(y.text),i=L.endLineNumber,n=L.endColumn}const o=t.join(""),[h,_,m]=v.countEOL(o);return{sortIndex:0,identifier:u[0].identifier,range:s,rangeOffset:this.getOffsetAt(s.startLineNumber,s.startColumn),rangeLength:this.getValueLengthInRange(s,0),text:o,eolCount:h,firstLineLength:_,lastLineLength:m,forceMoveMarkers:a,isAutoWhitespaceEdit:!1}}_doApplyEdits(u){u.sort(p._sortOpsDescending);let a=[];for(let r=0;r<u.length;r++){let d=u[r];const s=d.range.startLineNumber,i=d.range.startColumn,n=d.range.endLineNumber,t=d.range.endColumn;if(!(s===n&&i===t&&d.text.length===0)){d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const o=new k.Range(s,i,n,t);a.push({range:o,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}}return a}findMatchesLineByLine(u,a,r,d){return this._pieceTree.findMatchesLineByLine(u,a,r,d)}static _getInverseEditRanges(u){let a=[],r=0,d=0,s=null;for(let i=0,n=u.length;i<n;i++){let t=u[i],o,h;s?s.range.endLineNumber===t.range.startLineNumber?(o=r,h=d+(t.range.startColumn-s.range.endColumn)):(o=r+(t.range.startLineNumber-s.range.endLineNumber),h=t.range.startColumn):(o=t.range.startLineNumber,h=t.range.startColumn);let _;if(t.text.length>0){const m=t.eolCount+1;m===1?_=new k.Range(o,h,o,h+t.firstLineLength):_=new k.Range(o,h,o+m-1,t.lastLineLength+1)}else _=new k.Range(o,h,o,h);r=_.endLineNumber,d=_.endColumn,a.push(_),s=t}return a}static _sortOpsAscending(u,a){let r=k.Range.compareRangesUsingEnds(u.range,a.range);return r===0?u.sortIndex-a.sortIndex:r}static _sortOpsDescending(u,a){let r=k.Range.compareRangesUsingEnds(u.range,a.range);return r===0?a.sortIndex-u.sortIndex:-r}}e.PieceTreeTextBuffer=p}),define(ee[527],te([0,1,8,217,238]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class w{constructor(l,f,p,c,u,a,r,d,s){this._chunks=l,this._bom=f,this._cr=p,this._lf=c,this._crlf=u,this._containsRTL=a,this._containsUnusualLineTerminators=r,this._isBasicASCII=d,this._normalizeEOL=s}_getEOL(l){const f=this._cr+this._lf+this._crlf,p=this._cr+this._crlf;return f===0?l===1?`
`:`\r
`:p>f/2?`\r
`:`
`}create(l){const f=this._getEOL(l);let p=this._chunks;if(this._normalizeEOL&&(f===`\r
`&&(this._cr>0||this._lf>0)||f===`
`&&(this._cr>0||this._crlf>0)))for(let u=0,a=p.length;u<a;u++){let r=p[u].buffer.replace(/\r\n|\r|\n/g,f),d=M.createLineStartsFast(r);p[u]=new M.StringBuffer(r,d)}const c=new k.PieceTreeTextBuffer(p,this._bom,f,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:c,disposable:c}}}e.PieceTreeTextBufferFactory=w;class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(l){if(l.length!==0){this.chunks.length===0&&C.startsWithUTF8BOM(l)&&(this.BOM=C.UTF8_BOM_CHARACTER,l=l.substr(1));const f=l.charCodeAt(l.length-1);f===13||f>=55296&&f<=56319?(this._acceptChunk1(l.substr(0,l.length-1),!1),this._hasPreviousChar=!0,this._previousChar=f):(this._acceptChunk1(l,!1),this._hasPreviousChar=!1,this._previousChar=f)}}_acceptChunk1(l,f){!f&&l.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+l):this._acceptChunk2(l))}_acceptChunk2(l){const f=M.createLineStarts(this._tmpLineStarts,l);this.chunks.push(new M.StringBuffer(l,f.lineStarts)),this.cr+=f.cr,this.lf+=f.lf,this.crlf+=f.crlf,this.isBasicASCII&&(this.isBasicASCII=f.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=C.containsRTL(l)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=C.containsUnusualLineTerminators(l))}finish(l=!0){return this._finish(),new w(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,l)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let l=this.chunks[this.chunks.length-1];l.buffer+=String.fromCharCode(this._previousChar);let f=M.createLineStartsFast(l.buffer);l.lineStarts=f,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ee[76],te([0,1,128,17]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenize2=e.nullTokenize=e.NULL_LANGUAGE_IDENTIFIER=e.NULL_MODE_ID=e.NULL_STATE=void 0;class k{clone(){return this}equals(l){return this===l}}e.NULL_STATE=new k,e.NULL_MODE_ID="vs.editor.nullMode",e.NULL_LANGUAGE_IDENTIFIER=new M.LanguageIdentifier(e.NULL_MODE_ID,0);function w(v,l,f,p){return new C.TokenizationResult([new C.Token(p,"",v)],f)}e.nullTokenize=w;function S(v,l,f,p){let c=new Uint32Array(2);return c[0]=p,c[1]=(v<<0|0<<8|0<<11|1<<14|2<<23)>>>0,new C.TokenizationResult2(c,f===null?e.NULL_STATE:f)}e.nullTokenize2=S}),define(ee[528],te([0,1,19,11,112,13,17,76,2,81,136,16]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class u{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(i){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,i&&this._setBeginState(0,i)}flush(i){this._reset(i)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(i){i<this._len&&(this._valid[i]=!1),i<this._invalidLineStartIndex&&(this._invalidLineStartIndex=i)}_isValid(i){return i<this._len?this._valid[i]:!1}getBeginState(i){return i<this._len?this._beginState[i]:null}_ensureLine(i){for(;i>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(i,n){n!==0&&(i+n>this._len&&(n=this._len-i),this._beginState.splice(i,n),this._valid.splice(i,n),this._len-=n)}_insertLines(i,n){if(n!==0){let t=[],o=[];for(let h=0;h<n;h++)t[h]=null,o[h]=!1;this._beginState=C.arrayInsert(this._beginState,i,t),this._valid=C.arrayInsert(this._valid,i,o),this._len+=n}}_setValid(i,n){this._ensureLine(i),this._valid[i]=n}_setBeginState(i,n){this._ensureLine(i),this._beginState[i]=n}setEndState(i,n,t){if(this._setValid(n,!0),this._invalidLineStartIndex=n+1,n!==i-1){const o=this.getBeginState(n+1);if(o===null||!t.equals(o)){this._setBeginState(n+1,t),this._invalidateLine(n+1);return}let h=n+1;for(;h<i&&this._isValid(h);)h++;this._invalidLineStartIndex=h}}setFakeTokens(i){this._setValid(i,!1)}applyEdits(i,n){const t=i.endLineNumber-i.startLineNumber,h=Math.min(t,n);for(let _=h;_>=0;_--)this._invalidateLine(i.startLineNumber+_-1);this._acceptDeleteRange(i),this._acceptInsertText(new w.Position(i.startLineNumber,i.startColumn),n)}_acceptDeleteRange(i){i.startLineNumber-1>=this._len||this._deleteLines(i.startLineNumber,i.endLineNumber-i.startLineNumber)}_acceptInsertText(i,n){i.lineNumber-1>=this._len||this._insertLines(i.lineNumber,n)}}e.TokenizationStateStore=u;class a extends l.Disposable{constructor(i){super();this._isDisposed=!1,this._textModel=i,this._tokenizationStateStore=new u,this._tokenizationSupport=null,this._register(S.TokenizationRegistry.onDidChange(n=>{const t=this._textModel.getLanguageIdentifier();n.changedLanguages.indexOf(t.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(n=>{if(n.containsEvent(1)){this._resetTokenizationState();return}})),this._register(this._textModel.onDidChangeContentFast(n=>{for(let t=0,o=n.changes.length;t<o;t++){const h=n.changes[t],[_]=p.countEOL(h.text);this._tokenizationStateStore.applyEdits(h.range,_)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[i,n]=r(this._textModel);this._tokenizationSupport=i,this._tokenizationStateStore.flush(n),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&c.setImmediate(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(i=this._textModel.getLineCount()){const n=1,t=new p.MultilineTokensBuilder,o=f.StopWatch.create(!1);for(;this._hasLinesToTokenize()&&!(o.elapsed()>n||this._tokenizeOneInvalidLine(t)>=i););this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(i,n){const t=new p.MultilineTokensBuilder;this._tokenizeViewport(t,i,n),this._textModel.setTokens(t.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(i){const n=new p.MultilineTokensBuilder;this._updateTokensUntilLine(n,i),this._textModel.setTokens(n.tokens)}isCheapToTokenize(i){if(!this._tokenizationSupport)return!0;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return i>n?!1:i<n||this._textModel.getLineLength(i)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(i){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const n=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(i,n),n}_updateTokensUntilLine(i,n){if(!!this._tokenizationSupport){const t=this._textModel.getLanguageIdentifier(),o=this._textModel.getLineCount(),h=n-1;for(let _=this._tokenizationStateStore.invalidLineStartIndex;_<=h;_++){const m=this._textModel.getLineContent(_+1),g=this._tokenizationStateStore.getBeginState(_),b=d(t,this._tokenizationSupport,m,!0,g);i.add(_+1,b.tokens),this._tokenizationStateStore.setEndState(o,_,b.endState),_=this._tokenizationStateStore.invalidLineStartIndex-1}}}_tokenizeViewport(i,n,t){if(!!this._tokenizationSupport&&!(t<=this._tokenizationStateStore.invalidLineStartIndex)){if(n<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(i,t);return}let o=this._textModel.getLineFirstNonWhitespaceColumn(n),h=[],_=null;for(let b=n-1;o>0&&b>=1;b--){let y=this._textModel.getLineFirstNonWhitespaceColumn(b);if(y!==0&&y<o){if(_=this._tokenizationStateStore.getBeginState(b-1),_)break;h.push(this._textModel.getLineContent(b)),o=y}}_||(_=this._tokenizationSupport.getInitialState());const m=this._textModel.getLanguageIdentifier();let g=_;for(let b=h.length-1;b>=0;b--)g=d(m,this._tokenizationSupport,h[b],!1,g).endState;for(let b=n;b<=t;b++){let y=this._textModel.getLineContent(b),L=d(m,this._tokenizationSupport,y,!0,g);i.add(b,L.tokens),this._tokenizationStateStore.setFakeTokens(b-1),g=L.endState}}}}e.TextModelTokenization=a;function r(s){const i=s.getLanguageIdentifier();let n=s.isTooLargeForTokenization()?null:S.TokenizationRegistry.get(i.language),t=null;if(n)try{t=n.getInitialState()}catch(o){M.onUnexpectedError(o),n=null}return[n,t]}function d(s,i,n,t,o){let h=null;if(i)try{h=i.tokenize2(n,t,o.clone(),0)}catch(_){M.onUnexpectedError(_)}return h||(h=v.nullTokenize2(s.id,n,o,0)),k.LineTokens.convertToEndOffset(h.tokens,n.length),h}}),define(ee[31],te([0,1,11,6,2,8,24,38,13,3,21,53,234,365,366,527,368,165,528,129,41,76,166,167,136,29,238]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function L(){return new d.PieceTreeTextBufferBuilder}function D(U){const P=L();return P.acceptChunk(U),P.finish()}e.createTextBufferFactory=D;function N(U,P){return(typeof U=="string"?D(U):U).create(P)}e.createTextBuffer=N;let I=0;const T=999;e.LONG_LINE_BOUNDARY=1e4;class O{constructor(P){this._source=P,this._eos=!1}read(){if(this._eos)return null;let P=[],x=0,H=0;do{let z=this._source.read();if(z===null)return this._eos=!0,x===0?null:P.join("");if(z.length>0&&(P[x++]=z,H+=z.length),H>=64*1024)return P.join("")}while(!0)}}const A=()=>{throw new Error("Invalid change accessor")};class B{constructor(){this._searchCanceledBrand=void 0}}B.INSTANCE=new B;function E(U){return U instanceof B?null:U}class W extends k.Disposable{constructor(P,x,H,z=null,q){super();this._onWillDispose=this._register(new M.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ae),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new M.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new M.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new M.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new M.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new M.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new X),I++,this.id="$model"+I,this.isForSimpleWidget=x.isForSimpleWidget,typeof z=="undefined"||z===null?this._associatedResource=S.URI.parse("inmemory://model/"+I):this._associatedResource=z,this._undoRedoService=q,this._attachedEditorCount=0;const{textBuffer:Q,disposable:ce}=N(P,x.defaultEOL);this._buffer=Q,this._bufferDisposable=ce,this._options=W.resolveOptions(this._buffer,x);const ue=this._buffer.getLineCount(),Y=this._buffer.getValueLengthInRange(new f.Range(1,1,ue,this._buffer.getLineLength(ue)+1),0);x.largeFileOptimizations?this._isTooLargeForTokenization=Y>W.LARGE_FILE_SIZE_THRESHOLD||ue>W.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Y>W.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=H||h.NULL_LANGUAGE_IDENTIFIER,this._languageRegistryListener=o.LanguageConfigurationRegistry.onDidChange(j=>{j.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=w.singleLetterHash(I),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new R,this._commandManager=new u.EditStack(this,q),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new g.TokensStore,this._tokens2=new g.TokensStore2,this._tokenization=new n.TextModelTokenization(this)}static resolveOptions(P,x){if(x.detectIndentation){const H=a.guessIndentation(P,x.tabSize,x.insertSpaces);return new c.TextModelResolvedOptions({tabSize:H.tabSize,indentSize:H.tabSize,insertSpaces:H.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}return new c.TextModelResolvedOptions({tabSize:x.tabSize,indentSize:x.indentSize,insertSpaces:x.insertSpaces,trimAutoWhitespace:x.trimAutoWhitespace,defaultEOL:x.defaultEOL})}onDidChangeRawContentFast(P){return this._eventEmitter.fastEvent(x=>P(x.rawContentChangedEvent))}onDidChangeContentFast(P){return this._eventEmitter.fastEvent(x=>P(x.contentChangedEvent))}onDidChangeContent(P){return this._eventEmitter.slowEvent(x=>P(x.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const P=new y.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);P.dispose(),this._buffer=P}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(P,x){this._isDisposing||this._eventEmitter.fire(new s.InternalModelContentChangeEvent(P,x))}setValue(P){if(this._assertNotDisposed(),P!==null){const{textBuffer:x,disposable:H}=N(P,this._options.defaultEOL);this._setValueFromTextBuffer(x,H)}}_createContentChanged2(P,x,H,z,q,Q,ce){return{changes:[{range:P,rangeOffset:x,rangeLength:H,text:z}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:q,isRedoing:Q,isFlush:ce}}_setValueFromTextBuffer(P,x){this._assertNotDisposed();const H=this.getFullModelRange(),z=this.getValueLengthInRange(H),q=this.getLineCount(),Q=this.getLineMaxColumn(q);this._buffer=P,this._bufferDisposable.dispose(),this._bufferDisposable=x,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new R,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new f.Range(1,1,q,Q),0,z,this.getValue(),!1,!1,!0))}setEOL(P){this._assertNotDisposed();const x=P===1?`\r
`:`
`;if(this._buffer.getEOL()!==x){const H=this.getFullModelRange(),z=this.getValueLengthInRange(H),q=this.getLineCount(),Q=this.getLineMaxColumn(q);this._onBeforeEOLChange(),this._buffer.setEOL(x),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new s.ModelRawContentChangedEvent([new s.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new f.Range(1,1,q,Q),0,z,this.getValue(),!1,!1,!1))}}_onBeforeEOLChange(){const P=this.getVersionId(),x=this._decorationsTree.search(0,!1,!1,P);this._ensureNodesHaveRanges(x)}_onAfterEOLChange(){const P=this.getVersionId(),x=this._decorationsTree.collectNodesPostOrder();for(let H=0,z=x.length;H<z;H++){const q=x[H],Q=q.cachedAbsoluteStart-q.start,ce=this._buffer.getOffsetAt(q.range.startLineNumber,q.range.startColumn),ue=this._buffer.getOffsetAt(q.range.endLineNumber,q.range.endColumn);q.cachedAbsoluteStart=ce,q.cachedAbsoluteEnd=ue,q.cachedVersionId=P,q.start=ce-Q,q.end=ue-Q,r.recomputeMaxEnd(q)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let P=0,x=0;const H=this._buffer.getLineCount();for(let z=1;z<=H;z++){const q=this._buffer.getLineLength(z);q>=e.LONG_LINE_BOUNDARY?x+=q:P+=q}return x>P}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(P){this._assertNotDisposed();let x=typeof P.tabSize!="undefined"?P.tabSize:this._options.tabSize,H=typeof P.indentSize!="undefined"?P.indentSize:this._options.indentSize,z=typeof P.insertSpaces!="undefined"?P.insertSpaces:this._options.insertSpaces,q=typeof P.trimAutoWhitespace!="undefined"?P.trimAutoWhitespace:this._options.trimAutoWhitespace,Q=new c.TextModelResolvedOptions({tabSize:x,indentSize:H,insertSpaces:z,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:q});if(!this._options.equals(Q)){let ce=this._options.createChangeEvent(Q);this._options=Q,this._onDidChangeOptions.fire(ce)}}detectIndentation(P,x){this._assertNotDisposed();let H=a.guessIndentation(this._buffer,x,P);this.updateOptions({insertSpaces:H.insertSpaces,tabSize:H.tabSize,indentSize:H.tabSize})}static _normalizeIndentationFromWhitespace(P,x,H){let z=0;for(let Q=0;Q<P.length;Q++)P.charAt(Q)==="	"?z+=x:z++;let q="";if(!H){let Q=Math.floor(z/x);z=z%x;for(let ce=0;ce<Q;ce++)q+="	"}for(let Q=0;Q<z;Q++)q+=" ";return q}static normalizeIndentation(P,x,H){let z=w.firstNonWhitespaceIndex(P);return z===-1&&(z=P.length),W._normalizeIndentationFromWhitespace(P.substring(0,z),x,H)+P.substring(z)}normalizeIndentation(P){return this._assertNotDisposed(),W.normalizeIndentation(P,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(P=null){const x=this.findMatches(w.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(P,x.map(H=>({range:H.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(P){this._assertNotDisposed();let x=this._validatePosition(P.lineNumber,P.column,0);return this._buffer.getOffsetAt(x.lineNumber,x.column)}getPositionAt(P){this._assertNotDisposed();let x=Math.min(this._buffer.getLength(),Math.max(0,P));return this._buffer.getPositionAt(x)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(P){this._versionId=P}_overwriteAlternativeVersionId(P){this._alternativeVersionId=P}_overwriteInitialUndoRedoSnapshot(P){this._initialUndoRedoSnapshot=P}getValue(P,x=!1){this._assertNotDisposed();const H=this.getFullModelRange(),z=this.getValueInRange(H,P);return x?this._buffer.getBOM()+z:z}createSnapshot(P=!1){return new O(this._buffer.createSnapshot(P))}getValueLength(P,x=!1){this._assertNotDisposed();const H=this.getFullModelRange(),z=this.getValueLengthInRange(H,P);return x?this._buffer.getBOM().length+z:z}getValueInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(P),x)}getValueLengthInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(P),x)}getCharacterCountInRange(P,x=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(P),x)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(P)}getLineLength(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(P){return this._assertNotDisposed(),1}getLineMaxColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(P)+1}getLineFirstNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(P)}getLineLastNonWhitespaceColumn(P){if(this._assertNotDisposed(),P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(P)}_validateRangeRelaxedNoAllocations(P){const x=this._buffer.getLineCount(),H=P.startLineNumber,z=P.startColumn;let q,Q;if(H<1)q=1,Q=1;else if(H>x)q=x,Q=this.getLineMaxColumn(q);else if(q=H|0,z<=1)Q=1;else{const ne=this.getLineMaxColumn(q);z>=ne?Q=ne:Q=z|0}const ce=P.endLineNumber,ue=P.endColumn;let Y,j;if(ce<1)Y=1,j=1;else if(ce>x)Y=x,j=this.getLineMaxColumn(Y);else if(Y=ce|0,ue<=1)j=1;else{const ne=this.getLineMaxColumn(Y);ue>=ne?j=ne:j=ue|0}return H===q&&z===Q&&ce===Y&&ue===j&&P instanceof f.Range&&!(P instanceof p.Selection)?P:new f.Range(q,Q,Y,j)}_isValidPosition(P,x,H){if(typeof P!="number"||typeof x!="number"||isNaN(P)||isNaN(x)||P<1||x<1||(P|0)!==P||(x|0)!==x)return!1;const z=this._buffer.getLineCount();if(P>z)return!1;if(x===1)return!0;const q=this.getLineMaxColumn(P);if(x>q)return!1;if(H===1){const Q=this._buffer.getLineCharCode(P,x-2);if(w.isHighSurrogate(Q))return!1}return!0}_validatePosition(P,x,H){const z=Math.floor(typeof P=="number"&&!isNaN(P)?P:1),q=Math.floor(typeof x=="number"&&!isNaN(x)?x:1),Q=this._buffer.getLineCount();if(z<1)return new l.Position(1,1);if(z>Q)return new l.Position(Q,this.getLineMaxColumn(Q));if(q<=1)return new l.Position(z,1);const ce=this.getLineMaxColumn(z);if(q>=ce)return new l.Position(z,ce);if(H===1){const ue=this._buffer.getLineCharCode(z,q-2);if(w.isHighSurrogate(ue))return new l.Position(z,q-1)}return new l.Position(z,q)}validatePosition(P){const x=1;return this._assertNotDisposed(),P instanceof l.Position&&this._isValidPosition(P.lineNumber,P.column,x)?P:this._validatePosition(P.lineNumber,P.column,x)}_isValidRange(P,x){const H=P.startLineNumber,z=P.startColumn,q=P.endLineNumber,Q=P.endColumn;if(!this._isValidPosition(H,z,0)||!this._isValidPosition(q,Q,0))return!1;if(x===1){const ce=z>1?this._buffer.getLineCharCode(H,z-2):0,ue=Q>1&&Q<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,Q-2):0,Y=w.isHighSurrogate(ce),j=w.isHighSurrogate(ue);return!Y&&!j}return!0}validateRange(P){const x=1;if(this._assertNotDisposed(),P instanceof f.Range&&!(P instanceof p.Selection)&&this._isValidRange(P,x))return P;const H=this._validatePosition(P.startLineNumber,P.startColumn,0),z=this._validatePosition(P.endLineNumber,P.endColumn,0),q=H.lineNumber,Q=H.column,ce=z.lineNumber,ue=z.column;if(x===1){const Y=Q>1?this._buffer.getLineCharCode(q,Q-2):0,j=ue>1&&ue<=this._buffer.getLineLength(ce)?this._buffer.getLineCharCode(ce,ue-2):0,ne=w.isHighSurrogate(Y),Z=w.isHighSurrogate(j);return!ne&&!Z?new f.Range(q,Q,ce,ue):q===ce&&Q===ue?new f.Range(q,Q-1,ce,ue-1):ne&&Z?new f.Range(q,Q-1,ce,ue+1):ne?new f.Range(q,Q-1,ce,ue):new f.Range(q,Q,ce,ue+1)}return new f.Range(q,Q,ce,ue)}modifyPosition(P,x){this._assertNotDisposed();let H=this.getOffsetAt(P)+x;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,H)))}getFullModelRange(){this._assertNotDisposed();const P=this.getLineCount();return new f.Range(1,1,P,this.getLineMaxColumn(P))}findMatchesLineByLine(P,x,H,z){return this._buffer.findMatchesLineByLine(P,x,H,z)}findMatches(P,x,H,z,q,Q,ce=T){this._assertNotDisposed();let ue=null;x!==null&&(Array.isArray(x)||(x=[x]),x.every(ne=>f.Range.isIRange(ne))&&(ue=x.map(ne=>this.validateRange(ne)))),ue===null&&(ue=[this.getFullModelRange()]),ue=ue.sort((ne,Z)=>ne.startLineNumber-Z.startLineNumber||ne.startColumn-Z.startColumn);const Y=[];Y.push(ue.reduce((ne,Z)=>f.Range.areIntersecting(ne,Z)?ne.plusRange(Z):(Y.push(ne),Z)));let j;if(!H&&P.indexOf(`
`)<0){const Z=new i.SearchParams(P,H,z,q).parseSearchRequest();if(!Z)return[];j=le=>this.findMatchesLineByLine(le,Z,Q,ce)}else j=ne=>i.TextModelSearch.findMatches(this,new i.SearchParams(P,H,z,q),ne,Q,ce);return Y.map(j).reduce((ne,Z)=>ne.concat(Z),[])}findNextMatch(P,x,H,z,q,Q){this._assertNotDisposed();const ce=this.validatePosition(x);if(!H&&P.indexOf(`
`)<0){const Y=new i.SearchParams(P,H,z,q).parseSearchRequest();if(!Y)return null;const j=this.getLineCount();let ne=new f.Range(ce.lineNumber,ce.column,j,this.getLineMaxColumn(j)),Z=this.findMatchesLineByLine(ne,Y,Q,1);return i.TextModelSearch.findNextMatch(this,new i.SearchParams(P,H,z,q),ce,Q),Z.length>0||(ne=new f.Range(1,1,ce.lineNumber,this.getLineMaxColumn(ce.lineNumber)),Z=this.findMatchesLineByLine(ne,Y,Q,1),Z.length>0)?Z[0]:null}return i.TextModelSearch.findNextMatch(this,new i.SearchParams(P,H,z,q),ce,Q)}findPreviousMatch(P,x,H,z,q,Q){this._assertNotDisposed();const ce=this.validatePosition(x);return i.TextModelSearch.findPreviousMatch(this,new i.SearchParams(P,H,z,q),ce,Q)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(P){if((this.getEOL()===`
`?0:1)!==P)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(P)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(P){return P instanceof c.ValidAnnotatedEditOperation?P:new c.ValidAnnotatedEditOperation(P.identifier||null,this.validateRange(P.range),P.text,P.forceMoveMarkers||!1,P.isAutoWhitespaceEdit||!1,P._isTracked||!1)}_validateEditOperations(P){const x=[];for(let H=0,z=P.length;H<z;H++)x[H]=this._validateEditOperation(P[H]);return x}pushEditOperations(P,x,H){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(P,this._validateEditOperations(x),H)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(P,x,H){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let z=x.map(Q=>({range:this.validateRange(Q.range),text:Q.text})),q=!0;if(P)for(let Q=0,ce=P.length;Q<ce;Q++){let ue=P[Q],Y=!1;for(let j=0,ne=z.length;j<ne;j++){let Z=z[j].range,le=Z.startLineNumber>ue.endLineNumber,he=ue.startLineNumber>Z.endLineNumber;if(!le&&!he){Y=!0;break}}if(!Y){q=!1;break}}if(q)for(let Q=0,ce=this._trimAutoWhitespaceLines.length;Q<ce;Q++){let ue=this._trimAutoWhitespaceLines[Q],Y=this.getLineMaxColumn(ue),j=!0;for(let ne=0,Z=z.length;ne<Z;ne++){let le=z[ne].range,he=z[ne].text;if(!(ue<le.startLineNumber||ue>le.endLineNumber)&&!(ue===le.startLineNumber&&le.startColumn===Y&&le.isEmpty()&&he&&he.length>0&&he.charAt(0)===`
`)&&!(ue===le.startLineNumber&&le.startColumn===1&&le.isEmpty()&&he&&he.length>0&&he.charAt(he.length-1)===`
`)){j=!1;break}}if(j){const ne=new f.Range(ue,1,ue,Y);x.push(new c.ValidAnnotatedEditOperation(null,ne,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(P,x,H)}_applyUndo(P,x,H,z){const q=P.map(Q=>{const ce=this.getPositionAt(Q.newPosition),ue=this.getPositionAt(Q.newEnd);return{range:new f.Range(ce.lineNumber,ce.column,ue.lineNumber,ue.column),text:Q.oldText}});this._applyUndoRedoEdits(q,x,!0,!1,H,z)}_applyRedo(P,x,H,z){const q=P.map(Q=>{const ce=this.getPositionAt(Q.oldPosition),ue=this.getPositionAt(Q.oldEnd);return{range:new f.Range(ce.lineNumber,ce.column,ue.lineNumber,ue.column),text:Q.newText}});this._applyUndoRedoEdits(q,x,!1,!0,H,z)}_applyUndoRedoEdits(P,x,H,z,q,Q){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=H,this._isRedoing=z,this.applyEdits(P,!1),this.setEOL(x),this._overwriteAlternativeVersionId(q)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Q),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(P,x=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const H=this._validateEditOperations(P);return this._doApplyEdits(H,x)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(P,x){const H=this._buffer.getLineCount(),z=this._buffer.applyEdits(P,this._options.trimAutoWhitespace,x),q=this._buffer.getLineCount(),Q=z.changes;if(this._trimAutoWhitespaceLines=z.trimAutoWhitespaceLineNumbers,Q.length!==0){let ce=[],ue=H;for(let Y=0,j=Q.length;Y<j;Y++){const ne=Q[Y],[Z,le,he]=g.countEOL(ne.text);this._tokens.acceptEdit(ne.range,Z,le),this._tokens2.acceptEdit(ne.range,Z,le,he,ne.text.length>0?ne.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(ne.rangeOffset,ne.rangeLength,ne.text.length,ne.forceMoveMarkers);const re=ne.range.startLineNumber,de=ne.range.endLineNumber,me=de-re,ve=Z,Ce=Math.min(me,ve),Ee=ve-me;for(let De=Ce;De>=0;De--){const Pe=re+De,Ne=q-ue-Ee+Pe;ce.push(new s.ModelRawLineChanged(Pe,this.getLineContent(Ne)))}if(Ce<me){const De=re+Ce;ce.push(new s.ModelRawLinesDeleted(De+1,de))}if(Ce<ve){const De=re+Ce,Pe=ve-Ce,Ne=q-ue-Pe+De+1;let Ae=[];for(let Oe=0;Oe<Pe;Oe++){let Re=Ne+Oe;Ae[Re-Ne]=this.getLineContent(Re)}ce.push(new s.ModelRawLinesInserted(De+1,re+ve,Ae))}ue+=Ee}this._increaseVersionId(),this._emitContentChangedEvent(new s.ModelRawContentChangedEvent(ce,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Q,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return z.reverseEdits===null?void 0:z.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(P,x=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(x,P)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(P,x){let H={addDecoration:(q,Q)=>this._deltaDecorationsImpl(P,[],[{range:q,options:Q}])[0],changeDecoration:(q,Q)=>{this._changeDecorationImpl(q,Q)},changeDecorationOptions:(q,Q)=>{this._changeDecorationOptionsImpl(q,ie(Q))},removeDecoration:q=>{this._deltaDecorationsImpl(P,[q],[])},deltaDecorations:(q,Q)=>q.length===0&&Q.length===0?[]:this._deltaDecorationsImpl(P,q,Q)},z=null;try{z=x(H)}catch(q){C.onUnexpectedError(q)}return H.addDecoration=A,H.changeDecoration=A,H.changeDecorationOptions=A,H.removeDecoration=A,H.deltaDecorations=A,z}deltaDecorations(P,x,H=0){if(this._assertNotDisposed(),P||(P=[]),P.length===0&&x.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(H,P,x)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(P){return this.getDecorationRange(P)}_setTrackedRange(P,x,H){const z=P?this._decorations[P]:null;if(!z)return x?this._deltaDecorationsImpl(0,[],[{range:x,options:se[H]}])[0]:null;if(!x)return this._decorationsTree.delete(z),delete this._decorations[z.id],null;const q=this._validateRangeRelaxedNoAllocations(x),Q=this._buffer.getOffsetAt(q.startLineNumber,q.startColumn),ce=this._buffer.getOffsetAt(q.endLineNumber,q.endColumn);return this._decorationsTree.delete(z),z.reset(this.getVersionId(),Q,ce,q),z.setOptions(se[H]),this._decorationsTree.insert(z),z.id}removeAllDecorationsWithOwnerId(P){if(!this._isDisposed){const x=this._decorationsTree.collectNodesFromOwner(P);for(let H=0,z=x.length;H<z;H++){const q=x[H];this._decorationsTree.delete(q),delete this._decorations[q.id]}}}getDecorationOptions(P){const x=this._decorations[P];return x?x.options:null}getDecorationRange(P){const x=this._decorations[P];if(!x)return null;const H=this.getVersionId();return x.cachedVersionId!==H&&this._decorationsTree.resolveNode(x,H),x.range===null&&(x.range=this._getRangeAt(x.cachedAbsoluteStart,x.cachedAbsoluteEnd)),x.range}getLineDecorations(P,x=0,H=!1){return P<1||P>this.getLineCount()?[]:this.getLinesDecorations(P,P,x,H)}getLinesDecorations(P,x,H=0,z=!1){let q=this.getLineCount(),Q=Math.min(q,Math.max(1,P)),ce=Math.min(q,Math.max(1,x)),ue=this.getLineMaxColumn(ce);return this._getDecorationsInRange(new f.Range(Q,1,ce,ue),H,z)}getDecorationsInRange(P,x=0,H=!1){let z=this.validateRange(P);return this._getDecorationsInRange(z,x,H)}getOverviewRulerDecorations(P=0,x=!1){const H=this.getVersionId(),z=this._decorationsTree.search(P,x,!0,H);return this._ensureNodesHaveRanges(z)}getAllDecorations(P=0,x=!1){const H=this.getVersionId(),z=this._decorationsTree.search(P,x,!1,H);return this._ensureNodesHaveRanges(z)}_getDecorationsInRange(P,x,H){const z=this._buffer.getOffsetAt(P.startLineNumber,P.startColumn),q=this._buffer.getOffsetAt(P.endLineNumber,P.endColumn),Q=this.getVersionId(),ce=this._decorationsTree.intervalSearch(z,q,x,H,Q);return this._ensureNodesHaveRanges(ce)}_ensureNodesHaveRanges(P){for(let x=0,H=P.length;x<H;x++){const z=P[x];z.range===null&&(z.range=this._getRangeAt(z.cachedAbsoluteStart,z.cachedAbsoluteEnd))}return P}_getRangeAt(P,x){return this._buffer.getRangeAt(P,x-P)}_changeDecorationImpl(P,x){const H=this._decorations[P];if(!!H){const z=this._validateRangeRelaxedNoAllocations(x),q=this._buffer.getOffsetAt(z.startLineNumber,z.startColumn),Q=this._buffer.getOffsetAt(z.endLineNumber,z.endColumn);this._decorationsTree.delete(H),H.reset(this.getVersionId(),q,Q,z),this._decorationsTree.insert(H),this._onDidChangeDecorations.checkAffectedAndFire(H.options)}}_changeDecorationOptionsImpl(P,x){const H=this._decorations[P];if(!!H){const z=!!(H.options.overviewRuler&&H.options.overviewRuler.color),q=!!(x.overviewRuler&&x.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(H.options),this._onDidChangeDecorations.checkAffectedAndFire(x),z!==q?(this._decorationsTree.delete(H),H.setOptions(x),this._decorationsTree.insert(H)):H.setOptions(x)}}_deltaDecorationsImpl(P,x,H){const z=this.getVersionId(),q=x.length;let Q=0;const ce=H.length;let ue=0,Y=new Array(ce);for(;Q<q||ue<ce;){let j=null;if(Q<q){do j=this._decorations[x[Q++]];while(!j&&Q<q);j&&(this._decorationsTree.delete(j),this._onDidChangeDecorations.checkAffectedAndFire(j.options))}if(ue<ce){if(!j){const de=++this._lastDecorationId,me=`${this._instanceId};${de}`;j=new r.IntervalNode(me,0,0),this._decorations[me]=j}const ne=H[ue],Z=this._validateRangeRelaxedNoAllocations(ne.range),le=ie(ne.options),he=this._buffer.getOffsetAt(Z.startLineNumber,Z.startColumn),re=this._buffer.getOffsetAt(Z.endLineNumber,Z.endColumn);j.ownerId=P,j.reset(z,he,re,Z),j.setOptions(le),this._onDidChangeDecorations.checkAffectedAndFire(le),this._decorationsTree.insert(j),Y[ue]=j.id,ue++}else j&&delete this._decorations[j.id]}return Y}setTokens(P){if(P.length!==0){let x=[];for(let H=0,z=P.length;H<z;H++){const q=P[H];let Q=0,ce=0,ue=!1;for(let Y=0,j=q.tokens.length;Y<j;Y++){const ne=q.startLineNumber+Y;ue?(this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),q.tokens[Y],!1),ce=ne):this._tokens.setTokens(this._languageIdentifier.id,ne-1,this._buffer.getLineLength(ne),q.tokens[Y],!0)&&(ue=!0,Q=ne,ce=ne)}ue&&x.push({fromLineNumber:Q,toLineNumber:ce})}x.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:x})}}setSemanticTokens(P,x){this._tokens2.set(P,x),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:P!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(P,x){if(!this.hasCompleteSemanticTokens()){const H=this._tokens2.setPartial(P,x);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:H.startLineNumber,toLineNumber:H.endLineNumber}]})}}tokenizeViewport(P,x){P=Math.max(1,P),x=Math.min(this._buffer.getLineCount(),x),this._tokenization.tokenizeViewport(P,x)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(P){this._isDisposing||this._onDidChangeTokens.fire(P)}resetTokenization(){this._tokenization.reset()}forceTokenization(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(P)}isCheapToTokenize(P){return this._tokenization.isCheapToTokenize(P)}tokenizeIfCheap(P){this.isCheapToTokenize(P)&&this.forceTokenization(P)}getLineTokens(P){if(P<1||P>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(P)}_getLineTokens(P){const x=this.getLineContent(P),H=this._tokens.getTokens(this._languageIdentifier.id,P-1,x);return this._tokens2.addSemanticTokens(P,H)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(P){if(this._languageIdentifier.id!==P.id){let x={oldLanguage:this._languageIdentifier.language,newLanguage:P.language};this._languageIdentifier=P,this._onDidChangeLanguage.fire(x),this._onDidChangeLanguageConfiguration.fire({})}}getLanguageIdAtPosition(P,x){const H=this.validatePosition(new l.Position(P,x)),z=this.getLineTokens(H.lineNumber);return z.getLanguageId(z.findTokenIndexAtOffset(H.column-1))}getWordAtPosition(P){this._assertNotDisposed();const x=this.validatePosition(P),H=this.getLineContent(x.lineNumber),z=this._getLineTokens(x.lineNumber),q=z.findTokenIndexAtOffset(x.column-1),[Q,ce]=W._findLanguageBoundaries(z,q),ue=t.getWordAtText(x.column,o.LanguageConfigurationRegistry.getWordDefinition(z.getLanguageId(q)),H.substring(Q,ce),Q);if(ue&&ue.startColumn<=P.column&&P.column<=ue.endColumn)return ue;if(q>0&&Q===x.column-1){const[Y,j]=W._findLanguageBoundaries(z,q-1),ne=t.getWordAtText(x.column,o.LanguageConfigurationRegistry.getWordDefinition(z.getLanguageId(q-1)),H.substring(Y,j),Y);if(ne&&ne.startColumn<=P.column&&P.column<=ne.endColumn)return ne}return null}static _findLanguageBoundaries(P,x){const H=P.getLanguageId(x);let z=0;for(let Q=x;Q>=0&&P.getLanguageId(Q)===H;Q--)z=P.getStartOffset(Q);let q=P.getLineContent().length;for(let Q=x,ce=P.getCount();Q<ce&&P.getLanguageId(Q)===H;Q++)q=P.getEndOffset(Q);return[z,q]}getWordUntilPosition(P){const x=this.getWordAtPosition(P);return x?{word:x.word.substr(0,P.column-x.startColumn),startColumn:x.startColumn,endColumn:P.column}:{word:"",startColumn:P.column,endColumn:P.column}}findMatchingBracketUp(P,x){let H=P.toLowerCase(),z=this.validatePosition(x),q=this._getLineTokens(z.lineNumber),Q=q.getLanguageId(q.findTokenIndexAtOffset(z.column-1)),ce=o.LanguageConfigurationRegistry.getBracketsSupport(Q);if(!ce)return null;let ue=ce.textIsBracket[H];return ue?E(this._findMatchingBracketUp(ue,z,null)):null}matchBracket(P){return this._matchBracket(this.validatePosition(P))}_matchBracket(P){const x=P.lineNumber,H=this._getLineTokens(x),z=H.getCount(),q=this._buffer.getLineContent(x),Q=H.findTokenIndexAtOffset(P.column-1);if(Q<0)return null;const ce=o.LanguageConfigurationRegistry.getBracketsSupport(H.getLanguageId(Q));if(ce&&!_.ignoreBracketsInToken(H.getStandardTokenType(Q))){let ue=Math.max(0,P.column-1-ce.maxBracketLength);for(let ne=Q-1;ne>=0;ne--){const Z=H.getEndOffset(ne);if(Z<=ue)break;_.ignoreBracketsInToken(H.getStandardTokenType(ne))&&(ue=Z)}const Y=Math.min(q.length,P.column-1+ce.maxBracketLength);let j=null;for(;;){const ne=m.BracketsUtils.findNextBracketInRange(ce.forwardRegex,x,q,ue,Y);if(!ne)break;if(ne.startColumn<=P.column&&P.column<=ne.endColumn){const Z=q.substring(ne.startColumn-1,ne.endColumn-1).toLowerCase(),le=this._matchFoundBracket(ne,ce.textIsBracket[Z],ce.textIsOpenBracket[Z],null);if(le){if(le instanceof B)return null;j=le}}ue=ne.endColumn-1}if(j)return j}if(Q>0&&H.getStartOffset(Q)===P.column-1){const ue=Q-1,Y=o.LanguageConfigurationRegistry.getBracketsSupport(H.getLanguageId(ue));if(Y&&!_.ignoreBracketsInToken(H.getStandardTokenType(ue))){const j=Math.max(0,P.column-1-Y.maxBracketLength);let ne=Math.min(q.length,P.column-1+Y.maxBracketLength);for(let le=ue+1;le<z;le++){const he=H.getStartOffset(le);if(he>=ne)break;_.ignoreBracketsInToken(H.getStandardTokenType(le))&&(ne=he)}const Z=m.BracketsUtils.findPrevBracketInRange(Y.reversedRegex,x,q,j,ne);if(Z&&Z.startColumn<=P.column&&P.column<=Z.endColumn){const le=q.substring(Z.startColumn-1,Z.endColumn-1).toLowerCase(),he=this._matchFoundBracket(Z,Y.textIsBracket[le],Y.textIsOpenBracket[le],null);if(he)return he instanceof B?null:he}}}return null}_matchFoundBracket(P,x,H,z){if(!x)return null;const q=H?this._findMatchingBracketDown(x,P.getEndPosition(),z):this._findMatchingBracketUp(x,P.getStartPosition(),z);return q?q instanceof B?q:[P,q]:null}_findMatchingBracketUp(P,x,H){const z=P.languageIdentifier.id,q=P.reversedRegex;let Q=-1,ce=0;const ue=(Y,j,ne,Z)=>{for(;;){if(H&&++ce%100==0&&!H())return B.INSTANCE;const le=m.BracketsUtils.findPrevBracketInRange(q,Y,j,ne,Z);if(!le)break;const he=j.substring(le.startColumn-1,le.endColumn-1).toLowerCase();if(P.isOpen(he)?Q++:P.isClose(he)&&Q--,Q===0)return le;Z=le.startColumn-1}return null};for(let Y=x.lineNumber;Y>=1;Y--){const j=this._getLineTokens(Y),ne=j.getCount(),Z=this._buffer.getLineContent(Y);let le=ne-1,he=Z.length,re=Z.length;Y===x.lineNumber&&(le=j.findTokenIndexAtOffset(x.column-1),he=x.column-1,re=x.column-1);let de=!0;for(;le>=0;le--){const me=j.getLanguageId(le)===z&&!_.ignoreBracketsInToken(j.getStandardTokenType(le));if(me)de?he=j.getStartOffset(le):(he=j.getStartOffset(le),re=j.getEndOffset(le));else if(de&&he!==re){const ve=ue(Y,Z,he,re);if(ve)return ve}de=me}if(de&&he!==re){const me=ue(Y,Z,he,re);if(me)return me}}return null}_findMatchingBracketDown(P,x,H){const z=P.languageIdentifier.id,q=P.forwardRegex;let Q=1,ce=0;const ue=(j,ne,Z,le)=>{for(;;){if(H&&++ce%100==0&&!H())return B.INSTANCE;const he=m.BracketsUtils.findNextBracketInRange(q,j,ne,Z,le);if(!he)break;const re=ne.substring(he.startColumn-1,he.endColumn-1).toLowerCase();if(P.isOpen(re)?Q++:P.isClose(re)&&Q--,Q===0)return he;Z=he.endColumn-1}return null},Y=this.getLineCount();for(let j=x.lineNumber;j<=Y;j++){const ne=this._getLineTokens(j),Z=ne.getCount(),le=this._buffer.getLineContent(j);let he=0,re=0,de=0;j===x.lineNumber&&(he=ne.findTokenIndexAtOffset(x.column-1),re=x.column-1,de=x.column-1);let me=!0;for(;he<Z;he++){const ve=ne.getLanguageId(he)===z&&!_.ignoreBracketsInToken(ne.getStandardTokenType(he));if(ve)me||(re=ne.getStartOffset(he)),de=ne.getEndOffset(he);else if(me&&re!==de){const Ce=ue(j,le,re,de);if(Ce)return Ce}me=ve}if(me&&re!==de){const ve=ue(j,le,re,de);if(ve)return ve}}return null}findPrevBracket(P){const x=this.validatePosition(P);let H=-1,z=null;for(let q=x.lineNumber;q>=1;q--){const Q=this._getLineTokens(q),ce=Q.getCount(),ue=this._buffer.getLineContent(q);let Y=ce-1,j=ue.length,ne=ue.length;if(q===x.lineNumber){Y=Q.findTokenIndexAtOffset(x.column-1),j=x.column-1,ne=x.column-1;const le=Q.getLanguageId(Y);H!==le&&(H=le,z=o.LanguageConfigurationRegistry.getBracketsSupport(H))}let Z=!0;for(;Y>=0;Y--){const le=Q.getLanguageId(Y);if(H!==le){if(z&&Z&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(z.reversedRegex,q,ue,j,ne);if(re)return this._toFoundBracket(z,re);Z=!1}H=le,z=o.LanguageConfigurationRegistry.getBracketsSupport(H)}const he=!!z&&!_.ignoreBracketsInToken(Q.getStandardTokenType(Y));if(he)Z?j=Q.getStartOffset(Y):(j=Q.getStartOffset(Y),ne=Q.getEndOffset(Y));else if(z&&Z&&j!==ne){const re=m.BracketsUtils.findPrevBracketInRange(z.reversedRegex,q,ue,j,ne);if(re)return this._toFoundBracket(z,re)}Z=he}if(z&&Z&&j!==ne){const le=m.BracketsUtils.findPrevBracketInRange(z.reversedRegex,q,ue,j,ne);if(le)return this._toFoundBracket(z,le)}}return null}findNextBracket(P){const x=this.validatePosition(P),H=this.getLineCount();let z=-1,q=null;for(let Q=x.lineNumber;Q<=H;Q++){const ce=this._getLineTokens(Q),ue=ce.getCount(),Y=this._buffer.getLineContent(Q);let j=0,ne=0,Z=0;if(Q===x.lineNumber){j=ce.findTokenIndexAtOffset(x.column-1),ne=x.column-1,Z=x.column-1;const he=ce.getLanguageId(j);z!==he&&(z=he,q=o.LanguageConfigurationRegistry.getBracketsSupport(z))}let le=!0;for(;j<ue;j++){const he=ce.getLanguageId(j);if(z!==he){if(q&&le&&ne!==Z){const de=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,Q,Y,ne,Z);if(de)return this._toFoundBracket(q,de);le=!1}z=he,q=o.LanguageConfigurationRegistry.getBracketsSupport(z)}const re=!!q&&!_.ignoreBracketsInToken(ce.getStandardTokenType(j));if(re)le||(ne=ce.getStartOffset(j)),Z=ce.getEndOffset(j);else if(q&&le&&ne!==Z){const de=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,Q,Y,ne,Z);if(de)return this._toFoundBracket(q,de)}le=re}if(q&&le&&ne!==Z){const he=m.BracketsUtils.findNextBracketInRange(q.forwardRegex,Q,Y,ne,Z);if(he)return this._toFoundBracket(q,he)}}return null}findEnclosingBrackets(P,x){let H;if(typeof x=="undefined")H=null;else{const le=Date.now();H=()=>Date.now()-le<=x}const z=this.validatePosition(P),q=this.getLineCount(),Q=new Map;let ce=[];const ue=(le,he)=>{if(!Q.has(le)){let re=[];for(let de=0,me=he?he.brackets.length:0;de<me;de++)re[de]=0;Q.set(le,re)}ce=Q.get(le)};let Y=0;const j=(le,he,re,de,me)=>{for(;;){if(H&&++Y%100==0&&!H())return B.INSTANCE;const ve=m.BracketsUtils.findNextBracketInRange(le.forwardRegex,he,re,de,me);if(!ve)break;const Ce=re.substring(ve.startColumn-1,ve.endColumn-1).toLowerCase(),Ee=le.textIsBracket[Ce];if(Ee&&(Ee.isOpen(Ce)?ce[Ee.index]++:Ee.isClose(Ce)&&ce[Ee.index]--,ce[Ee.index]===-1))return this._matchFoundBracket(ve,Ee,!1,H);de=ve.endColumn-1}return null};let ne=-1,Z=null;for(let le=z.lineNumber;le<=q;le++){const he=this._getLineTokens(le),re=he.getCount(),de=this._buffer.getLineContent(le);let me=0,ve=0,Ce=0;if(le===z.lineNumber){me=he.findTokenIndexAtOffset(z.column-1),ve=z.column-1,Ce=z.column-1;const De=he.getLanguageId(me);ne!==De&&(ne=De,Z=o.LanguageConfigurationRegistry.getBracketsSupport(ne),ue(ne,Z))}let Ee=!0;for(;me<re;me++){const De=he.getLanguageId(me);if(ne!==De){if(Z&&Ee&&ve!==Ce){const Ne=j(Z,le,de,ve,Ce);if(Ne)return E(Ne);Ee=!1}ne=De,Z=o.LanguageConfigurationRegistry.getBracketsSupport(ne),ue(ne,Z)}const Pe=!!Z&&!_.ignoreBracketsInToken(he.getStandardTokenType(me));if(Pe)Ee||(ve=he.getStartOffset(me)),Ce=he.getEndOffset(me);else if(Z&&Ee&&ve!==Ce){const Ne=j(Z,le,de,ve,Ce);if(Ne)return E(Ne)}Ee=Pe}if(Z&&Ee&&ve!==Ce){const De=j(Z,le,de,ve,Ce);if(De)return E(De)}}return null}_toFoundBracket(P,x){if(!x)return null;let H=this.getValueInRange(x);H=H.toLowerCase();let z=P.textIsBracket[H];return z?{range:x,open:z.open,close:z.close,isOpen:P.textIsOpenBracket[H]}:null}static computeIndentLevel(P,x){let H=0,z=0,q=P.length;for(;z<q;){let Q=P.charCodeAt(z);if(Q===32)H++;else if(Q===9)H=H-H%x+x;else break;z++}return z===q?-1:H}_computeIndentLevel(P){return W.computeIndentLevel(this._buffer.getLineContent(P+1),this._options.tabSize)}getActiveIndentGuide(P,x,H){this._assertNotDisposed();const z=this.getLineCount();if(P<1||P>z)throw new Error("Illegal value for lineNumber");const q=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),Q=Boolean(q&&q.offSide);let ce=-2,ue=-1,Y=-2,j=-1;const ne=Ne=>{if(ce!==-1&&(ce===-2||ce>Ne-1)){ce=-1,ue=-1;for(let Ae=Ne-2;Ae>=0;Ae--){let Oe=this._computeIndentLevel(Ae);if(Oe>=0){ce=Ae,ue=Oe;break}}}if(Y===-2){Y=-1,j=-1;for(let Ae=Ne;Ae<z;Ae++){let Oe=this._computeIndentLevel(Ae);if(Oe>=0){Y=Ae,j=Oe;break}}}};let Z=-2,le=-1,he=-2,re=-1;const de=Ne=>{if(Z===-2){Z=-1,le=-1;for(let Ae=Ne-2;Ae>=0;Ae--){let Oe=this._computeIndentLevel(Ae);if(Oe>=0){Z=Ae,le=Oe;break}}}if(he!==-1&&(he===-2||he<Ne-1)){he=-1,re=-1;for(let Ae=Ne;Ae<z;Ae++){let Oe=this._computeIndentLevel(Ae);if(Oe>=0){he=Ae,re=Oe;break}}}};let me=0,ve=!0,Ce=0,Ee=!0,De=0,Pe=0;for(let Ne=0;ve||Ee;Ne++){const Ae=P-Ne,Oe=P+Ne;Ne>1&&(Ae<1||Ae<x)&&(ve=!1),Ne>1&&(Oe>z||Oe>H)&&(Ee=!1),Ne>5e4&&(ve=!1,Ee=!1);let Re=-1;if(ve){const we=this._computeIndentLevel(Ae-1);we>=0?(Y=Ae-1,j=we,Re=Math.ceil(we/this._options.indentSize)):(ne(Ae),Re=this._getIndentLevelForWhitespaceLine(Q,ue,j))}let Be=-1;if(Ee){const we=this._computeIndentLevel(Oe-1);we>=0?(Z=Oe-1,le=we,Be=Math.ceil(we/this._options.indentSize)):(de(Oe),Be=this._getIndentLevelForWhitespaceLine(Q,le,re))}if(Ne===0){Pe=Re;continue}if(Ne===1){if(Oe<=z&&Be>=0&&Pe+1===Be){ve=!1,me=Oe,Ce=Oe,De=Be;continue}if(Ae>=1&&Re>=0&&Re-1===Pe){Ee=!1,me=Ae,Ce=Ae,De=Re;continue}if(me=P,Ce=P,De=Pe,De===0)return{startLineNumber:me,endLineNumber:Ce,indent:De}}ve&&(Re>=De?me=Ae:ve=!1),Ee&&(Be>=De?Ce=Oe:Ee=!1)}return{startLineNumber:me,endLineNumber:Ce,indent:De}}getLinesIndentGuides(P,x){this._assertNotDisposed();const H=this.getLineCount();if(P<1||P>H)throw new Error("Illegal value for startLineNumber");if(x<1||x>H)throw new Error("Illegal value for endLineNumber");const z=o.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id),q=Boolean(z&&z.offSide);let Q=new Array(x-P+1),ce=-2,ue=-1,Y=-2,j=-1;for(let ne=P;ne<=x;ne++){let Z=ne-P;const le=this._computeIndentLevel(ne-1);if(le>=0){ce=ne-1,ue=le,Q[Z]=Math.ceil(le/this._options.indentSize);continue}if(ce===-2){ce=-1,ue=-1;for(let he=ne-2;he>=0;he--){let re=this._computeIndentLevel(he);if(re>=0){ce=he,ue=re;break}}}if(Y!==-1&&(Y===-2||Y<ne-1)){Y=-1,j=-1;for(let he=ne;he<H;he++){let re=this._computeIndentLevel(he);if(re>=0){Y=he,j=re;break}}}Q[Z]=this._getIndentLevelForWhitespaceLine(q,ue,j)}return Q}_getIndentLevelForWhitespaceLine(P,x,H){return x===-1||H===-1?0:x<H?1+Math.floor(x/this._options.indentSize):x===H?Math.ceil(H/this._options.indentSize):P?Math.ceil(H/this._options.indentSize):1+Math.floor(H/this._options.indentSize)}}e.TextModel=W,W.MODEL_SYNC_LIMIT=50*1024*1024,W.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,W.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,W.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:v.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:v.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:v.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:v.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:v.EDITOR_MODEL_DEFAULTS.largeFileOptimizations};class R{constructor(){this._decorationsTree0=new r.IntervalTree,this._decorationsTree1=new r.IntervalTree}intervalSearch(P,x,H,z,q){const Q=this._decorationsTree0.intervalSearch(P,x,H,z,q),ce=this._decorationsTree1.intervalSearch(P,x,H,z,q);return Q.concat(ce)}search(P,x,H,z){if(H)return this._decorationsTree1.search(P,x,z);{const q=this._decorationsTree0.search(P,x,z),Q=this._decorationsTree1.search(P,x,z);return q.concat(Q)}}collectNodesFromOwner(P){const x=this._decorationsTree0.collectNodesFromOwner(P),H=this._decorationsTree1.collectNodesFromOwner(P);return x.concat(H)}collectNodesPostOrder(){const P=this._decorationsTree0.collectNodesPostOrder(),x=this._decorationsTree1.collectNodesPostOrder();return P.concat(x)}insert(P){r.getNodeIsInOverviewRuler(P)?this._decorationsTree1.insert(P):this._decorationsTree0.insert(P)}delete(P){r.getNodeIsInOverviewRuler(P)?this._decorationsTree1.delete(P):this._decorationsTree0.delete(P)}resolveNode(P,x){r.getNodeIsInOverviewRuler(P)?this._decorationsTree1.resolveNode(P,x):this._decorationsTree0.resolveNode(P,x)}acceptReplace(P,x,H,z){this._decorationsTree0.acceptReplace(P,x,H,z),this._decorationsTree1.acceptReplace(P,x,H,z)}}function F(U){return U.replace(/[^a-z0-9\-_]/gi," ")}class V{constructor(P){this.color=P.color||"",this.darkColor=P.darkColor||""}}class K extends V{constructor(P){super(P);this._resolvedColor=null,this.position=typeof P.position=="number"?P.position:c.OverviewRulerLane.Center}getColor(P){return this._resolvedColor||(P.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,P):this._resolvedColor=this._resolveColor(this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(P,x){if(typeof P=="string")return P;let H=P?x.getColor(P.id):null;return H?H.toString():""}}e.ModelDecorationOverviewRulerOptions=K;class G extends V{constructor(P){super(P);this.position=P.position}getColor(P){return this._resolvedColor||(P.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,P):this._resolvedColor=this._resolveColor(this.color,P)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(P,x){return typeof P=="string"?b.Color.fromHex(P):x.getColor(P.id)}}e.ModelDecorationMinimapOptions=G;class J{constructor(P){this.stickiness=P.stickiness||0,this.zIndex=P.zIndex||0,this.className=P.className?F(P.className):null,this.hoverMessage=P.hoverMessage||null,this.glyphMarginHoverMessage=P.glyphMarginHoverMessage||null,this.isWholeLine=P.isWholeLine||!1,this.showIfCollapsed=P.showIfCollapsed||!1,this.collapseOnReplaceEdit=P.collapseOnReplaceEdit||!1,this.overviewRuler=P.overviewRuler?new K(P.overviewRuler):null,this.minimap=P.minimap?new G(P.minimap):null,this.glyphMarginClassName=P.glyphMarginClassName?F(P.glyphMarginClassName):null,this.linesDecorationsClassName=P.linesDecorationsClassName?F(P.linesDecorationsClassName):null,this.firstLineDecorationClassName=P.firstLineDecorationClassName?F(P.firstLineDecorationClassName):null,this.marginClassName=P.marginClassName?F(P.marginClassName):null,this.inlineClassName=P.inlineClassName?F(P.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=P.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=P.beforeContentClassName?F(P.beforeContentClassName):null,this.afterContentClassName=P.afterContentClassName?F(P.afterContentClassName):null}static register(P){return new J(P)}static createDynamic(P){return new J(P)}}e.ModelDecorationOptions=J,J.EMPTY=J.register({});const se=[J.register({stickiness:0}),J.register({stickiness:1}),J.register({stickiness:2}),J.register({stickiness:3})];function ie(U){return U instanceof J?U:J.createDynamic(U)}class ae extends k.Disposable{constructor(){super();this._actual=this._register(new M.Emitter),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,this._deferredCnt===0&&this._shouldFire){const P={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(P)}}checkAffectedAndFire(P){this._affectsMinimap||(this._affectsMinimap=!!(P.minimap&&P.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(P.overviewRuler&&P.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=ae;class X extends k.Disposable{constructor(){super();this._fastEmitter=this._register(new M.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new M.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(P=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=P;const x=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(x),this._slowEmitter.fire(x)}}fire(P){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(P):this._deferredEvent=P;return}this._fastEmitter.fire(P),this._slowEmitter.fire(P)}}e.DidChangeContentEmitter=X}),define(ee[42],te([0,1,11,8,13,3,21,31,41]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.CursorColumns=e.EditOperationResult=e.CursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorContext=e.SingleCursorState=e.CursorConfiguration=void 0;const f=()=>!0,p=()=>!1,c=h=>h===" "||h==="	";class u{constructor(_,m,g){this._languageIdentifier=_;const b=g.options,y=b.get(124);this.readOnly=b.get(75),this.tabSize=m.tabSize,this.indentSize=m.indentSize,this.insertSpaces=m.insertSpaces,this.stickyTabStops=b.get(99),this.lineHeight=b.get(53),this.pageSize=Math.max(1,Math.floor(y.height/this.lineHeight)-2),this.useTabStops=b.get(109),this.wordSeparators=b.get(110),this.emptySelectionClipboard=b.get(28),this.copyWithSyntaxHighlighting=b.get(18),this.multiCursorMergeOverlapping=b.get(63),this.multiCursorPaste=b.get(65),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(7),this.autoClosingOvertype=b.get(6),this.autoSurround=b.get(10),this.autoIndent=b.get(8),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:u._getShouldAutoClose(_,this.autoClosingQuotes),bracket:u._getShouldAutoClose(_,this.autoClosingBrackets)},this.autoClosingPairs=l.LanguageConfigurationRegistry.getAutoClosingPairs(_.id);let L=u._getSurroundingPairs(_);if(L)for(const D of L)this.surroundingPairs[D.open]=D.close}static shouldRecreate(_){return _.hasChanged(124)||_.hasChanged(110)||_.hasChanged(28)||_.hasChanged(63)||_.hasChanged(65)||_.hasChanged(5)||_.hasChanged(7)||_.hasChanged(6)||_.hasChanged(10)||_.hasChanged(109)||_.hasChanged(53)||_.hasChanged(75)}get electricChars(){if(!this._electricChars){this._electricChars={};let _=u._getElectricCharacters(this._languageIdentifier);if(_)for(const m of _)this._electricChars[m]=!0}return this._electricChars}normalizeIndentation(_){return v.TextModel.normalizeIndentation(_,this.indentSize,this.insertSpaces)}static _getElectricCharacters(_){try{return l.LanguageConfigurationRegistry.getElectricCharacters(_.id)}catch(m){return C.onUnexpectedError(m),null}}static _getShouldAutoClose(_,m){switch(m){case"beforeWhitespace":return c;case"languageDefined":return u._getLanguageDefinedShouldAutoClose(_);case"always":return f;case"never":return p}}static _getLanguageDefinedShouldAutoClose(_){try{const m=l.LanguageConfigurationRegistry.getAutoCloseBeforeSet(_.id);return g=>m.indexOf(g)!==-1}catch(m){return C.onUnexpectedError(m),p}}static _getSurroundingPairs(_){try{return l.LanguageConfigurationRegistry.getSurroundingPairs(_.id)}catch(m){return C.onUnexpectedError(m),null}}}e.CursorConfiguration=u;class a{constructor(_,m,g,b){this.selectionStart=_,this.selectionStartLeftoverVisibleColumns=m,this.position=g,this.leftoverVisibleColumns=b,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(_){return this.selectionStartLeftoverVisibleColumns===_.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===_.leftoverVisibleColumns&&this.position.equals(_.position)&&this.selectionStart.equalsRange(_.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(_,m,g,b){return _?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new k.Position(m,g),b):new a(new w.Range(m,g,m,g),b,new k.Position(m,g),b)}static _computeSelection(_,m){let g,b,y,L;return _.isEmpty()?(g=_.startLineNumber,b=_.startColumn,y=m.lineNumber,L=m.column):m.isBeforeOrEqual(_.getStartPosition())?(g=_.endLineNumber,b=_.endColumn,y=m.lineNumber,L=m.column):(g=_.startLineNumber,b=_.startColumn,y=m.lineNumber,L=m.column),new S.Selection(g,b,y,L)}}e.SingleCursorState=a;class r{constructor(_,m,g){this.model=_,this.coordinatesConverter=m,this.cursorConfig=g}}e.CursorContext=r;class d{constructor(_){this.modelState=_,this.viewState=null}}e.PartialModelCursorState=d;class s{constructor(_){this.modelState=null,this.viewState=_}}e.PartialViewCursorState=s;class i{constructor(_,m){this.modelState=_,this.viewState=m}static fromModelState(_){return new d(_)}static fromViewState(_){return new s(_)}static fromModelSelection(_){const m=_.selectionStartLineNumber,g=_.selectionStartColumn,b=_.positionLineNumber,y=_.positionColumn,L=new a(new w.Range(m,g,m,g),0,new k.Position(b,y),0);return i.fromModelState(L)}static fromModelSelections(_){let m=[];for(let g=0,b=_.length;g<b;g++)m[g]=this.fromModelSelection(_[g]);return m}equals(_){return this.viewState.equals(_.viewState)&&this.modelState.equals(_.modelState)}}e.CursorState=i;class n{constructor(_,m,g){this.type=_,this.commands=m,this.shouldPushStackElementBefore=g.shouldPushStackElementBefore,this.shouldPushStackElementAfter=g.shouldPushStackElementAfter}}e.EditOperationResult=n;class t{static visibleColumnFromColumn(_,m,g){const b=_.length,y=m-1<b?m-1:b;let L=0,D=0;for(;D<y;){const N=M.getNextCodePoint(_,y,D);if(D+=N>=65536?2:1,N===9)L=t.nextRenderTabStop(L,g);else{let I=M.getGraphemeBreakType(N);for(;D<y;){const T=M.getNextCodePoint(_,y,D),O=M.getGraphemeBreakType(T);if(M.breakBetweenGraphemeBreakType(I,O))break;D+=T>=65536?2:1,I=O}M.isFullWidthCharacter(N)||M.isEmojiImprecise(N)?L=L+2:L=L+1}}return L}static visibleColumnFromColumn2(_,m,g){return this.visibleColumnFromColumn(m.getLineContent(g.lineNumber),g.column,_.tabSize)}static columnFromVisibleColumn(_,m,g){if(m<=0)return 1;const b=_.length;let y=0,L=1,D=0;for(;D<b;){const N=M.getNextCodePoint(_,b,D);D+=N>=65536?2:1;let I;if(N===9)I=t.nextRenderTabStop(y,g);else{let O=M.getGraphemeBreakType(N);for(;D<b;){const A=M.getNextCodePoint(_,b,D),B=M.getGraphemeBreakType(A);if(M.breakBetweenGraphemeBreakType(O,B))break;D+=A>=65536?2:1,O=B}M.isFullWidthCharacter(N)||M.isEmojiImprecise(N)?I=y+2:I=y+1}const T=D+1;if(I>=m){const O=m-y;return I-m<O?T:L}y=I,L=T}return b+1}static columnFromVisibleColumn2(_,m,g,b){let y=this.columnFromVisibleColumn(m.getLineContent(g),b,_.tabSize),L=m.getLineMinColumn(g);if(y<L)return L;let D=m.getLineMaxColumn(g);return y>D?D:y}static nextRenderTabStop(_,m){return _+m-_%m}static nextIndentTabStop(_,m){return _+m-_%m}static prevRenderTabStop(_,m){return _-1-(_-1)%m}static prevIndentTabStop(_,m){return _-1-(_-1)%m}}e.CursorColumns=t;function o(h){return h==="'"||h==='"'||h==="`"}e.isQuote=o}),define(ee[177],te([0,1,8,42,3,21,41]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const v=Object.create(null);function l(p,c){v[p]||(v[p]=["",p]);const u=v[p];for(let a=u.length;a<=c;a++)u[a]=u[a-1]+p;return u[c]}e.cachedStringRepeat=l;class f{constructor(c,u){this._opts=u,this._selection=c,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(c,u,a,r,d){const s=M.CursorColumns.visibleColumnFromColumn(c,u,a);if(d){const i=l(" ",r),t=M.CursorColumns.prevIndentTabStop(s,r)/r;return l(i,t)}else{const i="	",t=M.CursorColumns.prevRenderTabStop(s,a)/a;return l(i,t)}}static shiftIndent(c,u,a,r,d){const s=M.CursorColumns.visibleColumnFromColumn(c,u,a);if(d){const i=l(" ",r),t=M.CursorColumns.nextIndentTabStop(s,r)/r;return l(i,t)}else{const i="	",t=M.CursorColumns.nextRenderTabStop(s,a)/a;return l(i,t)}}_addEditOperation(c,u,a){this._useLastEditRangeForCursorEndPosition?c.addTrackedEditOperation(u,a):c.addEditOperation(u,a)}getEditOperations(c,u){const a=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&a!==r&&(r=r-1);const{tabSize:d,indentSize:s,insertSpaces:i}=this._opts,n=a===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(c.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let t=0,o=0;for(let h=a;h<=r;h++,t=o){o=0;let _=c.getLineContent(h),m=C.firstNonWhitespaceIndex(_);if(!(this._opts.isUnshift&&(_.length===0||m===0))&&!(!n&&!this._opts.isUnshift&&_.length===0)){if(m===-1&&(m=_.length),h>1&&M.CursorColumns.visibleColumnFromColumn(_,m+1,d)%s!=0&&c.isCheapToTokenize(h-1)){let y=S.LanguageConfigurationRegistry.getEnterAction(this._opts.autoIndent,c,new k.Range(h-1,c.getLineMaxColumn(h-1),h-1,c.getLineMaxColumn(h-1)));if(y){if(o=t,y.appendText)for(let L=0,D=y.appendText.length;L<D&&o<s&&y.appendText.charCodeAt(L)===32;L++)o++;y.removeText&&(o=Math.max(0,o-y.removeText));for(let L=0;L<o&&!(m===0||_.charCodeAt(m-1)!==32);L++)m--}}if(!(this._opts.isUnshift&&m===0)){let g;this._opts.isUnshift?g=f.unshiftIndent(_,m+1,d,s,i):g=f.shiftIndent(_,m+1,d,s,i),this._addEditOperation(u,new k.Range(h,1,h,m+1),g),h===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=m+1)}}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&c.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const t=i?l(" ",s):"	";for(let o=a;o<=r;o++){const h=c.getLineContent(o);let _=C.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||_===0))&&!(!n&&!this._opts.isUnshift&&h.length===0)&&(_===-1&&(_=h.length),!(this._opts.isUnshift&&_===0)))if(this._opts.isUnshift){_=Math.min(_,s);for(let m=0;m<_;m++)if(h.charCodeAt(m)===9){_=m+1;break}this._addEditOperation(u,new k.Range(o,1,o,_+1),"")}else this._addEditOperation(u,new k.Range(o,1,o,1),t),o===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=u.trackSelection(this._selection)}computeCursorState(c,u){if(this._useLastEditRangeForCursorEndPosition){let r=u.getInverseEditOperations()[0];return new w.Selection(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const a=u.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let r=this._selection.startColumn;return a.startColumn<=r?a:a.getDirection()===0?new w.Selection(a.startLineNumber,r,a.endLineNumber,a.endColumn):new w.Selection(a.endLineNumber,a.endColumn,a.startLineNumber,r)}return a}}e.ShiftCommand=f}),define(ee[239],te([0,1,42]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class M{static whitespaceVisibleColumn(w,S,v){const l=w.length;let f=0,p=-1,c=-1;for(let u=0;u<l;u++){if(u===S)return[p,c,f];switch(f%v==0&&(p=u,c=f),w.charCodeAt(u)){case 32:f+=1;break;case 9:f=C.CursorColumns.nextRenderTabStop(f,v);break;default:return[-1,-1,-1]}}return S===l?[p,c,f]:[-1,-1,-1]}static atomicPosition(w,S,v,l){const f=w.length,[p,c,u]=M.whitespaceVisibleColumn(w,S,v);if(u===-1)return-1;let a;switch(l){case 0:a=!0;break;case 1:a=!1;break;case 2:if(u%v==0)return S;a=u%v<=v/2;break}if(a){if(p===-1)return-1;let s=c;for(let i=p;i<f;++i){if(s===c+v)return p;switch(w.charCodeAt(i)){case 32:s+=1;break;case 9:s=C.CursorColumns.nextRenderTabStop(s,v);break;default:return-1}}return s===c+v?p:-1}const r=C.CursorColumns.nextRenderTabStop(u,v);let d=u;for(let s=S;s<f;s++){if(d===r)return s;switch(w.charCodeAt(s)){case 32:d+=1;break;case 9:d=C.CursorColumns.nextRenderTabStop(d,v);break;default:return-1}}return d===r?f:-1}}e.AtomicTabMoveOperations=M}),define(ee[529],te([0,1,42,13,3]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class w{static columnSelect(v,l,f,p,c,u){let a=Math.abs(c-f)+1,r=f>c,d=p>u,s=p<u,i=[];for(let n=0;n<a;n++){let t=f+(r?-n:n),o=C.CursorColumns.columnFromVisibleColumn2(v,l,t,p),h=C.CursorColumns.columnFromVisibleColumn2(v,l,t,u),_=C.CursorColumns.visibleColumnFromColumn2(v,l,new M.Position(t,o)),m=C.CursorColumns.visibleColumnFromColumn2(v,l,new M.Position(t,h));s&&(_>u||m<p)||d&&(m>p||_<u)||i.push(new C.SingleCursorState(new k.Range(t,o,t,o),0,new M.Position(t,h),0))}if(i.length===0)for(let n=0;n<a;n++){const t=f+(r?-n:n),o=l.getLineMaxColumn(t);i.push(new C.SingleCursorState(new k.Range(t,o,t,o),0,new M.Position(t,o),0))}return{viewStates:i,reversed:r,fromLineNumber:f,fromVisualColumn:p,toLineNumber:c,toVisualColumn:u}}static columnSelectLeft(v,l,f){let p=f.toViewVisualColumn;return p>1&&p--,w.columnSelect(v,l,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,p)}static columnSelectRight(v,l,f){let p=0;const c=Math.min(f.fromViewLineNumber,f.toViewLineNumber),u=Math.max(f.fromViewLineNumber,f.toViewLineNumber);for(let r=c;r<=u;r++){const d=l.getLineMaxColumn(r),s=C.CursorColumns.visibleColumnFromColumn2(v,l,new M.Position(r,d));p=Math.max(p,s)}let a=f.toViewVisualColumn;return a<p&&a++,this.columnSelect(v,l,f.fromViewLineNumber,f.fromViewVisualColumn,f.toViewLineNumber,a)}static columnSelectUp(v,l,f,p){const c=p?v.pageSize:1,u=Math.max(1,f.toViewLineNumber-c);return this.columnSelect(v,l,f.fromViewLineNumber,f.fromViewVisualColumn,u,f.toViewVisualColumn)}static columnSelectDown(v,l,f,p){const c=p?v.pageSize:1,u=Math.min(l.getLineCount(),f.toViewLineNumber+c);return this.columnSelect(v,l,f.fromViewLineNumber,f.fromViewVisualColumn,u,f.toViewVisualColumn)}}e.ColumnSelection=w}),define(ee[178],te([0,1,42,13,3,8,239]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class v{constructor(p,c,u){this.lineNumber=p,this.column=c,this.leftoverVisibleColumns=u}}e.CursorPosition=v;class l{static leftPosition(p,c,u){return u>p.getLineMinColumn(c)?u=u-w.prevCharLength(p.getLineContent(c),u-1):c>1&&(c=c-1,u=p.getLineMaxColumn(c)),new M.Position(c,u)}static leftPositionAtomicSoftTabs(p,c,u,a){const r=p.getLineMinColumn(c),d=p.getLineContent(c),s=S.AtomicTabMoveOperations.atomicPosition(d,u-1,a,0);return s===-1||s+1<r?this.leftPosition(p,c,u):new M.Position(c,s+1)}static left(p,c,u,a){const r=p.stickyTabStops?l.leftPositionAtomicSoftTabs(c,u,a,p.tabSize):l.leftPosition(c,u,a);return new v(r.lineNumber,r.column,0)}static moveLeft(p,c,u,a,r){let d,s;if(u.hasSelection()&&!a)d=u.selection.startLineNumber,s=u.selection.startColumn;else{let i=l.left(p,c,u.position.lineNumber,u.position.column-(r-1));d=i.lineNumber,s=i.column}return u.move(a,d,s,0)}static rightPosition(p,c,u){return u<p.getLineMaxColumn(c)?u=u+w.nextCharLength(p.getLineContent(c),u-1):c<p.getLineCount()&&(c=c+1,u=p.getLineMinColumn(c)),new M.Position(c,u)}static rightPositionAtomicSoftTabs(p,c,u,a,r){const d=p.getLineContent(c),s=S.AtomicTabMoveOperations.atomicPosition(d,u-1,a,1);return s===-1?this.rightPosition(p,c,u):new M.Position(c,s+1)}static right(p,c,u,a){const r=p.stickyTabStops?l.rightPositionAtomicSoftTabs(c,u,a,p.tabSize,p.indentSize):l.rightPosition(c,u,a);return new v(r.lineNumber,r.column,0)}static moveRight(p,c,u,a,r){let d,s;if(u.hasSelection()&&!a)d=u.selection.endLineNumber,s=u.selection.endColumn;else{let i=l.right(p,c,u.position.lineNumber,u.position.column+(r-1));d=i.lineNumber,s=i.column}return u.move(a,d,s,0)}static down(p,c,u,a,r,d,s){const i=C.CursorColumns.visibleColumnFromColumn(c.getLineContent(u),a,p.tabSize)+r,n=c.getLineCount(),t=u===n&&a===c.getLineMaxColumn(u);return u=u+d,u>n?(u=n,s?a=c.getLineMaxColumn(u):a=Math.min(c.getLineMaxColumn(u),a)):a=C.CursorColumns.columnFromVisibleColumn2(p,c,u,i),t?r=0:r=i-C.CursorColumns.visibleColumnFromColumn(c.getLineContent(u),a,p.tabSize),new v(u,a,r)}static moveDown(p,c,u,a,r){let d,s;u.hasSelection()&&!a?(d=u.selection.endLineNumber,s=u.selection.endColumn):(d=u.position.lineNumber,s=u.position.column);let i=l.down(p,c,d,s,u.leftoverVisibleColumns,r,!0);return u.move(a,i.lineNumber,i.column,i.leftoverVisibleColumns)}static translateDown(p,c,u){let a=u.selection,r=l.down(p,c,a.selectionStartLineNumber,a.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),d=l.down(p,c,a.positionLineNumber,a.positionColumn,u.leftoverVisibleColumns,1,!1);return new C.SingleCursorState(new k.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new M.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(p,c,u,a,r,d,s){const i=C.CursorColumns.visibleColumnFromColumn(c.getLineContent(u),a,p.tabSize)+r,n=u===1&&a===1;return u=u-d,u<1?(u=1,s?a=c.getLineMinColumn(u):a=Math.min(c.getLineMaxColumn(u),a)):a=C.CursorColumns.columnFromVisibleColumn2(p,c,u,i),n?r=0:r=i-C.CursorColumns.visibleColumnFromColumn(c.getLineContent(u),a,p.tabSize),new v(u,a,r)}static moveUp(p,c,u,a,r){let d,s;u.hasSelection()&&!a?(d=u.selection.startLineNumber,s=u.selection.startColumn):(d=u.position.lineNumber,s=u.position.column);let i=l.up(p,c,d,s,u.leftoverVisibleColumns,r,!0);return u.move(a,i.lineNumber,i.column,i.leftoverVisibleColumns)}static translateUp(p,c,u){let a=u.selection,r=l.up(p,c,a.selectionStartLineNumber,a.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),d=l.up(p,c,a.positionLineNumber,a.positionColumn,u.leftoverVisibleColumns,1,!1);return new C.SingleCursorState(new k.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new M.Position(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(p,c){return p.getLineFirstNonWhitespaceColumn(c)===0}static moveToPrevBlankLine(p,c,u,a){let r=u.position.lineNumber;for(;r>1&&this._isBlankLine(c,r);)r--;for(;r>1&&!this._isBlankLine(c,r);)r--;return u.move(a,r,c.getLineMinColumn(r),0)}static moveToNextBlankLine(p,c,u,a){const r=c.getLineCount();let d=u.position.lineNumber;for(;d<r&&this._isBlankLine(c,d);)d++;for(;d<r&&!this._isBlankLine(c,d);)d++;return u.move(a,d,c.getLineMinColumn(d),0)}static moveToBeginningOfLine(p,c,u,a){let r=u.position.lineNumber,d=c.getLineMinColumn(r),s=c.getLineFirstNonWhitespaceColumn(r)||d,i;return u.position.column===s?i=d:i=s,u.move(a,r,i,0)}static moveToEndOfLine(p,c,u,a,r){let d=u.position.lineNumber,s=c.getLineMaxColumn(d);return u.move(a,d,s,r?1073741824-s:0)}static moveToBeginningOfBuffer(p,c,u,a){return u.move(a,1,1,0)}static moveToEndOfBuffer(p,c,u,a){let r=c.getLineCount(),d=c.getLineMaxColumn(r);return u.move(a,r,d,0)}}e.MoveOperations=l}),define(ee[179],te([0,1,8,92,42,178,3]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(f,p,c,u){let a=[],r=f!==3;for(let d=0,s=u.length;d<s;d++){const i=u[d];let n=i;if(n.isEmpty()){let t=i.getPosition(),o=w.MoveOperations.right(p,c,t.lineNumber,t.column);n=new S.Range(o.lineNumber,o.column,t.lineNumber,t.column)}if(n.isEmpty()){a[d]=null;continue}n.startLineNumber!==n.endLineNumber&&(r=!0),a[d]=new M.ReplaceCommand(n,"")}return[r,a]}static isAutoClosingPairDelete(f,p,c,u,a){if(f==="never"&&p==="never")return!1;for(let r=0,d=a.length;r<d;r++){const s=a[r],i=s.getPosition();if(!s.isEmpty())return!1;const n=u.getLineContent(i.lineNumber);if(i.column<2||i.column>=n.length+1)return!1;const t=n.charAt(i.column-2),o=c.get(t);if(!o)return!1;if(k.isQuote(t)){if(p==="never")return!1}else if(f==="never")return!1;const h=n.charAt(i.column-1);let _=!1;for(const m of o)m.open===t&&m.close===h&&(_=!0);if(!_)return!1}return!0}static _runAutoClosingPairDelete(f,p,c){let u=[];for(let a=0,r=c.length;a<r;a++){const d=c[a].getPosition(),s=new S.Range(d.lineNumber,d.column-1,d.lineNumber,d.column+1);u[a]=new M.ReplaceCommand(s,"")}return[!0,u]}static deleteLeft(f,p,c,u){if(this.isAutoClosingPairDelete(p.autoClosingBrackets,p.autoClosingQuotes,p.autoClosingPairs.autoClosingPairsOpenByEnd,c,u))return this._runAutoClosingPairDelete(p,c,u);let a=[],r=f!==2;for(let d=0,s=u.length;d<s;d++){const i=u[d];let n=i;if(n.isEmpty()){let t=i.getPosition();if(p.useTabStops&&t.column>1){let o=c.getLineContent(t.lineNumber),h=C.firstNonWhitespaceIndex(o),_=h===-1?o.length+1:h+1;if(t.column<=_){let m=k.CursorColumns.visibleColumnFromColumn2(p,c,t),g=k.CursorColumns.prevIndentTabStop(m,p.indentSize),b=k.CursorColumns.columnFromVisibleColumn2(p,c,t.lineNumber,g);n=new S.Range(t.lineNumber,b,t.lineNumber,t.column)}else n=new S.Range(t.lineNumber,t.column-1,t.lineNumber,t.column)}else{let o=w.MoveOperations.left(p,c,t.lineNumber,t.column);n=new S.Range(o.lineNumber,o.column,t.lineNumber,t.column)}}if(n.isEmpty()){a[d]=null;continue}n.startLineNumber!==n.endLineNumber&&(r=!0),a[d]=new M.ReplaceCommand(n,"")}return[r,a]}static cut(f,p,c){let u=[];for(let a=0,r=c.length;a<r;a++){const d=c[a];if(d.isEmpty())if(f.emptySelectionClipboard){let s=d.getPosition(),i,n,t,o;s.lineNumber<p.getLineCount()?(i=s.lineNumber,n=1,t=s.lineNumber+1,o=1):s.lineNumber>1?(i=s.lineNumber-1,n=p.getLineMaxColumn(s.lineNumber-1),t=s.lineNumber,o=p.getLineMaxColumn(s.lineNumber)):(i=s.lineNumber,n=1,t=s.lineNumber,o=p.getLineMaxColumn(s.lineNumber));let h=new S.Range(i,n,t,o);h.isEmpty()?u[a]=null:u[a]=new M.ReplaceCommand(h,"")}else u[a]=null;else u[a]=new M.ReplaceCommand(d,"")}return new k.EditOperationResult(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(ee[180],te([0,1,11,8,92,177,363,42,105,3,21,108,41]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class a{static indent(s,i,n){if(i===null||n===null)return[];let t=[];for(let o=0,h=n.length;o<h;o++)t[o]=new w.ShiftCommand(n[o],{isUnshift:!1,tabSize:s.tabSize,indentSize:s.indentSize,insertSpaces:s.insertSpaces,useTabStops:s.useTabStops,autoIndent:s.autoIndent});return t}static outdent(s,i,n){let t=[];for(let o=0,h=n.length;o<h;o++)t[o]=new w.ShiftCommand(n[o],{isUnshift:!0,tabSize:s.tabSize,indentSize:s.indentSize,insertSpaces:s.insertSpaces,useTabStops:s.useTabStops,autoIndent:s.autoIndent});return t}static shiftIndent(s,i,n){return n=n||1,w.ShiftCommand.shiftIndent(i,i.length+n,s.tabSize,s.indentSize,s.insertSpaces)}static unshiftIndent(s,i,n){return n=n||1,w.ShiftCommand.unshiftIndent(i,i.length+n,s.tabSize,s.indentSize,s.insertSpaces)}static _distributedPaste(s,i,n,t){let o=[];for(let h=0,_=n.length;h<_;h++)o[h]=new k.ReplaceCommand(n[h],t[h]);return new v.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(s,i,n,t,o){let h=[];for(let _=0,m=n.length;_<m;_++){const g=n[_];let b=g.getPosition();if(o&&!g.isEmpty()&&(o=!1),o&&t.indexOf(`
`)!==t.length-1&&(o=!1),o){let y=new f.Range(b.lineNumber,1,b.lineNumber,1);h[_]=new k.ReplaceCommandThatPreservesSelection(y,t,g,!0)}else h[_]=new k.ReplaceCommand(g,t)}return new v.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(s,i,n,t,o){if(t||i.length===1)return null;if(o&&o.length===i.length)return o;if(s.multiCursorPaste==="spread"){n.charCodeAt(n.length-1)===10&&(n=n.substr(0,n.length-1)),n.charCodeAt(n.length-1)===13&&(n=n.substr(0,n.length-1));let h=M.splitLines(n);if(h.length===i.length)return h}return null}static paste(s,i,n,t,o,h){const _=this._distributePasteToCursors(s,n,t,o,h);return _?(n=n.sort(f.Range.compareRangesUsingStarts),this._distributedPaste(s,i,n,_)):this._simplePaste(s,i,n,t,o)}static _goodIndentForLine(s,i,n){let t=null,o="";const h=u.LanguageConfigurationRegistry.getInheritIndentForLine(s.autoIndent,i,n,!1);if(h)t=h.action,o=h.indentation;else if(n>1){let _;for(_=n-1;_>=1;_--){const b=i.getLineContent(_);if(M.lastNonWhitespaceIndex(b)>=0)break}if(_<1)return null;const m=i.getLineMaxColumn(_),g=u.LanguageConfigurationRegistry.getEnterAction(s.autoIndent,i,new f.Range(_,m,_,m));g&&(o=g.indentation+g.appendText)}return t&&(t===c.IndentAction.Indent&&(o=a.shiftIndent(s,o)),t===c.IndentAction.Outdent&&(o=a.unshiftIndent(s,o)),o=s.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(s,i,n,t){let o="",h=n.getStartPosition();if(s.insertSpaces){let _=v.CursorColumns.visibleColumnFromColumn2(s,i,h),m=s.indentSize,g=m-_%m;for(let b=0;b<g;b++)o+=" "}else o="	";return new k.ReplaceCommand(n,o,t)}static tab(s,i,n){let t=[];for(let o=0,h=n.length;o<h;o++){const _=n[o];if(_.isEmpty()){let m=i.getLineContent(_.startLineNumber);if(/^\s*$/.test(m)&&i.isCheapToTokenize(_.startLineNumber)){let g=this._goodIndentForLine(s,i,_.startLineNumber);g=g||"	";let b=s.normalizeIndentation(g);if(!m.startsWith(b)){t[o]=new k.ReplaceCommand(new f.Range(_.startLineNumber,1,_.startLineNumber,m.length+1),b,!0);continue}}t[o]=this._replaceJumpToNextIndent(s,i,_,!0)}else{if(_.startLineNumber===_.endLineNumber){let m=i.getLineMaxColumn(_.startLineNumber);if(_.startColumn!==1||_.endColumn!==m){t[o]=this._replaceJumpToNextIndent(s,i,_,!1);continue}}t[o]=new w.ShiftCommand(_,{isUnshift:!1,tabSize:s.tabSize,indentSize:s.indentSize,insertSpaces:s.insertSpaces,useTabStops:s.useTabStops,autoIndent:s.autoIndent})}}return t}static replacePreviousChar(s,i,n,t,o,h){let _=[];for(let m=0,g=t.length;m<g;m++){const b=t[m];if(!b.isEmpty()){_[m]=null;continue}const y=b.getPosition(),L=Math.max(1,y.column-h),D=new f.Range(y.lineNumber,L,y.lineNumber,y.column);if(n.getValueInRange(D)===o){_[m]=null;continue}_[m]=new k.ReplaceCommand(D,o)}return new v.EditOperationResult(1,_,{shouldPushStackElementBefore:s!==1,shouldPushStackElementAfter:!1})}static _typeCommand(s,i,n){return n?new k.ReplaceCommandWithoutChangingPosition(s,i,!0):new k.ReplaceCommand(s,i,!0)}static _enter(s,i,n,t){if(s.autoIndent===0)return a._typeCommand(t,`
`,n);if(!i.isCheapToTokenize(t.getStartPosition().lineNumber)||s.autoIndent===1){let m=i.getLineContent(t.startLineNumber),g=M.getLeadingWhitespace(m).substring(0,t.startColumn-1);return a._typeCommand(t,`
`+s.normalizeIndentation(g),n)}const o=u.LanguageConfigurationRegistry.getEnterAction(s.autoIndent,i,t);if(o){if(o.indentAction===c.IndentAction.None)return a._typeCommand(t,`
`+s.normalizeIndentation(o.indentation+o.appendText),n);if(o.indentAction===c.IndentAction.Indent)return a._typeCommand(t,`
`+s.normalizeIndentation(o.indentation+o.appendText),n);if(o.indentAction===c.IndentAction.IndentOutdent){const m=s.normalizeIndentation(o.indentation),g=s.normalizeIndentation(o.indentation+o.appendText),b=`
`+g+`
`+m;return n?new k.ReplaceCommandWithoutChangingPosition(t,b,!0):new k.ReplaceCommandWithOffsetCursorState(t,b,-1,g.length-m.length,!0)}else if(o.indentAction===c.IndentAction.Outdent){const m=a.unshiftIndent(s,o.indentation);return a._typeCommand(t,`
`+s.normalizeIndentation(m+o.appendText),n)}}const h=i.getLineContent(t.startLineNumber),_=M.getLeadingWhitespace(h).substring(0,t.startColumn-1);if(s.autoIndent>=4){const m=u.LanguageConfigurationRegistry.getIndentForEnter(s.autoIndent,i,t,{unshiftIndent:g=>a.unshiftIndent(s,g),shiftIndent:g=>a.shiftIndent(s,g),normalizeIndentation:g=>s.normalizeIndentation(g)});if(m){let g=v.CursorColumns.visibleColumnFromColumn2(s,i,t.getEndPosition());const b=t.endColumn,y=i.getLineContent(t.endLineNumber),L=M.firstNonWhitespaceIndex(y);if(L>=0?t=t.setEndPosition(t.endLineNumber,Math.max(t.endColumn,L+1)):t=t.setEndPosition(t.endLineNumber,i.getLineMaxColumn(t.endLineNumber)),n)return new k.ReplaceCommandWithoutChangingPosition(t,`
`+s.normalizeIndentation(m.afterEnter),!0);{let D=0;return b<=L+1&&(s.insertSpaces||(g=Math.ceil(g/s.indentSize)),D=Math.min(g+1-s.normalizeIndentation(m.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(t,`
`+s.normalizeIndentation(m.afterEnter),0,D,!0)}}}return a._typeCommand(t,`
`+s.normalizeIndentation(_),n)}static _isAutoIndentType(s,i,n){if(s.autoIndent<4)return!1;for(let t=0,o=n.length;t<o;t++)if(!i.isCheapToTokenize(n[t].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(s,i,n,t){const o=u.LanguageConfigurationRegistry.getIndentationAtPosition(i,n.startLineNumber,n.startColumn),h=u.LanguageConfigurationRegistry.getIndentActionForType(s.autoIndent,i,n,t,{shiftIndent:_=>a.shiftIndent(s,_),unshiftIndent:_=>a.unshiftIndent(s,_)});if(h===null)return null;if(h!==s.normalizeIndentation(o)){const _=i.getLineFirstNonWhitespaceColumn(n.startLineNumber);return _===0?a._typeCommand(new f.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn),s.normalizeIndentation(h)+t,!1):a._typeCommand(new f.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn),s.normalizeIndentation(h)+i.getLineContent(n.startLineNumber).substring(_-1,n.startColumn-1)+t,!1)}return null}static _isAutoClosingOvertype(s,i,n,t,o){if(s.autoClosingOvertype==="never"||!s.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let h=0,_=n.length;h<_;h++){const m=n[h];if(!m.isEmpty())return!1;const g=m.getPosition(),b=i.getLineContent(g.lineNumber);if(b.charAt(g.column-1)!==o)return!1;const L=v.isQuote(o);if((g.column>2?b.charCodeAt(g.column-2):0)===92&&L)return!1;if(s.autoClosingOvertype==="auto"){let N=!1;for(let I=0,T=t.length;I<T;I++){const O=t[I];if(g.lineNumber===O.startLineNumber&&g.column===O.startColumn){N=!0;break}}if(!N)return!1}}return!0}static _runAutoClosingOvertype(s,i,n,t,o){let h=[];for(let _=0,m=t.length;_<m;_++){const b=t[_].getPosition(),y=new f.Range(b.lineNumber,b.column,b.lineNumber,b.column+1);h[_]=new k.ReplaceCommand(y,o)}return new v.EditOperationResult(1,h,{shouldPushStackElementBefore:s!==1,shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(s,i){const n=i.charAt(0),t=s.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],o=s.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],h=t.some(m=>i.startsWith(m.open)),_=o.some(m=>i.startsWith(m.close));return!h&&_}static _findAutoClosingPairOpen(s,i,n,t){const o=s.autoClosingPairs.autoClosingPairsOpenByEnd.get(t);if(!o)return null;let h=null;for(const _ of o)if(h===null||_.open.length>h.open.length){let m=!0;for(const g of n)if(i.getValueInRange(new f.Range(g.lineNumber,g.column-_.open.length+1,g.lineNumber,g.column))+t!==_.open){m=!1;break}m&&(h=_)}return h}static _findSubAutoClosingPairClose(s,i){if(i.open.length<=1)return"";const n=i.close.charAt(i.close.length-1),t=s.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let o=null;for(const h of t)h.open!==i.open&&i.open.includes(h.open)&&i.close.endsWith(h.close)&&(!o||h.open.length>o.open.length)&&(o=h);return o?o.close:""}static _getAutoClosingPairClose(s,i,n,t,o){const h=v.isQuote(t),_=h?s.autoClosingQuotes:s.autoClosingBrackets;if(_==="never")return null;const m=this._findAutoClosingPairOpen(s,i,n.map(L=>L.getPosition()),t);if(!m)return null;const g=this._findSubAutoClosingPairClose(s,m);let b=!0;const y=h?s.shouldAutoCloseBefore.quote:s.shouldAutoCloseBefore.bracket;for(let L=0,D=n.length;L<D;L++){const N=n[L];if(!N.isEmpty())return null;const I=N.getPosition(),T=i.getLineContent(I.lineNumber),O=T.substring(I.column-1);if(O.startsWith(g)||(b=!1),T.length>I.column-1){const E=T.charAt(I.column-1);if(!a._isBeforeClosingBrace(s,O)&&!y(E))return null}if(!i.isCheapToTokenize(I.lineNumber))return null;if(m.open.length===1&&h&&_!=="always"){const E=l.getMapForWordSeparators(s.wordSeparators);if(o&&I.column>1&&E.get(T.charCodeAt(I.column-2))===0||!o&&I.column>2&&E.get(T.charCodeAt(I.column-3))===0)return null}i.forceTokenization(I.lineNumber);const A=i.getLineTokens(I.lineNumber);let B=!1;try{B=u.LanguageConfigurationRegistry.shouldAutoClosePair(m,A,o?I.column:I.column-1)}catch(E){C.onUnexpectedError(E)}if(!B)return null}return b?m.close.substring(0,m.close.length-g.length):m.close}static _runAutoClosingOpenCharType(s,i,n,t,o,h,_){let m=[];for(let g=0,b=t.length;g<b;g++){const y=t[g];m[g]=new r(y,o,h,_)}return new v.EditOperationResult(1,m,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(s,i){return v.isQuote(i)?s.autoSurround==="quotes"||s.autoSurround==="languageDefined":s.autoSurround==="brackets"||s.autoSurround==="languageDefined"}static _isSurroundSelectionType(s,i,n,t){if(!a._shouldSurroundChar(s,t)||!s.surroundingPairs.hasOwnProperty(t))return!1;const o=v.isQuote(t);for(let h=0,_=n.length;h<_;h++){const m=n[h];if(m.isEmpty())return!1;let g=!0;for(let b=m.startLineNumber;b<=m.endLineNumber;b++){const y=i.getLineContent(b),L=b===m.startLineNumber?m.startColumn-1:0,D=b===m.endLineNumber?m.endColumn-1:y.length,N=y.substring(L,D);if(/[^ \t]/.test(N)){g=!1;break}}if(g)return!1;if(o&&m.startLineNumber===m.endLineNumber&&m.startColumn+1===m.endColumn){const b=i.getValueInRange(m);if(v.isQuote(b))return!1}}return!0}static _runSurroundSelectionType(s,i,n,t,o){let h=[];for(let _=0,m=t.length;_<m;_++){const g=t[_],b=i.surroundingPairs[o];h[_]=new S.SurroundSelectionCommand(g,o,b)}return new v.EditOperationResult(0,h,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(s,i,n){return!!(n.length===1&&i.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(s,i,n,t,o){if(!i.electricChars.hasOwnProperty(o)||!t.isEmpty())return null;let h=t.getPosition();n.forceTokenization(h.lineNumber);let _=n.getLineTokens(h.lineNumber),m;try{m=u.LanguageConfigurationRegistry.onElectricCharacter(o,_,h.column)}catch(g){return C.onUnexpectedError(g),null}if(!m)return null;if(m.matchOpenBracket){let g=(_.getLineContent()+o).lastIndexOf(m.matchOpenBracket)+1,b=n.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:h.lineNumber,column:g});if(b){if(b.startLineNumber===h.lineNumber)return null;let y=n.getLineContent(b.startLineNumber),L=M.getLeadingWhitespace(y),D=i.normalizeIndentation(L),N=n.getLineContent(h.lineNumber),I=n.getLineFirstNonWhitespaceColumn(h.lineNumber)||h.column,T=N.substring(I-1,h.column-1),O=D+T+o,A=new f.Range(h.lineNumber,1,h.lineNumber,h.column);const B=new k.ReplaceCommand(A,O);return new v.EditOperationResult(1,[B],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(s,i,n,t,o,h){if(!t||p.Selection.selectionsArrEqual(t,o))return null;let _=null;for(const g of o){if(!g.isEmpty())return null;const b=g.getPosition(),y=n.getValueInRange(new f.Range(b.lineNumber,b.column-1,b.lineNumber,b.column));if(_===null)_=y;else if(_!==y)return null}if(!_)return null;if(this._isAutoClosingOvertype(i,n,o,h,_)){const g=o.map(b=>new k.ReplaceCommand(new f.Range(b.positionLineNumber,b.positionColumn,b.positionLineNumber,b.positionColumn+1),"",!1));return new v.EditOperationResult(1,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(i,n,o,_,!1);return m!==null?this._runAutoClosingOpenCharType(s,i,n,o,_,!1,m):null}static typeWithInterceptors(s,i,n,t,o,h,_){if(!s&&_===`
`){let b=[];for(let y=0,L=o.length;y<L;y++)b[y]=a._enter(n,t,!1,o[y]);return new v.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!s&&this._isAutoIndentType(n,t,o)){let b=[],y=!1;for(let L=0,D=o.length;L<D;L++)if(b[L]=this._runAutoIndentType(n,t,o[L],_),!b[L]){y=!0;break}if(!y)return new v.EditOperationResult(1,b,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!s&&this._isAutoClosingOvertype(n,t,o,h,_))return this._runAutoClosingOvertype(i,n,t,o,_);if(!s){const b=this._getAutoClosingPairClose(n,t,o,_,!0);if(b)return this._runAutoClosingOpenCharType(i,n,t,o,_,!0,b)}if(this._isSurroundSelectionType(n,t,o,_))return this._runSurroundSelectionType(i,n,t,o,_);if(!s&&this._isTypeInterceptorElectricChar(n,t,o)){const b=this._typeInterceptorElectricChar(i,n,t,o[0],_);if(b)return b}let m=[];for(let b=0,y=o.length;b<y;b++)m[b]=new k.ReplaceCommand(o[b],_);let g=i!==1;return _===" "&&(g=!0),new v.EditOperationResult(1,m,{shouldPushStackElementBefore:g,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(s,i,n,t,o){let h=[];for(let _=0,m=t.length;_<m;_++)h[_]=new k.ReplaceCommand(t[_],o);return new v.EditOperationResult(1,h,{shouldPushStackElementBefore:s!==1,shouldPushStackElementAfter:!1})}static lineInsertBefore(s,i,n){if(i===null||n===null)return[];let t=[];for(let o=0,h=n.length;o<h;o++){let _=n[o].positionLineNumber;if(_===1)t[o]=new k.ReplaceCommandWithoutChangingPosition(new f.Range(1,1,1,1),`
`);else{_--;let m=i.getLineMaxColumn(_);t[o]=this._enter(s,i,!1,new f.Range(_,m,_,m))}}return t}static lineInsertAfter(s,i,n){if(i===null||n===null)return[];let t=[];for(let o=0,h=n.length;o<h;o++){const _=n[o].positionLineNumber;let m=i.getLineMaxColumn(_);t[o]=this._enter(s,i,!1,new f.Range(_,m,_,m))}return t}static lineBreakInsert(s,i,n){let t=[];for(let o=0,h=n.length;o<h;o++)t[o]=this._enter(s,i,!0,n[o]);return t}}e.TypeOperations=a;class r extends k.ReplaceCommandWithOffsetCursorState{constructor(s,i,n,t){super(s,(n?i:"")+t,0,-t.length);this._openCharacter=i,this._closeCharacter=t,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(s,i){let t=i.getInverseEditOperations()[0].range;return this.closeCharacterRange=new f.Range(t.startLineNumber,t.endColumn-this._closeCharacter.length,t.endLineNumber,t.endColumn),this.enclosingRange=new f.Range(t.startLineNumber,t.endColumn-this._openCharacter.length-this._closeCharacter.length,t.endLineNumber,t.endColumn),super.computeCursorState(s,i)}}e.TypeWithAutoClosingCommand=r}),define(ee[137],te([0,1,8,42,179,105,13,3]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class l{static _createWord(u,a,r,d,s){return{start:d,end:s,wordType:a,nextCharClass:r}}static _findPreviousWordOnLine(u,a,r){let d=a.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(d,u,r)}static _doFindPreviousWordOnLine(u,a,r){let d=0;for(let s=r.column-2;s>=0;s--){let i=u.charCodeAt(s),n=a.get(i);if(n===0){if(d===2)return this._createWord(u,d,n,s+1,this._findEndOfWord(u,a,d,s+1));d=1}else if(n===2){if(d===1)return this._createWord(u,d,n,s+1,this._findEndOfWord(u,a,d,s+1));d=2}else if(n===1&&d!==0)return this._createWord(u,d,n,s+1,this._findEndOfWord(u,a,d,s+1))}return d!==0?this._createWord(u,d,1,0,this._findEndOfWord(u,a,d,0)):null}static _findEndOfWord(u,a,r,d){let s=u.length;for(let i=d;i<s;i++){let n=u.charCodeAt(i),t=a.get(n);if(t===1||r===1&&t===2||r===2&&t===0)return i}return s}static _findNextWordOnLine(u,a,r){let d=a.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(d,u,r)}static _doFindNextWordOnLine(u,a,r){let d=0,s=u.length;for(let i=r.column-1;i<s;i++){let n=u.charCodeAt(i),t=a.get(n);if(t===0){if(d===2)return this._createWord(u,d,t,this._findStartOfWord(u,a,d,i-1),i);d=1}else if(t===2){if(d===1)return this._createWord(u,d,t,this._findStartOfWord(u,a,d,i-1),i);d=2}else if(t===1&&d!==0)return this._createWord(u,d,t,this._findStartOfWord(u,a,d,i-1),i)}return d!==0?this._createWord(u,d,1,this._findStartOfWord(u,a,d,s-1),s):null}static _findStartOfWord(u,a,r,d){for(let s=d;s>=0;s--){let i=u.charCodeAt(s),n=a.get(i);if(n===1||r===1&&n===2||r===2&&n===0)return s+1}return 0}static moveWordLeft(u,a,r,d){let s=r.lineNumber,i=r.column;i===1&&s>1&&(s=s-1,i=a.getLineMaxColumn(s));let n=l._findPreviousWordOnLine(u,a,new S.Position(s,i));if(d===0)return new S.Position(s,n?n.start+1:1);if(d===1)return n&&n.wordType===2&&n.end-n.start==1&&n.nextCharClass===0&&(n=l._findPreviousWordOnLine(u,a,new S.Position(s,n.start+1))),new S.Position(s,n?n.start+1:1);if(d===3){for(;n&&n.wordType===2;)n=l._findPreviousWordOnLine(u,a,new S.Position(s,n.start+1));return new S.Position(s,n?n.start+1:1)}return n&&i<=n.end+1&&(n=l._findPreviousWordOnLine(u,a,new S.Position(s,n.start+1))),new S.Position(s,n?n.end+1:1)}static _moveWordPartLeft(u,a){const r=a.lineNumber,d=u.getLineMaxColumn(r);if(a.column===1)return r>1?new S.Position(r-1,u.getLineMaxColumn(r-1)):a;const s=u.getLineContent(r);for(let i=a.column-1;i>1;i--){const n=s.charCodeAt(i-2),t=s.charCodeAt(i-1);if(n===95&&t!==95)return new S.Position(r,i);if(C.isLowerAsciiLetter(n)&&C.isUpperAsciiLetter(t))return new S.Position(r,i);if(C.isUpperAsciiLetter(n)&&C.isUpperAsciiLetter(t)&&i+1<d){const o=s.charCodeAt(i);if(C.isLowerAsciiLetter(o))return new S.Position(r,i)}}return new S.Position(r,1)}static moveWordRight(u,a,r,d){let s=r.lineNumber,i=r.column,n=!1;i===a.getLineMaxColumn(s)&&s<a.getLineCount()&&(n=!0,s=s+1,i=1);let t=l._findNextWordOnLine(u,a,new S.Position(s,i));if(d===2)t&&t.wordType===2&&t.end-t.start==1&&t.nextCharClass===0&&(t=l._findNextWordOnLine(u,a,new S.Position(s,t.end+1))),t?i=t.end+1:i=a.getLineMaxColumn(s);else if(d===3){for(n&&(i=0);t&&(t.wordType===2||t.start+1<=i);)t=l._findNextWordOnLine(u,a,new S.Position(s,t.end+1));t?i=t.start+1:i=a.getLineMaxColumn(s)}else t&&!n&&i>=t.start+1&&(t=l._findNextWordOnLine(u,a,new S.Position(s,t.end+1))),t?i=t.start+1:i=a.getLineMaxColumn(s);return new S.Position(s,i)}static _moveWordPartRight(u,a){const r=a.lineNumber,d=u.getLineMaxColumn(r);if(a.column===d)return r<u.getLineCount()?new S.Position(r+1,1):a;const s=u.getLineContent(r);for(let i=a.column+1;i<d;i++){const n=s.charCodeAt(i-2),t=s.charCodeAt(i-1);if(n!==95&&t===95)return new S.Position(r,i);if(C.isLowerAsciiLetter(n)&&C.isUpperAsciiLetter(t))return new S.Position(r,i);if(C.isUpperAsciiLetter(n)&&C.isUpperAsciiLetter(t)&&i+1<d){const o=s.charCodeAt(i);if(C.isLowerAsciiLetter(o))return new S.Position(r,i)}}return new S.Position(r,d)}static _deleteWordLeftWhitespace(u,a){const r=u.getLineContent(a.lineNumber),d=a.column-2,s=C.lastNonWhitespaceIndex(r,d);return s+1<d?new v.Range(a.lineNumber,s+2,a.lineNumber,a.column):null}static deleteWordLeft(u,a){const r=u.wordSeparators,d=u.model,s=u.selection,i=u.whitespaceHeuristics;if(!s.isEmpty())return s;if(k.DeleteOperations.isAutoClosingPairDelete(u.autoClosingBrackets,u.autoClosingQuotes,u.autoClosingPairs.autoClosingPairsOpenByEnd,u.model,[u.selection])){const _=u.selection.getPosition();return new v.Range(_.lineNumber,_.column-1,_.lineNumber,_.column+1)}const n=new S.Position(s.positionLineNumber,s.positionColumn);let t=n.lineNumber,o=n.column;if(t===1&&o===1)return null;if(i){let _=this._deleteWordLeftWhitespace(d,n);if(_)return _}let h=l._findPreviousWordOnLine(r,d,n);return a===0?h?o=h.start+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t)):(h&&o<=h.end+1&&(h=l._findPreviousWordOnLine(r,d,new S.Position(t,h.start+1))),h?o=h.end+1:o>1?o=1:(t--,o=d.getLineMaxColumn(t))),new v.Range(t,o,n.lineNumber,n.column)}static deleteInsideWord(u,a,r){if(!r.isEmpty())return r;const d=new S.Position(r.positionLineNumber,r.positionColumn);let s=this._deleteInsideWordWhitespace(a,d);return s||this._deleteInsideWordDetermineDeleteRange(u,a,d)}static _charAtIsWhitespace(u,a){const r=u.charCodeAt(a);return r===32||r===9}static _deleteInsideWordWhitespace(u,a){const r=u.getLineContent(a.lineNumber),d=r.length;if(d===0)return null;let s=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(r,s))return null;let i=Math.min(a.column-1,d-1);if(!this._charAtIsWhitespace(r,i))return null;for(;s>0&&this._charAtIsWhitespace(r,s-1);)s--;for(;i+1<d&&this._charAtIsWhitespace(r,i+1);)i++;return new v.Range(a.lineNumber,s+1,a.lineNumber,i+2)}static _deleteInsideWordDetermineDeleteRange(u,a,r){const d=a.getLineContent(r.lineNumber),s=d.length;if(s===0)return r.lineNumber>1?new v.Range(r.lineNumber-1,a.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<a.getLineCount()?new v.Range(r.lineNumber,1,r.lineNumber+1,1):new v.Range(r.lineNumber,1,r.lineNumber,1);const i=_=>_.start+1<=r.column&&r.column<=_.end+1,n=(_,m)=>(_=Math.min(_,r.column),m=Math.max(m,r.column),new v.Range(r.lineNumber,_,r.lineNumber,m)),t=_=>{let m=_.start+1,g=_.end+1,b=!1;for(;g-1<s&&this._charAtIsWhitespace(d,g-1);)b=!0,g++;if(!b)for(;m>1&&this._charAtIsWhitespace(d,m-2);)m--;return n(m,g)},o=l._findPreviousWordOnLine(u,a,r);if(o&&i(o))return t(o);const h=l._findNextWordOnLine(u,a,r);return h&&i(h)?t(h):o&&h?n(o.end+1,h.start+1):o?n(o.start+1,o.end+1):h?n(h.start+1,h.end+1):n(1,s+1)}static _deleteWordPartLeft(u,a){if(!a.isEmpty())return a;const r=a.getPosition(),d=l._moveWordPartLeft(u,r);return new v.Range(r.lineNumber,r.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(u,a){let r=u.length;for(let d=a;d<r;d++){let s=u.charAt(d);if(s!==" "&&s!=="	")return d}return r}static _deleteWordRightWhitespace(u,a){const r=u.getLineContent(a.lineNumber),d=a.column-1,s=this._findFirstNonWhitespaceChar(r,d);return d+1<s?new v.Range(a.lineNumber,a.column,a.lineNumber,s+1):null}static deleteWordRight(u,a){const r=u.wordSeparators,d=u.model,s=u.selection,i=u.whitespaceHeuristics;if(!s.isEmpty())return s;const n=new S.Position(s.positionLineNumber,s.positionColumn);let t=n.lineNumber,o=n.column;const h=d.getLineCount(),_=d.getLineMaxColumn(t);if(t===h&&o===_)return null;if(i){let g=this._deleteWordRightWhitespace(d,n);if(g)return g}let m=l._findNextWordOnLine(r,d,n);return a===2?m?o=m.end+1:o<_||t===h?o=_:(t++,m=l._findNextWordOnLine(r,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t)):(m&&o>=m.start+1&&(m=l._findNextWordOnLine(r,d,new S.Position(t,m.end+1))),m?o=m.start+1:o<_||t===h?o=_:(t++,m=l._findNextWordOnLine(r,d,new S.Position(t,1)),m?o=m.start+1:o=d.getLineMaxColumn(t))),new v.Range(t,o,n.lineNumber,n.column)}static _deleteWordPartRight(u,a){if(!a.isEmpty())return a;const r=a.getPosition(),d=l._moveWordPartRight(u,r);return new v.Range(r.lineNumber,r.column,d.lineNumber,d.column)}static _createWordAtPosition(u,a,r){const d=new v.Range(a,r.start+1,a,r.end+1);return{word:u.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(u,a,r){const d=w.getMapForWordSeparators(a),s=l._findPreviousWordOnLine(d,u,r);if(s&&s.wordType===1&&s.start<=r.column-1&&r.column-1<=s.end)return l._createWordAtPosition(u,r.lineNumber,s);const i=l._findNextWordOnLine(d,u,r);return i&&i.wordType===1&&i.start<=r.column-1&&r.column-1<=i.end?l._createWordAtPosition(u,r.lineNumber,i):null}static word(u,a,r,d,s){const i=w.getMapForWordSeparators(u.wordSeparators);let n=l._findPreviousWordOnLine(i,a,s),t=l._findNextWordOnLine(i,a,s);if(!d){let g,b;return n&&n.wordType===1&&n.start<=s.column-1&&s.column-1<=n.end?(g=n.start+1,b=n.end+1):t&&t.wordType===1&&t.start<=s.column-1&&s.column-1<=t.end?(g=t.start+1,b=t.end+1):(n?g=n.end+1:g=1,t?b=t.start+1:b=a.getLineMaxColumn(s.lineNumber)),new M.SingleCursorState(new v.Range(s.lineNumber,g,s.lineNumber,b),0,new S.Position(s.lineNumber,b),0)}let o,h;n&&n.wordType===1&&n.start<s.column-1&&s.column-1<n.end?(o=n.start+1,h=n.end+1):t&&t.wordType===1&&t.start<s.column-1&&s.column-1<t.end?(o=t.start+1,h=t.end+1):(o=s.column,h=s.column);let _=s.lineNumber,m;if(r.selectionStart.containsPosition(s))m=r.selectionStart.endColumn;else if(s.isBeforeOrEqual(r.selectionStart.getStartPosition())){m=o;let g=new S.Position(_,m);r.selectionStart.containsPosition(g)&&(m=r.selectionStart.endColumn)}else{m=h;let g=new S.Position(_,m);r.selectionStart.containsPosition(g)&&(m=r.selectionStart.startColumn)}return r.move(!0,_,m,0)}}e.WordOperations=l;class f extends l{static deleteWordPartLeft(u){const a=p([l.deleteWordLeft(u,0),l.deleteWordLeft(u,2),l._deleteWordPartLeft(u.model,u.selection)]);return a.sort(v.Range.compareRangesUsingEnds),a[2]}static deleteWordPartRight(u){const a=p([l.deleteWordRight(u,0),l.deleteWordRight(u,2),l._deleteWordPartRight(u.model,u.selection)]);return a.sort(v.Range.compareRangesUsingStarts),a[0]}static moveWordPartLeft(u,a,r){const d=p([l.moveWordLeft(u,a,r,0),l.moveWordLeft(u,a,r,2),l._moveWordPartLeft(a,r)]);return d.sort(S.Position.compare),d[2]}static moveWordPartRight(u,a,r){const d=p([l.moveWordRight(u,a,r,0),l.moveWordRight(u,a,r,2),l._moveWordPartRight(a,r)]);return d.sort(S.Position.compare),d[0]}}e.WordPartOperations=f;function p(c){return c.filter(u=>Boolean(u))}}),define(ee[240],te([0,1,20,42,178,137,13,3]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class l{static addCursorDown(c,u,a){let r=[],d=0;for(let s=0,i=u.length;s<i;s++){const n=u[s];r[d++]=new M.CursorState(n.modelState,n.viewState),a?r[d++]=M.CursorState.fromModelState(k.MoveOperations.translateDown(c.cursorConfig,c.model,n.modelState)):r[d++]=M.CursorState.fromViewState(k.MoveOperations.translateDown(c.cursorConfig,c,n.viewState))}return r}static addCursorUp(c,u,a){let r=[],d=0;for(let s=0,i=u.length;s<i;s++){const n=u[s];r[d++]=new M.CursorState(n.modelState,n.viewState),a?r[d++]=M.CursorState.fromModelState(k.MoveOperations.translateUp(c.cursorConfig,c.model,n.modelState)):r[d++]=M.CursorState.fromViewState(k.MoveOperations.translateUp(c.cursorConfig,c,n.viewState))}return r}static moveToBeginningOfLine(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d];r[d]=this._moveToLineStart(c,i,a)}return r}static _moveToLineStart(c,u,a){const r=u.viewState.position.column,d=u.modelState.position.column,s=r===d,i=u.viewState.position.lineNumber,n=c.getLineFirstNonWhitespaceColumn(i);return!s&&!(r===n)?this._moveToLineStartByView(c,u,a):this._moveToLineStartByModel(c,u,a)}static _moveToLineStartByView(c,u,a){return M.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(c.cursorConfig,c,u.viewState,a))}static _moveToLineStartByModel(c,u,a){return M.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(c.cursorConfig,c.model,u.modelState,a))}static moveToEndOfLine(c,u,a,r){let d=[];for(let s=0,i=u.length;s<i;s++){const n=u[s];d[s]=this._moveToLineEnd(c,n,a,r)}return d}static _moveToLineEnd(c,u,a,r){const d=u.viewState.position,s=c.getLineMaxColumn(d.lineNumber),i=d.column===s,n=u.modelState.position,t=c.model.getLineMaxColumn(n.lineNumber),o=s-d.column==t-n.column;return i||o?this._moveToLineEndByModel(c,u,a,r):this._moveToLineEndByView(c,u,a,r)}static _moveToLineEndByView(c,u,a,r){return M.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(c.cursorConfig,c,u.viewState,a,r))}static _moveToLineEndByModel(c,u,a,r){return M.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(c.cursorConfig,c.model,u.modelState,a,r))}static expandLineSelection(c,u){let a=[];for(let r=0,d=u.length;r<d;r++){const s=u[r],i=s.modelState.selection.startLineNumber,n=c.model.getLineCount();let t=s.modelState.selection.endLineNumber,o;t===n?o=c.model.getLineMaxColumn(n):(t++,o=1),a[r]=M.CursorState.fromModelState(new M.SingleCursorState(new v.Range(i,1,i,1),0,new S.Position(t,o),0))}return a}static moveToBeginningOfBuffer(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d];r[d]=M.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(c.cursorConfig,c.model,i.modelState,a))}return r}static moveToEndOfBuffer(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d];r[d]=M.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(c.cursorConfig,c.model,i.modelState,a))}return r}static selectAll(c,u){const a=c.model.getLineCount(),r=c.model.getLineMaxColumn(a);return M.CursorState.fromModelState(new M.SingleCursorState(new v.Range(1,1,1,1),0,new S.Position(a,r),0))}static line(c,u,a,r,d){const s=c.model.validatePosition(r),i=d?c.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),s):c.coordinatesConverter.convertModelPositionToViewPosition(s);if(!a||!u.modelState.hasSelection()){const t=c.model.getLineCount();let o=s.lineNumber+1,h=1;return o>t&&(o=t,h=c.model.getLineMaxColumn(o)),M.CursorState.fromModelState(new M.SingleCursorState(new v.Range(s.lineNumber,1,o,h),0,new S.Position(o,h),0))}const n=u.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<n)return M.CursorState.fromViewState(u.viewState.move(u.modelState.hasSelection(),i.lineNumber,1,0));if(s.lineNumber>n){const t=c.getLineCount();let o=i.lineNumber+1,h=1;return o>t&&(o=t,h=c.getLineMaxColumn(o)),M.CursorState.fromViewState(u.viewState.move(u.modelState.hasSelection(),o,h,0))}else{const t=u.modelState.selectionStart.getEndPosition();return M.CursorState.fromModelState(u.modelState.move(u.modelState.hasSelection(),t.lineNumber,t.column,0))}}static word(c,u,a,r){const d=c.model.validatePosition(r);return M.CursorState.fromModelState(w.WordOperations.word(c.cursorConfig,c.model,u.modelState,a,d))}static cancelSelection(c,u){if(!u.modelState.hasSelection())return new M.CursorState(u.modelState,u.viewState);const a=u.viewState.position.lineNumber,r=u.viewState.position.column;return M.CursorState.fromViewState(new M.SingleCursorState(new v.Range(a,r,a,r),0,new S.Position(a,r),0))}static moveTo(c,u,a,r,d){const s=c.model.validatePosition(r),i=d?c.coordinatesConverter.validateViewPosition(new S.Position(d.lineNumber,d.column),s):c.coordinatesConverter.convertModelPositionToViewPosition(s);return M.CursorState.fromViewState(u.viewState.move(a,i.lineNumber,i.column,0))}static simpleMove(c,u,a,r,d,s){switch(a){case 0:return s===4?this._moveHalfLineLeft(c,u,r):this._moveLeft(c,u,r,d);case 1:return s===4?this._moveHalfLineRight(c,u,r):this._moveRight(c,u,r,d);case 2:return s===2?this._moveUpByViewLines(c,u,r,d):this._moveUpByModelLines(c,u,r,d);case 3:return s===2?this._moveDownByViewLines(c,u,r,d):this._moveDownByModelLines(c,u,r,d);case 4:return s===2?u.map(i=>M.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(c.cursorConfig,c,i.viewState,r))):u.map(i=>M.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(c.cursorConfig,c.model,i.modelState,r)));case 5:return s===2?u.map(i=>M.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(c.cursorConfig,c,i.viewState,r))):u.map(i=>M.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(c.cursorConfig,c.model,i.modelState,r)));case 6:return this._moveToViewMinColumn(c,u,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(c,u,r);case 8:return this._moveToViewCenterColumn(c,u,r);case 9:return this._moveToViewMaxColumn(c,u,r);case 10:return this._moveToViewLastNonWhitespaceColumn(c,u,r);default:return null}}static viewportMove(c,u,a,r,d){const s=c.getCompletelyVisibleViewRange(),i=c.coordinatesConverter.convertViewRangeToModelRange(s);switch(a){case 11:{const n=this._firstLineNumberInRange(c.model,i,d),t=c.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(c,u[0],r,n,t)]}case 13:{const n=this._lastLineNumberInRange(c.model,i,d),t=c.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(c,u[0],r,n,t)]}case 12:{const n=Math.round((i.startLineNumber+i.endLineNumber)/2),t=c.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(c,u[0],r,n,t)]}case 14:{let n=[];for(let t=0,o=u.length;t<o;t++){const h=u[t];n[t]=this.findPositionInViewportIfOutside(c,h,s,r)}return n}default:return null}}static findPositionInViewportIfOutside(c,u,a,r){let d=u.viewState.position.lineNumber;if(a.startLineNumber<=d&&d<=a.endLineNumber-1)return new M.CursorState(u.modelState,u.viewState);{d>a.endLineNumber-1&&(d=a.endLineNumber-1),d<a.startLineNumber&&(d=a.startLineNumber);const s=c.getLineFirstNonWhitespaceColumn(d);return this._moveToViewPosition(c,u,r,d,s)}}static _firstLineNumberInRange(c,u,a){let r=u.startLineNumber;return u.startColumn!==c.getLineMinColumn(r)&&r++,Math.min(u.endLineNumber,r+a-1)}static _lastLineNumberInRange(c,u,a){let r=u.startLineNumber;return u.startColumn!==c.getLineMinColumn(r)&&r++,Math.max(r,u.endLineNumber-a+1)}static _moveLeft(c,u,a,r){const d=u.length>1;let s=[];for(let i=0,n=u.length;i<n;i++){const t=u[i],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveLeft(c.cursorConfig,c,t.viewState,a,r);o&&r===1&&t.viewState.position.column===c.getLineMinColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&c.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveLeft(c.cursorConfig,c,h,a,1)),s[i]=M.CursorState.fromViewState(h)}return s}static _moveHalfLineLeft(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=Math.round(c.getLineContent(n).length/2);r[d]=M.CursorState.fromViewState(k.MoveOperations.moveLeft(c.cursorConfig,c,i.viewState,a,t))}return r}static _moveRight(c,u,a,r){const d=u.length>1;let s=[];for(let i=0,n=u.length;i<n;i++){const t=u[i],o=d||!t.viewState.hasSelection();let h=k.MoveOperations.moveRight(c.cursorConfig,c,t.viewState,a,r);o&&r===1&&t.viewState.position.column===c.getLineMaxColumn(t.viewState.position.lineNumber)&&h.position.lineNumber!==t.viewState.position.lineNumber&&c.coordinatesConverter.convertViewPositionToModelPosition(h.position).lineNumber===t.modelState.position.lineNumber&&(h=k.MoveOperations.moveRight(c.cursorConfig,c,h,a,1)),s[i]=M.CursorState.fromViewState(h)}return s}static _moveHalfLineRight(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=Math.round(c.getLineContent(n).length/2);r[d]=M.CursorState.fromViewState(k.MoveOperations.moveRight(c.cursorConfig,c,i.viewState,a,t))}return r}static _moveDownByViewLines(c,u,a,r){let d=[];for(let s=0,i=u.length;s<i;s++){const n=u[s];d[s]=M.CursorState.fromViewState(k.MoveOperations.moveDown(c.cursorConfig,c,n.viewState,a,r))}return d}static _moveDownByModelLines(c,u,a,r){let d=[];for(let s=0,i=u.length;s<i;s++){const n=u[s];d[s]=M.CursorState.fromModelState(k.MoveOperations.moveDown(c.cursorConfig,c.model,n.modelState,a,r))}return d}static _moveUpByViewLines(c,u,a,r){let d=[];for(let s=0,i=u.length;s<i;s++){const n=u[s];d[s]=M.CursorState.fromViewState(k.MoveOperations.moveUp(c.cursorConfig,c,n.viewState,a,r))}return d}static _moveUpByModelLines(c,u,a,r){let d=[];for(let s=0,i=u.length;s<i;s++){const n=u[s];d[s]=M.CursorState.fromModelState(k.MoveOperations.moveUp(c.cursorConfig,c.model,n.modelState,a,r))}return d}static _moveToViewPosition(c,u,a,r,d){return M.CursorState.fromViewState(u.viewState.move(a,r,d,0))}static _moveToModelPosition(c,u,a,r,d){return M.CursorState.fromModelState(u.modelState.move(a,r,d,0))}static _moveToViewMinColumn(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=c.getLineMinColumn(n);r[d]=this._moveToViewPosition(c,i,a,n,t)}return r}static _moveToViewFirstNonWhitespaceColumn(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=c.getLineFirstNonWhitespaceColumn(n);r[d]=this._moveToViewPosition(c,i,a,n,t)}return r}static _moveToViewCenterColumn(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=Math.round((c.getLineMaxColumn(n)+c.getLineMinColumn(n))/2);r[d]=this._moveToViewPosition(c,i,a,n,t)}return r}static _moveToViewMaxColumn(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=c.getLineMaxColumn(n);r[d]=this._moveToViewPosition(c,i,a,n,t)}return r}static _moveToViewLastNonWhitespaceColumn(c,u,a){let r=[];for(let d=0,s=u.length;d<s;d++){const i=u[d],n=i.viewState.position.lineNumber,t=c.getLineLastNonWhitespaceColumn(n);r[d]=this._moveToViewPosition(c,i,a,n,t)}return r}}e.CursorMoveCommands=l;var f;(function(p){const c=function(a){if(!C.isObject(a))return!1;let r=a;return!(!C.isString(r.to)||!C.isUndefined(r.select)&&!C.isBoolean(r.select)||!C.isUndefined(r.by)&&!C.isString(r.by)||!C.isUndefined(r.value)&&!C.isNumber(r.value))};p.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:c,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},p.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},p.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function u(a){if(!a.to)return null;let r;switch(a.to){case p.RawDirection.Left:r=0;break;case p.RawDirection.Right:r=1;break;case p.RawDirection.Up:r=2;break;case p.RawDirection.Down:r=3;break;case p.RawDirection.PrevBlankLine:r=4;break;case p.RawDirection.NextBlankLine:r=5;break;case p.RawDirection.WrappedLineStart:r=6;break;case p.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case p.RawDirection.WrappedLineColumnCenter:r=8;break;case p.RawDirection.WrappedLineEnd:r=9;break;case p.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case p.RawDirection.ViewPortTop:r=11;break;case p.RawDirection.ViewPortBottom:r=13;break;case p.RawDirection.ViewPortCenter:r=12;break;case p.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let d=0;switch(a.by){case p.RawUnit.Line:d=1;break;case p.RawUnit.WrappedLine:d=2;break;case p.RawUnit.Character:d=3;break;case p.RawUnit.HalfLine:d=4;break}return{direction:r,unit:d,select:!!a.select,value:a.value||1}}p.parse=u})(f=e.CursorMove||(e.CursorMove={}))}),define(ee[530],te([0,1,42,13,3,21]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OneCursor=void 0;class S{constructor(l){this._selTrackedRange=null,this._trackSelection=!0,this._setState(l,new C.SingleCursorState(new k.Range(1,1,1,1),0,new M.Position(1,1),0),new C.SingleCursorState(new k.Range(1,1,1,1),0,new M.Position(1,1),0))}dispose(l){this._removeTrackedRange(l)}startTrackingSelection(l){this._trackSelection=!0,this._updateTrackedRange(l)}stopTrackingSelection(l){this._trackSelection=!1,this._removeTrackedRange(l)}_updateTrackedRange(l){!this._trackSelection||(this._selTrackedRange=l.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(l){this._selTrackedRange=l.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new C.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(l){const f=l.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new w.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):new w.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn)}ensureValidState(l){this._setState(l,this.modelState,this.viewState)}setState(l,f,p){this._setState(l,f,p)}_setState(l,f,p){if(f){const c=l.model.validateRange(f.selectionStart),u=f.selectionStart.equalsRange(c)?f.selectionStartLeftoverVisibleColumns:0,a=l.model.validatePosition(f.position),r=f.position.equals(a)?f.leftoverVisibleColumns:0;f=new C.SingleCursorState(c,u,a,r)}else{if(!p)return;const c=l.model.validateRange(l.coordinatesConverter.convertViewRangeToModelRange(p.selectionStart)),u=l.model.validatePosition(l.coordinatesConverter.convertViewPositionToModelPosition(p.position));f=new C.SingleCursorState(c,p.selectionStartLeftoverVisibleColumns,u,p.leftoverVisibleColumns)}if(p){const c=l.coordinatesConverter.validateViewRange(p.selectionStart,f.selectionStart),u=l.coordinatesConverter.validateViewPosition(p.position,f.position);p=new C.SingleCursorState(c,f.selectionStartLeftoverVisibleColumns,u,f.leftoverVisibleColumns)}else{const c=l.coordinatesConverter.convertModelPositionToViewPosition(new M.Position(f.selectionStart.startLineNumber,f.selectionStart.startColumn)),u=l.coordinatesConverter.convertModelPositionToViewPosition(new M.Position(f.selectionStart.endLineNumber,f.selectionStart.endColumn)),a=new k.Range(c.lineNumber,c.column,u.lineNumber,u.column),r=l.coordinatesConverter.convertModelPositionToViewPosition(f.position);p=new C.SingleCursorState(a,f.selectionStartLeftoverVisibleColumns,r,f.leftoverVisibleColumns)}this.modelState=f,this.viewState=p,this._updateTrackedRange(l)}}e.OneCursor=S}),define(ee[531],te([0,1,42,530,21]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class w{constructor(v){this.context=v,this.primaryCursor=new M.OneCursor(v),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let v=0,l=this.secondaryCursors.length;v<l;v++)this.secondaryCursors[v].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let v=0,l=this.secondaryCursors.length;v<l;v++)this.secondaryCursors[v].stopTrackingSelection(this.context)}updateContext(v){this.context=v}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let v=0,l=this.secondaryCursors.length;v<l;v++)this.secondaryCursors[v].ensureValidState(this.context)}readSelectionFromMarkers(){let v=[];v[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l].readSelectionFromMarkers(this.context);return v}getAll(){let v=[];v[0]=this.primaryCursor.asCursorState();for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l].asCursorState();return v}getViewPositions(){let v=[];v[0]=this.primaryCursor.viewState.position;for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l].viewState.position;return v}getTopMostViewPosition(){let v=this.primaryCursor.viewState.position;for(let l=0,f=this.secondaryCursors.length;l<f;l++){const p=this.secondaryCursors[l].viewState.position;p.isBefore(v)&&(v=p)}return v}getBottomMostViewPosition(){let v=this.primaryCursor.viewState.position;for(let l=0,f=this.secondaryCursors.length;l<f;l++){const p=this.secondaryCursors[l].viewState.position;v.isBeforeOrEqual(p)&&(v=p)}return v}getSelections(){let v=[];v[0]=this.primaryCursor.modelState.selection;for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l].modelState.selection;return v}getViewSelections(){let v=[];v[0]=this.primaryCursor.viewState.selection;for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l].viewState.selection;return v}setSelections(v){this.setStates(C.CursorState.fromModelSelections(v))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(v){v!==null&&(this.primaryCursor.setState(this.context,v[0].modelState,v[0].viewState),this._setSecondaryStates(v.slice(1)))}_setSecondaryStates(v){const l=this.secondaryCursors.length,f=v.length;if(l<f){let p=f-l;for(let c=0;c<p;c++)this._addSecondaryCursor()}else if(l>f){let p=l-f;for(let c=0;c<p;c++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let p=0;p<f;p++)this.secondaryCursors[p].setState(this.context,v[p].modelState,v[p].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new M.OneCursor(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(v){this.lastAddedCursorIndex>=v+1&&this.lastAddedCursorIndex--,this.secondaryCursors[v].dispose(this.context),this.secondaryCursors.splice(v,1)}_getAll(){let v=[];v[0]=this.primaryCursor;for(let l=0,f=this.secondaryCursors.length;l<f;l++)v[l+1]=this.secondaryCursors[l];return v}normalize(){if(this.secondaryCursors.length!==0){let v=this._getAll(),l=[];for(let f=0,p=v.length;f<p;f++)l.push({index:f,selection:v[f].modelState.selection});l.sort((f,p)=>f.selection.startLineNumber===p.selection.startLineNumber?f.selection.startColumn-p.selection.startColumn:f.selection.startLineNumber-p.selection.startLineNumber);for(let f=0;f<l.length-1;f++){const p=l[f],c=l[f+1],u=p.selection,a=c.selection;if(!!this.context.cursorConfig.multiCursorMergeOverlapping){let r;if(a.isEmpty()||u.isEmpty()?r=a.getStartPosition().isBeforeOrEqual(u.getEndPosition()):r=a.getStartPosition().isBefore(u.getEndPosition()),r){const d=p.index<c.index?f:f+1,s=p.index<c.index?f+1:f,i=l[s].index,n=l[d].index,t=l[s].selection,o=l[d].selection;if(!t.equalsSelection(o)){const h=t.plusRange(o),_=t.selectionStartLineNumber===t.startLineNumber&&t.selectionStartColumn===t.startColumn,m=o.selectionStartLineNumber===o.startLineNumber&&o.selectionStartColumn===o.startColumn;let g;i===this.lastAddedCursorIndex?(g=_,this.lastAddedCursorIndex=n):g=m;let b;g?b=new k.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn):b=new k.Selection(h.endLineNumber,h.endColumn,h.startLineNumber,h.startColumn),l[d].selection=b;const y=C.CursorState.fromModelSelection(b);v[n].setState(this.context,y.modelState,y.viewState)}for(const h of l)h.index>i&&h.index--;v.splice(i,1),l.splice(s,1),this._removeSecondaryCursor(i-1),f--}}}}}}e.CursorCollection=w}),define(ee[241],te([0,1,11,8,531,42,179,180,3,21,169,2,172]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=e.CursorModelState=void 0;class a{constructor(n,t){this.modelVersionId=n.getVersionId(),this.cursorState=t.getCursorStates()}equals(n){if(!n||this.modelVersionId!==n.modelVersionId||this.cursorState.length!==n.cursorState.length)return!1;for(let t=0,o=this.cursorState.length;t<o;t++)if(!this.cursorState[t].equals(n.cursorState[t]))return!1;return!0}}e.CursorModelState=a;class r{constructor(n,t,o){this._model=n,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=o}static getAllAutoClosedCharacters(n){let t=[];for(const o of n)t=t.concat(o.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let n=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const o=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);o&&n.push(o)}return n}isValid(n){let t=[];for(let o=0;o<this._autoClosedEnclosingDecorations.length;o++){const h=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[o]);if(h&&(t.push(h),h.startLineNumber!==h.endLineNumber))return!1}t.sort(l.Range.compareRangesUsingStarts),n.sort(l.Range.compareRangesUsingStarts);for(let o=0;o<n.length;o++)if(o>=t.length||!t[o].strictContainsRange(n[o]))return!1;return!0}}class d extends c.Disposable{constructor(n,t,o,h){super();this._model=n,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=o,this.context=new w.CursorContext(this._model,this._coordinatesConverter,h),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=c.dispose(this._autoClosedActions),super.dispose()}updateConfiguration(n){this.context=new w.CursorContext(this._model,this._coordinatesConverter,n),this._cursors.updateContext(this.context)}onLineMappingChanged(n){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(n,"viewModel",0,this.getCursorStates())}setHasFocus(n){this._hasFocus=n}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let n=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const o=this._autoClosedActions[t];o.isValid(n)||(o.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(n,t,o,h){let _=!1;h!==null&&h.length>d.MAX_CURSOR_COUNT&&(h=h.slice(0,d.MAX_CURSOR_COUNT),_=!0);const m=new a(this._model,this);return this._cursors.setStates(h),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,t,o,m,_)}setCursorColumnSelectData(n){this._columnSelectData=n}revealPrimary(n,t,o,h){const _=this._cursors.getViewPositions();if(_.length>1){this._emitCursorRevealRange(n,t,null,this._cursors.getViewSelections(),0,o,h);return}else{const m=_[0],g=new l.Range(m.lineNumber,m.column,m.lineNumber,m.column);this._emitCursorRevealRange(n,t,g,null,0,o,h)}}_revealPrimaryCursor(n,t,o,h,_){const m=this._cursors.getViewPositions();if(m.length>1)this._emitCursorRevealRange(n,t,null,this._cursors.getViewSelections(),o,h,_);else{const g=m[0],b=new l.Range(g.lineNumber,g.column,g.lineNumber,g.column);this._emitCursorRevealRange(n,t,b,null,o,h,_)}}_emitCursorRevealRange(n,t,o,h,_,m,g){n.emitViewEvent(new p.ViewRevealRangeRequestEvent(t,o,h,_,m,g))}saveState(){let n=[];const t=this._cursors.getSelections();for(let o=0,h=t.length;o<h;o++){const _=t[o];n.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return n}restoreState(n,t){let o=[];for(let h=0,_=t.length;h<_;h++){const m=t[h];let g=1,b=1;m.position&&m.position.lineNumber&&(g=m.position.lineNumber),m.position&&m.position.column&&(b=m.position.column);let y=g,L=b;m.selectionStart&&m.selectionStart.lineNumber&&(y=m.selectionStart.lineNumber),m.selectionStart&&m.selectionStart.column&&(L=m.selectionStart.column),o.push({selectionStartLineNumber:y,selectionStartColumn:L,positionLineNumber:g,positionColumn:b})}this.setStates(n,"restoreState",0,w.CursorState.fromModelSelections(o)),this.revealPrimary(n,"restoreState",!0,1)}onModelContentChanged(n,t){if(this._knownModelVersionId=t.versionId,!this._isHandling){const o=t.containsEvent(1);if(this._prevEditOperationType=0,o)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(n,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const h=w.CursorState.fromModelSelections(t.resultingSelection);this.setStates(n,"modelChange",t.isUndoing?5:t.isRedoing?6:2,h)&&this._revealPrimaryCursor(n,"modelChange",0,!0,0)}else{const h=this._cursors.readSelectionFromMarkers();this.setStates(n,"modelChange",2,w.CursorState.fromModelSelections(h))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const n=this._cursors.getPrimaryCursor(),t=n.viewState.selectionStart.getStartPosition(),o=n.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:o.lineNumber,toViewVisualColumn:w.CursorColumns.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,o)}}getSelections(){return this._cursors.getSelections()}setSelections(n,t,o,h){this.setStates(n,t,h,w.CursorState.fromModelSelections(o))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(n){this._prevEditOperationType=n}_pushAutoClosedAction(n,t){let o=[],h=[];for(let g=0,b=n.length;g<b;g++)o.push({range:n[g],options:{inlineClassName:"auto-closed-character",stickiness:1}}),h.push({range:t[g],options:{stickiness:1}});const _=this._model.deltaDecorations([],o),m=this._model.deltaDecorations([],h);this._autoClosedActions.push(new r(this._model,_,m))}_executeEditOperation(n){if(!!n){n.shouldPushStackElementBefore&&this._model.pushStackElement();const t=s.executeCommands(this._model,this._cursors.getSelections(),n.commands);if(t){this._interpretCommandResult(t);let o=[],h=[];for(let _=0;_<n.commands.length;_++){const m=n.commands[_];m instanceof v.TypeWithAutoClosingCommand&&m.enclosingRange&&m.closeCharacterRange&&(o.push(m.closeCharacterRange),h.push(m.enclosingRange))}o.length>0&&this._pushAutoClosedAction(o,h),this._prevEditOperationType=n.type}n.shouldPushStackElementAfter&&this._model.pushStackElement()}}_interpretCommandResult(n){(!n||n.length===0)&&(n=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(n),this._cursors.normalize()}_emitStateChangedIfNecessary(n,t,o,h,_){const m=new a(this._model,this);if(m.equals(h))return!1;const g=this._cursors.getSelections(),b=this._cursors.getViewSelections();if(n.emitViewEvent(new p.ViewCursorStateChangedEvent(b,g)),!h||h.cursorState.length!==m.cursorState.length||m.cursorState.some((y,L)=>!y.modelState.equals(h.cursorState[L].modelState))){const y=h?h.cursorState.map(D=>D.modelState.selection):null,L=h?h.modelVersionId:0;n.emitOutgoingEvent(new u.CursorStateChangedEvent(y,g,L,m.modelVersionId,t||"keyboard",o,_))}return!0}_findAutoClosingPairs(n){if(!n.length)return null;let t=[];for(let o=0,h=n.length;o<h;o++){const _=n[o];if(!_.text||_.text.indexOf(`
`)>=0)return null;const m=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!m)return null;const g=m[1],b=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(g);if(!b||b.length!==1)return null;const y=b[0].open,L=_.text.length-m[2].length-1,D=_.text.lastIndexOf(y,L-1);if(D===-1)return null;t.push([D,L])}return t}executeEdits(n,t,o,h){let _=null;t==="snippet"&&(_=this._findAutoClosingPairs(o)),_&&(o[0]._isTracked=!0);let m=[],g=[];const b=this._model.pushEditOperations(this.getSelections(),o,y=>{if(_)for(let D=0,N=_.length;D<N;D++){const[I,T]=_[D],O=y[D],A=O.range.startLineNumber,B=O.range.startColumn-1+I,E=O.range.startColumn-1+T;m.push(new l.Range(A,E+1,A,E+2)),g.push(new l.Range(A,B+1,A,E+2))}const L=h(y);return L&&(this._isHandling=!0),L});b&&(this._isHandling=!1,this.setSelections(n,t,b,0)),m.length>0&&this._pushAutoClosedAction(m,g)}_executeEdit(n,t,o,h=0){if(!this.context.cursorConfig.readOnly){const _=new a(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),n()}catch(m){C.onUnexpectedError(m)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,h,_,!1)&&this._revealPrimaryCursor(t,o,0,!0,0)}}setIsDoingComposition(n){this._isDoingComposition=n}startComposition(n){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(n,t){this._executeEdit(()=>{if(t==="keyboard"){const o=r.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(v.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),o)),this._selectionsWhenCompositionStarted=null}},n,t)}type(n,t,o){this._executeEdit(()=>{if(o==="keyboard"){const h=t.length;let _=0;for(;_<h;){const m=M.nextCharLength(t,_),g=t.substr(_,m),b=r.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(v.TypeOperations.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b,g)),_+=m}}else this._executeEditOperation(v.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},n,o)}replacePreviousChar(n,t,o,h){this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.replacePreviousChar(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,o))},n,h)}paste(n,t,o,h,_){this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),t,o,h||[]))},n,_,4)}cut(n,t){this._executeEdit(()=>{this._executeEditOperation(S.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},n,t)}executeCommand(n,t,o){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new w.EditOperationResult(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,o)}executeCommands(n,t,o){this._executeEdit(()=>{this._executeEditOperation(new w.EditOperationResult(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},n,o)}}e.Cursor=d,d.MAX_CURSOR_COUNT=1e4;class s{static executeCommands(n,t,o){const h={model:n,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(h,o);for(let m=0,g=h.trackedRanges.length;m<g;m++)h.model._setTrackedRange(h.trackedRanges[m],null,0);return _}static _innerExecuteCommands(n,t){if(this._arrayIsEmpty(t))return null;const o=this._getEditOperations(n,t);if(o.operations.length===0)return null;const h=o.operations,_=this._getLoserCursorMap(h);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let m=[];for(let y=0,L=h.length;y<L;y++)_.hasOwnProperty(h[y].identifier.major.toString())||m.push(h[y]);o.hadTrackedEditOperation&&m.length>0&&(m[0]._isTracked=!0);let g=n.model.pushEditOperations(n.selectionsBefore,m,y=>{let L=[];for(let I=0;I<n.selectionsBefore.length;I++)L[I]=[];for(const I of y)!I.identifier||L[I.identifier.major].push(I);const D=(I,T)=>I.identifier.minor-T.identifier.minor;let N=[];for(let I=0;I<n.selectionsBefore.length;I++)L[I].length>0?(L[I].sort(D),N[I]=t[I].computeCursorState(n.model,{getInverseEditOperations:()=>L[I],getTrackedSelection:T=>{const O=parseInt(T,10),A=n.model._getTrackedRange(n.trackedRanges[O]);return n.trackedRangesDirection[O]===0?new f.Selection(A.startLineNumber,A.startColumn,A.endLineNumber,A.endColumn):new f.Selection(A.endLineNumber,A.endColumn,A.startLineNumber,A.startColumn)}})):N[I]=n.selectionsBefore[I];return N});g||(g=n.selectionsBefore);let b=[];for(let y in _)_.hasOwnProperty(y)&&b.push(parseInt(y,10));b.sort((y,L)=>L-y);for(const y of b)g.splice(y,1);return g}static _arrayIsEmpty(n){for(let t=0,o=n.length;t<o;t++)if(n[t])return!1;return!0}static _getEditOperations(n,t){let o=[],h=!1;for(let _=0,m=t.length;_<m;_++){const g=t[_];if(g){const b=this._getEditOperationsFromCommand(n,_,g);o=o.concat(b.operations),h=h||b.hadTrackedEditOperation}}return{operations:o,hadTrackedEditOperation:h}}static _getEditOperationsFromCommand(n,t,o){let h=[],_=0;const m=(D,N,I=!1)=>{l.Range.isEmpty(D)&&N===""||h.push({identifier:{major:t,minor:_++},range:D,text:N,forceMoveMarkers:I,isAutoWhitespaceEdit:o.insertsAutoWhitespace})};let g=!1;const L={addEditOperation:m,addTrackedEditOperation:(D,N,I)=>{g=!0,m(D,N,I)},trackSelection:(D,N)=>{const I=f.Selection.liftSelection(D);let T;if(I.isEmpty())if(typeof N=="boolean")N?T=2:T=3;else{const B=n.model.getLineMaxColumn(I.startLineNumber);I.startColumn===B?T=2:T=3}else T=1;const O=n.trackedRanges.length,A=n.model._setTrackedRange(null,I,T);return n.trackedRanges[O]=A,n.trackedRangesDirection[O]=I.getDirection(),O.toString()}};try{o.getEditOperations(n.model,L)}catch(D){return C.onUnexpectedError(D),{operations:[],hadTrackedEditOperation:!1}}return{operations:h,hadTrackedEditOperation:g}}static _getLoserCursorMap(n){n=n.slice(0),n.sort((o,h)=>-l.Range.compareRangesUsingEnds(o.range,h.range));let t={};for(let o=1;o<n.length;o++){const h=n[o-1],_=n[o];if(l.Range.getStartPosition(h.range).isBefore(l.Range.getEndPosition(_.range))){let m;h.identifier.major>_.identifier.major?m=h.identifier.major:m=_.identifier.major,t[m.toString()]=!0;for(let g=0;g<n.length;g++)n[g].identifier.major===m&&(n.splice(g,1),g<o&&o--,g--);o>0&&o--}}return t}}}),define(ee[242],te([0,1,8,112,76]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeLineToHTML=e.tokenizeToString=void 0;const w={getInitialState:()=>k.NULL_STATE,tokenize2:(f,p,c,u)=>k.nullTokenize2(0,f,c,u)};function S(f,p=w){return l(f,p||w)}e.tokenizeToString=S;function v(f,p,c,u,a,r,d){let s="<div>",i=u,n=0;for(let t=0,o=p.getCount();t<o;t++){const h=p.getEndOffset(t);if(!(h<=u)){let _="";for(;i<h&&i<a;i++){const m=f.charCodeAt(i);switch(m){case 9:let g=r-(i+n)%r;for(n+=g-1;g>0;)_+=d?"&#160;":" ",g--;break;case 60:_+="&lt;";break;case 62:_+="&gt;";break;case 38:_+="&amp;";break;case 0:_+="&#00;";break;case 65279:case 8232:case 8233:case 133:_+="\uFFFD";break;case 13:_+="&#8203";break;case 32:_+=d?"&#160;":" ";break;default:_+=String.fromCharCode(m)}}if(s+=`<span style="${p.getInlineStyle(t,c)}">${_}</span>`,h>a||i>=a)break}}return s+="</div>",s}e.tokenizeLineToHTML=v;function l(f,p){let c='<div class="monaco-tokenized-source">',u=C.splitLines(f),a=p.getInitialState();for(let r=0,d=u.length;r<d;r++){let s=u[r];r>0&&(c+="<br/>");let i=p.tokenize2(s,!0,a,0);M.LineTokens.convertToEndOffset(i.tokens,s.length);let t=new M.LineTokens(i.tokens,s).inflate(),o=0;for(let h=0,_=t.getCount();h<_;h++){const m=t.getClassName(h),g=t.getEndOffset(h);c+=`<span class="${m}">${C.escape(s.substring(o,g))}</span>`,o=g}a=i.endState}return c+="</div>",c}}),define(ee[67],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=C.createDecorator("textModelService")}),define(ee[138],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=C.createDecorator("textResourceConfigurationService"),e.ITextResourcePropertiesService=C.createDecorator("textResourcePropertiesService")}),define(ee[243],te([0,1,6,213,17]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class w{constructor(){this._onDidChange=new C.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),k.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new w),this._INSTANCE}_updateColorMap(){const v=k.TokenizationRegistry.getColorMap();if(!v){this._colors=[M.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[M.RGBA8.Empty];for(let f=1;f<v.length;f++){const p=v[f].rgba;this._colors[f]=new M.RGBA8(p.r,p.g,p.b,Math.round(p.a*255))}let l=v[2].getRelativeLuminance();this._backgroundIsLight=l>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=w,w._INSTANCE=null}),define(ee[532],te([0,1,19,13,3,31,169,220,63]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IdentityLinesCollection=e.IdentityCoordinatesConverter=e.SplitLine=e.SplitLinesCollection=e.CoordinatesConverter=void 0;class f{constructor(m){this._lines=m}convertViewPositionToModelPosition(m){return this._lines.convertViewPositionToModelPosition(m.lineNumber,m.column)}convertViewRangeToModelRange(m){return this._lines.convertViewRangeToModelRange(m)}validateViewPosition(m,g){return this._lines.validateViewPosition(m.lineNumber,m.column,g)}validateViewRange(m,g){return this._lines.validateViewRange(m,g)}convertModelPositionToViewPosition(m){return this._lines.convertModelPositionToViewPosition(m.lineNumber,m.column)}convertModelRangeToViewRange(m){return this._lines.convertModelRangeToViewRange(m)}modelPositionIsVisible(m){return this._lines.modelPositionIsVisible(m.lineNumber,m.column)}getModelLineViewLineCount(m){return this._lines.getModelLineViewLineCount(m)}}e.CoordinatesConverter=f;class p{constructor(m){this._counts=m,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(m){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,m-1)}_ensureValid(){if(!this._isValid){for(let m=this._validEndIndex+1,g=this._counts.length;m<g;m++){const b=this._counts[m],y=m>0?this._modelToView[m-1]:0;this._modelToView[m]=y+b;for(let L=0;L<b;L++)this._viewToModel[y+L]=m}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(m,g){this._counts[m]!==g&&(this._counts[m]=g,this._invalidate(m))}removeValues(m,g){this._counts.splice(m,g),this._invalidate(m)}insertValues(m,g){this._counts=C.arrayInsert(this._counts,m,g),this._invalidate(m)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(m){return this._ensureValid(),this._modelToView[m]}getIndexOf(m){this._ensureValid();const g=this._viewToModel[m],b=g>0?this._modelToView[g-1]:0;return new v.PrefixSumIndexOfResult(g,m-b)}}class c{constructor(m,g,b,y,L,D,N,I){this.model=m,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=y,this.tabSize=L,this.wrappingStrategy=D,this.wrappingColumn=N,this.wrappingIndent=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new f(this)}_constructLines(m,g){this.lines=[],m&&(this.hiddenAreasIds=[]);let b=this.model.getLinesContent();const y=b.length,L=this.createLineBreaksComputer();for(let E=0;E<y;E++)L.addRequest(b[E],g?g[E]:null);const D=L.finalize();let N=[],I=this.hiddenAreasIds.map(E=>this.model.getDecorationRange(E)).sort(k.Range.compareRangesUsingStarts),T=1,O=0,A=-1,B=A+1<I.length?O+1:y+2;for(let E=0;E<y;E++){let W=E+1;W===B&&(A++,T=I[A].startLineNumber,O=I[A].endLineNumber,B=A+1<I.length?O+1:y+2);let R=W>=T&&W<=O,F=n(D[E],!R);N[E]=F.getViewLineCount(),this.lines[E]=F}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new p(N)}getHiddenAreas(){return this.hiddenAreasIds.map(m=>this.model.getDecorationRange(m))}_reduceRanges(m){if(m.length===0)return[];let g=m.map(D=>this.model.validateRange(D)).sort(k.Range.compareRangesUsingStarts),b=[],y=g[0].startLineNumber,L=g[0].endLineNumber;for(let D=1,N=g.length;D<N;D++){let I=g[D];I.startLineNumber>L+1?(b.push(new k.Range(y,1,L,1)),y=I.startLineNumber,L=I.endLineNumber):I.endLineNumber>L&&(L=I.endLineNumber)}return b.push(new k.Range(y,1,L,1)),b}setHiddenAreas(m){let g=this._reduceRanges(m),b=this.hiddenAreasIds.map(A=>this.model.getDecorationRange(A)).sort(k.Range.compareRangesUsingStarts);if(g.length===b.length){let A=!1;for(let B=0;B<g.length;B++)if(!g[B].equalsRange(b[B])){A=!0;break}if(!A)return!1}let y=[];for(const A of g)y.push({range:A,options:w.ModelDecorationOptions.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,y);let L=g,D=1,N=0,I=-1,T=I+1<L.length?N+1:this.lines.length+2,O=!1;for(let A=0;A<this.lines.length;A++){let B=A+1;B===T&&(I++,D=L[I].startLineNumber,N=L[I].endLineNumber,T=I+1<L.length?N+1:this.lines.length+2);let E=!1;if(B>=D&&B<=N?this.lines[A].isVisible()&&(this.lines[A]=this.lines[A].setVisible(!1),E=!0):(O=!0,this.lines[A].isVisible()||(this.lines[A]=this.lines[A].setVisible(!0),E=!0)),E){let W=this.lines[A].getViewLineCount();this.prefixSumComputer.changeValue(A,W)}}return O||this.setHiddenAreas([]),!0}modelPositionIsVisible(m,g){return m<1||m>this.lines.length?!1:this.lines[m-1].isVisible()}getModelLineViewLineCount(m){return m<1||m>this.lines.length?1:this.lines[m-1].getViewLineCount()}setTabSize(m){return this.tabSize===m?!1:(this.tabSize=m,this._constructLines(!1,null),!0)}setWrappingSettings(m,g,b,y){const L=this.fontInfo.equals(m),D=this.wrappingStrategy===g,N=this.wrappingColumn===b,I=this.wrappingIndent===y;if(L&&D&&N&&I)return!1;const T=L&&D&&!N&&I;this.fontInfo=m,this.wrappingStrategy=g,this.wrappingColumn=b,this.wrappingIndent=y;let O=null;if(T){O=[];for(let A=0,B=this.lines.length;A<B;A++)O[A]=this.lines[A].getLineBreakData()}return this._constructLines(!1,O),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(m,g,b){if(m<=this._validModelVersionId)return null;let y=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,L=this.prefixSumComputer.getAccumulatedValue(b-1);return this.lines.splice(g-1,b-g+1),this.prefixSumComputer.removeValues(g-1,b-g+1),new S.ViewLinesDeletedEvent(y,L)}onModelLinesInserted(m,g,b,y){if(m<=this._validModelVersionId)return null;const L=g>2&&!this.lines[g-2].isVisible();let D=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,N=0,I=[],T=[];for(let O=0,A=y.length;O<A;O++){let B=n(y[O],!L);I.push(B);let E=B.getViewLineCount();N+=E,T[O]=E}return this.lines=this.lines.slice(0,g-1).concat(I).concat(this.lines.slice(g-1)),this.prefixSumComputer.insertValues(g-1,T),new S.ViewLinesInsertedEvent(D,D+N-1)}onModelLineChanged(m,g,b){if(m<=this._validModelVersionId)return[!1,null,null,null];let y=g-1,L=this.lines[y].getViewLineCount(),D=this.lines[y].isVisible(),N=n(b,D);this.lines[y]=N;let I=this.lines[y].getViewLineCount(),T=!1,O=0,A=-1,B=0,E=-1,W=0,R=-1;L>I?(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,A=O+I-1,W=A+1,R=W+(L-I)-1,T=!0):L<I?(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,A=O+L-1,B=A+1,E=B+(I-L)-1,T=!0):(O=g===1?1:this.prefixSumComputer.getAccumulatedValue(g-2)+1,A=O+I-1),this.prefixSumComputer.changeValue(y,I);const F=O<=A?new S.ViewLinesChangedEvent(O,A):null,V=B<=E?new S.ViewLinesInsertedEvent(B,E):null,K=W<=R?new S.ViewLinesDeletedEvent(W,R):null;return[T,F,V,K]}acceptVersionId(m){this._validModelVersionId=m,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(m){if(m<1)return 1;const g=this.getViewLineCount();return m>g?g:m|0}getActiveIndentGuide(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g),b=this._toValidViewLineNumber(b);const y=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),L=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),D=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),N=this.model.getActiveIndentGuide(y.lineNumber,L.lineNumber,D.lineNumber),I=this.convertModelPositionToViewPosition(N.startLineNumber,1),T=this.convertModelPositionToViewPosition(N.endLineNumber,this.model.getLineMaxColumn(N.endLineNumber));return{startLineNumber:I.lineNumber,endLineNumber:T.lineNumber,indent:N.indent}}getViewLinesIndentGuides(m,g){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);const b=this.convertViewPositionToModelPosition(m,this.getViewLineMinColumn(m)),y=this.convertViewPositionToModelPosition(g,this.getViewLineMaxColumn(g));let L=[],D=[],N=[];const I=b.lineNumber-1,T=y.lineNumber-1;let O=null;for(let W=I;W<=T;W++){const R=this.lines[W];if(R.isVisible()){let F=R.getViewLineNumberOfModelPosition(0,W===I?b.column:1),V=R.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(W+1)),K=V-F+1,G=0;K>1&&R.getViewLineMinColumn(this.model,W+1,V)===1&&(G=F===0?1:2),D.push(K),N.push(G),O===null&&(O=new M.Position(W+1,0))}else O!==null&&(L=L.concat(this.model.getLinesIndentGuides(O.lineNumber,W)),O=null)}O!==null&&(L=L.concat(this.model.getLinesIndentGuides(O.lineNumber,y.lineNumber)),O=null);const A=g-m+1;let B=new Array(A),E=0;for(let W=0,R=L.length;W<R;W++){let F=L[W],V=Math.min(A-E,D[W]),K=N[W],G;K===2?G=0:K===1?G=1:G=V;for(let J=0;J<V;J++)J===G&&(F=0),B[E++]=F}return B}getViewLineContent(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineContent(this.model,b+1,y)}getViewLineLength(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineLength(this.model,b+1,y)}getViewLineMinColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineMinColumn(this.model,b+1,y)}getViewLineMaxColumn(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineMaxColumn(this.model,b+1,y)}getViewLineData(m){m=this._toValidViewLineNumber(m);let g=this.prefixSumComputer.getIndexOf(m-1),b=g.index,y=g.remainder;return this.lines[b].getViewLineData(this.model,b+1,y)}getViewLinesData(m,g,b){m=this._toValidViewLineNumber(m),g=this._toValidViewLineNumber(g);let y=this.prefixSumComputer.getIndexOf(m-1),L=m,D=y.index,N=y.remainder,I=[];for(let T=D,O=this.model.getLineCount();T<O;T++){let A=this.lines[T];if(!!A.isVisible()){let B=T===D?N:0,E=A.getViewLineCount()-B,W=!1;L+E>g&&(W=!0,E=g-L+1);let R=B+E;if(A.getViewLinesData(this.model,T+1,B,R,L-m,b,I),L+=E,W)break}}return I}validateViewPosition(m,g,b){m=this._toValidViewLineNumber(m);let y=this.prefixSumComputer.getIndexOf(m-1),L=y.index,D=y.remainder,N=this.lines[L],I=N.getViewLineMinColumn(this.model,L+1,D),T=N.getViewLineMaxColumn(this.model,L+1,D);g<I&&(g=I),g>T&&(g=T);let O=N.getModelColumnOfViewPosition(D,g);return this.model.validatePosition(new M.Position(L+1,O)).equals(b)?new M.Position(m,g):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(m,g){const b=this.validateViewPosition(m.startLineNumber,m.startColumn,g.getStartPosition()),y=this.validateViewPosition(m.endLineNumber,m.endColumn,g.getEndPosition());return new k.Range(b.lineNumber,b.column,y.lineNumber,y.column)}convertViewPositionToModelPosition(m,g){m=this._toValidViewLineNumber(m);let b=this.prefixSumComputer.getIndexOf(m-1),y=b.index,L=b.remainder,D=this.lines[y].getModelColumnOfViewPosition(L,g);return this.model.validatePosition(new M.Position(y+1,D))}convertViewRangeToModelRange(m){const g=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),b=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);return new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(m,g){const b=this.model.validatePosition(new M.Position(m,g)),y=b.lineNumber,L=b.column;let D=y-1,N=!1;for(;D>0&&!this.lines[D].isVisible();)D--,N=!0;if(D===0&&!this.lines[D].isVisible())return new M.Position(1,1);const I=1+(D===0?0:this.prefixSumComputer.getAccumulatedValue(D-1));let T;return N?T=this.lines[D].getViewPositionOfModelPosition(I,this.model.getLineMaxColumn(D+1)):T=this.lines[y-1].getViewPositionOfModelPosition(I,L),T}convertModelRangeToViewRange(m){let g=this.convertModelPositionToViewPosition(m.startLineNumber,m.startColumn),b=this.convertModelPositionToViewPosition(m.endLineNumber,m.endColumn);return m.startLineNumber===m.endLineNumber&&g.lineNumber!==b.lineNumber&&b.column===this.getViewLineMinColumn(b.lineNumber)?new k.Range(g.lineNumber,g.column,b.lineNumber-1,this.getViewLineMaxColumn(b.lineNumber-1)):new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}_getViewLineNumberForModelPosition(m,g){let b=m-1;if(this.lines[b].isVisible()){const L=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(L,g)}for(;b>0&&!this.lines[b].isVisible();)b--;if(b===0&&!this.lines[b].isVisible())return 1;const y=1+(b===0?0:this.prefixSumComputer.getAccumulatedValue(b-1));return this.lines[b].getViewLineNumberOfModelPosition(y,this.model.getLineMaxColumn(b+1))}getAllOverviewRulerDecorations(m,g,b){const y=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const D of y){const N=D.options.overviewRuler,I=N?N.position:0;if(I!==0){const T=N.getColor(b),O=this._getViewLineNumberForModelPosition(D.range.startLineNumber,D.range.startColumn),A=this._getViewLineNumberForModelPosition(D.range.endLineNumber,D.range.endColumn);L.accept(T,O,A,I)}}return L.result}getDecorationsInRange(m,g,b){const y=this.convertViewPositionToModelPosition(m.startLineNumber,m.startColumn),L=this.convertViewPositionToModelPosition(m.endLineNumber,m.endColumn);if(L.lineNumber-y.lineNumber<=m.endLineNumber-m.startLineNumber)return this.model.getDecorationsInRange(new k.Range(y.lineNumber,1,L.lineNumber,L.column),g,b);let D=[];const N=y.lineNumber-1,I=L.lineNumber-1;let T=null;for(let E=N;E<=I;E++)if(this.lines[E].isVisible())T===null&&(T=new M.Position(E+1,E===N?y.column:1));else if(T!==null){const R=this.model.getLineMaxColumn(E);D=D.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,E,R),g,b)),T=null}T!==null&&(D=D.concat(this.model.getDecorationsInRange(new k.Range(T.lineNumber,T.column,L.lineNumber,L.column),g,b)),T=null),D.sort((E,W)=>{const R=k.Range.compareRangesUsingStarts(E.range,W.range);return R===0?E.id<W.id?-1:E.id>W.id?1:0:R});let O=[],A=0,B=null;for(const E of D){const W=E.id;B!==W&&(B=W,O[A++]=E)}return O}}e.SplitLinesCollection=c;class u{constructor(){}isVisible(){return!0}setVisible(m){return m?this:a.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(m,g,b){return m.getLineContent(g)}getViewLineLength(m,g,b){return m.getLineLength(g)}getViewLineMinColumn(m,g,b){return m.getLineMinColumn(g)}getViewLineMaxColumn(m,g,b){return m.getLineMaxColumn(g)}getViewLineData(m,g,b){let y=m.getLineTokens(g),L=y.getLineContent();return new l.ViewLineData(L,!1,1,L.length+1,0,y.inflate())}getViewLinesData(m,g,b,y,L,D,N){if(!D[L]){N[L]=null;return}N[L]=this.getViewLineData(m,g,0)}getModelColumnOfViewPosition(m,g){return g}getViewPositionOfModelPosition(m,g){return new M.Position(m,g)}getViewLineNumberOfModelPosition(m,g){return m}}u.INSTANCE=new u;class a{constructor(){}isVisible(){return!1}setVisible(m){return m?u.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(m,g,b){throw new Error("Not supported")}getViewLineLength(m,g,b){throw new Error("Not supported")}getViewLineMinColumn(m,g,b){throw new Error("Not supported")}getViewLineMaxColumn(m,g,b){throw new Error("Not supported")}getViewLineData(m,g,b){throw new Error("Not supported")}getViewLinesData(m,g,b,y,L,D,N){throw new Error("Not supported")}getModelColumnOfViewPosition(m,g){throw new Error("Not supported")}getViewPositionOfModelPosition(m,g){throw new Error("Not supported")}getViewLineNumberOfModelPosition(m,g){throw new Error("Not supported")}}a.INSTANCE=new a;class r{constructor(m,g){this._lineBreakData=m,this._isVisible=g}isVisible(){return this._isVisible}setVisible(m){return this._isVisible=m,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(m){return l.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,0)}getInputEndOffsetOfOutputLineIndex(m,g,b){return b+1===this._lineBreakData.breakOffsets.length?m.getLineMaxColumn(g)-1:l.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,b+1,0)}getViewLineContent(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),D=m.getValueInRange({startLineNumber:g,startColumn:y+1,endLineNumber:g,endColumn:L+1});return b>0&&(D=s(this._lineBreakData.wrappedTextIndentLength)+D),D}getViewLineLength(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),D=this.getInputEndOffsetOfOutputLineIndex(m,g,b)-y;return b>0&&(D=this._lineBreakData.wrappedTextIndentLength+D),D}getViewLineMinColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return b>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(m,g,b){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(m,g,b).length+1}getViewLineData(m,g,b){if(!this._isVisible)throw new Error("Not supported");let y=this.getInputStartOffsetOfOutputLineIndex(b),L=this.getInputEndOffsetOfOutputLineIndex(m,g,b),D=m.getValueInRange({startLineNumber:g,startColumn:y+1,endLineNumber:g,endColumn:L+1});b>0&&(D=s(this._lineBreakData.wrappedTextIndentLength)+D);let N=b>0?this._lineBreakData.wrappedTextIndentLength+1:1,I=D.length+1,T=b+1<this.getViewLineCount(),O=0;b>0&&(O=this._lineBreakData.wrappedTextIndentLength);let A=m.getLineTokens(g);const B=b===0?0:this._lineBreakData.breakOffsetsVisibleColumn[b-1];return new l.ViewLineData(D,T,N,I,B,A.sliceAndInflate(y,L,O))}getViewLinesData(m,g,b,y,L,D,N){if(!this._isVisible)throw new Error("Not supported");for(let I=b;I<y;I++){let T=L+I-b;if(!D[T]){N[T]=null;continue}N[T]=this.getViewLineData(m,g,I)}}getModelColumnOfViewPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=g-1;return m>0&&(b<this._lineBreakData.wrappedTextIndentLength?b=0:b-=this._lineBreakData.wrappedTextIndentLength),l.LineBreakData.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,m,b)+1}getViewPositionOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");let b=l.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1),y=b.outputLineIndex,L=b.outputOffset+1;return y>0&&(L+=this._lineBreakData.wrappedTextIndentLength),new M.Position(m+y,L)}getViewLineNumberOfModelPosition(m,g){if(!this._isVisible)throw new Error("Not supported");const b=l.LineBreakData.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,g-1);return m+b.outputLineIndex}}e.SplitLine=r;let d=[""];function s(_){if(_>=d.length)for(let m=1;m<=_;m++)d[m]=i(m);return d[_]}function i(_){return new Array(_+1).join(" ")}function n(_,m){return _===null?m?u.INSTANCE:a.INSTANCE:new r(_,m)}class t{constructor(m){this._lines=m}_validPosition(m){return this._lines.model.validatePosition(m)}_validRange(m){return this._lines.model.validateRange(m)}convertViewPositionToModelPosition(m){return this._validPosition(m)}convertViewRangeToModelRange(m){return this._validRange(m)}validateViewPosition(m,g){return this._validPosition(g)}validateViewRange(m,g){return this._validRange(g)}convertModelPositionToViewPosition(m){return this._validPosition(m)}convertModelRangeToViewRange(m){return this._validRange(m)}modelPositionIsVisible(m){const g=this._lines.model.getLineCount();return!(m.lineNumber<1||m.lineNumber>g)}getModelLineViewLineCount(m){return 1}}e.IdentityCoordinatesConverter=t;class o{constructor(m){this.model=m}dispose(){}createCoordinatesConverter(){return new t(this)}getHiddenAreas(){return[]}setHiddenAreas(m){return!1}setTabSize(m){return!1}setWrappingSettings(m,g,b,y){return!1}createLineBreaksComputer(){let m=[];return{addRequest:(g,b)=>{m.push(null)},finalize:()=>m}}onModelFlushed(){}onModelLinesDeleted(m,g,b){return new S.ViewLinesDeletedEvent(g,b)}onModelLinesInserted(m,g,b,y){return new S.ViewLinesInsertedEvent(g,b)}onModelLineChanged(m,g,b){return[!1,new S.ViewLinesChangedEvent(g,g),null,null]}acceptVersionId(m){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(m,g,b){return{startLineNumber:m,endLineNumber:m,indent:0}}getViewLinesIndentGuides(m,g){const b=g-m+1;let y=new Array(b);for(let L=0;L<b;L++)y[L]=0;return y}getViewLineContent(m){return this.model.getLineContent(m)}getViewLineLength(m){return this.model.getLineLength(m)}getViewLineMinColumn(m){return this.model.getLineMinColumn(m)}getViewLineMaxColumn(m){return this.model.getLineMaxColumn(m)}getViewLineData(m){let g=this.model.getLineTokens(m),b=g.getLineContent();return new l.ViewLineData(b,!1,1,b.length+1,0,g.inflate())}getViewLinesData(m,g,b){const y=this.model.getLineCount();m=Math.min(Math.max(1,m),y),g=Math.min(Math.max(1,g),y);let L=[];for(let D=m;D<=g;D++){let N=D-m;b[N]||(L[N]=null),L[N]=this.getViewLineData(D)}return L}getAllOverviewRulerDecorations(m,g,b){const y=this.model.getOverviewRulerDecorations(m,g),L=new h;for(const D of y){const N=D.options.overviewRuler,I=N?N.position:0;if(I!==0){const T=N.getColor(b),O=D.range.startLineNumber,A=D.range.endLineNumber;L.accept(T,O,A,I)}}return L.result}getDecorationsInRange(m,g,b){return this.model.getDecorationsInRange(m,g,b)}}e.IdentityLinesCollection=o;class h{constructor(){this.result=Object.create(null)}accept(m,g,b,y){let L=this.result[m];if(L){const D=L[L.length-3],N=L[L.length-1];if(D===y&&N+1>=g){b>N&&(L[L.length-1]=b);return}L.push(y,g,b)}else this.result[m]=[y,g,b]}}}),define(ee[533],te([0,1,29,2,8,38,13,3,17,242,243,169,394,532,63,450,15,16,241,42,172]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const h=!0;class _ extends M.Disposable{constructor(g,b,y,L,D,N){super();if(this._editorId=g,this._configuration=b,this.model=y,this._eventDispatcher=new o.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new s.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new s.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,h&&this.model.isTooLargeForTokenization())this._lines=new a.IdentityLinesCollection(this.model);else{const I=this._configuration.options,T=I.get(38),O=I.get(118),A=I.get(125),B=I.get(117);this._lines=new a.SplitLinesCollection(this.model,L,D,T,this.model.getOptions().tabSize,O,A.wrappingColumn,B)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new n.Cursor(y,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new u.ViewLayout(this._configuration,this.getLineCount(),N)),this._register(this.viewLayout.onDidScroll(I=>{I.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new c.ViewScrollChangedEvent(I)),this._eventDispatcher.emitOutgoingEvent(new o.ScrollChangedEvent(I.oldScrollWidth,I.oldScrollLeft,I.oldScrollHeight,I.oldScrollTop,I.scrollWidth,I.scrollLeft,I.scrollHeight,I.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(I=>{this._eventDispatcher.emitOutgoingEvent(I)})),this._decorations=new d.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(I=>{try{const T=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(T,I)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(p.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new c.ViewTokensColorsChangedEvent)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(g){this._eventDispatcher.addViewEventHandler(g)}removeViewEventHandler(g){this._eventDispatcher.removeViewEventHandler(g)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const g=this.viewLayout.getLinesViewportData(),b=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.startLineNumber,1)),y=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g.endLineNumber,1));this.model.tokenizeViewport(b.lineNumber,y.lineNumber)}setHasFocus(g){this._hasFocus=g,this._cursor.setHasFocus(g),this._eventDispatcher.emitSingleViewEvent(new c.ViewFocusChangedEvent(g)),this._eventDispatcher.emitOutgoingEvent(new o.FocusChangedEvent(!g,g))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new c.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new c.ViewCompositionEndEvent)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new c.ViewThemeChangedEvent)}_onConfigurationChanged(g,b){let y=null;if(this._viewportStartLine!==-1){let A=new S.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));y=this.coordinatesConverter.convertViewPositionToModelPosition(A)}let L=!1;const D=this._configuration.options,N=D.get(38),I=D.get(118),T=D.get(125),O=D.get(117);if(this._lines.setWrappingSettings(N,I,T.wrappingColumn,O)&&(g.emitViewEvent(new c.ViewFlushedEvent),g.emitViewEvent(new c.ViewLineMappingChangedEvent),g.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(g),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(L=!0),this._updateConfigurationViewLineCount.schedule()),b.hasChanged(75)&&(this._decorations.reset(),g.emitViewEvent(new c.ViewDecorationsChangedEvent(null))),g.emitViewEvent(new c.ViewConfigurationChangedEvent(b)),this.viewLayout.onConfigurationChanged(b),L&&y){const A=this.coordinatesConverter.convertModelPositionToViewPosition(y),B=this.viewLayout.getVerticalOffsetForLineNumber(A.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStartLineDelta},1)}t.CursorConfiguration.shouldRecreate(b)&&(this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(g=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let y=!1,L=!1;const D=g.changes,N=g.versionId,I=this._lines.createLineBreaksComputer();for(const A of D)switch(A.changeType){case 4:{for(const B of A.detail)I.addRequest(B,null);break}case 2:{I.addRequest(A.detail,null);break}}const T=I.finalize();let O=0;for(const A of D)switch(A.changeType){case 1:{this._lines.onModelFlushed(),b.emitViewEvent(new c.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),y=!0;break}case 3:{const B=this._lines.onModelLinesDeleted(N,A.fromLineNumber,A.toLineNumber);B!==null&&(b.emitViewEvent(B),this.viewLayout.onLinesDeleted(B.fromLineNumber,B.toLineNumber)),y=!0;break}case 4:{const B=T.slice(O,O+A.detail.length);O+=A.detail.length;const E=this._lines.onModelLinesInserted(N,A.fromLineNumber,A.toLineNumber,B);E!==null&&(b.emitViewEvent(E),this.viewLayout.onLinesInserted(E.fromLineNumber,E.toLineNumber)),y=!0;break}case 2:{const B=T[O];O++;const[E,W,R,F]=this._lines.onModelLineChanged(N,A.lineNumber,B);L=E,W&&b.emitViewEvent(W),R&&(b.emitViewEvent(R),this.viewLayout.onLinesInserted(R.fromLineNumber,R.toLineNumber)),F&&(b.emitViewEvent(F),this.viewLayout.onLinesDeleted(F.fromLineNumber,F.toLineNumber));break}case 5:break}this._lines.acceptVersionId(N),this.viewLayout.onHeightMaybeChanged(),!y&&L&&(b.emitViewEvent(new c.ViewLineMappingChangedEvent),b.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const b=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(b){const y=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber);this.viewLayout.setScrollPosition({scrollTop:L+this._viewportStartLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(b,g)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(g=>{let b=[];for(let y=0,L=g.ranges.length;y<L;y++){const D=g.ranges[y],N=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(D.fromLineNumber,1)).lineNumber,I=this.coordinatesConverter.convertModelPositionToViewPosition(new S.Position(D.toLineNumber,this.model.getLineMaxColumn(D.toLineNumber))).lineNumber;b[y]={fromLineNumber:N,toLineNumber:I}}this._eventDispatcher.emitSingleViewEvent(new c.ViewTokensChangedEvent(b)),g.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(g=>{this._eventDispatcher.emitSingleViewEvent(new c.ViewLanguageConfigurationEvent),this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(g=>{this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(g=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const b=this._eventDispatcher.beginEmitViewEvents();b.emitViewEvent(new c.ViewFlushedEvent),b.emitViewEvent(new c.ViewLineMappingChangedEvent),b.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new t.CursorConfiguration(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(g=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new c.ViewDecorationsChangedEvent(g))}))}setHiddenAreas(g){try{const b=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(g)&&(b.emitViewEvent(new c.ViewFlushedEvent),b.emitViewEvent(new c.ViewLineMappingChangedEvent),b.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const g=this._configuration.options.get(124),b=this._configuration.options.get(53),y=Math.max(20,Math.round(g.height/b)),L=this.viewLayout.getLinesViewportData(),D=Math.max(1,L.completelyVisibleStartLineNumber-y),N=Math.min(this.getLineCount(),L.completelyVisibleEndLineNumber+y);return this._toModelVisibleRanges(new v.Range(D,this.getLineMinColumn(D),N,this.getLineMaxColumn(N)))}getVisibleRanges(){const g=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(g)}_toModelVisibleRanges(g){const b=this.coordinatesConverter.convertViewRangeToModelRange(g),y=this._lines.getHiddenAreas();if(y.length===0)return[b];let L=[],D=0,N=b.startLineNumber,I=b.startColumn,T=b.endLineNumber,O=b.endColumn;for(let A=0,B=y.length;A<B;A++){const E=y[A].startLineNumber,W=y[A].endLineNumber;W<N||E>T||(N<E&&(L[D++]=new v.Range(N,I,E-1,this.model.getLineMaxColumn(E-1))),N=W+1,I=1)}return(N<T||N===T&&I<O)&&(L[D++]=new v.Range(N,I,T,O)),L}getCompletelyVisibleViewRange(){const g=this.viewLayout.getLinesViewportData(),b=g.completelyVisibleStartLineNumber,y=g.completelyVisibleEndLineNumber;return new v.Range(b,this.getLineMinColumn(b),y,this.getLineMaxColumn(y))}getCompletelyVisibleViewRangeAtScrollTop(g){const b=this.viewLayout.getLinesViewportDataAtScrollTop(g),y=b.completelyVisibleStartLineNumber,L=b.completelyVisibleEndLineNumber;return new v.Range(y,this.getLineMinColumn(y),L,this.getLineMaxColumn(L))}saveState(){const g=this.viewLayout.saveState(),b=g.scrollTop,y=this.viewLayout.getLineNumberAtVerticalOffset(b),L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(y,this.getLineMinColumn(y))),D=this.viewLayout.getVerticalOffsetForLineNumber(y)-b;return{scrollLeft:g.scrollLeft,firstPosition:L,firstPositionDeltaTop:D}}reduceRestoreState(g){if(typeof g.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(g);const b=this.model.validatePosition(g.firstPosition),y=this.coordinatesConverter.convertModelPositionToViewPosition(b),L=this.viewLayout.getVerticalOffsetForLineNumber(y.lineNumber)-g.firstPositionDeltaTop;return{scrollLeft:g.scrollLeft,scrollTop:L}}_reduceRestoreStateCompatibility(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(g,b,y){this._viewportStartLine=g;let L=this.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(g,this.getLineMinColumn(g)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new v.Range(L.lineNumber,L.column,L.lineNumber,L.column),1);const D=this.viewLayout.getVerticalOffsetForLineNumber(g),N=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=N-D}getActiveIndentGuide(g,b,y){return this._lines.getActiveIndentGuide(g,b,y)}getLinesIndentGuides(g,b){return this._lines.getViewLinesIndentGuides(g,b)}getLineContent(g){return this._lines.getViewLineContent(g)}getLineLength(g){return this._lines.getViewLineLength(g)}getLineMinColumn(g){return this._lines.getViewLineMinColumn(g)}getLineMaxColumn(g){return this._lines.getViewLineMaxColumn(g)}getLineFirstNonWhitespaceColumn(g){const b=k.firstNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+1}getLineLastNonWhitespaceColumn(g){const b=k.lastNonWhitespaceIndex(this.getLineContent(g));return b===-1?0:b+2}getDecorationsInViewport(g){return this._decorations.getDecorationsViewportData(g).decorations}getViewLineRenderingData(g,b){let y=this.model.mightContainRTL(),L=this.model.mightContainNonBasicASCII(),D=this.getTabSize(),N=this._lines.getViewLineData(b),T=this._decorations.getDecorationsViewportData(g).inlineDecorations[b-g.startLineNumber];return new r.ViewLineRenderingData(N.minColumn,N.maxColumn,N.content,N.continuesWithWrappedLine,y,L,N.tokens,T,D,N.startVisibleColumn)}getViewLineData(g){return this._lines.getViewLineData(g)}getMinimapLinesRenderingData(g,b,y){let L=this._lines.getViewLinesData(g,b,y);return new r.MinimapLinesRenderingData(this.getTabSize(),L)}getAllOverviewRulerDecorations(g){return this._lines.getAllOverviewRulerDecorations(this._editorId,w.filterValidationDecorations(this._configuration.options),g)}invalidateOverviewRulerColorCache(){const g=this.model.getOverviewRulerDecorations();for(const b of g){const y=b.options.overviewRuler;y&&y.invalidateCachedColor()}}invalidateMinimapColorCache(){const g=this.model.getAllDecorations();for(const b of g){const y=b.options.minimap;y&&y.invalidateCachedColor()}}getValueInRange(g,b){const y=this.coordinatesConverter.convertViewRangeToModelRange(g);return this.model.getValueInRange(y,b)}getModelLineMaxColumn(g){return this.model.getLineMaxColumn(g)}validateModelPosition(g){return this.model.validatePosition(g)}validateModelRange(g){return this.model.validateRange(g)}deduceModelPositionRelativeToViewPosition(g,b,y){const L=this.coordinatesConverter.convertViewPositionToModelPosition(g);this.model.getEOL().length===2&&(b<0?b-=y:b+=y);const N=this.model.getOffsetAt(L)+b;return this.model.getPositionAt(N)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(g,b,y){const L=y?`\r
`:this.model.getEOL();g=g.slice(0),g.sort(v.Range.compareRangesUsingStarts);let D=!1,N=!1;for(const T of g)T.isEmpty()?D=!0:N=!0;if(!N){if(!b)return"";const T=g.map(A=>A.startLineNumber);let O="";for(let A=0;A<T.length;A++)A>0&&T[A-1]===T[A]||(O+=this.model.getLineContent(T[A])+L);return O}if(D&&b){let T=[],O=0;for(const A of g){const B=A.startLineNumber;A.isEmpty()?B!==O&&T.push(this.model.getLineContent(B)):T.push(this.model.getValueInRange(A,y?2:0)),O=B}return T.length===1?T[0]:T}let I=[];for(const T of g)T.isEmpty()||I.push(this.model.getValueInRange(T,y?2:0));return I.length===1?I[0]:I}getRichTextToCopy(g,b){const y=this.model.getLanguageIdentifier();if(y.id===1||g.length!==1)return null;let L=g[0];if(L.isEmpty()){if(!b)return null;const T=L.startLineNumber;L=new v.Range(T,this.model.getLineMinColumn(T),T,this.model.getLineMaxColumn(T))}const D=this._configuration.options.get(38),N=this._getColorMap(),I=D.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily?D.fontFamily:`'${D.fontFamily}', ${w.EDITOR_FONT_DEFAULTS.fontFamily}`;return{mode:y.language,html:`<div style="color: ${N[1]};background-color: ${N[2]};font-family: ${I};font-weight: ${D.fontWeight};font-size: ${D.fontSize}px;line-height: ${D.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(L,N)+"</div>"}}_getHTMLToCopy(g,b){const y=g.startLineNumber,L=g.startColumn,D=g.endLineNumber,N=g.endColumn,I=this.getTabSize();let T="";for(let O=y;O<=D;O++){const A=this.model.getLineTokens(O),B=A.getLineContent(),E=O===y?L-1:0,W=O===D?N-1:B.length;B===""?T+="<br>":T+=f.tokenizeLineToHTML(B,A.inflate(),b,E,W,I,i.isWindows)}return T}_getColorMap(){let g=l.TokenizationRegistry.getColorMap(),b=["#000000"];if(g)for(let y=1,L=g.length;y<L;y++)b[y]=C.Color.Format.CSS.formatHex(g[y]);return b}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(g,b,y){this._withViewEventsCollector(L=>this._cursor.setStates(L,g,b,y))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}setCursorColumnSelectData(g){this._cursor.setCursorColumnSelectData(g)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(g){this._cursor.setPrevEditOperationType(g)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(g,b,y=0){this._withViewEventsCollector(L=>this._cursor.setSelections(L,g,b,y))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(g){this._withViewEventsCollector(b=>this._cursor.restoreState(b,g))}_executeCursorEdit(g){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new o.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(g)}executeEdits(g,b,y){this._executeCursorEdit(L=>this._cursor.executeEdits(L,g,b,y))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(g=>this._cursor.startComposition(g))}endComposition(g){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(b=>this._cursor.endComposition(b,g))}type(g,b){this._executeCursorEdit(y=>this._cursor.type(y,g,b))}replacePreviousChar(g,b,y){this._executeCursorEdit(L=>this._cursor.replacePreviousChar(L,g,b,y))}paste(g,b,y,L){this._executeCursorEdit(D=>this._cursor.paste(D,g,b,y,L))}cut(g){this._executeCursorEdit(b=>this._cursor.cut(b,g))}executeCommand(g,b){this._executeCursorEdit(y=>this._cursor.executeCommand(y,g,b))}executeCommands(g,b){this._executeCursorEdit(y=>this._cursor.executeCommands(y,g,b))}revealPrimaryCursor(g,b){this._withViewEventsCollector(y=>this._cursor.revealPrimary(y,g,b,0))}revealTopMostCursor(g){const b=this._cursor.getTopMostViewPosition(),y=new v.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new c.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealBottomMostCursor(g){const b=this._cursor.getBottomMostViewPosition(),y=new v.Range(b.lineNumber,b.column,b.lineNumber,b.column);this._withViewEventsCollector(L=>L.emitViewEvent(new c.ViewRevealRangeRequestEvent(g,y,null,0,!0,0)))}revealRange(g,b,y,L,D){this._withViewEventsCollector(N=>N.emitViewEvent(new c.ViewRevealRangeRequestEvent(g,y,null,L,b,D)))}getVerticalOffsetForLineNumber(g){return this.viewLayout.getVerticalOffsetForLineNumber(g)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(g,b){this.viewLayout.setScrollPosition({scrollTop:g},b)}setScrollPosition(g,b){this.viewLayout.setScrollPosition(g,b)}deltaScrollNow(g,b){this.viewLayout.deltaScrollNow(g,b)}changeWhitespace(g){this.viewLayout.changeWhitespace(g)&&(this._eventDispatcher.emitSingleViewEvent(new c.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new o.ViewZonesChangedEvent))}setMaxLineWidth(g){this.viewLayout.setMaxLineWidth(g)}_withViewEventsCollector(g){try{const b=this._eventDispatcher.beginEmitViewEvents();g(b)}finally{this._eventDispatcher.endEmitViewEvents()}}}e.ViewModel=_}),define(ee[244],te([0,1,19,23,11,51,3,17,54,135]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class p{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(d,s){let i;typeof d=="string"?i=`${s.id}/${d}`:(i=`${s.id}/${d.name}`,s.children.get(i)!==void 0&&(i=`${s.id}/${d.name}_${d.range.startLineNumber}_${d.range.startColumn}`));let n=i;for(let t=0;s.children.get(n)!==void 0;t++)n=`${i}_${t}`;return n}static empty(d){return d.children.size===0}}e.TreeElement=p;class c extends p{constructor(d,s,i){super();this.id=d,this.parent=s,this.symbol=i,this.children=new Map}}e.OutlineElement=c;class u extends p{constructor(d,s,i,n){super();this.id=d,this.parent=s,this.label=i,this.order=n,this.children=new Map}}e.OutlineGroup=u;class a extends p{constructor(d){super();this.uri=d,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(d,s){let i=this._keys.for(d,!0),n=a._requests.get(i);if(!n){let t=new M.CancellationTokenSource;n={promiseCnt:0,source:t,promise:a._create(d,t.token),model:void 0},a._requests.set(i,n);const o=Date.now();n.promise.then(()=>{this._requestDurations.update(d,Date.now()-o)})}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,s.onCancellationRequested(()=>{--n.promiseCnt==0&&(n.source.cancel(),a._requests.delete(i))}),new Promise((t,o)=>{n.promise.then(h=>{n.model=h,t(h)},h=>{a._requests.delete(i),o(h)})}))}static _create(d,s){const i=new M.CancellationTokenSource(s),n=new a(d.uri),t=v.DocumentSymbolProviderRegistry.ordered(d),o=t.map((_,m)=>{var g;let b=p.findId(`provider_${m}`,n),y=new u(b,n,(g=_.displayName)!==null&&g!==void 0?g:"Unknown Outline Provider",m);return Promise.resolve(_.provideDocumentSymbols(d,i.token)).then(L=>{for(const D of L||[])a._makeOutlineElement(D,y);return y},L=>(k.onUnexpectedExternalError(L),y)).then(L=>{p.empty(L)?L.remove():n._groups.set(b,L)})}),h=v.DocumentSymbolProviderRegistry.onDidChange(()=>{const _=v.DocumentSymbolProviderRegistry.ordered(d);C.equals(_,t)||i.cancel()});return Promise.all(o).then(()=>i.token.isCancellationRequested&&!s.isCancellationRequested?a._create(d,s):n._compact()).finally(()=>{h.dispose()})}static _makeOutlineElement(d,s){let i=p.findId(d,s),n=new c(i,s,d);if(d.children)for(const t of d.children)a._makeOutlineElement(t,n);s.children.set(n.id,n)}_compact(){let d=0;for(const[s,i]of this._groups)i.children.size===0?this._groups.delete(s):d+=1;if(d!==1)this.children=this._groups;else{let s=l.Iterable.first(this._groups.values());for(let[,i]of s.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const d=[];for(const s of this.children.values())s instanceof c?d.push(s.symbol):d.push(...l.Iterable.map(s.children.values(),i=>i.symbol));return d.sort((s,i)=>S.Range.compareRangesUsingStarts(s.range,i.range))}asListOfDocumentSymbols(){const d=this.getTopLevelSymbols(),s=[];return a._flattenDocumentSymbols(s,d,""),s.sort((i,n)=>S.Range.compareRangesUsingStarts(i.range,n.range))}static _flattenDocumentSymbols(d,s,i){for(const n of s)d.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&a._flattenDocumentSymbols(d,n.children,n.name)}}e.OutlineModel=a,a._requestDurations=new f.LanguageFeatureRequestDelays(v.DocumentSymbolProviderRegistry,350),a._requests=new w.LRUCache(9,.75),a._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(r,d){return`${r.id}/${d?r.getVersionId():""}/${this._hash(v.DocumentSymbolProviderRegistry.all(r))}`}_hash(r){let d="";for(const s of r){let i=this._data.get(s);typeof i=="undefined"&&(i=this._counter++,this._data.set(s,i)),d+=i}return d}}}),define(ee[534],te([0,1,173,31,41]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const w=5e3;e.ID_INDENT_PROVIDER="indent";class S{constructor(p){this.editorModel=p,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(p){let c=k.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),u=c&&!!c.offSide,a=c&&c.markers;return Promise.resolve(l(this.editorModel,u,a))}}e.IndentRangeProvider=S;class v{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,c,u){if(!(p>C.MAX_LINE_NUMBER||c>C.MAX_LINE_NUMBER)){let a=this._length;this._startIndexes[a]=p,this._endIndexes[a]=c,this._length++,u<1e3&&(this._indentOccurrences[u]=(this._indentOccurrences[u]||0)+1)}}toIndentRanges(p){if(this._length<=this._foldingRangesLimit){let c=new Uint32Array(this._length),u=new Uint32Array(this._length);for(let a=this._length-1,r=0;a>=0;a--,r++)c[r]=this._startIndexes[a],u[r]=this._endIndexes[a];return new C.FoldingRegions(c,u)}else{let c=0,u=this._indentOccurrences.length;for(let s=0;s<this._indentOccurrences.length;s++){let i=this._indentOccurrences[s];if(i){if(i+c>this._foldingRangesLimit){u=s;break}c+=i}}const a=p.getOptions().tabSize;let r=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let s=this._length-1,i=0;s>=0;s--){let n=this._startIndexes[s],t=p.getLineContent(n),o=M.TextModel.computeIndentLevel(t,a);(o<u||o===u&&c++<this._foldingRangesLimit)&&(r[i]=n,d[i]=this._endIndexes[s],i++)}return new C.FoldingRegions(r,d)}}}e.RangesCollector=v;function l(f,p,c,u=w){const a=f.getOptions().tabSize;let r=new v(u),d;c&&(d=new RegExp(`(${c.start.source})|(?:${c.end.source})`));let s=[],i=f.getLineCount()+1;s.push({indent:-1,endAbove:i,line:i});for(let n=f.getLineCount();n>0;n--){let t=f.getLineContent(n),o=M.TextModel.computeIndentLevel(t,a),h=s[s.length-1];if(o===-1){p&&(h.endAbove=n);continue}let _;if(d&&(_=t.match(d)))if(_[1]){let m=s.length-1;for(;m>0&&s[m].indent!==-2;)m--;if(m>0){s.length=m+1,h=s[m],r.insertFirst(n,h.line,o),h.line=n,h.indent=o,h.endAbove=n;continue}}else{s.push({indent:-2,endAbove:n,line:n});continue}if(h.indent>o){do s.pop(),h=s[s.length-1];while(h.indent>o);let m=h.endAbove-1;m-n>=1&&r.insertFirst(n,m,o)}h.indent===o?h.endAbove=n:s.push({indent:o,endAbove:n,line:n})}return r.toIndentRanges(f)}e.computeRanges=l}),define(ee[535],te([0,1,8,177,3,21,108,41,227]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;class f{constructor(c,u,a){this._selection=c,this._isMovingDown=u,this._autoIndent=a,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(c,u){let a=c.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===a){this._selectionId=u.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=u.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,c.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:d,indentSize:s,insertSpaces:i}=c.getOptions();let n=this.buildIndentConverter(d,s,i),t={getLineTokens:o=>c.getLineTokens(o),getLanguageIdentifier:()=>c.getLanguageIdentifier(),getLanguageIdAtPosition:(o,h)=>c.getLanguageIdAtPosition(o,h),getLineContent:null};if(r.startLineNumber===r.endLineNumber&&c.getLineMaxColumn(r.startLineNumber)===1){let o=r.startLineNumber,h=this._isMovingDown?o+1:o-1;c.getLineMaxColumn(h)===1?u.addEditOperation(new k.Range(1,1,1,1),null):(u.addEditOperation(new k.Range(o,1,o,1),c.getLineContent(h)),u.addEditOperation(new k.Range(h,1,h,c.getLineMaxColumn(h)),null)),r=new w.Selection(h,1,h,1)}else{let o,h;if(this._isMovingDown){o=r.endLineNumber+1,h=c.getLineContent(o),u.addEditOperation(new k.Range(o-1,c.getLineMaxColumn(o-1),o,c.getLineMaxColumn(o)),null);let _=h;if(this.shouldAutoIndent(c,r)){let m=this.matchEnterRule(c,n,d,o,r.startLineNumber-1);if(m!==null){let b=C.getLeadingWhitespace(c.getLineContent(o)),y=m+l.getSpaceCnt(b,d);_=l.generateIndent(y,d,i)+this.trimLeft(h)}else{t.getLineContent=y=>y===r.startLineNumber?c.getLineContent(o):c.getLineContent(y);let b=v.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,c.getLanguageIdAtPosition(o,1),r.startLineNumber,n);if(b!==null){let y=C.getLeadingWhitespace(c.getLineContent(o)),L=l.getSpaceCnt(b,d),D=l.getSpaceCnt(y,d);L!==D&&(_=l.generateIndent(L,d,i)+this.trimLeft(h))}}u.addEditOperation(new k.Range(r.startLineNumber,1,r.startLineNumber,1),_+`
`);let g=this.matchEnterRuleMovingDown(c,n,d,r.startLineNumber,o,_);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(c,u,r,d,i,g);else{t.getLineContent=y=>y===r.startLineNumber?_:y>=r.startLineNumber+1&&y<=r.endLineNumber+1?c.getLineContent(y-1):c.getLineContent(y);let b=v.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,c.getLanguageIdAtPosition(o,1),r.startLineNumber+1,n);if(b!==null){const y=C.getLeadingWhitespace(c.getLineContent(r.startLineNumber)),L=l.getSpaceCnt(b,d),D=l.getSpaceCnt(y,d);if(L!==D){const N=L-D;this.getIndentEditsOfMovingBlock(c,u,r,d,i,N)}}}}else u.addEditOperation(new k.Range(r.startLineNumber,1,r.startLineNumber,1),_+`
`)}else if(o=r.startLineNumber-1,h=c.getLineContent(o),u.addEditOperation(new k.Range(o,1,o+1,1),null),u.addEditOperation(new k.Range(r.endLineNumber,c.getLineMaxColumn(r.endLineNumber),r.endLineNumber,c.getLineMaxColumn(r.endLineNumber)),`
`+h),this.shouldAutoIndent(c,r)){t.getLineContent=m=>m===o?c.getLineContent(r.startLineNumber):c.getLineContent(m);let _=this.matchEnterRule(c,n,d,r.startLineNumber,r.startLineNumber-2);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(c,u,r,d,i,_);else{let m=v.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,t,c.getLanguageIdAtPosition(r.startLineNumber,1),o,n);if(m!==null){let g=C.getLeadingWhitespace(c.getLineContent(r.startLineNumber)),b=l.getSpaceCnt(m,d),y=l.getSpaceCnt(g,d);if(b!==y){let L=b-y;this.getIndentEditsOfMovingBlock(c,u,r,d,i,L)}}}}}this._selectionId=u.trackSelection(r)}buildIndentConverter(c,u,a){return{shiftIndent:r=>M.ShiftCommand.shiftIndent(r,r.length+1,c,u,a),unshiftIndent:r=>M.ShiftCommand.unshiftIndent(r,r.length+1,c,u,a)}}parseEnterResult(c,u,a,r,d){if(d){let s=d.indentation;d.indentAction===S.IndentAction.None||d.indentAction===S.IndentAction.Indent?s=d.indentation+d.appendText:d.indentAction===S.IndentAction.IndentOutdent?s=d.indentation:d.indentAction===S.IndentAction.Outdent&&(s=u.unshiftIndent(d.indentation)+d.appendText);let i=c.getLineContent(r);if(this.trimLeft(i).indexOf(this.trimLeft(s))>=0){let n=C.getLeadingWhitespace(c.getLineContent(r)),t=C.getLeadingWhitespace(s),o=v.LanguageConfigurationRegistry.getIndentMetadata(c,r);o!==null&&o&2&&(t=u.unshiftIndent(t));let h=l.getSpaceCnt(t,a),_=l.getSpaceCnt(n,a);return h-_}}return null}matchEnterRuleMovingDown(c,u,a,r,d,s){if(C.lastNonWhitespaceIndex(s)>=0){let i=c.getLineMaxColumn(d),n=v.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,c,new k.Range(d,i,d,i));return this.parseEnterResult(c,u,a,r,n)}else{let i=r-1;for(;i>=1;){let o=c.getLineContent(i);if(C.lastNonWhitespaceIndex(o)>=0)break;i--}if(i<1||r>c.getLineCount())return null;let n=c.getLineMaxColumn(i),t=v.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,c,new k.Range(i,n,i,n));return this.parseEnterResult(c,u,a,r,t)}}matchEnterRule(c,u,a,r,d,s){let i=d;for(;i>=1;){let o;if(i===d&&s!==void 0?o=s:o=c.getLineContent(i),C.lastNonWhitespaceIndex(o)>=0)break;i--}if(i<1||r>c.getLineCount())return null;let n=c.getLineMaxColumn(i),t=v.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,c,new k.Range(i,n,i,n));return this.parseEnterResult(c,u,a,r,t)}trimLeft(c){return c.replace(/^\s+/,"")}shouldAutoIndent(c,u){if(this._autoIndent<4||!c.isCheapToTokenize(u.startLineNumber))return!1;let a=c.getLanguageIdAtPosition(u.startLineNumber,1),r=c.getLanguageIdAtPosition(u.endLineNumber,1);return!(a!==r||v.LanguageConfigurationRegistry.getIndentRulesSupport(a)===null)}getIndentEditsOfMovingBlock(c,u,a,r,d,s){for(let i=a.startLineNumber;i<=a.endLineNumber;i++){let n=c.getLineContent(i),t=C.getLeadingWhitespace(n),h=l.getSpaceCnt(t,r)+s,_=l.generateIndent(h,r,d);_!==t&&(u.addEditOperation(new k.Range(i,1,i,t.length+1),_),i===a.endLineNumber&&a.endColumn<=t.length+1&&_===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(c,u){let a=u.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(a=a.setEndPosition(a.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&a.startLineNumber<a.endLineNumber&&(a=a.setEndPosition(a.endLineNumber,2)),a}}e.MoveLinesCommand=f}),define(ee[536],te([0,1,7,104,29,118,2,40,3,31,349]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const p=new k.Color(new k.RGBA(0,122,204)),c={showArrow:!0,showFrame:!0,className:"",frameColor:p,arrowColor:p,keepEditorSelection:!1},u="vs.editor.contrib.zoneWidget";class a{constructor(n,t,o,h,_,m){this.id="",this.domNode=n,this.afterLineNumber=t,this.afterColumn=o,this.heightInLines=h,this._onDomNodeTop=_,this._onComputedHeight=m}onDomNodeTop(n){this._onDomNodeTop(n)}onComputedHeight(n){this._onComputedHeight(n)}}e.ViewZoneDelegate=a;class r{constructor(n,t){this._id=n,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=r;class d{constructor(n){this._editor=n,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),C.removeCSSRulesContainingSelector(this._ruleName)}set color(n){this._color!==n&&(this._color=n,this._updateStyle())}set height(n){this._height!==n&&(this._height=n,this._updateStyle())}_updateStyle(){C.removeCSSRulesContainingSelector(this._ruleName),C.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(n){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:l.Range.fromPositions(n),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new w.IdGenerator(".arrow-decoration-");class s{constructor(n,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=n,this.options=v.deepClone(t),v.mixin(this.options,c,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(o=>{const h=this._getWidth(o);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(o)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(n){n.frameColor&&(this.options.frameColor=n.frameColor),n.arrowColor&&(this.options.arrowColor=n.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let n=this.options.frameColor.toString();this.container.style.borderTopColor=n,this.container.style.borderBottomColor=n}if(this._arrow&&this.options.arrowColor){let n=this.options.arrowColor.toString();this._arrow.color=n}}_getWidth(n){return n.width-n.minimap.minimapWidth-n.verticalScrollbarWidth}_getLeft(n){return n.minimap.minimapWidth>0&&n.minimap.minimapLeft===0?n.minimap.minimapWidth:0}_onViewZoneTop(n){this.domNode.style.top=n+"px"}_onViewZoneHeight(n){if(this.domNode.style.height=`${n}px`,this.container){let t=n-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const o=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(o))}this._resizeSash&&this._resizeSash.layout()}get position(){const[n]=this._positionMarkerId;if(!!n){const t=this.editor.getModel();if(!!t){const o=t.getDecorationRange(n);if(!!o)return o.getStartPosition()}}}show(n,t){const o=l.Range.isIRange(n)?l.Range.lift(n):l.Range.fromPositions(n);this._isShowing=!0,this._showImpl(o,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:o,options:f.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(n=>{this._viewZone&&n.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let n=this.editor.getOption(53),t=0;if(this.options.showArrow){let o=Math.round(n/3);t+=2*o}if(this.options.showFrame){let o=Math.round(n/9);t+=2*o}return t}_showImpl(n,t){const o=n.getStartPosition(),h=this.editor.getLayoutInfo(),_=this._getWidth(h);this.domNode.style.width=`${_}px`,this.domNode.style.left=this._getLeft(h)+"px";const m=document.createElement("div");m.style.overflow="hidden";const g=this.editor.getOption(53),b=Math.max(12,this.editor.getLayoutInfo().height/g*.8);t=Math.min(t,b);let y=0,L=0;if(this._arrow&&this.options.showArrow&&(y=Math.round(g/3),this._arrow.height=y,this._arrow.show(o)),this.options.showFrame&&(L=Math.round(g/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new a(m,o.lineNumber,o.column,t,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T)),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new r(u+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:L;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}let D=t*g-this._decoratingElementsHeight();this.container&&(this.container.style.top=y+"px",this.container.style.height=D+"px",this.container.style.overflow="hidden"),this._doLayout(D,_),this.options.keepEditorSelection||this.editor.setSelection(n);const N=this.editor.getModel();if(N){const I=n.endLineNumber+1;I<=N.getLineCount()?this.revealLine(I,!1):this.revealLine(N.getLineCount(),!0)}}revealLine(n,t){t?this.editor.revealLineInCenter(n,0):this.editor.revealLine(n,0)}setCssClass(n,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(n))}_onWidth(n){}_doLayout(n,t){}_relayout(n){this._viewZone&&this._viewZone.heightInLines!==n&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=n,t.layoutZone(this._viewZone.id))})}_initSash(){if(!this._resizeSash){this._resizeSash=this._disposables.add(new M.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0);let n;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(n={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{n=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(n){let o=(t.currentY-n.startY)/this.editor.getOption(53),h=o<0?Math.ceil(o):Math.floor(o),_=n.heightInLines+h;_>5&&_<35&&this._relayout(_)}}))}}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const n=this.editor.getLayoutInfo();return n.width-n.minimap.minimapWidth}}e.ZoneWidget=s}),define(ee[245],te([0,1,128,17,76,230]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizationSupport=e.MonarchTokenizer=void 0;const S=5;class v{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,t){return this._INSTANCE.create(n,t)}create(n,t){if(n!==null&&n.depth>=this._maxCacheDepth)return new l(n,t);let o=l.getStackElementId(n);o.length>0&&(o+="|"),o+=t;let h=this._entries[o];return h||(h=new l(n,t),this._entries[o]=h,h)}}v._INSTANCE=new v(S);class l{constructor(n,t){this.parent=n,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(n){let t="";for(;n!==null;)t.length>0&&(t+="|"),t+=n.state,n=n.parent;return t}static _equals(n,t){for(;n!==null&&t!==null;){if(n===t)return!0;if(n.state!==t.state)return!1;n=n.parent,t=t.parent}return n===null&&t===null}equals(n){return l._equals(this,n)}push(n){return v.create(this,n)}pop(){return this.parent}popall(){let n=this;for(;n.parent;)n=n.parent;return n}switchTo(n){return v.create(this.parent,n)}}class f{constructor(n,t){this.modeId=n,this.state=t}equals(n){return this.modeId===n.modeId&&this.state.equals(n.state)}clone(){return this.state.clone()===this.state?this:new f(this.modeId,this.state)}}class p{constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}static create(n,t){return this._INSTANCE.create(n,t)}create(n,t){if(t!==null)return new c(n,t);if(n!==null&&n.depth>=this._maxCacheDepth)return new c(n,t);let o=l.getStackElementId(n),h=this._entries[o];return h||(h=new c(n,null),this._entries[o]=h,h)}}p._INSTANCE=new p(S);class c{constructor(n,t){this.stack=n,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:p.create(this.stack,this.embeddedModeData)}equals(n){return!(n instanceof c)||!this.stack.equals(n.stack)?!1:this.embeddedModeData===null&&n.embeddedModeData===null?!0:this.embeddedModeData===null||n.embeddedModeData===null?!1:this.embeddedModeData.equals(n.embeddedModeData)}}class u{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(n,t){this._language=t}emit(n,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new C.Token(n,t,this._language)))}nestedModeTokenize(n,t,o,h){const _=o.modeId,m=o.state,g=M.TokenizationRegistry.get(_);if(!g)return this.enterMode(h,_),this.emit(h,""),m;let b=g.tokenize(n,t,m,h);return this._tokens=this._tokens.concat(b.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,b.endState}finalize(n){return new C.TokenizationResult(this._tokens,n)}}class a{constructor(n,t){this._modeService=n,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(n,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(n,t){let o=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==o&&(this._lastTokenMetadata=o,this._tokens.push(n),this._tokens.push(o))}static _merge(n,t,o){let h=n!==null?n.length:0,_=t.length,m=o!==null?o.length:0;if(h===0&&_===0&&m===0)return new Uint32Array(0);if(h===0&&_===0)return o;if(_===0&&m===0)return n;let g=new Uint32Array(h+_+m);n!==null&&g.set(n);for(let b=0;b<_;b++)g[h+b]=t[b];return o!==null&&g.set(o,h+_),g}nestedModeTokenize(n,t,o,h){const _=o.modeId,m=o.state,g=M.TokenizationRegistry.get(_);if(!g)return this.enterMode(h,_),this.emit(h,""),m;let b=g.tokenize2(n,t,m,h);return this._prependTokens=a._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(n){return new C.TokenizationResult2(a._merge(this._prependTokens,this._tokens,null),n)}}class r{constructor(n,t,o,h){this._modeService=n,this._standaloneThemeService=t,this._modeId=o,this._lexer=h,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let _=!1;this._tokenizationRegistryListener=M.TokenizationRegistry.onDidChange(m=>{if(!_){let g=!1;for(let b=0,y=m.changedLanguages.length;b<y;b++){let L=m.changedLanguages[b];if(this._embeddedModes[L]){g=!0;break}}g&&(_=!0,M.TokenizationRegistry.fire([this._modeId]),_=!1)}})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let n=[];for(let t in this._embeddedModes){const o=M.TokenizationRegistry.get(t);if(o){if(o instanceof r){const _=o.getLoadStatus();_.loaded===!1&&n.push(_.promise)}continue}const h=M.TokenizationRegistry.getPromise(t);h&&n.push(h)}return n.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(t=>{})}}getInitialState(){let n=v.create(null,this._lexer.start);return p.create(n,null)}tokenize(n,t,o,h){let _=new u,m=this._tokenize(n,t,o,h,_);return _.finalize(m)}tokenize2(n,t,o,h){let _=new a(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),m=this._tokenize(n,t,o,h,_);return _.finalize(m)}_tokenize(n,t,o,h,_){return o.embeddedModeData?this._nestedTokenize(n,t,o,h,_):this._myTokenize(n,t,o,h,_)}_findLeavingNestedModeOffset(n,t){let o=this._lexer.tokenizer[t.stack.state];if(!o&&(o=w.findRules(this._lexer,t.stack.state),!o))throw w.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let h=-1,_=!1;for(const m of o)if(!(!w.isIAction(m.action)||m.action.nextEmbedded!=="@pop")){_=!0;let g=m.regex,b=m.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){let L=(g.ignoreCase?"i":"")+(g.unicode?"u":"");g=new RegExp(b.substr(4,b.length-5),L)}let y=n.search(g);y===-1||y!==0&&m.matchOnlyAtLineStart||(h===-1||y<h)&&(h=y)}if(!_)throw w.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return h}_nestedTokenize(n,t,o,h,_){let m=this._findLeavingNestedModeOffset(n,o);if(m===-1){let y=_.nestedModeTokenize(n,t,o.embeddedModeData,h);return p.create(o.stack,new f(o.embeddedModeData.modeId,y))}let g=n.substring(0,m);g.length>0&&_.nestedModeTokenize(g,!1,o.embeddedModeData,h);let b=n.substring(m);return this._myTokenize(b,t,o,h+m,_)}_safeRuleName(n){return n?n.name:"(unknown)"}_myTokenize(n,t,o,h,_){_.enterMode(h,this._modeId);const m=n.length,g=t&&this._lexer.includeLF?n+`
`:n,b=g.length;let y=o.embeddedModeData,L=o.stack,D=0,N=null,I=!0;for(;I||D<b;){const T=D,O=L.depth,A=N?N.groups.length:0,B=L.state;let E=null,W=null,R=null,F=null,V=null;if(N){E=N.matches;const J=N.groups.shift();W=J.matched,R=J.action,F=N.rule,N.groups.length===0&&(N=null)}else{if(!I&&D>=b)break;I=!1;let J=this._lexer.tokenizer[B];if(!J&&(J=w.findRules(this._lexer,B),!J))throw w.createError(this._lexer,"tokenizer state is not defined: "+B);let se=g.substr(D);for(const ie of J)if((D===0||!ie.matchOnlyAtLineStart)&&(E=se.match(ie.regex),E)){W=E[0],R=ie.action;break}}if(E||(E=[""],W=""),R||(D<b&&(E=[g.charAt(D)],W=E[0]),R=this._lexer.defaultToken),W===null)break;for(D+=W.length;w.isFuzzyAction(R)&&w.isIAction(R)&&R.test;)R=R.test(W,E,B,D===b);let K=null;if(typeof R=="string"||Array.isArray(R))K=R;else if(R.group)K=R.group;else if(R.token!==null&&R.token!==void 0){if(R.tokenSubst?K=w.substituteMatches(this._lexer,R.token,W,E,B):K=R.token,R.nextEmbedded)if(R.nextEmbedded==="@pop"){if(!y)throw w.createError(this._lexer,"cannot pop embedded mode if not inside one");y=null}else{if(y)throw w.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");V=w.substituteMatches(this._lexer,R.nextEmbedded,W,E,B)}if(R.goBack&&(D=Math.max(0,D-R.goBack)),R.switchTo&&typeof R.switchTo=="string"){let J=w.substituteMatches(this._lexer,R.switchTo,W,E,B);if(J[0]==="@"&&(J=J.substr(1)),w.findRules(this._lexer,J))L=L.switchTo(J);else throw w.createError(this._lexer,"trying to switch to a state '"+J+"' that is undefined in rule: "+this._safeRuleName(F))}else{if(R.transform&&typeof R.transform=="function")throw w.createError(this._lexer,"action.transform not supported");if(R.next)if(R.next==="@push"){if(L.depth>=this._lexer.maxStack)throw w.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(B)}else if(R.next==="@pop"){if(L.depth<=1)throw w.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(F));L=L.pop()}else if(R.next==="@popall")L=L.popall();else{let J=w.substituteMatches(this._lexer,R.next,W,E,B);if(J[0]==="@"&&(J=J.substr(1)),w.findRules(this._lexer,J))L=L.push(J);else throw w.createError(this._lexer,"trying to set a next state '"+J+"' that is undefined in rule: "+this._safeRuleName(F))}}R.log&&typeof R.log=="string"&&w.log(this._lexer,this._lexer.languageId+": "+w.substituteMatches(this._lexer,R.log,W,E,B))}if(K===null)throw w.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(F));const G=J=>{let se=this._modeService.getModeIdForLanguageName(J);se&&(J=se);const ie=this._getNestedEmbeddedModeData(J);if(D<b){const ae=n.substr(D);return this._nestedTokenize(ae,t,p.create(L,ie),h+D,_)}else return p.create(L,ie)};if(Array.isArray(K)){if(N&&N.groups.length>0)throw w.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(F));if(E.length!==K.length+1)throw w.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(F));let J=0;for(let se=1;se<E.length;se++)J+=E[se].length;if(J!==W.length)throw w.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(F));N={rule:F,matches:E,groups:[]};for(let se=0;se<K.length;se++)N.groups[se]={action:K[se],matched:E[se+1]};D-=W.length;continue}else{if(K==="@rematch"&&(D-=W.length,W="",E=null,K="",V!==null))return G(V);if(W.length===0){if(b===0||O!==L.depth||B!==L.state||(N?N.groups.length:0)!==A)continue;throw w.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(F))}let J=null;if(w.isString(K)&&K.indexOf("@brackets")===0){let se=K.substr("@brackets".length),ie=d(this._lexer,W);if(!ie)throw w.createError(this._lexer,"@brackets token returned but no bracket defined as: "+W);J=w.sanitize(ie.token+se)}else{let se=K===""?"":K+this._lexer.tokenPostfix;J=w.sanitize(se)}T<m&&_.emit(T+h,J)}if(V!==null)return G(V)}return p.create(L,y)}_getNestedEmbeddedModeData(n){let t=this._locateMode(n);if(t){let o=M.TokenizationRegistry.get(t);if(o)return new f(t,o.getInitialState())}return new f(t||k.NULL_MODE_ID,k.NULL_STATE)}_locateMode(n){if(!n||!this._modeService.isRegisteredMode(n))return null;if(n===this._modeId)return n;let t=this._modeService.getModeId(n);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}e.MonarchTokenizer=r;function d(i,n){if(!n)return null;n=w.fixCase(i,n);let t=i.brackets;for(const o of t){if(o.open===n)return{token:o.token,bracketType:1};if(o.close===n)return{token:o.token,bracketType:-1}}return null}function s(i,n,t,o){return new r(i,n,t,o)}e.createTokenizationSupport=s}),define(ee[537],te([0,1,15,8,112,17,130,63,245]),function($,e,C,M,k,w,S,v,l){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const p=(f=window.trustedTypes)===null||f===void 0?void 0:f.createPolicy("standaloneColorizer",{createHTML:d=>d});class c{static colorizeElement(s,i,n,t){t=t||{};let o=t.theme||"vs",h=t.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!h)return console.error("Mode not detected"),Promise.resolve();s.setTheme(o);let _=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+o;let m=g=>{var b;const y=(b=p==null?void 0:p.createHTML(g))!==null&&b!==void 0?b:g;n.innerHTML=y};return this.colorize(i,_||"",h,t).then(m,g=>console.error(g))}static colorize(s,i,n,t){let o=4;t&&typeof t.tabSize=="number"&&(o=t.tabSize),M.startsWithUTF8BOM(i)&&(i=i.substr(1));let h=M.splitLines(i),_=s.getModeId(n);if(!_)return Promise.resolve(a(h,o));s.triggerMode(_);const m=w.TokenizationRegistry.get(_);if(m)return u(h,o,m);const g=w.TokenizationRegistry.getPromise(_);return g?new Promise((b,y)=>{g.then(L=>{u(h,o,L).then(b,y)},y)}):new Promise((b,y)=>{let L=null,D=null;const N=()=>{L&&(L.dispose(),L=null),D&&(D.dispose(),D=null);const I=w.TokenizationRegistry.get(_);if(I){u(h,o,I).then(b,y);return}b(a(h,o))};D=new C.TimeoutTimer,D.cancelAndSet(N,500),L=w.TokenizationRegistry.onDidChange(I=>{I.changedLanguages.indexOf(_)>=0&&N()})})}static colorizeLine(s,i,n,t,o=4){const h=v.ViewLineRenderingData.isBasicASCII(s,i),_=v.ViewLineRenderingData.containsRTL(s,h,n);return S.renderViewLine2(new S.RenderLineInput(!1,!0,s,!1,h,_,0,t,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,i,n=4){let t=s.getLineContent(i);s.forceTokenization(i);let h=s.getLineTokens(i).inflate();return this.colorizeLine(t,s.mightContainNonBasicASCII(),s.mightContainRTL(),h,n)}}e.Colorizer=c;function u(d,s,i){return new Promise((n,t)=>{const o=()=>{const h=r(d,s,i);if(i instanceof l.MonarchTokenizer){const _=i.getLoadStatus();if(_.loaded===!1){_.promise.then(o,t);return}}n(h)};o()})}function a(d,s){let i=[];const n=(0<<11|1<<14|2<<23)>>>0,t=new Uint32Array(2);t[0]=0,t[1]=n;for(let o=0,h=d.length;o<h;o++){let _=d[o];t[0]=_.length;const m=new k.LineTokens(t,_),g=v.ViewLineRenderingData.isBasicASCII(_,!0),b=v.ViewLineRenderingData.containsRTL(_,g,!0);let y=S.renderViewLine2(new S.RenderLineInput(!1,!0,_,!1,g,b,0,m,[],s,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(y.html),i.push("<br/>")}return i.join("")}function r(d,s,i){let n=[],t=i.getInitialState();for(let o=0,h=d.length;o<h;o++){let _=d[o],m=i.tokenize2(_,!0,t,0);k.LineTokens.convertToEndOffset(m.tokens,_.length);let g=new k.LineTokens(m.tokens,_);const b=v.ViewLineRenderingData.isBasicASCII(_,!0),y=v.ViewLineRenderingData.containsRTL(_,b,!0);let L=S.renderViewLine2(new S.RenderLineInput(!1,!0,_,!1,b,y,0,g.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(L.html),n.push("<br/>"),t=m.endState}return n.join("")}}),define(ee[113],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=C.createDecorator("themeService")}),define(ee[84],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=C.createDecorator("clipboardService")}),define(ee[26],te([0,1,2,20,9,6,71,54]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=k.createDecorator("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(l,f){if(!l)throw new Error("invalid command");if(typeof l=="string"){if(!f)throw new Error("invalid command");return this.registerCommand({id:l,handler:f})}if(l.description){const r=[];for(let s of l.description.args)r.push(s.constraint);const d=l.handler;l.handler=function(s,...i){return M.validateConstraints(i,r),d(s,...i)}}const{id:p}=l;let c=this._commands.get(p);c||(c=new S.LinkedList,this._commands.set(p,c));let u=c.unshift(l),a=C.toDisposable(()=>{u();const r=this._commands.get(p);(r==null?void 0:r.isEmpty())&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),a}registerCommandAlias(l,f){return e.CommandsRegistry.registerCommand(l,(p,...c)=>p.get(e.ICommandService).executeCommand(f,...c))}getCommand(l){const f=this._commands.get(l);if(!(!f||f.isEmpty()))return v.Iterable.first(f)}getCommands(){const l=new Map;for(const f of this._commands.keys()){const p=this.getCommand(f);p&&l.set(f,p)}return l}}}),define(ee[246],te([0,1,23,11,24,17,36,26,20,379,3]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function c(s){return s&&!!s.data}e.isSemanticTokens=c;function u(s){return s&&Array.isArray(s.edits)}e.isSemanticTokensEdits=u;function a(s,i,n){const t=r(s);return t?{provider:t,request:Promise.resolve(t.provideDocumentSemanticTokens(s,i,n))}:null}e.getDocumentSemanticTokens=a;function r(s){const i=w.DocumentSemanticTokensProviderRegistry.ordered(s);return i.length>0?i[0]:null}function d(s){const i=w.DocumentRangeSemanticTokensProviderRegistry.ordered(s);return i.length>0?i[0]:null}e.getDocumentRangeSemanticTokensProvider=d,v.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(s,...i)=>Ie(void 0,void 0,void 0,function*(){const[n]=i;l.assertType(n instanceof k.URI);const t=s.get(S.IModelService).getModel(n);if(!!t){const o=r(t);return o?o.getLegend():s.get(v.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)}})),v.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(s,...i)=>Ie(void 0,void 0,void 0,function*(){const[n]=i;l.assertType(n instanceof k.URI);const t=s.get(S.IModelService).getModel(n);if(!!t){const o=a(t,null,C.CancellationToken.None);if(!o)return s.get(v.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",n,t.getFullModelRange());const{provider:h,request:_}=o;let m;try{m=yield _}catch(b){M.onUnexpectedExternalError(b);return}if(!(!m||!c(m))){const g=f.encodeSemanticTokensDto({id:0,type:"full",data:m.data});return m.resultId&&h.releaseDocumentSemanticTokens(m.resultId),g}}})),v.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(s,...i)=>Ie(void 0,void 0,void 0,function*(){const[n]=i;l.assertType(n instanceof k.URI);const t=s.get(S.IModelService).getModel(n);if(!!t){const o=d(t);if(!!o)return o.getLegend()}})),v.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(s,...i)=>Ie(void 0,void 0,void 0,function*(){const[n,t]=i;l.assertType(n instanceof k.URI),l.assertType(p.Range.isIRange(t));const o=s.get(S.IModelService).getModel(n);if(!!o){const h=d(o);if(!!h){let _;try{_=yield h.provideDocumentRangeSemanticTokens(o,p.Range.lift(t),C.CancellationToken.None)}catch(m){M.onUnexpectedExternalError(m);return}if(!(!_||!c(_)))return f.encodeSemanticTokensDto({id:0,type:"full",data:_.data})}}}))}),define(ee[247],te([0,1,19,23,11,24,17,36,2,26,20]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class c{constructor(){this.lenses=[],this._disposables=new l.DisposableStore}dispose(){this._disposables.dispose()}add(r,d){this._disposables.add(r);for(const s of r.lenses)this.lenses.push({symbol:s,provider:d})}}e.CodeLensModel=c;function u(a,r){return Ie(this,void 0,void 0,function*(){const d=S.CodeLensProviderRegistry.ordered(a),s=new Map,i=new c,n=d.map((t,o)=>Ie(this,void 0,void 0,function*(){s.set(t,o);try{const h=yield Promise.resolve(t.provideCodeLenses(a,r));h&&i.add(h,t)}catch(h){k.onUnexpectedExternalError(h)}}));return yield Promise.all(n),i.lenses=C.mergeSort(i.lenses,(t,o)=>t.symbol.range.startLineNumber<o.symbol.range.startLineNumber?-1:t.symbol.range.startLineNumber>o.symbol.range.startLineNumber?1:s.get(t.provider)<s.get(o.provider)?-1:s.get(t.provider)>s.get(o.provider)?1:t.symbol.range.startColumn<o.symbol.range.startColumn?-1:t.symbol.range.startColumn>o.symbol.range.startColumn?1:0),i})}e.getCodeLensModel=u,f.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(a,...r){let[d,s]=r;p.assertType(w.URI.isUri(d)),p.assertType(typeof s=="number"||!s);const i=a.get(v.IModelService).getModel(d);if(!i)throw k.illegalArgument();const n=[],t=new l.DisposableStore;return u(i,M.CancellationToken.None).then(o=>{t.add(o);let h=[];for(const _ of o.lenses)s==null||Boolean(_.symbol.command)?n.push(_.symbol):s-- >0&&_.provider.resolveCodeLens&&h.push(Promise.resolve(_.provider.resolveCodeLens(i,_.symbol,M.CancellationToken.None)).then(m=>n.push(m||_.symbol)));return Promise.all(h)}).then(()=>n).finally(()=>{setTimeout(()=>t.dispose(),100)})})}),define(ee[248],te([0,1,23,11,24,3,17,36,26]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function f(c,u){const a=[],d=S.ColorProviderRegistry.ordered(c).reverse().map(s=>Promise.resolve(s.provideDocumentColors(c,u)).then(i=>{if(Array.isArray(i))for(let n of i)a.push({colorInfo:n,provider:s})}));return Promise.all(d).then(()=>a)}e.getColors=f;function p(c,u,a,r){return Promise.resolve(a.provideColorPresentations(c,u,r))}e.getColorPresentations=p,l.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(c,...u){const[a]=u;if(!(a instanceof k.URI))throw M.illegalArgument();const r=c.get(v.IModelService).getModel(a);if(!r)throw M.illegalArgument();const d=[],i=S.ColorProviderRegistry.ordered(r).reverse().map(n=>Promise.resolve(n.provideDocumentColors(r,C.CancellationToken.None)).then(t=>{if(Array.isArray(t))for(let o of t)d.push({range:o.range,color:[o.color.red,o.color.green,o.color.blue,o.color.alpha]})}));return Promise.all(i).then(()=>d)}),l.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(c,...u){const[a,r]=u,{uri:d,range:s}=r;if(!(d instanceof k.URI)||!Array.isArray(a)||a.length!==4||!w.Range.isIRange(s))throw M.illegalArgument();const[i,n,t,o]=a,h=c.get(v.IModelService).getModel(d);if(!h)throw M.illegalArgument();const _={range:s,color:{red:i,green:n,blue:t,alpha:o}},m=[],b=S.ColorProviderRegistry.ordered(h).reverse().map(y=>Promise.resolve(y.provideColorPresentations(h,_,C.CancellationToken.None)).then(L=>{Array.isArray(L)&&m.push(...L)}));return Promise.all(b).then(()=>m)})}),define(ee[538],te([0,1,24,36,23,67,244,26,20]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentSymbols=void 0;function f(p,c,u){return Ie(this,void 0,void 0,function*(){const a=yield S.OutlineModel.create(p,u);return c?a.asListOfDocumentSymbols():a.getTopLevelSymbols()})}e.getDocumentSymbols=f,v.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(p,...c){return Ie(this,void 0,void 0,function*(){const[u]=c;l.assertType(C.URI.isUri(u));const a=p.get(M.IModelService).getModel(u);if(a)return f(a,!1,k.CancellationToken.None);const r=yield p.get(w.ITextModelService).createModelReference(u);try{return yield f(r.object.textEditorModel,!1,k.CancellationToken.None)}finally{r.dispose()}})})}),define(ee[539],te([0,1,23,11,24,3,17,36,26,2,19,20]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class u{constructor(s,i){this._link=s,this._provider=i}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(s){return Ie(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,s)).then(i=>(this._link=i||this._link,this._link.url?this.resolve(s):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=u;class a{constructor(s){this._disposables=new f.DisposableStore;let i=[];for(const[n,t]of s){const o=n.links.map(h=>new u(h,t));i=a._union(i,o),f.isDisposable(n)&&this._disposables.add(n)}this.links=i}dispose(){this._disposables.dispose(),this.links.length=0}static _union(s,i){let n=[],t,o,h,_;for(t=0,h=0,o=s.length,_=i.length;t<o&&h<_;){const m=s[t],g=i[h];if(w.Range.areIntersectingOrTouching(m.range,g.range)){t++;continue}w.Range.compareRangesUsingStarts(m.range,g.range)<0?(n.push(m),t++):(n.push(g),h++)}for(;t<o;t++)n.push(s[t]);for(;h<_;h++)n.push(i[h]);return n}}e.LinksList=a;function r(d,s){const i=[],n=S.LinkProviderRegistry.ordered(d).reverse().map((t,o)=>Promise.resolve(t.provideLinks(d,s)).then(h=>{h&&(i[o]=[h,t])},M.onUnexpectedExternalError));return Promise.all(n).then(()=>{const t=new a(p.coalesce(i));return s.isCancellationRequested?(t.dispose(),new a([])):t})}e.getLinks=r,l.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...s)=>Ie(void 0,void 0,void 0,function*(){let[i,n]=s;c.assertType(i instanceof k.URI),typeof n!="number"&&(n=0);const t=d.get(v.IModelService).getModel(i);if(!t)return[];const o=yield r(t,C.CancellationToken.None);if(!o)return[];for(let _=0;_<Math.min(n,o.links.length);_++)yield o.links[_].resolve(C.CancellationToken.None);const h=o.links.slice(0);return o.dispose(),h}))}),define(ee[18],te([0,1,8,9,16]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=void 0;let w=k.userAgent||"";const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",k.isMacintosh),S.set("isLinux",k.isLinux),S.set("isWindows",k.isWindows),S.set("isWeb",k.isWeb),S.set("isMacNative",k.isMacintosh&&!k.isWeb),S.set("isEdge",w.indexOf("Edg/")>=0),S.set("isFirefox",w.indexOf("Firefox")>=0),S.set("isChrome",w.indexOf("Chrome")>=0),S.set("isSafari",w.indexOf("Safari")>=0),S.set("isIPad",w.indexOf("iPad")>=0);const v=Object.prototype.hasOwnProperty;class l{static has(I){return u.create(I)}static equals(I,T){return a.create(I,T)}static regex(I,T){return _.create(I,T)}static not(I){return i.create(I)}static and(...I){return g.create(I)}static or(...I){return b.create(I)}static deserialize(I,T=!1){if(!!I)return this._deserializeOrExpression(I,T)}static _deserializeOrExpression(I,T){let O=I.split("||");return b.create(O.map(A=>this._deserializeAndExpression(A,T)))}static _deserializeAndExpression(I,T){let O=I.split("&&");return g.create(O.map(A=>this._deserializeOne(A,T)))}static _deserializeOne(I,T){if(I=I.trim(),I.indexOf("!=")>=0){let O=I.split("!=");return s.create(O[0].trim(),this._deserializeValue(O[1],T))}if(I.indexOf("==")>=0){let O=I.split("==");return a.create(O[0].trim(),this._deserializeValue(O[1],T))}if(I.indexOf("=~")>=0){let O=I.split("=~");return _.create(O[0].trim(),this._deserializeRegexValue(O[1],T))}if(I.indexOf(" in ")>=0){let O=I.split(" in ");return r.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(I)){const O=I.split(">=");return t.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(I)){const O=I.split(">");return n.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(I)){const O=I.split("<=");return h.create(O[0].trim(),O[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(I)){const O=I.split("<");return o.create(O[0].trim(),O[1].trim())}return/^\!\s*/.test(I)?i.create(I.substr(1).trim()):u.create(I)}static _deserializeValue(I,T){if(I=I.trim(),I==="true")return!0;if(I==="false")return!1;let O=/^'([^']*)'$/.exec(I);return O?O[1].trim():I}static _deserializeRegexValue(I,T){if(C.isFalsyOrWhitespace(I)){if(T)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let O=I.indexOf("/"),A=I.lastIndexOf("/");if(O===A||O<0){if(T)throw new Error(`bad regexp-value '${I}', missing /-enclosure`);return console.warn(`bad regexp-value '${I}', missing /-enclosure`),null}let B=I.slice(O+1,A),E=I[A+1]==="i"?"i":"";try{return new RegExp(B,E)}catch(W){if(T)throw new Error(`bad regexp-value '${I}', parse error: ${W}`);return console.warn(`bad regexp-value '${I}', parse error: ${W}`),null}}}e.ContextKeyExpr=l;function f(N,I){return N.cmp(I)}class p{constructor(){this.type=0}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!1}serialize(){return"false"}keys(){return[]}negate(){return c.INSTANCE}}e.ContextKeyFalseExpr=p,p.INSTANCE=new p;class c{constructor(){this.type=1}cmp(I){return this.type-I.type}equals(I){return I.type===this.type}evaluate(I){return!0}serialize(){return"true"}keys(){return[]}negate(){return p.INSTANCE}}e.ContextKeyTrueExpr=c,c.INSTANCE=new c;class u{constructor(I){this.key=I,this.type=2}static create(I){const T=S.get(I);return typeof T=="boolean"?T?c.INSTANCE:p.INSTANCE:new u(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!!I.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return i.create(this.key)}}e.ContextKeyDefinedExpr=u;class a{constructor(I,T){this.key=I,this.value=T,this.type=4}static create(I,T){if(typeof T=="boolean")return T?u.create(I):i.create(I);const O=S.get(I);return typeof O=="boolean"?T===(O?"true":"false")?c.INSTANCE:p.INSTANCE:new a(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return s.create(this.key,this.value)}}e.ContextKeyEqualsExpr=a;class r{constructor(I,T){this.key=I,this.valueKey=T,this.type=10}static create(I,T){return new r(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.valueKey,I.key,I.valueKey)}equals(I){return I.type===this.type?this.key===I.key&&this.valueKey===I.valueKey:!1}evaluate(I){const T=I.getValue(this.valueKey),O=I.getValue(this.key);return Array.isArray(T)?T.indexOf(O)>=0:typeof O=="string"&&typeof T=="object"&&T!==null?v.call(T,O):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return d.create(this)}}e.ContextKeyInExpr=r;class d{constructor(I){this._actual=I,this.type=11}static create(I){return new d(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class s{constructor(I,T){this.key=I,this.value=T,this.type=5}static create(I,T){if(typeof T=="boolean")return T?i.create(I):u.create(I);const O=S.get(I);return typeof O=="boolean"?T===(O?"true":"false")?p.INSTANCE:c.INSTANCE:new s(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return I.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return a.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=s;class i{constructor(I){this.key=I,this.type=3}static create(I){const T=S.get(I);return typeof T=="boolean"?T?p.INSTANCE:c.INSTANCE:new i(I)}cmp(I){return I.type!==this.type?this.type-I.type:L(this.key,I.key)}equals(I){return I.type===this.type?this.key===I.key:!1}evaluate(I){return!I.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return u.create(this.key)}}e.ContextKeyNotExpr=i;class n{constructor(I,T){this.key=I,this.value=T,this.type=12}static create(I,T){return new n(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return h.create(this.key,this.value)}}e.ContextKeyGreaterExpr=n;class t{constructor(I,T){this.key=I,this.value=T,this.type=13}static create(I,T){return new t(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return o.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=t;class o{constructor(I,T){this.key=I,this.value=T,this.type=14}static create(I,T){return new o(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return t.create(this.key,this.value)}}e.ContextKeySmallerExpr=o;class h{constructor(I,T){this.key=I,this.value=T,this.type=15}static create(I,T){return new h(I,T)}cmp(I){return I.type!==this.type?this.type-I.type:D(this.key,this.value,I.key,I.value)}equals(I){return I.type===this.type?this.key===I.key&&this.value===I.value:!1}evaluate(I){return parseFloat(I.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return n.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=h;class _{constructor(I,T){this.key=I,this.regexp=T,this.type=7}static create(I,T){return new _(I,T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.key<I.key)return-1;if(this.key>I.key)return 1;const T=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return T<O?-1:T>O?1:0}equals(I){if(I.type===this.type){const T=this.regexp?this.regexp.source:"",O=I.regexp?I.regexp.source:"";return this.key===I.key&&T===O}return!1}evaluate(I){let T=I.getValue(this.key);return this.regexp?this.regexp.test(T):!1}serialize(){const I=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${I}`}keys(){return[this.key]}negate(){return m.create(this)}}e.ContextKeyRegexExpr=_;class m{constructor(I){this._actual=I,this.type=8}static create(I){return new m(I)}cmp(I){return I.type!==this.type?this.type-I.type:this._actual.cmp(I._actual)}equals(I){return I.type===this.type?this._actual.equals(I._actual):!1}evaluate(I){return!this._actual.evaluate(I)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=m;class g{constructor(I){this.expr=I,this.type=6}static create(I){return g._normalizeArr(I)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,O=this.expr.length;T<O;T++){const A=f(this.expr[T],I.expr[T]);if(A!==0)return A}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].evaluate(I))return!1;return!0}static _normalizeArr(I){const T=[];let O=!1;for(const A of I)if(!!A){if(A.type===1){O=!0;continue}if(A.type===0)return p.INSTANCE;if(A.type===6){T.push(...A.expr);continue}T.push(A)}if(T.length===0&&O)return c.INSTANCE;if(T.length!==0){if(T.length===1)return T[0];for(T.sort(f);T.length>1;){const A=T[T.length-1];if(A.type!==9)break;T.pop();const B=T.pop(),E=b.create(A.expr.map(W=>g.create([W,B])));E&&(T.push(E),T.sort(f))}return T.length===1?T[0]:new g(T)}}serialize(){return this.expr.map(I=>I.serialize()).join(" && ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let T of this.expr)I.push(T.negate());return b.create(I)}}e.ContextKeyAndExpr=g;class b{constructor(I){this.expr=I,this.type=9}static create(I){const T=b._normalizeArr(I);if(T.length!==0)return T.length===1?T[0]:new b(T)}cmp(I){if(I.type!==this.type)return this.type-I.type;if(this.expr.length<I.expr.length)return-1;if(this.expr.length>I.expr.length)return 1;for(let T=0,O=this.expr.length;T<O;T++){const A=f(this.expr[T],I.expr[T]);if(A!==0)return A}return 0}equals(I){if(I.type===this.type){if(this.expr.length!==I.expr.length)return!1;for(let T=0,O=this.expr.length;T<O;T++)if(!this.expr[T].equals(I.expr[T]))return!1;return!0}return!1}evaluate(I){for(let T=0,O=this.expr.length;T<O;T++)if(this.expr[T].evaluate(I))return!0;return!1}static _normalizeArr(I){let T=[],O=!1;if(I){for(let A=0,B=I.length;A<B;A++){const E=I[A];if(!!E){if(E.type===0){O=!0;continue}if(E.type===1)return[c.INSTANCE];if(E.type===9){T=T.concat(E.expr);continue}T.push(E)}}if(T.length===0&&O)return[p.INSTANCE];T.sort(f)}return T}serialize(){return this.expr.map(I=>I.serialize()).join(" || ")}keys(){const I=[];for(let T of this.expr)I.push(...T.keys());return I}negate(){let I=[];for(let O of this.expr)I.push(O.negate());const T=O=>O.type===9?O.expr:[O];for(;I.length>1;){const O=I.shift(),A=I.shift(),B=[];for(const E of T(O))for(const W of T(A))B.push(l.and(E,W));I.unshift(l.or(...B))}return I[0]}}e.ContextKeyOrExpr=b;class y extends u{constructor(I,T){super(I);this._defaultValue=T}bindTo(I){return I.createKey(this.key,this._defaultValue)}getValue(I){return I.getContextKeyValue(this.key)}toNegated(){return l.not(this.key)}isEqualTo(I){return l.equals(this.key,I)}}e.RawContextKey=y,e.IContextKeyService=M.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function L(N,I){return N<I?-1:N>I?1:0}function D(N,I,T,O){return N<T?-1:N>T?1:I<O?-1:I>O?1:0}}),define(ee[25],te([0,1,18]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var M;(function(k){k.editorSimpleInput=new C.RawContextKey("editorSimpleInput",!1),k.editorTextFocus=new C.RawContextKey("editorTextFocus",!1),k.focus=new C.RawContextKey("editorFocus",!1),k.textInputFocus=new C.RawContextKey("textInputFocus",!1),k.readOnly=new C.RawContextKey("editorReadonly",!1),k.inDiffEditor=new C.RawContextKey("inDiffEditor",!1),k.columnSelection=new C.RawContextKey("editorColumnSelection",!1),k.writable=k.readOnly.toNegated(),k.hasNonEmptySelection=new C.RawContextKey("editorHasSelection",!1),k.hasOnlyEmptySelection=k.hasNonEmptySelection.toNegated(),k.hasMultipleSelections=new C.RawContextKey("editorHasMultipleSelections",!1),k.hasSingleSelection=k.hasMultipleSelections.toNegated(),k.tabMovesFocus=new C.RawContextKey("editorTabMovesFocus",!1),k.tabDoesNotMoveFocus=k.tabMovesFocus.toNegated(),k.isInWalkThroughSnippet=new C.RawContextKey("isInEmbeddedEditor",!1),k.canUndo=new C.RawContextKey("canUndo",!1),k.canRedo=new C.RawContextKey("canRedo",!1),k.hoverVisible=new C.RawContextKey("editorHoverVisible",!1),k.inCompositeEditor=new C.RawContextKey("inCompositeEditor",void 0),k.notInCompositeEditor=k.inCompositeEditor.toNegated(),k.languageId=new C.RawContextKey("editorLangId",""),k.hasCompletionItemProvider=new C.RawContextKey("editorHasCompletionItemProvider",!1),k.hasCodeActionsProvider=new C.RawContextKey("editorHasCodeActionsProvider",!1),k.hasCodeLensProvider=new C.RawContextKey("editorHasCodeLensProvider",!1),k.hasDefinitionProvider=new C.RawContextKey("editorHasDefinitionProvider",!1),k.hasDeclarationProvider=new C.RawContextKey("editorHasDeclarationProvider",!1),k.hasImplementationProvider=new C.RawContextKey("editorHasImplementationProvider",!1),k.hasTypeDefinitionProvider=new C.RawContextKey("editorHasTypeDefinitionProvider",!1),k.hasHoverProvider=new C.RawContextKey("editorHasHoverProvider",!1),k.hasDocumentHighlightProvider=new C.RawContextKey("editorHasDocumentHighlightProvider",!1),k.hasDocumentSymbolProvider=new C.RawContextKey("editorHasDocumentSymbolProvider",!1),k.hasReferenceProvider=new C.RawContextKey("editorHasReferenceProvider",!1),k.hasRenameProvider=new C.RawContextKey("editorHasRenameProvider",!1),k.hasSignatureHelpProvider=new C.RawContextKey("editorHasSignatureHelpProvider",!1),k.hasInlineHintsProvider=new C.RawContextKey("editorHasInlineHintsProvider",!1),k.hasDocumentFormattingProvider=new C.RawContextKey("editorHasDocumentFormattingProvider",!1),k.hasDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1),k.hasMultipleDocumentFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1),k.hasMultipleDocumentSelectionFormattingProvider=new C.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(M=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(ee[181],te([0,1,11,13,17,18,23,26,24,20,67]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new w.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new w.RawContextKey("parameterHintsMultipleSignatures",!1)};function c(u,a,r,d){return Ie(this,void 0,void 0,function*(){const s=k.SignatureHelpProviderRegistry.ordered(u);for(const i of s)try{const n=yield i.provideSignatureHelp(u,a,d,r);if(n)return n}catch(n){C.onUnexpectedExternalError(n)}})}e.provideSignatureHelp=c,v.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(u,...a)=>Ie(void 0,void 0,void 0,function*(){const[r,d,s]=a;f.assertType(l.URI.isUri(r)),f.assertType(M.Position.isIPosition(d)),f.assertType(typeof s=="string"||!s);const i=yield u.get(p.ITextModelService).createModelReference(r);try{const n=yield c(i.object.textEditorModel,M.Position.lift(d),{triggerKind:k.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:s},S.CancellationToken.None);return n?(setTimeout(()=>n.dispose(),0),n.value):void 0}finally{i.dispose()}}))}),define(ee[540],te([0,1,15,11,6,2,91,17,181]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var f;(function(u){u.Default={type:0};class a{constructor(s,i){this.request=s,this.previouslyActiveHints=i,this.type=2}}u.Pending=a;class r{constructor(s){this.hints=s,this.type=1}}u.Active=r})(f||(f={}));class p extends w.Disposable{constructor(a,r=p.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new w.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=a,this.throttledDelayer=new C.Delayer(r),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(d=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(d=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(d=>this.onCursorChange(d))),this._register(this.editor.onDidChangeModelContent(d=>this.onModelContentChange())),this._register(v.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(d=>this.onDidType(d))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(a){this._state.type===2&&this._state.request.cancel(),this._state=a}cancel(a=!1){this.state=f.Default,this.throttledDelayer.cancel(),a||this._onChangedHints.fire(void 0)}trigger(a,r){const d=this.editor.getModel();if(!(!d||!v.SignatureHelpProviderRegistry.has(d))){const s=++this.triggerId;this._pendingTriggers.push(a),this.throttledDelayer.trigger(()=>this.doTrigger(s),r).catch(M.onUnexpectedError)}}next(){if(this.state.type===1){const a=this.state.hints.signatures.length,r=this.state.hints.activeSignature,d=r%a==a-1,s=this.editor.getOption(70).cycle;if((a<2||d)&&!s){this.cancel();return}this.updateActiveSignature(d&&s?0:r+1)}}previous(){if(this.state.type===1){const a=this.state.hints.signatures.length,r=this.state.hints.activeSignature,d=r===0,s=this.editor.getOption(70).cycle;if((a<2||d)&&!s){this.cancel();return}this.updateActiveSignature(d&&s?a-1:r-1)}}updateActiveSignature(a){this.state.type===1&&(this.state=new f.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:a})),this._onChangedHints.fire(this.state.hints))}doTrigger(a){return Ie(this,void 0,void 0,function*(){const r=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(c);this._pendingTriggers=[];const i={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:r,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const n=this.editor.getModel(),t=this.editor.getPosition();this.state=new f.Pending(C.createCancelablePromise(o=>l.provideSignatureHelp(n,t,i,o)),d);try{const o=yield this.state.request;return a!==this.triggerId?(o==null||o.dispose(),!1):!o||!o.value.signatures||o.value.signatures.length===0?(o==null||o.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new f.Active(o.value),this._lastSignatureHelpResult.value=o,this._onChangedHints.fire(this.state.hints),!0)}catch(o){return a===this.triggerId&&(this.state=f.Default),M.onUnexpectedError(o),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet;const a=this.editor.getModel();if(!!a)for(const r of v.SignatureHelpProviderRegistry.ordered(a)){for(const d of r.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of r.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(a){if(!!this.triggerOnType){const r=a.length-1,d=a.charCodeAt(r);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:a.charAt(r)})}}onCursorChange(a){a.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:v.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(70).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=p,p.DEFAULT_DELAY=120;function c(u,a){switch(a.triggerKind){case v.SignatureHelpTriggerKind.Invoke:return a;case v.SignatureHelpTriggerKind.ContentChange:return u;case v.SignatureHelpTriggerKind.TriggerCharacter:default:return a}}});var pe=this&&this.__param||function($,e){return function(C,M){e(C,M,$)}};define(ee[541],te([0,1,18]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let M=class ot{constructor(w,S){this._editor=w,this._index=0,this._ckOtherSuggestions=ot.OtherSuggestions.bindTo(S)}dispose(){this.reset()}reset(){var w;this._ckOtherSuggestions.reset(),(w=this._listener)===null||w===void 0||w.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:w,index:S},v){if(w.items.length===0){this.reset();return}if(ot._moveIndex(!0,w,S)===S){this.reset();return}this._acceptNext=v,this._model=w,this._index=S,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(w,S,v){let l=v;for(;l=(l+S.items.length+(w?1:-1))%S.items.length,!(l===v||!S.items[l].completion.additionalTextEdits););return l}next(){this._move(!0)}prev(){this._move(!1)}_move(w){if(!!this._model)try{this._ignore=!0,this._index=ot._moveIndex(w,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};M.OtherSuggestions=new C.RawContextKey("hasOtherSuggestions",!1),M=Me([pe(1,C.IContextKeyService)],M),e.SuggestAlternatives=M}),define(ee[542],te([0,1,18,2]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let k=class Nt extends M.Disposable{constructor(S,v){super();this._editor=S,this._enabled=!1,this._ckAtEnd=Nt.AtEnd.bindTo(v),this._register(this._editor.onDidChangeConfiguration(l=>l.hasChanged(106)&&this._update())),this._update()}dispose(){var S;super.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(106)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const v=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const l=this._editor.getModel(),f=this._editor.getSelection(),p=l.getWordAtPosition(f.getStartPosition());if(!p){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(p.endColumn===f.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(v),v()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};k.AtEnd=new C.RawContextKey("atEndOfWord",!1),k=Me([pe(1,C.IContextKeyService)],k),e.WordContextKey=k}),define(ee[65],te([0,1,9,18]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=C.createDecorator("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new M.RawContextKey("accessibilityModeEnabled",!1)}),define(ee[68],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=C.createDecorator("contextViewService"),e.IContextMenuService=C.createDecorator("contextMenuService")}),define(ee[182],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=C.createDecorator("dialogService")}),define(ee[139],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class C{constructor(...k){this._entries=new Map;for(let[w,S]of k)this.set(w,S)}set(k,w){const S=this._entries.get(k);return this._entries.set(k,w),S}has(k){return this._entries.has(k)}get(k){return this._entries.get(k)}}e.ServiceCollection=C}),define(ee[543],te([0,1,11,526,236,9,139,15]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const l=!1;class f extends Error{constructor(a){super("cyclic dependency between services");this.message=a.toString()}}class p{constructor(a=new S.ServiceCollection,r=!1,d){this._activeInstantiations=new Set,this._services=a,this._strict=r,this._parent=d,this._services.set(w.IInstantiationService,this)}createChild(a){return new p(a,this._strict,this)}invokeFunction(a,...r){let d=c.traceInvocation(a),s=!1;try{return a({get:(n,t)=>{if(s)throw C.illegalState("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(n,d);if(!o&&t!==w.optional)throw new Error(`[invokeFunction] unknown service '${n}'`);return o}},...r)}finally{s=!0,d.stop()}}createInstance(a,...r){let d,s;return a instanceof k.SyncDescriptor?(d=c.traceCreation(a.ctor),s=this._createInstance(a.ctor,a.staticArguments.concat(r),d)):(d=c.traceCreation(a),s=this._createInstance(a,r,d)),d.stop(),s}_createInstance(a,r=[],d){let s=w._util.getServiceDependencies(a).sort((t,o)=>t.index-o.index),i=[];for(const t of s){let o=this._getOrCreateServiceInstance(t.id,d);if(!o&&this._strict&&!t.optional)throw new Error(`[createInstance] ${a.name} depends on UNKNOWN service ${t.id}.`);i.push(o)}let n=s.length>0?s[0].index:r.length;if(r.length!==n){console.warn(`[createInstance] First service dependency of ${a.name} at position ${n+1} conflicts with ${r.length} static arguments`);let t=n-r.length;t>0?r=r.concat(new Array(t)):r=r.slice(0,n)}return new a(...[...r,...i])}_setServiceInstance(a,r){if(this._services.get(a)instanceof k.SyncDescriptor)this._services.set(a,r);else if(this._parent)this._parent._setServiceInstance(a,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(a){let r=this._services.get(a);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(a):r}_getOrCreateServiceInstance(a,r){let d=this._getServiceInstanceOrDescriptor(a);return d instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(a,d,r.branch(a,!0)):(r.branch(a,!1),d)}_safeCreateAndCacheServiceInstance(a,r,d){if(this._activeInstantiations.has(a))throw new Error(`illegal state - RECURSIVELY instantiating service '${a}'`);this._activeInstantiations.add(a);try{return this._createAndCacheServiceInstance(a,r,d)}finally{this._activeInstantiations.delete(a)}}_createAndCacheServiceInstance(a,r,d){const s=new M.Graph(t=>t.id.toString());let i=0;const n=[{id:a,desc:r,_trace:d}];for(;n.length;){const t=n.pop();if(s.lookupOrInsertNode(t),i++>1e3)throw new f(s);for(let o of w._util.getServiceDependencies(t.desc.ctor)){let h=this._getServiceInstanceOrDescriptor(o.id);if(!h&&!o.optional&&console.warn(`[createInstance] ${a} depends on ${o.id} which is NOT registered.`),h instanceof k.SyncDescriptor){const _={id:o.id,desc:h,_trace:t._trace.branch(o.id,!0)};s.insertEdge(t,_),n.push(_)}}}for(;;){const t=s.roots();if(t.length===0){if(!s.isEmpty())throw new f(s);break}for(const{data:o}of t){if(this._getServiceInstanceOrDescriptor(o.id)instanceof k.SyncDescriptor){const _=this._createServiceInstanceWithOwner(o.id,o.desc.ctor,o.desc.staticArguments,o.desc.supportsDelayedInstantiation,o._trace);this._setServiceInstance(o.id,_)}s.removeNode(o)}}return this._getServiceInstanceOrDescriptor(a)}_createServiceInstanceWithOwner(a,r,d=[],s,i){if(this._services.get(a)instanceof k.SyncDescriptor)return this._createServiceInstance(r,d,s,i);if(this._parent)return this._parent._createServiceInstanceWithOwner(a,r,d,s,i);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(a,r=[],d,s){if(d){const i=new v.IdleValue(()=>this._createInstance(a,r,s));return new Proxy(Object.create(null),{get(n,t){if(t in n)return n[t];let o=i.value,h=o[t];return typeof h!="function"||(h=h.bind(o),n[t]=h),h},set(n,t,o){return i.value[t]=o,!0}})}else return this._createInstance(a,r,s)}}e.InstantiationService=p;class c{constructor(a,r){this.type=a,this.name=r,this._start=Date.now(),this._dep=[]}static traceInvocation(a){return l?new c(1,a.name||a.toString().substring(0,42).replace(/\n/g,"")):c._None}static traceCreation(a){return l?new c(0,a.name):c._None}branch(a,r){let d=new c(2,a.toString());return this._dep.push([a,r,d]),d}stop(){let a=Date.now()-this._start;c._totals+=a;let r=!1;function d(i,n){let t=[],o=new Array(i+1).join("	");for(const[h,_,m]of n._dep)if(_&&m){r=!0,t.push(`${o}CREATES -> ${h}`);let g=d(i+1,m);g&&t.push(g)}else t.push(`${o}uses -> ${h}`);return t.join(`
`)}let s=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${a.toFixed(2)}ms (grand total ${c._totals.toFixed(2)}ms)`];(a>2||r)&&console.log(s.join(`
`))}}c._None=new class extends c{constructor(){super(-1,null)}stop(){}branch(){return this}},c._totals=0}),define(ee[544],te([0,1,514,15,6,2]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;class S extends w.Disposable{constructor(l,f,p,c,u){super();this._contextKeyService=l,this._commandService=f,this._telemetryService=p,this._notificationService=c,this._logService=u,this._onDidUpdateKeybindings=this._register(new k.Emitter),this._currentChord=null,this._currentChordChecker=new M.IntervalTimer,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new M.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:k.Event.None}dispose(){super.dispose()}_log(l){this._logging&&this._logService.info(`[KeybindingService]: ${l}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(l){const f=this._getResolver().lookupPrimaryKeybinding(l);if(!!f)return f.resolvedKeybinding}dispatchEvent(l,f){return this._dispatch(l,f)}softDispatch(l,f){const p=this.resolveKeyboardEvent(l);if(p.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[c]=p.getDispatchParts();if(c===null)return null;const u=this._contextKeyService.getContext(f),a=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(u,a,c)}_enterChordMode(l,f){this._currentChord={keypress:l,label:f},this._currentChordStatusMessage=this._notificationService.status(C.localize(0,null,f));const p=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-p>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(l,f){return this._doDispatch(this.resolveKeyboardEvent(l),f,!1)}_singleModifierDispatch(l,f){const p=this.resolveKeyboardEvent(l),[c]=p.getSingleModifierDispatchParts();return c!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${c}.`),this._currentSingleModifier=c,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):c!==null&&c===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${c} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(p,f,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(l,f,p=!1){let c=!1;if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let u=null,a=null;if(p){const[i]=l.getSingleModifierDispatchParts();u=i,a=i}else[u]=l.getDispatchParts(),a=this._currentChord?this._currentChord.keypress:null;if(u===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),c;const r=this._contextKeyService.getContext(f),d=l.getLabel(),s=this._getResolver().resolve(r,a,u);return this._logService.trace("KeybindingService#dispatch",d,s==null?void 0:s.commandId),s&&s.enterChord?(c=!0,this._enterChordMode(u,d),c):(this._currentChord&&(!s||!s.commandId)&&(this._notificationService.status(C.localize(1,null,this._currentChord.label,d),{hideAfter:10*1e3}),c=!0),this._leaveChordMode(),s&&s.commandId&&(s.bubble||(c=!0),typeof s.commandArgs=="undefined"?this._commandService.executeCommand(s.commandId).then(void 0,i=>this._notificationService.warn(i)):this._commandService.executeCommand(s.commandId,s.commandArgs).then(void 0,i=>this._notificationService.warn(i)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:s.commandId,from:"keybinding"})),c)}mightProducePrintableCharacter(l){return l.ctrlKey||l.metaKey?!1:l.keyCode>=31&&l.keyCode<=56||l.keyCode>=21&&l.keyCode<=30}}e.AbstractKeybindingService=S}),define(ee[545],te([0,1,11,233,39]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class w extends k.ResolvedKeybinding{constructor(v,l){super();if(l.length===0)throw C.illegalArgument("parts");this._os=v,this._parts=l}getLabel(){return M.UILabelProvider.toLabel(this._os,this._parts,v=>this._getLabel(v))}getAriaLabel(){return M.AriaLabelProvider.toLabel(this._os,this._parts,v=>this._getAriaLabel(v))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(v=>this._getPart(v))}_getPart(v){return new k.ResolvedKeybindingPart(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,this._getLabel(v),this._getAriaLabel(v))}getDispatchParts(){return this._parts.map(v=>this._getDispatchPart(v))}getSingleModifierDispatchParts(){return this._parts.map(v=>this._getSingleModifierDispatchPart(v))}}e.BaseResolvedKeybinding=w}),define(ee[37],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=C.createDecorator("keybindingService")}),define(ee[249],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class C{constructor(S,v,l){this._log=l,this._defaultKeybindings=S,this._defaultBoundCommands=new Map;for(let f=0,p=S.length;f<p;f++){const c=S[f].command;c&&this._defaultBoundCommands.set(c,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=C.combine(S,v);for(let f=0,p=this._keybindings.length;f<p;f++){let c=this._keybindings[f];c.keypressParts.length!==0&&(c.when&&c.when.type===0||this._addKeyPress(c.keypressParts[0],c))}}static _isTargetedForRemoval(S,v,l,f,p){return!(S.command!==f||v&&S.keypressParts[0]!==v||l&&S.keypressParts[1]!==l||p&&(!S.when||!p.equals(S.when)))}static combine(S,v){S=S.slice(0);let l=[];for(const f of v){if(!f.command||f.command.length===0||f.command.charAt(0)!=="-"){l.push(f);continue}const p=f.command.substr(1),c=f.keypressParts[0],u=f.keypressParts[1],a=f.when;for(let r=S.length-1;r>=0;r--)this._isTargetedForRemoval(S[r],c,u,p,a)&&S.splice(r,1)}return S.concat(l)}_addKeyPress(S,v){const l=this._map.get(S);if(typeof l=="undefined"){this._map.set(S,[v]),this._addToLookupMap(v);return}for(let f=l.length-1;f>=0;f--){let p=l[f];if(p.command!==v.command){const c=p.keypressParts.length>1,u=v.keypressParts.length>1;c&&u&&p.keypressParts[1]!==v.keypressParts[1]||C.whenIsEntirelyIncluded(p.when,v.when)&&this._removeFromLookupMap(p)}}l.push(v),this._addToLookupMap(v)}_addToLookupMap(S){if(!!S.command){let v=this._lookupMap.get(S.command);typeof v=="undefined"?(v=[S],this._lookupMap.set(S.command,v)):v.push(S)}}_removeFromLookupMap(S){if(!!S.command){let v=this._lookupMap.get(S.command);if(typeof v!="undefined"){for(let l=0,f=v.length;l<f;l++)if(v[l]===S){v.splice(l,1);return}}}}static whenIsEntirelyIncluded(S,v){return v?S?this._implies(S,v):!1:!0}static _implies(S,v){const l=S.negate(),f=c=>c.type===9?c.expr:[c];let p=f(l).concat(f(v));for(let c=0;c<p.length;c++){const a=p[c].negate();for(let r=c+1;r<p.length;r++){const d=p[r];if(a.equals(d))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(S){let v=this._lookupMap.get(S);return typeof v=="undefined"||v.length===0?null:v[v.length-1]}resolve(S,v,l){this._log(`| Resolving ${l}${v?` chorded from ${v}`:""}`);let f=null;if(v!==null){const c=this._map.get(v);if(typeof c=="undefined")return this._log("\\ No keybinding entries."),null;f=[];for(let u=0,a=c.length;u<a;u++){let r=c[u];r.keypressParts[1]===l&&f.push(r)}}else{const c=this._map.get(l);if(typeof c=="undefined")return this._log("\\ No keybinding entries."),null;f=c}let p=this._findCommand(S,f);return p?v===null&&p.keypressParts.length>1&&p.keypressParts[1]!==null?(this._log(`\\ From ${f.length} keybinding entries, matched chord, when: ${M(p.when)}, source: ${k(p)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${f.length} keybinding entries, matched ${p.command}, when: ${M(p.when)}, source: ${k(p)}.`),{enterChord:!1,leaveChord:p.keypressParts.length>1,commandId:p.command,commandArgs:p.commandArgs,bubble:p.bubble}):(this._log(`\\ From ${f.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(S,v){for(let l=v.length-1;l>=0;l--){let f=v[l];if(!!C.contextMatchesRules(S,f.when))return f}return null}static contextMatchesRules(S,v){return v?v.evaluate(S):!0}}e.KeybindingResolver=C;function M(w){return w?`${w.serialize()}`:"no when condition"}function k(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ee[546],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class C{constructor(w,S,v,l,f,p,c){this.resolvedKeybinding=w,this.keypressParts=w?M(w.getDispatchParts()):[],w&&this.keypressParts.length===0&&(this.keypressParts=M(w.getSingleModifierDispatchParts())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=v,this.when=l,this.isDefault=f,this.extensionId=p,this.isBuiltinExtension=c}}e.ResolvedKeybindingItem=C;function M(k){let w=[];for(let S=0,v=k.length;S<v;S++){const l=k[S];if(!l)return w;w.push(l)}return w}e.removeElementsAfterNulls=M}),define(ee[547],te([0,1,39,545]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class k extends M.BaseResolvedKeybinding{constructor(S,v){super(v,S.parts)}_keyCodeToUILabel(S){if(this._os===2)switch(S){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return C.KeyCodeUtils.toString(S)}_getLabel(S){return S.isDuplicateModifierCase()?"":this._keyCodeToUILabel(S.keyCode)}_getAriaLabel(S){return S.isDuplicateModifierCase()?"":C.KeyCodeUtils.toString(S.keyCode)}_getDispatchPart(S){return k.getDispatchStr(S)}static getDispatchStr(S){if(S.isModifierKey())return null;let v="";return S.ctrlKey&&(v+="ctrl+"),S.shiftKey&&(v+="shift+"),S.altKey&&(v+="alt+"),S.metaKey&&(v+="meta+"),v+=C.KeyCodeUtils.toString(S.keyCode),v}_getSingleModifierDispatchPart(S){return S.keyCode===5&&!S.shiftKey&&!S.altKey&&!S.metaKey?"ctrl":S.keyCode===4&&!S.ctrlKey&&!S.altKey&&!S.metaKey?"shift":S.keyCode===6&&!S.ctrlKey&&!S.shiftKey&&!S.metaKey?"alt":S.keyCode===57&&!S.ctrlKey&&!S.shiftKey&&!S.altKey?"meta":null}}e.USLayoutResolvedKeybinding=k}),define(ee[114],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=C.createDecorator("labelService")}),define(ee[140],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=C.createDecorator("layoutService")}),define(ee[548],te([0,1,202,2,140]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let w=class extends M.Disposable{constructor(v){super();this.layoutService=v,this.currentViewDisposable=M.Disposable.None,this.container=v.container,this.contextView=this._register(new C.ContextView(this.container,1)),this.layout(),this._register(v.onLayout(()=>this.layout()))}setContainer(v,l){this.contextView.setContainer(v,l||1)}showContextView(v,l,f){l?l!==this.container&&(this.container=l,this.setContainer(l,f?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(v);const p=M.toDisposable(()=>{this.currentViewDisposable===p&&this.hideContextView()});return this.currentViewDisposable=p,p}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(v){this.contextView.hide(v)}};w=Me([pe(0,k.ILayoutService)],w),e.ContextViewService=w}),define(ee[77],te([0,1,9,2,6]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleLogService=e.AbstractLogService=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=C.createDecorator("logService");var w;(function(l){l[l.Trace=0]="Trace",l[l.Debug=1]="Debug",l[l.Info=2]="Info",l[l.Warning=3]="Warning",l[l.Error=4]="Error",l[l.Critical=5]="Critical",l[l.Off=6]="Off"})(w=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=w.Info;class S extends M.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new k.Emitter)}setLevel(f){this.level!==f&&(this.level=f,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogService=S;class v extends S{constructor(f=e.DEFAULT_LOG_LEVEL){super();this.setLevel(f)}trace(f,...p){this.getLevel()<=w.Trace&&console.log("%cTRACE","color: #888",f,...p)}debug(f,...p){this.getLevel()<=w.Debug&&console.log("%cDEBUG","background: #eee; color: #888",f,...p)}info(f,...p){this.getLevel()<=w.Info&&console.log("%c INFO","color: #33f",f,...p)}error(f,...p){this.getLevel()<=w.Error&&console.log("%c  ERR","color: #f33",f,...p)}dispose(){}}e.ConsoleLogService=v}),define(ee[250],te([0,1,15,2,199,291,3,17,41,385,36,138,8,19,77,81,11]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerServiceImpl=void 0;const i=60*1e3,n=5*60*1e3;function t(L,D){let N=L.getModel(D);return!(!N||N.isTooLargeForSyncing())}let o=class extends M.Disposable{constructor(D,N,I){super();this._modelService=D,this._workerManager=this._register(new _(this._modelService)),this._logService=I,this._register(v.LinkProviderRegistry.register("*",{provideLinks:(T,O)=>t(this._modelService,T.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(T.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(v.CompletionProviderRegistry.register("*",new h(this._workerManager,N,this._modelService)))}dispose(){super.dispose()}canComputeDiff(D,N){return t(this._modelService,D)&&t(this._modelService,N)}computeDiff(D,N,I,T){return this._workerManager.withWorker().then(O=>O.computeDiff(D,N,I,T))}computeMoreMinimalEdits(D,N){if(a.isNonEmptyArray(N)){if(!t(this._modelService,D))return Promise.resolve(N);const I=d.StopWatch.create(!0),T=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(D,N));return T.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",D.toString(!0),I.elapsed())),Promise.race([T,C.timeout(1e3).then(()=>N)])}else return Promise.resolve(void 0)}canNavigateValueSet(D){return t(this._modelService,D)}navigateValueSet(D,N,I){return this._workerManager.withWorker().then(T=>T.navigateValueSet(D,N,I))}canComputeWordRanges(D){return t(this._modelService,D)}computeWordRanges(D,N){return this._workerManager.withWorker().then(I=>I.computeWordRanges(D,N))}};o=Me([pe(0,p.IModelService),pe(1,c.ITextResourceConfigurationService),pe(2,r.ILogService)],o),e.EditorWorkerServiceImpl=o;class h{constructor(D,N,I){this._debugDisplayName="wordbasedCompletions",this._workerManager=D,this._configurationService=N,this._modelService=I}provideCompletionItems(D,N){return Ie(this,void 0,void 0,function*(){const I=this._configurationService.getValue(D.uri,N,"editor");if(!!I.wordBasedSuggestions){const T=[];if(I.wordBasedSuggestionsMode==="currentDocument")t(this._modelService,D.uri)&&T.push(D.uri);else for(const F of this._modelService.getModels())!t(this._modelService,F.uri)||(F===D?T.unshift(F.uri):(I.wordBasedSuggestionsMode==="allDocuments"||F.getLanguageIdentifier().id===D.getLanguageIdentifier().id)&&T.push(F.uri));if(T.length!==0){const O=l.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageIdentifier().id),A=D.getWordAtPosition(N),B=A?new S.Range(N.lineNumber,A.startColumn,N.lineNumber,A.endColumn):S.Range.fromPositions(N),E=B.setEndPosition(N.lineNumber,N.column),R=yield(yield this._workerManager.withWorker()).textualSuggest(T,A==null?void 0:A.word,O);if(!!R)return{duration:R.duration,suggestions:R.words.map(F=>({kind:18,label:F,insertText:F,range:{insert:E,replace:B}}))}}}})}}class _ extends M.Disposable{constructor(D){super();this._modelService=D,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new C.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(n/2)),this._register(this._modelService.onModelRemoved(I=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){!this._editorWorkerClient||this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){!this._editorWorkerClient||new Date().getTime()-this._lastWorkerUsedTime>n&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new y(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class m extends M.Disposable{constructor(D,N,I){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=D,this._modelService=N,!I){let T=new C.IntervalTimer;T.cancelAndSet(()=>this._checkStopModelSync(),Math.round(i/2)),this._register(T)}}dispose(){for(let D in this._syncedModels)M.dispose(this._syncedModels[D]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(D){for(const N of D){let I=N.toString();this._syncedModels[I]||this._beginModelSync(N),this._syncedModels[I]&&(this._syncedModelsLastUsedTime[I]=new Date().getTime())}}_checkStopModelSync(){let D=new Date().getTime(),N=[];for(let I in this._syncedModelsLastUsedTime)D-this._syncedModelsLastUsedTime[I]>i&&N.push(I);for(const I of N)this._stopModelSync(I)}_beginModelSync(D){let N=this._modelService.getModel(D);if(!!N&&!N.isTooLargeForSyncing()){let I=D.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const T=new M.DisposableStore;T.add(N.onDidChangeContent(O=>{this._proxy.acceptModelChanged(I.toString(),O)})),T.add(N.onWillDispose(()=>{this._stopModelSync(I)})),T.add(M.toDisposable(()=>{this._proxy.acceptRemovedModel(I)})),this._syncedModels[I]=T}}_stopModelSync(D){let N=this._syncedModels[D];delete this._syncedModels[D],delete this._syncedModelsLastUsedTime[D],M.dispose(N)}}class g{constructor(D){this._instance=D,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class b{constructor(D){this._workerClient=D}fhr(D,N){return this._workerClient.fhr(D,N)}}e.EditorWorkerHost=b;class y extends M.Disposable{constructor(D,N,I){super();this._disposed=!1,this._modelService=D,this._keepIdleModels=N,this._workerFactory=new w.DefaultWorkerFactory(I),this._worker=null,this._modelManager=null}fhr(D,N){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new b(this)))}catch(D){k.logOnceWebWorkerWarning(D),this._worker=new g(new f.EditorSimpleWorker(new b(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,D=>(k.logOnceWebWorkerWarning(D),this._worker=new g(new f.EditorSimpleWorker(new b(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(D){return this._modelManager||(this._modelManager=this._register(new m(D,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(D){return this._disposed?Promise.reject(s.canceled()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(D),N))}computeDiff(D,N,I,T){return this._withSyncedResources([D,N]).then(O=>O.computeDiff(D.toString(),N.toString(),I,T))}computeMoreMinimalEdits(D,N){return this._withSyncedResources([D]).then(I=>I.computeMoreMinimalEdits(D.toString(),N))}computeLinks(D){return this._withSyncedResources([D]).then(N=>N.computeLinks(D.toString()))}textualSuggest(D,N,I){return Ie(this,void 0,void 0,function*(){const T=yield this._withSyncedResources(D),O=I.source,A=u.regExpFlags(I);return T.textualSuggest(D.map(B=>B.toString()),N,O,A)})}computeWordRanges(D,N){return this._withSyncedResources([D]).then(I=>{let T=this._modelService.getModel(D);if(!T)return Promise.resolve(null);let O=l.LanguageConfigurationRegistry.getWordDefinition(T.getLanguageIdentifier().id),A=O.source,B=u.regExpFlags(O);return I.computeWordRanges(D.toString(),N,A,B)})}navigateValueSet(D,N,I){return this._withSyncedResources([D]).then(T=>{let O=this._modelService.getModel(D);if(!O)return null;let A=l.LanguageConfigurationRegistry.getWordDefinition(O.getLanguageIdentifier().id),B=A.source,E=u.regExpFlags(A);return T.navigateValueSet(D.toString(),N,I,B,E)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=y}),define(ee[251],te([0,1,17,77,136]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;class w{constructor(p,c,u){this._legend=p,this._themeService=c,this._logService=u,this._hashTable=new l}getMetadata(p,c,u){const a=this._hashTable.get(p,c,u.id);let r;if(a)r=a.metadata,this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${p} / ${c}: foreground ${C.TokenMetadata.getForeground(r)}, fontStyle ${C.TokenMetadata.getFontStyle(r).toString(2)}`);else{let d=this._legend.tokenTypes[p];const s=[];if(d){let i=c;for(let t=0;i>0&&t<this._legend.tokenModifiers.length;t++)i&1&&s.push(this._legend.tokenModifiers[t]),i=i>>1;i>0&&this._logService.getLevel()===M.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${c.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(d,s,u.language);typeof n=="undefined"?r=2147483647:(r=0,typeof n.italic!="undefined"&&(r|=(n.italic?1:0)<<11|1),typeof n.bold!="undefined"&&(r|=(n.bold?2:0)<<11|2),typeof n.underline!="undefined"&&(r|=(n.underline?4:0)<<11|4),n.foreground&&(r|=n.foreground<<14|8),r===0&&(r=2147483647))}else this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${p} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,d="not-in-legend";this._hashTable.add(p,c,u.id,r),this._logService.getLevel()===M.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${p} (${d}) / ${c} (${s.join(" ")}): foreground ${C.TokenMetadata.getForeground(r)}, fontStyle ${C.TokenMetadata.getFontStyle(r).toString(2)}`)}return r}}e.SemanticTokensProviderStyling=w;function S(f,p,c){const u=f.data,a=f.data.length/5|0,r=Math.max(Math.ceil(a/1024),400),d=[];let s=0,i=1,n=0;for(;s<a;){const t=s;let o=Math.min(t+r,a);if(o<a){let b=o;for(;b-1>t&&u[5*b]===0;)b--;if(b-1===t){let y=o;for(;y+1<a&&u[5*y]===0;)y++;o=y}else o=b}let h=new Uint32Array((o-t)*4),_=0,m=0;for(;s<o;){const b=5*s,y=u[b],L=u[b+1],D=i+y,N=y===0?n+L:L,I=u[b+2],T=u[b+3],O=u[b+4],A=p.getMetadata(T,O,c);A!==2147483647&&(m===0&&(m=D),h[_]=D-m,h[_+1]=N,h[_+2]=N+I,h[_+3]=A,_+=4),i=D,n=N,s++}_!==h.length&&(h=h.subarray(0,_));const g=new k.MultilineTokens2(m,new k.SparseEncodedTokens(h));d.push(g)}return d}e.toMultilineTokens2=S;class v{constructor(p,c,u,a){this.tokenTypeIndex=p,this.tokenModifierSet=c,this.languageId=u,this.metadata=a,this.next=null}}class l{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=l._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<l._SIZES.length?2/3*this._currentLength:0),this._elements=[],l._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(p,c){for(let u=0;u<c;u++)p[u]=null}_hash2(p,c){return(p<<5)-p+c|0}_hashFunc(p,c,u){return this._hash2(this._hash2(p,c),u)%this._currentLength}get(p,c,u){const a=this._hashFunc(p,c,u);let r=this._elements[a];for(;r;){if(r.tokenTypeIndex===p&&r.tokenModifierSet===c&&r.languageId===u)return r;r=r.next}return null}add(p,c,u,a){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const r=this._elements;this._currentLengthIndex++,this._currentLength=l._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<l._SIZES.length?2/3*this._currentLength:0),this._elements=[],l._nullOutEntries(this._elements,this._currentLength);for(const d of r){let s=d;for(;s;){const i=s.next;s.next=null,this._add(s),s=i}}}this._add(new v(p,c,u,a))}_add(p){const c=this._hashFunc(p.tokenTypeIndex,p.tokenModifierSet,p.languageId);p.next=this._elements[c],this._elements[c]=p}}l._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ee[549],te([0,1,250,20]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(S,v){return new w(S,v)}e.createWebWorker=k;class w extends C.EditorWorkerClient{constructor(v,l){super(v,l.keepIdleModels||!1,l.label);this._foreignModuleId=l.moduleId,this._foreignModuleCreateData=l.createData||null,this._foreignModuleHost=l.host||null,this._foreignProxy=null}fhr(v,l){if(!this._foreignModuleHost||typeof this._foreignModuleHost[v]!="function")return Promise.reject(new Error("Missing method "+v+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[v].apply(this._foreignModuleHost,l))}catch(f){return Promise.reject(f)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(v=>{const l=this._foreignModuleHost?M.getAllMethodNames(this._foreignModuleHost):[];return v.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,l).then(f=>{this._foreignModuleCreateData=null;const p=(a,r)=>v.fmr(a,r),c=(a,r)=>function(){const d=Array.prototype.slice.call(arguments,0);return r(a,d)};let u={};for(const a of f)u[a]=c(a,p);return u})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(v){return this._withSyncedResources(v).then(l=>this.getProxy())}}}),define(ee[85],te([0,1,9,516,82]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var w;(function(v){v[v.Hint=1]="Hint",v[v.Info=2]="Info",v[v.Warning=4]="Warning",v[v.Error=8]="Error"})(w=e.MarkerSeverity||(e.MarkerSeverity={})),function(v){function l(a,r){return r-a}v.compare=l;const f=Object.create(null);f[v.Error]=M.localize(0,null),f[v.Warning]=M.localize(1,null),f[v.Info]=M.localize(2,null);function p(a){return f[a]||""}v.toString=p;function c(a){switch(a){case k.default.Error:return v.Error;case k.default.Warning:return v.Warning;case k.default.Info:return v.Info;case k.default.Ignore:return v.Hint}}v.fromSeverity=c;function u(a){switch(a){case v.Error:return k.default.Error;case v.Warning:return k.default.Warning;case v.Info:return k.default.Info;case v.Hint:return k.default.Ignore}}v.toSeverity=u}(w=e.MarkerSeverity||(e.MarkerSeverity={}));var S;(function(v){const l="";function f(c){return p(c,!0)}v.makeKey=f;function p(c,u){let a=[l];return c.source?a.push(c.source.replace("\xA6","\\\xA6")):a.push(l),c.code?typeof c.code=="string"?a.push(c.code.replace("\xA6","\\\xA6")):a.push(c.code.value.replace("\xA6","\\\xA6")):a.push(l),c.severity!==void 0&&c.severity!==null?a.push(w.toString(c.severity)):a.push(l),c.message&&u?a.push(c.message.replace("\xA6","\\\xA6")):a.push(l),c.startLineNumber!==void 0&&c.startLineNumber!==null?a.push(c.startLineNumber.toString()):a.push(l),c.startColumn!==void 0&&c.startColumn!==null?a.push(c.startColumn.toString()):a.push(l),c.endLineNumber!==void 0&&c.endLineNumber!==null?a.push(c.endLineNumber.toString()):a.push(l),c.endColumn!==void 0&&c.endColumn!==null?a.push(c.endColumn.toString()):a.push(l),a.push(l),a.join("\xA6")}v.makeKeyOptionalMessage=p})(S=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=C.createDecorator("markerService")}),define(ee[550],te([0,1,85,24,6,2,3,8,19,9,74,71]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class u{constructor(s,i,n){this.marker=s,this.index=i,this.total=n}}e.MarkerCoordinate=u;let a=class kt{constructor(s,i){this._markerService=i,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new w.DisposableStore,this._markers=[],this._nextIdx=-1,M.URI.isUri(s)?this._resourceFilter=t=>t.toString()===s.toString():s&&(this._resourceFilter=s);const n=()=>{this._markers=this._markerService.read({resource:M.URI.isUri(s)?s:void 0,severities:C.MarkerSeverity.Error|C.MarkerSeverity.Warning|C.MarkerSeverity.Info}),typeof s=="function"&&(this._markers=this._markers.filter(t=>this._resourceFilter(t.resource))),this._markers.sort(kt._compareMarker)};n(),this._dispoables.add(i.onMarkerChanged(t=>{(!this._resourceFilter||t.some(o=>this._resourceFilter(o)))&&(n(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(s){return!this._resourceFilter&&!s?!0:!this._resourceFilter||!s?!1:this._resourceFilter(s)}get selected(){const s=this._markers[this._nextIdx];return s&&new u(s,this._nextIdx+1,this._markers.length)}_initIdx(s,i,n){let t=!1,o=this._markers.findIndex(h=>h.resource.toString()===s.uri.toString());o<0&&(o=l.binarySearch(this._markers,{resource:s.uri},(h,_)=>v.compare(h.resource.toString(),_.resource.toString())),o<0&&(o=~o));for(let h=o;h<this._markers.length;h++){let _=S.Range.lift(this._markers[h]);if(_.isEmpty()){const m=s.getWordAtPosition(_.getStartPosition());m&&(_=new S.Range(_.startLineNumber,m.startColumn,_.startLineNumber,m.endColumn))}if(i&&(_.containsPosition(i)||i.isBeforeOrEqual(_.getStartPosition()))){this._nextIdx=h,t=!0;break}if(this._markers[h].resource.toString()!==s.uri.toString())break}t||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(s,i,n){if(this._markers.length===0)return!1;let t=this._nextIdx;return this._nextIdx===-1?this._initIdx(i,n,s):s?this._nextIdx=(this._nextIdx+1)%this._markers.length:s||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),t!==this._nextIdx}find(s,i){let n=this._markers.findIndex(t=>t.resource.toString()===s.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(S.Range.containsPosition(this._markers[n],i))return new u(this._markers[n],n+1,this._markers.length)}}static _compareMarker(s,i){let n=v.compare(s.resource.toString(),i.resource.toString());return n===0&&(n=C.MarkerSeverity.compare(s.severity,i.severity)),n===0&&(n=S.Range.compareRangesUsingStarts(s,i)),n}};a=Me([pe(1,C.IMarkerService)],a),e.MarkerList=a,e.IMarkerNavigationService=f.createDecorator("IMarkerNavigationService");let r=class{constructor(s){this._markerService=s,this._provider=new c.LinkedList}getMarkerList(s){for(let i of this._provider){const n=i.getMarkerList(s);if(n)return n}return new a(s,this._markerService)}};r=Me([pe(0,C.IMarkerService)],r),p.registerSingleton(e.IMarkerNavigationService,r,!0)}),define(ee[551],te([0,1,19,43,24,6,85,51,54]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class f{constructor(){this._byResource=new v.ResourceMap,this._byOwner=new Map}set(a,r,d){let s=this._byResource.get(a);s||(s=new Map,this._byResource.set(a,s)),s.set(r,d);let i=this._byOwner.get(r);i||(i=new v.ResourceMap,this._byOwner.set(r,i)),i.set(a,d)}get(a,r){let d=this._byResource.get(a);return d==null?void 0:d.get(r)}delete(a,r){let d=!1,s=!1,i=this._byResource.get(a);i&&(d=i.delete(r));let n=this._byOwner.get(r);if(n&&(s=n.delete(a)),d!==s)throw new Error("illegal state");return d&&s}values(a){var r,d,s,i;return typeof a=="string"?(d=(r=this._byOwner.get(a))===null||r===void 0?void 0:r.values())!==null&&d!==void 0?d:l.Iterable.empty():k.URI.isUri(a)?(i=(s=this._byResource.get(a))===null||s===void 0?void 0:s.values())!==null&&i!==void 0?i:l.Iterable.empty():l.Iterable.map(l.Iterable.concat(...this._byOwner.values()),n=>n[1])}}class p{constructor(a){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new v.ResourceMap,this._service=a,this._subscription=a.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(a){for(const r of a){const d=this._data.get(r);d&&this._substract(d);const s=this._resourceStats(r);this._add(s),this._data.set(r,s)}}_resourceStats(a){const r={errors:0,warnings:0,infos:0,unknowns:0};if(a.scheme===M.Schemas.inMemory||a.scheme===M.Schemas.walkThrough||a.scheme===M.Schemas.walkThroughSnippet)return r;for(const{severity:d}of this._service.read({resource:a}))d===S.MarkerSeverity.Error?r.errors+=1:d===S.MarkerSeverity.Warning?r.warnings+=1:d===S.MarkerSeverity.Info?r.infos+=1:r.unknowns+=1;return r}_substract(a){this.errors-=a.errors,this.warnings-=a.warnings,this.infos-=a.infos,this.unknowns-=a.unknowns}_add(a){this.errors+=a.errors,this.warnings+=a.warnings,this.infos+=a.infos,this.unknowns+=a.unknowns}}class c{constructor(){this._onMarkerChanged=new w.Emitter,this.onMarkerChanged=w.Event.debounce(this._onMarkerChanged.event,c._debouncer,0),this._data=new f,this._stats=new p(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(a,r){for(const d of r||[])this.changeOne(a,d,[])}changeOne(a,r,d){if(C.isFalsyOrEmpty(d))this._data.delete(r,a)&&this._onMarkerChanged.fire([r]);else{const s=[];for(const i of d){const n=c._toMarker(a,r,i);n&&s.push(n)}this._data.set(r,a,s),this._onMarkerChanged.fire([r])}}static _toMarker(a,r,d){let{code:s,severity:i,message:n,source:t,startLineNumber:o,startColumn:h,endLineNumber:_,endColumn:m,relatedInformation:g,tags:b}=d;if(!!n)return o=o>0?o:1,h=h>0?h:1,_=_>=o?_:o,m=m>0?m:h,{resource:r,owner:a,code:s,severity:i,message:n,source:t,startLineNumber:o,startColumn:h,endLineNumber:_,endColumn:m,relatedInformation:g,tags:b}}read(a=Object.create(null)){let{owner:r,resource:d,severities:s,take:i}=a;if((!i||i<0)&&(i=-1),r&&d){const n=this._data.get(d,r);if(n){const t=[];for(const o of n)if(c._accept(o,s)){const h=t.push(o);if(i>0&&h===i)break}return t}else return[]}else if(!r&&!d){const n=[];for(let t of this._data.values())for(let o of t)if(c._accept(o,s)){const h=n.push(o);if(i>0&&h===i)return n}return n}else{const n=this._data.values(d!=null?d:r),t=[];for(const o of n)for(const h of o)if(c._accept(h,s)){const _=t.push(h);if(i>0&&_===i)return t}return t}}static _accept(a,r){return r===void 0||(r&a.severity)===a.severity}static _debouncer(a,r){a||(c._dedupeMap=new v.ResourceMap,a=[]);for(const d of r)c._dedupeMap.has(d)||(c._dedupeMap.set(d,!0),a.push(d));return a}}e.MarkerService=c}),define(ee[32],te([0,1,82,9]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=C.default,e.INotificationService=M.createDecorator("notificationService");class k{}e.NoOpNotification=k}),define(ee[58],te([0,1,2,8,24,9]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=w.createDecorator("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return C.Disposable.None},registerValidator(){return C.Disposable.None},registerExternalUriResolver(){return C.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return C.Disposable.None},open(){return Ie(this,void 0,void 0,function*(){return!1})},resolveExternalUri(v){return Ie(this,void 0,void 0,function*(){return{resolved:v,dispose(){}}})}});function S(v,l){return k.URI.isUri(v)?M.equalsIgnoreCase(v.scheme,l):M.startsWithIgnoreCase(v,l+":")}e.matchesScheme=S}),define(ee[141],te([0,1,288,58,57,11,242,6,2,17]),function($,e,C,M,k,w,S,v,l,f){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let c=class Mt{constructor(a,r,d){this._options=a,this._modeService=r,this._openerService=d,this._onDidRenderAsync=new v.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(a,r,d){const s=new l.DisposableStore;let i;return a?i=C.renderMarkdown(a,Object.assign(Object.assign({},this._getRenderOptions(s)),r),d):i=document.createElement("span"),{element:i,dispose:()=>s.dispose()}}_getRenderOptions(a){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(r,d)=>Ie(this,void 0,void 0,function*(){var s,i,n,t;let o;r?o=this._modeService.getModeIdForLanguageName(r):this._options.editor&&(o=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageIdentifier().language),o||(o="plaintext"),this._modeService.triggerMode(o);const h=(i=yield f.TokenizationRegistry.getPromise(o))!==null&&i!==void 0?i:void 0,_=document.createElement("span");_.innerHTML=(t=(n=Mt._ttpTokenizer)===null||n===void 0?void 0:n.createHTML(d,h))!==null&&t!==void 0?t:S.tokenizeToString(d,h);let m=this._options.codeBlockFontFamily;return this._options.editor&&(m=this._options.editor.getOption(38).fontFamily),m&&(_.style.fontFamily=m),_}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:r=>this._openerService.open(r,{fromUserGesture:!0,allowContributedOpeners:!0}).catch(w.onUnexpectedError),disposeables:a}}}};c._ttpTokenizer=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("tokenizeToString",{createHTML(u,a){return S.tokenizeToString(u,a)}}),c=Me([pe(1,k.IModeService),pe(2,M.IOpenerService)],c),e.MarkdownRenderer=c}),define(ee[552],te([0,1,7,23,71,51,197,43,44,24,28,26,524,58]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let r=class{constructor(n){this._commandService=n}open(n){return Ie(this,void 0,void 0,function*(){if(!a.matchesScheme(n,v.Schemas.command))return!1;typeof n=="string"&&(n=f.URI.parse(n));let t=[];try{t=S.parse(decodeURIComponent(n.query))}catch(o){try{t=S.parse(n.query)}catch(h){}}return Array.isArray(t)||(t=[t]),yield this._commandService.executeCommand(n.path,...t),!0})}};r=Me([pe(0,c.ICommandService)],r);let d=class{constructor(n){this._editorService=n}open(n,t){return Ie(this,void 0,void 0,function*(){typeof n=="string"&&(n=f.URI.parse(n));let o;const h=/^L?(\d+)(?:,(\d+))?/.exec(n.fragment);return h&&(o={startLineNumber:parseInt(h[1]),startColumn:h[2]?parseInt(h[2]):1},n=n.with({fragment:""})),n.scheme===v.Schemas.file&&(n=l.normalizePath(n)),yield this._editorService.openCodeEditor({resource:n,options:Object.assign({selection:o,context:(t==null?void 0:t.fromUserGesture)?u.EditorOpenContext.USER:u.EditorOpenContext.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};d=Me([pe(0,p.ICodeEditorService)],d);let s=class{constructor(n,t){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new w.ResourceMap(o=>o.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:o=>Ie(this,void 0,void 0,function*(){return a.matchesScheme(o,v.Schemas.http)||a.matchesScheme(o,v.Schemas.https)?C.windowOpenNoOpener(o):window.location.href=o,!0})},this._openers.push({open:(o,h)=>Ie(this,void 0,void 0,function*(){return(h==null?void 0:h.openExternal)||a.matchesScheme(o,v.Schemas.mailto)||a.matchesScheme(o,v.Schemas.http)||a.matchesScheme(o,v.Schemas.https)?(yield this._doOpenExternal(o,h),!0):!1})}),this._openers.push(new r(t)),this._openers.push(new d(n))}registerOpener(n){return{dispose:this._openers.unshift(n)}}registerValidator(n){return{dispose:this._validators.push(n)}}registerExternalUriResolver(n){return{dispose:this._resolvers.push(n)}}setDefaultExternalOpener(n){this._defaultExternalOpener=n}registerExternalOpener(n){return{dispose:this._externalOpeners.push(n)}}open(n,t){var o;return Ie(this,void 0,void 0,function*(){const h=typeof n=="string"?f.URI.parse(n):n,_=(o=this._resolvedUriTargets.get(h))!==null&&o!==void 0?o:n;for(const m of this._validators)if(!(yield m.shouldOpen(_)))return!1;for(const m of this._openers)if(yield m.open(n,t))return!0;return!1})}resolveExternalUri(n,t){return Ie(this,void 0,void 0,function*(){for(const o of this._resolvers){const h=yield o.resolveExternalUri(n,t);if(h)return this._resolvedUriTargets.set(h.resolved,n),h}return{resolved:n,dispose:()=>{}}})}_doOpenExternal(n,t){return Ie(this,void 0,void 0,function*(){const o=typeof n=="string"?f.URI.parse(n):n,{resolved:h}=yield this.resolveExternalUri(o,t);let _;if(typeof n=="string"&&o.toString()===h.toString()?_=n:_=encodeURI(h.toString(!0)),t==null?void 0:t.allowContributedOpeners){const m=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const g of this._externalOpeners)if(yield g.openExternal(_,{sourceUri:o,preferredOpenerId:m},M.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(_,{sourceUri:o},M.CancellationToken.None)})}dispose(){this._validators.clear()}};s=Me([pe(0,p.ICodeEditorService),pe(1,c.ICommandService)],s),e.OpenerService=s}),define(ee[553],te([0,1,7,73,2,226,404,141,58,19]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesGlyphHoverWidget=void 0;class p{constructor(a){this._editor=a,this._lineNumber=-1,this._result=[]}setLineNumber(a){this._lineNumber=a,this._result=[]}clearResult(){this._result=[]}computeSync(){const a=s=>({value:s}),r=this._editor.getLineDecorations(this._lineNumber),d=[];if(!r)return d;for(const s of r)if(!!s.options.glyphMarginClassName){const i=s.options.glyphMarginHoverMessage;!i||M.isEmptyMarkdownString(i)||d.push(...f.asArray(i).map(a))}return d}onResult(a,r){this._result=this._result.concat(a)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class c extends S.GlyphHoverWidget{constructor(a,r,d=l.NullOpenerService){super(c.ID,a);this._renderDisposeables=this._register(new k.DisposableStore),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new v.MarkdownRenderer({editor:this._editor},r,d)),this._computer=new p(this._editor),this._hoverOperation=new w.HoverOperation(this._computer,s=>this._withResult(s),void 0,s=>this._withResult(s),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(a){this._lastLineNumber!==a&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=a,this._computer.setLineNumber(a),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(a){this._messages=a,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(a,r){this._renderDisposeables.clear();const d=document.createDocumentFragment();for(const s of r){const i=this._markdownRenderer.render(s.value);this._renderDisposeables.add(i),d.appendChild(C.$("div.hover-row",void 0,i.element))}this.updateContents(d),this.showAt(a)}}e.ModesGlyphHoverWidget=c,c.ID="editor.contrib.modesGlyphHoverWidget"}),define(ee[252],te([0,1,503,2,7,61,141,73,27,6,229,9]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function u(d){return!!d&&Boolean(d.completion.documentation||d.completion.detail&&d.completion.detail!==d.completion.label)}e.canExpandCompletionItem=u;let a=class{constructor(s,i){this._editor=s,this._onDidClose=new f.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new f.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new M.DisposableStore,this._renderDisposeable=new M.DisposableStore,this._borderWidth=1,this._size=new k.Dimension(330,0),this.domNode=k.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=i.createInstance(S.MarkdownRenderer,{editor:s}),this._body=k.$(".body"),this._scrollbar=new w.DomScrollableElement(this._body,{}),k.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=k.append(this._body,k.$(".header")),this._close=k.append(this._header,k.$("span"+l.Codicon.close.cssSelector)),this._close.title=C.localize(0,null),this._type=k.append(this._header,k.$("p.type")),this._docs=k.append(this._body,k.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(38)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const s=this._editor.getOptions(),i=s.get(38),n=i.fontFamily,t=s.get(102)||i.fontSize,o=s.get(103)||i.lineHeight,h=i.fontWeight,_=`${t}px`,m=`${o}px`;this.domNode.style.fontSize=_,this.domNode.style.lineHeight=m,this.domNode.style.fontWeight=h,this.domNode.style.fontFeatureSettings=i.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=m,this._close.style.width=m}getLayoutInfo(){const s=this._editor.getOption(103)||this._editor.getOption(38).lineHeight,i=this._borderWidth,n=i*2;return{lineHeight:s,borderWidth:i,borderHeight:n,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=C.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(s,i){this._renderDisposeable.clear();let{detail:n,documentation:t}=s.completion;if(i){let o="";o+=`score: ${s.score[0]}${s.word?`, compared '${s.completion.filterText&&s.completion.filterText+" (filterText)"||typeof s.completion.label=="string"?s.completion.label:s.completion.label.name}' with '${s.word}'`:" (no prefix)"}
`,o+=`distance: ${s.distance}, see localityBonus-setting
`,o+=`index: ${s.idx}, based on ${s.completion.sortText&&`sortText: "${s.completion.sortText}"`||"label"}
`,o+=`commit characters: ${s.completion.commitCharacters}
`,t=new v.MarkdownString().appendCodeblock("empty",o),n=`Provider: ${s.provider._debugDisplayName}`}if(!i&&!u(s)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),n){const o=n.length>1e5?`${n.substr(0,1e5)}\u2026`:n;this._type.textContent=o,this._type.title=o,k.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(o))}else k.clearNode(this._type),this._type.title="",k.hide(this._type),this.domNode.classList.add("no-type");if(k.clearNode(this._docs),typeof t=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=t;else if(t){this._docs.classList.add("markdown-docs"),k.clearNode(this._docs);const o=this._markdownRenderer.render(t);this._docs.appendChild(o.element),this._renderDisposeable.add(o),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=o=>{o.preventDefault(),o.stopPropagation()},this._close.onclick=o=>{o.preventDefault(),o.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(s,i){const n=new k.Dimension(s,i);k.Dimension.equals(n,this._size)||(this._size=n,k.size(this.domNode,s,i)),this._scrollbar.scanDomNode()}scrollDown(s=8){this._body.scrollTop+=s}scrollUp(s=8){this._body.scrollTop-=s}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(s){this._borderWidth=s}get borderWidth(){return this._borderWidth}};a=Me([pe(1,c.IInstantiationService)],a),e.SuggestDetailsWidget=a;class r{constructor(s,i){this.widget=s,this._editor=i,this._disposables=new M.DisposableStore,this._added=!1,this._resizable=new p.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(s.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,t,o=0,h=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,t=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(_=>{if(n&&t){this.widget.layout(_.dimension.width,_.dimension.height);let m=!1;_.west&&(h=t.width-_.dimension.width,m=!0),_.north&&(o=t.height-_.dimension.height,m=!0),m&&this._applyTopLeft({top:n.top+o,left:n.left+h})}_.done&&(n=void 0,t=void 0,o=0,h=0,this._userSize=_.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var _;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(_=this._userSize)!==null&&_!==void 0?_:this.widget.size)}))}dispose(){this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(s=!1){this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),s&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(s){var i;const n=k.getDomNodePagePosition(s);this._anchorBox=n,this._placeAtAnchor(this._anchorBox,(i=this._userSize)!==null&&i!==void 0?i:this.widget.size)}_placeAtAnchor(s,i){const n=k.getClientArea(document.body),t=this.widget.getLayoutInfo();let o,h,_=new k.Dimension(220,2*t.lineHeight),m=0,g=s.top,b=s.top+s.height-t.borderHeight,y,L,D=n.width-(s.left+s.width+t.borderWidth+t.horizontalPadding);m=-t.borderWidth+s.left+s.width,L=!0,o=new k.Dimension(D,n.height-s.top-t.borderHeight-t.verticalPadding),h=o.with(void 0,s.top+s.height-t.borderHeight-t.verticalPadding),i.width>D&&(s.left>D&&(D=s.left-t.borderWidth-t.horizontalPadding,L=!1,m=Math.max(t.horizontalPadding,s.left-i.width-t.borderWidth),o=o.with(D),h=o.with(void 0,h.height)),s.width>D*1.3&&n.height-(s.top+s.height)>s.height&&(D=s.width,m=s.left,g=-t.borderWidth+s.top+s.height,o=new k.Dimension(s.width-t.borderHeight,n.height-s.top-s.height-t.verticalPadding),h=o.with(void 0,s.top-t.verticalPadding),_=_.with(o.width)));let N=i.height,I=Math.max(o.height,h.height);N>I&&(N=I);let T;N<=o.height?(y=!0,T=o):(y=!1,T=h),this._applyTopLeft({left:m,top:y?g:b-N}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!y,L,y,!L),this._resizable.minSize=_,this._resizable.maxSize=T,this._resizable.layout(N,Math.min(T.width,i.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(s){this._topLeft=s,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(ee[59],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=void 0;class M{constructor(w){this.callback=w}report(w){this._value=w,this.callback(this._value)}}e.Progress=M,M.None=Object.freeze({report(){}}),e.IEditorProgressService=C.createDecorator("editorProgressService")}),define(ee[554],te([0,1,23,2,15]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var w;(function(f){f[f.NO_ACTION=0]="NO_ACTION",f[f.CLOSE_PICKER=1]="CLOSE_PICKER",f[f.REFRESH_PICKER=2]="REFRESH_PICKER",f[f.REMOVE_ITEM=3]="REMOVE_ITEM"})(w=e.TriggerAction||(e.TriggerAction={}));function S(f){const p=f;return Array.isArray(p.items)}function v(f){const p=f;return!!p.picks&&p.additionalPicks instanceof Promise}class l extends M.Disposable{constructor(p,c){super();this.prefix=p,this.options=c}provide(p,c){var u;const a=new M.DisposableStore;p.canAcceptInBackground=!!((u=this.options)===null||u===void 0?void 0:u.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;let r;const d=a.add(new M.MutableDisposable),s=()=>Ie(this,void 0,void 0,function*(){const i=d.value=new M.DisposableStore;r==null||r.dispose(!0),p.busy=!1,r=new C.CancellationTokenSource(c);const n=r.token,t=p.value.substr(this.prefix.length).trim(),o=this.getPicks(t,i,n),h=(_,m)=>{var g;let b,y;if(S(_)?(b=_.items,y=_.active):b=_,b.length===0){if(m)return!1;t.length>0&&((g=this.options)===null||g===void 0?void 0:g.noResultsPick)&&(b=[this.options.noResultsPick])}return p.items=b,y&&(p.activeItems=[y]),!0};if(o!==null)if(v(o)){let _=!1,m=!1;yield Promise.all([(()=>Ie(this,void 0,void 0,function*(){yield k.timeout(l.FAST_PICKS_RACE_DELAY),!n.isCancellationRequested&&(m||(_=h(o.picks,!0)))}))(),(()=>Ie(this,void 0,void 0,function*(){p.busy=!0;try{const g=yield o.additionalPicks;if(n.isCancellationRequested)return;let b,y;S(o.picks)?(b=o.picks.items,y=o.picks.active):b=o.picks;let L,D;if(S(g)?(L=g.items,D=g.active):L=g,L.length>0||!_){let N;if(!y&&!D){const I=p.activeItems[0];I&&b.indexOf(I)!==-1&&(N=I)}h({items:[...b,...L],active:y||D||N})}}finally{n.isCancellationRequested||(p.busy=!1),m=!0}}))()])}else if(!(o instanceof Promise))h(o);else{p.busy=!0;try{const _=yield o;if(n.isCancellationRequested)return;h(_)}finally{n.isCancellationRequested||(p.busy=!1)}}});return a.add(p.onDidChangeValue(()=>s())),s(),a.add(p.onDidAccept(i=>{const[n]=p.selectedItems;typeof(n==null?void 0:n.accept)=="function"&&(i.inBackground||p.hide(),n.accept(p.keyMods,i))})),a.add(p.onDidTriggerItemButton(({button:i,item:n})=>Ie(this,void 0,void 0,function*(){var t,o;if(typeof n.trigger=="function"){const h=(o=(t=n.buttons)===null||t===void 0?void 0:t.indexOf(i))!==null&&o!==void 0?o:-1;if(h>=0){const _=n.trigger(h,p.keyMods),m=typeof _=="number"?_:yield _;if(c.isCancellationRequested)return;switch(m){case w.NO_ACTION:break;case w.CLOSE_PICKER:p.hide();break;case w.REFRESH_PICKER:s();break;case w.REMOVE_ITEM:const g=p.items.indexOf(n);if(g!==-1){const b=p.items.slice();b.splice(g,1),p.items=b}break}}}}))),a}}e.PickerQuickAccessProvider=l,l.FAST_PICKS_RACE_DELAY=200});var ft=this&&this.__createBinding||(Object.create?function($,e,C,M){M===void 0&&(M=C),Object.defineProperty($,M,{enumerable:!0,get:function(){return e[C]}})}:function($,e,C,M){M===void 0&&(M=C),$[M]=e[C]}),mt=this&&this.__exportStar||function($,e){for(var C in $)C!=="default"&&!Object.prototype.hasOwnProperty.call(e,C)&&ft(e,$,C)};define(ee[78],te([0,1,9,200]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,mt(M,e),e.IQuickInputService=C.createDecorator("quickInputService")}),define(ee[33],te([0,1,20,193]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(S,v){M.ok(C.isString(S)),M.ok(C.isObject(v)),M.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,v)}as(S){return this.data.get(S)||null}}e.Registry=new k}),define(ee[142],te([0,1,452,6,17,41,33]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_LANGUAGE_IDENTIFIER=e.PLAINTEXT_MODE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class v{constructor(){this._onDidChangeLanguages=new M.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(f){return this._languages.push(f),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let p=0,c=this._languages.length;p<c;p++)if(this._languages[p]===f){this._languages.splice(p,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}e.EditorModesRegistry=v,e.ModesRegistry=new v,S.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_MODE_ID="plaintext",e.PLAINTEXT_LANGUAGE_IDENTIFIER=new k.LanguageIdentifier(e.PLAINTEXT_MODE_ID,1),e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_MODE_ID,extensions:[".txt"],aliases:[C.localize(0,null),"text"],mimetypes:["text/plain"]}),w.LanguageConfigurationRegistry.register(e.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)}),define(ee[555],te([0,1,43,44,142,235]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.detectModeId=e.getIconClasses=void 0;function S(f,p,c,u){const a=u===w.FileKind.ROOT_FOLDER?["rootfolder-icon"]:u===w.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(c){let r;if(c.scheme===C.Schemas.data?r=M.DataUri.parseMetaData(c).get(M.DataUri.META_DATA_LABEL):r=l(M.basenameOrAuthority(c).toLowerCase()),u===w.FileKind.FOLDER)a.push(`${r}-name-folder-icon`);else{if(r){a.push(`${r}-name-file-icon`);const s=r.split(".");for(let i=1;i<s.length;i++)a.push(`${s.slice(i).join(".")}-ext-file-icon`);a.push("ext-file-icon")}const d=v(f,p,c);d&&a.push(`${l(d)}-lang-file-icon`)}}return a}e.getIconClasses=S;function v(f,p,c){if(!c)return null;let u=null;if(c.scheme===C.Schemas.data){const r=M.DataUri.parseMetaData(c).get(M.DataUri.META_DATA_MIME);r&&(u=p.getModeId(r))}else{const a=f.getModel(c);a&&(u=a.getModeId())}return u&&u!==k.PLAINTEXT_MODE_ID?u:p.getModeIdByFilepathOrFirstLine(c)}e.detectModeId=v;function l(f){return f.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=l}),define(ee[183],te([0,1,33,6]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(v){return v.length>0&&v.charAt(v.length-1)==="#"?v.substring(0,v.length-1):v}class w{constructor(){this._onDidChangeSchema=new M.Emitter,this.schemasById={}}registerSchema(l,f){this.schemasById[k(l)]=f,this._onDidChangeSchema.fire(l)}notifySchemaChanged(l){this._onDidChangeSchema.fire(l)}}const S=new w;C.Registry.add(e.Extensions.JSONContribution,S)}),define(ee[95],te([0,1,513,6,33,20,183]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=k.Registry.as(S.Extensions.JSONContribution);class l{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new M.Emitter,this._onDidUpdateConfiguration=new M.Emitter,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:C.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(d,s=!0){this.registerConfigurations([d],s)}registerConfigurations(d,s=!0){const i=[];d.forEach(n=>{i.push(...this.validateAndRegisterProperties(n,s)),this.configurationContributors.push(n),this.registerJSONConfiguration(n)}),v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(d){for(const s of d)this.overrideIdentifiers.add(s);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(d,s=!0,i=3){i=w.isUndefinedOrNull(d.scope)?i:d.scope;let n=[],t=d.properties;if(t)for(let h in t){if(s&&a(h)){delete t[h];continue}const _=t[h];if(this.updatePropertyDefaultValue(h,_),e.OVERRIDE_PROPERTY_PATTERN.test(h)?_.scope=void 0:_.scope=w.isUndefinedOrNull(_.scope)?i:_.scope,t[h].hasOwnProperty("included")&&!t[h].included){this.excludedConfigurationProperties[h]=t[h],delete t[h];continue}else this.configurationProperties[h]=t[h];!t[h].deprecationMessage&&t[h].markdownDeprecationMessage&&(t[h].deprecationMessage=t[h].markdownDeprecationMessage),n.push(h)}let o=d.allOf;if(o)for(let h of o)n.push(...this.validateAndRegisterProperties(h,s,i));return n}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(d){const s=i=>{let n=i.properties;if(n)for(const o in n)this.updateSchema(o,n[o]);let t=i.allOf;t&&t.forEach(s)};s(d)}updateSchema(d,s){switch(e.allSettings.properties[d]=s,s.scope){case 1:e.applicationSettings.properties[d]=s;break;case 2:e.machineSettings.properties[d]=s;break;case 6:e.machineOverridableSettings.properties[d]=s;break;case 3:e.windowSettings.properties[d]=s;break;case 4:e.resourceSettings.properties[d]=s;break;case 5:e.resourceSettings.properties[d]=s,this.resourceLanguageSettingsSchema.properties[d]=s;break}}updateOverridePropertyPatternKey(){for(const d of this.overrideIdentifiers.values()){const s=`[${d}]`,i={type:"object",description:C.localize(1,null),errorMessage:C.localize(2,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(s,i),e.allSettings.properties[s]=i,e.applicationSettings.properties[s]=i,e.machineSettings.properties[s]=i,e.machineOverridableSettings.properties[s]=i,e.windowSettings.properties[s]=i,e.resourceSettings.properties[s]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(d,s){let i=this.defaultValues[d];w.isUndefined(i)&&(i=s.default),w.isUndefined(i)&&(i=c(s.type)),s.default=i}}const f="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(f);function p(r){return r.substring(1,r.length-1)}e.overrideIdentifierFromKey=p;function c(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=c;const u=new l;k.Registry.add(e.Extensions.Configuration,u);function a(r){return r.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(r)?C.localize(4,null,r):u.getConfigurationProperties()[r]!==void 0?C.localize(5,null,r):null:C.localize(3,null)}e.validateProperty=a}),define(ee[184],te([0,1,448,6,2,40,19,38,127,163,95,33,194]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=e.CommonEditorConfiguration=e.ComputedEditorOptions=e.TabFocus=void 0,e.TabFocus=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new M.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}};const a=Object.hasOwnProperty;class r{constructor(){this._values=[]}_read(D){return this._values[D]}get(D){return this._values[D]}_write(D,N){this._values[D]=N}}e.ComputedEditorOptions=r;class d{constructor(){this._values=[]}_read(D){return this._values[D]}_write(D,N){this._values[D]=N}}class s{static readOptions(D){const N=D,I=new d;for(const T of v.editorOptionsRegistry){const O=T.name==="_never_"?void 0:N[T.name];I._write(T.id,O)}return I}static validateOptions(D){const N=new v.ValidatedEditorOptions;for(const I of v.editorOptionsRegistry)N._write(I.id,I.validate(D._read(I.id)));return N}static computeOptions(D,N){const I=new r;for(const T of v.editorOptionsRegistry)I._write(T.id,T.compute(N,I,D._read(T.id)));return I}static _deepEquals(D,N){if(typeof D!="object"||typeof N!="object")return D===N;if(Array.isArray(D)||Array.isArray(N))return Array.isArray(D)&&Array.isArray(N)?S.equals(D,N):!1;for(let I in D)if(!s._deepEquals(D[I],N[I]))return!1;return!0}static checkEquals(D,N){const I=[];let T=!1;for(const O of v.editorOptionsRegistry){const A=!s._deepEquals(D._read(O.id),N._read(O.id));I[O.id]=A,A&&(T=!0)}return T?new v.ConfigurationChangedEvent(I):null}}function i(L){const D=L.wordWrap;D===!0?L.wordWrap="on":D===!1&&(L.wordWrap="off");const N=L.lineNumbers;N===!0?L.lineNumbers="on":N===!1&&(L.lineNumbers="off"),L.autoClosingBrackets===!1&&(L.autoClosingBrackets="never",L.autoClosingQuotes="never",L.autoSurround="never"),L.cursorBlinking==="visible"&&(L.cursorBlinking="solid");const O=L.renderWhitespace;O===!0?L.renderWhitespace="boundary":O===!1&&(L.renderWhitespace="none");const A=L.renderLineHighlight;A===!0?L.renderLineHighlight="line":A===!1&&(L.renderLineHighlight="none");const B=L.acceptSuggestionOnEnter;B===!0?L.acceptSuggestionOnEnter="on":B===!1&&(L.acceptSuggestionOnEnter="off");const E=L.tabCompletion;E===!1?L.tabCompletion="off":E===!0&&(L.tabCompletion="onlySnippets");const W=L.suggest;if(W&&typeof W.filteredTypes=="object"&&W.filteredTypes){const G={};G.method="showMethods",G.function="showFunctions",G.constructor="showConstructors",G.field="showFields",G.variable="showVariables",G.class="showClasses",G.struct="showStructs",G.interface="showInterfaces",G.module="showModules",G.property="showProperties",G.event="showEvents",G.operator="showOperators",G.unit="showUnits",G.value="showValues",G.constant="showConstants",G.enum="showEnums",G.enumMember="showEnumMembers",G.keyword="showKeywords",G.text="showWords",G.color="showColors",G.file="showFiles",G.reference="showReferences",G.folder="showFolders",G.typeParameter="showTypeParameters",G.snippet="showSnippets",u.forEach(G,J=>{const se=W.filteredTypes[J.key];se===!1&&(W[J.value]=se)})}const R=L.hover;R===!0?L.hover={enabled:!0}:R===!1&&(L.hover={enabled:!1});const F=L.parameterHints;F===!0?L.parameterHints={enabled:!0}:F===!1&&(L.parameterHints={enabled:!1});const V=L.autoIndent;V===!0?L.autoIndent="full":V===!1&&(L.autoIndent="advanced");const K=L.matchBrackets;K===!0?L.matchBrackets="always":K===!1&&(L.matchBrackets="never")}function n(L){const D=w.deepClone(L);return i(D),D}class t extends k.Disposable{constructor(D,N){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new M.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=D,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new v.ComputeOptionsMemory,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=n(N),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._register(l.EditorZoom.onDidChangeZoomLevel(I=>this._recomputeOptions())),this._register(e.TabFocus.onDidChangeTabFocus(I=>this._recomputeOptions()))}observeReferenceElement(D){}updatePixelRatio(){}_recomputeOptions(){const D=this.options,N=this._computeInternalOptions();if(!D)this.options=N;else{const I=s.checkEquals(D,N);if(I===null)return;this.options=N,this._onDidChangeFast.fire(I),this._onDidChange.fire(I)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const D=this._getEnvConfiguration(),N=f.BareFontInfo.createFromValidatedSettings(this._validatedOptions,D.zoomLevel,D.pixelRatio,this.isSimpleWidget),I={memory:this._computeOptionsMemory,outerWidth:D.outerWidth,outerHeight:D.outerHeight,fontInfo:this.readConfiguration(N),extraEditorClassName:D.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:D.emptySelectionClipboard,pixelRatio:D.pixelRatio,tabFocusMode:e.TabFocus.getTabFocusMode(),accessibilitySupport:D.accessibilitySupport};return s.computeOptions(this._validatedOptions,I)}static _subsetEquals(D,N){for(const I in N)if(a.call(N,I)){const T=N[I],O=D[I];if(O===T)continue;if(Array.isArray(O)&&Array.isArray(T)){if(!S.equals(O,T))return!1;continue}if(O&&typeof O=="object"&&T&&typeof T=="object"){if(!this._subsetEquals(O,T))return!1;continue}return!1}return!0}updateOptions(D){if(typeof D!="undefined"){const N=n(D);t._subsetEquals(this._rawOptions,N)||(this._rawOptions=w.mixin(this._rawOptions,N||{}),this._readOptions=s.readOptions(this._rawOptions),this._validatedOptions=s.validateOptions(this._readOptions),this._recomputeOptions())}}setIsDominatedByLongLines(D){this._isDominatedByLongLines=D,this._recomputeOptions()}setMaxLineNumber(D){const N=t._digitCount(D);this._lineNumbersDigitCount!==N&&(this._lineNumbersDigitCount=N,this._recomputeOptions())}setViewLineCount(D){this._viewLineCount!==D&&(this._viewLineCount=D,this._recomputeOptions())}static _digitCount(D){let N=0;for(;D;)D=Math.floor(D/10),N++;return N||1}}e.CommonEditorConfiguration=t,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:C.localize(0,null),scope:5});const o=c.Registry.as(p.Extensions.Configuration),h=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:v.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:C.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:C.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:C.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:C.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:v.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:C.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:C.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[C.localize(7,null),C.localize(8,null),C.localize(9,null)],description:C.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[C.localize(11,null),C.localize(12,null),C.localize(13,null)],default:"configuredByTheme",description:C.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:C.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:C.localize(16,null)},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:C.localize(17,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:C.localize(18,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:C.localize(19,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:C.localize(20,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:C.localize(21,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[C.localize(22,null),C.localize(23,null),C.localize(24,null)]}}});function _(L){return typeof L.type!="undefined"||typeof L.anyOf!="undefined"}for(const L of v.editorOptionsRegistry){const D=L.schema;if(typeof D!="undefined")if(_(D))h.properties[`editor.${L.name}`]=D;else for(let N in D)a.call(D,N)&&(h.properties[N]=D[N])}let m=null;function g(){return m===null&&(m=Object.create(null),Object.keys(h.properties).forEach(L=>{m[L]=!0})),m}function b(L){return g()[`editor.${L}`]||!1}e.isEditorConfigurationKey=b;function y(L){return g()[`diffEditor.${L}`]||!1}e.isDiffEditorConfigurationKey=y,o.registerConfiguration(h)}),define(ee[69],te([0,1,34,6,2,16,357,209,184,38,163]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Configuration=e.clearAllFontInfos=void 0;class c{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const n=s.getId();this._keys[n]=s,this._values[n]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}function u(){a.INSTANCE.clearCache()}e.clearAllFontInfos=u;class a extends k.Disposable{constructor(){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new c,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new c,this._onDidChange.fire()}_writeToCache(s,i){this._cache.put(s,i),!i.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const s=this._cache.getValues();let i=!1;for(const n of s)n.isTrusted||(i=!0,this._cache.remove(n));i&&this._onDidChange.fire()}readConfiguration(s){if(!this._cache.has(s)){let i=a._actualReadConfiguration(s);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new p.FontInfo({zoomLevel:C.getZoomLevel(),pixelRatio:C.getPixelRatio(),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(s,i)}return this._cache.get(s)}static createRequest(s,i,n,t){const o=new S.CharWidthRequest(s,i);return n.push(o),t&&t.push(o),o}static _actualReadConfiguration(s){const i=[],n=[],t=this.createRequest("n",0,i,n),o=this.createRequest("\uFF4D",0,i,null),h=this.createRequest(" ",0,i,n),_=this.createRequest("0",0,i,n),m=this.createRequest("1",0,i,n),g=this.createRequest("2",0,i,n),b=this.createRequest("3",0,i,n),y=this.createRequest("4",0,i,n),L=this.createRequest("5",0,i,n),D=this.createRequest("6",0,i,n),N=this.createRequest("7",0,i,n),I=this.createRequest("8",0,i,n),T=this.createRequest("9",0,i,n),O=this.createRequest("\u2192",0,i,n),A=this.createRequest("\uFFEB",0,i,null),B=this.createRequest("\xB7",0,i,n),E=this.createRequest(String.fromCharCode(11825),0,i,null);this.createRequest("|",0,i,n),this.createRequest("/",0,i,n),this.createRequest("-",0,i,n),this.createRequest("_",0,i,n),this.createRequest("i",0,i,n),this.createRequest("l",0,i,n),this.createRequest("m",0,i,n),this.createRequest("|",1,i,n),this.createRequest("_",1,i,n),this.createRequest("i",1,i,n),this.createRequest("l",1,i,n),this.createRequest("m",1,i,n),this.createRequest("n",1,i,n),this.createRequest("|",2,i,n),this.createRequest("_",2,i,n),this.createRequest("i",2,i,n),this.createRequest("l",2,i,n),this.createRequest("m",2,i,n),this.createRequest("n",2,i,n),S.readCharWidths(s,i);const W=Math.max(_.width,m.width,g.width,b.width,y.width,L.width,D.width,N.width,I.width,T.width);let R=s.fontFeatureSettings===f.EditorFontLigatures.OFF;const F=n[0].width;for(let G=1,J=n.length;R&&G<J;G++){const se=F-n[G].width;if(se<-.001||se>.001){R=!1;break}}let V=!0;R&&A.width!==F&&(V=!1),A.width>O.width&&(V=!1);const K=C.getTimeSinceLastZoomLevelChanged()>2e3;return new p.FontInfo({zoomLevel:C.getZoomLevel(),pixelRatio:C.getPixelRatio(),fontFamily:s.fontFamily,fontWeight:s.fontWeight,fontSize:s.fontSize,fontFeatureSettings:s.fontFeatureSettings,lineHeight:s.lineHeight,letterSpacing:s.letterSpacing,isMonospace:R,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:V,spaceWidth:h.width,middotWidth:B.width,wsmiddotWidth:E.width,maxDigitWidth:W},K)}}a.INSTANCE=new a;class r extends l.CommonEditorConfiguration{constructor(s,i,n=null,t){super(s,i);this.accessibilityService=t,this._elementSizeObserver=this._register(new v.ElementSizeObserver(n,i.dimension,()=>this._recomputeOptions())),this._register(a.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(9)&&this._elementSizeObserver.startObserving(),this._register(C.onDidChangeZoomLevel(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(s,i){s.style.fontFamily=i.getMassagedFontFamily(),s.style.fontWeight=i.fontWeight,s.style.fontSize=i.fontSize+"px",s.style.fontFeatureSettings=i.fontFeatureSettings,s.style.lineHeight=i.lineHeight+"px",s.style.letterSpacing=i.letterSpacing+"px"}static applyFontInfo(s,i){s.setFontFamily(i.getMassagedFontFamily()),s.setFontWeight(i.fontWeight),s.setFontSize(i.fontSize),s.setFontFeatureSettings(i.fontFeatureSettings),s.setLineHeight(i.lineHeight),s.setLetterSpacing(i.letterSpacing)}observeReferenceElement(s){this._elementSizeObserver.observe(s)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let s="";return!C.isSafari&&!C.isWebkitWebView&&(s+="no-user-select "),C.isSafari&&(s+="no-minimap-shadow "),w.isMacintosh&&(s+="mac "),s}_getEnvConfiguration(){return{extraEditorClassName:r._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:C.isWebKit||C.isFirefox,pixelRatio:C.getPixelRatio(),zoomLevel:C.getZoomLevel(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(s){return a.INSTANCE.readConfiguration(s)}}e.Configuration=r}),define(ee[556],te([0,1,93,8,69,63]),function($,e,C,M,k,w){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(S=window.trustedTypes)===null||S===void 0?void 0:S.createPolicy("domLineBreaksComputer",{createHTML:r=>r});class l{static create(){return new l}constructor(){}createLineBreaksComputer(d,s,i,n){s=s|0,i=+i;let t=[];return{addRequest:(o,h)=>{t.push(o)},finalize:()=>f(t,d,s,i,n)}}}e.DOMLineBreaksComputerFactory=l;function f(r,d,s,i,n){var t;if(i===-1){const A=[];for(let B=0,E=r.length;B<E;B++)A[B]=null;return A}const o=Math.round(i*d.typicalHalfwidthCharacterWidth);(n===2||n===3)&&(n=1);const h=document.createElement("div");k.Configuration.applyFontInfoSlow(h,d);const _=C.createStringBuilder(1e4),m=[],g=[],b=[],y=[],L=[];for(let A=0;A<r.length;A++){const B=r[A];let E=0,W=0,R=o;if(n!==0)if(E=M.firstNonWhitespaceIndex(B),E===-1)E=0;else{for(let G=0;G<E;G++)W+=B.charCodeAt(G)===9?s-W%s:1;const K=Math.ceil(d.spaceWidth*W);K+d.typicalFullwidthCharacterWidth>o?(E=0,W=0):R=o-K}const F=B.substr(E),V=p(F,W,s,R,_);m[A]=E,g[A]=W,b[A]=F,y[A]=V[0],L[A]=V[1]}const D=_.build(),N=(t=v==null?void 0:v.createHTML(D))!==null&&t!==void 0?t:D;h.innerHTML=N,h.style.position="absolute",h.style.top="10000",h.style.wordWrap="break-word",document.body.appendChild(h);let I=document.createRange();const T=Array.prototype.slice.call(h.children,0);let O=[];for(let A=0;A<r.length;A++){const B=T[A],E=c(I,B,b[A],y[A]);if(E===null){O[A]=null;continue}const W=m[A],R=g[A],F=L[A],V=[];for(let K=0,G=E.length;K<G;K++)V[K]=F[E[K]];if(W!==0)for(let K=0,G=E.length;K<G;K++)E[K]+=W;O[A]=new w.LineBreakData(E,V,R)}return document.body.removeChild(h),O}function p(r,d,s,i,n){n.appendASCIIString('<div style="width:'),n.appendASCIIString(String(i)),n.appendASCIIString('px;">');const t=r.length;let o=d,h=0,_=[],m=[],g=0<t?r.charCodeAt(0):0;n.appendASCIIString("<span>");for(let b=0;b<t;b++){b!==0&&b%16384==0&&n.appendASCIIString("</span><span>"),_[b]=h,m[b]=o;const y=g;g=b+1<t?r.charCodeAt(b+1):0;let L=1,D=1;switch(y){case 9:L=s-o%s,D=L;for(let N=1;N<=L;N++)N<L?n.write1(160):n.appendASCII(32);break;case 32:g===32?n.write1(160):n.appendASCII(32);break;case 60:n.appendASCIIString("&lt;");break;case 62:n.appendASCIIString("&gt;");break;case 38:n.appendASCIIString("&amp;");break;case 0:n.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:n.write1(65533);break;default:M.isFullWidthCharacter(y)&&D++,y<32?n.write1(9216+y):n.write1(y)}h+=L,o+=D}return n.appendASCIIString("</span>"),_[r.length]=h,m[r.length]=o,n.appendASCIIString("</div>"),[_,m]}function c(r,d,s,i){if(s.length<=1)return null;const n=Array.prototype.slice.call(d.children,0),t=[];try{u(r,n,i,0,null,s.length-1,null,t)}catch(o){return console.log(o),null}return t.length===0?null:(t.push(s.length),t)}function u(r,d,s,i,n,t,o,h){if(i!==t&&(n=n||a(r,d,s[i],s[i+1]),o=o||a(r,d,s[t],s[t+1]),!(Math.abs(n[0].top-o[0].top)<=.1))){if(i+1===t){h.push(t);return}const _=i+(t-i)/2|0,m=a(r,d,s[_],s[_+1]);u(r,d,s,i,n,_,m,h),u(r,d,s,_,m,t,o,h)}}function a(r,d,s,i){return r.setStart(d[s/16384|0].firstChild,s%16384),r.setEnd(d[i/16384|0].firstChild,i%16384),r.getClientRects()}}),define(ee[557],te([0,1,30,69,164,45]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends w.ViewPart{constructor(c){super(c);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let c=0,u=this._dynamicOverlays.length;c<u;c++)if(this._dynamicOverlays[c].shouldRender())return!0;return!1}dispose(){super.dispose();for(let c=0,u=this._dynamicOverlays.length;c<u;c++)this._dynamicOverlays[c].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new v(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(c){this._dynamicOverlays.push(c)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c);const u=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let r=u;r<=a;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(c);return!0}onFlushed(c){return this._visibleLines.onFlushed(c)}onFocusChanged(c){return this._isFocused=c.isFocused,!0}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onScrollChanged(c){return this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._visibleLines.onZonesChanged(c)}prepareRender(c){const u=this._dynamicOverlays.filter(a=>a.shouldRender());for(let a=0,r=u.length;a<r;a++){const d=u[a];d.prepareRender(c),d.onDidRender()}}render(c){this._viewOverlaysRender(c),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(c){this._visibleLines.renderLines(c.viewportData)}}e.ViewOverlays=S;class v{constructor(c,u){this._configuration=c,this._lineHeight=this._configuration.options.get(53),this._dynamicOverlays=u,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(c){this._domNode=C.createFastDomNode(c)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(c){this._lineHeight=this._configuration.options.get(53)}renderLine(c,u,a,r){let d="";for(let s=0,i=this._dynamicOverlays.length;s<i;s++)d+=this._dynamicOverlays[s].render(a.startLineNumber,c);return this._renderedContent===d?!1:(this._renderedContent=d,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(u)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(d),r.appendASCIIString("</div>"),!0)}layoutLine(c,u){this._domNode&&(this._domNode.setTop(u),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=v;class l extends S{constructor(c){super(c);const a=this._context.configuration.options.get(124);this._contentWidth=a.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(c){const a=this._context.configuration.options.get(124);return this._contentWidth=a.contentWidth,super.onConfigurationChanged(c)||!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollWidthChanged}_viewOverlaysRender(c){super._viewOverlaysRender(c),this.domNode.setWidth(Math.max(c.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=l;class f extends S{constructor(c){super(c);const u=this._context.configuration.options,a=u.get(124);this._contentLeft=a.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),M.Configuration.applyFontInfo(this.domNode,u.get(38))}onConfigurationChanged(c){const u=this._context.configuration.options;M.Configuration.applyFontInfo(this.domNode,u.get(38));const a=u.get(124);return this._contentLeft=a.contentLeft,super.onConfigurationChanged(c)||!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollHeightChanged}_viewOverlaysRender(c){super._viewOverlaysRender(c);const u=Math.min(c.scrollHeight,1e6);this.domNode.setHeight(u),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=f}),define(ee[558],te([0,1,7,30,8,69,38,13,3,124]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class p{constructor(a,r,d,s,i,n){this.top=a,this.left=r,this.width=d,this.height=s,this.textContent=i,this.textContentClassName=n}}class c{constructor(a){this._context=a;const r=this._context.configuration.options,d=r.get(38);this._cursorStyle=r.get(21),this._lineHeight=r.get(53),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(24),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=M.createFastDomNode(document.createElement("div")),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),w.Configuration.applyFontInfo(this._domNode,d),this._domNode.setDisplay("none"),this._position=new v.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(a){const r=this._context.configuration.options,d=r.get(38);return this._cursorStyle=r.get(21),this._lineHeight=r.get(53),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(24),this._typicalHalfwidthCharacterWidth),w.Configuration.applyFontInfo(this._domNode,d),!0}onCursorPositionChanged(a){return this._position=a,!0}_prepareRender(a){let r="";if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const g=a.visibleRangeForPosition(this._position);if(!g||g.outsideRenderedLine)return null;let b;if(this._cursorStyle===S.TextEditorCursorStyle.Line){if(b=C.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),b>2){const D=this._context.model.getLineContent(this._position.lineNumber),N=k.nextCharLength(D,this._position.column-1);r=D.substr(this._position.column-1,N)}}else b=C.computeScreenAwareSize(1);let y=g.left;b>=2&&y>=1&&(y-=1);const L=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta;return new p(L,y,b,this._lineHeight,r,"")}const d=this._context.model.getLineContent(this._position.lineNumber),s=k.nextCharLength(d,this._position.column-1),i=a.linesVisibleRangesForRange(new l.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+s),!1);if(!i||i.length===0)return null;const n=i[0];if(n.outsideRenderedLine||n.ranges.length===0)return null;const t=n.ranges[0],o=t.width<1?this._typicalHalfwidthCharacterWidth:t.width;let h="";if(this._cursorStyle===S.TextEditorCursorStyle.Block){const g=this._context.model.getViewLineData(this._position.lineNumber);r=d.substr(this._position.column-1,s);const b=g.tokens.findTokenIndexAtOffset(this._position.column-1);h=g.tokens.getClassName(b)}let _=a.getVerticalOffsetForLineNumber(this._position.lineNumber)-a.bigNumbersDelta,m=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(_+=this._lineHeight-2,m=2),new p(_,t.left,o,m,r,h)}prepareRender(a){this._renderData=this._prepareRender(a)}render(a){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=c}),define(ee[559],te([0,1,11,6,2,289,8,17,142,76,95,33]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=void 0;const u=Object.prototype.hasOwnProperty;class a extends k.Disposable{constructor(d=!0,s=!1){super();this._onDidChange=this._register(new M.Emitter),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=s,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(l.ModesRegistry.onDidChangeLanguages(i=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const d=l.ModesRegistry.getLanguages();this._registerLanguages(d)}_registerLanguages(d){for(const s of d)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{let i=this._languages[s];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(n=>{this._lowercaseNameMap[n.toLowerCase()]=i.identifier}),i.mimetypes.forEach(n=>{this._mimeTypesMap[n]=i.identifier})}),c.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(l.ModesRegistry.getLanguages().map(s=>s.id)),this._onDidChange.fire()}_getLanguageId(d){if(this._languageToLanguageId[d])return this._languageToLanguageId[d];const s=this._nextLanguageId2++;return this._languageIdToLanguage[s]=d,this._languageToLanguageId[d]=s,s}_registerLanguage(d){const s=d.id;let i;if(u.call(this._languages,s))i=this._languages[s];else{const n=this._getLanguageId(s);i={identifier:new v.LanguageIdentifier(s,n),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[s]=i}this._mergeLanguage(i,d)}_mergeLanguage(d,s){const i=s.id;let n=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(d.mimetypes.push(...s.mimetypes),n=s.mimetypes[0]),n||(n=`text/x-${i}`,d.mimetypes.push(n)),Array.isArray(s.extensions)){s.configuration?d.extensions=s.extensions.concat(d.extensions):d.extensions=d.extensions.concat(s.extensions);for(let h of s.extensions)w.registerTextMime({id:i,mime:n,extension:h},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(let h of s.filenames)w.registerTextMime({id:i,mime:n,filename:h},this._warnOnOverwrite),d.filenames.push(h);if(Array.isArray(s.filenamePatterns))for(let h of s.filenamePatterns)w.registerTextMime({id:i,mime:n,filepattern:h},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let h=s.firstLine;h.charAt(0)!=="^"&&(h="^"+h);try{let _=new RegExp(h);S.regExpLeadsToEndlessLoop(_)||w.registerTextMime({id:i,mime:n,firstline:_},this._warnOnOverwrite)}catch(_){C.onUnexpectedError(_)}}d.aliases.push(i);let t=null;if(typeof s.aliases!="undefined"&&Array.isArray(s.aliases)&&(s.aliases.length===0?t=[null]:t=s.aliases),t!==null)for(const h of t)!h||h.length===0||d.aliases.push(h);let o=t!==null&&t.length>0;if(!(o&&t[0]===null)){let h=(o?t[0]:null)||i;(o||!d.name)&&(d.name=h)}s.configuration&&d.configurationFiles.push(s.configuration)}isRegisteredMode(d){return u.call(this._mimeTypesMap,d)?!0:u.call(this._languages,d)}getModeIdForLanguageNameLowercase(d){return u.call(this._lowercaseNameMap,d)?this._lowercaseNameMap[d].language:null}extractModeIds(d){return d?d.split(",").map(s=>s.trim()).map(s=>u.call(this._mimeTypesMap,s)?this._mimeTypesMap[s].language:s).filter(s=>u.call(this._languages,s)):[]}getLanguageIdentifier(d){if(d===f.NULL_MODE_ID||d===0)return f.NULL_LANGUAGE_IDENTIFIER;let s;if(typeof d=="string")s=d;else if(s=this._languageIdToLanguage[d],!s)return null;return u.call(this._languages,s)?this._languages[s].identifier:null}getModeIdsFromFilepathOrFirstLine(d,s){if(!d&&!s)return[];let i=w.guessMimeTypes(d,s);return this.extractModeIds(i.join(","))}}e.LanguagesRegistry=a}),define(ee[560],te([0,1,6,2,369,76,559,19]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModeServiceImpl=void 0;class l extends M.Disposable{constructor(c,u){super();this._onDidChange=this._register(new C.Emitter),this.onDidChange=this._onDidChange.event,this._selector=u,this.languageIdentifier=this._selector(),this._register(c(()=>this._evaluate()))}_evaluate(){let c=this._selector();c.id!==this.languageIdentifier.id&&(this.languageIdentifier=c,this._onDidChange.fire(this.languageIdentifier))}}class f extends M.Disposable{constructor(c=!1){super();this._onDidCreateMode=this._register(new C.Emitter),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new C.Emitter),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new S.LanguagesRegistry(!0,c)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(c){return this._registry.isRegisteredMode(c)}getModeIdForLanguageName(c){return this._registry.getModeIdForLanguageNameLowercase(c)}getModeIdByFilepathOrFirstLine(c,u){const a=this._registry.getModeIdsFromFilepathOrFirstLine(c,u);return v.firstOrDefault(a,null)}getModeId(c){const u=this._registry.extractModeIds(c);return v.firstOrDefault(u,null)}getLanguageIdentifier(c){return this._registry.getLanguageIdentifier(c)}create(c){return new l(this.onLanguagesMaybeChanged,()=>{const u=this.getModeId(c);return this._createModeAndGetLanguageIdentifier(u)})}createByFilepathOrFirstLine(c,u){return new l(this.onLanguagesMaybeChanged,()=>{const a=this.getModeIdByFilepathOrFirstLine(c,u);return this._createModeAndGetLanguageIdentifier(a)})}_createModeAndGetLanguageIdentifier(c){const u=this.getLanguageIdentifier(c||"plaintext")||w.NULL_LANGUAGE_IDENTIFIER;return this._getOrCreateMode(u.language),u}triggerMode(c){const u=this.getModeId(c);this._getOrCreateMode(u||"plaintext")}_getOrCreateMode(c){if(!this._instantiatedModes.hasOwnProperty(c)){let u=this.getLanguageIdentifier(c)||w.NULL_LANGUAGE_IDENTIFIER;this._instantiatedModes[c]=new k.FrankensteinMode(u),this._onDidCreateMode.fire(this._instantiatedModes[c])}return this._instantiatedModes[c]}}e.ModeServiceImpl=f}),define(ee[46],te([0,1,33,9,95]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultValues=e.getConfigurationKeys=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=M.createDecorator("configurationService");function w(u,a){const r=Object.create(null);for(let d in u)S(r,d,u[d],a);return r}e.toValuesTree=w;function S(u,a,r,d){const s=a.split("."),i=s.pop();let n=u;for(let t=0;t<s.length;t++){let o=s[t],h=n[o];switch(typeof h){case"undefined":h=n[o]=Object.create(null);break;case"object":break;default:d(`Ignoring ${a} as ${s.slice(0,t+1).join(".")} is ${JSON.stringify(h)}`);return}n=h}if(typeof n=="object"&&n!==null)try{n[i]=r}catch(t){d(`Ignoring ${a} as ${s.join(".")} is ${JSON.stringify(n)}`)}else d(`Ignoring ${a} as ${s.join(".")} is ${JSON.stringify(n)}`)}e.addToValueTree=S;function v(u,a){const r=a.split(".");l(u,r)}e.removeFromValueTree=v;function l(u,a){const r=a.shift();if(a.length===0){delete u[r];return}if(Object.keys(u).indexOf(r)!==-1){const d=u[r];typeof d=="object"&&!Array.isArray(d)&&(l(d,a),Object.keys(d).length===0&&delete u[r])}}function f(u,a,r){function d(n,t){let o=n;for(const h of t){if(typeof o!="object"||o===null)return;o=o[h]}return o}const s=a.split("."),i=d(u,s);return typeof i=="undefined"?r:i}e.getConfigurationValue=f;function p(){const u=C.Registry.as(k.Extensions.Configuration).getConfigurationProperties();return Object.keys(u)}e.getConfigurationKeys=p;function c(){const u=Object.create(null),a=C.Registry.as(k.Extensions.Configuration).getConfigurationProperties();for(let r in a){let d=a[r].default;S(u,r,d,s=>console.error(`Conflict in default settings: ${s}`))}return u}e.getDefaultValues=c}),define(ee[561],te([0,1,2,65,6,18,46]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let v=class extends C.Disposable{constructor(f,p){super();this._contextKeyService=f,this._configurationService=p,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new k.Emitter,this._accessibilityModeEnabledContext=M.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const c=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(u=>{u.affectsConfiguration("editor.accessibilitySupport")&&(c(),this._onDidChangeScreenReaderOptimized.fire())})),c(),this.onDidChangeScreenReaderOptimized(()=>c())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const f=this._configurationService.getValue("editor.accessibilitySupport");return f==="on"||f==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};v=Me([pe(0,w.IContextKeyService),pe(1,S.IConfigurationService)],v),e.AccessibilityService=v}),define(ee[562],te([0,1,51,19,20,40,24,95,46]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class f{constructor(r={},d=[],s=[]){this._contents=r,this._keys=d,this._overrides=s,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(r){return r?l.getConfigurationValue(this.contents,r):this.contents}override(r){const d=this.getContentsForOverrideIdentifer(r);if(!d||typeof d!="object"||!Object.keys(d).length)return this;let s={};for(const i of M.distinct([...Object.keys(this.contents),...Object.keys(d)])){let n=this.contents[i],t=d[i];t&&(typeof n=="object"&&typeof t=="object"?(n=w.deepClone(n),this.mergeContents(n,t)):n=t),s[i]=n}return new f(s,this.keys,this.overrides)}merge(...r){const d=w.deepClone(this.contents),s=w.deepClone(this.overrides),i=[...this.keys];for(const n of r){this.mergeContents(d,n.contents);for(const t of n.overrides){const[o]=s.filter(h=>M.equals(h.identifiers,t.identifiers));o?this.mergeContents(o.contents,t.contents):s.push(w.deepClone(t))}for(const t of n.keys)i.indexOf(t)===-1&&i.push(t)}return new f(d,i,s)}freeze(){return this.isFrozen=!0,this}mergeContents(r,d){for(const s of Object.keys(d)){if(s in r&&k.isObject(r[s])&&k.isObject(d[s])){this.mergeContents(r[s],d[s]);continue}r[s]=w.deepClone(d[s])}}checkAndFreeze(r){return this.isFrozen&&!Object.isFrozen(r)?w.deepFreeze(r):r}getContentsForOverrideIdentifer(r){for(const d of this.overrides)if(d.identifiers.indexOf(r)!==-1)return d.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(r,d){this.addKey(r),l.addToValueTree(this.contents,r,d,s=>{throw new Error(s)})}removeValue(r){this.removeKey(r)&&l.removeFromValueTree(this.contents,r)}addKey(r){let d=this.keys.length;for(let s=0;s<d;s++)r.indexOf(this.keys[s])===0&&(d=s);this.keys.splice(d,1,r)}removeKey(r){let d=this.keys.indexOf(r);return d!==-1?(this.keys.splice(d,1),!0):!1}}e.ConfigurationModel=f;class p extends f{constructor(){const r=l.getDefaultValues(),d=l.getConfigurationKeys(),s=[];for(const i of Object.keys(r))v.OVERRIDE_PROPERTY_PATTERN.test(i)&&s.push({identifiers:[v.overrideIdentifierFromKey(i).trim()],keys:Object.keys(r[i]),contents:l.toValuesTree(r[i],n=>console.error(`Conflict in default settings file: ${n}`))});super(r,d,s)}}e.DefaultConfigurationModel=p;class c{constructor(r,d,s=new f,i=new f,n=new C.ResourceMap,t=new f,o=new C.ResourceMap,h=!0){this._defaultConfiguration=r,this._localUserConfiguration=d,this._remoteUserConfiguration=s,this._workspaceConfiguration=i,this._folderConfigurations=n,this._memoryConfiguration=t,this._memoryConfigurationByResource=o,this._freeze=h,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new C.ResourceMap,this._userConfiguration=null}getValue(r,d,s){return this.getConsolidateConfigurationModel(d,s).getValue(r)}updateValue(r,d,s={}){let i;s.resource?(i=this._memoryConfigurationByResource.get(s.resource),i||(i=new f,this._memoryConfigurationByResource.set(s.resource,i))):i=this._memoryConfiguration,d===void 0?i.removeValue(r):i.setValue(r,d),s.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(r,d){let s=this.getConsolidatedConfigurationModelForResource(r,d);return r.overrideIdentifier?s.override(r.overrideIdentifier):s}getConsolidatedConfigurationModelForResource({resource:r},d){let s=this.getWorkspaceConsolidatedConfiguration();if(d&&r){const i=d.getFolder(r);i&&(s=this.getFolderConsolidatedConfiguration(i.uri)||s);const n=this._memoryConfigurationByResource.get(r);n&&(s=s.merge(n))}return s}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(r){let d=this._foldersConsolidatedConfigurations.get(r);if(!d){const s=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(r);i?(d=s.merge(i),this._freeze&&(d=d.freeze()),this._foldersConsolidatedConfigurations.set(r,d)):d=s}return d}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((r,d)=>{const{contents:s,overrides:i,keys:n}=this._folderConfigurations.get(d);return r.push([d,{contents:s,overrides:i,keys:n}]),r},[])}}static parse(r){const d=this.parseConfigurationModel(r.defaults),s=this.parseConfigurationModel(r.user),i=this.parseConfigurationModel(r.workspace),n=r.folders.reduce((t,o)=>(t.set(S.URI.revive(o[0]),this.parseConfigurationModel(o[1])),t),new C.ResourceMap);return new c(d,s,new f,i,n,new f,new C.ResourceMap,!1)}static parseConfigurationModel(r){return new f(r.contents,r.keys,r.overrides).freeze()}}e.Configuration=c;class u{constructor(r,d,s,i){this.change=r,this.previous=d,this.currentConfiguraiton=s,this.currentWorkspace=i,this._previousConfiguration=void 0;const n=new Set;r.keys.forEach(o=>n.add(o)),r.overrides.forEach(([,o])=>o.forEach(h=>n.add(h))),this.affectedKeys=[...n.values()];const t=new f;this.affectedKeys.forEach(o=>t.setValue(o,{})),this.affectedKeysTree=t.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=c.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(r,d){var s;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,r)){if(d){const i=this.previousConfiguration?this.previousConfiguration.getValue(r,d,(s=this.previous)===null||s===void 0?void 0:s.workspace):void 0,n=this.currentConfiguraiton.getValue(r,d,this.currentWorkspace);return!w.equals(i,n)}return!0}return!1}doesAffectedKeysTreeContains(r,d){let s=l.toValuesTree({[d]:!0},()=>{}),i;for(;typeof s=="object"&&(i=Object.keys(s)[0]);){if(r=r[i],!r)return!1;s=s[i]}return!0}}e.ConfigurationChangeEvent=u}),define(ee[563],te([0,1,6,54,2,51,26,46,18,249]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const p="data-keybinding-context";class c{constructor(m,g){this._id=m,this._parent=g,this._value=Object.create(null),this._value._contextId=m}setValue(m,g){return this._value[m]!==g?(this._value[m]=g,!0):!1}removeValue(m){return m in this._value?(delete this._value[m],!0):!1}getValue(m){const g=this._value[m];return typeof g=="undefined"&&this._parent?this._parent.getValue(m):g}}e.Context=c;class u extends c{constructor(){super(-1,null)}setValue(m,g){return!1}removeValue(m){return!1}getValue(m){}}u.INSTANCE=new u;class a extends c{constructor(m,g,b){super(m,null);this._configurationService=g,this._values=w.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(y=>{if(y.source===6){const L=Array.from(M.Iterable.map(this._values,([D])=>D));this._values.clear(),b.fire(new s(L))}else{const L=[];for(const D of y.affectedKeys){const N=`config.${D}`,I=this._values.findSuperstr(N);I!==void 0&&(L.push(...M.Iterable.map(I,([T])=>T)),this._values.deleteSuperstr(N)),this._values.has(N)&&(L.push(N),this._values.delete(N))}b.fire(new s(L))}})}dispose(){this._listener.dispose()}getValue(m){if(m.indexOf(a._keyPrefix)!==0)return super.getValue(m);if(this._values.has(m))return this._values.get(m);const g=m.substr(a._keyPrefix.length),b=this._configurationService.getValue(g);let y;switch(typeof b){case"number":case"boolean":case"string":y=b;break;default:Array.isArray(b)?y=JSON.stringify(b):y=b}return this._values.set(m,y),y}setValue(m,g){return super.setValue(m,g)}removeValue(m){return super.removeValue(m)}}a._keyPrefix="config.";class r{constructor(m,g,b){this._service=m,this._key=g,this._defaultValue=b,this.reset()}set(m){this._service.setContext(this._key,m)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class d{constructor(m){this.key=m}affectsSome(m){return m.has(this.key)}}class s{constructor(m){this.keys=m}affectsSome(m){for(const g of this.keys)if(m.has(g))return!0;return!1}}class i{constructor(m){this.events=m}affectsSome(m){for(const g of this.events)if(g.affectsSome(m))return!0;return!1}}class n{constructor(m){this._onDidChangeContext=new C.PauseableEmitter({merge:g=>new i(g)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=m}createKey(m,g){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new r(this,m,g)}bufferChangeEvents(m){this._onDidChangeContext.pause();try{m()}finally{this._onDidChangeContext.resume()}}createScoped(m){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new o(this,m)}contextMatchesRules(m){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const g=this.getContextValuesContainer(this._myContextId);return f.KeybindingResolver.contextMatchesRules(g,m)}getContextKeyValue(m){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(m)}setContext(m,g){if(!this._isDisposed){const b=this.getContextValuesContainer(this._myContextId);!b||b.setValue(m,g)&&this._onDidChangeContext.fire(new d(m))}}removeContext(m){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(m)&&this._onDidChangeContext.fire(new d(m))}getContext(m){return this._isDisposed?u.INSTANCE:this.getContextValuesContainer(h(m))}}e.AbstractContextKeyService=n;let t=class extends n{constructor(m){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const g=new a(this._myContextId,m,this._onDidChangeContext);this._contexts.set(this._myContextId,g),this._toDispose.add(g)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(m){return this._isDisposed?u.INSTANCE:this._contexts.get(m)||u.INSTANCE}createChildContext(m=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let g=++this._lastContextId;return this._contexts.set(g,new c(g,this.getContextValuesContainer(m))),g}disposeContext(m){this._isDisposed||this._contexts.delete(m)}};t=Me([pe(0,v.IConfigurationService)],t),e.ContextKeyService=t;class o extends n{constructor(m,g){super(m.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=m,this._updateParentChangeListener(),g){if(this._domNode=g,this._domNode.hasAttribute(p)){let b="";this._domNode.classList&&(b=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${b?": "+b:""}`)}this._domNode.setAttribute(p,String(this._myContextId))}}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){var m;this._onDidChangeContext.dispose(),this._isDisposed=!0,this._parent.disposeContext(this._myContextId),(m=this._parentChangeListener)===null||m===void 0||m.dispose(),this._domNode&&(this._domNode.removeAttribute(p),this._domNode=void 0)}getContextValuesContainer(m){return this._isDisposed?u.INSTANCE:this._parent.getContextValuesContainer(m)}createChildContext(m=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(m)}disposeContext(m){this._isDisposed||this._parent.disposeContext(m)}}function h(_){for(;_;){if(_.hasAttribute(p)){const m=_.getAttribute(p);return m?parseInt(m,10):NaN}_=_.parentElement}return 0}S.CommandsRegistry.registerCommand(l.SET_CONTEXT_COMMAND_ID,function(_,m,g){_.get(l.IContextKeyService).createKey(String(m),g)})}),define(ee[86],te([0,1,39,16,26,33]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class S{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(f){if(M.OS===1){if(f&&f.win)return f.win}else if(M.OS===2){if(f&&f.mac)return f.mac}else if(f&&f.linux)return f.linux;return f}registerKeybindingRule(f){const p=S.bindToCurrentPlatform(f);if(p&&p.primary){const c=C.createKeybinding(p.primary,M.OS);c&&this._registerDefaultKeybinding(c,f.id,f.args,f.weight,0,f.when)}if(p&&Array.isArray(p.secondary))for(let c=0,u=p.secondary.length;c<u;c++){const a=p.secondary[c],r=C.createKeybinding(a,M.OS);r&&this._registerDefaultKeybinding(r,f.id,f.args,f.weight,-c-1,f.when)}}registerCommandAndKeybindingRule(f){this.registerKeybindingRule(f),k.CommandsRegistry.registerCommand(f)}static _mightProduceChar(f){return f>=21&&f<=30||f>=31&&f<=56?!0:f===80||f===81||f===82||f===83||f===84||f===85||f===86||f===110||f===111||f===87||f===88||f===89||f===90||f===91||f===92}_assertNoCtrlAlt(f,p){f.ctrlKey&&f.altKey&&!f.metaKey&&S._mightProduceChar(f.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",f," for ",p)}_registerDefaultKeybinding(f,p,c,u,a,r){M.OS===1&&this._assertNoCtrlAlt(f.parts[0],p),this._coreKeybindings.push({keybinding:f,command:p,commandArgs:c,when:r,weight1:u,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new S,e.Extensions={EditorModes:"platform.keybindingsRegistry"},w.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function v(l,f){return l.weight1!==f.weight1?l.weight1-f.weight1:l.command<f.command?-1:l.command>f.command?1:l.weight2-f.weight2}}),define(ee[564],te([0,1,18,428,86,429]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationEnablementContext=e.HistoryNavigationWidgetContext=void 0,e.HistoryNavigationWidgetContext="historyNavigationWidget",e.HistoryNavigationEnablementContext="historyNavigationEnabled";function S(u,a,r){new C.RawContextKey(r,a).bindTo(u)}function v(u,a){return u.createScoped(a.target)}function l(u,a){return u.getContext(document.activeElement).getValue(a)}function f(u,a){const r=v(u,a);S(r,a,e.HistoryNavigationWidgetContext);const d=new C.RawContextKey(e.HistoryNavigationEnablementContext,!0).bindTo(r);return{scopedContextKeyService:r,historyNavigationEnablement:d}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=f;let p=class extends M.FindInput{constructor(a,r,d,s,i=!1){super(a,r,i,d);this._register(f(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};p=Me([pe(3,C.IContextKeyService)],p),e.ContextScopedFindInput=p;let c=class extends w.ReplaceInput{constructor(a,r,d,s,i=!1){super(a,r,i,d);this._register(f(s,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};c=Me([pe(3,C.IContextKeyService)],c),e.ContextScopedReplaceInput=c,k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:C.ContextKeyExpr.and(C.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),C.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:16,secondary:[512|16],handler:(u,a)=>{const r=l(u.get(C.IContextKeyService),e.HistoryNavigationWidgetContext);r&&r.historyNavigator.showPreviousValue()}}),k.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:C.ContextKeyExpr.and(C.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),C.ContextKeyExpr.equals(e.HistoryNavigationEnablementContext,!0)),primary:18,secondary:[512|18],handler:(u,a)=>{const r=l(u.get(C.IContextKeyService),e.HistoryNavigationWidgetContext);r&&r.historyNavigator.showNextValue()}})}),define(ee[96],te([0,1,33,19,2]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var w;(function(v){v[v.PRESERVE=0]="PRESERVE",v[v.LAST=1]="LAST"})(w=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(l){return l.prefix.length===0?this.defaultProvider=l:this.providers.push(l),this.providers.sort((f,p)=>p.prefix.length-f.prefix.length),k.toDisposable(()=>{this.providers.splice(this.providers.indexOf(l),1),this.defaultProvider===l&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return M.coalesce([this.defaultProvider,...this.providers])}getQuickAccessProvider(l){return l&&this.providers.find(p=>l.startsWith(p.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,C.Registry.add(e.Extensions.Quickaccess,new S)}),define(ee[565],te([0,1,78,96,33,518,2]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=class at{constructor(f){this.quickInputService=f,this.registry=k.Registry.as(M.Extensions.Quickaccess)}provide(f){const p=new S.DisposableStore;p.add(f.onDidAccept(()=>{const[a]=f.selectedItems;a&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),p.add(f.onDidChangeValue(a=>{const r=this.registry.getQuickAccessProvider(a.substr(at.PREFIX.length));r&&r.prefix&&r.prefix!==at.PREFIX&&this.quickInputService.quickAccess.show(r.prefix,{preserveValue:!0})}));const{editorProviders:c,globalProviders:u}=this.getQuickAccessProviders();return f.items=c.length===0||u.length===0?[...c.length===0?u:c]:[{label:w.localize(0,null),type:"separator"},...u,{label:w.localize(1,null),type:"separator"},...c],p}getQuickAccessProviders(){const f=[],p=[];for(const c of this.registry.getQuickAccessProviders().sort((u,a)=>u.prefix.localeCompare(a.prefix)))if(c.prefix!==at.PREFIX)for(const u of c.helpEntries){const a=u.prefix||c.prefix,r=a||"\u2026";(u.needsEditor?p:f).push({prefix:a,label:r,ariaLabel:w.localize(2,null,r,u.description),description:u.description})}return{editorProviders:p,globalProviders:f}}};v.PREFIX="?",v=Me([pe(0,C.IQuickInputService)],v),e.HelpQuickAccessProvider=v}),define(ee[566],te([0,1,33,96,64,565]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),C.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:w.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(ee[567],te([0,1,78,2,96,33,23,9,88]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let f=class extends M.Disposable{constructor(c,u){super();this.quickInputService=c,this.instantiationService=u,this.registry=w.Registry.as(k.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(c="",u){var a;const[r,d]=this.getOrInstantiateProvider(c),s=this.visibleQuickAccess,i=s==null?void 0:s.descriptor;if(s&&d&&i===d){c!==d.prefix&&!(u==null?void 0:u.preserveValue)&&(s.picker.value=c),this.adjustValueSelection(s.picker,d,u);return}if(d&&!(u==null?void 0:u.preserveValue)){let h;if(s&&i&&i!==d){const _=s.value.substr(i.prefix.length);_&&(h=`${d.prefix}${_}`)}if(!h){const _=r==null?void 0:r.defaultFilterValue;_===k.DefaultQuickAccessFilterValue.LAST?h=this.lastAcceptedPickerValues.get(d):typeof _=="string"&&(h=`${d.prefix}${_}`)}typeof h=="string"&&(c=h)}const n=new M.DisposableStore,t=n.add(this.quickInputService.createQuickPick());t.value=c,this.adjustValueSelection(t,d,u),t.placeholder=d==null?void 0:d.placeholder,t.quickNavigate=u==null?void 0:u.quickNavigateConfiguration,t.hideInput=!!t.quickNavigate&&!s,(typeof(u==null?void 0:u.itemActivation)=="number"||(u==null?void 0:u.quickNavigateConfiguration))&&(t.itemActivation=(a=u==null?void 0:u.itemActivation)!==null&&a!==void 0?a:C.ItemActivation.SECOND),t.contextKey=d==null?void 0:d.contextKey,t.filterValue=h=>h.substring(d?d.prefix.length:0),(d==null?void 0:d.placeholder)&&(t.ariaLabel=d==null?void 0:d.placeholder);const o=this.registerPickerListeners(t,r,d,c,n);r&&n.add(r.provide(t,o)),t.show()}adjustValueSelection(c,u,a){var r;let d;(a==null?void 0:a.preserveValue)?d=[c.value.length,c.value.length]:d=[(r=u==null?void 0:u.prefix.length)!==null&&r!==void 0?r:0,c.value.length],c.valueSelection=d}registerPickerListeners(c,u,a,r,d){const s=this.visibleQuickAccess={picker:c,descriptor:a,value:r};d.add(M.toDisposable(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),d.add(c.onDidChangeValue(n=>{const[t]=this.getOrInstantiateProvider(n);t!==u?this.show(n,{preserveValue:!0}):s.value=n})),a&&d.add(c.onDidAccept(()=>{this.lastAcceptedPickerValues.set(a,c.value)}));const i=d.add(new S.CancellationTokenSource);return l.once(c.onDidHide)(()=>{c.selectedItems.length===0&&i.cancel(),d.dispose()}),i.token}getOrInstantiateProvider(c){const u=this.registry.getQuickAccessProvider(c);if(!u)return[void 0,void 0];let a=this.mapProviderToDescriptor.get(u);return a||(a=this.instantiationService.createInstance(u.ctor),this.mapProviderToDescriptor.set(u,a)),[a,u]}};f=Me([pe(0,C.IQuickInputService),pe(1,v.IInstantiationService)],f),e.QuickAccessController=f}),define(ee[79],te([0,1,9,6,2,20]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const S="__$__targetStorageMarker";e.IStorageService=C.createDecorator("storageService");var v;(function(p){p[p.NONE=0]="NONE",p[p.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class l extends k.Disposable{constructor(){super(...arguments);this._onDidChangeValue=this._register(new M.PauseableEmitter),this._onDidChangeTarget=this._register(new M.PauseableEmitter),this._onWillSaveState=this._register(new M.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(c,u){u===S?(c===0?this._globalKeyTargets=void 0:c===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:c})):this._onDidChangeValue.fire({scope:c,key:u,target:this.getKeyTargets(c)[u]})}store(c,u,a,r){if(w.isUndefinedOrNull(u)){this.remove(c,a);return}this.withPausedEmitters(()=>{this.updateKeyTarget(c,a,r),this.doStore(c,u,a)})}remove(c,u){this.withPausedEmitters(()=>{this.updateKeyTarget(c,u,void 0),this.doRemove(c,u)})}withPausedEmitters(c){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{c()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(c,u,a){const r=this.getKeyTargets(u);typeof a=="number"?r[c]!==a&&(r[c]=a,this.doStore(S,JSON.stringify(r),u)):typeof r[c]=="number"&&(delete r[c],this.doStore(S,JSON.stringify(r),u))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(c){return c===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(c){const u=this.get(S,c);if(u)try{return JSON.parse(u)}catch(a){}return Object.create(null)}}e.AbstractStorageService=l;class f extends l{constructor(){super(...arguments);this.globalCache=new Map,this.workspaceCache=new Map}getCache(c){return c===0?this.globalCache:this.workspaceCache}get(c,u,a){const r=this.getCache(u).get(c);return w.isUndefinedOrNull(r)?a:r}getBoolean(c,u,a){const r=this.getCache(u).get(c);return w.isUndefinedOrNull(r)?a:r==="true"}getNumber(c,u,a){const r=this.getCache(u).get(c);return w.isUndefinedOrNull(r)?a:parseInt(r,10)}doStore(c,u,a){const r=String(u);this.getCache(a).get(c)!==r&&(this.getCache(a).set(c,r),this.emitDidChangeValue(a,c))}doRemove(c,u){!this.getCache(u).delete(c)||this.emitDidChangeValue(u,c)}}e.InMemoryStorageService=f}),define(ee[568],te([0,1,9,74,247,51,79,3,15,88]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=C.createDecorator("ICodeLensCache");class p{constructor(a,r){this.lineCount=a,this.data=r}}let c=class{constructor(a){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new w.LRUCache(20,.75);const r="codelens/cache";l.runWhenIdle(()=>a.remove(r,1));const d="codelens/cache2",s=a.get(d,1,"{}");this._deserialize(s),f.once(a.onWillSaveState)(i=>{i.reason===S.WillSaveStateReason.SHUTDOWN&&a.store(d,this._serialize(),1,1)})}put(a,r){const d=r.lenses.map(n=>{var t;return{range:n.symbol.range,command:n.symbol.command&&{id:"",title:(t=n.symbol.command)===null||t===void 0?void 0:t.title}}}),s=new k.CodeLensModel;s.add({lenses:d,dispose:()=>{}},this._fakeProvider);const i=new p(a.getLineCount(),s);this._cache.set(a.uri.toString(),i)}get(a){const r=this._cache.get(a.uri.toString());return r&&r.lineCount===a.getLineCount()?r.data:void 0}delete(a){this._cache.delete(a.uri.toString())}_serialize(){const a=Object.create(null);for(const[r,d]of this._cache){const s=new Set;for(const i of d.data.lenses)s.add(i.symbol.range.startLineNumber);a[r]={lineCount:d.lineCount,lines:[...s.values()]}}return JSON.stringify(a)}_deserialize(a){try{const r=JSON.parse(a);for(const d in r){const s=r[d],i=[];for(const t of s.lines)i.push({range:new v.Range(t,1,t,11)});const n=new k.CodeLensModel;n.add({lenses:i,dispose(){}},this._fakeProvider),this._cache.set(d,new p(s.lineCount,n))}}catch(r){}}};c=Me([pe(0,S.IStorageService)],c),e.CodeLensCache=c,M.registerSingleton(e.ICodeLensCache,c)}),define(ee[569],te([0,1,51,79,17,2,15,9,46,74,57]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class c{constructor(i){this.name=i}select(i,n,t){if(t.length===0)return 0;let o=t[0].score[0];for(let h=0;h<t.length;h++){const{score:_,completion:m}=t[h];if(_[0]!==o)break;if(m.preselect)return h}return 0}}e.Memory=c;class u extends c{constructor(){super("first")}memorize(i,n,t){}toJSON(){}fromJSON(){}}e.NoMemory=u;class a extends c{constructor(){super("recentlyUsed");this._cache=new C.LRUCache(300,.66),this._seq=0}memorize(i,n,t){const o=`${i.getLanguageIdentifier().language}/${t.textLabel}`;this._cache.set(o,{touch:this._seq++,type:t.completion.kind,insertText:t.completion.insertText})}select(i,n,t){if(t.length===0)return 0;const o=i.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(o))return super.select(i,n,t);let h=t[0].score[0],_=-1,m=-1,g=-1;for(let b=0;b<t.length&&t[b].score[0]===h;b++){const y=`${i.getLanguageIdentifier().language}/${t[b].textLabel}`,L=this._cache.peek(y);if(L&&L.touch>g&&L.type===t[b].completion.kind&&L.insertText===t[b].completion.insertText&&(g=L.touch,m=b),t[b].completion.preselect&&_===-1)return _=b}return m!==-1?m:_!==-1?_:0}toJSON(){return this._cache.toJSON()}fromJSON(i){this._cache.clear();let n=0;for(const[t,o]of i)o.touch=n,o.type=typeof o.type=="number"?o.type:k.completionKindFromString(o.type),this._cache.set(t,o);this._seq=this._cache.size}}e.LRUMemory=a;class r extends c{constructor(){super("recentlyUsedByPrefix");this._trie=C.TernarySearchTree.forStrings(),this._seq=0}memorize(i,n,t){const{word:o}=i.getWordUntilPosition(n),h=`${i.getLanguageIdentifier().language}/${o}`;this._trie.set(h,{type:t.completion.kind,insertText:t.completion.insertText,touch:this._seq++})}select(i,n,t){let{word:o}=i.getWordUntilPosition(n);if(!o)return super.select(i,n,t);let h=`${i.getLanguageIdentifier().language}/${o}`,_=this._trie.get(h);if(_||(_=this._trie.findSubstr(h)),_)for(let m=0;m<t.length;m++){let{kind:g,insertText:b}=t[m].completion;if(g===_.type&&b===_.insertText)return m}return super.select(i,n,t)}toJSON(){let i=[];return this._trie.forEach((n,t)=>i.push([t,n])),i.sort((n,t)=>-(n[1].touch-t[1].touch)).forEach((n,t)=>n[1].touch=t),i.slice(0,200)}fromJSON(i){if(this._trie.clear(),i.length>0){this._seq=i[0][1].touch+1;for(const[n,t]of i)t.type=typeof t.type=="number"?t.type:k.completionKindFromString(t.type),this._trie.set(n,t)}}}e.PrefixMemory=r;let d=class lt{constructor(i,n,t){this._storageService=i,this._modeService=n,this._configService=t,this._disposables=new w.DisposableStore,this._persistSoon=new S.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(i.onWillSaveState(o=>{o.reason===M.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(i,n,t){this._withStrategy(i,n).memorize(i,n,t),this._persistSoon.schedule()}select(i,n,t){return this._withStrategy(i,n).select(i,n,t)}_withStrategy(i,n){var t,o;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:(t=this._modeService.getLanguageIdentifier(i.getLanguageIdAtPosition(n.lineNumber,n.column)))===null||t===void 0?void 0:t.language,resource:i.uri});if(((o=this._strategy)===null||o===void 0?void 0:o.name)!==h){this._saveState();const _=lt._strategyCtors.get(h)||u;this._strategy=new _;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${lt._storagePrefix}/${h}`,g);b&&this._strategy.fromJSON(JSON.parse(b))}catch(m){}}return this._strategy}_saveState(){if(this._strategy){const n=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,t=JSON.stringify(this._strategy);this._storageService.store(`${lt._storagePrefix}/${this._strategy.name}`,t,n,1)}}};d._strategyCtors=new Map([["recentlyUsedByPrefix",r],["recentlyUsed",a],["first",u]]),d._storagePrefix="suggest/memories",d=Me([pe(0,M.IStorageService),pe(1,p.IModeService),pe(2,l.IConfigurationService)],d),e.SuggestMemoryService=d,e.ISuggestMemoryService=v.createDecorator("ISuggestMemories"),f.registerSingleton(e.ISuggestMemoryService,d,!0)}),define(ee[87],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=C.createDecorator("telemetryService")}),define(ee[570],te([0,1,517,554,2,66,20,51,79,46,9,37,26,87,11,32,433]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let i=class dt extends M.PickerQuickAccessProvider{constructor(o,h,_,m,g,b){super(dt.PREFIX,o);this.options=o,this.instantiationService=h,this.keybindingService=_,this.commandService=m,this.telemetryService=g,this.notificationService=b,this.commandsHistory=this._register(this.instantiationService.createInstance(n))}getPicks(o,h,_){return Ie(this,void 0,void 0,function*(){const m=yield this.getCommandPicks(h,_);if(_.isCancellationRequested)return[];const g=[];for(const D of m){const N=S.withNullAsUndefined(dt.WORD_FILTER(o,D.label)),I=D.commandAlias?S.withNullAsUndefined(dt.WORD_FILTER(o,D.commandAlias)):void 0;N||I?(D.highlights={label:N,detail:this.options.showAlias?I:void 0},g.push(D)):o===D.commandId&&g.push(D)}const b=new Map;for(const D of g){const N=b.get(D.label);N?(D.description=D.commandId,N.description=N.commandId):b.set(D.label,D)}g.sort((D,N)=>{const I=this.commandsHistory.peek(D.commandId),T=this.commandsHistory.peek(N.commandId);return I&&T?I>T?-1:1:I?-1:T?1:D.label.localeCompare(N.label)});const y=[];let L=!1;for(let D=0;D<g.length;D++){const N=g[D],I=this.keybindingService.lookupKeybinding(N.commandId),T=I?C.localize(0,null,N.label,I.getAriaLabel()):N.label;D===0&&this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:C.localize(1,null)}),L=!0),D!==0&&L&&!this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:C.localize(2,null)}),L=!1),y.push(Object.assign(Object.assign({},N),{ariaLabel:T,detail:this.options.showAlias&&N.commandAlias!==N.label?N.commandAlias:void 0,keybinding:I,accept:()=>Ie(this,void 0,void 0,function*(){this.commandsHistory.push(N.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:N.commandId,from:"quick open"});try{yield this.commandService.executeCommand(N.commandId)}catch(O){r.isPromiseCanceledError(O)||this.notificationService.error(C.localize(3,null,N.label,s.toErrorMessage(O)))}})}))}return y})}};i.PREFIX=">",i.WORD_FILTER=w.or(w.matchesPrefix,w.matchesWords,w.matchesContiguousSubString),i=Me([pe(1,p.IInstantiationService),pe(2,c.IKeybindingService),pe(3,u.ICommandService),pe(4,a.ITelemetryService),pe(5,d.INotificationService)],i),e.AbstractCommandsQuickAccessProvider=i;let n=class $e extends k.Disposable{constructor(o,h){super();this.storageService=o,this.configurationService=h,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=$e.getConfiguredCommandHistoryLength(this.configurationService),$e.cache&&$e.cache.limit!==this.configuredCommandsHistoryLength&&($e.cache.limit=this.configuredCommandsHistoryLength,$e.saveState(this.storageService))}load(){const o=this.storageService.get($e.PREF_KEY_CACHE,0);let h;if(o)try{h=JSON.parse(o)}catch(m){}const _=$e.cache=new v.LRUCache(this.configuredCommandsHistoryLength,1);if(h){let m;h.usesLRU?m=h.entries:m=h.entries.sort((g,b)=>g.value-b.value),m.forEach(g=>_.set(g.key,g.value))}$e.counter=this.storageService.getNumber($e.PREF_KEY_COUNTER,0,$e.counter)}push(o){!$e.cache||($e.cache.set(o,$e.counter++),$e.saveState(this.storageService))}peek(o){var h;return(h=$e.cache)===null||h===void 0?void 0:h.peek(o)}static saveState(o){if(!!$e.cache){const h={usesLRU:!0,entries:[]};$e.cache.forEach((_,m)=>h.entries.push({key:m,value:_})),o.store($e.PREF_KEY_CACHE,JSON.stringify(h),0,0),o.store($e.PREF_KEY_COUNTER,$e.counter,0,0)}}static getConfiguredCommandHistoryLength(o){var h,_;const g=(_=(h=o.getValue().workbench)===null||h===void 0?void 0:h.commandPalette)===null||_===void 0?void 0:_.history;return typeof g=="number"?g:$e.DEFAULT_COMMANDS_HISTORY_LENGTH}};n.DEFAULT_COMMANDS_HISTORY_LENGTH=50,n.PREF_KEY_CACHE="commandPalette.mru.cache",n.PREF_KEY_COUNTER="commandPalette.mru.counter",n.counter=1,n=Me([pe(0,l.IStorageService),pe(1,f.IConfigurationService)],n),e.CommandsHistory=n}),define(ee[571],te([0,1,570,102]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends C.AbstractCommandsQuickAccessProvider{constructor(S,v,l,f,p,c){super(S,v,l,f,p,c)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const v=[];for(const l of S.getSupportedActions())v.push({commandId:l.id,commandAlias:l.alias,label:M.stripIcons(l.label)||l.id});return v}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(ee[22],te([0,1,33,29,6,519,183,15]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.oneOf=e.transparent=e.lighten=e.darken=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.treeIndentGuidesStroke=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusBackground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlineHintBackground=e.editorInlineHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.selectForeground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textLinkForeground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.errorForeground=e.foreground=e.registerColor=e.Extensions=void 0,e.Extensions={ColorContribution:"base.contributions.colors"};class l{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(o,h,_,m=!1,g){let b={id:o,description:_,defaults:h,needsTransparency:m,deprecationMessage:g};this.colorsById[o]=b;let y={type:"string",description:_,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return g&&(y.deprecationMessage=g),this.colorSchema.properties[o]=y,this.colorReferenceSchema.enum.push(o),this.colorReferenceSchema.enumDescriptions.push(_),this._onDidChangeSchema.fire(),o}resolveDefaultColor(o,h){const _=this.colorsById[o];if(_&&_.defaults){const m=_.defaults[h.type];return s(m,h)}}getColorSchema(){return this.colorSchema}toString(){let o=(h,_)=>{let m=h.indexOf(".")===-1?0:1,g=_.indexOf(".")===-1?0:1;return m!==g?m-g:h.localeCompare(_)};return Object.keys(this.colorsById).sort(o).map(h=>`- \`${h}\`: ${this.colorsById[h].description}`).join(`
`)}}const f=new l;C.Registry.add(e.Extensions.ColorContribution,f);function p(t,o,h,_,m){return f.registerColor(t,o,h,_,m)}e.registerColor=p,e.foreground=p("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},w.localize(0,null)),e.errorForeground=p("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},w.localize(1,null)),e.iconForeground=p("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},w.localize(2,null)),e.focusBorder=p("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},w.localize(3,null)),e.contrastBorder=p("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},w.localize(4,null)),e.activeContrastBorder=p("contrastActiveBorder",{light:null,dark:null,hc:e.focusBorder},w.localize(5,null)),e.textLinkForeground=p("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},w.localize(6,null)),e.textCodeBlockBackground=p("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:M.Color.black},w.localize(7,null)),e.widgetShadow=p("widget.shadow",{dark:a(M.Color.black,.36),light:a(M.Color.black,.16),hc:null},w.localize(8,null)),e.inputBackground=p("input.background",{dark:"#3C3C3C",light:M.Color.white,hc:M.Color.black},w.localize(9,null)),e.inputForeground=p("input.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(10,null)),e.inputBorder=p("input.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(11,null)),e.inputActiveOptionBorder=p("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:e.contrastBorder},w.localize(12,null)),e.inputActiveOptionBackground=p("inputOption.activeBackground",{dark:a(e.focusBorder,.4),light:a(e.focusBorder,.2),hc:M.Color.transparent},w.localize(13,null)),e.inputActiveOptionForeground=p("inputOption.activeForeground",{dark:M.Color.white,light:M.Color.black,hc:null},w.localize(14,null)),e.inputValidationInfoBackground=p("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:M.Color.black},w.localize(15,null)),e.inputValidationInfoForeground=p("inputValidation.infoForeground",{dark:null,light:null,hc:null},w.localize(16,null)),e.inputValidationInfoBorder=p("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:e.contrastBorder},w.localize(17,null)),e.inputValidationWarningBackground=p("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:M.Color.black},w.localize(18,null)),e.inputValidationWarningForeground=p("inputValidation.warningForeground",{dark:null,light:null,hc:null},w.localize(19,null)),e.inputValidationWarningBorder=p("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:e.contrastBorder},w.localize(20,null)),e.inputValidationErrorBackground=p("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:M.Color.black},w.localize(21,null)),e.inputValidationErrorForeground=p("inputValidation.errorForeground",{dark:null,light:null,hc:null},w.localize(22,null)),e.inputValidationErrorBorder=p("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(23,null)),e.selectBackground=p("dropdown.background",{dark:"#3C3C3C",light:M.Color.white,hc:M.Color.black},w.localize(24,null)),e.selectForeground=p("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:M.Color.white},w.localize(25,null)),e.buttonForeground=p("button.foreground",{dark:M.Color.white,light:M.Color.white,hc:M.Color.white},w.localize(26,null)),e.buttonBackground=p("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},w.localize(27,null)),e.buttonHoverBackground=p("button.hoverBackground",{dark:u(e.buttonBackground,.2),light:c(e.buttonBackground,.2),hc:null},w.localize(28,null)),e.badgeBackground=p("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:M.Color.black},w.localize(29,null)),e.badgeForeground=p("badge.foreground",{dark:M.Color.white,light:"#333",hc:M.Color.white},w.localize(30,null)),e.scrollbarShadow=p("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},w.localize(31,null)),e.scrollbarSliderBackground=p("scrollbarSlider.background",{dark:M.Color.fromHex("#797979").transparent(.4),light:M.Color.fromHex("#646464").transparent(.4),hc:a(e.contrastBorder,.6)},w.localize(32,null)),e.scrollbarSliderHoverBackground=p("scrollbarSlider.hoverBackground",{dark:M.Color.fromHex("#646464").transparent(.7),light:M.Color.fromHex("#646464").transparent(.7),hc:a(e.contrastBorder,.8)},w.localize(33,null)),e.scrollbarSliderActiveBackground=p("scrollbarSlider.activeBackground",{dark:M.Color.fromHex("#BFBFBF").transparent(.4),light:M.Color.fromHex("#000000").transparent(.6),hc:e.contrastBorder},w.localize(34,null)),e.progressBarBackground=p("progressBar.background",{dark:M.Color.fromHex("#0E70C0"),light:M.Color.fromHex("#0E70C0"),hc:e.contrastBorder},w.localize(35,null)),e.editorErrorBackground=p("editorError.background",{dark:null,light:null,hc:null},w.localize(36,null),!0),e.editorErrorForeground=p("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},w.localize(37,null)),e.editorErrorBorder=p("editorError.border",{dark:null,light:null,hc:M.Color.fromHex("#E47777").transparent(.8)},w.localize(38,null)),e.editorWarningBackground=p("editorWarning.background",{dark:null,light:null,hc:null},w.localize(39,null),!0),e.editorWarningForeground=p("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},w.localize(40,null)),e.editorWarningBorder=p("editorWarning.border",{dark:null,light:null,hc:M.Color.fromHex("#FFCC00").transparent(.8)},w.localize(41,null)),e.editorInfoBackground=p("editorInfo.background",{dark:null,light:null,hc:null},w.localize(42,null),!0),e.editorInfoForeground=p("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},w.localize(43,null)),e.editorInfoBorder=p("editorInfo.border",{dark:null,light:null,hc:M.Color.fromHex("#75BEFF").transparent(.8)},w.localize(44,null)),e.editorHintForeground=p("editorHint.foreground",{dark:M.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},w.localize(45,null)),e.editorHintBorder=p("editorHint.border",{dark:null,light:null,hc:M.Color.fromHex("#eeeeee").transparent(.8)},w.localize(46,null)),e.editorBackground=p("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:M.Color.black},w.localize(47,null)),e.editorForeground=p("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:M.Color.white},w.localize(48,null)),e.editorWidgetBackground=p("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},w.localize(49,null)),e.editorWidgetForeground=p("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hc:e.foreground},w.localize(50,null)),e.editorWidgetBorder=p("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:e.contrastBorder},w.localize(51,null)),e.editorWidgetResizeBorder=p("editorWidget.resizeBorder",{light:null,dark:null,hc:null},w.localize(52,null)),e.quickInputBackground=p("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(53,null)),e.quickInputForeground=p("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(54,null)),e.quickInputTitleBackground=p("quickInputTitle.background",{dark:new M.Color(new M.RGBA(255,255,255,.105)),light:new M.Color(new M.RGBA(0,0,0,.06)),hc:"#000000"},w.localize(55,null)),e.pickerGroupForeground=p("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:M.Color.white},w.localize(56,null)),e.pickerGroupBorder=p("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:M.Color.white},w.localize(57,null)),e.editorSelectionBackground=p("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},w.localize(58,null)),e.editorSelectionForeground=p("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},w.localize(59,null)),e.editorInactiveSelection=p("editor.inactiveSelectionBackground",{light:a(e.editorSelectionBackground,.5),dark:a(e.editorSelectionBackground,.5),hc:a(e.editorSelectionBackground,.5)},w.localize(60,null),!0),e.editorSelectionHighlight=p("editor.selectionHighlightBackground",{light:d(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:d(e.editorSelectionBackground,e.editorBackground,.3,.6),hc:null},w.localize(61,null),!0),e.editorSelectionHighlightBorder=p("editor.selectionHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(62,null)),e.editorFindMatch=p("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},w.localize(63,null)),e.editorFindMatchHighlight=p("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},w.localize(64,null),!0),e.editorFindRangeHighlight=p("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},w.localize(65,null),!0),e.editorFindMatchBorder=p("editor.findMatchBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(66,null)),e.editorFindMatchHighlightBorder=p("editor.findMatchHighlightBorder",{light:null,dark:null,hc:e.activeContrastBorder},w.localize(67,null)),e.editorFindRangeHighlightBorder=p("editor.findRangeHighlightBorder",{dark:null,light:null,hc:a(e.activeContrastBorder,.4)},w.localize(68,null),!0),e.editorHoverHighlight=p("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},w.localize(69,null),!0),e.editorHoverBackground=p("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hc:e.editorWidgetBackground},w.localize(70,null)),e.editorHoverForeground=p("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hc:e.editorWidgetForeground},w.localize(71,null)),e.editorHoverBorder=p("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hc:e.editorWidgetBorder},w.localize(72,null)),e.editorHoverStatusBarBackground=p("editorHoverWidget.statusBarBackground",{dark:u(e.editorHoverBackground,.2),light:c(e.editorHoverBackground,.05),hc:e.editorWidgetBackground},w.localize(73,null)),e.editorActiveLinkForeground=p("editorLink.activeForeground",{dark:"#4E94CE",light:M.Color.blue,hc:M.Color.cyan},w.localize(74,null)),e.editorInlineHintForeground=p("editorInlineHint.foreground",{dark:e.editorWidgetBackground,light:e.editorWidgetForeground,hc:e.editorWidgetBackground},w.localize(75,null)),e.editorInlineHintBackground=p("editorInlineHint.background",{dark:e.editorWidgetForeground,light:e.editorWidgetBackground,hc:e.editorWidgetForeground},w.localize(76,null)),e.editorLightBulbForeground=p("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},w.localize(77,null)),e.editorLightBulbAutoFixForeground=p("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},w.localize(78,null)),e.defaultInsertColor=new M.Color(new M.RGBA(155,185,85,.2)),e.defaultRemoveColor=new M.Color(new M.RGBA(255,0,0,.2)),e.diffInserted=p("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hc:null},w.localize(79,null),!0),e.diffRemoved=p("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hc:null},w.localize(80,null),!0),e.diffInsertedOutline=p("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},w.localize(81,null)),e.diffRemovedOutline=p("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},w.localize(82,null)),e.diffBorder=p("diffEditor.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(83,null)),e.diffDiagonalFill=p("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},w.localize(84,null)),e.listFocusBackground=p("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},w.localize(85,null)),e.listFocusForeground=p("list.focusForeground",{dark:null,light:null,hc:null},w.localize(86,null)),e.listActiveSelectionBackground=p("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},w.localize(87,null)),e.listActiveSelectionForeground=p("list.activeSelectionForeground",{dark:M.Color.white,light:M.Color.white,hc:null},w.localize(88,null)),e.listInactiveSelectionBackground=p("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},w.localize(89,null)),e.listInactiveSelectionForeground=p("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},w.localize(90,null)),e.listInactiveFocusBackground=p("list.inactiveFocusBackground",{dark:null,light:null,hc:null},w.localize(91,null)),e.listHoverBackground=p("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},w.localize(92,null)),e.listHoverForeground=p("list.hoverForeground",{dark:null,light:null,hc:null},w.localize(93,null)),e.listDropBackground=p("list.dropBackground",{dark:e.listFocusBackground,light:e.listFocusBackground,hc:null},w.localize(94,null)),e.listHighlightForeground=p("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:e.focusBorder},w.localize(95,null)),e.listFilterWidgetBackground=p("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:M.Color.black},w.localize(96,null)),e.listFilterWidgetOutline=p("listFilterWidget.outline",{dark:M.Color.transparent,light:M.Color.transparent,hc:"#f38518"},w.localize(97,null)),e.listFilterWidgetNoMatchesOutline=p("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:e.contrastBorder},w.localize(98,null)),e.treeIndentGuidesStroke=p("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},w.localize(99,null)),e.menuBorder=p("menu.border",{dark:null,light:null,hc:e.contrastBorder},w.localize(100,null)),e.menuForeground=p("menu.foreground",{dark:e.selectForeground,light:e.foreground,hc:e.selectForeground},w.localize(101,null)),e.menuBackground=p("menu.background",{dark:e.selectBackground,light:e.selectBackground,hc:e.selectBackground},w.localize(102,null)),e.menuSelectionForeground=p("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hc:e.listActiveSelectionForeground},w.localize(103,null)),e.menuSelectionBackground=p("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hc:e.listActiveSelectionBackground},w.localize(104,null)),e.menuSelectionBorder=p("menu.selectionBorder",{dark:null,light:null,hc:e.activeContrastBorder},w.localize(105,null)),e.menuSeparatorBackground=p("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:e.contrastBorder},w.localize(106,null)),e.snippetTabstopHighlightBackground=p("editor.snippetTabstopHighlightBackground",{dark:new M.Color(new M.RGBA(124,124,124,.3)),light:new M.Color(new M.RGBA(10,50,100,.2)),hc:new M.Color(new M.RGBA(124,124,124,.3))},w.localize(107,null)),e.snippetTabstopHighlightBorder=p("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},w.localize(108,null)),e.snippetFinalTabstopHighlightBackground=p("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},w.localize(109,null)),e.snippetFinalTabstopHighlightBorder=p("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new M.Color(new M.RGBA(10,50,100,.5)),hc:"#525252"},w.localize(110,null)),e.overviewRulerFindMatchForeground=p("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},w.localize(111,null),!0),e.overviewRulerSelectionHighlightForeground=p("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},w.localize(112,null),!0),e.minimapFindMatch=p("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},w.localize(113,null),!0),e.minimapSelection=p("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},w.localize(114,null),!0),e.minimapError=p("minimap.errorHighlight",{dark:new M.Color(new M.RGBA(255,18,18,.7)),light:new M.Color(new M.RGBA(255,18,18,.7)),hc:new M.Color(new M.RGBA(255,50,50,1))},w.localize(115,null)),e.minimapWarning=p("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningBorder},w.localize(116,null)),e.minimapBackground=p("minimap.background",{dark:null,light:null,hc:null},w.localize(117,null)),e.minimapSliderBackground=p("minimapSlider.background",{light:a(e.scrollbarSliderBackground,.5),dark:a(e.scrollbarSliderBackground,.5),hc:a(e.scrollbarSliderBackground,.5)},w.localize(118,null)),e.minimapSliderHoverBackground=p("minimapSlider.hoverBackground",{light:a(e.scrollbarSliderHoverBackground,.5),dark:a(e.scrollbarSliderHoverBackground,.5),hc:a(e.scrollbarSliderHoverBackground,.5)},w.localize(119,null)),e.minimapSliderActiveBackground=p("minimapSlider.activeBackground",{light:a(e.scrollbarSliderActiveBackground,.5),dark:a(e.scrollbarSliderActiveBackground,.5),hc:a(e.scrollbarSliderActiveBackground,.5)},w.localize(120,null)),e.problemsErrorIconForeground=p("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hc:e.editorErrorForeground},w.localize(121,null)),e.problemsWarningIconForeground=p("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hc:e.editorWarningForeground},w.localize(122,null)),e.problemsInfoIconForeground=p("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hc:e.editorInfoForeground},w.localize(123,null));function c(t,o){return h=>{let _=s(t,h);if(_)return _.darken(o)}}e.darken=c;function u(t,o){return h=>{let _=s(t,h);if(_)return _.lighten(o)}}e.lighten=u;function a(t,o){return h=>{let _=s(t,h);if(_)return _.transparent(o)}}e.transparent=a;function r(...t){return o=>{for(let h of t){let _=s(h,o);if(_)return _}}}e.oneOf=r;function d(t,o,h,_){return m=>{let g=s(t,m);if(g){let b=s(o,m);return b?g.isDarkerThan(b)?M.Color.getLighterColor(g,b,h).transparent(_):M.Color.getDarkerColor(g,b,h).transparent(_):g.transparent(h*_)}}}function s(t,o){if(t!==null){if(typeof t=="string")return t[0]==="#"?M.Color.fromHex(t):o.getColor(t);if(t instanceof M.Color)return t;if(typeof t=="function")return t(o)}}e.resolveColorValue=s,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let i=C.Registry.as(S.Extensions.JSONContribution);i.registerSchema(e.workbenchColorsSchemaId,f.getColorSchema());const n=new v.RunOnceScheduler(()=>i.notifySchemaChanged(e.workbenchColorsSchemaId),200);f.onDidChangeSchema(()=>{n.isScheduled()||n.schedule()})}),define(ee[115],te([0,1,22]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function M(l,f){const p=Object.create(null);for(let c in f){const u=f[c];u&&(p[c]=C.resolveColorValue(u,l))}return p}e.computeStyles=M;function k(l,f,p){function c(u){const a=M(l.getColorTheme(),f);typeof p=="function"?p(a):p.style(a)}return c(l.getColorTheme()),l.onDidColorThemeChange(c)}e.attachStyler=k;function w(l,f,p){return k(f,{badgeBackground:p&&p.badgeBackground||C.badgeBackground,badgeForeground:p&&p.badgeForeground||C.badgeForeground,badgeBorder:C.contrastBorder},l)}e.attachBadgeStyler=w;function S(l,f,p){return k(f,Object.assign(Object.assign({},e.defaultListStyles),p||{}),l)}e.attachListStyler=S,e.defaultListStyles={listFocusBackground:C.listFocusBackground,listFocusForeground:C.listFocusForeground,listActiveSelectionBackground:C.darken(C.listActiveSelectionBackground,.1),listActiveSelectionForeground:C.listActiveSelectionForeground,listFocusAndSelectionBackground:C.listActiveSelectionBackground,listFocusAndSelectionForeground:C.listActiveSelectionForeground,listInactiveSelectionBackground:C.listInactiveSelectionBackground,listInactiveSelectionForeground:C.listInactiveSelectionForeground,listInactiveFocusBackground:C.listInactiveFocusBackground,listHoverBackground:C.listHoverBackground,listHoverForeground:C.listHoverForeground,listDropBackground:C.listDropBackground,listFocusOutline:C.activeContrastBorder,listSelectionOutline:C.activeContrastBorder,listHoverOutline:C.activeContrastBorder,listFilterWidgetBackground:C.listFilterWidgetBackground,listFilterWidgetOutline:C.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:C.listFilterWidgetNoMatchesOutline,listMatchesShadow:C.widgetShadow,treeIndentGuidesStroke:C.treeIndentGuidesStroke},e.defaultMenuStyles={shadowColor:C.widgetShadow,borderColor:C.menuBorder,foregroundColor:C.menuForeground,backgroundColor:C.menuBackground,selectionForegroundColor:C.menuSelectionForeground,selectionBackgroundColor:C.menuSelectionBackground,selectionBorderColor:C.menuSelectionBorder,separatorColor:C.menuSeparatorBackground};function v(l,f,p){return k(f,Object.assign(Object.assign({},e.defaultMenuStyles),p),l)}e.attachMenuStyler=v}),define(ee[572],te([0,1,48,2,430,7,115,55,50,356]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class f{constructor(c,u,a,r,d){this.contextViewService=c,this.telemetryService=u,this.notificationService=a,this.keybindingService=r,this.themeService=d,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(c){this.options=c}showContextMenu(c){const u=c.getActions();if(!!u.length){this.focusToReturn=document.activeElement;let a,r=w.isHTMLElement(c.domForShadowRoot)?c.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>c.getAnchor(),canRelayout:!1,anchorAlignment:c.anchorAlignment,anchorAxisAlignment:c.anchorAxisAlignment,render:d=>{let s=c.getMenuClassName?c.getMenuClassName():"";s&&(d.className+=" "+s),this.options.blockMouse&&(this.block=d.appendChild(w.$(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",v.domEvent(this.block,w.EventType.MOUSE_DOWN)(t=>t.stopPropagation()));const i=new M.DisposableStore,n=c.actionRunner||new C.ActionRunner;return n.onBeforeRun(this.onActionRun,this,i),n.onDidRun(this.onDidActionRun,this,i),a=new k.Menu(d,u,{actionViewItemProvider:c.getActionViewItem,context:c.getActionsContext?c.getActionsContext():null,actionRunner:n,getKeyBinding:c.getKeyBinding?c.getKeyBinding:t=>this.keybindingService.lookupKeybinding(t.id)}),i.add(S.attachMenuStyler(a,this.themeService)),a.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,i),a.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,i),v.domEvent(window,w.EventType.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,i),v.domEvent(window,w.EventType.MOUSE_DOWN)(t=>{if(!t.defaultPrevented){let o=new l.StandardMouseEvent(t),h=o.target;if(!o.rightButton){for(;h;){if(h===d)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}}},null,i),M.combinedDisposable(i,a)},focus:()=>{a&&a.focus(!!c.autoSelectFirstItem)},onHide:d=>{c.onHide&&c.onHide(!!d),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}}onActionRun(c){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(c){c.error&&this.notificationService.error(c.error)}}e.ContextMenuHandler=f}),define(ee[97],te([0,1]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var C;(function(M){M.DARK="dark",M.LIGHT="light",M.HIGH_CONTRAST="hc"})(C=e.ColorScheme||(e.ColorScheme={}))}),define(ee[253],te([0,1,34,30,16,380,109,170,130,97,38]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const c=function(){return k.isNative?!0:!(k.isLinux||C.isFirefox||C.isSafari)}();let u=!0;const a=C.isEdgeLegacy;class r{constructor(g,b){this._domNode=g,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=b}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}e.DomReadingContext=r;class d{constructor(g,b){this.themeType=b;const y=g.options,L=y.get(38);this.renderWhitespace=y.get(83),this.renderControlCharacters=y.get(77),this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.useMonospaceOptimizations=L.isMonospace&&!y.get(26),this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.lineHeight=y.get(53),this.stopRenderingLineAfter=y.get(100),this.fontLigatures=y.get(39)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=d;class s{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=M.createFastDomNode(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return a||this._options.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,b,y,L){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const D=y.getViewLineRenderingData(g),N=this._options,I=v.LineDecoration.filter(D.inlineDecorations,g,D.minColumn,D.maxColumn);let T=null;if(a||N.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const E=y.selections;for(const W of E)if(!(W.endLineNumber<g||W.startLineNumber>g)){const R=W.startLineNumber===g?W.startColumn:D.minColumn,F=W.endLineNumber===g?W.endColumn:D.maxColumn;R<F&&(N.themeType===f.ColorScheme.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?I.push(new v.LineDecoration(R,F,"inline-selected-text",0)):(T||(T=[]),T.push(new l.LineRange(R-1,F-1))))}}const O=new l.RenderLineInput(N.useMonospaceOptimizations,N.canUseHalfwidthRightwardsArrow,D.content,D.continuesWithWrappedLine,D.isBasicASCII,D.containsRTL,D.minColumn-1,D.tokens,I,D.tabSize,D.startVisibleColumn,N.spaceWidth,N.middotWidth,N.wsmiddotWidth,N.stopRenderingLineAfter,N.renderWhitespace,N.renderControlCharacters,N.fontLigatures!==p.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(O))return!1;L.appendASCIIString('<div style="top:'),L.appendASCIIString(String(b)),L.appendASCIIString("px;height:"),L.appendASCIIString(String(this._options.lineHeight)),L.appendASCIIString('px;" class="'),L.appendASCIIString(s.CLASS_NAME),L.appendASCIIString('">');const A=l.renderViewLine(O,L);L.appendASCIIString("</div>");let B=null;return u&&c&&D.isBasicASCII&&N.useMonospaceOptimizations&&A.containsForeignElements===0&&D.content.length<300&&O.lineTokens.getCount()<100&&(B=new i(this._renderedViewLine?this._renderedViewLine.domNode:null,O,A.characterMapping)),B||(B=o(this._renderedViewLine?this._renderedViewLine.domNode:null,O,A.characterMapping,A.containsRTL,A.containsForeignElements)),this._renderedViewLine=B,!0}layoutLine(g,b){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(b),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof i:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof i?this._renderedViewLine.monospaceAssumptionsAreValid():u}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof i&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,b,y){if(!this._renderedViewLine)return null;g=g|0,b=b|0,g=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,g)),b=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,b));const L=this._renderedViewLine.input.stopRenderingLineAfter|0;let D=!1;L!==-1&&g>L+1&&b>L+1&&(D=!0),L!==-1&&g>L+1&&(g=L+1),L!==-1&&b>L+1&&(b=L+1);const N=this._renderedViewLine.getVisibleRangesForRange(g,b,y);return N&&N.length>0?new S.VisibleRanges(D,N):null}getColumnOfNodeOffset(g,b,y){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,b,y):1}}e.ViewLine=s,s.CLASS_NAME="view-line";class i{constructor(g,b,y){this.domNode=g,this.input=b,this._characterMapping=y,this._charWidth=b.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return u;const g=this.getWidth(),b=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(g-b)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),u=!1),u}toSlowRenderedLine(){return o(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,b,y){const L=this._getCharPosition(g),D=this._getCharPosition(b);return[new S.HorizontalRange(L,D-L)]}_getCharPosition(g){const b=this._characterMapping.getAbsoluteOffsets();return b.length===0?0:Math.round(this._charWidth*b[g-1])}getColumnOfNodeOffset(g,b,y){const L=b.textContent.length;let D=-1;for(;b;)b=b.previousSibling,D++;return this._characterMapping.partDataToCharOffset(D,L,y)+1}}class n{constructor(g,b,y,L,D){if(this.domNode=g,this.input=b,this._characterMapping=y,this._isWhitespaceOnly=/^\s*$/.test(b.lineContent),this._containsForeignElements=D,this._cachedWidth=-1,this._pixelOffsetCache=null,!L||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let N=0,I=this._characterMapping.length;N<=I;N++)this._pixelOffsetCache[N]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,b,y){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const L=this._readPixelOffset(this.domNode,g,y);if(L===-1)return null;const D=this._readPixelOffset(this.domNode,b,y);return D===-1?null:[new S.HorizontalRange(L,D-L)]}return this._readVisibleRangesForRange(this.domNode,g,b,y)}_readVisibleRangesForRange(g,b,y,L){if(b===y){const D=this._readPixelOffset(g,b,L);return D===-1?null:[new S.HorizontalRange(D,0)]}else return this._readRawVisibleRangesForRange(g,b,y,L)}_readPixelOffset(g,b,y){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const L=this._getReadingTarget(g);return L.firstChild?L.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const L=this._pixelOffsetCache[b];if(L!==-1)return L;const D=this._actualReadPixelOffset(g,b,y);return this._pixelOffsetCache[b]=D,D}return this._actualReadPixelOffset(g,b,y)}_actualReadPixelOffset(g,b,y){if(this._characterMapping.length===0){const O=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,y.clientRectDeltaLeft,y.endNode);return!O||O.length===0?-1:O[0].left}if(b===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const L=this._characterMapping.charOffsetToPartData(b-1),D=l.CharacterMapping.getPartIndex(L),N=l.CharacterMapping.getCharIndex(L),I=w.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),D,N,D,N,y.clientRectDeltaLeft,y.endNode);if(!I||I.length===0)return-1;const T=I[0].left;if(this.input.isBasicASCII){const O=this._characterMapping.getAbsoluteOffsets(),A=Math.round(this.input.spaceWidth*O[b-1]);if(Math.abs(A-T)<=1)return A}return T}_readRawVisibleRangesForRange(g,b,y,L){if(b===1&&y===this._characterMapping.length)return[new S.HorizontalRange(0,this.getWidth())];const D=this._characterMapping.charOffsetToPartData(b-1),N=l.CharacterMapping.getPartIndex(D),I=l.CharacterMapping.getCharIndex(D),T=this._characterMapping.charOffsetToPartData(y-1),O=l.CharacterMapping.getPartIndex(T),A=l.CharacterMapping.getCharIndex(T);return w.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),N,I,O,A,L.clientRectDeltaLeft,L.endNode)}getColumnOfNodeOffset(g,b,y){const L=b.textContent.length;let D=-1;for(;b;)b=b.previousSibling,D++;return this._characterMapping.partDataToCharOffset(D,L,y)+1}}class t extends n{_readVisibleRangesForRange(g,b,y,L){const D=super._readVisibleRangesForRange(g,b,y,L);if(!D||D.length===0||b===y||b===1&&y===this._characterMapping.length)return D;if(!this.input.containsRTL){const N=this._readPixelOffset(g,y,L);if(N!==-1){const I=D[D.length-1];I.left<N&&(I.width=N-I.left)}}return D}}const o=function(){return C.isWebKit?h:_}();function h(m,g,b,y,L){return new t(m,g,b,y,L)}function _(m,g,b,y,L){return new n(m,g,b,y,L)}}),define(ee[185],te([0,1,34,162,45,253,13,3,42,7,239]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class c{constructor(m,g){this.lastViewCursorsRenderData=m,this.lastTextareaPosition=g}}e.PointerHandlerLastRenderData=c;class u{constructor(m,g,b=0,y=null,L=null,D=null){this.element=m,this.type=g,this.mouseColumn=b,this.position=y,!L&&y&&(L=new v.Range(y.lineNumber,y.column,y.lineNumber,y.column)),this.range=L,this.detail=D}static _typeToString(m){return m===1?"TEXTAREA":m===2?"GUTTER_GLYPH_MARGIN":m===3?"GUTTER_LINE_NUMBERS":m===4?"GUTTER_LINE_DECORATIONS":m===5?"GUTTER_VIEW_ZONE":m===6?"CONTENT_TEXT":m===7?"CONTENT_EMPTY":m===8?"CONTENT_VIEW_ZONE":m===9?"CONTENT_WIDGET":m===10?"OVERVIEW_RULER":m===11?"SCROLLBAR":m===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(m){return this._typeToString(m.type)+": "+m.position+" - "+m.range+" - "+m.detail}toString(){return u.toString(this)}}e.MouseTarget=u;class a{static isTextArea(m){return m.length===2&&m[0]===3&&m[1]===6}static isChildOfViewLines(m){return m.length>=4&&m[0]===3&&m[3]===7}static isStrictChildOfViewLines(m){return m.length>4&&m[0]===3&&m[3]===7}static isChildOfScrollableElement(m){return m.length>=2&&m[0]===3&&m[1]===5}static isChildOfMinimap(m){return m.length>=2&&m[0]===3&&m[1]===8}static isChildOfContentWidgets(m){return m.length>=4&&m[0]===3&&m[3]===1}static isChildOfOverflowingContentWidgets(m){return m.length>=1&&m[0]===2}static isChildOfOverlayWidgets(m){return m.length>=2&&m[0]===3&&m[1]===4}}class r{constructor(m,g,b){this.model=m.model;const y=m.configuration.options;this.layoutInfo=y.get(124),this.viewDomNode=g.viewDomNode,this.lineHeight=y.get(53),this.stickyTabStops=y.get(99),this.typicalHalfwidthCharacterWidth=y.get(38).typicalHalfwidthCharacterWidth,this.lastRenderData=b,this._context=m,this._viewHelper=g}getZoneAtCoord(m){return r.getZoneAtCoord(this._context,m)}static getZoneAtCoord(m,g){const b=m.viewLayout.getWhitespaceAtVerticalOffset(g);if(b){const y=b.verticalOffset+b.height/2,L=m.model.getLineCount();let D=null,N,I=null;return b.afterLineNumber!==L&&(I=new S.Position(b.afterLineNumber+1,1)),b.afterLineNumber>0&&(D=new S.Position(b.afterLineNumber,m.model.getLineMaxColumn(b.afterLineNumber))),I===null?N=D:D===null?N=I:g<y?N=D:N=I,{viewZoneId:b.id,afterLineNumber:b.afterLineNumber,positionBefore:D,positionAfter:I,position:N}}return null}getFullLineRangeAtCoord(m){if(this._context.viewLayout.isAfterLines(m)){const y=this._context.model.getLineCount(),L=this._context.model.getLineMaxColumn(y);return{range:new v.Range(y,L,y,L),isAfterLines:!0}}const g=this._context.viewLayout.getLineNumberAtVerticalOffset(m),b=this._context.model.getLineMaxColumn(g);return{range:new v.Range(g,1,g,b),isAfterLines:!1}}getLineNumberAtVerticalOffset(m){return this._context.viewLayout.getLineNumberAtVerticalOffset(m)}isAfterLines(m){return this._context.viewLayout.isAfterLines(m)}isInTopPadding(m){return this._context.viewLayout.isInTopPadding(m)}isInBottomPadding(m){return this._context.viewLayout.isInBottomPadding(m)}getVerticalOffsetForLineNumber(m){return this._context.viewLayout.getVerticalOffsetForLineNumber(m)}findAttribute(m,g){return r._findAttribute(m,g,this._viewHelper.viewDomNode)}static _findAttribute(m,g,b){for(;m&&m!==document.body;){if(m.hasAttribute&&m.hasAttribute(g))return m.getAttribute(g);if(m===b)return null;m=m.parentNode}return null}getLineWidth(m){return this._viewHelper.getLineWidth(m)}visibleRangeForPosition(m,g){return this._viewHelper.visibleRangeForPosition(m,g)}getPositionFromDOMInfo(m,g){return this._viewHelper.getPositionFromDOMInfo(m,g)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=r;class d{constructor(m,g,b){this.editorPos=g,this.pos=b,this.mouseVerticalOffset=Math.max(0,m.getCurrentScrollTop()+b.y-g.y),this.mouseContentHorizontalOffset=m.getCurrentScrollLeft()+b.x-g.x-m.layoutInfo.contentLeft,this.isInMarginArea=b.x-g.x<m.layoutInfo.contentLeft&&b.x-g.x>=m.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,t._getMouseColumn(this.mouseContentHorizontalOffset,m.typicalHalfwidthCharacterWidth))}}class s extends d{constructor(m,g,b,y){super(m,g,b);this._ctx=m,y?(this.target=y,this.targetPath=k.PartFingerprints.collect(y,m.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(m,g=null,b=null,y=null){let L=this.mouseColumn;return g&&g.column<this._ctx.model.getLineMaxColumn(g.lineNumber)&&(L=l.CursorColumns.visibleColumnFromColumn(this._ctx.model.getLineContent(g.lineNumber),g.column,this._ctx.model.getTextModelOptions().tabSize)+1),new u(this.target,m,L,g,b,y)}withTarget(m){return new s(this._ctx,this.editorPos,this.pos,m)}}const i={isAfterLines:!0};function n(_){return{isAfterLines:!1,horizontalDistanceToText:_}}class t{constructor(m,g){this._context=m,this._viewHelper=g}mouseTargetIsWidget(m){const g=m.target,b=k.PartFingerprints.collect(g,this._viewHelper.viewDomNode);return!!(a.isChildOfContentWidgets(b)||a.isChildOfOverflowingContentWidgets(b)||a.isChildOfOverlayWidgets(b))}createMouseTarget(m,g,b,y){const L=new r(this._context,this._viewHelper,m),D=new s(L,g,b,y);try{return t._createMouseTarget(L,D,!1)}catch(N){return D.fulfill(0)}}static _createMouseTarget(m,g,b){if(g.target===null){if(b)return g.fulfill(0);const D=t._doHitTest(m,g);return D.position?t.createMouseTargetFromHitTestPosition(m,g,D.position.lineNumber,D.position.column):this._createMouseTarget(m,g.withTarget(D.hitTarget),!0)}const y=g;let L=null;return L=L||t._hitTestContentWidget(m,y),L=L||t._hitTestOverlayWidget(m,y),L=L||t._hitTestMinimap(m,y),L=L||t._hitTestScrollbarSlider(m,y),L=L||t._hitTestViewZone(m,y),L=L||t._hitTestMargin(m,y),L=L||t._hitTestViewCursor(m,y),L=L||t._hitTestTextArea(m,y),L=L||t._hitTestViewLines(m,y,b),L=L||t._hitTestScrollbar(m,y),L||g.fulfill(0)}static _hitTestContentWidget(m,g){if(a.isChildOfContentWidgets(g.targetPath)||a.isChildOfOverflowingContentWidgets(g.targetPath)){const b=m.findAttribute(g.target,"widgetId");return b?g.fulfill(9,null,null,b):g.fulfill(0)}return null}static _hitTestOverlayWidget(m,g){if(a.isChildOfOverlayWidgets(g.targetPath)){const b=m.findAttribute(g.target,"widgetId");return b?g.fulfill(12,null,null,b):g.fulfill(0)}return null}static _hitTestViewCursor(m,g){if(g.target){const b=m.lastRenderData.lastViewCursorsRenderData;for(const y of b)if(g.target===y.domNode)return g.fulfill(6,y.position)}if(g.isInContentArea){const b=m.lastRenderData.lastViewCursorsRenderData,y=g.mouseContentHorizontalOffset,L=g.mouseVerticalOffset;for(const D of b)if(!(y<D.contentLeft)&&!(y>D.contentLeft+D.width)){const N=m.getVerticalOffsetForLineNumber(D.position.lineNumber);if(N<=L&&L<=N+D.height)return g.fulfill(6,D.position)}}return null}static _hitTestViewZone(m,g){const b=m.getZoneAtCoord(g.mouseVerticalOffset);if(b){const y=g.isInContentArea?8:5;return g.fulfill(y,b.position,null,b)}return null}static _hitTestTextArea(m,g){return a.isTextArea(g.targetPath)?m.lastRenderData.lastTextareaPosition?g.fulfill(6,m.lastRenderData.lastTextareaPosition):g.fulfill(1,m.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(m,g){if(g.isInMarginArea){const b=m.getFullLineRangeAtCoord(g.mouseVerticalOffset),y=b.range.getStartPosition();let L=Math.abs(g.pos.x-g.editorPos.x);const D={isAfterLines:b.isAfterLines,glyphMarginLeft:m.layoutInfo.glyphMarginLeft,glyphMarginWidth:m.layoutInfo.glyphMarginWidth,lineNumbersWidth:m.layoutInfo.lineNumbersWidth,offsetX:L};return L-=m.layoutInfo.glyphMarginLeft,L<=m.layoutInfo.glyphMarginWidth?g.fulfill(2,y,b.range,D):(L-=m.layoutInfo.glyphMarginWidth,L<=m.layoutInfo.lineNumbersWidth?g.fulfill(3,y,b.range,D):(L-=m.layoutInfo.lineNumbersWidth,g.fulfill(4,y,b.range,D)))}return null}static _hitTestViewLines(m,g,b){if(!a.isChildOfViewLines(g.targetPath))return null;if(m.isInTopPadding(g.mouseVerticalOffset))return g.fulfill(7,new S.Position(1,1),void 0,i);if(m.isAfterLines(g.mouseVerticalOffset)||m.isInBottomPadding(g.mouseVerticalOffset)){const L=m.model.getLineCount(),D=m.model.getLineMaxColumn(L);return g.fulfill(7,new S.Position(L,D),void 0,i)}if(b){if(a.isStrictChildOfViewLines(g.targetPath)){const L=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset);if(m.model.getLineLength(L)===0){const N=m.getLineWidth(L),I=n(g.mouseContentHorizontalOffset-N);return g.fulfill(7,new S.Position(L,1),void 0,I)}const D=m.getLineWidth(L);if(g.mouseContentHorizontalOffset>=D){const N=n(g.mouseContentHorizontalOffset-D),I=new S.Position(L,m.model.getLineMaxColumn(L));return g.fulfill(7,I,void 0,N)}}return g.fulfill(0)}const y=t._doHitTest(m,g);return y.position?t.createMouseTargetFromHitTestPosition(m,g,y.position.lineNumber,y.position.column):this._createMouseTarget(m,g.withTarget(y.hitTarget),!0)}static _hitTestMinimap(m,g){if(a.isChildOfMinimap(g.targetPath)){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),y=m.model.getLineMaxColumn(b);return g.fulfill(11,new S.Position(b,y))}return null}static _hitTestScrollbarSlider(m,g){if(a.isChildOfScrollableElement(g.targetPath)&&g.target&&g.target.nodeType===1){const b=g.target.className;if(b&&/\b(slider|scrollbar)\b/.test(b)){const y=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),L=m.model.getLineMaxColumn(y);return g.fulfill(11,new S.Position(y,L))}}return null}static _hitTestScrollbar(m,g){if(a.isChildOfScrollableElement(g.targetPath)){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),y=m.model.getLineMaxColumn(b);return g.fulfill(11,new S.Position(b,y))}return null}getMouseColumn(m,g){const b=this._context.configuration.options,y=b.get(124),L=this._context.viewLayout.getCurrentScrollLeft()+g.x-m.x-y.contentLeft;return t._getMouseColumn(L,b.get(38).typicalHalfwidthCharacterWidth)}static _getMouseColumn(m,g){return m<0?1:Math.round(m/g)+1}static createMouseTargetFromHitTestPosition(m,g,b,y){const L=new S.Position(b,y),D=m.getLineWidth(b);if(g.mouseContentHorizontalOffset>D){if(C.isEdgeLegacy&&L.column===1){const B=n(g.mouseContentHorizontalOffset-D);return g.fulfill(7,new S.Position(b,m.model.getLineMaxColumn(b)),void 0,B)}const A=n(g.mouseContentHorizontalOffset-D);return g.fulfill(7,L,void 0,A)}const N=m.visibleRangeForPosition(b,y);if(!N)return g.fulfill(0,L);const I=N.left;if(g.mouseContentHorizontalOffset===I)return g.fulfill(6,L);const T=[];if(T.push({offset:N.left,column:y}),y>1){const A=m.visibleRangeForPosition(b,y-1);A&&T.push({offset:A.left,column:y-1})}const O=m.model.getLineMaxColumn(b);if(y<O){const A=m.visibleRangeForPosition(b,y+1);A&&T.push({offset:A.left,column:y+1})}T.sort((A,B)=>A.offset-B.offset);for(let A=1;A<T.length;A++){const B=T[A-1],E=T[A];if(B.offset<=g.mouseContentHorizontalOffset&&g.mouseContentHorizontalOffset<=E.offset){const W=new v.Range(b,B.column,b,E.column);return g.fulfill(6,L,W)}}return g.fulfill(6,L)}static _doHitTestWithCaretRangeFromPoint(m,g){const b=m.getLineNumberAtVerticalOffset(g.mouseVerticalOffset),L=m.getVerticalOffsetForLineNumber(b)+Math.floor(m.lineHeight/2);let D=g.pos.y+(L-g.mouseVerticalOffset);D<=g.editorPos.y&&(D=g.editorPos.y+1),D>=g.editorPos.y+m.layoutInfo.height&&(D=g.editorPos.y+m.layoutInfo.height-1);const N=new M.PageCoordinates(g.pos.x,D),I=this._actualDoHitTestWithCaretRangeFromPoint(m,N.toClientCoordinates());return I.position?I:this._actualDoHitTestWithCaretRangeFromPoint(m,g.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(m,g){const b=f.getShadowRoot(m.viewDomNode);let y;if(b?typeof b.caretRangeFromPoint=="undefined"?y=o(b,g.clientX,g.clientY):y=b.caretRangeFromPoint(g.clientX,g.clientY):y=document.caretRangeFromPoint(g.clientX,g.clientY),!y||!y.startContainer)return{position:null,hitTarget:null};const L=y.startContainer;let D=null;if(L.nodeType===L.TEXT_NODE){const N=L.parentNode,I=N?N.parentNode:null,T=I?I.parentNode:null;if((T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===w.ViewLine.CLASS_NAME)return{position:m.getPositionFromDOMInfo(N,y.startOffset),hitTarget:null};D=L.parentNode}else if(L.nodeType===L.ELEMENT_NODE){const N=L.parentNode,I=N?N.parentNode:null;if((I&&I.nodeType===I.ELEMENT_NODE?I.className:null)===w.ViewLine.CLASS_NAME)return{position:m.getPositionFromDOMInfo(L,L.textContent.length),hitTarget:null};D=L}return{position:null,hitTarget:D}}static _doHitTestWithCaretPositionFromPoint(m,g){const b=document.caretPositionFromPoint(g.clientX,g.clientY);if(b.offsetNode.nodeType===b.offsetNode.TEXT_NODE){const y=b.offsetNode.parentNode,L=y?y.parentNode:null,D=L?L.parentNode:null;return(D&&D.nodeType===D.ELEMENT_NODE?D.className:null)===w.ViewLine.CLASS_NAME?{position:m.getPositionFromDOMInfo(b.offsetNode.parentNode,b.offset),hitTarget:null}:{position:null,hitTarget:b.offsetNode.parentNode}}if(b.offsetNode.nodeType===b.offsetNode.ELEMENT_NODE){const y=b.offsetNode.parentNode,L=y&&y.nodeType===y.ELEMENT_NODE?y.className:null,D=y?y.parentNode:null,N=D&&D.nodeType===D.ELEMENT_NODE?D.className:null;if(L===w.ViewLine.CLASS_NAME){const I=b.offsetNode.childNodes[Math.min(b.offset,b.offsetNode.childNodes.length-1)];if(I)return{position:m.getPositionFromDOMInfo(I,0),hitTarget:null}}else if(N===w.ViewLine.CLASS_NAME)return{position:m.getPositionFromDOMInfo(b.offsetNode,0),hitTarget:null}}return{position:null,hitTarget:b.offsetNode}}static _doHitTestWithMoveToPoint(m,g){let b=null,y=null;const L=document.body.createTextRange();try{L.moveToPoint(g.clientX,g.clientY)}catch(O){return{position:null,hitTarget:null}}L.collapse(!0);const D=L?L.parentElement():null,N=D?D.parentNode:null,I=N?N.parentNode:null;if((I&&I.nodeType===I.ELEMENT_NODE?I.className:"")===w.ViewLine.CLASS_NAME){const O=L.duplicate();O.moveToElementText(D),O.setEndPoint("EndToStart",L),b=m.getPositionFromDOMInfo(D,O.text.length),O.moveToElementText(m.viewDomNode)}else y=D;return L.moveToElementText(m.viewDomNode),{position:b,hitTarget:y}}static _snapToSoftTabBoundary(m,g){const b=g.getLineContent(m.lineNumber),{tabSize:y}=g.getTextModelOptions(),L=p.AtomicTabMoveOperations.atomicPosition(b,m.column-1,y,2);return L!==-1?new S.Position(m.lineNumber,L+1):m}static _doHitTest(m,g){let b;return typeof document.caretRangeFromPoint=="function"?b=this._doHitTestWithCaretRangeFromPoint(m,g):document.caretPositionFromPoint?b=this._doHitTestWithCaretPositionFromPoint(m,g.pos.toClientCoordinates()):document.body.createTextRange?b=this._doHitTestWithMoveToPoint(m,g.pos.toClientCoordinates()):b={position:null,hitTarget:null},b.position&&m.stickyTabStops&&(b.position=this._snapToSoftTabBoundary(b.position,m.model)),b}}e.MouseTargetFactory=t;function o(_,m,g){const b=document.createRange();let y=_.elementFromPoint(m,g);if(y!==null){for(;y&&y.firstChild&&y.firstChild.nodeType!==y.firstChild.TEXT_NODE&&y.lastChild&&y.lastChild.firstChild;)y=y.lastChild;const L=y.getBoundingClientRect(),D=window.getComputedStyle(y,null).getPropertyValue("font"),N=y.innerText;let I=L.left,T=0,O;if(m>L.left+L.width)T=N.length;else{const A=h.getInstance();for(let B=0;B<N.length+1;B++){if(O=A.getCharWidth(N.charAt(B),D)/2,I+=O,m<I){T=B;break}I+=O}}b.setStart(y.firstChild,T),b.setEnd(y.firstChild,T)}return b}e.shadowCaretRangeFromPoint=o;class h{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return h._INSTANCE||(h._INSTANCE=new h),h._INSTANCE}getCharWidth(m,g){const b=m+g;if(this._cache[b])return this._cache[b];const y=this._canvas.getContext("2d");y.font=g;const D=y.measureText(m).width;return this._cache[b]=D,D}}h._INSTANCE=null}),define(ee[573],te([0,1,7,50,15,2,16,185,162,127,13,21,110]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function a(i){return function(n,t){let o=!1;return i&&(o=i.mouseTargetIsWidget(t)),o||t.preventDefault(),t}}e.createMouseMoveEventMerger=a;class r extends u.ViewEventHandler{constructor(n,t,o){super();this._context=n,this.viewController=t,this.viewHelper=o,this.mouseTargetFactory=new v.MouseTargetFactory(this._context,o),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(m,g)=>this._createMouseTarget(m,g),m=>this._getMouseColumn(m))),this.lastMouseLeaveTime=-1;const h=new l.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(h.onContextMenu(this.viewHelper.viewDomNode,m=>this._onContextMenu(m,!0))),this._register(h.onMouseMoveThrottled(this.viewHelper.viewDomNode,m=>this._onMouseMove(m),a(this.mouseTargetFactory),r.MOUSE_MOVE_MINIMUM_TIME)),this._register(h.onMouseUp(this.viewHelper.viewDomNode,m=>this._onMouseUp(m))),this._register(h.onMouseLeave(this.viewHelper.viewDomNode,m=>this._onMouseLeave(m))),this._register(h.onMouseDown(this.viewHelper.viewDomNode,m=>this._onMouseDown(m)));const _=m=>{if(this.viewController.emitMouseWheel(m),!!this._context.configuration.options.get(62)){const g=new M.StandardWheelEvent(m);if(S.isMacintosh?m.metaKey&&!m.ctrlKey&&!m.shiftKey&&!m.altKey:m.ctrlKey&&!m.metaKey&&!m.shiftKey&&!m.altKey){const y=f.EditorZoom.getZoomLevel(),L=g.deltaY>0?1:-1;f.EditorZoom.setZoomLevel(y+L),g.preventDefault(),g.stopPropagation()}}};this._register(C.addDisposableListener(this.viewHelper.viewDomNode,C.EventType.MOUSE_WHEEL,_,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onCursorStateChanged(n){return this._mouseDownOperation.onCursorStateChanged(n),!1}onFocusChanged(n){return!1}onScrollChanged(n){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(n,t){const h=new l.ClientCoordinates(n,t).toPageCoordinates(),_=l.createEditorPagePosition(this.viewHelper.viewDomNode);return h.y<_.y||h.y>_.y+_.height||h.x<_.x||h.x>_.x+_.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),_,h,null)}_createMouseTarget(n,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n.editorPos,n.pos,t?n.target:null)}_getMouseColumn(n){return this.mouseTargetFactory.getMouseColumn(n.editorPos,n.pos)}_onContextMenu(n,t){this.viewController.emitContextMenu({event:n,target:this._createMouseTarget(n,t)})}_onMouseMove(n){this._mouseDownOperation.isActive()||n.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:n,target:this._createMouseTarget(n,!0)})}_onMouseLeave(n){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:n,target:null})}_onMouseUp(n){this.viewController.emitMouseUp({event:n,target:this._createMouseTarget(n,!0)})}_onMouseDown(n){const t=this._createMouseTarget(n,!0),o=t.type===6||t.type===7,h=t.type===2||t.type===3||t.type===4,_=t.type===3,m=this._context.configuration.options.get(93),g=t.type===8||t.type===5,b=t.type===9;let y=n.leftButton||n.middleButton;S.isMacintosh&&n.leftButton&&n.ctrlKey&&(y=!1);const L=()=>{n.preventDefault(),this.viewHelper.focusTextArea()};if(y&&(o||_&&m))L(),this._mouseDownOperation.start(t.type,n);else if(h)n.preventDefault();else if(g){const D=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(D.viewZoneId)&&(L(),this._mouseDownOperation.start(t.type,n),n.preventDefault())}else b&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(L(),n.preventDefault());this.viewController.emitMouseDown({event:n,target:t})}}e.MouseHandler=r,r.MOUSE_MOVE_MINIMUM_TIME=100;class d extends w.Disposable{constructor(n,t,o,h,_){super();this._context=n,this._viewController=t,this._viewHelper=o,this._createMouseTarget=h,this._getMouseColumn=_,this._mouseMoveMonitor=this._register(new l.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new s,this._currentSelection=new c.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(n){this._lastMouseEvent=n,this._mouseState.setModifiers(n);const t=this._findMousePosition(n,!0);!t||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:n,target:t}):this._dispatchMouse(t,!0))}start(n,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(n===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!0);if(!(!o||!o.position)){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(75)&&h.get(27)&&!h.get(15)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&o.type===6&&o.position&&this._currentSelection.containsPosition(o.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,a(null),_=>this._onMouseDownThenMove(_),_=>{const m=this._findMousePosition(this._lastMouseEvent,!0);_&&_ instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:m?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,a(null),_=>this._onMouseDownThenMove(_),()=>this._stop()))}}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!!this._lastMouseEvent){const n=this._findMousePosition(this._lastMouseEvent,!1);!n||this._mouseState.isDragAndDrop||this._dispatchMouse(n,!0)}},10)}onCursorStateChanged(n){this._currentSelection=n.selections[0]}_getPositionOutsideEditor(n){const t=n.editorPos,o=this._context.model,h=this._context.viewLayout,_=this._getMouseColumn(n);if(n.posy<t.y){const g=Math.max(h.getCurrentScrollTop()-(t.y-n.posy),0),b=v.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new v.MouseTarget(null,13,_,L)}const y=h.getLineNumberAtVerticalOffset(g);return new v.MouseTarget(null,13,_,new p.Position(y,1))}if(n.posy>t.y+t.height){const g=h.getCurrentScrollTop()+(n.posy-t.y),b=v.HitTestContext.getZoneAtCoord(this._context,g);if(b){const L=this._helpPositionJumpOverViewZone(b);if(L)return new v.MouseTarget(null,13,_,L)}const y=h.getLineNumberAtVerticalOffset(g);return new v.MouseTarget(null,13,_,new p.Position(y,o.getLineMaxColumn(y)))}const m=h.getLineNumberAtVerticalOffset(h.getCurrentScrollTop()+(n.posy-t.y));return n.posx<t.x?new v.MouseTarget(null,13,_,new p.Position(m,1)):n.posx>t.x+t.width?new v.MouseTarget(null,13,_,new p.Position(m,o.getLineMaxColumn(m))):null}_findMousePosition(n,t){const o=this._getPositionOutsideEditor(n);if(o)return o;const h=this._createMouseTarget(n,t);if(!h.position)return null;if(h.type===8||h.type===5){const m=this._helpPositionJumpOverViewZone(h.detail);if(m)return new v.MouseTarget(h.element,h.type,h.mouseColumn,m,null,h.detail)}return h}_helpPositionJumpOverViewZone(n){const t=new p.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=n.positionBefore,h=n.positionAfter;return o&&h?o.isBefore(t)?o:h:null}_dispatchMouse(n,t){!n.position||this._viewController.dispatchMouse({position:n.position,mouseColumn:n.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class s{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(n){this._altKey=n.altKey,this._ctrlKey=n.ctrlKey,this._metaKey=n.metaKey,this._shiftKey=n.shiftKey}setStartButtons(n){this._leftButton=n.leftButton,this._middleButton=n.middleButton}setStartedOnLineNumbers(n){this._startedOnLineNumbers=n}trySetCount(n,t){const o=new Date().getTime();o-this._lastSetMouseDownCountTime>s.CLEAR_MOUSE_DOWN_COUNT_TIME&&(n=1),this._lastSetMouseDownCountTime=o,n>this._lastMouseDownCount+1&&(n=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(n,this._lastMouseDownPositionEqualCount)}}s.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ee[574],te([0,1,7,16,60,2,573,162,120]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;function f(r,d){const s={translationY:d.translationY,translationX:d.translationX};return r&&(s.translationY+=r.translationY,s.translationX+=r.translationX),s}class p extends S.MouseHandler{constructor(d,s,i){super(d,s,i);this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(()=>{if(this._installGestureHandlerTimeout=-1,window.MSGesture){const n=new MSGesture,t=new MSGesture;n.target=this.viewHelper.linesContentDomNode,t.target=this.viewHelper.linesContentDomNode,this.viewHelper.linesContentDomNode.addEventListener("pointerdown",o=>{const h=o.pointerType;if(h==="mouse"){this._lastPointerType="mouse";return}else h==="touch"?(this._lastPointerType="touch",n.addPointer(o.pointerId)):(this._lastPointerType="pen",t.addPointer(o.pointerId))}),this._register(C.addDisposableThrottledListener(this.viewHelper.linesContentDomNode,"MSGestureChange",o=>this._onGestureChange(o),f)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,"MSGestureTap",o=>this._onCaptureGestureTap(o),!0))}},100),this._lastPointerType="mouse"}_onMouseDown(d){this._lastPointerType==="mouse"&&super._onMouseDown(d)}_onCaptureGestureTap(d){const s=new v.EditorMouseEvent(d,this.viewHelper.viewDomNode),i=this._createMouseTarget(s,!1);i.position&&this.viewController.moveTo(i.position),s.browserEvent.fromElement?(s.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(()=>{this.viewHelper.focusTextArea()})}_onGestureChange(d){this._context.model.deltaScrollNow(-d.translationX,-d.translationY)}dispose(){window.clearTimeout(this._installGestureHandlerTimeout),super.dispose()}}class c extends S.MouseHandler{constructor(d,s,i){super(d,s,i);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,t=>this.onTap(t))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,t=>this.onChange(t))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,t=>this._onContextMenu(new v.EditorMouseEvent(t,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",t=>{const o=t.pointerType;if(o==="mouse"){this._lastPointerType="mouse";return}else o==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const n=new v.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,t=>this._onMouseMove(t),S.createMouseMoveEventMerger(this.mouseTargetFactory),S.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,t=>this._onMouseUp(t))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,t=>this._onMouseLeave(t))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,t=>this._onMouseDown(t)))}onTap(d){if(!(!d.initialTarget||!this.viewHelper.linesContentDomNode.contains(d.initialTarget))){d.preventDefault(),this.viewHelper.focusTextArea();const s=this._createMouseTarget(new v.EditorMouseEvent(d,this.viewHelper.viewDomNode),!1);s.position&&this.viewController.dispatchMouse({position:s.position,mouseColumn:s.position.column,startedOnLineNumbers:!1,mouseDownCount:d.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}}onChange(d){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-d.translationX,-d.translationY)}_onMouseDown(d){d.browserEvent.pointerType!=="touch"&&super._onMouseDown(d)}}e.PointerEventHandler=c;class u extends S.MouseHandler{constructor(d,s,i){super(d,s,i);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,n=>this.onTap(n))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,n=>this.onChange(n))),this._register(C.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,n=>this._onContextMenu(new v.EditorMouseEvent(n,this.viewHelper.viewDomNode),!1)))}onTap(d){d.preventDefault(),this.viewHelper.focusTextArea();const s=this._createMouseTarget(new v.EditorMouseEvent(d,this.viewHelper.viewDomNode),!1);s.position&&this.viewController.moveTo(s.position)}onChange(d){this._context.model.deltaScrollNow(-d.translationX,-d.translationY)}}class a extends w.Disposable{constructor(d,s,i){super();M.isIOS&&l.BrowserFeatures.pointerEvents?this.handler=this._register(new c(d,s,i)):window.TouchEvent?this.handler=this._register(new u(d,s,i)):window.navigator.pointerEnabled||window.PointerEvent?this.handler=this._register(new p(d,s,i)):this.handler=this._register(new S.MouseHandler(d,s,i))}getTargetAtClientPoint(d,s){return this.handler.getTargetAtClientPoint(d,s)}}e.PointerHandler=a}),define(ee[254],te([0,1,185]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class M{constructor(S){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=S}emitKeyDown(S){this.onKeyDown&&this.onKeyDown(S)}emitKeyUp(S){this.onKeyUp&&this.onKeyUp(S)}emitContextMenu(S){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(S))}emitMouseMove(S){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(S))}emitMouseLeave(S){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(S))}emitMouseDown(S){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(S))}emitMouseUp(S){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(S))}emitMouseDrag(S){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(S))}emitMouseDrop(S){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(S))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(S){this.onMouseWheel&&this.onMouseWheel(S)}_convertViewToModelMouseEvent(S){return S.target?{event:S.event,target:this._convertViewToModelMouseTarget(S.target)}:S}_convertViewToModelMouseTarget(S){return M.convertViewToModelMouseTarget(S,this._coordinatesConverter)}static convertViewToModelMouseTarget(S,v){return new k(S.element,S.type,S.mouseColumn,S.position?v.convertViewPositionToModelPosition(S.position):null,S.range?v.convertViewRangeToModelRange(S.range):null,S.detail)}}e.ViewUserInputEvents=M;class k{constructor(S,v,l,f,p,c){this.element=S,this.type=v,this.mouseColumn=l,this.position=f,this.range=p,this.detail=c}toString(){return C.MouseTarget.toString(this)}}}),define(ee[575],te([0,1,16,15,69,164,45,253,13,3,109,124,319]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class u{constructor(){this._currentVisibleRange=new f.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class a{constructor(i,n,t,o,h,_){this.lineNumber=i,this.startColumn=n,this.endColumn=t,this.startScrollTop=o,this.stopScrollTop=h,this.scrollType=_,this.type="range",this.minLineNumber=i,this.maxLineNumber=i}}class r{constructor(i,n,t,o){this.selections=i,this.startScrollTop=n,this.stopScrollTop=t,this.scrollType=o,this.type="selections";let h=i[0].startLineNumber,_=i[0].endLineNumber;for(let m=1,g=i.length;m<g;m++){const b=i[m];h=Math.min(h,b.startLineNumber),_=Math.max(_,b.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=_}}class d extends S.ViewPart{constructor(i,n){super(i);this._linesContent=n,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new w.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const t=this._context.configuration,o=this._context.configuration.options,h=o.get(38),_=o.get(125);this._lineHeight=o.get(53),this._typicalHalfwidthCharacterWidth=h.typicalHalfwidthCharacterWidth,this._isViewportWrapping=_.isViewportWrapping,this._revealHorizontalRightPadding=o.get(84),this._cursorSurroundingLines=o.get(22),this._cursorSurroundingLinesStyle=o.get(23),this._canUseLayerHinting=!o.get(25),this._viewLineOptions=new v.ViewLineOptions(t,this._context.theme.type),S.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${c.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),k.Configuration.applyFontInfo(this.domNode,h),this._maxLineWidth=0,this._asyncUpdateLineWidths=new M.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new M.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new u,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new v.ViewLine(this._viewLineOptions)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i),i.hasChanged(125)&&(this._maxLineWidth=0);const n=this._context.configuration.options,t=n.get(38),o=n.get(125);return this._lineHeight=n.get(53),this._typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=n.get(84),this._cursorSurroundingLines=n.get(22),this._cursorSurroundingLinesStyle=n.get(23),this._canUseLayerHinting=!n.get(25),k.Configuration.applyFontInfo(this.domNode,t),this._onOptionsMaybeChanged(),i.hasChanged(124)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const i=this._context.configuration,n=new v.ViewLineOptions(i,this._context.theme.type);if(!this._viewLineOptions.equals(n)){this._viewLineOptions=n;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(i){const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=!1;for(let h=n;h<=t;h++)o=this._visibleLines.getVisibleLine(h).onSelectionChanged()||o;return o}onDecorationsChanged(i){{const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=n;o<=t;o++)this._visibleLines.getVisibleLine(o).onDecorationsChanged()}return!0}onFlushed(i){const n=this._visibleLines.onFlushed(i);return this._maxLineWidth=0,n}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onRevealRangeRequest(i){const n=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),i.source,i.range,i.selections,i.verticalType);if(n===-1)return!1;let t=this._context.viewLayout.validateScrollPosition({scrollTop:n});i.revealHorizontal?i.range&&i.range.startLineNumber!==i.range.endLineNumber?t={scrollTop:t.scrollTop,scrollLeft:0}:i.range?this._horizontalRevealRequest=new a(i.range.startLineNumber,i.range.startColumn,i.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,i.scrollType):i.selections&&i.selections.length>0&&(this._horizontalRevealRequest=new r(i.selections,this._context.viewLayout.getCurrentScrollTop(),t.scrollTop,i.scrollType)):this._horizontalRevealRequest=null;const h=Math.abs(this._context.viewLayout.getCurrentScrollTop()-t.scrollTop)<=this._lineHeight?1:i.scrollType;return this._context.model.setScrollPosition(t,h),!0}onScrollChanged(i){if(this._horizontalRevealRequest&&i.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&i.scrollTopChanged){const n=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),t=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(i.scrollTop<n||i.scrollTop>t)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(i.scrollWidth),this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(i)}onThemeChanged(i){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(i,n){const t=this._getViewLineDomNode(i);if(t===null)return null;const o=this._getLineNumberFor(t);if(o===-1||o<1||o>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(o)===1)return new l.Position(o,1);const h=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();if(o<h||o>_)return null;let m=this._visibleLines.getVisibleLine(o).getColumnOfNodeOffset(o,i,n);const g=this._context.model.getLineMinColumn(o);return m<g&&(m=g),new l.Position(o,m)}_getViewLineDomNode(i){for(;i&&i.nodeType===1;){if(i.className===v.ViewLine.CLASS_NAME)return i;i=i.parentElement}return null}_getLineNumberFor(i){const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=n;o<=t;o++){const h=this._visibleLines.getVisibleLine(o);if(i===h.getDomNode())return o}return-1}getLineWidth(i){const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();return i<n||i>t?-1:this._visibleLines.getVisibleLine(i).getWidth()}linesVisibleRangesForRange(i,n){if(this.shouldRender())return null;const t=i.endLineNumber,o=f.Range.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange());if(!o)return null;let h=[],_=0;const m=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let g=0;n&&(g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new l.Position(o.startLineNumber,1)).lineNumber);const b=this._visibleLines.getStartLineNumber(),y=this._visibleLines.getEndLineNumber();for(let L=o.startLineNumber;L<=o.endLineNumber;L++)if(!(L<b||L>y)){const D=L===o.startLineNumber?o.startColumn:1,N=L===o.endLineNumber?o.endColumn:this._context.model.getLineMaxColumn(L),I=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(D,N,m);if(!!I){if(n&&L<t){const T=g;g=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new l.Position(L+1,1)).lineNumber,T!==g&&(I.ranges[I.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}h[_++]=new p.LineVisibleRanges(I.outsideRenderedLine,L,I.ranges)}}return _===0?null:h}_visibleRangesForLineRange(i,n,t){return this.shouldRender()||i<this._visibleLines.getStartLineNumber()||i>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(i).getVisibleRangesForRange(n,t,new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(i){const n=this._visibleRangesForLineRange(i.lineNumber,i.column,i.column);return n?new p.HorizontalPosition(n.outsideRenderedLine,n.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(i){const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();let o=1,h=!0;for(let _=n;_<=t;_++){const m=this._visibleLines.getVisibleLine(_);if(i&&!m.getWidthIsFast()){h=!1;continue}o=Math.max(o,m.getWidth())}return h&&n===1&&t===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(o),h}_checkMonospaceFontAssumptions(){let i=-1,n=-1;const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++){const _=this._visibleLines.getVisibleLine(h);if(_.needsMonospaceFontCheck()){const m=_.getWidth();m>n&&(n=m,i=h)}}if(i!==-1&&!this._visibleLines.getVisibleLine(i).monospaceAssumptionsAreValid())for(let h=t;h<=o;h++)this._visibleLines.getVisibleLine(h).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(i){if(this._visibleLines.renderLines(i),this._lastRenderedData.setCurrentVisibleRange(i.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(i.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=i.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const o=this._computeScrollLeftToReveal(t);o&&(this._isViewportWrapping||this._ensureMaxLineWidth(o.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:o.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),C.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const t=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();for(let h=t;h<=o;h++)if(this._visibleLines.getVisibleLine(h).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const n=this._context.viewLayout.getCurrentScrollTop()-i.bigNumbersDelta;this._linesContent.setTop(-n),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(i){const n=Math.ceil(i);this._maxLineWidth<n&&(this._maxLineWidth=n,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(i,n,t,o,h){const _=i.top,m=i.height,g=_+m;let b,y,L;if(o&&o.length>0){let I=o[0].startLineNumber,T=o[0].endLineNumber;for(let O=1,A=o.length;O<A;O++){const B=o[O];I=Math.min(I,B.startLineNumber),T=Math.max(T,B.endLineNumber)}b=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(I),L=this._context.viewLayout.getVerticalOffsetForLineNumber(T)+this._lineHeight}else if(t)b=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),L=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;else return-1;if(!(n==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const I=Math.min(m/this._lineHeight/2,this._cursorSurroundingLines);y-=I*this._lineHeight,L+=Math.max(0,I-1)*this._lineHeight}(h===0||h===4)&&(L+=this._lineHeight);let N;if(L-y>m){if(!b)return-1;N=y}else if(h===5||h===6)if(h===6&&_<=y&&L<=g)N=_;else{const I=Math.max(5*this._lineHeight,m*.2),T=y-I,O=L-m;N=Math.max(O,T)}else if(h===1||h===2)if(h===2&&_<=y&&L<=g)N=_;else{const I=(y+L)/2;N=Math.max(0,I-m/2)}else N=this._computeMinimumScrolling(_,g,y,L,h===3,h===4);return N}_computeScrollLeftToReveal(i){const n=this._context.viewLayout.getCurrentViewport(),t=n.left,o=t+n.width;let h=1073741824,_=0;if(i.type==="range"){const g=this._visibleRangesForLineRange(i.lineNumber,i.startColumn,i.endColumn);if(!g)return null;for(const b of g.ranges)h=Math.min(h,b.left),_=Math.max(_,b.left+b.width)}else for(const g of i.selections){if(g.startLineNumber!==g.endLineNumber)return null;const b=this._visibleRangesForLineRange(g.startLineNumber,g.startColumn,g.endColumn);if(!b)return null;for(const y of b.ranges)h=Math.min(h,y.left),_=Math.max(_,y.left+y.width)}return h=Math.max(0,h-d.HORIZONTAL_EXTRA_PX),_+=this._revealHorizontalRightPadding,i.type==="selections"&&_-h>n.width?null:{scrollLeft:this._computeMinimumScrolling(t,o,h,_),maxHorizontalOffset:_}}_computeMinimumScrolling(i,n,t,o,h,_){i=i|0,n=n|0,t=t|0,o=o|0,h=!!h,_=!!_;const m=n-i;if(o-t<m){if(h)return t;if(_)return Math.max(0,o-m);if(t<i)return t;if(o>n)return Math.max(0,o-m)}else return t;return i}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(ee[12],te([0,1,9,2,33,6,97,27]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=C.createDecorator("themeService");var l;(function(s){function i(n){return n&&typeof n=="object"&&typeof n.id=="string"}s.isThemeColor=i})(l=e.ThemeColor||(e.ThemeColor={}));function f(s){return{id:s}}e.themeColorFromId=f;var p;(function(s){function i(_){return _&&typeof _=="object"&&typeof _.id=="string"&&(typeof _.color=="undefined"||l.isThemeColor(_.color))}s.isThemeIcon=i;const n=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;function t(_){const m=n.exec(_);if(!!m){let[,g,b]=m;return!g||g==="codicon/"?{id:b}:{id:g+b}}}s.fromString=t;function o(_,m){let g=_.id;const b=g.lastIndexOf("~");return b!==-1&&(g=g.substring(0,b)),m&&(g=`${g}~${m}`),{id:g}}s.modify=o;function h(_,m){var g,b;return _.id===m.id&&((g=_.color)===null||g===void 0?void 0:g.id)===((b=m.color)===null||b===void 0?void 0:b.id)}s.isEqual=h,s.asClassNameArray=v.CSSIcon.asClassNameArray,s.asClassName=v.CSSIcon.asClassName,s.asCSSSelector=v.CSSIcon.asCSSSelector})(p=e.ThemeIcon||(e.ThemeIcon={}));function c(s){switch(s){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=c,e.Extensions={ThemingContribution:"base.contributions.theming"};class u{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new w.Emitter}onColorThemeChange(i){return this.themingParticipants.push(i),this.onThemingParticipantAddedEmitter.fire(i),M.toDisposable(()=>{const n=this.themingParticipants.indexOf(i);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}let a=new u;k.Registry.add(e.Extensions.ThemingContribution,a);function r(s){return a.onColorThemeChange(s)}e.registerThemingParticipant=r;class d extends M.Disposable{constructor(i){super();this.themeService=i,this.theme=i.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(i){this.theme=i,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(ee[576],te([0,1,7,2,8,24,358,106,53,12]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationTypeOptionsProvider=e.DecorationSubTypeOptionsProvider=e.CodeEditorServiceImpl=e.GlobalStyleSheet=e.RefCountedStyleSheet=void 0;class p{constructor(t,o,h){this._parent=t,this._editorId=o,this._styleSheet=h,this._refCount=0}ref(){this._refCount++}unref(){var t;this._refCount--,this._refCount===0&&((t=this._styleSheet.parentNode)===null||t===void 0||t.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(t,o){this._styleSheet.sheet.insertRule(t,o)}removeRulesContainingSelector(t){C.removeCSSRulesContainingSelector(t,this._styleSheet)}}e.RefCountedStyleSheet=p;class c{constructor(t){this._styleSheet=t}ref(){}unref(){}insertRule(t,o){this._styleSheet.sheet.insertRule(t,o)}removeRulesContainingSelector(t){C.removeCSSRulesContainingSelector(t,this._styleSheet)}}e.GlobalStyleSheet=c;let u=class extends S.AbstractCodeEditorService{constructor(t,o=null){super();this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=o||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new c(C.createStyleSheet())),this._globalStyleSheet}_getOrCreateStyleSheet(t){if(!t)return this._getOrCreateGlobalStyleSheet();const o=t.getContainerDomNode();if(!C.isInShadowDOM(o))return this._getOrCreateGlobalStyleSheet();const h=t.getId();if(!this._editorStyleSheets.has(h)){const _=new p(this,h,C.createStyleSheet(o));this._editorStyleSheets.set(h,_)}return this._editorStyleSheets.get(h)}_removeEditorStyleSheets(t){this._editorStyleSheets.delete(t)}registerDecorationType(t,o,h,_){let m=this._decorationOptionProviders.get(t);if(!m){const g=this._getOrCreateStyleSheet(_),b={styleSheet:g,key:t,parentTypeKey:h,options:o||Object.create(null)};h?m=new a(this._themeService,g,b):m=new r(this._themeService,g,b),this._decorationOptionProviders.set(t,m),this._onDecorationTypeRegistered.fire(t)}m.refCount++}removeDecorationType(t){const o=this._decorationOptionProviders.get(t);o&&(o.refCount--,o.refCount<=0&&(this._decorationOptionProviders.delete(t),o.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(t))))}resolveDecorationOptions(t,o){const h=this._decorationOptionProviders.get(t);if(!h)throw new Error("Unknown decoration type key: "+t);return h.getOptions(this,o)}};u=Me([pe(0,f.IThemeService)],u),e.CodeEditorServiceImpl=u;class a{constructor(t,o,h){this._styleSheet=o,this._styleSheet.ref(),this._parentTypeKey=h.parentTypeKey,this.refCount=0,this._beforeContentRules=new s(3,h,t),this._afterContentRules=new s(4,h,t)}getOptions(t,o){const h=t.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(h.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(h.afterContentClassName=this._afterContentRules.className),h}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}e.DecorationSubTypeOptionsProvider=a;class r{constructor(t,o,h){this._disposables=new M.DisposableStore,this._styleSheet=o,this._styleSheet.ref(),this.refCount=0;const _=D=>{const N=new s(D,h,t);if(this._disposables.add(N),N.hasContent)return N.className},m=D=>{const N=new s(D,h,t);return this._disposables.add(N),N.hasContent?{className:N.className,hasLetterSpacing:N.hasLetterSpacing}:null};this.className=_(0);const g=m(1);g&&(this.inlineClassName=g.className,this.inlineClassNameAffectsLetterSpacing=g.hasLetterSpacing),this.beforeContentClassName=_(3),this.afterContentClassName=_(4),this.glyphMarginClassName=_(2);const b=h.options;this.isWholeLine=Boolean(b.isWholeLine),this.stickiness=b.rangeBehavior;const y=b.light&&b.light.overviewRulerColor||b.overviewRulerColor,L=b.dark&&b.dark.overviewRulerColor||b.overviewRulerColor;(typeof y!="undefined"||typeof L!="undefined")&&(this.overviewRuler={color:y||L,darkColor:L||y,position:b.overviewRulerLane||l.OverviewRulerLane.Center})}getOptions(t,o){return o?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}e.DecorationTypeOptionsProvider=r;const d={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class s{constructor(t,o,h){this._theme=h.getColorTheme(),this._ruleType=t,this._providerArgs=o,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let _=i.getClassName(this._providerArgs.key,t);this._providerArgs.parentTypeKey&&(_=_+" "+i.getClassName(this._providerArgs.parentTypeKey,t)),this._className=_,this._unThemedSelector=i.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,t),this._buildCSS(),this._usesThemeColors?this._themeListener=h.onDidColorThemeChange(m=>{this._theme=h.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const t=this._providerArgs.options;let o,h,_;switch(this._ruleType){case 0:o=this.getCSSTextForModelDecorationClassName(t),h=this.getCSSTextForModelDecorationClassName(t.light),_=this.getCSSTextForModelDecorationClassName(t.dark);break;case 1:o=this.getCSSTextForModelDecorationInlineClassName(t),h=this.getCSSTextForModelDecorationInlineClassName(t.light),_=this.getCSSTextForModelDecorationInlineClassName(t.dark);break;case 2:o=this.getCSSTextForModelDecorationGlyphMarginClassName(t),h=this.getCSSTextForModelDecorationGlyphMarginClassName(t.light),_=this.getCSSTextForModelDecorationGlyphMarginClassName(t.dark);break;case 3:o=this.getCSSTextForModelDecorationContentClassName(t.before),h=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.before),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.before);break;case 4:o=this.getCSSTextForModelDecorationContentClassName(t.after),h=this.getCSSTextForModelDecorationContentClassName(t.light&&t.light.after),_=this.getCSSTextForModelDecorationContentClassName(t.dark&&t.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const m=this._providerArgs.styleSheet;let g=!1;o.length>0&&(m.insertRule(`${this._unThemedSelector} {${o}}`,0),g=!0),h.length>0&&(m.insertRule(`.vs${this._unThemedSelector} {${h}}`,0),g=!0),_.length>0&&(m.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${_}}`,0),g=!0),this._hasContent=g}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(t){if(!t)return"";const o=[];return this.collectCSSText(t,["backgroundColor"],o),this.collectCSSText(t,["outline","outlineColor","outlineStyle","outlineWidth"],o),this.collectBorderSettingsCSSText(t,o),o.join("")}getCSSTextForModelDecorationInlineClassName(t){if(!t)return"";const o=[];return this.collectCSSText(t,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],o),t.letterSpacing&&(this._hasLetterSpacing=!0),o.join("")}getCSSTextForModelDecorationContentClassName(t){if(!t)return"";const o=[];if(typeof t!="undefined"){if(this.collectBorderSettingsCSSText(t,o),typeof t.contentIconPath!="undefined"&&o.push(k.format(d.contentIconPath,C.asCSSUrl(w.URI.revive(t.contentIconPath)))),typeof t.contentText=="string"){const _=t.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");o.push(k.format(d.contentText,_))}this.collectCSSText(t,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],o),this.collectCSSText(t,["width","height"],o)&&o.push("display:inline-block;")}return o.join("")}getCSSTextForModelDecorationGlyphMarginClassName(t){if(!t)return"";const o=[];return typeof t.gutterIconPath!="undefined"&&(o.push(k.format(d.gutterIconPath,C.asCSSUrl(w.URI.revive(t.gutterIconPath)))),typeof t.gutterIconSize!="undefined"&&o.push(k.format(d.gutterIconSize,t.gutterIconSize))),o.join("")}collectBorderSettingsCSSText(t,o){return this.collectCSSText(t,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],o)?(o.push(k.format("box-sizing: border-box;")),!0):!1}collectCSSText(t,o,h){const _=h.length;for(let m of o){const g=this.resolveValue(t[m]);typeof g=="string"&&h.push(k.format(d[m],g))}return h.length!==_}resolveValue(t){if(v.isThemeColor(t)){this._usesThemeColors=!0;const o=this._theme.getColor(t.id);return o?o.toString():"transparent"}return t}}class i{static getClassName(t,o){return"ced-"+t+"-"+o}static getSelector(t,o,h){let _=".monaco-editor ."+this.getClassName(t,h);return o&&(_=_+"."+this.getClassName(o,h)),h===3?_+="::before":h===4&&(_+="::after"),_}}}),define(ee[577],te([0,1,7,30,61,45,12]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends w.ViewPart{constructor(f,p,c,u){super(f);const a=this._context.configuration.options,r=a.get(87),d=a.get(61),s=a.get(30),i=a.get(90),n={listenOnDomNode:c.domNode,className:"editor-scrollable "+S.getThemeTypeSelector(f.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:d,fastScrollSensitivity:s,scrollPredominantAxis:i,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(p.domNode,n,this._context.viewLayout.getScrollable())),w.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=M.createFastDomNode(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const t=(o,h,_)=>{const m={};if(h){const g=o.scrollTop;g&&(m.scrollTop=this._context.viewLayout.getCurrentScrollTop()+g,o.scrollTop=0)}if(_){const g=o.scrollLeft;g&&(m.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+g,o.scrollLeft=0)}this._context.model.setScrollPosition(m,1)};this._register(C.addDisposableListener(c.domNode,"scroll",o=>t(c.domNode,!0,!0))),this._register(C.addDisposableListener(p.domNode,"scroll",o=>t(p.domNode,!0,!1))),this._register(C.addDisposableListener(u.domNode,"scroll",o=>t(u.domNode,!0,!1))),this._register(C.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",o=>t(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const f=this._context.configuration.options,p=f.get(124);this.scrollbarDomNode.setLeft(p.contentLeft),f.get(59).side==="right"?this.scrollbarDomNode.setWidth(p.contentWidth+p.minimap.minimapWidth):this.scrollbarDomNode.setWidth(p.contentWidth),this.scrollbarDomNode.setHeight(p.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(f){this.scrollbar.delegateVerticalScrollbarMouseDown(f)}onConfigurationChanged(f){if(f.hasChanged(87)||f.hasChanged(61)||f.hasChanged(30)){const p=this._context.configuration.options,c=p.get(87),u=p.get(61),a=p.get(30),r=p.get(90),d={handleMouseWheel:c.handleMouseWheel,mouseWheelScrollSensitivity:u,fastScrollSensitivity:a,scrollPredominantAxis:r};this.scrollbar.updateOptions(d)}return f.hasChanged(124)&&this._setLayout(),!0}onScrollChanged(f){return!0}onThemeChanged(f){return this.scrollbar.updateClassName("editor-scrollable "+S.getThemeTypeSelector(this._context.theme.type)),!0}prepareRender(f){}render(f){this.scrollbar.renderNow()}}e.EditorScrollbar=v}),define(ee[578],te([0,1,7,30,90,2,16,8,164,45,38,3,213,243,63,22,12,21,60,361,53,88,322]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const _=140,m=2;class g{constructor(A,B,E){const W=A.options,R=W.get(122),F=W.get(124),V=F.minimap,K=W.get(38),G=W.get(59);this.renderMinimap=V.renderMinimap,this.size=G.size,this.minimapHeightIsEditorHeight=V.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=W.get(89),this.showSlider=G.showSlider,this.pixelRatio=R,this.typicalHalfwidthCharacterWidth=K.typicalHalfwidthCharacterWidth,this.lineHeight=W.get(53),this.minimapLeft=V.minimapLeft,this.minimapWidth=V.minimapWidth,this.minimapHeight=F.height,this.canvasInnerWidth=V.minimapCanvasInnerWidth,this.canvasInnerHeight=V.minimapCanvasInnerHeight,this.canvasOuterWidth=V.minimapCanvasOuterWidth,this.canvasOuterHeight=V.minimapCanvasOuterHeight,this.isSampling=V.minimapIsSampling,this.editorHeight=F.height,this.fontScale=V.minimapScale,this.minimapLineHeight=V.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=h.once(()=>t.MinimapCharRendererFactory.create(this.fontScale,K.fontFamily)),this.backgroundColor=g._getMinimapBackground(B,E)}static _getMinimapBackground(A,B){const E=A.getColor(d.minimapBackground);return E?new u.RGBA8(E.rgba.r,E.rgba.g,E.rgba.b,E.rgba.a):B.getColor(2)}equals(A){return this.renderMinimap===A.renderMinimap&&this.size===A.size&&this.minimapHeightIsEditorHeight===A.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===A.scrollBeyondLastLine&&this.showSlider===A.showSlider&&this.pixelRatio===A.pixelRatio&&this.typicalHalfwidthCharacterWidth===A.typicalHalfwidthCharacterWidth&&this.lineHeight===A.lineHeight&&this.minimapLeft===A.minimapLeft&&this.minimapWidth===A.minimapWidth&&this.minimapHeight===A.minimapHeight&&this.canvasInnerWidth===A.canvasInnerWidth&&this.canvasInnerHeight===A.canvasInnerHeight&&this.canvasOuterWidth===A.canvasOuterWidth&&this.canvasOuterHeight===A.canvasOuterHeight&&this.isSampling===A.isSampling&&this.editorHeight===A.editorHeight&&this.fontScale===A.fontScale&&this.minimapLineHeight===A.minimapLineHeight&&this.minimapCharWidth===A.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(A.backgroundColor)}}class b{constructor(A,B,E,W,R,F,V,K){this.scrollTop=A,this.scrollHeight=B,this.sliderNeeded=E,this._computedSliderRatio=W,this.sliderTop=R,this.sliderHeight=F,this.startLineNumber=V,this.endLineNumber=K}getDesiredScrollTopFromDelta(A){return Math.round(this.scrollTop+A/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(A){return Math.round((A-this.sliderHeight/2)/this._computedSliderRatio)}static create(A,B,E,W,R,F,V,K,G,J,se){const ie=A.pixelRatio,ae=A.minimapLineHeight,X=Math.floor(A.canvasInnerHeight/ae),U=A.lineHeight;if(A.minimapHeightIsEditorHeight){const Q=K*A.lineHeight+(A.scrollBeyondLastLine?R-A.lineHeight:0),ce=Math.max(1,Math.floor(R*R/Q)),ue=Math.max(0,A.minimapHeight-ce),Y=ue/(J-R),j=G*Y,ne=ue>0,Z=Math.floor(A.canvasInnerHeight/A.minimapLineHeight);return new b(G,J,ne,Y,j,ce,1,Math.min(V,Z))}let P;if(F&&E!==V){const Q=E-B+1;P=Math.floor(Q*ae/ie)}else{const Q=R/U;P=Math.floor(Q*ae/ie)}let x;A.scrollBeyondLastLine?x=(V-1)*ae/ie:x=Math.max(0,V*ae/ie-P),x=Math.min(A.minimapHeight-P,x);const H=x/(J-R),z=G*H;let q=0;if(A.scrollBeyondLastLine&&(q=R/U-1),X>=V+q){const Q=1,ce=V,ue=x>0;return new b(G,J,ue,H,z,P,Q,ce)}else{let Q=Math.max(1,Math.floor(B-z*ie/ae));se&&se.scrollHeight===J&&(se.scrollTop>G&&(Q=Math.min(Q,se.startLineNumber)),se.scrollTop<G&&(Q=Math.max(Q,se.startLineNumber)));const ce=Math.min(V,Q+X-1),ue=(G-W)/U,Y=(B-Q+ue)*ae/ie;return new b(G,J,!0,H,Y,P,Q,ce)}}}class y{constructor(A){this.dy=A}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}y.INVALID=new y(-1);class L{constructor(A,B,E){this.renderedLayout=A,this._imageData=B,this._renderedLines=new l.RenderedLinesCollection(()=>y.INVALID),this._renderedLines._set(A.startLineNumber,E)}linesEquals(A){if(!this.scrollEquals(A))return!1;const E=this._renderedLines._get().lines;for(let W=0,R=E.length;W<R;W++)if(E[W].dy===-1)return!1;return!0}scrollEquals(A){return this.renderedLayout.startLineNumber===A.startLineNumber&&this.renderedLayout.endLineNumber===A.endLineNumber}_get(){const A=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:A.rendLineNumberStart,lines:A.lines}}onLinesChanged(A,B){return this._renderedLines.onLinesChanged(A,B)}onLinesDeleted(A,B){this._renderedLines.onLinesDeleted(A,B)}onLinesInserted(A,B){this._renderedLines.onLinesInserted(A,B)}onTokensChanged(A){return this._renderedLines.onTokensChanged(A)}}class D{constructor(A,B,E,W){this._backgroundFillData=D._createBackgroundFillData(B,E,W),this._buffers=[A.createImageData(B,E),A.createImageData(B,E)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const A=this._buffers[this._lastUsedBuffer];return A.data.set(this._backgroundFillData),A}static _createBackgroundFillData(A,B,E){const W=E.r,R=E.g,F=E.b,V=new Uint8ClampedArray(A*B*4);let K=0;for(let G=0;G<B;G++)for(let J=0;J<A;J++)V[K]=W,V[K+1]=R,V[K+2]=F,V[K+3]=255,K+=4;return V}}class N{constructor(A,B){this.samplingRatio=A,this.minimapLines=B}static compute(A,B,E){if(A.renderMinimap===0||!A.isSampling)return[null,[]];const W=A.pixelRatio,R=A.lineHeight,F=A.scrollBeyondLastLine,{minimapLineCount:V}=p.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:B,scrollBeyondLastLine:F,height:A.editorHeight,lineHeight:R,pixelRatio:W}),K=B/V,G=K/2;if(!E||E.minimapLines.length===0){let z=[];if(z[0]=1,V>1){for(let q=0,Q=V-1;q<Q;q++)z[q]=Math.round(q*K+G);z[V-1]=B}return[new N(K,z),[]]}const J=E.minimapLines,se=J.length;let ie=[],ae=0,X=0,U=1;const P=10;let x=[],H=null;for(let z=0;z<V;z++){const q=Math.max(U,Math.round(z*K)),Q=Math.max(q,Math.round((z+1)*K));for(;ae<se&&J[ae]<q;){if(x.length<P){const ue=ae+1+X;H&&H.type==="deleted"&&H._oldIndex===ae-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:ae,deleteFromLineNumber:ue,deleteToLineNumber:ue},x.push(H)),X--}ae++}let ce;if(ae<se&&J[ae]<=Q)ce=J[ae],ae++;else if(z===0?ce=1:z+1===V?ce=B:ce=Math.round(z*K+G),x.length<P){const ue=ae+1+X;H&&H.type==="inserted"&&H._i===z-1?H.insertToLineNumber++:(H={type:"inserted",_i:z,insertFromLineNumber:ue,insertToLineNumber:ue},x.push(H)),X++}ie[z]=ce,U=ce}if(x.length<P)for(;ae<se;){const z=ae+1+X;H&&H.type==="deleted"&&H._oldIndex===ae-1?H.deleteToLineNumber++:(H={type:"deleted",_oldIndex:ae,deleteFromLineNumber:z,deleteToLineNumber:z},x.push(H)),X--,ae++}else x=[{type:"flush"}];return[new N(K,ie),x]}modelLineToMinimapLine(A){return Math.min(this.minimapLines.length,Math.max(1,Math.round(A/this.samplingRatio)))}modelLineRangeToMinimapLineRange(A,B){let E=this.modelLineToMinimapLine(A)-1;for(;E>0&&this.minimapLines[E-1]>=A;)E--;let W=this.modelLineToMinimapLine(B)-1;for(;W+1<this.minimapLines.length&&this.minimapLines[W+1]<=B;)W++;if(E===W){const R=this.minimapLines[E];if(R<A||R>B)return null}return[E+1,W+1]}decorationLineRangeToMinimapLineRange(A,B){let E=this.modelLineToMinimapLine(A),W=this.modelLineToMinimapLine(B);return A!==B&&W===E&&(W===this.minimapLines.length?E>1&&E--:W++),[E,W]}onLinesDeleted(A){const B=A.toLineNumber-A.fromLineNumber+1;let E=this.minimapLines.length,W=0;for(let R=this.minimapLines.length-1;R>=0&&!(this.minimapLines[R]<A.fromLineNumber);R--)this.minimapLines[R]<=A.toLineNumber?(this.minimapLines[R]=Math.max(1,A.fromLineNumber-1),E=Math.min(E,R),W=Math.max(W,R)):this.minimapLines[R]-=B;return[E,W]}onLinesInserted(A){const B=A.toLineNumber-A.fromLineNumber+1;for(let E=this.minimapLines.length-1;E>=0&&!(this.minimapLines[E]<A.fromLineNumber);E--)this.minimapLines[E]+=B}}class I extends f.ViewPart{constructor(A){super(A);this.tokensColorTracker=a.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);const[B]=N.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=B,this._shouldCheckSampling=!1,this._actual=new T(A.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const A=new g(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(A)?!1:(this.options=A,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(A){return this._onOptionsMaybeChanged()}onCursorStateChanged(A){return this._selections=A.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(A){return A.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(A){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(A){if(this._samplingState){const B=this._samplingState.modelLineRangeToMinimapLineRange(A.fromLineNumber,A.toLineNumber);return B?this._actual.onLinesChanged(B[0],B[1]):!1}else return this._actual.onLinesChanged(A.fromLineNumber,A.toLineNumber)}onLinesDeleted(A){if(this._samplingState){const[B,E]=this._samplingState.onLinesDeleted(A);return B<=E&&this._actual.onLinesChanged(B+1,E+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(A.fromLineNumber,A.toLineNumber)}onLinesInserted(A){return this._samplingState?(this._samplingState.onLinesInserted(A),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(A.fromLineNumber,A.toLineNumber)}onScrollChanged(A){return this._actual.onScrollChanged()}onThemeChanged(A){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(A){if(this._samplingState){let B=[];for(const E of A.ranges){const W=this._samplingState.modelLineRangeToMinimapLineRange(E.fromLineNumber,E.toLineNumber);W&&B.push({fromLineNumber:W[0],toLineNumber:W[1]})}return B.length?this._actual.onTokensChanged(B):!1}else return this._actual.onTokensChanged(A.ranges)}onTokensColorsChanged(A){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(A){return this._actual.onZonesChanged()}prepareRender(A){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(A){let B=A.visibleRange.startLineNumber,E=A.visibleRange.endLineNumber;this._samplingState&&(B=this._samplingState.modelLineToMinimapLine(B),E=this._samplingState.modelLineToMinimapLine(E));const W={viewportContainsWhitespaceGaps:A.viewportData.whitespaceViewportData.length>0,scrollWidth:A.scrollWidth,scrollHeight:A.scrollHeight,viewportStartLineNumber:B,viewportEndLineNumber:E,viewportStartLineNumberVerticalOffset:A.getVerticalOffsetForLineNumber(B),scrollTop:A.scrollTop,scrollLeft:A.scrollLeft,viewportWidth:A.viewportWidth,viewportHeight:A.viewportHeight};this._actual.render(W)}_recreateLineSampling(){this._minimapSelections=null;const A=Boolean(this._samplingState),[B,E]=N.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=B,A&&this._samplingState)for(const W of E)switch(W.type){case"deleted":this._actual.onLinesDeleted(W.deleteFromLineNumber,W.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(W.insertFromLineNumber,W.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(A){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[A-1]):this._context.model.getLineContent(A)}getMinimapLinesRenderingData(A,B,E){if(this._samplingState){let W=[];for(let R=0,F=B-A+1;R<F;R++)E[R]?W[R]=this._context.model.getViewLineData(this._samplingState.minimapLines[A+R-1]):W[R]=null;return W}return this._context.model.getMinimapLinesRenderingData(A,B,E).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const A of this._selections){const[B,E]=this._samplingState.decorationLineRangeToMinimapLineRange(A.startLineNumber,A.endLineNumber);this._minimapSelections.push(new i.Selection(B,A.startColumn,E,A.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(A,B){let E;if(this._samplingState){const R=this._samplingState.minimapLines[A-1],F=this._samplingState.minimapLines[B-1];E=new c.Range(R,1,F,this._context.model.getLineMaxColumn(F))}else E=new c.Range(A,1,B,this._context.model.getLineMaxColumn(B));const W=this._context.model.getDecorationsInViewport(E);if(this._samplingState){let R=[];for(const F of W)if(!!F.options.minimap){const V=F.range,K=this._samplingState.modelLineToMinimapLine(V.startLineNumber),G=this._samplingState.modelLineToMinimapLine(V.endLineNumber);R.push(new r.ViewModelDecoration(new c.Range(K,V.startColumn,G,V.endColumn),F.options))}return R}return W}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(A){this._samplingState&&(A=this._samplingState.minimapLines[A-1]),this._context.model.revealRange("mouse",!1,new c.Range(A,1,A,1),1,0)}setScrollTop(A){this._context.model.setScrollPosition({scrollTop:A},1)}}e.Minimap=I;class T extends w.Disposable{constructor(A,B){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=A,this._model=B,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=M.createFastDomNode(document.createElement("div")),f.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=M.createFastDomNode(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=M.createFastDomNode(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=M.createFastDomNode(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=M.createFastDomNode(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=M.createFastDomNode(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=C.addStandardDisposableListener(this._domNode.domNode,"mousedown",E=>{if(E.preventDefault(),this._model.options.renderMinimap!==0&&!!this._lastRenderData){if(this._model.options.size!=="proportional"){if(E.leftButton&&this._lastRenderData){const G=C.getDomNodePagePosition(this._slider.domNode),J=G.top+G.height/2;this._startSliderDragging(E.buttons,E.posx,J,E.posy,this._lastRenderData.renderedLayout)}return}const R=this._model.options.minimapLineHeight,F=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*E.browserEvent.offsetY;let K=Math.floor(F/R)+this._lastRenderData.renderedLayout.startLineNumber;K=Math.min(K,this._model.getLineCount()),this._model.revealLineNumber(K)}}),this._sliderMouseMoveMonitor=new k.GlobalMouseMoveMonitor,this._sliderMouseDownListener=C.addStandardDisposableListener(this._slider.domNode,"mousedown",E=>{E.preventDefault(),E.stopPropagation(),E.leftButton&&this._lastRenderData&&this._startSliderDragging(E.buttons,E.posx,E.posy,E.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=n.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=C.addDisposableListener(this._domNode.domNode,n.EventType.Start,E=>{E.preventDefault(),E.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(E))},{passive:!1}),this._sliderTouchMoveListener=C.addDisposableListener(this._domNode.domNode,n.EventType.Change,E=>{E.preventDefault(),E.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(E)},{passive:!1}),this._sliderTouchEndListener=C.addStandardDisposableListener(this._domNode.domNode,n.EventType.End,E=>{E.preventDefault(),E.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(A,B,E,W,R){this._slider.toggleClassName("active",!0);const F=(V,K)=>{const G=Math.abs(K-B);if(S.isWindows&&G>_){this._model.setScrollTop(R.scrollTop);return}const J=V-E;this._model.setScrollTop(R.getDesiredScrollTopFromDelta(J))};W!==E&&F(W,B),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,A,k.standardMouseMoveMerger,V=>F(V.posy,V.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(A){const B=this._domNode.domNode.getBoundingClientRect().top,E=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(A.pageY-B);this._model.setScrollTop(E)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new D(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(A,B){return this._lastRenderData?this._lastRenderData.onLinesChanged(A,B):!1}onLinesDeleted(A,B){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(A,B),!0}onLinesInserted(A,B){return this._lastRenderData&&this._lastRenderData.onLinesInserted(A,B),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(A){return this._lastRenderData?this._lastRenderData.onTokensChanged(A):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(A){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}A.scrollLeft+A.viewportWidth>=A.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const E=b.create(this._model.options,A.viewportStartLineNumber,A.viewportEndLineNumber,A.viewportStartLineNumberVerticalOffset,A.viewportHeight,A.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),A.scrollTop,A.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(E.sliderNeeded?"block":"none"),this._slider.setTop(E.sliderTop),this._slider.setHeight(E.sliderHeight);const W=A.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,R=Math.min(this._model.options.minimapWidth,Math.round(W*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(R),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-R),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(E.sliderHeight),this.renderDecorations(E),this._lastRenderData=this.renderLines(E)}renderDecorations(A){if(this._renderDecorations){this._renderDecorations=!1;const B=this._model.getSelections(),E=this._model.getMinimapDecorationsInViewport(A.startLineNumber,A.endLineNumber),{canvasInnerWidth:W,canvasInnerHeight:R}=this._model.options,F=this._model.options.minimapLineHeight,V=this._model.options.minimapCharWidth,K=this._model.getOptions().tabSize,G=this._decorationsCanvas.domNode.getContext("2d");G.clearRect(0,0,W,R);const J=new Map;for(let se=0;se<B.length;se++){const ie=B[se];for(let ae=ie.startLineNumber;ae<=ie.endLineNumber;ae++)this.renderDecorationOnLine(G,J,ie,this._selectionColor,A,ae,F,F,K,V)}for(let se=0;se<E.length;se++){const ie=E[se];if(!!ie.options.minimap){const ae=ie.options.minimap.getColor(this._theme);for(let X=ie.range.startLineNumber;X<=ie.range.endLineNumber;X++)switch(ie.options.minimap.position){case o.MinimapPosition.Inline:this.renderDecorationOnLine(G,J,ie.range,ae,A,X,F,F,K,V);continue;case o.MinimapPosition.Gutter:const U=(X-A.startLineNumber)*F,P=2;this.renderDecoration(G,ae,P,U,m,F);continue}}}}}renderDecorationOnLine(A,B,E,W,R,F,V,K,G,J){const se=(F-R.startLineNumber)*K;if(!(se+V<0||se>this._model.options.canvasInnerHeight)){let ie=B.get(F);const ae=!ie;if(!ie){const q=this._model.getLineContent(F);ie=[p.MINIMAP_GUTTER_WIDTH];for(let Q=1;Q<q.length+1;Q++){const ce=q.charCodeAt(Q-1),ue=ce===9?G*J:v.isFullWidthCharacter(ce)?2*J:J;ie[Q]=ie[Q-1]+ue}B.set(F,ie)}const{startColumn:X,endColumn:U,startLineNumber:P,endLineNumber:x}=E,H=P===F?ie[X-1]:p.MINIMAP_GUTTER_WIDTH,z=x>F?ie.length-1:U-1;if(z>0){const q=ie[z]-H||2;this.renderDecoration(A,W,H,se,q,V)}ae&&this.renderLineHighlight(A,W,se,V)}}renderLineHighlight(A,B,E,W){A.fillStyle=B&&B.transparent(.5).toString()||"",A.fillRect(p.MINIMAP_GUTTER_WIDTH,E,A.canvas.width,W)}renderDecoration(A,B,E,W,R,F){A.fillStyle=B&&B.toString()||"",A.fillRect(E,W,R,F)}renderLines(A){const B=A.startLineNumber,E=A.endLineNumber,W=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(A)){const Z=this._lastRenderData._get();return new L(A,Z.imageData,Z.lines)}const R=this._getBuffer();if(!R)return null;let[F,V,K]=T._renderUntouchedLines(R,B,E,W,this._lastRenderData);const G=this._model.getMinimapLinesRenderingData(B,E,K),J=this._model.getOptions().tabSize,se=this._model.options.backgroundColor,ie=this._model.tokensColorTracker,ae=ie.backgroundIsLight(),X=this._model.options.renderMinimap,U=this._model.options.charRenderer(),P=this._model.options.fontScale,x=this._model.options.minimapCharWidth,z=(X===1?2:2+1)*P,q=W>z?Math.floor((W-z)/2):0;let Q=0;const ce=[];for(let Z=0,le=E-B+1;Z<le;Z++)K[Z]&&T._renderLine(R,se,ae,X,x,ie,U,Q,q,J,G[Z],P,W),ce[Z]=new y(Q),Q+=W;const ue=F===-1?0:F,j=(V===-1?R.height:V)-ue;return this._canvas.domNode.getContext("2d").putImageData(R,0,0,0,ue,R.width,j),new L(A,R,ce)}static _renderUntouchedLines(A,B,E,W,R){const F=[];if(!R){for(let Y=0,j=E-B+1;Y<j;Y++)F[Y]=!0;return[-1,-1,F]}const V=R._get(),K=V.imageData.data,G=V.rendLineNumberStart,J=V.lines,se=J.length,ie=A.width,ae=A.data,X=(E-B+1)*W*ie*4;let U=-1,P=-1,x=-1,H=-1,z=-1,q=-1,Q=0;for(let Y=B;Y<=E;Y++){const j=Y-B,ne=Y-G,Z=ne>=0&&ne<se?J[ne].dy:-1;if(Z===-1){F[j]=!0,Q+=W;continue}const le=Z*ie*4,he=(Z+W)*ie*4,re=Q*ie*4,de=(Q+W)*ie*4;H===le&&q===re?(H=he,q=de):(x!==-1&&(ae.set(K.subarray(x,H),z),U===-1&&x===0&&x===z&&(U=H),P===-1&&H===X&&x===z&&(P=x)),x=le,H=he,z=re,q=de),F[j]=!1,Q+=W}x!==-1&&(ae.set(K.subarray(x,H),z),U===-1&&x===0&&x===z&&(U=H),P===-1&&H===X&&x===z&&(P=x));const ce=U===-1?-1:U/(ie*4),ue=P===-1?-1:P/(ie*4);return[ce,ue,F]}static _renderLine(A,B,E,W,R,F,V,K,G,J,se,ie,ae){const X=se.content,U=se.tokens,P=A.width-R,x=ae===1;let H=p.MINIMAP_GUTTER_WIDTH,z=0,q=0;for(let Q=0,ce=U.getCount();Q<ce;Q++){const ue=U.getEndOffset(Q),Y=U.getForeground(Q),j=F.getColor(Y);for(;z<ue;z++){if(H>P)return;const ne=X.charCodeAt(z);if(ne===9){const Z=J-(z+q)%J;q+=Z-1,H+=Z*R}else if(ne===32)H+=R;else{const Z=v.isFullWidthCharacter(ne)?2:1;for(let le=0;le<Z;le++)if(W===2?V.blockRenderChar(A,H,K+G,j,B,E,x):V.renderChar(A,H,K+G,ne,j,B,ie,E,x),H+=R,H>P)return}}}}}s.registerThemingParticipant((O,A)=>{const B=O.getColor(d.minimapBackground);B&&A.addRule(`.monaco-editor .minimap > canvas { opacity: ${B.rgba.a}; will-change: opacity; }`);const E=O.getColor(d.minimapSliderBackground);E&&A.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${E}; }`);const W=O.getColor(d.minimapSliderHoverBackground);W&&A.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${W}; }`);const R=O.getColor(d.minimapSliderActiveBackground);R&&A.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${R}; }`);const F=O.getColor(d.scrollbarShadow);F&&A.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${F} -6px 0 6px -6px inset; }`)})}),define(ee[579],te([0,1,30,45,22,12,325]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class S extends M.ViewPart{constructor(l){super(l);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const p=this._context.configuration.options.get(87);this._useShadows=p.useShadows,this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const l=this._useShadows&&this._scrollTop>0;return this._shouldShow!==l?(this._shouldShow=l,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const f=this._context.configuration.options.get(124);f.minimap.renderMinimap===0||f.minimap.minimapWidth>0&&f.minimap.minimapLeft===0?this._width=f.width:this._width=f.width-f.minimap.minimapWidth-f.verticalScrollbarWidth}onConfigurationChanged(l){const p=this._context.configuration.options.get(87);return this._useShadows=p.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(l){return this._scrollTop=l.scrollTop,this._updateShouldShow()}prepareRender(l){}render(l){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=S,w.registerThemingParticipant((v,l)=>{const f=v.getColor(k.scrollbarShadow);f&&l.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${f} 0 6px 6px -6px inset; }`)})}),define(ee[580],te([0,1,34,94,22,12,326]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class S{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class v{constructor(r,d){this.lineNumber=r,this.ranges=d}}function l(a){return new S(a)}function f(a){return new v(a.lineNumber,a.ranges.map(l))}const p=C.isEdgeLegacy;class c extends M.DynamicViewOverlay{constructor(r){super();this._previousFrameVisibleRangesWithStyle=[],this._context=r;const d=this._context.configuration.options;this._lineHeight=d.get(53),this._roundedSelection=d.get(85),this._typicalHalfwidthCharacterWidth=d.get(38).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const d=this._context.configuration.options;return this._lineHeight=d.get(53),this._roundedSelection=d.get(85),this._typicalHalfwidthCharacterWidth=d.get(38).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_visibleRangesHaveGaps(r){for(let d=0,s=r.length;d<s;d++)if(r[d].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(r,d,s){const i=this._typicalHalfwidthCharacterWidth/4;let n=null,t=null;if(s&&s.length>0&&d.length>0){const o=d[0].lineNumber;if(o===r.startLineNumber)for(let _=0;!n&&_<s.length;_++)s[_].lineNumber===o&&(n=s[_].ranges[0]);const h=d[d.length-1].lineNumber;if(h===r.endLineNumber)for(let _=s.length-1;!t&&_>=0;_--)s[_].lineNumber===h&&(t=s[_].ranges[0]);n&&!n.startStyle&&(n=null),t&&!t.startStyle&&(t=null)}for(let o=0,h=d.length;o<h;o++){const _=d[o].ranges[0],m=_.left,g=_.left+_.width,b={top:0,bottom:0},y={top:0,bottom:0};if(o>0){const L=d[o-1].ranges[0].left,D=d[o-1].ranges[0].left+d[o-1].ranges[0].width;u(m-L)<i?b.top=2:m>L&&(b.top=1),u(g-D)<i?y.top=2:L<g&&g<D&&(y.top=1)}else n&&(b.top=n.startStyle.top,y.top=n.endStyle.top);if(o+1<h){const L=d[o+1].ranges[0].left,D=d[o+1].ranges[0].left+d[o+1].ranges[0].width;u(m-L)<i?b.bottom=2:L<m&&m<D&&(b.bottom=1),u(g-D)<i?y.bottom=2:g<D&&(y.bottom=1)}else t&&(b.bottom=t.startStyle.bottom,y.bottom=t.endStyle.bottom);_.startStyle=b,_.endStyle=y}}_getVisibleRangesWithStyle(r,d,s){const n=(d.linesVisibleRangesForRange(r,!0)||[]).map(f),t=this._visibleRangesHaveGaps(n);return!p&&!t&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(d.visibleRange,n,s),n}_createSelectionPiece(r,d,s,i,n){return'<div class="cslr '+s+'" style="top:'+r.toString()+"px;left:"+i.toString()+"px;width:"+n.toString()+"px;height:"+d+'px;"></div>'}_actualRenderOneSelection(r,d,s,i){if(i.length!==0){const n=!!i[0].ranges[0].startStyle,t=this._lineHeight.toString(),o=(this._lineHeight-1).toString(),h=i[0].lineNumber,_=i[i.length-1].lineNumber;for(let m=0,g=i.length;m<g;m++){const b=i[m],y=b.lineNumber,L=y-d,D=s&&(y===_||y===h)?o:t,N=s&&y===h?1:0;let I="",T="";for(let O=0,A=b.ranges.length;O<A;O++){const B=b.ranges[O];if(n){const W=B.startStyle,R=B.endStyle;if(W.top===1||W.bottom===1){I+=this._createSelectionPiece(N,D,c.SELECTION_CLASS_NAME,B.left-c.ROUNDED_PIECE_WIDTH,c.ROUNDED_PIECE_WIDTH);let F=c.EDITOR_BACKGROUND_CLASS_NAME;W.top===1&&(F+=" "+c.SELECTION_TOP_RIGHT),W.bottom===1&&(F+=" "+c.SELECTION_BOTTOM_RIGHT),I+=this._createSelectionPiece(N,D,F,B.left-c.ROUNDED_PIECE_WIDTH,c.ROUNDED_PIECE_WIDTH)}if(R.top===1||R.bottom===1){I+=this._createSelectionPiece(N,D,c.SELECTION_CLASS_NAME,B.left+B.width,c.ROUNDED_PIECE_WIDTH);let F=c.EDITOR_BACKGROUND_CLASS_NAME;R.top===1&&(F+=" "+c.SELECTION_TOP_LEFT),R.bottom===1&&(F+=" "+c.SELECTION_BOTTOM_LEFT),I+=this._createSelectionPiece(N,D,F,B.left+B.width,c.ROUNDED_PIECE_WIDTH)}}let E=c.SELECTION_CLASS_NAME;if(n){const W=B.startStyle,R=B.endStyle;W.top===0&&(E+=" "+c.SELECTION_TOP_LEFT),W.bottom===0&&(E+=" "+c.SELECTION_BOTTOM_LEFT),R.top===0&&(E+=" "+c.SELECTION_TOP_RIGHT),R.bottom===0&&(E+=" "+c.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(N,D,E,B.left,B.width)}r[L][0]+=I,r[L][1]+=T}}}prepareRender(r){const d=[],s=r.visibleRange.startLineNumber,i=r.visibleRange.endLineNumber;for(let t=s;t<=i;t++){const o=t-s;d[o]=["",""]}const n=[];for(let t=0,o=this._selections.length;t<o;t++){const h=this._selections[t];if(h.isEmpty()){n[t]=null;continue}const _=this._getVisibleRangesWithStyle(h,r,this._previousFrameVisibleRangesWithStyle[t]);n[t]=_,this._actualRenderOneSelection(d,s,this._selections.length>1,_)}this._previousFrameVisibleRangesWithStyle=n,this._renderResult=d.map(([t,o])=>t+o)}render(r,d){if(!this._renderResult)return"";const s=d-r;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.SelectionsOverlay=c,c.SELECTION_CLASS_NAME="selected-text",c.SELECTION_TOP_LEFT="top-left-radius",c.SELECTION_BOTTOM_LEFT="bottom-left-radius",c.SELECTION_TOP_RIGHT="top-right-radius",c.SELECTION_BOTTOM_RIGHT="bottom-right-radius",c.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",c.ROUNDED_PIECE_WIDTH=10,w.registerThemingParticipant((a,r)=>{const d=a.getColor(k.editorSelectionBackground);d&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${d}; }`);const s=a.getColor(k.editorInactiveSelection);s&&r.addRule(`.monaco-editor .selected-text { background-color: ${s}; }`);const i=a.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function u(a){return a<0?-a:a}}),define(ee[49],te([0,1,454,29,22,12]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=k.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},C.localize(0,null)),e.editorLineHighlightBorder=k.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},C.localize(1,null)),e.editorRangeHighlight=k.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},C.localize(2,null),!0),e.editorRangeHighlightBorder=k.registerColor("editor.rangeHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},C.localize(3,null),!0),e.editorSymbolHighlight=k.registerColor("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hc:null},C.localize(4,null),!0),e.editorSymbolHighlightBorder=k.registerColor("editor.symbolHighlightBorder",{dark:null,light:null,hc:k.activeContrastBorder},C.localize(5,null),!0),e.editorCursorForeground=k.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:M.Color.black,hc:M.Color.white},C.localize(6,null)),e.editorCursorBackground=k.registerColor("editorCursor.background",null,C.localize(7,null)),e.editorWhitespaces=k.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},C.localize(8,null)),e.editorIndentGuides=k.registerColor("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},C.localize(9,null)),e.editorActiveIndentGuides=k.registerColor("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hc:e.editorWhitespaces},C.localize(10,null)),e.editorLineNumbers=k.registerColor("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:M.Color.white},C.localize(11,null));const S=k.registerColor("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:k.activeContrastBorder},C.localize(12,null),!1,C.localize(13,null));e.editorActiveLineNumber=k.registerColor("editorLineNumber.activeForeground",{dark:S,light:S,hc:S},C.localize(14,null)),e.editorRuler=k.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:M.Color.lightgrey,hc:M.Color.white},C.localize(15,null)),e.editorCodeLensForeground=k.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},C.localize(16,null)),e.editorBracketMatchBackground=k.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},C.localize(17,null)),e.editorBracketMatchBorder=k.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:k.contrastBorder},C.localize(18,null)),e.editorOverviewRulerBorder=k.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},C.localize(19,null)),e.editorOverviewRulerBackground=k.registerColor("editorOverviewRuler.background",null,C.localize(20,null)),e.editorGutter=k.registerColor("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hc:k.editorBackground},C.localize(21,null)),e.editorUnnecessaryCodeBorder=k.registerColor("editorUnnecessaryCode.border",{dark:null,light:null,hc:M.Color.fromHex("#fff").transparent(.8)},C.localize(22,null)),e.editorUnnecessaryCodeOpacity=k.registerColor("editorUnnecessaryCode.opacity",{dark:M.Color.fromHex("#000a"),light:M.Color.fromHex("#0007"),hc:null},C.localize(23,null));const v=new M.Color(new M.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=k.registerColor("editorOverviewRuler.rangeHighlightForeground",{dark:v,light:v,hc:v},C.localize(24,null),!0),e.overviewRulerError=k.registerColor("editorOverviewRuler.errorForeground",{dark:new M.Color(new M.RGBA(255,18,18,.7)),light:new M.Color(new M.RGBA(255,18,18,.7)),hc:new M.Color(new M.RGBA(255,50,50,1))},C.localize(25,null)),e.overviewRulerWarning=k.registerColor("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hc:k.editorWarningBorder},C.localize(26,null)),e.overviewRulerInfo=k.registerColor("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hc:k.editorInfoBorder},C.localize(27,null)),w.registerThemingParticipant((l,f)=>{const p=l.getColor(k.editorBackground);p&&f.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${p}; }`);const c=l.getColor(k.editorForeground);c&&f.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${c}; }`);const u=l.getColor(e.editorGutter);u&&f.addRule(`.monaco-editor .margin { background-color: ${u}; }`);const a=l.getColor(e.editorRangeHighlight);a&&f.addRule(`.monaco-editor .rangeHighlight { background-color: ${a}; }`);const r=l.getColor(e.editorRangeHighlightBorder);r&&f.addRule(`.monaco-editor .rangeHighlight { border: 1px ${l.type==="hc"?"dotted":"solid"} ${r}; }`);const d=l.getColor(e.editorSymbolHighlight);d&&f.addRule(`.monaco-editor .symbolHighlight { background-color: ${d}; }`);const s=l.getColor(e.editorSymbolHighlightBorder);s&&f.addRule(`.monaco-editor .symbolHighlight { border: 1px ${l.type==="hc"?"dotted":"solid"} ${s}; }`);const i=l.getColor(e.editorWhitespaces);i&&(f.addRule(`.monaco-editor .mtkw { color: ${i} !important; }`),f.addRule(`.monaco-editor .mtkz { color: ${i} !important; }`))})}),define(ee[581],te([0,1,94,49,19,12,21,314]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;let v=!0;class l extends C.DynamicViewOverlay{constructor(u){super();this._context=u;const a=this._context.configuration.options,r=a.get(124);this._lineHeight=a.get(53),this._renderLineHighlight=a.get(80),this._renderLineHighlightOnlyWhenFocus=a.get(81),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let u=!1;const a=v?this._selections.slice(0,1):this._selections,r=a.map(s=>s.positionLineNumber);r.sort((s,i)=>s-i),k.equals(this._cursorLineNumbers,r)||(this._cursorLineNumbers=r,u=!0);const d=a.every(s=>s.isEmpty());return this._selectionIsEmpty!==d&&(this._selectionIsEmpty=d,u=!0),u}onThemeChanged(u){return this._readFromSelections()}onConfigurationChanged(u){const a=this._context.configuration.options,r=a.get(124);return this._lineHeight=a.get(53),this._renderLineHighlight=a.get(80),this._renderLineHighlightOnlyWhenFocus=a.get(81),this._contentLeft=r.contentLeft,this._contentWidth=r.contentWidth,!0}onCursorStateChanged(u){return this._selections=u.selections,this._readFromSelections()}onFlushed(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollWidthChanged||u.scrollTopChanged}onZonesChanged(u){return!0}onFocusChanged(u){return this._renderLineHighlightOnlyWhenFocus?(this._focused=u.isFocused,!0):!1}prepareRender(u){if(!this._shouldRenderThis()){this._renderData=null;return}const a=this._renderOne(u),r=u.visibleRange.startLineNumber,d=u.visibleRange.endLineNumber,s=this._cursorLineNumbers.length;let i=0;const n=[];for(let t=r;t<=d;t++){const o=t-r;for(;i<s&&this._cursorLineNumbers[i]<t;)i++;i<s&&this._cursorLineNumbers[i]===t?n[o]=a:n[o]=""}this._renderData=n}render(u,a){if(!this._renderData)return"";const r=a-u;return r>=this._renderData.length?"":this._renderData[r]}}e.AbstractLineHighlightOverlay=l;class f extends l{_renderOne(u){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(u.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineHighlightOverlay=f;class p extends l{_renderOne(u){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.CurrentLineMarginHighlightOverlay=p,w.registerThemingParticipant((c,u)=>{v=!1;const a=c.getColor(M.editorLineHighlight);if(a&&(u.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${a}; }`),u.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${a}; border: none; }`)),!a||a.isTransparent()||c.defines(M.editorLineHighlightBorder)){const r=c.getColor(M.editorLineHighlightBorder);r&&(v=!0,u.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${r}; }`),u.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${r}; }`),c.type==="hc"&&(u.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),u.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(ee[582],te([0,1,94,13,49,12,317]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class S extends C.DynamicViewOverlay{constructor(l){super();this._context=l,this._primaryLineNumber=0;const f=this._context.configuration.options,p=f.get(125),c=f.get(38);this._lineHeight=f.get(53),this._spaceWidth=c.spaceWidth,this._enabled=f.get(78),this._activeIndentEnabled=f.get(47),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(l){const f=this._context.configuration.options,p=f.get(125),c=f.get(38);return this._lineHeight=f.get(53),this._spaceWidth=c.spaceWidth,this._enabled=f.get(78),this._activeIndentEnabled=f.get(47),this._maxIndentLeft=p.wrappingColumn===-1?-1:p.wrappingColumn*c.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(l){const f=l.selections[0],p=f.isEmpty()?f.positionLineNumber:0;return this._primaryLineNumber!==p?(this._primaryLineNumber=p,!0):!1}onDecorationsChanged(l){return!0}onFlushed(l){return!0}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return l.scrollTopChanged}onZonesChanged(l){return!0}onLanguageConfigurationChanged(l){return!0}prepareRender(l){if(!this._enabled){this._renderResult=null;return}const f=l.visibleRange.startLineNumber,p=l.visibleRange.endLineNumber,{indentSize:c}=this._context.model.getTextModelOptions(),u=c*this._spaceWidth,a=l.scrollWidth,r=this._lineHeight,d=this._context.model.getLinesIndentGuides(f,p);let s=0,i=0,n=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const o=this._context.model.getActiveIndentGuide(this._primaryLineNumber,f,p);s=o.startLineNumber,i=o.endLineNumber,n=o.indent}const t=[];for(let o=f;o<=p;o++){const h=s<=o&&o<=i,_=o-f,m=d[_];let g="";if(m>=1){const b=l.visibleRangeForPosition(new M.Position(o,1));let y=b?b.left:0;for(let L=1;L<=m&&(g+=`<div class="${h&&L===n?"cigra":"cigr"}" style="left:${y}px;height:${r}px;width:${u}px"></div>`,y+=u,!(y>a||this._maxIndentLeft>0&&y>this._maxIndentLeft));L++);}t[_]=g}this._renderResult=t}render(l,f){if(!this._renderResult)return"";const p=f-l;return p<0||p>=this._renderResult.length?"":this._renderResult[p]}}e.IndentGuidesOverlay=S,w.registerThemingParticipant((v,l)=>{const f=v.getColor(k.editorIndentGuides);f&&l.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${f} inset; }`);const p=v.getColor(k.editorActiveIndentGuides)||f;p&&l.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${p} inset; }`)})}),define(ee[255],te([0,1,16,94,13,49,12,318]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class v extends M.DynamicViewOverlay{constructor(f){super();this._context=f,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const f=this._context.configuration.options;this._lineHeight=f.get(53);const p=f.get(54);this._renderLineNumbers=p.renderType,this._renderCustomLineNumbers=p.renderFn,this._renderFinalNewline=f.get(79);const c=f.get(124);this._lineNumbersLeft=c.lineNumbersLeft,this._lineNumbersWidth=c.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(f){return this._readConfig(),!0}onCursorStateChanged(f){const p=f.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(p);let c=!1;return this._activeLineNumber!==p.lineNumber&&(this._activeLineNumber=p.lineNumber,c=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(c=!0),c}onFlushed(f){return!0}onLinesChanged(f){return!0}onLinesDeleted(f){return!0}onLinesInserted(f){return!0}onScrollChanged(f){return f.scrollTopChanged}onZonesChanged(f){return!0}_getLineRenderLineNumber(f){const p=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(f,1));if(p.column!==1)return"";const c=p.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(c);if(this._renderLineNumbers===2){const u=Math.abs(this._lastCursorModelPosition.lineNumber-c);return u===0?'<span class="relative-current-line-number">'+c+"</span>":String(u)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===c||c%10==0?String(c):"":String(c)}prepareRender(f){if(this._renderLineNumbers===0){this._renderResult=null;return}const p=C.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",c=f.visibleRange.startLineNumber,u=f.visibleRange.endLineNumber,a='<div class="'+v.CLASS_NAME+p+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.model.getLineCount(),d=[];for(let s=c;s<=u;s++){const i=s-c;if(!this._renderFinalNewline&&s===r&&this._context.model.getLineLength(s)===0){d[i]="";continue}const n=this._getLineRenderLineNumber(s);n?s===this._activeLineNumber?d[i]='<div class="active-line-number '+v.CLASS_NAME+p+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+n+"</div>":d[i]=a+n+"</div>":d[i]=""}this._renderResult=d}render(f,p){if(!this._renderResult)return"";const c=p-f;return c<0||c>=this._renderResult.length?"":this._renderResult[c]}}e.LineNumbersOverlay=v,v.CLASS_NAME="line-numbers",S.registerThemingParticipant((l,f)=>{const p=l.getColor(w.editorLineNumbers);p&&f.addRule(`.monaco-editor .line-numbers { color: ${p}; }`);const c=l.getColor(w.editorActiveLineNumber);c&&f.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${c}; }`)})}),define(ee[583],te([0,1,441,34,30,16,8,69,214,211,45,255,221,38,105,13,3,21,124,313]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class t{constructor(y,L,D){this.top=y,this.left=L,this.width=D}setWidth(y){return new t(this.top,this.left,y)}}const o=M.isFirefox;class h extends p.ViewPart{constructor(y,L,D){super(y);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=L,this._viewHelper=D,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,I=N.get(124);this._setAccessibilityOptions(N),this._contentLeft=I.contentLeft,this._contentWidth=I.contentWidth,this._contentHeight=I.height,this._fontInfo=N.get(38),this._lineHeight=N.get(53),this._emptySelectionClipboard=N.get(28),this._copyWithSyntaxHighlighting=N.get(18),this._visibleTextArea=null,this._selections=[new i.Selection(1,1,1,1)],this._modelSelections=[new i.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=k.createFastDomNode(document.createElement("textarea")),p.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("tabindex",String(N.get(107))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",C.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),w.isWeb&&N.get(75)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=k.createFastDomNode(document.createElement("div")),this.textAreaCover.setPosition("absolute");const T={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:A=>this._context.model.getLineMaxColumn(A),getValueInRange:(A,B)=>this._context.model.getValueInRange(A,B)},O={getDataToCopy:A=>{const B=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,w.isWindows),E=this._context.model.getEOL(),W=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),R=Array.isArray(B)?B:null,F=Array.isArray(B)?B.join(E):B;let V,K=null;if(A&&(l.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&F.length<65536)){const G=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);G&&(V=G.html,K=G.mode)}return{isFromEmptySelection:W,multicursorText:R,text:F,html:V,mode:K}},getScreenReaderContent:A=>{if(this._accessibilitySupport===1){if(w.isMacintosh){const B=this._selections[0];if(B.isEmpty()){const E=B.getStartPosition();let W=this._getWordBeforePosition(E);if(W.length===0&&(W=this._getCharacterBeforePosition(E)),W.length>0)return new f.TextAreaState(W,W.length,W.length,E,E)}}return f.TextAreaState.EMPTY}return f.PagedScreenReaderStrategy.fromEditorSelection(A,T,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(A,B,E)=>this._context.model.deduceModelPositionRelativeToViewPosition(A,B,E)};this._textAreaInput=this._register(new l.TextAreaInput(O,this.textArea)),this._register(this._textAreaInput.onKeyDown(A=>{this._viewController.emitKeyDown(A)})),this._register(this._textAreaInput.onKeyUp(A=>{this._viewController.emitKeyUp(A)})),this._register(this._textAreaInput.onPaste(A=>{let B=!1,E=null,W=null;A.metadata&&(B=this._emptySelectionClipboard&&!!A.metadata.isFromEmptySelection,E=typeof A.metadata.multicursorText!="undefined"?A.metadata.multicursorText:null,W=A.metadata.mode),this._viewController.paste(A.text,B,E,W)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(A=>{A.replaceCharCnt?this._viewController.replacePreviousChar(A.text,A.replaceCharCnt):this._viewController.type(A.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(A=>{this._viewController.setSelection(A)})),this._register(this._textAreaInput.onCompositionStart(A=>{const B=this._selections[0].startLineNumber,E=this._selections[0].startColumn-(A.moveOneCharacterLeft?1:0);this._context.model.revealRange("keyboard",!0,new s.Range(B,E,B,E),0,1);const W=this._viewHelper.visibleRangeForPositionRelativeToEditor(B,E);W&&(this._visibleTextArea=new t(this._context.viewLayout.getVerticalOffsetForLineNumber(B),W.left,o?0:1),this._render()),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(A=>{this._visibleTextArea=this._visibleTextArea.setWidth(_(A.data,this._fontInfo)),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${n.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getWordBeforePosition(y){const L=this._context.model.getLineContent(y.lineNumber),D=r.getMapForWordSeparators(this._context.configuration.options.get(110));let N=y.column,I=0;for(;N>1;){const T=L.charCodeAt(N-2);if(D.get(T)!==0||I>50)return L.substring(N-1,y.column-1);I++,N--}return L.substring(0,y.column-1)}_getCharacterBeforePosition(y){if(y.column>1){const D=this._context.model.getLineContent(y.lineNumber).charAt(y.column-2);if(!S.isHighSurrogate(D.charCodeAt(0)))return D}return""}_getAriaLabel(y){return y.get(2)===1?C.localize(1,null,w.isLinux?"Shift+Alt+F1":"Alt+F1"):y.get(4)}_setAccessibilityOptions(y){this._accessibilitySupport=y.get(2);const L=y.get(3);this._accessibilitySupport===2&&L===a.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=100:this._accessibilityPageSize=L}onConfigurationChanged(y){const L=this._context.configuration.options,D=L.get(124);return this._setAccessibilityOptions(L),this._contentLeft=D.contentLeft,this._contentWidth=D.contentWidth,this._contentHeight=D.height,this._fontInfo=L.get(38),this._lineHeight=L.get(53),this._emptySelectionClipboard=L.get(28),this._copyWithSyntaxHighlighting=L.get(18),this.textArea.setAttribute("aria-label",this._getAriaLabel(L)),this.textArea.setAttribute("tabindex",String(L.get(107))),w.isWeb&&y.hasChanged(75)&&(L.get(75)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),y.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(y){return this._selections=y.selections.slice(0),this._modelSelections=y.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(y){return!0}onFlushed(y){return!0}onLinesChanged(y){return!0}onLinesDeleted(y){return!0}onLinesInserted(y){return!0}onScrollChanged(y){return this._scrollLeft=y.scrollLeft,this._scrollTop=y.scrollTop,!0}onZonesChanged(y){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(y){y.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",y.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),y.role&&this.textArea.setAttribute("role",y.role)}prepareRender(y){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=y.visibleRangeForPosition(this._primaryCursorPosition)}render(y){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const y=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(y<this._contentLeft||y>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(w.isMacintosh){this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,L,y,o?0:1,o?0:1)}_renderInsideEditor(y,L,D,N,I){this._lastRenderPosition=y;const T=this.textArea,O=this.textAreaCover;v.Configuration.applyFontInfo(T,this._fontInfo),T.setTop(L),T.setLeft(D),T.setWidth(N),T.setHeight(I),O.setTop(0),O.setLeft(0),O.setWidth(0),O.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const y=this.textArea,L=this.textAreaCover;if(v.Configuration.applyFontInfo(y,this._fontInfo),y.setTop(0),y.setLeft(0),L.setTop(0),L.setLeft(0),o){y.setWidth(0),y.setHeight(0),L.setWidth(0),L.setHeight(0);return}y.setWidth(1),y.setHeight(1),L.setWidth(1),L.setHeight(1);const D=this._context.configuration.options;D.get(44)?L.setClassName("monaco-editor-background textAreaCover "+u.Margin.OUTER_CLASS_NAME):D.get(54).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+c.LineNumbersOverlay.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=h;function _(b,y){const D=document.createElement("canvas").getContext("2d");D.font=m(y);const N=D.measureText(b);return M.isFirefox?N.width+2:N.width}function m(b){return g("normal",b.fontWeight,b.fontSize,b.lineHeight,b.fontFamily)}function g(b,y,L,D,N){return`${b} normal ${y} ${L}px / ${D}px ${N}`}}),define(ee[584],te([0,1,30,29,45,13,17,49]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class l{constructor(c,u){const a=c.options;this.lineHeight=a.get(53),this.pixelRatio=a.get(122),this.overviewRulerLanes=a.get(68),this.renderBorder=a.get(67);const r=u.getColor(v.editorOverviewRulerBorder);this.borderColor=r?r.toString():null,this.hideCursor=a.get(46);const d=u.getColor(v.editorCursorForeground);this.cursorColor=d?d.transparent(.7).toString():null,this.themeType=u.type;const s=a.get(59),i=s.enabled,n=s.side,t=i?u.getColor(v.editorOverviewRulerBackground)||S.TokenizationRegistry.getDefaultBackground():null;t===null||n==="left"?this.backgroundColor=null:this.backgroundColor=M.Color.Format.CSS.formatHex(t);const h=a.get(124).overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[_,m]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=_,this.w=m}_initLanes(c,u,a){const r=u-c;if(a>=3){const d=Math.floor(r/3),s=Math.floor(r/3),i=r-d-s,n=c,t=n+d,o=n+d+i;return[[0,n,t,n,o,n,t,n],[0,d,i,d+i,s,d+i+s,i+s,d+i+s]]}else if(a===2){const d=Math.floor(r/2),s=r-d,i=c,n=i+d;return[[0,i,i,i,n,i,i,i],[0,d,d,d,s,d+s,d+s,d+s]]}else{const d=c,s=r;return[[0,d,d,d,d,d,d,d],[0,s,s,s,s,s,s,s]]}}equals(c){return this.lineHeight===c.lineHeight&&this.pixelRatio===c.pixelRatio&&this.overviewRulerLanes===c.overviewRulerLanes&&this.renderBorder===c.renderBorder&&this.borderColor===c.borderColor&&this.hideCursor===c.hideCursor&&this.cursorColor===c.cursorColor&&this.themeType===c.themeType&&this.backgroundColor===c.backgroundColor&&this.top===c.top&&this.right===c.right&&this.domWidth===c.domWidth&&this.domHeight===c.domHeight&&this.canvasWidth===c.canvasWidth&&this.canvasHeight===c.canvasHeight}}class f extends k.ViewPart{constructor(c){super(c);this._domNode=C.createFastDomNode(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(u=>{u.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(c){const u=new l(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(u)?!1:(this._settings=u,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,c&&this._render(),!0)}onConfigurationChanged(c){return this._updateSettings(!1)}onCursorStateChanged(c){this._cursorPositions=[];for(let u=0,a=c.selections.length;u<a;u++)this._cursorPositions[u]=c.selections[u].getPosition();return this._cursorPositions.sort(w.Position.compare),!0}onDecorationsChanged(c){return!!c.affectsOverviewRuler}onFlushed(c){return!0}onScrollChanged(c){return c.scrollHeightChanged}onZonesChanged(c){return!0}onThemeChanged(c){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(c){}render(c){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const c=this._settings.canvasWidth,u=this._settings.canvasHeight,a=this._settings.lineHeight,r=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),s=u/d,i=this._context.model.getAllOverviewRulerDecorations(this._context.theme),n=6*this._settings.pixelRatio|0,t=n/2|0,o=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?o.clearRect(0,0,c,u):(o.fillStyle=this._settings.backgroundColor,o.fillRect(0,0,c,u));const h=this._settings.x,_=this._settings.w,m=Object.keys(i);m.sort();for(let g=0,b=m.length;g<b;g++){const y=m[g],L=i[y];o.fillStyle=y;let D=0,N=0,I=0;for(let T=0,O=L.length;T<O;T++){const A=L[3*T],B=L[3*T+1],E=L[3*T+2];let W=r.getVerticalOffsetForLineNumber(B)*s|0,R=(r.getVerticalOffsetForLineNumber(E)+a)*s|0;if(R-W<n){let V=(W+R)/2|0;V<t?V=t:V+t>u&&(V=u-t),W=V-t,R=V+t}W>I+1||A!==D?(T!==0&&o.fillRect(h[D],N,_[D],I-N),D=A,N=W,I=R):R>I&&(I=R)}o.fillRect(h[D],N,_[D],I-N)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,b=g/2|0,y=this._settings.x[7],L=this._settings.w[7];o.fillStyle=this._settings.cursorColor;let D=-100,N=-100;for(let I=0,T=this._cursorPositions.length;I<T;I++){const O=this._cursorPositions[I];let A=r.getVerticalOffsetForLineNumber(O.lineNumber)*s|0;A<b?A=b:A+b>u&&(A=u-b);const B=A-b,E=B+g;B>N+1?(I!==0&&o.fillRect(y,D,L,N-D),D=B,N=E):E>N&&(N=E)}o.fillRect(y,D,L,N-D)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(o.beginPath(),o.lineWidth=1,o.strokeStyle=this._settings.borderColor,o.moveTo(0,0),o.lineTo(0,u),o.stroke(),o.moveTo(0,0),o.lineTo(c,0),o.stroke())}}e.DecorationsOverviewRuler=f}),define(ee[585],te([0,1,30,45,49,12,324]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class S extends M.ViewPart{constructor(l){super(l);this.domNode=C.createFastDomNode(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const f=this._context.configuration.options;this._rulers=f.get(86),this._typicalHalfwidthCharacterWidth=f.get(38).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(l){const f=this._context.configuration.options;return this._rulers=f.get(86),this._typicalHalfwidthCharacterWidth=f.get(38).typicalHalfwidthCharacterWidth,!0}onScrollChanged(l){return l.scrollHeightChanged}prepareRender(l){}_ensureRulersCount(){const l=this._renderedRulers.length,f=this._rulers.length;if(l!==f){if(l<f){const{tabSize:c}=this._context.model.getTextModelOptions(),u=c;let a=f-l;for(;a>0;){const r=C.createFastDomNode(document.createElement("div"));r.setClassName("view-ruler"),r.setWidth(u),this.domNode.appendChild(r),this._renderedRulers.push(r),a--}return}let p=l-f;for(;p>0;){const c=this._renderedRulers.pop();this.domNode.removeChild(c),p--}}}render(l){this._ensureRulersCount();for(let f=0,p=this._rulers.length;f<p;f++){const c=this._renderedRulers[f],u=this._rulers[f];c.setBoxShadow(u.color?`1px 0 0 0 ${u.color} inset`:""),c.setHeight(Math.min(l.scrollHeight,1e6)),c.setLeft(u.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=S,w.registerThemingParticipant((v,l)=>{const f=v.getColor(k.editorRuler);f&&l.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${f} inset; }`)})}),define(ee[586],te([0,1,30,15,45,558,38,49,12,327]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class f extends k.ViewPart{constructor(c){super(c);const u=this._context.configuration.options;this._readOnly=u.get(75),this._cursorBlinking=u.get(19),this._cursorStyle=u.get(21),this._cursorSmoothCaretAnimation=u.get(20),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new w.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=C.createFastDomNode(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new M.TimeoutTimer,this._cursorFlatBlinkInterval=new M.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(c){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(c){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(c){const u=this._context.configuration.options;this._readOnly=u.get(75),this._cursorBlinking=u.get(19),this._cursorStyle=u.get(21),this._cursorSmoothCaretAnimation=u.get(20),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(c);for(let a=0,r=this._secondaryCursors.length;a<r;a++)this._secondaryCursors[a].onConfigurationChanged(c);return!0}_onCursorPositionChanged(c,u){if(this._primaryCursor.onCursorPositionChanged(c),this._updateBlinking(),this._secondaryCursors.length<u.length){const a=u.length-this._secondaryCursors.length;for(let r=0;r<a;r++){const d=new w.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>u.length){const a=this._secondaryCursors.length-u.length;for(let r=0;r<a;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let a=0;a<u.length;a++)this._secondaryCursors[a].onCursorPositionChanged(u[a])}onCursorStateChanged(c){const u=[];for(let r=0,d=c.selections.length;r<d;r++)u[r]=c.selections[r].getPosition();this._onCursorPositionChanged(u[0],u.slice(1));const a=c.selections[0].isEmpty();return this._selectionIsEmpty!==a&&(this._selectionIsEmpty=a,this._updateDomClassName()),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onFocusChanged(c){return this._editorHasFocus=c.isFocused,this._updateBlinking(),!1}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return!0}onTokensChanged(c){const u=a=>{for(let r=0,d=c.ranges.length;r<d;r++)if(c.ranges[r].fromLineNumber<=a.lineNumber&&a.lineNumber<=c.ranges[r].toLineNumber)return!0;return!1};if(u(this._primaryCursor.getPosition()))return!0;for(const a of this._secondaryCursors)if(u(a.getPosition()))return!0;return!1}onZonesChanged(c){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const c=this._getCursorBlinking(),u=c===0,a=c===5;u?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!u&&!a&&(c===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},f.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},f.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let c="cursors-layer";switch(this._selectionIsEmpty||(c+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:c+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:c+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:c+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:c+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:c+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:c+=" cursor-underline-thin-style";break;default:c+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:c+=" cursor-blink";break;case 2:c+=" cursor-smooth";break;case 3:c+=" cursor-phase";break;case 4:c+=" cursor-expand";break;case 5:c+=" cursor-solid";break;default:c+=" cursor-solid"}else c+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(c+=" cursor-smooth-caret-animation"),c}_show(){this._primaryCursor.show();for(let c=0,u=this._secondaryCursors.length;c<u;c++)this._secondaryCursors[c].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let c=0,u=this._secondaryCursors.length;c<u;c++)this._secondaryCursors[c].hide();this._isVisible=!1}prepareRender(c){this._primaryCursor.prepareRender(c);for(let u=0,a=this._secondaryCursors.length;u<a;u++)this._secondaryCursors[u].prepareRender(c)}render(c){let u=[],a=0;const r=this._primaryCursor.render(c);r&&(u[a++]=r);for(let d=0,s=this._secondaryCursors.length;d<s;d++){const i=this._secondaryCursors[d].render(c);i&&(u[a++]=i)}this._renderData=u}getLastRenderData(){return this._renderData}}e.ViewCursors=f,f.BLINK_INTERVAL=500,l.registerThemingParticipant((p,c)=>{const u=p.getColor(v.editorCursorForeground);if(u){let a=p.getColor(v.editorCursorBackground);a||(a=u.opposite()),c.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${u}; border-color: ${u}; color: ${a}; }`),p.type==="hc"&&c.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${a}; border-right: 1px solid ${a}; }`)}})}),define(ee[587],te([0,1,85,2,53,12,49,36,3,43,6,22]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;function u(d){return d.toString()}class a extends M.Disposable{constructor(s){super();this.model=s,this._markersData=new Map,this._register(M.toDisposable(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(s,i){const n=[...this._markersData.keys()];this._markersData.clear();const t=this.model.deltaDecorations(n,i);for(let o=0;o<t.length;o++)this._markersData.set(t[o],s[o]);return n.length!==0||t.length!==0}getMarker(s){return this._markersData.get(s.id)}}let r=class extends M.Disposable{constructor(s,i){super();this._markerService=i,this._onDidChangeMarker=this._register(new p.Emitter),this._markerDecorations=new Map,s.getModels().forEach(n=>this._onModelAdded(n)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,i){const n=this._markerDecorations.get(u(s));return n&&n.getMarker(i)||null}_handleMarkerChange(s){s.forEach(i=>{const n=this._markerDecorations.get(u(i));n&&this._updateDecorations(n)})}_onModelAdded(s){const i=new a(s);this._markerDecorations.set(u(s.uri),i),this._updateDecorations(i)}_onModelRemoved(s){const i=this._markerDecorations.get(u(s.uri));i&&(i.dispose(),this._markerDecorations.delete(u(s.uri))),(s.uri.scheme===f.Schemas.inMemory||s.uri.scheme===f.Schemas.internal||s.uri.scheme===f.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:s.uri}).map(n=>n.owner).forEach(n=>this._markerService.remove(n,[s.uri]))}_updateDecorations(s){const i=this._markerService.read({resource:s.model.uri,take:500});let n=i.map(t=>({range:this._createDecorationRange(s.model,t),options:this._createDecorationOption(t)}));s.update(i,n)&&this._onDidChangeMarker.fire(s.model)}_createDecorationRange(s,i){let n=l.Range.lift(i);if(i.severity===C.MarkerSeverity.Hint&&!this._hasMarkerTag(i,1)&&!this._hasMarkerTag(i,2)&&(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=s.validateRange(n),n.isEmpty()){let t=s.getWordAtPosition(n.getStartPosition());if(t)n=new l.Range(n.startLineNumber,t.startColumn,n.endLineNumber,t.endColumn);else{let o=s.getLineLastNonWhitespaceColumn(n.startLineNumber)||s.getLineMaxColumn(n.startLineNumber);o===1||(n.endColumn>=o?n=new l.Range(n.startLineNumber,o-1,n.endLineNumber,o):n=new l.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(i.endColumn===Number.MAX_VALUE&&i.startColumn===1&&n.startLineNumber===n.endLineNumber){let t=s.getLineFirstNonWhitespaceColumn(i.startLineNumber);t<n.endColumn&&(n=new l.Range(n.startLineNumber,t,n.endLineNumber,n.endColumn),i.startColumn=t)}return n}_createDecorationOption(s){let i,n,t,o,h;switch(s.severity){case C.MarkerSeverity.Hint:this._hasMarkerTag(s,2)?i=void 0:this._hasMarkerTag(s,1)?i="squiggly-unnecessary":i="squiggly-hint",t=0;break;case C.MarkerSeverity.Warning:i="squiggly-warning",n=w.themeColorFromId(S.overviewRulerWarning),t=20,h={color:w.themeColorFromId(c.minimapWarning),position:k.MinimapPosition.Inline};break;case C.MarkerSeverity.Info:i="squiggly-info",n=w.themeColorFromId(S.overviewRulerInfo),t=10;break;case C.MarkerSeverity.Error:default:i="squiggly-error",n=w.themeColorFromId(S.overviewRulerError),t=30,h={color:w.themeColorFromId(c.minimapError),position:k.MinimapPosition.Inline};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{stickiness:1,className:i,showIfCollapsed:!0,overviewRuler:{color:n,position:k.OverviewRulerLane.Right},minimap:h,zIndex:t,inlineClassName:o}}_hasMarkerTag(s,i){return s.tags?s.tags.indexOf(i)>=0:!1}};r=Me([pe(0,v.IModelService),pe(1,C.IMarkerService)],r),e.MarkerDecorationsService=r}),define(ee[588],te([0,1,7,90,6,2,31,461,37,12,22,60,27,333]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var a;(function(d){d.Hidden={type:0};class s{constructor(n,t,o,h){this.actions=n,this.trigger=t,this.editorPosition=o,this.widgetPosition=h,this.type=1}}d.Showing=s})(a||(a={}));let r=class Tt extends w.Disposable{constructor(s,i,n,t){super();this._editor=s,this._quickFixActionId=i,this._preferredFixActionId=n,this._keybindingService=t,this._onClick=this._register(new k.Emitter),this.onClick=this._onClick.event,this._state=a.Hidden,this._domNode=document.createElement("div"),this._domNode.className=u.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),c.Gesture.ignoreTarget(this._domNode),this._register(C.addStandardDisposableGenericMouseDownListner(this._domNode,o=>{if(this.state.type===1){this._editor.focus(),o.preventDefault();const{top:h,height:_}=C.getDomNodePagePosition(this._domNode),m=this._editor.getOption(53);let g=Math.floor(m/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(g+=m),this._onClick.fire({x:o.posx,y:h+_+g,actions:this.state.actions,trigger:this.state.trigger})}})),this._register(C.addDisposableListener(this._domNode,"mouseenter",o=>{if((o.buttons&1)==1){this.hide();const h=new M.GlobalMouseMoveMonitor;h.startMonitoring(o.target,o.buttons,M.standardMouseMoveMerger,()=>{},()=>{h.dispose()})}})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(51)&&!this._editor.getOption(51).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(s,i,n){if(s.validActions.length<=0)return this.hide();const t=this._editor.getOptions();if(!t.get(51).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:h,column:_}=o.validatePosition(n),m=o.getOptions().tabSize,g=t.get(38),b=o.getLineContent(h),y=S.TextModel.computeIndentLevel(b,m),L=g.spaceWidth*y>22,D=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let N=h;if(!L){if(h>1&&!D(h-1))N-=1;else if(!D(h+1))N+=1;else if(_*g.spaceWidth<22)return this.hide()}this.state=new a.Showing(s,i,n,{position:{lineNumber:N,column:1},preference:Tt._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=a.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(s){this._state=s,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...u.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...u.Codicon.lightbulbAutofix.classNamesArray);const i=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(i){this.title=v.localize(0,null,i.getLabel());return}}this._domNode.classList.remove(...u.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...u.Codicon.lightBulb.classNamesArray);const s=this._keybindingService.lookupKeybinding(this._quickFixActionId);s?this.title=v.localize(1,null,s.getLabel()):this.title=v.localize(2,null)}set title(s){this._domNode.title=s}};r._posPref=[0],r=Me([pe(3,l.IKeybindingService)],r),e.LightBulbWidget=r,f.registerThemingParticipant((d,s)=>{var i;const n=(i=d.getColor(p.editorBackground))===null||i===void 0?void 0:i.transparent(.7),t=d.getColor(p.editorLightBulbForeground);t&&s.addRule(`
		.monaco-editor .contentWidgets ${u.Codicon.lightBulb.cssSelector} {
			color: ${t};
			background-color: ${n};
		}`);const o=d.getColor(p.editorLightBulbAutoFixForeground);o&&s.addRule(`
		.monaco-editor .contentWidgets ${u.Codicon.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${n};
		}`)})}),define(ee[589],te([0,1,7,3,31,49,22,12,103,334]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class f{constructor(r,d,s){this.afterLineNumber=r,this.heightInPx=d,this._onHeight=s,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(r){this._lastHeight===void 0?this._lastHeight=r:this._lastHeight!==r&&(this._lastHeight=r,this._onHeight())}}class p{constructor(r,d,s){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=r,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(s),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${d}`}withCommands(r,d){this._commands.clear();let s=[],i=!1;for(let n=0;n<r.length;n++){const t=r[n];if(!!t&&(i=!0,t.command)){const o=l.renderLabelWithIcons(t.command.title.trim());t.command.id?(s.push(C.$("a",{id:String(n)},...o)),this._commands.set(String(n),t.command)):s.push(C.$("span",void 0,...o)),n+1<r.length&&s.push(C.$("span",void 0,"\xA0|\xA0"))}}i?(C.reset(this._domNode,...s),this._isEmpty&&d&&this._domNode.classList.add("fadein"),this._isEmpty=!1):C.reset(this._domNode,C.$("span",void 0,"no commands"))}getCommand(r){return r.parentElement===this._domNode?this._commands.get(r.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(r){const d=this._editor.getModel().getLineFirstNonWhitespaceColumn(r);this._widgetPosition={position:{lineNumber:r,column:d},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class c{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(r,d){this._addDecorations.push(r),this._addDecorationsCallbacks.push(d)}removeDecoration(r){this._removeDecorations.push(r)}commit(r){let d=r.deltaDecorations(this._removeDecorations,this._addDecorations);for(let s=0,i=d.length;s<i;s++)this._addDecorationsCallbacks[s](d[s])}}e.CodeLensHelper=c;class u{constructor(r,d,s,i,n,t,o){this._isDisposed=!1,this._editor=d,this._className=s,this._data=r,this._decorationIds=[];let h,_=[];this._data.forEach((m,g)=>{m.symbol.command&&_.push(m.symbol),i.addDecoration({range:m.symbol.range,options:k.ModelDecorationOptions.EMPTY},b=>this._decorationIds[g]=b),h?h=M.Range.plusRange(h,m.symbol.range):h=M.Range.lift(m.symbol.range)}),this._viewZone=new f(h.startLineNumber-1,t,o),this._viewZoneId=n.addZone(this._viewZone),_.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(_,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(r,d){this._decorationIds.forEach(r.removeDecoration,r),this._decorationIds=[],d&&d.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((r,d)=>{const s=this._editor.getModel().getDecorationRange(r),i=this._data[d].symbol;return!!(s&&M.Range.isEmpty(i.range)===s.isEmpty())})}updateCodeLensSymbols(r,d){this._decorationIds.forEach(d.removeDecoration,d),this._decorationIds=[],this._data=r,this._data.forEach((s,i)=>{d.addDecoration({range:s.symbol.range,options:k.ModelDecorationOptions.EMPTY},n=>this._decorationIds[i]=n)})}updateHeight(r,d){this._viewZone.heightInPx=r,d.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(r){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let d=0;d<this._decorationIds.length;d++){const s=r.getDecorationRange(this._decorationIds[d]);s&&(this._data[d].symbol.range=s)}return this._data}updateCommands(r){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!0);for(let d=0;d<this._data.length;d++){const s=r[d];if(s){const{symbol:i}=this._data[d];i.command=s.command||i.command}}}getCommand(r){var d;return(d=this._contentWidget)===null||d===void 0?void 0:d.getCommand(r)}getLineNumber(){const r=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return r?r.startLineNumber:-1}update(r){if(this.isValid()){const d=this._editor.getModel().getDecorationRange(this._decorationIds[0]);d&&(this._viewZone.afterLineNumber=d.startLineNumber-1,r.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(d.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}e.CodeLensWidget=u,v.registerThemingParticipant((a,r)=>{const d=a.getColor(w.editorCodeLensForeground);d&&(r.addRule(`.monaco-editor .codelens-decoration { color: ${d}; }`),r.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${d}; }`));const s=a.getColor(S.editorActiveLinkForeground);s&&(r.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${s} !important; }`),r.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${s} !important; }`))})}),define(ee[590],te([0,1,34,7,90,52,29,6,2,22,12,335]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const c=M.$;class u extends l.Disposable{constructor(o,h,_){super();this.model=h,this.domNode=c(".colorpicker-header"),M.append(o,this.domNode),this.pickedColorNode=M.append(this.domNode,c(".picked-color"));const m=M.append(this.domNode,c(".original-color"));m.style.backgroundColor=S.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=_.getColorTheme().getColor(f.editorHoverBackground)||S.Color.white,this._register(p.registerThemingParticipant((g,b)=>{this.backgroundColor=g.getColor(f.editorHoverBackground)||S.Color.white})),this._register(M.addDisposableListener(this.pickedColorNode,M.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(M.addDisposableListener(m,M.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this._register(h.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(h.color)||"",this.pickedColorNode.classList.toggle("light",h.color.rgba.a<.5?this.backgroundColor.isLighter():h.color.isLighter())}onDidChangeColor(o){this.pickedColorNode.style.backgroundColor=S.Color.Format.CSS.format(o)||"",this.pickedColorNode.classList.toggle("light",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=u;class a extends l.Disposable{constructor(o,h,_){super();this.model=h,this.pixelRatio=_,this.domNode=c(".colorpicker-body"),M.append(o,this.domNode),this.saturationBox=new r(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new s(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new i(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:o,v:h}){const _=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(_.h,o,h,_.a))}onDidOpacityChange(o){const h=this.model.color.hsva;this.model.color=new S.Color(new S.HSVA(h.h,h.s,h.v,o))}onDidHueChange(o){const h=this.model.color.hsva,_=(1-o)*360;this.model.color=new S.Color(new S.HSVA(_===360?0:_,h.s,h.v,h.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=a;class r extends l.Disposable{constructor(o,h,_){super();this.model=h,this.pixelRatio=_,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new v.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=c(".saturation-wrap"),M.append(o,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",M.append(this.domNode,this.canvas),this.selection=c(".saturation-selection"),M.append(this.domNode,this.selection),this.layout(),this._register(M.addDisposableGenericMouseDownListner(this.domNode,m=>this.onMouseDown(m))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(o){this.monitor=this._register(new k.GlobalMouseMoveMonitor);const h=M.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,m=>this.onDidChangePosition(m.posx-h.left,m.posy-h.top),()=>null);const _=M.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),_.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(o,h){const _=Math.max(0,Math.min(1,o/this.width)),m=Math.max(0,Math.min(1,1-h/this.height));this.paintSelection(_,m),this._onDidChange.fire({s:_,v:m})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const o=this.model.color.hsva;this.paintSelection(o.s,o.v)}paint(){const o=this.model.color.hsva,h=new S.Color(new S.HSVA(o.h,1,1,1)),_=this.canvas.getContext("2d"),m=_.createLinearGradient(0,0,this.canvas.width,0);m.addColorStop(0,"rgba(255, 255, 255, 1)"),m.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),m.addColorStop(1,"rgba(255, 255, 255, 0)");const g=_.createLinearGradient(0,0,0,this.canvas.height);g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, 1)"),_.rect(0,0,this.canvas.width,this.canvas.height),_.fillStyle=S.Color.Format.CSS.format(h),_.fill(),_.fillStyle=m,_.fill(),_.fillStyle=g,_.fill()}paintSelection(o,h){this.selection.style.left=`${o*this.width}px`,this.selection.style.top=`${this.height-h*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class d extends l.Disposable{constructor(o,h){super();this.model=h,this._onDidChange=new v.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new v.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=M.append(o,c(".strip")),this.overlay=M.append(this.domNode,c(".overlay")),this.slider=M.append(this.domNode,c(".slider")),this.slider.style.top="0px",this._register(M.addDisposableGenericMouseDownListner(this.domNode,_=>this.onMouseDown(_))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const o=this.getValue(this.model.color);this.updateSliderPosition(o)}onMouseDown(o){const h=this._register(new k.GlobalMouseMoveMonitor),_=M.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),h.startMonitoring(o.target,o.buttons,k.standardMouseMoveMerger,g=>this.onDidChangeTop(g.posy-_.top),()=>null);const m=M.addDisposableGenericMouseUpListner(document,()=>{this._onColorFlushed.fire(),m.dispose(),h.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(o){const h=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(h),this._onDidChange.fire(h)}updateSliderPosition(o){this.slider.style.top=`${(1-o)*this.height}px`}}class s extends d{constructor(o,h){super(o,h);this.domNode.classList.add("opacity-strip"),this._register(h.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(o){const{r:h,g:_,b:m}=o.rgba,g=new S.Color(new S.RGBA(h,_,m,1)),b=new S.Color(new S.RGBA(h,_,m,0));this.overlay.style.background=`linear-gradient(to bottom, ${g} 0%, ${b} 100%)`}getValue(o){return o.hsva.a}}class i extends d{constructor(o,h){super(o,h);this.domNode.classList.add("hue-strip")}getValue(o){return 1-o.hsva.h/360}}class n extends w.Widget{constructor(o,h,_,m){super();this.model=h,this.pixelRatio=_,this._register(C.onDidChangeZoomLevel(()=>this.layout()));const g=c(".colorpicker-widget");o.appendChild(g);const b=new u(g,this.model,m);this.body=new a(g,this.model,this.pixelRatio),this._register(b),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=n}),define(ee[591],te([0,1,3,53,31,22,12]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class v{constructor(f){this._editor=f,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const f=this._findScopeDecorationIds.map(p=>this._editor.getModel().getDecorationRange(p)).filter(p=>!!p);if(f.length)return f}return null}getStartPosition(){return this._startPosition}setStartPosition(f){this._startPosition=f,this.setCurrentFindMatch(null)}_getDecorationIndex(f){const p=this._decorations.indexOf(f);return p>=0?p+1:1}getCurrentMatchesPosition(f){let p=this._editor.getModel().getDecorationsInRange(f);for(const c of p){const u=c.options;if(u===v._FIND_MATCH_DECORATION||u===v._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(c.id)}return 0}setCurrentFindMatch(f){let p=null,c=0;if(f)for(let u=0,a=this._decorations.length;u<a;u++){let r=this._editor.getModel().getDecorationRange(this._decorations[u]);if(f.equalsRange(r)){p=this._decorations[u],c=u+1;break}}return(this._highlightedDecorationId!==null||p!==null)&&this._editor.changeDecorations(u=>{if(this._highlightedDecorationId!==null&&(u.changeDecorationOptions(this._highlightedDecorationId,v._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),p!==null&&(this._highlightedDecorationId=p,u.changeDecorationOptions(this._highlightedDecorationId,v._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(u.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),p!==null){let a=this._editor.getModel().getDecorationRange(p);if(a.startLineNumber!==a.endLineNumber&&a.endColumn===1){let r=a.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(r);a=new C.Range(a.startLineNumber,a.startColumn,r,d)}this._rangeHighlightDecorationId=u.addDecoration(a,v._RANGE_HIGHLIGHT_DECORATION)}}),c}set(f,p){this._editor.changeDecorations(c=>{let u=v._FIND_MATCH_DECORATION,a=[];if(f.length>1e3){u=v._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height/d,n=Math.max(2,Math.ceil(3/i));let t=f[0].range.startLineNumber,o=f[0].range.endLineNumber;for(let h=1,_=f.length;h<_;h++){const m=f[h].range;o+n>=m.startLineNumber?m.endLineNumber>o&&(o=m.endLineNumber):(a.push({range:new C.Range(t,1,o,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),t=m.startLineNumber,o=m.endLineNumber)}a.push({range:new C.Range(t,1,o,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=new Array(f.length);for(let d=0,s=f.length;d<s;d++)r[d]={range:f[d].range,options:u};this._decorations=c.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=c.deltaDecorations(this._overviewRulerApproximateDecorations,a),this._rangeHighlightDecorationId&&(c.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>c.removeDecoration(d)),this._findScopeDecorationIds=[]),(p==null?void 0:p.length)&&(this._findScopeDecorationIds=p.map(d=>c.addDecoration(d,v._FIND_SCOPE_DECORATION)))})}matchBeforePosition(f){if(this._decorations.length===0)return null;for(let p=this._decorations.length-1;p>=0;p--){let c=this._decorations[p],u=this._editor.getModel().getDecorationRange(c);if(!(!u||u.endLineNumber>f.lineNumber)){if(u.endLineNumber<f.lineNumber)return u;if(!(u.endColumn>f.column))return u}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(f){if(this._decorations.length===0)return null;for(let p=0,c=this._decorations.length;p<c;p++){let u=this._decorations[p],a=this._editor.getModel().getDecorationRange(u);if(!(!a||a.startLineNumber<f.lineNumber)){if(a.startLineNumber>f.lineNumber)return a;if(!(a.startColumn<f.column))return a}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let f=[];return f=f.concat(this._decorations),f=f.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&f.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&f.push(this._rangeHighlightDecorationId),f}}e.FindDecorations=v,v._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(w.overviewRulerFindMatchForeground),position:M.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(w.minimapFindMatch),position:M.MinimapPosition.Inline}}),v._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:S.themeColorFromId(w.overviewRulerFindMatchForeground),position:M.OverviewRulerLane.Center},minimap:{color:S.themeColorFromId(w.minimapFindMatch),position:M.MinimapPosition.Inline}}),v._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),v._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({stickiness:1,overviewRuler:{color:S.themeColorFromId(w.overviewRulerFindMatchForeground),position:M.OverviewRulerLane.Center}}),v._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),v._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({className:"findScope",isWholeLine:!0})}),define(ee[143],te([0,1,15,2,92,13,3,21,165,591,399,400,18,19]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new u.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_INPUT_FOCUSED=new u.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new u.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const r=240;class d{constructor(i,n){this._toDispose=new M.DisposableStore,this._editor=i,this._state=n,this._isDisposed=!1,this._startSearchingTimer=new C.TimeoutTimer,this._decorations=new f.FindDecorations(i),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new C.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(t=>{(t.reason===3||t.reason===5||t.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(t=>{this._ignoreModelContentChanged||(t.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(t=>this._onStateChanged(t))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,M.dispose(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(i){this._isDisposed||!this._editor.hasModel()||(i.searchString||i.isReplaceRevealed||i.isRegex||i.wholeWord||i.matchCase||i.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor)},r)):i.searchScope?this.research(i.moveCursor,this._state.searchScope):this.research(i.moveCursor))}static _getSearchRange(i,n){return n||i.getFullModelRange()}research(i,n){let t=null;typeof n!="undefined"?n!==null&&(Array.isArray(n)?t=n:t=[n]):t=this._decorations.getFindScopes(),t!==null&&(t=t.map(m=>{if(m.startLineNumber!==m.endLineNumber){let g=m.endLineNumber;return m.endColumn===1&&(g=g-1),new S.Range(m.startLineNumber,1,g,this._editor.getModel().getLineMaxColumn(g))}return m}));let o=this._findMatches(t,!1,e.MATCHES_LIMIT);this._decorations.set(o,t);const h=this._editor.getSelection();let _=this._decorations.getCurrentMatchesPosition(h);if(_===0&&o.length>0){const m=a.findFirstInSorted(o.map(g=>g.range),g=>S.Range.compareRangesUsingStarts(g,h)>=0);_=m>0?m-1+1:_}this._state.changeMatchInfo(_,this._decorations.getCount(),void 0),i&&this._editor.getOption(31).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let i=this._decorations.getFindScope();return i&&this._editor.revealRangeInCenterIfOutsideViewport(i,0),!0}return!1}_setCurrentFindMatch(i){let n=this._decorations.setCurrentFindMatch(i);this._state.changeMatchInfo(n,this._decorations.getCount(),i),this._editor.setSelection(i),this._editor.revealRangeInCenterIfOutsideViewport(i,0)}_prevSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=i,h=this._editor.getModel();return n||o===1?(t===1?t=h.getLineCount():t--,o=h.getLineMaxColumn(t)):o--,new w.Position(t,o)}_moveToPrevMatch(i,n=!1){if(!this._state.canNavigateBack()){const y=this._decorations.matchAfterPosition(i);y&&this._setCurrentFindMatch(y);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let y=this._decorations.matchBeforePosition(i);y&&y.isEmpty()&&y.getStartPosition().equals(i)&&(i=this._prevSearchPosition(i),y=this._decorations.matchBeforePosition(i)),y&&this._setCurrentFindMatch(y);return}if(!this._cannotFind()){let t=this._decorations.getFindScope(),o=d._getSearchRange(this._editor.getModel(),t);o.getEndPosition().isBefore(i)&&(i=o.getEndPosition()),i.isBefore(o.getStartPosition())&&(i=o.getEndPosition());let{lineNumber:h,column:_}=i,m=this._editor.getModel(),g=new w.Position(h,_),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,!1);if(b&&b.range.isEmpty()&&b.range.getStartPosition().equals(g)&&(g=this._prevSearchPosition(g),b=m.findPreviousMatch(this._state.searchString,g,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,!1)),!!b){if(!n&&!o.containsRange(b.range))return this._moveToPrevMatch(b.range.getStartPosition(),!0);this._setCurrentFindMatch(b.range)}}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(i){let n=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:t,column:o}=i,h=this._editor.getModel();return n||o===h.getLineMaxColumn(t)?(t===h.getLineCount()?t=1:t++,o=1):o++,new w.Position(t,o)}_moveToNextMatch(i){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(i);t&&this._setCurrentFindMatch(t);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let t=this._decorations.matchAfterPosition(i);t&&t.isEmpty()&&t.getStartPosition().equals(i)&&(i=this._nextSearchPosition(i),t=this._decorations.matchAfterPosition(i)),t&&this._setCurrentFindMatch(t);return}let n=this._getNextMatch(i,!1,!0);n&&this._setCurrentFindMatch(n.range)}_getNextMatch(i,n,t,o=!1){if(this._cannotFind())return null;let h=this._decorations.getFindScope(),_=d._getSearchRange(this._editor.getModel(),h);_.getEndPosition().isBefore(i)&&(i=_.getStartPosition()),i.isBefore(_.getStartPosition())&&(i=_.getStartPosition());let{lineNumber:m,column:g}=i,b=this._editor.getModel(),y=new w.Position(m,g),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n);return t&&L&&L.range.isEmpty()&&L.range.getStartPosition().equals(y)&&(y=this._nextSearchPosition(y),L=b.findNextMatch(this._state.searchString,y,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n)),L?!o&&!_.containsRange(L.range)?this._getNextMatch(L.range.getEndPosition(),n,t,!0):L:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?c.parseReplaceString(this._state.replaceString):c.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!!this._hasMatches()){let i=this._getReplacePattern(),n=this._editor.getSelection(),t=this._getNextMatch(n.getStartPosition(),!0,!1);if(t)if(n.equalsRange(t.range)){let o=i.buildReplaceString(t.matches,this._state.preserveCase),h=new k.ReplaceCommand(n,o);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new w.Position(n.startLineNumber,n.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(t.range)}}_findMatches(i,n,t){const o=(i||[null]).map(h=>d._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null,n,t)}replaceAll(){if(!!this._hasMatches()){const i=this._decorations.getFindScopes();i===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(i),this.research(!1)}}_largeReplaceAll(){const n=new l.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(110):null).parseSearchRequest();if(!!n){let t=n.regex;if(!t.multiline){let L="mu";t.ignoreCase&&(L+="i"),t.global&&(L+="g"),t=new RegExp(t.source,L)}const o=this._editor.getModel(),h=o.getValue(1),_=o.getFullModelRange(),m=this._getReplacePattern();let g;const b=this._state.preserveCase;m.hasReplacementPatterns||b?g=h.replace(t,function(){return m.buildReplaceString(arguments,b)}):g=h.replace(t,m.buildReplaceString(null,b));let y=new k.ReplaceCommandThatPreservesSelection(_,g,this._editor.getSelection());this._executeEditorCommand("replaceAll",y)}}_regularReplaceAll(i){const n=this._getReplacePattern();let t=this._findMatches(i,n.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let _=0,m=t.length;_<m;_++)o[_]=n.buildReplaceString(t[_].matches,this._state.preserveCase);let h=new p.ReplaceAllCommand(this._editor.getSelection(),t.map(_=>_.range),o);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!!this._hasMatches()){let i=this._decorations.getFindScopes(),t=this._findMatches(i,!1,1073741824).map(h=>new v.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn)),o=this._editor.getSelection();for(let h=0,_=t.length;h<_;h++)if(t[h].equalsRange(o)){t=[o].concat(t.slice(0,h)).concat(t.slice(h+1));break}this._editor.setSelections(t)}}_executeEditorCommand(i,n){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(i,n),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(ee[592],te([0,1,7,231,52,15,143,22,12]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class f extends k.Widget{constructor(c,u,a,r){super();this._hideSoon=this._register(new w.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=c,this._state=u,this._keybindingService=a,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=r.getColorTheme().getColor(v.inputActiveOptionBorder),s=r.getColorTheme().getColor(v.inputActiveOptionForeground),i=r.getColorTheme().getColor(v.inputActiveOptionBackground);this.caseSensitive=this._register(new M.CaseSensitiveCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:s,inputActiveOptionBackground:i})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new M.WholeWordsCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:s,inputActiveOptionBackground:i})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new M.RegexCheckbox({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:s,inputActiveOptionBackground:i})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(n=>{let t=!1;n.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),n.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),n.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(C.addDisposableNonBubblingMouseOutListener(this._domNode,n=>this._onMouseOut())),this._register(C.addDisposableListener(this._domNode,"mouseover",n=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(c){let u=this._keybindingService.lookupKeybinding(c);return u?` (${u.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return f.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(c){let u={inputActiveOptionBorder:c.getColor(v.inputActiveOptionBorder),inputActiveOptionForeground:c.getColor(v.inputActiveOptionForeground),inputActiveOptionBackground:c.getColor(v.inputActiveOptionBackground)};this.caseSensitive.style(u),this.wholeWords.style(u),this.regex.style(u)}}e.FindOptionsWidget=f,f.ID="editor.contrib.findOptionsWidget",l.registerThemingParticipant((p,c)=>{const u=p.getColor(v.editorWidgetBackground);u&&c.addRule(`.monaco-editor .findOptionsWidget { background-color: ${u}; }`);const a=p.getColor(v.editorWidgetForeground);a&&c.addRule(`.monaco-editor .findOptionsWidget { color: ${a}; }`);const r=p.getColor(v.widgetShadow);r&&c.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const d=p.getColor(v.contrastBorder);d&&c.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(ee[593],te([0,1,6,2,3,143]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(l,f){return l===1?!0:l===2?!1:f}class v extends M.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new C.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(f,p,c){let u={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},a=!1;p===0&&(f=0),f>p&&(f=p),this._matchesPosition!==f&&(this._matchesPosition=f,u.matchesPosition=!0,a=!0),this._matchesCount!==p&&(this._matchesCount=p,u.matchesCount=!0,a=!0),typeof c!="undefined"&&(k.Range.equalsRange(this._currentMatch,c)||(this._currentMatch=c,u.currentMatch=!0,a=!0)),a&&this._onFindReplaceStateChange.fire(u)}change(f,p,c=!0){var u;let a={moveCursor:p,updateHistory:c,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;const d=this.isRegex,s=this.wholeWord,i=this.matchCase,n=this.preserveCase;typeof f.searchString!="undefined"&&this._searchString!==f.searchString&&(this._searchString=f.searchString,a.searchString=!0,r=!0),typeof f.replaceString!="undefined"&&this._replaceString!==f.replaceString&&(this._replaceString=f.replaceString,a.replaceString=!0,r=!0),typeof f.isRevealed!="undefined"&&this._isRevealed!==f.isRevealed&&(this._isRevealed=f.isRevealed,a.isRevealed=!0,r=!0),typeof f.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==f.isReplaceRevealed&&(this._isReplaceRevealed=f.isReplaceRevealed,a.isReplaceRevealed=!0,r=!0),typeof f.isRegex!="undefined"&&(this._isRegex=f.isRegex),typeof f.wholeWord!="undefined"&&(this._wholeWord=f.wholeWord),typeof f.matchCase!="undefined"&&(this._matchCase=f.matchCase),typeof f.preserveCase!="undefined"&&(this._preserveCase=f.preserveCase),typeof f.searchScope!="undefined"&&(((u=f.searchScope)===null||u===void 0?void 0:u.every(t=>{var o;return(o=this._searchScope)===null||o===void 0?void 0:o.some(h=>!k.Range.equalsRange(h,t))}))||(this._searchScope=f.searchScope,a.searchScope=!0,r=!0)),typeof f.loop!="undefined"&&this._loop!==f.loop&&(this._loop=f.loop,a.loop=!0,r=!0),this._isRegexOverride=typeof f.isRegexOverride!="undefined"?f.isRegexOverride:0,this._wholeWordOverride=typeof f.wholeWordOverride!="undefined"?f.wholeWordOverride:0,this._matchCaseOverride=typeof f.matchCaseOverride!="undefined"?f.matchCaseOverride:0,this._preserveCaseOverride=typeof f.preserveCaseOverride!="undefined"?f.preserveCaseOverride:0,d!==this.isRegex&&(r=!0,a.isRegex=!0),s!==this.wholeWord&&(r=!0,a.wholeWord=!0),i!==this.matchCase&&(r=!0,a.matchCase=!0),n!==this.preserveCase&&(r=!0,a.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(a)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=w.MATCHES_LIMIT}}e.FindReplaceState=v}),define(ee[594],te([0,1,133,67,174,203,114,12,115,7,478,159,44,2,9,37,66,157]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let n=class{constructor(D){this._resolverService=D}hasChildren(D){return D instanceof C.ReferencesModel||D instanceof C.FileReferences}getChildren(D){if(D instanceof C.ReferencesModel)return D.groups;if(D instanceof C.FileReferences)return D.resolve(this._resolverService).then(N=>N.children);throw new Error("bad tree")}};n=Me([pe(0,M.ITextModelService)],n),e.DataSource=n;class t{getHeight(){return 23}getTemplateId(D){return D instanceof C.FileReferences?m.id:b.id}}e.Delegate=t;let o=class{constructor(D){this._keybindingService=D}getKeyboardNavigationLabel(D){var N;if(D instanceof C.OneReference){const I=(N=D.parent.getPreview(D))===null||N===void 0?void 0:N.preview(D.range);if(I)return I.value}return u.basename(D.uri)}};o=Me([pe(0,d.IKeybindingService)],o),e.StringRepresentationProvider=o;class h{getId(D){return D instanceof C.OneReference?D.id:D.uri}}e.IdentityProvider=h;let _=class extends a.Disposable{constructor(D,N,I){super();this._uriLabel=N;const T=document.createElement("div");T.classList.add("reference-file"),this.file=this._register(new k.IconLabel(T,{supportHighlights:!0})),this.badge=new w.CountBadge(f.append(T,f.$(".count"))),this._register(l.attachBadgeStyler(this.badge,I)),D.appendChild(T)}set(D,N){let I=u.dirname(D.uri);this.file.setLabel(c.getBaseLabel(D.uri),this._uriLabel.getUriLabel(I,{relative:!0}),{title:this._uriLabel.getUriLabel(D.uri),matches:N});const T=D.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat(p.localize(0,null,T)):this.badge.setTitleFormat(p.localize(1,null,T))}};_=Me([pe(1,S.ILabelService),pe(2,v.IThemeService)],_);let m=class Rt{constructor(D){this._instantiationService=D,this.templateId=Rt.id}renderTemplate(D){return this._instantiationService.createInstance(_,D)}renderElement(D,N,I){I.set(D.element,s.createMatches(D.filterData))}disposeTemplate(D){D.dispose()}};m.id="FileReferencesRenderer",m=Me([pe(0,r.IInstantiationService)],m),e.FileReferencesRenderer=m;class g{constructor(D){this.label=new i.HighlightedLabel(D,!1)}set(D,N){var I;const T=(I=D.parent.getPreview(D))===null||I===void 0?void 0:I.preview(D.range);if(!T||!T.value)this.label.set(`${u.basename(D.uri)}:${D.range.startLineNumber+1}:${D.range.startColumn+1}`);else{const{value:O,highlight:A}=T;N&&!s.FuzzyScore.isDefault(N)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(O,s.createMatches(N))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(O,[A]))}}}class b{constructor(){this.templateId=b.id}renderTemplate(D){return new g(D)}renderElement(D,N,I){I.set(D.element,D.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=b,b.id="OneReferenceRenderer";class y{getWidgetAriaLabel(){return p.localize(2,null)}getAriaLabel(D){return D.ariaMessage}}e.AccessibilityProvider=y}),define(ee[256],te([0,1,53,12,49,2,107,20,88]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class f{constructor(c){this.options=c,this.rangeHighlightDecorationId=void 0}provide(c,u){var a;const r=new w.DisposableStore;c.canAcceptInBackground=!!((a=this.options)===null||a===void 0?void 0:a.canAcceptInBackground),c.matchOnLabel=c.matchOnDescription=c.matchOnDetail=c.sortByLabel=!1;const d=r.add(new w.MutableDisposable);return d.value=this.doProvide(c,u),r.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(c,u)})),r}doProvide(c,u){const a=new w.DisposableStore,r=this.activeTextEditorControl;if(r&&this.canProvideWithTextEditor(r)){const d={editor:r},s=S.getCodeEditor(r);if(s){let i=v.withNullAsUndefined(r.saveViewState());a.add(s.onDidChangeCursorPosition(()=>{i=v.withNullAsUndefined(r.saveViewState())})),d.restoreViewState=()=>{i&&r===this.activeTextEditorControl&&r.restoreViewState(i)},a.add(l.once(u.onCancellationRequested)(()=>{var n;return(n=d.restoreViewState)===null||n===void 0?void 0:n.call(d)}))}a.add(w.toDisposable(()=>this.clearDecorations(r))),a.add(this.provideWithTextEditor(d,c,u))}else a.add(this.provideWithoutTextEditor(c,u));return a}canProvideWithTextEditor(c){return!0}gotoLocation({editor:c},u){c.setSelection(u.range),c.revealRangeInCenter(u.range,0),u.preserveFocus||c.focus()}getModel(c){var u;return S.isDiffEditor(c)?(u=c.getModel())===null||u===void 0?void 0:u.modified:c.getModel()}addDecorations(c,u){c.changeDecorations(a=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:u,options:{className:"rangeHighlight",isWholeLine:!0}},{range:u,options:{overviewRuler:{color:M.themeColorFromId(k.overviewRulerRangeHighlight),position:C.OverviewRulerLane.Full}}}],[s,i]=a.deltaDecorations(r,d);this.rangeHighlightDecorationId={rangeHighlightId:s,overviewRulerDecorationId:i}})}clearDecorations(c){const u=this.rangeHighlightDecorationId;u&&(c.changeDecorations(a=>{a.deltaDecorations([u.overviewRulerDecorationId,u.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=f}),define(ee[595],te([0,1,495,2,256,107]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(l){const f=C.localize(0,null);return l.items=[{label:f}],l.ariaLabel=f,M.Disposable.None}provideWithTextEditor(l,f,p){const c=l.editor,u=new M.DisposableStore;u.add(f.onDidAccept(d=>{const[s]=f.selectedItems;if(s){if(!this.isValidLineNumber(c,s.lineNumber))return;this.gotoLocation(l,{range:this.toRange(s.lineNumber,s.column),keyMods:f.keyMods,preserveFocus:d.inBackground}),d.inBackground||f.hide()}}));const a=()=>{const d=this.parsePosition(c,f.value.trim().substr(S.PREFIX.length)),s=this.getPickLabel(c,d.lineNumber,d.column);if(f.items=[{lineNumber:d.lineNumber,column:d.column,label:s}],f.ariaLabel=s,!this.isValidLineNumber(c,d.lineNumber)){this.clearDecorations(c);return}const i=this.toRange(d.lineNumber,d.column);c.revealRangeInCenter(i,0),this.addDecorations(c,i)};a(),u.add(f.onDidChangeValue(()=>a()));const r=w.getCodeEditor(c);return r&&r.getOptions().get(54).renderType===2&&(r.updateOptions({lineNumbers:"on"}),u.add(M.toDisposable(()=>r.updateOptions({lineNumbers:"relative"})))),u}toRange(l=1,f=1){return{startLineNumber:l,startColumn:f,endLineNumber:l,endColumn:f}}parsePosition(l,f){const p=f.split(/,|:|#/).map(u=>parseInt(u,10)).filter(u=>!isNaN(u)),c=this.lineCount(l)+1;return{lineNumber:p[0]>0?p[0]:c+p[0],column:p[1]}}getPickLabel(l,f,p){if(this.isValidLineNumber(l,f))return this.isValidColumn(l,f,p)?C.localize(1,null,f,p):C.localize(2,null,f);const c=l.getPosition()||{lineNumber:1,column:1},u=this.lineCount(l);return u>1?C.localize(3,null,c.lineNumber,c.column,u):C.localize(4,null,c.lineNumber,c.column)}isValidLineNumber(l,f){return!f||typeof f!="number"?!1:f>0&&f<=this.lineCount(l)}isValidColumn(l,f,p){if(!p||typeof p!="number")return!1;const c=this.getModel(l);if(!c)return!1;const u={lineNumber:f,column:p};return c.validatePosition(u).equals(u)}lineCount(l){var f,p;return(p=(f=this.getModel(l))===null||f===void 0?void 0:f.getLineCount())!==null&&p!==void 0?p:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ee[596],te([0,1,496,23,2,3,256,17,244,8,284,27]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;class u extends S.AbstractEditorNavigationQuickAccessProvider{constructor(s=Object.create(null)){super(s);this.options=s,s.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,C.localize(0,null)),k.Disposable.None}provideWithTextEditor(s,i,n){const t=s.editor,o=this.getModel(t);return o?v.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(s,o,i,n):this.doProvideWithoutEditorSymbols(s,o,i,n):k.Disposable.None}doProvideWithoutEditorSymbols(s,i,n,t){const o=new k.DisposableStore;return this.provideLabelPick(n,C.localize(1,null)),(()=>Ie(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(i,o))||t.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(s,i,n,t))}))(),o}provideLabelPick(s,i){s.items=[{label:i,index:0,kind:14}],s.ariaLabel=i}waitForLanguageSymbolRegistry(s,i){return Ie(this,void 0,void 0,function*(){if(v.DocumentSymbolProviderRegistry.has(s))return!0;let n;const t=new Promise(h=>n=h),o=i.add(v.DocumentSymbolProviderRegistry.onDidChange(()=>{v.DocumentSymbolProviderRegistry.has(s)&&(o.dispose(),n(!0))}));return i.add(k.toDisposable(()=>n(!1))),t})}doProvideWithEditorSymbols(s,i,n,t){const o=s.editor,h=new k.DisposableStore;h.add(n.onDidAccept(y=>{const[L]=n.selectedItems;L&&L.range&&(this.gotoLocation(s,{range:L.range.selection,keyMods:n.keyMods,preserveFocus:y.inBackground}),y.inBackground||n.hide())})),h.add(n.onDidTriggerItemButton(({item:y})=>{y&&y.range&&(this.gotoLocation(s,{range:y.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const _=this.getDocumentSymbols(i,t);let m;const g=()=>Ie(this,void 0,void 0,function*(){m==null||m.dispose(!0),n.busy=!1,m=new M.CancellationTokenSource(t),n.busy=!0;try{const y=p.prepareQuery(n.value.substr(u.PREFIX.length).trim()),L=yield this.doGetSymbolPicks(_,y,void 0,m.token);if(t.isCancellationRequested)return;L.length>0?n.items=L:y.original.length>0?this.provideLabelPick(n,C.localize(2,null)):this.provideLabelPick(n,C.localize(3,null))}finally{t.isCancellationRequested||(n.busy=!1)}});h.add(n.onDidChangeValue(()=>g())),g();let b=!0;return h.add(n.onDidChangeActive(()=>{const[y]=n.activeItems;if(y&&y.range){if(b){b=!1;return}o.revealRangeInCenter(y.range.selection,0),this.addDecorations(o,y.range.decoration)}})),h}doGetSymbolPicks(s,i,n,t){return Ie(this,void 0,void 0,function*(){const o=yield s;if(t.isCancellationRequested)return[];const h=i.original.indexOf(u.SCOPE_PREFIX)===0,_=h?1:0;let m,g;i.values&&i.values.length>1?(m=p.pieceToQuery(i.values[0]),g=p.pieceToQuery(i.values.slice(1))):m=i;const b=[];for(let N=0;N<o.length;N++){const I=o[N],T=f.trim(I.name),O=`$(symbol-${v.SymbolKinds.toString(I.kind)||"property"}) ${T}`,A=O.length-T.length;let B=I.containerName;(n==null?void 0:n.extraContainerLabel)&&(B?B=`${n.extraContainerLabel} \u2022 ${B}`:B=n.extraContainerLabel);let E,W,R,F;if(i.original.length>_){let K=!1;if(m!==i&&([E,W]=p.scoreFuzzy2(O,Object.assign(Object.assign({},i),{values:void 0}),_,A),typeof E=="number"&&(K=!0)),typeof E!="number"&&([E,W]=p.scoreFuzzy2(O,m,_,A),typeof E!="number"))continue;if(!K&&g){if(B&&g.original.length>0&&([R,F]=p.scoreFuzzy2(B,g)),typeof R!="number")continue;typeof E=="number"&&(E+=R)}}const V=I.tags&&I.tags.indexOf(1)>=0;b.push({index:N,kind:I.kind,score:E,label:O,ariaLabel:T,description:B,highlights:V?void 0:{label:W,description:F},range:{selection:w.Range.collapseToStart(I.selectionRange),decoration:I.range},strikethrough:V,buttons:(()=>{var K,G;const J=((K=this.options)===null||K===void 0?void 0:K.openSideBySideDirection)?(G=this.options)===null||G===void 0?void 0:G.openSideBySideDirection():void 0;if(!!J)return[{iconClass:J==="right"?c.Codicon.splitHorizontal.classNames:c.Codicon.splitVertical.classNames,tooltip:J==="right"?C.localize(4,null):C.localize(5,null)}]})()})}const y=b.sort((N,I)=>h?this.compareByKindAndScore(N,I):this.compareByScore(N,I));let L=[];if(h){let N,I,T=0;function D(){I&&typeof N=="number"&&T>0&&(I.label=f.format(r[N]||a,T))}for(const O of y)N!==O.kind?(D(),N=O.kind,T=1,I={type:"separator"},L.push(I)):T++,L.push(O);D()}else y.length>0&&(L=[{label:C.localize(6,null,b.length),type:"separator"},...y]);return L})}compareByScore(s,i){if(typeof s.score!="number"&&typeof i.score=="number")return 1;if(typeof s.score=="number"&&typeof i.score!="number")return-1;if(typeof s.score=="number"&&typeof i.score=="number"){if(s.score>i.score)return-1;if(s.score<i.score)return 1}return s.index<i.index?-1:s.index>i.index?1:0}compareByKindAndScore(s,i){const n=r[s.kind]||a,t=r[i.kind]||a,o=n.localeCompare(t);return o===0?this.compareByScore(s,i):o}getDocumentSymbols(s,i){return Ie(this,void 0,void 0,function*(){const n=yield l.OutlineModel.create(s,i);return i.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}}e.AbstractGotoSymbolQuickAccessProvider=u,u.PREFIX="@",u.SCOPE_PREFIX=":",u.PREFIX_BY_CATEGORY=`${u.PREFIX}${u.SCOPE_PREFIX}`;const a=C.localize(7,null),r={[5]:C.localize(8,null),[11]:C.localize(9,null),[8]:C.localize(10,null),[12]:C.localize(11,null),[4]:C.localize(12,null),[22]:C.localize(13,null),[23]:C.localize(14,null),[24]:C.localize(15,null),[10]:C.localize(16,null),[2]:C.localize(17,null),[3]:C.localize(18,null),[25]:C.localize(19,null),[1]:C.localize(20,null),[6]:C.localize(21,null),[9]:C.localize(22,null),[21]:C.localize(23,null),[14]:C.localize(24,null),[0]:C.localize(25,null),[17]:C.localize(26,null),[15]:C.localize(27,null),[16]:C.localize(28,null),[18]:C.localize(29,null),[19]:C.localize(30,null),[7]:C.localize(31,null),[13]:C.localize(32,null)}}),define(ee[597],te([0,1,2,13,498,18,22,12,37,346]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new w.RawContextKey("renameInputVisible",!1);let f=class{constructor(c,u,a,r,d){this._editor=c,this._acceptKeybindings=u,this._themeService=a,this._keybindingService=r,this._disposables=new C.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(38)&&this._updateFont()})),this._disposables.add(a.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",k.localize(0,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const c=()=>{var u,a;const[r,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(r),this._label.innerText=k.localize(1,null,(u=this._keybindingService.lookupKeybinding(r))===null||u===void 0?void 0:u.getLabel(),(a=this._keybindingService.lookupKeybinding(d))===null||a===void 0?void 0:a.getLabel())};c(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(c)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(c){var u,a,r,d;if(!(!this._input||!this._domNode)){const s=c.getColor(S.widgetShadow);this._domNode.style.backgroundColor=String((u=c.getColor(S.editorWidgetBackground))!==null&&u!==void 0?u:""),this._domNode.style.boxShadow=s?` 0 0 8px 2px ${s}`:"",this._domNode.style.color=String((a=c.getColor(S.inputForeground))!==null&&a!==void 0?a:""),this._input.style.backgroundColor=String((r=c.getColor(S.inputBackground))!==null&&r!==void 0?r:"");const i=c.getColor(S.inputBorder);this._input.style.borderWidth=i?"1px":"0px",this._input.style.borderStyle=i?"solid":"none",this._input.style.borderColor=(d=i==null?void 0:i.toString())!==null&&d!==void 0?d:"none"}}_updateFont(){if(!(!this._input||!this._label)){const c=this._editor.getOption(38);this._input.style.fontFamily=c.fontFamily,this._input.style.fontWeight=c.fontWeight,this._input.style.fontSize=`${c.fontSize}px`,this._label.style.fontSize=`${c.fontSize*.8}px`}}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(c){c||this.cancelInput(!0)}acceptInput(c){this._currentAcceptInput&&this._currentAcceptInput(c)}cancelInput(c){this._currentCancelInput&&this._currentCancelInput(c)}getInput(c,u,a,r,d,s){this._domNode.classList.toggle("preview",d),this._position=new M.Position(c.startLineNumber,c.startColumn),this._input.value=u,this._input.setAttribute("selectionStart",a.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max((c.endColumn-c.startColumn)*1.1,20);const i=new C.DisposableStore;return new Promise(n=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n(t),!0),this._currentAcceptInput=t=>{if(this._input.value.trim().length===0||this._input.value===u){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,n({newName:this._input.value,wantsPreview:d&&t})},s.onCancellationRequested(()=>this.cancelInput(!0)),i.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{i.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};f=Me([pe(2,v.IThemeService),pe(3,l.IKeybindingService),pe(4,w.IContextKeyService)],f),e.RenameInputField=f}),define(ee[257],te([0,1,506,12,22,27]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=k.registerColor("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=k.registerColor("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=k.registerColor("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C.localize(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=k.registerColor("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=k.registerColor("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=k.registerColor("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C.localize(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=k.registerColor("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C.localize(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=k.registerColor("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C.localize(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=k.registerColor("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},C.localize(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=k.registerColor("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C.localize(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=k.registerColor("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=k.registerColor("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=k.registerColor("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C.localize(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=k.registerColor("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C.localize(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=k.registerColor("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=k.registerColor("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=k.registerColor("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},C.localize(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=k.registerColor("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=k.registerColor("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=k.registerColor("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=k.registerColor("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=k.registerColor("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=k.registerColor("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=k.registerColor("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=k.registerColor("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=k.registerColor("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=k.registerColor("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=k.registerColor("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=k.registerColor("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=k.registerColor("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=k.registerColor("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=k.registerColor("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hc:k.foreground},C.localize(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=k.registerColor("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},C.localize(32,null)),M.registerThemingParticipant((S,v)=>{const l=S.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);l&&v.addRule(`${w.Codicon.symbolArray.cssSelector} { color: ${l}; }`);const f=S.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);f&&v.addRule(`${w.Codicon.symbolBoolean.cssSelector} { color: ${f}; }`);const p=S.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);p&&v.addRule(`${w.Codicon.symbolClass.cssSelector} { color: ${p}; }`);const c=S.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);c&&v.addRule(`${w.Codicon.symbolMethod.cssSelector} { color: ${c}; }`);const u=S.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);u&&v.addRule(`${w.Codicon.symbolColor.cssSelector} { color: ${u}; }`);const a=S.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);a&&v.addRule(`${w.Codicon.symbolConstant.cssSelector} { color: ${a}; }`);const r=S.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);r&&v.addRule(`${w.Codicon.symbolConstructor.cssSelector} { color: ${r}; }`);const d=S.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&v.addRule(`
			${w.Codicon.symbolValue.cssSelector},${w.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const s=S.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);s&&v.addRule(`${w.Codicon.symbolEnumMember.cssSelector} { color: ${s}; }`);const i=S.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);i&&v.addRule(`${w.Codicon.symbolEvent.cssSelector} { color: ${i}; }`);const n=S.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);n&&v.addRule(`${w.Codicon.symbolField.cssSelector} { color: ${n}; }`);const t=S.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);t&&v.addRule(`${w.Codicon.symbolFile.cssSelector} { color: ${t}; }`);const o=S.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);o&&v.addRule(`${w.Codicon.symbolFolder.cssSelector} { color: ${o}; }`);const h=S.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);h&&v.addRule(`${w.Codicon.symbolFunction.cssSelector} { color: ${h}; }`);const _=S.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);_&&v.addRule(`${w.Codicon.symbolInterface.cssSelector} { color: ${_}; }`);const m=S.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);m&&v.addRule(`${w.Codicon.symbolKey.cssSelector} { color: ${m}; }`);const g=S.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);g&&v.addRule(`${w.Codicon.symbolKeyword.cssSelector} { color: ${g}; }`);const b=S.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);b&&v.addRule(`${w.Codicon.symbolModule.cssSelector} { color: ${b}; }`);const y=S.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);y&&v.addRule(`${w.Codicon.symbolNamespace.cssSelector} { color: ${y}; }`);const L=S.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);L&&v.addRule(`${w.Codicon.symbolNull.cssSelector} { color: ${L}; }`);const D=S.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);D&&v.addRule(`${w.Codicon.symbolNumber.cssSelector} { color: ${D}; }`);const N=S.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);N&&v.addRule(`${w.Codicon.symbolObject.cssSelector} { color: ${N}; }`);const I=S.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);I&&v.addRule(`${w.Codicon.symbolOperator.cssSelector} { color: ${I}; }`);const T=S.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);T&&v.addRule(`${w.Codicon.symbolPackage.cssSelector} { color: ${T}; }`);const O=S.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);O&&v.addRule(`${w.Codicon.symbolProperty.cssSelector} { color: ${O}; }`);const A=S.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);A&&v.addRule(`${w.Codicon.symbolReference.cssSelector} { color: ${A}; }`);const B=S.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);B&&v.addRule(`${w.Codicon.symbolSnippet.cssSelector} { color: ${B}; }`);const E=S.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);E&&v.addRule(`${w.Codicon.symbolString.cssSelector} { color: ${E}; }`);const W=S.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);W&&v.addRule(`${w.Codicon.symbolStruct.cssSelector} { color: ${W}; }`);const R=S.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);R&&v.addRule(`${w.Codicon.symbolText.cssSelector} { color: ${R}; }`);const F=S.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);F&&v.addRule(`${w.Codicon.symbolTypeParameter.cssSelector} { color: ${F}; }`);const V=S.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);V&&v.addRule(`${w.Codicon.symbolUnit.cssSelector} { color: ${V}; }`);const K=S.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);K&&v.addRule(`${w.Codicon.symbolVariable.cssSelector} { color: ${K}; }`)})}),define(ee[598],te([0,1,7,43,576]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorServiceImpl=void 0;class w extends k.CodeEditorServiceImpl{getActiveCodeEditor(){return null}openCodeEditor(v,l,f){return l?Promise.resolve(this.doOpenEditor(l,v)):Promise.resolve(null)}doOpenEditor(v,l){if(!this.findModel(v,l.resource)){if(l.resource){const c=l.resource.scheme;if(c===M.Schemas.http||c===M.Schemas.https)return C.windowOpenNoOpener(l.resource.toString()),v}return null}const p=l.options?l.options.selection:null;if(p)if(typeof p.endLineNumber=="number"&&typeof p.endColumn=="number")v.setSelection(p),v.revealRangeInCenter(p,1);else{const c={lineNumber:p.startLineNumber,column:p.startColumn};v.setPosition(c),v.revealPositionInCenter(c,1)}return v}findModel(v,l){const f=v.getModel();return f&&f.uri.toString()!==l.toString()?null:f}}e.StandaloneCodeEditorServiceImpl=w}),define(ee[599],te([0,1,49,22]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[M.editorBackground]:"#FFFFFE",[M.editorForeground]:"#000000",[M.editorInactiveSelection]:"#E5EBF1",[C.editorIndentGuides]:"#D3D3D3",[C.editorActiveIndentGuides]:"#939393",[M.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[M.editorBackground]:"#1E1E1E",[M.editorForeground]:"#D4D4D4",[M.editorInactiveSelection]:"#3A3D41",[C.editorIndentGuides]:"#404040",[C.editorActiveIndentGuides]:"#707070",[M.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[M.editorBackground]:"#000000",[M.editorForeground]:"#FFFFFF",[C.editorIndentGuides]:"#FFFFFF",[C.editorActiveIndentGuides]:"#FFFFFF"}}}),define(ee[35],te([0,1,48,9,18,26,2,6,12,54,71,27]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function u(s){return s.command!==void 0}e.isIMenuItem=u;class a{constructor(i){this.id=a._idPool++,this._debugName=i}}e.MenuId=a,a._idPool=0,a.CommandPalette=new a("CommandPalette"),a.EditorContext=new a("EditorContext"),a.EditorContextPeek=new a("EditorContextPeek"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),e.IMenuService=M.createDecorator("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new v.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:s=>s===a.CommandPalette}}addCommand(s){return this.addCommands(f.Iterable.single(s))}addCommands(s){for(const i of s)this._commands.set(i.id,i);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),S.toDisposable(()=>{let i=!1;for(const n of s)i=this._commands.delete(n.id)||i;i&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((i,n)=>s.set(n,i)),s}appendMenuItem(s,i){return this.appendMenuItems(f.Iterable.single({id:s,item:i}))}appendMenuItems(s){const i=new Set,n=new p.LinkedList;for(const{id:t,item:o}of s){let h=this._menuItems.get(t);h||(h=new p.LinkedList,this._menuItems.set(t,h)),n.push(h.push(o)),i.add(t)}return this._onDidChangeMenu.fire(i),S.toDisposable(()=>{if(n.size>0){for(let t of n)t();this._onDidChangeMenu.fire(i),n.clear()}})}getMenuItems(s){let i;return this._menuItems.has(s)?i=[...this._menuItems.get(s)]:i=[],s===a.CommandPalette&&this._appendImplicitItems(i),i}_appendImplicitItems(s){const i=new Set;for(const n of s)u(n)&&(i.add(n.command.id),n.alt&&i.add(n.alt.id));this._commands.forEach((n,t)=>{i.has(t)||s.push({command:n})})}};class r extends C.SubmenuAction{constructor(i,n,t,o){const h=[],_=n.createMenu(i.submenu,t),m=_.getActions(o);_.dispose();for(let g of m){const[,b]=g;b.length>0&&(h.push(...b),h.push(new C.Separator))}h.length&&h.pop(),super(`submenuitem.${i.submenu.id}`,typeof i.title=="string"?i.title:i.title.value,h,"submenu"),this.item=i}}e.SubmenuItemAction=r;let d=class At{constructor(i,n,t,o,h){var _;if(this._commandService=h,this.id=i.id,this.label=typeof i.title=="string"?i.title:i.title.value,this.tooltip=(_=i.tooltip)!==null&&_!==void 0?_:"",this.enabled=!i.precondition||o.contextMatchesRules(i.precondition),this.checked=!1,i.toggled){const m=i.toggled.condition?i.toggled:{condition:i.toggled};this.checked=o.contextMatchesRules(m.condition),this.checked&&m.tooltip&&(this.tooltip=typeof m.tooltip=="string"?m.tooltip:m.tooltip.value)}this.item=i,this.alt=n?new At(n,void 0,t,o,h):void 0,this._options=t,l.ThemeIcon.isThemeIcon(i.icon)&&(this.class=c.CSSIcon.asClassName(i.icon))}dispose(){}run(...i){var n,t;let o=[];return((n=this._options)===null||n===void 0?void 0:n.arg)&&(o=[...o,this._options.arg]),((t=this._options)===null||t===void 0?void 0:t.shouldForwardArgs)&&(o=[...o,...i]),this._commandService.executeCommand(this.id,...o)}};d=Me([pe(3,k.IContextKeyService),pe(4,w.ICommandService)],d),e.MenuItemAction=d}),define(ee[14],te([0,1,442,24,28,13,36,67,35,26,18,86,33,87,20]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class d{constructor(A){this.id=A.id,this.precondition=A.precondition,this._kbOpts=A.kbOpts,this._menuOpts=A.menuOpts,this._description=A.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let A=this._kbOpts.kbExpr;this.precondition&&(A?A=p.ContextKeyExpr.and(A,this.precondition):A=this.precondition),c.KeybindingsRegistry.registerCommandAndKeybindingRule({id:this.id,handler:(B,E)=>this.runCommand(B,E),weight:this._kbOpts.weight,args:this._kbOpts.args,when:A,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else f.CommandsRegistry.registerCommand({id:this.id,handler:(A,B)=>this.runCommand(A,B),description:this._description})}_registerMenuItem(A){l.MenuRegistry.appendMenuItem(A.menuId,{group:A.group,command:{id:this.id,title:A.title,icon:A.icon,precondition:this.precondition},when:A.when,order:A.order})}}e.Command=d;class s extends d{constructor(){super(...arguments);this._implementations=[]}addImplementation(A,B){return this._implementations.push([A,B]),this._implementations.sort((E,W)=>W[0]-E[0]),{dispose:()=>{for(let E=0;E<this._implementations.length;E++)if(this._implementations[E][1]===B){this._implementations.splice(E,1);return}}}}runCommand(A,B){for(const E of this._implementations){const W=E[1](A,B);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiCommand=s;class i extends d{constructor(A,B){super(B);this.command=A}runCommand(A,B){return this.command.runCommand(A,B)}}e.ProxyCommand=i;class n extends d{static bindToContribution(A){return class extends n{constructor(E){super(E);this._callback=E.handler}runEditorCommand(E,W,R){A(W)&&this._callback(A(W),R)}}}runCommand(A,B){const E=A.get(k.ICodeEditorService),W=E.getFocusedCodeEditor()||E.getActiveCodeEditor();if(!!W)return W.invokeWithinContext(R=>{if(!!R.get(p.IContextKeyService).contextMatchesRules(r.withNullAsUndefined(this.precondition)))return this.runEditorCommand(R,W,B)})}}e.EditorCommand=n;class t extends n{constructor(A){super(t.convertOptions(A));this.label=A.label,this.alias=A.alias}static convertOptions(A){let B;Array.isArray(A.menuOpts)?B=A.menuOpts:A.menuOpts?B=[A.menuOpts]:B=[];function E(W){return W.menuId||(W.menuId=l.MenuId.EditorContext),W.title||(W.title=A.label),W.when=p.ContextKeyExpr.and(A.precondition,W.when),W}return Array.isArray(A.contextMenuOpts)?B.push(...A.contextMenuOpts.map(E)):A.contextMenuOpts&&B.push(E(A.contextMenuOpts)),A.menuOpts=B,A}runEditorCommand(A,B,E){return this.reportTelemetry(A,B),this.run(A,B,E||{})}reportTelemetry(A,B){A.get(a.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=t;class o extends t{constructor(A){super(A);this._implementations=[]}runEditorCommand(A,B,E){this.reportTelemetry(A,B);for(const W of this._implementations)if(W[1](A,E))return;return this.run(A,B,E||{})}}e.MultiEditorAction=o;function h(O,A){f.CommandsRegistry.registerCommand(O,function(B,...E){const[W,R]=E;r.assertType(M.URI.isUri(W)),r.assertType(w.Position.isIPosition(R));const F=B.get(S.IModelService).getModel(W);if(F){const V=w.Position.lift(R);return A(F,V,...E.slice(2))}return B.get(v.ITextModelService).createModelReference(W).then(V=>new Promise((K,G)=>{try{const J=A(V.object.textEditorModel,w.Position.lift(R),E.slice(2));K(J)}catch(J){G(J)}}).finally(()=>{V.dispose()}))})}e.registerModelAndPositionCommand=h;function _(O,A){f.CommandsRegistry.registerCommand(O,function(B,...E){const[W]=E;r.assertType(M.URI.isUri(W));const R=B.get(S.IModelService).getModel(W);return R?A(R,...E.slice(1)):B.get(v.ITextModelService).createModelReference(W).then(F=>new Promise((V,K)=>{try{const G=A(F.object.textEditorModel,E.slice(1));V(G)}catch(G){K(G)}}).finally(()=>{F.dispose()}))})}e.registerModelCommand=_;function m(O){return I.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=m;function g(O){const A=new O;return I.INSTANCE.registerEditorAction(A),A}e.registerEditorAction=g;function b(O){return I.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=b;function y(O){I.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=y;function L(O,A){I.INSTANCE.registerEditorContribution(O,A)}e.registerEditorContribution=L;var D;(function(O){function A(F){return I.INSTANCE.getEditorCommand(F)}O.getEditorCommand=A;function B(){return I.INSTANCE.getEditorActions()}O.getEditorActions=B;function E(){return I.INSTANCE.getEditorContributions()}O.getEditorContributions=E;function W(F){return I.INSTANCE.getEditorContributions().filter(V=>F.indexOf(V.id)>=0)}O.getSomeEditorContributions=W;function R(){return I.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=R})(D=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const N={EditorCommonContributions:"editor.contributions"};class I{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(A,B){this.editorContributions.push({id:A,ctor:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(A){A.register(),this.editorActions.push(A)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(A){A.register(),this.editorCommands[A.id]=A}getEditorCommand(A){return this.editorCommands[A]||null}}I.INSTANCE=new I,u.Registry.add(N.EditorCommonContributions,I.INSTANCE);function T(O){return O.register(),O}e.UndoCommand=T(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:l.MenuId.MenubarEditMenu,group:"1_do",title:C.localize(0,null),order:1},{menuId:l.MenuId.CommandPalette,group:"",title:C.localize(1,null),order:1}]})),T(new i(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=T(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:l.MenuId.MenubarEditMenu,group:"1_do",title:C.localize(2,null),order:2},{menuId:l.MenuId.CommandPalette,group:"",title:C.localize(3,null),order:1}]})),T(new i(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=T(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:l.MenuId.MenubarSelectionMenu,group:"1_basic",title:C.localize(4,null),order:1},{menuId:l.MenuId.CommandPalette,group:"",title:C.localize(5,null),order:1}]}))}),define(ee[186],te([0,1,440,34,20,14,28,529,42,179,240,180,13,3,25,18,86]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const i=0;class n extends w.EditorCommand{runEditorCommand(I,T,O){const A=T._getViewModel();!A||this.runCoreEditorCommand(A,O||{})}}e.CoreEditorCommand=n;var t;(function(N){const I=function(O){if(!k.isObject(O))return!1;const A=O;return!(!k.isString(A.to)||!k.isUndefined(A.by)&&!k.isString(A.by)||!k.isUndefined(A.value)&&!k.isNumber(A.value)||!k.isUndefined(A.revealCursor)&&!k.isBoolean(A.revealCursor))};N.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:I,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Down:"down"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function T(O){let A;switch(O.to){case N.RawDirection.Up:A=1;break;case N.RawDirection.Down:A=2;break;default:return null}let B;switch(O.by){case N.RawUnit.Line:B=1;break;case N.RawUnit.WrappedLine:B=2;break;case N.RawUnit.Page:B=3;break;case N.RawUnit.HalfPage:B=4;break;default:B=2}const E=Math.floor(O.value||1),W=!!O.revealCursor;return{direction:A,unit:B,value:E,revealCursor:W,select:!!O.select}}N.parse=T})(t=e.EditorScroll_||(e.EditorScroll_={}));var o;(function(N){const I=function(T){if(!k.isObject(T))return!1;const O=T;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed .\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:I,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(o=e.RevealLine_||(e.RevealLine_={}));class h{constructor(I){I.addImplementation(1e4,(T,O)=>{const A=T.get(S.ICodeEditorService).getFocusedCodeEditor();return A&&A.hasTextFocus()?this._runEditorCommand(T,A,O):!1}),I.addImplementation(1e3,(T,O)=>{const A=document.activeElement;return A&&["input","textarea"].indexOf(A.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),I.addImplementation(0,(T,O)=>{const A=T.get(S.ICodeEditorService).getActiveCodeEditor();return A?(A.focus(),this._runEditorCommand(T,A,O)):!1})}_runEditorCommand(I,T,O){const A=this.runEditorCommand(I,T,O);return A||!0}}var _;(function(N){class I extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,[p.CursorMoveCommands.moveTo(U,U.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)]),U.revealPrimaryCursor(P.source,!0)}}N.MoveTo=w.registerEditorCommand(new I({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=w.registerEditorCommand(new I({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class T extends n{runCoreEditorCommand(U,P){U.model.pushStackElement();const x=this._getColumnSelectResult(U,U.getPrimaryCursorState(),U.getCursorColumnSelectData(),P);U.setCursorStates(P.source,3,x.viewStates.map(H=>l.CursorState.fromViewState(H))),U.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:x.fromLineNumber,fromViewVisualColumn:x.fromVisualColumn,toViewLineNumber:x.toLineNumber,toViewVisualColumn:x.toVisualColumn}),x.reversed?U.revealTopMostCursor(P.source):U.revealBottomMostCursor(P.source)}}N.ColumnSelect=w.registerEditorCommand(new class extends T{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(X,U,P,x){const H=X.model.validatePosition(x.position),z=X.coordinatesConverter.validateViewPosition(new u.Position(x.viewPosition.lineNumber,x.viewPosition.column),H);let q=x.doColumnSelect?P.fromViewLineNumber:z.lineNumber,Q=x.doColumnSelect?P.fromViewVisualColumn:x.mouseColumn-1;return v.ColumnSelection.columnSelect(X.cursorConfig,X,q,Q,z.lineNumber,x.mouseColumn-1)}}),N.CursorColumnSelectLeft=w.registerEditorCommand(new class extends T{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(X,U,P,x){return v.ColumnSelection.columnSelectLeft(X.cursorConfig,X,P)}}),N.CursorColumnSelectRight=w.registerEditorCommand(new class extends T{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(X,U,P,x){return v.ColumnSelection.columnSelectRight(X.cursorConfig,X,P)}});class O extends T{constructor(U){super(U);this._isPaged=U.isPaged}_getColumnSelectResult(U,P,x,H){return v.ColumnSelection.columnSelectUp(U.cursorConfig,U,x,this._isPaged)}}N.CursorColumnSelectUp=w.registerEditorCommand(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),N.CursorColumnSelectPageUp=w.registerEditorCommand(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class A extends T{constructor(U){super(U);this._isPaged=U.isPaged}_getColumnSelectResult(U,P,x,H){return v.ColumnSelection.columnSelectDown(U.cursorConfig,U,x,this._isPaged)}}N.CursorColumnSelectDown=w.registerEditorCommand(new A({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),N.CursorColumnSelectPageDown=w.registerEditorCommand(new A({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class B extends n{constructor(){super({id:"cursorMove",precondition:void 0,description:p.CursorMove.description})}runCoreEditorCommand(U,P){const x=p.CursorMove.parse(P);!x||this._runCursorMove(U,P.source,x)}_runCursorMove(U,P,x){U.model.pushStackElement(),U.setCursorStates(P,3,B._move(U,U.getCursorStates(),x)),U.revealPrimaryCursor(P,!0)}static _move(U,P,x){const H=x.select,z=x.value;switch(x.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return p.CursorMoveCommands.simpleMove(U,P,x.direction,H,z,x.unit);case 11:case 13:case 12:case 14:return p.CursorMoveCommands.viewportMove(U,P,x.direction,H,z);default:return null}}}N.CursorMoveImpl=B,N.CursorMove=w.registerEditorCommand(new B);class E extends n{constructor(U){super(U);this._staticArgs=U.args}runCoreEditorCommand(U,P){let x=this._staticArgs;this._staticArgs.value===-1&&(x={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:U.cursorConfig.pageSize}),U.model.pushStackElement(),U.setCursorStates(P.source,3,p.CursorMoveCommands.simpleMove(U,U.getCursorStates(),x.direction,x.select,x.value,x.unit)),U.revealPrimaryCursor(P.source,!0)}}N.CursorLeft=w.registerEditorCommand(new E({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),N.CursorLeftSelect=w.registerEditorCommand(new E({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|15}})),N.CursorRight=w.registerEditorCommand(new E({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),N.CursorRightSelect=w.registerEditorCommand(new E({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|17}})),N.CursorUp=w.registerEditorCommand(new E({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),N.CursorUpSelect=w.registerEditorCommand(new E({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),N.CursorPageUp=w.registerEditorCommand(new E({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=w.registerEditorCommand(new E({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|11}})),N.CursorDown=w.registerEditorCommand(new E({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),N.CursorDownSelect=w.registerEditorCommand(new E({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),N.CursorPageDown=w.registerEditorCommand(new E({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=w.registerEditorCommand(new E({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|12}})),N.CreateCursor=w.registerEditorCommand(new class extends n{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(X,U){let P;U.wholeLine?P=p.CursorMoveCommands.line(X,X.getPrimaryCursorState(),!1,U.position,U.viewPosition):P=p.CursorMoveCommands.moveTo(X,X.getPrimaryCursorState(),!1,U.position,U.viewPosition);const x=X.getCursorStates();if(x.length>1){const H=P.modelState?P.modelState.position:null,z=P.viewState?P.viewState.position:null;for(let q=0,Q=x.length;q<Q;q++){const ce=x[q];if(!(H&&!ce.modelState.selection.containsPosition(H))&&!(z&&!ce.viewState.selection.containsPosition(z))){x.splice(q,1),X.model.pushStackElement(),X.setCursorStates(U.source,3,x);return}}}x.push(P),X.model.pushStackElement(),X.setCursorStates(U.source,3,x)}}),N.LastCursorMoveToSelect=w.registerEditorCommand(new class extends n{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(X,U){const P=X.getLastAddedCursorIndex(),x=X.getCursorStates(),H=x.slice(0);H[P]=p.CursorMoveCommands.moveTo(X,x[P],!0,U.position,U.viewPosition),X.model.pushStackElement(),X.setCursorStates(U.source,3,H)}});class W extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,p.CursorMoveCommands.moveToBeginningOfLine(U,U.getCursorStates(),this._inSelectionMode)),U.revealPrimaryCursor(P.source,!0)}}N.CursorHome=w.registerEditorCommand(new W({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),N.CursorHomeSelect=w.registerEditorCommand(new W({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class R extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,this._exec(U.getCursorStates())),U.revealPrimaryCursor(P.source,!0)}_exec(U){const P=[];for(let x=0,H=U.length;x<H;x++){const z=U[x],q=z.modelState.position.lineNumber;P[x]=l.CursorState.fromModelState(z.modelState.move(this._inSelectionMode,q,1,0))}return P}}N.CursorLineStart=w.registerEditorCommand(new R({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),N.CursorLineStartSelect=w.registerEditorCommand(new R({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class F extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,p.CursorMoveCommands.moveToEndOfLine(U,U.getCursorStates(),this._inSelectionMode,P.sticky||!1)),U.revealPrimaryCursor(P.source,!0)}}N.CursorEnd=w.registerEditorCommand(new F({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=w.registerEditorCommand(new F({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.localize(1,null),type:"boolean",default:!1}}}}]}}));class V extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,this._exec(U,U.getCursorStates())),U.revealPrimaryCursor(P.source,!0)}_exec(U,P){const x=[];for(let H=0,z=P.length;H<z;H++){const q=P[H],Q=q.modelState.position.lineNumber,ce=U.model.getLineMaxColumn(Q);x[H]=l.CursorState.fromModelState(q.modelState.move(this._inSelectionMode,Q,ce,0))}return x}}N.CursorLineEnd=w.registerEditorCommand(new V({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),N.CursorLineEndSelect=w.registerEditorCommand(new V({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class K extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,p.CursorMoveCommands.moveToBeginningOfBuffer(U,U.getCursorStates(),this._inSelectionMode)),U.revealPrimaryCursor(P.source,!0)}}N.CursorTop=w.registerEditorCommand(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),N.CursorTopSelect=w.registerEditorCommand(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class G extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,p.CursorMoveCommands.moveToEndOfBuffer(U,U.getCursorStates(),this._inSelectionMode)),U.revealPrimaryCursor(P.source,!0)}}N.CursorBottom=w.registerEditorCommand(new G({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),N.CursorBottomSelect=w.registerEditorCommand(new G({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class J extends n{constructor(){super({id:"editorScroll",precondition:void 0,description:t.description})}runCoreEditorCommand(U,P){const x=t.parse(P);!x||this._runEditorScroll(U,P.source,x)}_runEditorScroll(U,P,x){const H=this._computeDesiredScrollTop(U,x);if(x.revealCursor){const z=U.getCompletelyVisibleViewRangeAtScrollTop(H);U.setCursorStates(P,3,[p.CursorMoveCommands.findPositionInViewportIfOutside(U,U.getPrimaryCursorState(),z,x.select)])}U.setScrollTop(H,0)}_computeDesiredScrollTop(U,P){if(P.unit===1){const z=U.getCompletelyVisibleViewRange(),q=U.coordinatesConverter.convertViewRangeToModelRange(z);let Q;P.direction===1?Q=Math.max(1,q.startLineNumber-P.value):Q=Math.min(U.model.getLineCount(),q.startLineNumber+P.value);const ce=U.coordinatesConverter.convertModelPositionToViewPosition(new u.Position(Q,1));return U.getVerticalOffsetForLineNumber(ce.lineNumber)}let x;P.unit===3?x=U.cursorConfig.pageSize*P.value:P.unit===4?x=Math.round(U.cursorConfig.pageSize/2)*P.value:x=P.value;const H=(P.direction===1?-1:1)*x;return U.getScrollTop()+H*U.cursorConfig.lineHeight}}N.EditorScrollImpl=J,N.EditorScroll=w.registerEditorCommand(new J),N.ScrollLineUp=w.registerEditorCommand(new class extends n{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(X,U){N.EditorScroll._runEditorScroll(X,U.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageUp=w.registerEditorCommand(new class extends n{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(X,U){N.EditorScroll._runEditorScroll(X,U.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollLineDown=w.registerEditorCommand(new class extends n{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(X,U){N.EditorScroll._runEditorScroll(X,U.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageDown=w.registerEditorCommand(new class extends n{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(X,U){N.EditorScroll._runEditorScroll(X,U.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class se extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,[p.CursorMoveCommands.word(U,U.getPrimaryCursorState(),this._inSelectionMode,P.position)]),U.revealPrimaryCursor(P.source,!0)}}N.WordSelect=w.registerEditorCommand(new se({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=w.registerEditorCommand(new se({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=w.registerEditorCommand(new class extends n{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(X,U){const P=X.getLastAddedCursorIndex(),x=X.getCursorStates(),H=x.slice(0),z=x[P];H[P]=p.CursorMoveCommands.word(X,z,z.modelState.hasSelection(),U.position),X.model.pushStackElement(),X.setCursorStates(U.source,3,H)}});class ie extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){U.model.pushStackElement(),U.setCursorStates(P.source,3,[p.CursorMoveCommands.line(U,U.getPrimaryCursorState(),this._inSelectionMode,P.position,P.viewPosition)]),U.revealPrimaryCursor(P.source,!1)}}N.LineSelect=w.registerEditorCommand(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=w.registerEditorCommand(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ae extends n{constructor(U){super(U);this._inSelectionMode=U.inSelectionMode}runCoreEditorCommand(U,P){const x=U.getLastAddedCursorIndex(),H=U.getCursorStates(),z=H.slice(0);z[x]=p.CursorMoveCommands.line(U,H[x],this._inSelectionMode,P.position,P.viewPosition),U.model.pushStackElement(),U.setCursorStates(P.source,3,z)}}N.LastCursorLineSelect=w.registerEditorCommand(new ae({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=w.registerEditorCommand(new ae({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.ExpandLineSelection=w.registerEditorCommand(new class extends n{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:2048|42}})}runCoreEditorCommand(X,U){X.model.pushStackElement(),X.setCursorStates(U.source,3,p.CursorMoveCommands.expandLineSelection(X,X.getCursorStates())),X.revealPrimaryCursor(U.source,!0)}}),N.CancelSelection=w.registerEditorCommand(new class extends n{constructor(){super({id:"cancelSelection",precondition:r.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(X,U){X.model.pushStackElement(),X.setCursorStates(U.source,3,[p.CursorMoveCommands.cancelSelection(X,X.getPrimaryCursorState())]),X.revealPrimaryCursor(U.source,!0)}}),N.RemoveSecondaryCursors=w.registerEditorCommand(new class extends n{constructor(){super({id:"removeSecondaryCursors",precondition:r.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:i+1,kbExpr:r.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(X,U){X.model.pushStackElement(),X.setCursorStates(U.source,3,[X.getPrimaryCursorState()]),X.revealPrimaryCursor(U.source,!0)}}),N.RevealLine=w.registerEditorCommand(new class extends n{constructor(){super({id:"revealLine",precondition:void 0,description:o.description})}runCoreEditorCommand(X,U){const P=U,x=P.lineNumber||0;let H=typeof x=="number"?x+1:parseInt(x)+1;H<1&&(H=1);const z=X.model.getLineCount();H>z&&(H=z);const q=new a.Range(H,1,H,X.model.getLineMaxColumn(H));let Q=0;if(P.at)switch(P.at){case o.RawAtArgument.Top:Q=3;break;case o.RawAtArgument.Center:Q=1;break;case o.RawAtArgument.Bottom:Q=4;break;default:break}const ce=X.coordinatesConverter.convertModelRangeToViewRange(q);X.revealRange(U.source,!1,ce,Q,0)}}),N.SelectAll=new class extends h{constructor(){super(w.SelectAllCommand)}runDOMCommand(){M.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(X,U,P){const x=U._getViewModel();!x||this.runCoreEditorCommand(x,P)}runCoreEditorCommand(X,U){X.model.pushStackElement(),X.setCursorStates("keyboard",3,[p.CursorMoveCommands.selectAll(X,X.getPrimaryCursorState())])}},N.SetSelection=w.registerEditorCommand(new class extends n{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(X,U){X.model.pushStackElement(),X.setCursorStates(U.source,3,[l.CursorState.fromModelSelection(U.selection)])}})})(_=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const m=d.ContextKeyExpr.and(r.EditorContextKeys.textInputFocus,r.EditorContextKeys.columnSelection);function g(N,I){s.KeybindingsRegistry.registerKeybindingRule({id:N,primary:I,when:m,weight:i+1})}g(_.CursorColumnSelectLeft.id,1024|15),g(_.CursorColumnSelectRight.id,1024|17),g(_.CursorColumnSelectUp.id,1024|16),g(_.CursorColumnSelectPageUp.id,1024|11),g(_.CursorColumnSelectDown.id,1024|18),g(_.CursorColumnSelectPageDown.id,1024|12);function b(N){return N.register(),N}var y;(function(N){class I extends w.EditorCommand{runEditorCommand(O,A,B){const E=A._getViewModel();!E||this.runCoreEditingCommand(A,E,B||{})}}N.CoreEditingCommand=I,N.LineBreakInsert=w.registerEditorCommand(new class extends I{constructor(){super({id:"lineBreakInsert",precondition:r.EditorContextKeys.writable,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(T,O,A){T.pushUndoStop(),T.executeCommands(this.id,c.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection)))}}),N.Outdent=w.registerEditorCommand(new class extends I{constructor(){super({id:"outdent",precondition:r.EditorContextKeys.writable,kbOpts:{weight:i,kbExpr:d.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(T,O,A){T.pushUndoStop(),T.executeCommands(this.id,c.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection))),T.pushUndoStop()}}),N.Tab=w.registerEditorCommand(new class extends I{constructor(){super({id:"tab",precondition:r.EditorContextKeys.writable,kbOpts:{weight:i,kbExpr:d.ContextKeyExpr.and(r.EditorContextKeys.editorTextFocus,r.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(T,O,A){T.pushUndoStop(),T.executeCommands(this.id,c.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(B=>B.modelState.selection))),T.pushUndoStop()}}),N.DeleteLeft=w.registerEditorCommand(new class extends I{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(T,O,A){const[B,E]=f.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(W=>W.modelState.selection));B&&T.pushUndoStop(),T.executeCommands(this.id,E),O.setPrevEditOperationType(2)}}),N.DeleteRight=w.registerEditorCommand(new class extends I{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:i,kbExpr:r.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(T,O,A){const[B,E]=f.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(W=>W.modelState.selection));B&&T.pushUndoStop(),T.executeCommands(this.id,E),O.setPrevEditOperationType(3)}}),N.Undo=new class extends h{constructor(){super(w.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(T,O,A){if(!(!O.hasModel()||O.getOption(75)===!0))return O.getModel().undo()}},N.Redo=new class extends h{constructor(){super(w.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(T,O,A){if(!(!O.hasModel()||O.getOption(75)===!0))return O.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class L extends w.Command{constructor(I,T,O){super({id:I,precondition:void 0,description:O});this._handlerId=T}runCommand(I,T){const O=I.get(S.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,T)}}function D(N,I){b(new L("default:"+N,N)),b(new L(N,N,I))}D("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),D("replacePreviousChar"),D("compositionStart"),D("compositionEnd"),D("paste"),D("cut")}),define(ee[600],te([0,1,14,18,23,71,9,74]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const l=S.createDecorator("IEditorCancelService"),f=new M.RawContextKey("cancellableOperation",!1);v.registerSingleton(l,class{constructor(){this._tokens=new WeakMap}add(c,u){let a=this._tokens.get(c);a||(a=c.invokeWithinContext(d=>{const s=f.bindTo(d.get(M.IContextKeyService)),i=new w.LinkedList;return{key:s,tokens:i}}),this._tokens.set(c,a));let r;return a.key.set(!0),r=a.tokens.push(u),()=>{r&&(r(),a.key.set(!a.tokens.isEmpty()),r=void 0)}}cancel(c){const u=this._tokens.get(c);if(!!u){const a=u.tokens.pop();a&&(a.cancel(),u.key.set(!u.tokens.isEmpty()))}}},!0);class p extends k.CancellationTokenSource{constructor(u,a){super(a);this.editor=u,this._unregister=u.invokeWithinContext(r=>r.get(l).add(u,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=p,C.registerEditorCommand(new class extends C.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:f})}runEditorCommand(c,u){c.get(l).cancel(u)}})}),define(ee[70],te([0,1,8,3,23,2,600]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class v{constructor(u,a){if(this.flags=a,(this.flags&1)!=0){const r=u.getModel();this.modelVersionId=r?C.format("{0}#{1}",r.uri.toString(),r.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=u.getPosition():this.position=null,(this.flags&2)!=0?this.selection=u.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=u.getScrollLeft(),this.scrollTop=u.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(u){if(!(u instanceof v))return!1;const a=u;return!(this.modelVersionId!==a.modelVersionId||this.scrollLeft!==a.scrollLeft||this.scrollTop!==a.scrollTop||!this.position&&a.position||this.position&&!a.position||this.position&&a.position&&!this.position.equals(a.position)||!this.selection&&a.selection||this.selection&&!a.selection||this.selection&&a.selection&&!this.selection.equalsRange(a.selection))}validate(u){return this._equals(new v(u,this.flags))}}e.EditorState=v;class l extends S.EditorKeybindingCancellationTokenSource{constructor(u,a,r,d){super(u,d);this.editor=u,this._listener=new w.DisposableStore,a&4&&this._listener.add(u.onDidChangeCursorPosition(s=>{(!r||!M.Range.containsPosition(r,s.position))&&this.cancel()})),a&2&&this._listener.add(u.onDidChangeCursorSelection(s=>{(!r||!M.Range.containsRange(r,s.selection))&&this.cancel()})),a&8&&this._listener.add(u.onDidScrollChange(s=>this.cancel())),a&1&&(this._listener.add(u.onDidChangeModel(s=>this.cancel())),this._listener.add(u.onDidChangeModelContent(s=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=l;class f extends k.CancellationTokenSource{constructor(u,a){super(a);this._listener=u.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=f;class p{constructor(u,a,r){this._visiblePosition=u,this._visiblePositionScrollDelta=a,this._cursorPosition=r}static capture(u){let a=null,r=0;if(u.getScrollTop()!==0){const d=u.getVisibleRanges();if(d.length>0){a=d[0].getStartPosition();const s=u.getTopForPosition(a.lineNumber,a.column);r=u.getScrollTop()-s}}return new p(a,r,u.getPosition())}restore(u){if(this._visiblePosition){const a=u.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);u.setScrollTop(a+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(u){const a=u.getPosition();if(!(!this._cursorPosition||!a)){const r=u.getTopForLineNumber(a.lineNumber)-u.getTopForLineNumber(this._cursorPosition.lineNumber);u.setScrollTop(u.getScrollTop()+r)}}}e.StableEditorScrollState=p}),define(ee[601],te([0,1,186,13,16]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class w{constructor(v,l,f,p){this.configuration=v,this.viewModel=l,this.userInputEvents=f,this.commandDelegate=p}paste(v,l,f,p){this.commandDelegate.paste(v,l,f,p)}type(v){this.commandDelegate.type(v)}replacePreviousChar(v,l){this.commandDelegate.replacePreviousChar(v,l)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(v){C.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:v})}_validateViewColumn(v){const l=this.viewModel.getLineMinColumn(v.lineNumber);return v.column<l?new M.Position(v.lineNumber,l):v}_hasMulticursorModifier(v){switch(this.configuration.options.get(64)){case"altKey":return v.altKey;case"ctrlKey":return v.ctrlKey;case"metaKey":return v.metaKey;default:return!1}}_hasNonMulticursorModifier(v){switch(this.configuration.options.get(64)){case"altKey":return v.ctrlKey||v.metaKey;case"ctrlKey":return v.altKey||v.metaKey;case"metaKey":return v.ctrlKey||v.altKey;default:return!1}}dispatchMouse(v){const l=this.configuration.options,f=k.isLinux&&l.get(91),p=l.get(15);v.middleButton&&!f?this._columnSelect(v.position,v.mouseColumn,v.inSelectionMode):v.startedOnLineNumbers?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelect(v.position):this._createCursor(v.position,!0):v.inSelectionMode?this._lineSelectDrag(v.position):this._lineSelect(v.position):v.mouseDownCount>=4?this._selectAll():v.mouseDownCount===3?this._hasMulticursorModifier(v)?v.inSelectionMode?this._lastCursorLineSelectDrag(v.position):this._lastCursorLineSelect(v.position):v.inSelectionMode?this._lineSelectDrag(v.position):this._lineSelect(v.position):v.mouseDownCount===2?this._hasMulticursorModifier(v)?this._lastCursorWordSelect(v.position):v.inSelectionMode?this._wordSelectDrag(v.position):this._wordSelect(v.position):this._hasMulticursorModifier(v)?this._hasNonMulticursorModifier(v)||(v.shiftKey?this._columnSelect(v.position,v.mouseColumn,!0):v.inSelectionMode?this._lastCursorMoveToSelect(v.position):this._createCursor(v.position,!1)):v.inSelectionMode?v.altKey?this._columnSelect(v.position,v.mouseColumn,!0):p?this._columnSelect(v.position,v.mouseColumn,!0):this._moveToSelect(v.position):this.moveTo(v.position)}_usualArgs(v){return v=this._validateViewColumn(v),{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v}}moveTo(v){C.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_moveToSelect(v){C.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_columnSelect(v,l,f){v=this._validateViewColumn(v),C.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,mouseColumn:l,doColumnSelect:f})}_createCursor(v,l){v=this._validateViewColumn(v),C.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(v),viewPosition:v,wholeLine:l})}_lastCursorMoveToSelect(v){C.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_wordSelect(v){C.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_wordSelectDrag(v){C.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_lastCursorWordSelect(v){C.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_lineSelect(v){C.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_lineSelectDrag(v){C.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_lastCursorLineSelect(v){C.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_lastCursorLineSelectDrag(v){C.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(v))}_selectAll(){C.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(v){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(v)}emitKeyDown(v){this.userInputEvents.emitKeyDown(v)}emitKeyUp(v){this.userInputEvents.emitKeyUp(v)}emitContextMenu(v){this.userInputEvents.emitContextMenu(v)}emitMouseMove(v){this.userInputEvents.emitMouseMove(v)}emitMouseLeave(v){this.userInputEvents.emitMouseLeave(v)}emitMouseUp(v){this.userInputEvents.emitMouseUp(v)}emitMouseDown(v){this.userInputEvents.emitMouseDown(v)}emitMouseDrag(v){this.userInputEvents.emitMouseDrag(v)}emitMouseDrop(v){this.userInputEvents.emitMouseDrop(v)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(v){this.userInputEvents.emitMouseWheel(v)}}e.ViewController=w}),define(ee[602],te([0,1,7,34,21,30,11,574,583,601,254,557,45,386,581,387,577,171,582,255,575,388,221,389,578,390,584,391,585,579,580,586,392,13,3,109,381,383,110,12,185]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B,E,W,R,F,V,K){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class G extends F.ViewEventHandler{constructor(ie,ae,X,U,P,x){super();this._selections=[new k.Selection(1,1,1,1)],this._renderAnimationFrame=null;const H=new f.ViewController(ae,U,P,ie);this._context=new W.ViewContext(ae,X.getColorTheme(),U),this._configPixelRatio=this._configPixelRatio=this._context.configuration.options.get(122),this._context.addEventHandler(this),this._register(X.onDidColorThemeChange(ne=>{this._context.theme.update(ne),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new l.TextAreaHandler(this._context,H,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=w.createFastDomNode(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=w.createFastDomNode(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=w.createFastDomNode(document.createElement("div")),u.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new s.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new o.ViewLines(this._context,this._linesContent),this._viewZones=new O.ViewZones(this._context),this._viewParts.push(this._viewZones);const z=new y.DecorationsOverviewRuler(this._context);this._viewParts.push(z);const q=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(q);const Q=new c.ContentViewOverlays(this._context);this._viewParts.push(Q),Q.addDynamicOverlay(new r.CurrentLineHighlightOverlay(this._context)),Q.addDynamicOverlay(new I.SelectionsOverlay(this._context)),Q.addDynamicOverlay(new n.IndentGuidesOverlay(this._context)),Q.addDynamicOverlay(new d.DecorationsOverlay(this._context));const ce=new c.MarginViewOverlays(this._context);this._viewParts.push(ce),ce.addDynamicOverlay(new r.CurrentLineMarginHighlightOverlay(this._context)),ce.addDynamicOverlay(new i.GlyphMarginOverlay(this._context)),ce.addDynamicOverlay(new m.MarginViewLineDecorationsOverlay(this._context)),ce.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),ce.addDynamicOverlay(new t.LineNumbersOverlay(this._context));const ue=new _.Margin(this._context);ue.getDomNode().appendChild(this._viewZones.marginDomNode),ue.getDomNode().appendChild(ce.getDomNode()),this._viewParts.push(ue),this._contentWidgets=new a.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new T.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new b.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Y=new D.Rulers(this._context);this._viewParts.push(Y);const j=new g.Minimap(this._context);if(this._viewParts.push(j),z){const ne=this._scrollbar.getOverviewRulerLayoutInfo();ne.parent.insertBefore(z.getDomNode(),ne.insertBefore)}this._linesContent.appendChild(Q.getDomNode()),this._linesContent.appendChild(Y.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(ue.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(j.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new v.PointerHandler(this._context,H,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},getLastRenderData:()=>{const ie=this._viewCursors.getLastRenderData()||[],ae=this._textAreaHandler.getLastRenderData();return new K.PointerHandlerLastRenderData(ie,ae)},shouldSuppressMouseDownOnViewZone:ie=>this._viewZones.shouldSuppressMouseDownOnViewZone(ie),shouldSuppressMouseDownOnWidget:ie=>this._contentWidgets.shouldSuppressMouseDownOnWidget(ie),getPositionFromDOMInfo:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(ie,ae)),visibleRangeForPosition:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(ie,ae))),getLineWidth:ie=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(ie))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(ie,ae)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new A.Position(ie,ae)))}}_applyLayout(){const ae=this._context.configuration.options.get(124);this.domNode.setWidth(ae.width),this.domNode.setHeight(ae.height),this._overflowGuardContainer.setWidth(ae.width),this._overflowGuardContainer.setHeight(ae.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const ie=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(121)+" "+V.getThemeTypeSelector(this._context.theme.type)+ie}handleEvents(ie){super.handleEvents(ie),this._scheduleRender()}onConfigurationChanged(ie){return this._configPixelRatio=this._context.configuration.options.get(122),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(ie){return this._selections=ie.selections,!1}onFocusChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(ie){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const ie of this._viewParts)ie.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=C.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){J(()=>this._actualRender())}_getViewPartsToRender(){let ie=[],ae=0;for(const X of this._viewParts)X.shouldRender()&&(ie[ae++]=X);return ie}_actualRender(){if(!!C.isInDOM(this.domNode.domNode)){let ie=this._getViewPartsToRender();if(!(!this._viewLines.shouldRender()&&ie.length===0)){const ae=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(ae.startLineNumber,ae.endLineNumber,ae.centeredLineNumber);const X=new R.ViewportData(this._selections,ae,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(X),this._viewLines.shouldRender()&&(this._viewLines.renderText(X),this._viewLines.onDidRender(),ie=this._getViewPartsToRender());const U=new E.RenderingContext(this._context.viewLayout,X,this._viewLines);for(const P of ie)P.prepareRender(U);for(const P of ie)P.render(U),P.onDidRender();Math.abs(M.getPixelRatio()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}}}delegateVerticalScrollbarMouseDown(ie){this._scrollbar.delegateVerticalScrollbarMouseDown(ie)}restoreState(ie){this._context.model.setScrollPosition({scrollTop:ie.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:ie.scrollLeft},1)}getOffsetForColumn(ie,ae){const X=this._context.model.validateModelPosition({lineNumber:ie,column:ae}),U=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(X);this._flushAccumulatedAndRenderNow();const P=this._viewLines.visibleRangeForPosition(new A.Position(U.lineNumber,U.column));return P?P.left:-1}getTargetAtClientPoint(ie,ae){const X=this._pointerHandler.getTargetAtClientPoint(ie,ae);return X?p.ViewUserInputEvents.convertViewToModelMouseTarget(X,this._context.model.coordinatesConverter):null}createOverviewRuler(ie){return new L.OverviewRuler(this._context,ie)}change(ie){this._viewZones.changeViewZones(ie),this._scheduleRender()}render(ie,ae){if(ae){this._viewLines.forceShouldRender();for(const X of this._viewParts)X.forceShouldRender()}ie?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(ie){this._textAreaHandler.setAriaOptions(ie)}addContentWidget(ie){this._contentWidgets.addWidget(ie.widget),this.layoutContentWidget(ie),this._scheduleRender()}layoutContentWidget(ie){let ae=ie.position&&ie.position.range||null;if(ae===null){const U=ie.position?ie.position.position:null;U!==null&&(ae=new B.Range(U.lineNumber,U.column,U.lineNumber,U.column))}const X=ie.position?ie.position.preference:null;this._contentWidgets.setWidgetPosition(ie.widget,ae,X),this._scheduleRender()}removeContentWidget(ie){this._contentWidgets.removeWidget(ie.widget),this._scheduleRender()}addOverlayWidget(ie){this._overlayWidgets.addWidget(ie.widget),this.layoutOverlayWidget(ie),this._scheduleRender()}layoutOverlayWidget(ie){const ae=ie.position?ie.position.preference:null;this._overlayWidgets.setWidgetPosition(ie.widget,ae)&&this._scheduleRender()}removeOverlayWidget(ie){this._overlayWidgets.removeWidget(ie.widget),this._scheduleRender()}}e.View=G;function J(se){try{return se()}catch(ie){S.onUnexpectedError(ie)}}}),define(ee[144],te([0,1,443,7,11,6,2,43,69,14,28,602,254,38,241,42,13,3,21,215,106,25,17,49,22,533,26,18,9,139,32,12,65,20,393,556,137,330]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B,E,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let R=0;class F{constructor(z,q,Q,ce,ue){this.model=z,this.viewModel=q,this.view=Q,this.hasRealView=ce,this.listenersToRemove=ue}dispose(){S.dispose(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let V=class ct extends S.Disposable{constructor(z,q,Q,ce,ue,Y,j,ne,Z,le){super();this._onDidDispose=this._register(new w.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new w.Emitter),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new w.Emitter),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new w.Emitter),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new w.Emitter),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new w.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new w.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new w.Emitter),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new w.Emitter),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new w.Emitter),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new w.Emitter),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new w.Emitter),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new K),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new K),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new w.Emitter),this.onWillType=this._onWillType.event,this._onDidType=this._register(new w.Emitter),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new w.Emitter),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new w.Emitter),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new w.Emitter),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new w.Emitter),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new w.Emitter),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new w.Emitter),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new w.Emitter),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new w.Emitter),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new w.Emitter),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new w.Emitter),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new w.Emitter),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new w.Emitter),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new w.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new w.Emitter),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new w.Emitter),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const he=Object.assign({},q);this._domElement=z,this._overflowWidgetsDomNode=he.overflowWidgetsDomNode,delete he.overflowWidgetsDomNode,this._id=++R,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=Q.isSimpleWidget||!1,this._telemetryData=Q.telemetryData,this._configuration=this._register(this._createConfiguration(he,le)),this._register(this._configuration.onDidChange(de=>{this._onDidChangeConfiguration.fire(de);const me=this._configuration.options;if(de.hasChanged(124)){const ve=me.get(124);this._onDidLayoutChange.fire(ve)}})),this._contextKeyService=this._register(j.createScoped(this._domElement)),this._notificationService=Z,this._codeEditorService=ue,this._commandService=Y,this._themeService=ne,this._register(new G(this,this._contextKeyService)),this._register(new J(this,this._contextKeyService)),this._instantiationService=ce.createChild(new N.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new se(z),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={};let re;Array.isArray(Q.contributions)?re=Q.contributions:re=f.EditorExtensionsRegistry.getEditorContributions();for(const de of re)try{const me=this._instantiationService.createInstance(de.ctor,this);this._contributions[de.id]=me}catch(me){k.onUnexpectedError(me)}f.EditorExtensionsRegistry.getEditorActions().forEach(de=>{const me=new t.InternalEditorAction(de.id,de.label,de.alias,A.withNullAsUndefined(de.precondition),()=>this._instantiationService.invokeFunction(ve=>Promise.resolve(de.runEditorCommand(ve,this,null))),this._contextKeyService);this._actions[me.id]=me}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(z,q){return new l.Configuration(this.isSimpleWidget,z,this._domElement,q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return o.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const z=Object.keys(this._contributions);for(let q=0,Q=z.length;q<Q;q++){const ce=z[q];this._contributions[ce].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(z){return this._instantiationService.invokeFunction(z)}updateOptions(z){this._configuration.updateOptions(z)}getOptions(){return this._configuration.options}getOption(z){return this._configuration.options.get(z)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(z){return this._modelData?W.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(110),z):null}getValue(z=null){if(!this._modelData)return"";const q=!!(z&&z.preserveBOM);let Q=0;return z&&z.lineEnding&&z.lineEnding===`
`?Q=1:z&&z.lineEnding&&z.lineEnding===`\r
`&&(Q=2),this._modelData.model.getValue(Q,q)}setValue(z){!this._modelData||this._modelData.model.setValue(z)}getModel(){return this._modelData?this._modelData.model:null}setModel(z=null){const q=z;if(!(this._modelData===null&&q===null)&&!(this._modelData&&this._modelData.model===q)){const Q=this.hasTextFocus(),ce=this._detachModel();this._attachModel(q),Q&&this.hasModel()&&this.focus();const ue={oldModelUrl:ce?ce.uri:null,newModelUrl:q?q.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(ue),this._postDetachModelCleanup(ce)}}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let z in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[z];for(let Q in q)this._removeDecorationType(z+"-"+Q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(z,q,Q){const ce=z.model.validatePosition({lineNumber:q,column:Q}),ue=z.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);return z.viewModel.viewLayout.getVerticalOffsetForLineNumber(ue.lineNumber)}getTopForLineNumber(z){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,z,1):-1}getTopForPosition(z,q){return this._modelData?ct._getVerticalOffsetForPosition(this._modelData,z,q):-1}setHiddenAreas(z){this._modelData&&this._modelData.viewModel.setHiddenAreas(z.map(q=>i.Range.lift(q)))}getVisibleColumnFromPosition(z){if(!this._modelData)return z.column;const q=this._modelData.model.validatePosition(z),Q=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,Q)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(z){if(!!this._modelData){if(!s.Position.isIPosition(z))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:z.lineNumber,selectionStartColumn:z.column,positionLineNumber:z.lineNumber,positionColumn:z.column}])}}_sendRevealRange(z,q,Q,ce){if(!!this._modelData){if(!i.Range.isIRange(z))throw new Error("Invalid arguments");const ue=this._modelData.model.validateRange(z),Y=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(ue);this._modelData.viewModel.revealRange("api",Q,Y,q,ce)}}revealLine(z,q=0){this._revealLine(z,0,q)}revealLineInCenter(z,q=0){this._revealLine(z,1,q)}revealLineInCenterIfOutsideViewport(z,q=0){this._revealLine(z,2,q)}revealLineNearTop(z,q=0){this._revealLine(z,5,q)}_revealLine(z,q,Q){if(typeof z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new i.Range(z,1,z,1),q,!1,Q)}revealPosition(z,q=0){this._revealPosition(z,0,!0,q)}revealPositionInCenter(z,q=0){this._revealPosition(z,1,!0,q)}revealPositionInCenterIfOutsideViewport(z,q=0){this._revealPosition(z,2,!0,q)}revealPositionNearTop(z,q=0){this._revealPosition(z,5,!0,q)}_revealPosition(z,q,Q,ce){if(!s.Position.isIPosition(z))throw new Error("Invalid arguments");this._sendRevealRange(new i.Range(z.lineNumber,z.column,z.lineNumber,z.column),q,Q,ce)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(z){const q=n.Selection.isISelection(z),Q=i.Range.isIRange(z);if(!q&&!Q)throw new Error("Invalid arguments");if(q)this._setSelectionImpl(z);else if(Q){const ce={selectionStartLineNumber:z.startLineNumber,selectionStartColumn:z.startColumn,positionLineNumber:z.endLineNumber,positionColumn:z.endColumn};this._setSelectionImpl(ce)}}_setSelectionImpl(z){if(!!this._modelData){const q=new n.Selection(z.selectionStartLineNumber,z.selectionStartColumn,z.positionLineNumber,z.positionColumn);this._modelData.viewModel.setSelections("api",[q])}}revealLines(z,q,Q=0){this._revealLines(z,q,0,Q)}revealLinesInCenter(z,q,Q=0){this._revealLines(z,q,1,Q)}revealLinesInCenterIfOutsideViewport(z,q,Q=0){this._revealLines(z,q,2,Q)}revealLinesNearTop(z,q,Q=0){this._revealLines(z,q,5,Q)}_revealLines(z,q,Q,ce){if(typeof z!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new i.Range(z,1,q,1),Q,!1,ce)}revealRange(z,q=0,Q=!1,ce=!0){this._revealRange(z,Q?1:0,ce,q)}revealRangeInCenter(z,q=0){this._revealRange(z,1,!0,q)}revealRangeInCenterIfOutsideViewport(z,q=0){this._revealRange(z,2,!0,q)}revealRangeNearTop(z,q=0){this._revealRange(z,5,!0,q)}revealRangeNearTopIfOutsideViewport(z,q=0){this._revealRange(z,6,!0,q)}revealRangeAtTop(z,q=0){this._revealRange(z,3,!0,q)}_revealRange(z,q,Q,ce){if(!i.Range.isIRange(z))throw new Error("Invalid arguments");this._sendRevealRange(i.Range.lift(z),q,Q,ce)}setSelections(z,q="api",Q=0){if(!!this._modelData){if(!z||z.length===0)throw new Error("Invalid arguments");for(let ce=0,ue=z.length;ce<ue;ce++)if(!n.Selection.isISelection(z[ce]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,z,Q)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(z,q=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:z},q)}}setScrollTop(z,q=1){if(!!this._modelData){if(typeof z!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:z},q)}}setScrollPosition(z,q=1){!this._modelData||this._modelData.viewModel.setScrollPosition(z,q)}saveViewState(){if(!this._modelData)return null;const z={},q=Object.keys(this._contributions);for(const ue of q){const Y=this._contributions[ue];typeof Y.saveViewState=="function"&&(z[ue]=Y.saveViewState())}const Q=this._modelData.viewModel.saveCursorState(),ce=this._modelData.viewModel.saveState();return{cursorState:Q,viewState:ce,contributionsState:z}}restoreViewState(z){if(!(!this._modelData||!this._modelData.hasRealView)){const q=z;if(q&&q.cursorState&&q.viewState){const Q=q.cursorState;Array.isArray(Q)?this._modelData.viewModel.restoreCursorState(Q):this._modelData.viewModel.restoreCursorState([Q]);const ce=q.contributionsState||{},ue=Object.keys(this._contributions);for(let j=0,ne=ue.length;j<ne;j++){const Z=ue[j],le=this._contributions[Z];typeof le.restoreViewState=="function"&&le.restoreViewState(ce[Z])}const Y=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(Y)}}}getContribution(z){return this._contributions[z]||null}getActions(){const z=[],q=Object.keys(this._actions);for(let Q=0,ce=q.length;Q<ce;Q++){const ue=q[Q];z.push(this._actions[ue])}return z}getSupportedActions(){let z=this.getActions();return z=z.filter(q=>q.isSupported()),z}getAction(z){return this._actions[z]||null}trigger(z,q,Q){switch(Q=Q||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(z);return;case"type":{const ue=Q;this._type(z,ue.text||"");return}case"replacePreviousChar":{const ue=Q;this._replacePreviousChar(z,ue.text||"",ue.replaceCharCnt||0);return}case"paste":{const ue=Q;this._paste(z,ue.text||"",ue.pasteOnNewLine||!1,ue.multicursorText||null,ue.mode||null);return}case"cut":this._cut(z);return}const ce=this.getAction(q);if(ce){Promise.resolve(ce.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(z,q,Q)||this._commandService.executeCommand(q,Q)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(z){!this._modelData||(this._modelData.viewModel.endComposition(z),this._onDidCompositionEnd.fire())}_type(z,q){!this._modelData||q.length===0||(z==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,z),z==="keyboard"&&this._onDidType.fire(q))}_replacePreviousChar(z,q,Q){!this._modelData||this._modelData.viewModel.replacePreviousChar(q,Q,z)}_paste(z,q,Q,ce,ue){if(!(!this._modelData||q.length===0)){const Y=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(q,Q,ce,z);const j=this._modelData.viewModel.getSelection().getStartPosition();z==="keyboard"&&this._onDidPaste.fire({range:new i.Range(Y.lineNumber,Y.column,j.lineNumber,j.column),mode:ue})}}_cut(z){!this._modelData||this._modelData.viewModel.cut(z)}_triggerEditorCommand(z,q,Q){const ce=f.EditorExtensionsRegistry.getEditorCommand(q);return ce?(Q=Q||{},Q.source=z,this._instantiationService.invokeFunction(ue=>{Promise.resolve(ce.runEditorCommand(ue,this,Q)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(75)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(75)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(z,q,Q){if(!this._modelData||this._configuration.options.get(75))return!1;let ce;return Q?Array.isArray(Q)?ce=()=>Q:ce=Q:ce=()=>null,this._modelData.viewModel.executeEdits(z,q,ce),!0}executeCommand(z,q){!this._modelData||this._modelData.viewModel.executeCommand(q,z)}executeCommands(z,q){!this._modelData||this._modelData.viewModel.executeCommands(q,z)}changeDecorations(z){return this._modelData?this._modelData.model.changeDecorations(z,this._id):null}getLineDecorations(z){return this._modelData?this._modelData.model.getLineDecorations(z,this._id,a.filterValidationDecorations(this._configuration.options)):null}deltaDecorations(z,q){return this._modelData?z.length===0&&q.length===0?z:this._modelData.model.deltaDecorations(z,q,this._id):[]}removeDecorations(z){const q=this._decorationTypeKeysToIds[z];q&&this.deltaDecorations(q,[]),this._decorationTypeKeysToIds.hasOwnProperty(z)&&delete this._decorationTypeKeysToIds[z],this._decorationTypeSubtypes.hasOwnProperty(z)&&delete this._decorationTypeSubtypes[z]}getLayoutInfo(){return this._configuration.options.get(124)}createOverviewRuler(z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(z)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(z)}layout(z){this._configuration.observeReferenceElement(z),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(z){const q={widget:z,position:z.getPosition()};this._contentWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[z.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(z){const q=z.getId();if(this._contentWidgets.hasOwnProperty(q)){const Q=this._contentWidgets[q];Q.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(Q)}}removeContentWidget(z){const q=z.getId();if(this._contentWidgets.hasOwnProperty(q)){const Q=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(Q)}}addOverlayWidget(z){const q={widget:z,position:z.getPosition()};this._overlayWidgets.hasOwnProperty(z.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[z.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(z){const q=z.getId();if(this._overlayWidgets.hasOwnProperty(q)){const Q=this._overlayWidgets[q];Q.position=z.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(Q)}}removeOverlayWidget(z){const q=z.getId();if(this._overlayWidgets.hasOwnProperty(q)){const Q=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(Q)}}changeViewZones(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(z)}getTargetAtClientPoint(z,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(z,q)}getScrolledVisiblePosition(z){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(z),Q=this._configuration.options,ce=Q.get(124),ue=ct._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),Y=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+ce.glyphMarginWidth+ce.lineNumbersWidth+ce.decorationsWidth-this.getScrollLeft();return{top:ue,left:Y,height:Q.get(53)}}getOffsetForColumn(z,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(z,q)}render(z=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,z)}setAriaOptions(z){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(z)}applyFontInfo(z){l.Configuration.applyFontInfoSlow(z,this._configuration.options.get(38))}_attachModel(z){if(!z){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(z.isDominatedByLongLines()),this._configuration.setMaxLineNumber(z.getLineCount()),z.onBeforeAttached();const Q=new b.ViewModel(this._id,this._configuration,z,E.DOMLineBreaksComputerFactory.create(),B.MonospaceLineBreaksComputerFactory.create(this._configuration.options),Y=>M.scheduleAtNextAnimationFrame(Y));q.push(z.onDidChangeDecorations(Y=>this._onDidChangeModelDecorations.fire(Y))),q.push(z.onDidChangeLanguage(Y=>{this._domElement.setAttribute("data-mode-id",z.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(Y)})),q.push(z.onDidChangeLanguageConfiguration(Y=>this._onDidChangeModelLanguageConfiguration.fire(Y))),q.push(z.onDidChangeContent(Y=>this._onDidChangeModelContent.fire(Y))),q.push(z.onDidChangeOptions(Y=>this._onDidChangeModelOptions.fire(Y))),q.push(z.onWillDispose(()=>this.setModel(null))),q.push(Q.onEvent(Y=>{switch(Y.kind){case 0:this._onDidContentSizeChange.fire(Y);break;case 1:this._editorTextFocus.setValue(Y.hasFocus);break;case 2:this._onDidScrollChange.fire(Y);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{Y.reachedMaxCursorCount&&this._notificationService.warn(C.localize(0,null,r.Cursor.MAX_CURSOR_COUNT));const j=[];for(let le=0,he=Y.selections.length;le<he;le++)j[le]=Y.selections[le].getPosition();const ne={position:j[0],secondaryPositions:j.slice(1),reason:Y.reason,source:Y.source};this._onDidChangeCursorPosition.fire(ne);const Z={selection:Y.selections[0],secondarySelections:Y.selections.slice(1),modelVersionId:Y.modelVersionId,oldSelections:Y.oldSelections,oldModelVersionId:Y.oldModelVersionId,source:Y.source,reason:Y.reason};this._onDidChangeCursorSelection.fire(Z);break}}}));const[ce,ue]=this._createView(Q);if(ue){this._domElement.appendChild(ce.domNode.domNode);let Y=Object.keys(this._contentWidgets);for(let j=0,ne=Y.length;j<ne;j++){const Z=Y[j];ce.addContentWidget(this._contentWidgets[Z])}Y=Object.keys(this._overlayWidgets);for(let j=0,ne=Y.length;j<ne;j++){const Z=Y[j];ce.addOverlayWidget(this._overlayWidgets[Z])}ce.render(!1,!0),ce.domNode.domNode.setAttribute("data-uri",z.uri.toString())}this._modelData=new F(z,Q,ce,ue,q)}_createView(z){let q;this.isSimpleWidget?q={paste:(ue,Y,j,ne)=>{this._paste("keyboard",ue,Y,j,ne)},type:ue=>{this._type("keyboard",ue)},replacePreviousChar:(ue,Y)=>{this._replacePreviousChar("keyboard",ue,Y)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(ue,Y,j,ne)=>{const Z={text:ue,pasteOnNewLine:Y,multicursorText:j,mode:ne};this._commandService.executeCommand("paste",Z)},type:ue=>{const Y={text:ue};this._commandService.executeCommand("type",Y)},replacePreviousChar:(ue,Y)=>{const j={text:ue,replaceCharCnt:Y};this._commandService.executeCommand("replacePreviousChar",j)},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Q=new u.ViewUserInputEvents(z.coordinatesConverter);return Q.onKeyDown=ue=>this._onKeyDown.fire(ue),Q.onKeyUp=ue=>this._onKeyUp.fire(ue),Q.onContextMenu=ue=>this._onContextMenu.fire(ue),Q.onMouseMove=ue=>this._onMouseMove.fire(ue),Q.onMouseLeave=ue=>this._onMouseLeave.fire(ue),Q.onMouseDown=ue=>this._onMouseDown.fire(ue),Q.onMouseUp=ue=>this._onMouseUp.fire(ue),Q.onMouseDrag=ue=>this._onMouseDrag.fire(ue),Q.onMouseDrop=ue=>this._onMouseDrop.fire(ue),Q.onMouseDropCanceled=ue=>this._onMouseDropCanceled.fire(ue),Q.onMouseWheel=ue=>this._onMouseWheel.fire(ue),[new c.View(q,this._configuration,this._themeService,z,Q,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(z){z&&z.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const z=this._modelData.model,q=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),q&&this._domElement.contains(q)&&this._domElement.removeChild(q),z}_removeDecorationType(z){this._codeEditorService.removeDecorationType(z)}hasModel(){return this._modelData!==null}};V=Me([pe(3,D.IInstantiationService),pe(4,p.ICodeEditorService),pe(5,y.ICommandService),pe(6,L.IContextKeyService),pe(7,T.IThemeService),pe(8,I.INotificationService),pe(9,O.IAccessibilityService)],V),e.CodeEditorWidget=V;class K extends S.Disposable{constructor(){super();this._onDidChangeToTrue=this._register(new w.Emitter),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new w.Emitter),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(z){const q=z?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=K;class G extends S.Disposable{constructor(z,q){super();this._editor=z,q.createKey("editorId",z.getId()),this._editorSimpleInput=h.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=h.EditorContextKeys.focus.bindTo(q),this._textInputFocus=h.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=h.EditorContextKeys.editorTextFocus.bindTo(q),this._editorTabMovesFocus=h.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=h.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=h.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=h.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=h.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=h.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=h.EditorContextKeys.canUndo.bindTo(q),this._canRedo=h.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const z=this._editor.getOptions();this._editorTabMovesFocus.set(z.get(123)),this._editorReadonly.set(z.get(75)),this._inDiffEditor.set(z.get(49)),this._editorColumnSelection.set(z.get(15))}_updateFromSelection(){const z=this._editor.getSelections();z?(this._hasMultipleSelections.set(z.length>1),this._hasNonEmptySelection.set(z.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const z=this._editor.getModel();this._canUndo.set(Boolean(z&&z.canUndo())),this._canRedo.set(Boolean(z&&z.canRedo()))}}class J extends S.Disposable{constructor(z,q){super();this._editor=z,this._contextKeyService=q,this._langId=h.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=h.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=h.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=h.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=h.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=h.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=h.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=h.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=h.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=h.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=h.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=h.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=h.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=h.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlineHintsProvider=h.EditorContextKeys.hasInlineHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=h.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=h.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=h.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=h.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInWalkThrough=h.EditorContextKeys.isInWalkThroughSnippet.bindTo(q);const Q=()=>this._update();this._register(z.onDidChangeModel(Q)),this._register(z.onDidChangeModelLanguage(Q)),this._register(_.CompletionProviderRegistry.onDidChange(Q)),this._register(_.CodeActionProviderRegistry.onDidChange(Q)),this._register(_.CodeLensProviderRegistry.onDidChange(Q)),this._register(_.DefinitionProviderRegistry.onDidChange(Q)),this._register(_.DeclarationProviderRegistry.onDidChange(Q)),this._register(_.ImplementationProviderRegistry.onDidChange(Q)),this._register(_.TypeDefinitionProviderRegistry.onDidChange(Q)),this._register(_.HoverProviderRegistry.onDidChange(Q)),this._register(_.DocumentHighlightProviderRegistry.onDidChange(Q)),this._register(_.DocumentSymbolProviderRegistry.onDidChange(Q)),this._register(_.ReferenceProviderRegistry.onDidChange(Q)),this._register(_.RenameProviderRegistry.onDidChange(Q)),this._register(_.DocumentFormattingEditProviderRegistry.onDidChange(Q)),this._register(_.DocumentRangeFormattingEditProviderRegistry.onDidChange(Q)),this._register(_.SignatureHelpProviderRegistry.onDidChange(Q)),this._register(_.InlineHintsProviderRegistry.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const z=this._editor.getModel();if(!z){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(z.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(_.CompletionProviderRegistry.has(z)),this._hasCodeActionsProvider.set(_.CodeActionProviderRegistry.has(z)),this._hasCodeLensProvider.set(_.CodeLensProviderRegistry.has(z)),this._hasDefinitionProvider.set(_.DefinitionProviderRegistry.has(z)),this._hasDeclarationProvider.set(_.DeclarationProviderRegistry.has(z)),this._hasImplementationProvider.set(_.ImplementationProviderRegistry.has(z)),this._hasTypeDefinitionProvider.set(_.TypeDefinitionProviderRegistry.has(z)),this._hasHoverProvider.set(_.HoverProviderRegistry.has(z)),this._hasDocumentHighlightProvider.set(_.DocumentHighlightProviderRegistry.has(z)),this._hasDocumentSymbolProvider.set(_.DocumentSymbolProviderRegistry.has(z)),this._hasReferenceProvider.set(_.ReferenceProviderRegistry.has(z)),this._hasRenameProvider.set(_.RenameProviderRegistry.has(z)),this._hasSignatureHelpProvider.set(_.SignatureHelpProviderRegistry.has(z)),this._hasInlineHintsProvider.set(_.InlineHintsProviderRegistry.has(z)),this._hasDocumentFormattingProvider.set(_.DocumentFormattingEditProviderRegistry.has(z)||_.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasDocumentSelectionFormattingProvider.set(_.DocumentRangeFormattingEditProviderRegistry.has(z)),this._hasMultipleDocumentFormattingProvider.set(_.DocumentFormattingEditProviderRegistry.all(z).length+_.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(_.DocumentRangeFormattingEditProviderRegistry.all(z).length>1),this._isInWalkThrough.set(z.uri.scheme===v.Schemas.walkThroughSnippet)})}}e.EditorModeContext=J;class se extends S.Disposable{constructor(z){super();this._onChange=this._register(new w.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(M.trackFocus(z)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const ie=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ae=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function X(H){return ie+encodeURIComponent(H.toString())+ae}const U=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),P=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function x(H){return U+encodeURIComponent(H.toString())+P}T.registerThemingParticipant((H,z)=>{const q=H.getColor(g.editorErrorBorder);q&&z.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${q}; }`);const Q=H.getColor(g.editorErrorForeground);Q&&z.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${X(Q)}") repeat-x bottom left; }`);const ce=H.getColor(g.editorErrorBackground);ce&&z.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${ce}; }`);const ue=H.getColor(g.editorWarningBorder);ue&&z.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${ue}; }`);const Y=H.getColor(g.editorWarningForeground);Y&&z.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${X(Y)}") repeat-x bottom left; }`);const j=H.getColor(g.editorWarningBackground);j&&z.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${j}; }`);const ne=H.getColor(g.editorInfoBorder);ne&&z.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ne}; }`);const Z=H.getColor(g.editorInfoForeground);Z&&z.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${X(Z)}") repeat-x bottom left; }`);const le=H.getColor(g.editorInfoBackground);le&&z.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${le}; }`);const he=H.getColor(g.editorHintBorder);he&&z.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${he}; }`);const re=H.getColor(g.editorHintForeground);re&&z.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${x(re)}") no-repeat bottom left; }`);const de=H.getColor(m.editorUnnecessaryCodeOpacity);de&&z.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${de.rgba.a}; }`);const me=H.getColor(m.editorUnnecessaryCodeBorder);me&&z.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const ve=H.getColor(g.editorForeground)||"inherit";z.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${ve}}`)})}),define(ee[145],te([0,1,40,28,144,26,18,9,32,12,65]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let c=class extends k.CodeEditorWidget{constructor(a,r,d,s,i,n,t,o,h,_){super(a,Object.assign(Object.assign({},d.getRawOptions()),{overflowWidgetsDomNode:d.getOverflowWidgetsDomNode()}),{},s,i,n,t,o,h,_);this._parentEditor=d,this._overwriteOptions=r,super.updateOptions(this._overwriteOptions),this._register(d.onDidChangeConfiguration(m=>this._onParentConfigurationChanged(m)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){C.mixin(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};c=Me([pe(3,v.IInstantiationService),pe(4,M.ICodeEditorService),pe(5,w.ICommandService),pe(6,S.IContextKeyService),pe(7,f.IThemeService),pe(8,l.INotificationService),pe(9,p.IAccessibilityService)],c),e.EmbeddedCodeEditorWidget=c}),define(ee[603],te([0,1,14,455,25,21,39,18,73,47,331]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new v.RawContextKey("selectionAnchorSet",!1);let p=class Ot{constructor(s,i){this.editor=s,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(i),this.modelChangeListener=s.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(s){return s.getContribution(Ot.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const s=this.editor.getPosition(),i=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(i,[{range:w.Selection.fromPositions(s,s),options:{stickiness:1,hoverMessage:new l.MarkdownString().appendText(M.localize(0,null)),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),f.alert(M.localize(1,null,s.lineNumber,s.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);s&&this.editor.setPosition(s.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const s=this.editor.getModel().getDecorationRange(this.decorationId);if(s){const i=this.editor.getPosition();this.editor.setSelection(w.Selection.fromPositions(s.getStartPosition(),i)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};p.ID="editor.contrib.selectionAnchorController",p=Me([pe(1,v.IContextKeyService)],p);class c extends C.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:M.localize(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|32),weight:100}})}run(s,i){return Ie(this,void 0,void 0,function*(){p.get(i).setSelectionAnchor()})}}class u extends C.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:M.localize(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(s,i){return Ie(this,void 0,void 0,function*(){p.get(i).goToSelectionAnchor()})}}class a extends C.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:M.localize(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|41),weight:100}})}run(s,i){return Ie(this,void 0,void 0,function*(){p.get(i).selectFromAnchorToCursor()})}}class r extends C.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:M.localize(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(s,i){return Ie(this,void 0,void 0,function*(){p.get(i).cancelSelectionAnchor()})}}C.registerEditorContribution(p.ID,p),C.registerEditorAction(c),C.registerEditorAction(u),C.registerEditorAction(a),C.registerEditorAction(r)}),define(ee[604],te([0,1,456,15,2,14,13,3,21,25,53,31,49,22,12,35,332]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const s=a.registerColor("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},C.localize(0,null));class i extends w.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:C.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(_,m){let g=o.get(m);!g||g.jumpToBracket()}}class n extends w.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:C.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(_,m,g){const b=o.get(m);if(!!b){let y=!0;g&&g.selectBrackets===!1&&(y=!1),b.selectToBracket(y)}}}class t{constructor(_,m,g){this.position=_,this.brackets=m,this.options=g}}class o extends k.Disposable{constructor(_){super();this._editor=_,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new M.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(58),this._updateBracketsSoon.schedule(),this._register(_.onDidChangeCursorPosition(m=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(_.onDidChangeModelContent(m=>{this._updateBracketsSoon.schedule()})),this._register(_.onDidChangeModel(m=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(_.onDidChangeModelLanguageConfiguration(m=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(_.onDidChangeConfiguration(m=>{m.hasChanged(58)&&(this._matchBrackets=this._editor.getOption(58),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(_){return _.getContribution(o.ID)}jumpToBracket(){if(!!this._editor.hasModel()){const _=this._editor.getModel(),m=this._editor.getSelections().map(g=>{const b=g.getStartPosition(),y=_.matchBracket(b);let L=null;if(y)y[0].containsPosition(b)?L=y[1].getStartPosition():y[1].containsPosition(b)&&(L=y[0].getStartPosition());else{const D=_.findEnclosingBrackets(b);if(D)L=D[0].getStartPosition();else{const N=_.findNextBracket(b);N&&N.range&&(L=N.range.getStartPosition())}}return L?new l.Selection(L.lineNumber,L.column,L.lineNumber,L.column):new l.Selection(b.lineNumber,b.column,b.lineNumber,b.column)});this._editor.setSelections(m),this._editor.revealRange(m[0])}}selectToBracket(_){if(!!this._editor.hasModel()){const m=this._editor.getModel(),g=[];this._editor.getSelections().forEach(b=>{const y=b.getStartPosition();let L=m.matchBracket(y);if(!L&&(L=m.findEnclosingBrackets(y),!L)){const I=m.findNextBracket(y);I&&I.range&&(L=m.matchBracket(I.range.getStartPosition()))}let D=null,N=null;if(L){L.sort(v.Range.compareRangesUsingStarts);const[I,T]=L;D=_?I.getStartPosition():I.getEndPosition(),N=_?T.getEndPosition():T.getStartPosition()}D&&N&&g.push(new l.Selection(D.lineNumber,D.column,N.lineNumber,N.column))}),g.length>0&&(this._editor.setSelections(g),this._editor.revealRange(g[0]))}}_updateBrackets(){if(this._matchBrackets!=="never"){this._recomputeBrackets();let _=[],m=0;for(const g of this._lastBracketsData){let b=g.brackets;b&&(_[m++]={range:b[0],options:g.options},_[m++]={range:b[1],options:g.options})}this._decorations=this._editor.deltaDecorations(this._decorations,_)}}_recomputeBrackets(){if(!this._editor.hasModel()){this._lastBracketsData=[],this._lastVersionId=0;return}const _=this._editor.getSelections();if(_.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const m=this._editor.getModel(),g=m.getVersionId();let b=[];this._lastVersionId===g&&(b=this._lastBracketsData);let y=[],L=0;for(let O=0,A=_.length;O<A;O++){let B=_[O];B.isEmpty()&&(y[L++]=B.getStartPosition())}y.length>1&&y.sort(S.Position.compare);let D=[],N=0,I=0,T=b.length;for(let O=0,A=y.length;O<A;O++){let B=y[O];for(;I<T&&b[I].position.isBefore(B);)I++;if(I<T&&b[I].position.equals(B))D[N++]=b[I];else{let E=m.matchBracket(B),W=o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!E&&this._matchBrackets==="always"&&(E=m.findEnclosingBrackets(B,20),W=o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),D[N++]=new t(B,E,W)}}this._lastBracketsData=D,this._lastVersionId=g}}e.BracketMatchingController=o,o.ID="editor.contrib.bracketMatchingController",o._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=c.ModelDecorationOptions.register({stickiness:1,className:"bracket-match",overviewRuler:{color:r.themeColorFromId(s),position:p.OverviewRulerLane.Center}}),o._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=c.ModelDecorationOptions.register({stickiness:1,className:"bracket-match"}),w.registerEditorContribution(o.ID,o),w.registerEditorAction(n),w.registerEditorAction(i),r.registerThemingParticipant((h,_)=>{const m=h.getColor(u.editorBracketMatchBackground);m&&_.addRule(`.monaco-editor .bracket-match { background-color: ${m}; }`);const g=h.getColor(u.editorBracketMatchBorder);g&&_.addRule(`.monaco-editor .bracket-match { border: 1px solid ${g}; }`)}),d.MenuRegistry.appendMenuItem(d.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:C.localize(3,null)},order:2})}),define(ee[605],te([0,1,457,14,25,395]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends M.EditorAction{constructor(p,c){super(c);this.left=p}run(p,c){if(!!c.hasModel()){let u=[],a=c.getSelections();for(const r of a)u.push(new w.MoveCaretCommand(r,this.left));c.pushUndoStop(),c.executeCommands(this.id,u),c.pushUndoStop()}}}class v extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:C.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class l extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:C.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}M.registerEditorAction(v),M.registerEditorAction(l)}),define(ee[606],te([0,1,458,14,92,3,25,178]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class l extends M.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:C.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(p,c){if(!!c.hasModel()){let u=c.getModel(),a=[],r=c.getSelections();for(let d of r)if(!!d.isEmpty()){let s=d.startLineNumber,i=d.startColumn,n=u.getLineMaxColumn(s);if(!(s===1&&(i===1||i===2&&n===2))){let t=i===n?d.getPosition():v.MoveOperations.rightPosition(u,d.getPosition().lineNumber,d.getPosition().column),o=v.MoveOperations.leftPosition(u,t.lineNumber,t.column),h=v.MoveOperations.leftPosition(u,o.lineNumber,o.column),_=u.getValueInRange(w.Range.fromPositions(h,o)),m=u.getValueInRange(w.Range.fromPositions(o,t)),g=w.Range.fromPositions(h,t);a.push(new k.ReplaceCommand(g,m+_))}}a.length>0&&(c.pushUndoStop(),c.executeCommands(this.id,a),c.pushUndoStop())}}}M.registerEditorAction(l)}),define(ee[607],te([0,1,459,34,16,214,14,28,25,35,84]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const c="9_cutcopypaste",u=k.isNative||document.queryCommandSupported("cut"),a=k.isNative||document.queryCommandSupported("copy"),r=a&&!M.isEdgeLegacy,d=typeof navigator.clipboard=="undefined"||M.isFirefox?document.queryCommandSupported("paste"):!0;function s(t){return t.register(),t}e.CutAction=u?s(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:f.MenuId.EditorContext,group:c,title:C.localize(1,null),when:l.EditorContextKeys.writable,order:1},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1}]})):void 0,e.CopyAction=a?s(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(3,null),order:2},{menuId:f.MenuId.EditorContext,group:c,title:C.localize(4,null),order:2},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(5,null),order:1}]})):void 0,e.PasteAction=d?s(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:k.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:f.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(6,null),order:3},{menuId:f.MenuId.EditorContext,group:c,title:C.localize(7,null),when:l.EditorContextKeys.writable,order:3},{menuId:f.MenuId.CommandPalette,group:"",title:C.localize(8,null),order:1}]})):void 0;class i extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(9,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(o,h){!h.hasModel()||!h.getOption(28)&&h.getSelection().isEmpty()||(w.CopyOptions.forceCopyWithSyntaxHighlighting=!0,h.focus(),document.execCommand("copy"),w.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function n(t,o){!t||(t.addImplementation(1e4,(h,_)=>{const m=h.get(v.ICodeEditorService).getFocusedCodeEditor();if(m&&m.hasTextFocus()){const g=m.getOption(28),b=m.getSelection();return b&&b.isEmpty()&&!g||document.execCommand(o),!0}return!1}),t.addImplementation(0,(h,_)=>(document.execCommand(o),!0)))}n(e.CutAction,"cut"),n(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,(t,o)=>{const h=t.get(v.ICodeEditorService),_=t.get(p.IClipboardService),m=h.getFocusedCodeEditor();return m&&m.hasTextFocus()?(!document.execCommand("paste")&&k.isWeb&&(()=>Ie(void 0,void 0,void 0,function*(){const b=yield _.readText();if(b!==""){const y=w.InMemoryClipboardMetadataManager.INSTANCE.get(b);let L=!1,D=null,N=null;y&&(L=m.getOption(28)&&!!y.isFromEmptySelection,D=typeof y.multicursorText!="undefined"?y.multicursorText:null,N=y.mode),m.trigger("keyboard","paste",{text:b,pasteOnNewLine:L,multicursorText:D,mode:N})}}))(),!0):!1}),e.PasteAction.addImplementation(0,(t,o)=>(document.execCommand("paste"),!0))),r&&S.registerEditorAction(i)}),define(ee[146],te([0,1,19,23,11,2,24,70,3,21,17,36,131,59,26]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(_,m){this.action=_,this.provider=m}resolve(_){var m;return Ie(this,void 0,void 0,function*(){if(((m=this.provider)===null||m===void 0?void 0:m.resolveCodeAction)&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,_)}catch(b){k.onUnexpectedExternalError(b)}g&&(this.action.edit=g.edit)}return this})}}e.CodeActionItem=d;class s extends w.Disposable{constructor(_,m,g){super();this.documentation=m,this._register(g),this.allActions=C.mergeSort([..._],s.codeActionsComparator),this.validActions=this.allActions.filter(({action:b})=>!b.disabled)}static codeActionsComparator({action:_},{action:m}){return _.isPreferred&&!m.isPreferred?-1:!_.isPreferred&&m.isPreferred?1:C.isNonEmptyArray(_.diagnostics)?C.isNonEmptyArray(m.diagnostics)?_.diagnostics[0].message.localeCompare(m.diagnostics[0].message):-1:C.isNonEmptyArray(m.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:_})=>!!_.kind&&u.CodeActionKind.QuickFix.contains(new u.CodeActionKind(_.kind))&&!!_.isPreferred)}}const i={actions:[],documentation:void 0};function n(h,_,m,g,b){var y;const L=m.filter||{},D={only:(y=L.include)===null||y===void 0?void 0:y.value,trigger:m.type},N=new v.TextModelCancellationTokenSource(h,b),I=t(h,L),T=new w.DisposableStore,O=I.map(B=>Ie(this,void 0,void 0,function*(){try{g.report(B);const E=yield B.provideCodeActions(h,_,D,N.token);if(E&&T.add(E),N.token.isCancellationRequested)return i;const W=((E==null?void 0:E.actions)||[]).filter(F=>F&&u.filtersAction(L,F)),R=o(B,W,L.include);return{actions:W.map(F=>new d(F,B)),documentation:R}}catch(E){if(k.isPromiseCanceledError(E))throw E;return k.onUnexpectedExternalError(E),i}})),A=p.CodeActionProviderRegistry.onDidChange(()=>{const B=p.CodeActionProviderRegistry.all(h);C.equals(B,I)||N.cancel()});return Promise.all(O).then(B=>{const E=C.flatten(B.map(R=>R.actions)),W=C.coalesce(B.map(R=>R.documentation));return new s(E,W,T)}).finally(()=>{A.dispose(),N.dispose()})}e.getCodeActions=n;function t(h,_){return p.CodeActionProviderRegistry.all(h).filter(m=>m.providedCodeActionKinds?m.providedCodeActionKinds.some(g=>u.mayIncludeActionsOfKind(_,new u.CodeActionKind(g))):!0)}function o(h,_,m){if(!!h.documentation){const g=h.documentation.map(b=>({kind:new u.CodeActionKind(b.kind),command:b.command}));if(m){let b;for(const y of g)y.kind.contains(m)&&(b?b.kind.contains(y.kind)&&(b=y):b=y);if(b)return b==null?void 0:b.command}for(const b of _)if(!!b.kind){for(const y of g)if(y.kind.contains(new u.CodeActionKind(b.kind)))return y.command}}}r.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(h,..._){return Ie(this,void 0,void 0,function*(){const[m,g,b,y]=_;if(!(m instanceof S.URI))throw k.illegalArgument();const L=h.get(c.IModelService).getModel(m);if(!L)throw k.illegalArgument();const D=f.Selection.isISelection(g)?f.Selection.liftSelection(g):l.Range.isIRange(g)?L.validateRange(g):void 0;if(!D)throw k.illegalArgument();const N=yield n(L,D,{type:2,filter:{includeSourceActions:!0,include:b&&b.value?new u.CodeActionKind(b.value):void 0}},a.Progress.None,M.CancellationToken.None),I=[],T=Math.min(N.validActions.length,typeof y=="number"?y:0);for(let O=0;O<T;O++)I.push(N.validActions[O].resolve(M.CancellationToken.None));try{return yield Promise.all(I),N.validActions.map(O=>O.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(ee[608],te([0,1,7,48,11,151,2,13,17,146,131,68,37]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class a extends M.Action{constructor(n,t){super(n.command?n.command.id:n.title,r(n.title),void 0,!n.disabled,t);this.action=n}}function r(i){return i.replace(/\r\n|\r|\n/g," ")}let d=class extends S.Disposable{constructor(n,t,o,h){super();this._editor=n,this._delegate=t,this._contextMenuService=o,this._visible=!1,this._showingActions=this._register(new S.MutableDisposable),this._keybindingResolver=new s({getKeybindings:()=>h.getKeybindings()})}get isVisible(){return this._visible}show(n,t,o,h){return Ie(this,void 0,void 0,function*(){const _=h.includeDisabledActions?t.allActions:t.validActions;if(!_.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,k.canceled();this._visible=!0,this._showingActions.value=t;const m=this.getMenuActions(n,_,t.documentation),g=v.Position.isIPosition(o)?this._toCoords(o):o||{x:0,y:0},b=this._keybindingResolver.getResolver();this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>g,getActions:()=>m,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:y=>y instanceof a?b(y.action):void 0})})}getMenuActions(n,t,o){var h,_;const m=L=>new a(L.action,()=>this._delegate.onSelectCodeAction(L)),g=t.map(m),b=[...o],y=this._editor.getModel();if(y&&g.length)for(const L of l.CodeActionProviderRegistry.all(y))L._getAdditionalMenuItems&&b.push(...L._getAdditionalMenuItems({trigger:n.type,only:(_=(h=n.filter)===null||h===void 0?void 0:h.include)===null||_===void 0?void 0:_.value},t.map(D=>D.action)));return b.length&&g.push(new M.Separator,...b.map(L=>m(new f.CodeActionItem({title:L.title,command:L},void 0)))),g}_toCoords(n){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(n,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(n),o=C.getDomNodePagePosition(this._editor.getDomNode()),h=o.left+t.left,_=o.top+t.top+t.height;return{x:h,y:_}}};d=Me([pe(2,c.IContextMenuService),pe(3,u.IKeybindingService)],d),e.CodeActionMenu=d;class s{constructor(n){this._keybindingProvider=n}getResolver(){const n=new w.Lazy(()=>this._keybindingProvider.getKeybindings().filter(t=>s.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let o=t.commandArgs;return t.command===f.organizeImportsCommandId?o={kind:p.CodeActionKind.SourceOrganizeImports.value}:t.command===f.fixAllCommandId&&(o={kind:p.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},p.CodeActionCommandArgs.fromUser(o,{kind:p.CodeActionKind.None,apply:"never"}))}));return t=>{if(t.kind){const o=this.bestKeybindingForCodeAction(t,n.getValue());return o==null?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(n,t){if(!!n.kind){const o=new p.CodeActionKind(n.kind);return t.filter(h=>h.kind.contains(o)).filter(h=>h.preferred?n.isPreferred:!0).reduceRight((h,_)=>h?h.kind.contains(_.kind)?_:h:_,void 0)}}}e.CodeActionKeybindingResolver=s,s.codeActionCommands=[f.refactorCommandId,f.codeActionCommandId,f.sourceActionCommandId,f.organizeImportsCommandId,f.fixAllCommandId]}),define(ee[609],te([0,1,15,6,2,3,17,18,59,146,44]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class c extends k.Disposable{constructor(d,s,i,n=250){super();this._editor=d,this._markerService=s,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new C.TimeoutTimer),this._register(this._markerService.onMarkerChanged(t=>this._onMarkerChanges(t))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(d){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);return this._createEventAndSignalChange(d,s)}_onMarkerChanges(d){const s=this._editor.getModel();!s||d.some(i=>p.isEqual(i,s.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:1})},this._delay)}_getRangeOfMarker(d){const s=this._editor.getModel();if(!!s)for(const i of this._markerService.read({resource:s.uri})){const n=s.validateRange(i);if(w.Range.intersectRanges(n,d))return w.Range.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!!this._editor.hasModel()){const s=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&d.type===1){const{lineNumber:n,column:t}=i.getPosition(),o=s.getLineContent(n);if(o.length===0)return;if(t===1){if(/\s/.test(o[0]))return}else if(t===s.getLineMaxColumn(n)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[t-2])&&/\s/.test(o[t-1]))return}return i}}_createEventAndSignalChange(d,s){const i=this._editor.getModel();if(!s||!i){this._signalChange(void 0);return}const n=this._getRangeOfMarker(s),t=n?n.getStartPosition():s.getStartPosition(),o={trigger:d,selection:s,position:t};return this._signalChange(o),o}}var u;(function(r){r.Empty={type:0};class d{constructor(i,n,t,o){this.trigger=i,this.rangeOrSelection=n,this.position=t,this.actions=o,this.type=1}}r.Triggered=d})(u=e.CodeActionsState||(e.CodeActionsState={}));class a extends k.Disposable{constructor(d,s,i,n){super();this._editor=d,this._markerService=s,this._progressService=n,this._codeActionOracle=this._register(new k.MutableDisposable),this._state=u.Empty,this._onDidChangeState=this._register(new M.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(i),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(S.CodeActionProviderRegistry.onDidChange(()=>this._update())),this._update()}dispose(){super.dispose(),this.setState(u.Empty,!0)}_update(){this._codeActionOracle.value=void 0,this.setState(u.Empty);const d=this._editor.getModel();if(d&&S.CodeActionProviderRegistry.has(d)&&!this._editor.getOption(75)){const s=[];for(const i of S.CodeActionProviderRegistry.all(d))Array.isArray(i.providedCodeActionKinds)&&s.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new c(this._editor,this._markerService,i=>{var n;if(!i){this.setState(u.Empty);return}const t=C.createCancelablePromise(o=>f.getCodeActions(d,i.selection,i.trigger,l.Progress.None,o));i.trigger.type===2&&((n=this._progressService)===null||n===void 0||n.showWhile(t,250)),this.setState(new u.Triggered(i.trigger,i.selection,i.position,t))},void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()}trigger(d){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(d)}setState(d,s){d!==this._state&&(this._state.type===1&&this._state.actions.cancel(),this._state=d,s||this._onDidChangeState.fire(d))}}e.CodeActionModel=a}),define(ee[610],te([0,1,15,11,2,70,14,17,247,589,26,32,568,7,89,78,462,25,135]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let t=class{constructor(h,_,m,g){this._editor=h,this._commandService=_,this._notificationService=m,this._codeLensCache=g,this._disposables=new k.DisposableStore,this._localToDispose=new k.DisposableStore,this._lenses=[],this._getCodeLensModelDelays=new n.LanguageFeatureRequestDelays(v.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new k.DisposableStore,this._resolveCodeLensesDelays=new n.LanguageFeatureRequestDelays(v.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new C.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(b=>{(b.hasChanged(38)||b.hasChanged(13)||b.hasChanged(12))&&this._updateLensStyle(),b.hasChanged(11)&&this._onModelChange()})),this._disposables.add(v.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+r.hash(this._editor.getId()).toString(16),this._styleElement=a.createStyleSheet(a.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var h;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(h=this._currentCodeLensModel)===null||h===void 0||h.dispose(),this._styleElement.remove()}_getLayoutInfo(){let h=this._editor.getOption(13),_;return!h||h<5?(h=this._editor.getOption(40)*.9|0,_=this._editor.getOption(53)):_=h*Math.max(1.3,this._editor.getOption(53)/this._editor.getOption(40))|0,{codeLensHeight:_,fontSize:h}}_updateLensStyle(){var h;const{codeLensHeight:_,fontSize:m}=this._getLayoutInfo(),g=this._editor.getOption(12),b=this._editor.getOption(38),y=`--codelens-font-family${this._styleClassName}`;let L=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${_}px; font-size: ${m}px; padding-right: ${Math.round(m*.5)}px; font-feature-settings: ${b.fontFeatureSettings} }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${_}px; font-size: ${m}px; }
		`;g&&(L+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${y})}`),this._styleElement.textContent=L,(h=this._editor.getDomNode())===null||h===void 0||h.style.setProperty(y,g!=null?g:"inherit"),this._editor.changeViewZones(D=>{for(let N of this._lenses)N.updateHeight(_,D)})}_localDispose(){var h,_,m;(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=void 0,(_=this._resolveCodeLensesPromise)===null||_===void 0||_.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(m=this._currentCodeLensModel)===null||m===void 0||m.dispose()}_onModelChange(){this._localDispose();const h=this._editor.getModel();if(!!h&&!!this._editor.getOption(11)){const _=this._codeLensCache.get(h);if(_&&this._renderCodeLensSymbols(_),!v.CodeLensProviderRegistry.has(h)){_&&this._localToDispose.add(C.disposableTimeout(()=>{const g=this._codeLensCache.get(h);_===g&&(this._codeLensCache.delete(h),this._onModelChange())},30*1e3));return}for(const g of v.CodeLensProviderRegistry.all(h))if(typeof g.onDidChange=="function"){let b=g.onDidChange(()=>m.schedule());this._localToDispose.add(b)}const m=new C.RunOnceScheduler(()=>{var g;const b=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=C.createCancelablePromise(y=>l.getCodeLensModel(h,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(h,y);const L=this._getCodeLensModelDelays.update(h,Date.now()-b);m.delay=L,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewport()},M.onUnexpectedError)},this._getCodeLensModelDelays.get(h));this._localToDispose.add(m),this._localToDispose.add(k.toDisposable(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(g=>{this._editor.changeViewZones(b=>{let y=[],L=-1;this._lenses.forEach(N=>{!N.isValid()||L===N.getLineNumber()?y.push(N):(N.update(b),L=N.getLineNumber())});let D=new f.CodeLensHelper;y.forEach(N=>{N.dispose(D,b),this._lenses.splice(this._lenses.indexOf(N),1)}),D.commit(g)})}),m.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{m.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(k.toDisposable(()=>{if(this._editor.getModel()){const g=w.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(b=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(b,y)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type===9){let b=g.target.element;if((b==null?void 0:b.tagName)==="SPAN"&&(b=b.parentElement),(b==null?void 0:b.tagName)==="A")for(const y of this._lenses){let L=y.getCommand(b);if(L){this._commandService.executeCommand(L.id,...L.arguments||[]).catch(D=>this._notificationService.error(D));break}}}})),m.schedule()}}_disposeAllLenses(h,_){const m=new f.CodeLensHelper;for(const g of this._lenses)g.dispose(m,_);h&&m.commit(h),this._lenses.length=0}_renderCodeLensSymbols(h){if(!!this._editor.hasModel()){let _=this._editor.getModel().getLineCount(),m=[],g;for(let L of h.lenses){let D=L.symbol.range.startLineNumber;D<1||D>_||(g&&g[g.length-1].symbol.range.startLineNumber===D?g.push(L):(g=[L],m.push(g)))}const b=w.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(L=>{this._editor.changeViewZones(D=>{const N=new f.CodeLensHelper;let I=0,T=0;for(;T<m.length&&I<this._lenses.length;){let O=m[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<O?(this._lenses[I].dispose(N,D),this._lenses.splice(I,1)):A===O?(this._lenses[I].updateCodeLensSymbols(m[T],N),T++,I++):(this._lenses.splice(I,0,new f.CodeLensWidget(m[T],this._editor,this._styleClassName,N,D,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(N,D),this._lenses.splice(I,1);for(;T<m.length;)this._lenses.push(new f.CodeLensWidget(m[T],this._editor,this._styleClassName,N,D,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;N.commit(L)})}),b.restore(this._editor)}}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var h;(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0;const _=this._editor.getModel();if(!!_){const m=[],g=[];if(this._lenses.forEach(L=>{const D=L.computeIfNecessary(_);D&&(m.push(D),g.push(L))}),m.length!==0){const b=Date.now(),y=C.createCancelablePromise(L=>{const D=m.map((N,I)=>{const T=new Array(N.length),O=N.map((A,B)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(_,A.symbol,L)).then(E=>{T[B]=E},M.onUnexpectedExternalError):(T[B]=A.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!L.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(T)})});return Promise.all(D)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const L=this._resolveCodeLensesDelays.update(_,Date.now()-b);this._resolveCodeLensesScheduler.delay=L,this._currentCodeLensModel&&this._codeLensCache.put(_,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},L=>{M.onUnexpectedError(L),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}}}getLenses(){return this._lenses}};t.ID="css.editor.codeLens",t=Me([pe(1,p.ICommandService),pe(2,c.INotificationService),pe(3,u.ICodeLensCache)],t),e.CodeLensContribution=t,S.registerEditorContribution(t.ID,t),S.registerEditorAction(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:i.EditorContextKeys.hasCodeLensProvider,label:s.localize(0,null),alias:"Show CodeLens Commands For Current Line"})}run(h,_){return Ie(this,void 0,void 0,function*(){if(!!_.hasModel()){const m=h.get(d.IQuickInputService),g=h.get(p.ICommandService),b=h.get(c.INotificationService),y=_.getSelection().positionLineNumber,L=_.getContribution(t.ID),D=[];for(let I of L.getLenses())if(I.getLineNumber()===y)for(let T of I.getItems()){const{command:O}=T.symbol;O&&D.push({label:O.title,command:O})}if(D.length!==0){const N=yield m.pick(D,{canPickMany:!1});if(!!N)try{yield g.executeCommand(N.command.id,...N.command.arguments||[])}catch(I){b.error(I)}}}})}})}),define(ee[258],te([0,1,15,29,11,89,2,14,28,3,31,17,248,46]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=void 0;const r=500;let d=class Pt extends S.Disposable{constructor(i,n,t){super();this._editor=i,this._codeEditorService=n,this._configurationService=t,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(i.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(i.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(c.ColorProviderRegistry.onDidChange(()=>this.onModelChanged())),this._register(i.onDidChangeConfiguration(()=>{let o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const i=this._editor.getModel();if(!i)return!1;const n=i.getLanguageIdentifier(),t=this._configurationService.getValue(n.language);if(t){const o=t.colorDecorators;if(o&&o.enable!==void 0&&!o.enable)return o.enable}return this._editor.getOption(14)}static get(i){return i.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!!this._isEnabled){const i=this._editor.getModel();!i||!c.ColorProviderRegistry.has(i)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new C.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},Pt.RECOMPUTE_TIME))})),this.beginCompute())}}beginCompute(){this._computePromise=C.createCancelablePromise(i=>{const n=this._editor.getModel();return n?u.getColors(n,i):Promise.resolve([])}),this._computePromise.then(i=>{this.updateDecorations(i),this.updateColorDecorators(i),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(i){const n=i.map(t=>({range:{startLineNumber:t.colorInfo.range.startLineNumber,startColumn:t.colorInfo.range.startColumn,endLineNumber:t.colorInfo.range.endLineNumber,endColumn:t.colorInfo.range.endColumn},options:p.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((t,o)=>this._colorDatas.set(t,i[o]))}updateColorDecorators(i){let n=[],t={};for(let o=0;o<i.length&&n.length<r;o++){const{red:h,green:_,blue:m,alpha:g}=i[o].colorInfo.color,b=new M.RGBA(Math.round(h*255),Math.round(_*255),Math.round(m*255),g);let y=w.hash(`rgba(${b.r},${b.g},${b.b},${b.a})`).toString(16),L=`rgba(${b.r}, ${b.g}, ${b.b}, ${b.a})`,D="colorBox-"+y;!this._decorationsTypes.has(D)&&!t[D]&&this._codeEditorService.registerDecorationType(D,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:L},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),t[D]=!0,n.push({range:{startLineNumber:i[o].colorInfo.range.startLineNumber,startColumn:i[o].colorInfo.range.startColumn,endLineNumber:i[o].colorInfo.range.endLineNumber,endColumn:i[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(D,!0)})}this._decorationsTypes.forEach(o=>{t[o]||this._codeEditorService.removeDecorationType(o)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(i=>{this._codeEditorService.removeDecorationType(i)})}getColorData(i){const n=this._editor.getModel();if(!n)return null;const t=n.getDecorationsInRange(f.Range.fromPositions(i,i)).filter(o=>this._colorDatas.has(o.id));return t.length===0?null:this._colorDatas.get(t[0].id)}};d.ID="editor.contrib.colorDetector",d.RECOMPUTE_TIME=1e3,d=Me([pe(1,l.ICodeEditorService),pe(2,a.IConfigurationService)],d),e.ColorDetector=d,v.registerEditorContribution(d.ID,d)}),define(ee[611],te([0,1,463,39,14,3,25,222,397,35]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends k.EditorAction{constructor(s,i){super(i);this._type=s}run(s,i){if(!!i.hasModel()){const n=i.getModel(),t=[],o=n.getOptions(),h=i.getOption(16),_=i.getSelections().map((g,b)=>({selection:g,index:b,ignoreFirstLine:!1}));_.sort((g,b)=>w.Range.compareRangesUsingStarts(g.selection,b.selection));let m=_[0];for(let g=1;g<_.length;g++){const b=_[g];m.selection.endLineNumber===b.selection.startLineNumber&&(m.index<b.index?b.ignoreFirstLine=!0:(m.ignoreFirstLine=!0,m=b))}for(const g of _)t.push(new l.LineCommentCommand(g.selection,o.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,g.ignoreFirstLine));i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop()}}}class c extends p{constructor(){super(0,{id:"editor.action.commentLine",label:C.localize(0,null),alias:"Toggle Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:f.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(1,null),order:1}})}}class u extends p{constructor(){super(1,{id:"editor.action.addCommentLine",label:C.localize(2,null),alias:"Add Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|33),weight:100}})}}class a extends p{constructor(){super(2,{id:"editor.action.removeCommentLine",label:C.localize(3,null),alias:"Remove Line Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|51),weight:100}})}}class r extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:C.localize(4,null),alias:"Toggle Block Comment",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:f.MenuId.MenubarEditMenu,group:"5_insert",title:C.localize(5,null),order:2}})}run(s,i){if(!!i.hasModel()){const n=i.getOption(16),t=[],o=i.getSelections();for(const h of o)t.push(new v.BlockCommentCommand(h,n.insertSpace));i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop()}}}k.registerEditorAction(c),k.registerEditorAction(u),k.registerEditorAction(a),k.registerEditorAction(r)}),define(ee[612],te([0,1,464,7,48,2,14,25,35,18,68,37,111]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let a=class Ft{constructor(s,i,n,t,o,h){this._contextMenuService=i,this._contextViewService=n,this._contextKeyService=t,this._keybindingService=o,this._menuService=h,this._toDispose=new w.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(_=>this._onContextMenu(_))),this._toDispose.add(this._editor.onMouseWheel(_=>{if(this._contextMenuIsBeingShownCount>0){const m=this._contextViewService.getContextViewElement(),g=_.srcElement;g.shadowRoot&&M.getShadowRoot(m)===g.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(_=>{_.keyCode===58&&(_.preventDefault(),_.stopPropagation(),this.showContextMenu())}))}static get(s){return s.getContribution(Ft.ID)}_onContextMenu(s){if(!!this._editor.hasModel()){if(!this._editor.getOption(17)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type!==12&&(s.event.preventDefault(),!(s.target.type!==6&&s.target.type!==7&&s.target.type!==1))){if(this._editor.focus(),s.target.position){let n=!1;for(const t of this._editor.getSelections())if(t.containsPosition(s.target.position)){n=!0;break}n||this._editor.setPosition(s.target.position)}let i=null;s.target.type!==1&&(i={x:s.event.posx-1,width:2,y:s.event.posy-1,height:2}),this.showContextMenu(i)}}}showContextMenu(s){if(!!this._editor.getOption(17)&&!!this._editor.hasModel()){if(!this._contextMenuService){this._editor.focus();return}const i=this._getMenuActions(this._editor.getModel(),l.MenuId.EditorContext);i.length>0&&this._doShowContextMenu(i,s)}}_getMenuActions(s,i){const n=[],t=this._menuService.createMenu(i,this._contextKeyService),o=t.getActions({arg:s.uri});t.dispose();for(let h of o){const[,_]=h;let m=0;for(const g of _)if(g instanceof l.SubmenuItemAction){const b=this._getMenuActions(s,g.item.submenu);b.length>0&&(n.push(new k.SubmenuAction(g.id,g.label,b)),m++)}else n.push(g),m++;m&&n.push(new k.Separator)}return n.length&&n.pop(),n}_doShowContextMenu(s,i=null){if(!!this._editor.hasModel()){const n=this._editor.getOption(48);if(this._editor.updateOptions({hover:{enabled:!1}}),!i){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),o=M.getDomNodePagePosition(this._editor.getDomNode()),h=o.left+t.left,_=o.top+t.top+t.height;i={x:h,y:_}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>i,getActions:()=>s,getActionViewItem:t=>{const o=this._keybindingFor(t);if(o)return new u.ActionViewItem(t,t,{label:!0,keybinding:o.getLabel(),isMenu:!0});const h=t;return typeof h.getActionViewItem=="function"?h.getActionViewItem():new u.ActionViewItem(t,t,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:t=>this._keybindingFor(t),onHide:t=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};a.ID="editor.contrib.contextmenu",a=Me([pe(1,p.IContextMenuService),pe(2,p.IContextViewService),pe(3,f.IContextKeyService),pe(4,c.IKeybindingService),pe(5,l.IMenuService)],a),e.ContextMenuController=a;class r extends S.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:C.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(s,i){a.get(i).showContextMenu()}}S.registerEditorContribution(a.ID,a),S.registerEditorAction(r)}),define(ee[613],te([0,1,465,2,14,25]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(u){this.selections=u}equals(u){const a=this.selections.length,r=u.selections.length;if(a!==r)return!1;for(let d=0;d<a;d++)if(!this.selections[d].equalsSelection(u.selections[d]))return!1;return!0}}class v{constructor(u,a,r){this.cursorState=u,this.scrollTop=a,this.scrollLeft=r}}class l extends M.Disposable{constructor(u){super();this._editor=u,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(u.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(u.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(u.onDidChangeCursorSelection(a=>{if(!this._isCursorUndoRedo&&!!a.oldSelections&&a.oldModelVersionId===a.modelVersionId){const r=new S(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new v(r,u.getScrollTop(),u.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}}))}static get(u){return u.getContribution(l.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new v(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new v(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(u){this._isCursorUndoRedo=!0,this._editor.setSelections(u.cursorState.selections),this._editor.setScrollPosition({scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=l,l.ID="editor.contrib.cursorUndoRedoController";class f extends k.EditorAction{constructor(){super({id:"cursorUndo",label:C.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(u,a,r){l.get(a).cursorUndo()}}e.CursorUndo=f;class p extends k.EditorAction{constructor(){super({id:"cursorRedo",label:C.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(u,a,r){l.get(a).cursorRedo()}}e.CursorRedo=p,k.registerEditorContribution(l.ID,l),k.registerEditorAction(f),k.registerEditorAction(p)}),define(ee[614],te([0,1,2,16,14,13,3,21,398,31,336]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function p(u){return M.isMacintosh?u.altKey:u.ctrlKey}class c extends C.Disposable{constructor(a){super();this._editor=a,this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(r))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(r))),this._register(this._editor.onMouseDrag(r=>this._onEditorMouseDrag(r))),this._register(this._editor.onMouseDrop(r=>this._onEditorMouseDrop(r))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(r=>this.onEditorKeyDown(r))),this._register(this._editor.onKeyUp(r=>this.onEditorKeyUp(r))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(a){!this._editor.getOption(27)||this._editor.getOption(15)||(p(a)&&(this._modifierPressed=!0),this._mouseDown&&p(a)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(a){!this._editor.getOption(27)||this._editor.getOption(15)||(p(a)&&(this._modifierPressed=!1),this._mouseDown&&a.keyCode===c.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(a){this._mouseDown=!0}_onEditorMouseUp(a){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(a){let r=a.target;if(this._dragSelection===null){let s=(this._editor.getSelections()||[]).filter(i=>r.position&&i.containsPosition(r.position));if(s.length===1)this._dragSelection=s[0];else return}p(a.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(a){if(a.target&&(this._hitContent(a.target)||this._hitMargin(a.target))&&a.target.position){let r=new w.Position(a.target.position.lineNumber,a.target.position.column);if(this._dragSelection===null){let d=null;if(a.event.shiftKey){let s=this._editor.getSelection();if(s){const{selectionStartLineNumber:i,selectionStartColumn:n}=s;d=[new v.Selection(i,n,r.lineNumber,r.column)]}}else d=(this._editor.getSelections()||[]).map(s=>s.containsPosition(r)?new v.Selection(r.lineNumber,r.column,r.lineNumber,r.column):s);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(r)||(p(a.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(c.ID,new l.DragAndDropCommand(this._dragSelection,r,p(a.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(a){let r=[{range:new S.Range(a.lineNumber,a.column,a.lineNumber,a.column),options:c._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,r),this._editor.revealPosition(a,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(a){return a.type===6||a.type===7}_hitMargin(a){return a.type===2||a.type===3||a.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=c,c.ID="editor.contrib.dragAndDrop",c.TRIGGER_KEY_VALUE=M.isMacintosh?6:5,c._DECORATION_OPTIONS=f.ModelDecorationOptions.register({className:"dnd-target"}),k.registerEditorContribution(c.ID,c)}),define(ee[615],te([0,1,470,14,127]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends M.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:C.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends M.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:C.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class v extends M.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:C.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(f,p){k.EditorZoom.setZoomLevel(0)}}M.registerEditorAction(w),M.registerEditorAction(S),M.registerEditorAction(v)}),define(ee[259],te([0,1,47,19,23,11,24,70,107,13,3,21,17,75,36,224,471,525,9,71,26,20,54]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function m(A){if(A=A.filter(R=>R.range),!!A.length){let{range:B}=A[0];for(let R=1;R<A.length;R++)B=p.Range.plusRange(B,A[R].range);const{startLineNumber:E,endLineNumber:W}=B;E===W?A.length===1?C.alert(s.localize(0,null,E)):C.alert(s.localize(1,null,A.length,E)):A.length===1?C.alert(s.localize(2,null,E,W)):C.alert(s.localize(3,null,A.length,E,W))}}e.alertFormattingEdits=m;function g(A){const B=[],E=new Set,W=u.DocumentFormattingEditProviderRegistry.ordered(A);for(const F of W)B.push(F),F.extensionId&&E.add(i.ExtensionIdentifier.toKey(F.extensionId));const R=u.DocumentRangeFormattingEditProviderRegistry.ordered(A);for(const F of R){if(F.extensionId){if(E.has(i.ExtensionIdentifier.toKey(F.extensionId)))continue;E.add(i.ExtensionIdentifier.toKey(F.extensionId))}B.push({displayName:F.displayName,extensionId:F.extensionId,provideDocumentFormattingEdits(V,K,G){return F.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),K,G)}})}return B}e.getRealAndSyntheticDocumentFormattersOrdered=g;class b{static setFormatterSelector(B){return{dispose:b._selectors.unshift(B)}}static select(B,E,W){return Ie(this,void 0,void 0,function*(){if(B.length!==0){const R=_.Iterable.first(b._selectors);if(R)return yield R(B,E,W)}})}}e.FormattingConflicts=b,b._selectors=new t.LinkedList;function y(A,B,E,W,R,F){return Ie(this,void 0,void 0,function*(){const V=A.get(n.IInstantiationService),K=l.isCodeEditor(B)?B.getModel():B,G=u.DocumentRangeFormattingEditProviderRegistry.ordered(K),J=yield b.select(G,K,W);J&&(R.report(J),yield V.invokeFunction(L,J,B,E,F))})}e.formatDocumentRangesWithSelectedProvider=y;function L(A,B,E,W,R){return Ie(this,void 0,void 0,function*(){const F=A.get(a.IEditorWorkerService);let V,K;l.isCodeEditor(E)?(V=E.getModel(),K=new v.EditorStateCancellationTokenSource(E,1|4,void 0,R)):(V=E,K=new v.TextModelCancellationTokenSource(E,R));let G=[],J=0;for(let ie of M.asArray(W).sort(p.Range.compareRangesUsingStarts))J>0&&p.Range.areIntersectingOrTouching(G[J-1],ie)?G[J-1]=p.Range.fromPositions(G[J-1].getStartPosition(),ie.getEndPosition()):J=G.push(ie);const se=[];for(let ie of G)try{const ae=yield B.provideDocumentRangeFormattingEdits(V,ie,V.getFormattingOptions(),K.token),X=yield F.computeMoreMinimalEdits(V.uri,ae);if(X&&se.push(...X),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(se.length===0)return!1;if(l.isCodeEditor(E))d.FormattingEdit.execute(E,se,!0),m(se),E.revealPositionInCenterIfOutsideViewport(E.getPosition(),1);else{const[{range:ie}]=se,ae=new c.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);V.pushEditOperations([ae],se.map(X=>({text:X.text,range:p.Range.lift(X.range),forceMoveMarkers:!0})),X=>{for(const{range:U}of X)if(p.Range.areIntersectingOrTouching(U,ae))return[new c.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=L;function D(A,B,E,W,R){return Ie(this,void 0,void 0,function*(){const F=A.get(n.IInstantiationService),V=l.isCodeEditor(B)?B.getModel():B,K=g(V),G=yield b.select(K,V,E);G&&(W.report(G),yield F.invokeFunction(N,G,B,E,R))})}e.formatDocumentWithSelectedProvider=D;function N(A,B,E,W,R){return Ie(this,void 0,void 0,function*(){const F=A.get(a.IEditorWorkerService);let V,K;l.isCodeEditor(E)?(V=E.getModel(),K=new v.EditorStateCancellationTokenSource(E,1|4,void 0,R)):(V=E,K=new v.TextModelCancellationTokenSource(E,R));let G;try{const J=yield B.provideDocumentFormattingEdits(V,V.getFormattingOptions(),K.token);if(G=yield F.computeMoreMinimalEdits(V.uri,J),K.token.isCancellationRequested)return!0}finally{K.dispose()}if(!G||G.length===0)return!1;if(l.isCodeEditor(E))d.FormattingEdit.execute(E,G,W!==2),W!==2&&(m(G),E.revealPositionInCenterIfOutsideViewport(E.getPosition(),1));else{const[{range:J}]=G,se=new c.Selection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);V.pushEditOperations([se],G.map(ie=>({text:ie.text,range:p.Range.lift(ie.range),forceMoveMarkers:!0})),ie=>{for(const{range:ae}of ie)if(p.Range.areIntersectingOrTouching(ae,se))return[new c.Selection(ae.startLineNumber,ae.startColumn,ae.endLineNumber,ae.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=N;function I(A,B,E,W,R){return Ie(this,void 0,void 0,function*(){const F=u.DocumentRangeFormattingEditProviderRegistry.ordered(B);for(const V of F){let K=yield Promise.resolve(V.provideDocumentRangeFormattingEdits(B,E,W,R)).catch(w.onUnexpectedExternalError);if(M.isNonEmptyArray(K))return yield A.computeMoreMinimalEdits(B.uri,K)}})}e.getDocumentRangeFormattingEditsUntilResult=I;function T(A,B,E,W){return Ie(this,void 0,void 0,function*(){const R=g(B);for(const F of R){let V=yield Promise.resolve(F.provideDocumentFormattingEdits(B,E,W)).catch(w.onUnexpectedExternalError);if(M.isNonEmptyArray(V))return yield A.computeMoreMinimalEdits(B.uri,V)}})}e.getDocumentFormattingEditsUntilResult=T;function O(A,B,E,W,R){const F=u.OnTypeFormattingEditProviderRegistry.ordered(B);return F.length===0||F[0].autoFormatTriggerCharacters.indexOf(W)<0?Promise.resolve(void 0):Promise.resolve(F[0].provideOnTypeFormattingEdits(B,E,W,R,k.CancellationToken.None)).catch(w.onUnexpectedExternalError).then(V=>A.computeMoreMinimalEdits(B.uri,V))}e.getOnTypeFormattingEdits=O,o.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(A,...B){const[E,W,R]=B;h.assertType(S.URI.isUri(E)),h.assertType(p.Range.isIRange(W));const F=A.get(r.IModelService).getModel(E);if(!F)throw w.illegalArgument("resource");return I(A.get(a.IEditorWorkerService),F,p.Range.lift(W),R,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(A,...B){const[E,W]=B;h.assertType(S.URI.isUri(E));const R=A.get(r.IModelService).getModel(E);if(!R)throw w.illegalArgument("resource");return T(A.get(a.IEditorWorkerService),R,W,k.CancellationToken.None)}),o.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(A,...B){const[E,W,R,F]=B;h.assertType(S.URI.isUri(E)),h.assertType(f.Position.isIPosition(W)),h.assertType(typeof R=="string");const V=A.get(r.IModelService).getModel(E);if(!V)throw w.illegalArgument("resource");return O(A.get(a.IEditorWorkerService),V,f.Position.lift(W),R,F)})}),define(ee[616],te([0,1,19,23,39,2,14,28,91,3,25,17,75,259,224,472,26,18,9,11,59]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let h=class{constructor(y,L){this._workerService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._editor=y,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(c.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!!this._editor.getOption(43)&&!!this._editor.hasModel()){const y=this._editor.getModel(),[L]=c.OnTypeFormattingEditProviderRegistry.ordered(y);if(!(!L||!L.autoFormatTriggerCharacters)){let D=new l.CharacterSet;for(let N of L.autoFormatTriggerCharacters)D.add(N.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(N=>{let I=N.charCodeAt(N.length-1);D.has(I)&&this._trigger(String.fromCharCode(I))}))}}}_trigger(y){if(!!this._editor.hasModel()&&!(this._editor.getSelections().length>1)){const L=this._editor.getModel(),D=this._editor.getPosition();let N=!1;const I=this._editor.onDidChangeModelContent(T=>{if(T.isFlush){N=!0,I.dispose();return}for(let O=0,A=T.changes.length;O<A;O++)if(T.changes[O].range.endLineNumber<=D.lineNumber){N=!0,I.dispose();return}});a.getOnTypeFormattingEdits(this._workerService,L,D,y,L.getFormattingOptions()).then(T=>{I.dispose(),!N&&C.isNonEmptyArray(T)&&(r.FormattingEdit.execute(this._editor,T,!0),a.alertFormattingEdits(T))},T=>{throw I.dispose(),T})}}};h.ID="editor.contrib.autoFormat",h=Me([pe(1,u.IEditorWorkerService)],h);let _=class{constructor(y,L){this.editor=y,this._instantiationService=L,this._callOnDispose=new w.DisposableStore,this._callOnModel=new w.DisposableStore,this._callOnDispose.add(y.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(y.onDidChangeModel(()=>this._update())),this._callOnDispose.add(y.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(c.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(42)&&(!this.editor.hasModel()||!c.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:y})=>this._trigger(y))))}_trigger(y){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(a.formatDocumentRangesWithSelectedProvider,this.editor,y,2,o.Progress.None,M.CancellationToken.None).catch(t.onUnexpectedError)}};_.ID="editor.contrib.formatOnPaste",_=Me([pe(1,n.IInstantiationService)],_);class m extends S.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:d.localize(0,null),alias:"Format Document",precondition:i.ContextKeyExpr.and(p.EditorContextKeys.notInCompositeEditor,p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(y,L){return Ie(this,void 0,void 0,function*(){if(L.hasModel()){const D=y.get(n.IInstantiationService);yield y.get(o.IEditorProgressService).showWhile(D.invokeFunction(a.formatDocumentWithSelectedProvider,L,1,o.Progress.None,M.CancellationToken.None),250)}})}}class g extends S.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:d.localize(1,null),alias:"Format Selection",precondition:i.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,2048|36),weight:100},contextMenuOpts:{when:p.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(y,L){return Ie(this,void 0,void 0,function*(){if(!!L.hasModel()){const D=y.get(n.IInstantiationService),N=L.getModel(),I=L.getSelections().map(O=>O.isEmpty()?new f.Range(O.startLineNumber,1,O.startLineNumber,N.getLineMaxColumn(O.startLineNumber)):O);yield y.get(o.IEditorProgressService).showWhile(D.invokeFunction(a.formatDocumentRangesWithSelectedProvider,L,I,1,o.Progress.None,M.CancellationToken.None),250)}})}}S.registerEditorContribution(h.ID,h),S.registerEditorContribution(_.ID,_),S.registerEditorAction(m),S.registerEditorAction(g),s.CommandsRegistry.registerCommand("editor.action.format",b=>Ie(void 0,void 0,void 0,function*(){const y=b.get(v.ICodeEditorService).getFocusedCodeEditor();if(!(!y||!y.hasModel())){const L=b.get(s.ICommandService);y.getSelection().isEmpty()?yield L.executeCommand("editor.action.formatDocument"):yield L.executeCommand("editor.action.formatSelection")}}))}),define(ee[260],te([0,1,23,11,14,17]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function S(u,a,r,d){const i=r.ordered(u).map(n=>Promise.resolve(d(n,u,a)).then(void 0,t=>{M.onUnexpectedExternalError(t)}));return Promise.all(i).then(n=>{const t=[];for(let o of n)Array.isArray(o)?t.push(...o):o&&t.push(o);return t})}function v(u,a,r){return S(u,a,w.DefinitionProviderRegistry,(d,s,i)=>d.provideDefinition(s,i,r))}e.getDefinitionsAtPosition=v;function l(u,a,r){return S(u,a,w.DeclarationProviderRegistry,(d,s,i)=>d.provideDeclaration(s,i,r))}e.getDeclarationsAtPosition=l;function f(u,a,r){return S(u,a,w.ImplementationProviderRegistry,(d,s,i)=>d.provideImplementation(s,i,r))}e.getImplementationsAtPosition=f;function p(u,a,r){return S(u,a,w.TypeDefinitionProviderRegistry,(d,s,i)=>d.provideTypeDefinition(s,i,r))}e.getTypeDefinitionsAtPosition=p;function c(u,a,r,d){return S(u,a,w.ReferenceProviderRegistry,(s,i,n)=>Ie(this,void 0,void 0,function*(){const t=yield s.provideReferences(i,n,{includeDeclaration:!0},d);if(!r||!t||t.length!==2)return t;const o=yield s.provideReferences(i,n,{includeDeclaration:!1},d);return o&&o.length===1?o:t}))}e.getReferencesAtPosition=c,k.registerModelAndPositionCommand("_executeDefinitionProvider",(u,a)=>v(u,a,C.CancellationToken.None)),k.registerModelAndPositionCommand("_executeDeclarationProvider",(u,a)=>l(u,a,C.CancellationToken.None)),k.registerModelAndPositionCommand("_executeImplementationProvider",(u,a)=>f(u,a,C.CancellationToken.None)),k.registerModelAndPositionCommand("_executeTypeDefinitionProvider",(u,a)=>p(u,a,C.CancellationToken.None)),k.registerModelAndPositionCommand("_executeReferenceProvider",(u,a)=>c(u,a,!1,C.CancellationToken.None))}),define(ee[617],te([0,1,18,9,74,86,14,28,3,2,6,481,37,32,44]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new C.RawContextKey("hasSymbols",!1),e.ISymbolNavigationService=M.createDecorator("ISymbolNavigationService");let d=class{constructor(n,t,o,h){this._editorService=t,this._notificationService=o,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(n)}reset(){var n,t;this._ctxHasSymbols.reset(),(n=this._currentState)===null||n===void 0||n.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(n){const t=n.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(n),this._ctxHasSymbols.set(!0),this._showMessage();const o=new s(this._editorService),h=o.onDidChange(_=>{if(!this._ignoreEditorChange){const m=this._editorService.getActiveCodeEditor();if(!!m){const g=m.getModel(),b=m.getPosition();if(!(!g||!b)){let y=!1,L=!1;for(const D of t.references)if(r.isEqual(D.uri,g.uri))y=!0,L=L||l.Range.containsPosition(D.range,b);else if(y)break;(!y||!L)&&this.reset()}}}});this._currentState=f.combinedDisposable(o,h)}revealNext(n){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:l.Range.collapseToStart(t.range),selectionRevealType:3}},n).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var n;(n=this._currentMessage)===null||n===void 0||n.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),o=t?c.localize(0,null,this._currentIdx+1,this._currentModel.references.length,t.getLabel()):c.localize(1,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(o)}};d=Me([pe(0,C.IContextKeyService),pe(1,v.ICodeEditorService),pe(2,a.INotificationService),pe(3,u.IKeybindingService)],d),k.registerSingleton(e.ISymbolNavigationService,d,!0),S.registerEditorCommand(new class extends S.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(i,n){return i.get(e.ISymbolNavigationService).revealNext(n)}}),w.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(i){i.get(e.ISymbolNavigationService).reset()}});let s=class{constructor(n){this._listener=new Map,this._disposables=new f.DisposableStore,this._onDidChange=new p.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(n.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(n.onCodeEditorAdd(this._onDidAddEditor,this)),n.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),f.dispose(this._listener.values())}_onDidAddEditor(n){this._listener.set(n,f.combinedDisposable(n.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:n})),n.onDidChangeModelContent(t=>this._onDidChange.fire({editor:n}))))}_onDidRemoveEditor(n){var t;(t=this._listener.get(n))===null||t===void 0||t.dispose(),this._listener.delete(n)}};s=Me([pe(0,v.ICodeEditorService)],s)}),define(ee[618],te([0,1,19,23,11,14,17]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHover=void 0;function v(f,p,c){const a=S.HoverProviderRegistry.ordered(f).map(r=>Promise.resolve(r.provideHover(f,p,c)).then(d=>d&&l(d)?d:void 0,d=>{k.onUnexpectedExternalError(d)}));return Promise.all(a).then(C.coalesce)}e.getHover=v,w.registerModelAndPositionCommand("_executeHoverProvider",(f,p)=>v(f,p,M.CancellationToken.None));function l(f){const p=typeof f.range!="undefined",c=typeof f.contents!="undefined"&&f.contents&&f.contents.length>0;return p&&c}}),define(ee[619],te([0,1,483,7,73,2,3,141,19,58,57,17,618,13]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const r=M.$;class d{constructor(n,t){this.range=n,this.contents=t}equals(n){return n instanceof d?k.markedStringsEquals(this.contents,n.contents):!1}}e.MarkdownHover=d;let s=class{constructor(n,t,o,h){this._editor=n,this._hover=t,this._modeService=o,this._openerService=h}createLoadingMessage(n){return new d(n,[new k.MarkdownString().appendText(C.localize(0,null))])}computeSync(n,t){if(!this._editor.hasModel())return[];const o=this._editor.getModel(),h=n.startLineNumber,_=o.getLineMaxColumn(h),m=[];for(const g of t){const b=g.range.startLineNumber===h?g.range.startColumn:1,y=g.range.endLineNumber===h?g.range.endColumn:_,L=g.options.hoverMessage;if(!(!L||k.isEmptyMarkdownString(L))){const D=new S.Range(n.startLineNumber,b,n.startLineNumber,y);m.push(new d(D,l.asArray(L)))}}return m}computeAsync(n,t){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!n)return Promise.resolve([]);const o=this._editor.getModel();if(!c.HoverProviderRegistry.has(o))return Promise.resolve([]);const h=yield u.getHover(o,new a.Position(n.startLineNumber,n.startColumn),t),_=[];for(const m of h)if(!k.isEmptyMarkdownString(m.contents)){const g=m.range?S.Range.lift(m.range):n;_.push(new d(g,m.contents))}return _})}renderHoverParts(n,t){const o=new w.DisposableStore;for(const h of n)for(const _ of h.contents)if(!k.isEmptyMarkdownString(_)){const m=r("div.hover-row.markdown-hover"),g=M.append(m,r("div.hover-contents")),b=o.add(new v.MarkdownRenderer({editor:this._editor},this._modeService,this._openerService));o.add(b.onDidRenderAsync(()=>{g.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const y=o.add(b.render(_));g.appendChild(y.element),t.appendChild(m)}return o}};s=Me([pe(2,p.IModeService),pe(3,f.IOpenerService)],s),e.MarkdownHoverParticipant=s}),define(ee[620],te([0,1,485,3,21,25,14,75,405,70,12,49,31,15,11]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class pt{constructor(t,o){this.decorationIds=[],this.editor=t,this.editorWorkerService=o}static get(t){return t.getContribution(pt.ID)}dispose(){}run(t,o){this.currentRequest&&this.currentRequest.cancel();const h=this.editor.getSelection(),_=this.editor.getModel();if(!(!_||!h)){let m=h;if(m.startLineNumber===m.endLineNumber){const g=new f.EditorState(this.editor,1|4),b=_.uri;return this.editorWorkerService.canNavigateValueSet(b)?(this.currentRequest=a.createCancelablePromise(y=>this.editorWorkerService.navigateValueSet(b,m,o)),this.currentRequest.then(y=>{if(!(!y||!y.range||!y.value)&&!!g.validate(this.editor)){let L=M.Range.lift(y.range),D=y.range,N=y.value.length-(m.endColumn-m.startColumn);D={startLineNumber:D.startLineNumber,startColumn:D.startColumn,endLineNumber:D.endLineNumber,endColumn:D.startColumn+y.value.length},N>1&&(m=new k.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn+N-1));const I=new l.InPlaceReplaceCommand(L,m,y.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,I),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:D,options:pt.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=a.timeout(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(r.onUnexpectedError)}}).catch(r.onUnexpectedError)):Promise.resolve(void 0)}}}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=u.ModelDecorationOptions.register({className:"valueSetReplacement"}),d=Me([pe(1,v.IEditorWorkerService)],d);class s extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:C.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!0):Promise.resolve(void 0)}}class i extends S.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:C.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(t,o){const h=d.get(o);return h?h.run(this.id,!1):Promise.resolve(void 0)}}S.registerEditorContribution(d.ID,d),S.registerEditorAction(s),S.registerEditorAction(i),p.registerThemingParticipant((n,t)=>{const o=n.getColor(c.editorBracketMatchBorder);o&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${o}; }`)})}),define(ee[621],te([0,1,486,2,8,14,177,62,3,21,25,31,41,36,227,78]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function s(I,T,O,A){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];let B=u.LanguageConfigurationRegistry.getIndentationRules(I.getLanguageIdentifier().id);if(!B)return[];for(O=Math.min(O,I.getLineCount());T<=O&&B.unIndentedLinePattern;){let ae=I.getLineContent(T);if(!B.unIndentedLinePattern.test(ae))break;T++}if(T>O-1)return[];const{tabSize:E,indentSize:W,insertSpaces:R}=I.getOptions(),F=(ae,X)=>(X=X||1,S.ShiftCommand.shiftIndent(ae,ae.length+X,E,W,R)),V=(ae,X)=>(X=X||1,S.ShiftCommand.unshiftIndent(ae,ae.length+X,E,W,R));let K=[],G,J=I.getLineContent(T),se=J;if(A!=null){G=A;let ae=k.getLeadingWhitespace(J);se=G+J.substring(ae.length),B.decreaseIndentPattern&&B.decreaseIndentPattern.test(se)&&(G=V(G),se=G+J.substring(ae.length)),J!==se&&K.push(v.EditOperation.replaceMove(new f.Selection(T,1,T,ae.length+1),c.TextModel.normalizeIndentation(G,W,R)))}else G=k.getLeadingWhitespace(J);let ie=G;B.increaseIndentPattern&&B.increaseIndentPattern.test(se)?(ie=F(ie),G=F(G)):B.indentNextLinePattern&&B.indentNextLinePattern.test(se)&&(ie=F(ie)),T++;for(let ae=T;ae<=O;ae++){let X=I.getLineContent(ae),U=k.getLeadingWhitespace(X),P=ie+X.substring(U.length);B.decreaseIndentPattern&&B.decreaseIndentPattern.test(P)&&(ie=V(ie),G=V(G)),U!==ie&&K.push(v.EditOperation.replaceMove(new f.Selection(ae,1,ae,U.length+1),c.TextModel.normalizeIndentation(ie,W,R))),!(B.unIndentedLinePattern&&B.unIndentedLinePattern.test(X))&&(B.increaseIndentPattern&&B.increaseIndentPattern.test(P)?(G=F(G),ie=G):B.indentNextLinePattern&&B.indentNextLinePattern.test(P)?ie=F(ie):ie=G)}return K}e.getReindentEditOperations=s;class i extends w.EditorAction{constructor(){super({id:i.ID,label:C.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable})}run(T,O){let A=O.getModel();if(!!A){let B=A.getOptions(),E=O.getSelection();if(!!E){const W=new D(E,B.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[W]),O.pushUndoStop(),A.updateOptions({insertSpaces:!0})}}}}e.IndentationToSpacesAction=i,i.ID="editor.action.indentationToSpaces";class n extends w.EditorAction{constructor(){super({id:n.ID,label:C.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable})}run(T,O){let A=O.getModel();if(!!A){let B=A.getOptions(),E=O.getSelection();if(!!E){const W=new N(E,B.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[W]),O.pushUndoStop(),A.updateOptions({insertSpaces:!1})}}}}e.IndentationToTabsAction=n,n.ID="editor.action.indentationToTabs";class t extends w.EditorAction{constructor(T,O){super(O);this.insertSpaces=T}run(T,O){const A=T.get(d.IQuickInputService),B=T.get(a.IModelService);let E=O.getModel();if(!!E){let W=B.getCreationOptions(E.getLanguageIdentifier().language,E.uri,E.isForSimpleWidget);const R=[1,2,3,4,5,6,7,8].map(V=>({id:V.toString(),label:V.toString(),description:V===W.tabSize?C.localize(2,null):void 0})),F=Math.min(E.getOptions().tabSize-1,7);setTimeout(()=>{A.pick(R,{placeHolder:C.localize(3,null),activeItem:R[F]}).then(V=>{V&&E&&!E.isDisposed()&&E.updateOptions({tabSize:parseInt(V.label,10),insertSpaces:this.insertSpaces})})},50)}}}e.ChangeIndentationSizeAction=t;class o extends t{constructor(){super(!1,{id:o.ID,label:C.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=o,o.ID="editor.action.indentUsingTabs";class h extends t{constructor(){super(!0,{id:h.ID,label:C.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=h,h.ID="editor.action.indentUsingSpaces";class _ extends w.EditorAction{constructor(){super({id:_.ID,label:C.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(T,O){const A=T.get(a.IModelService);let B=O.getModel();if(!!B){let E=A.getCreationOptions(B.getLanguageIdentifier().language,B.uri,B.isForSimpleWidget);B.detectIndentation(E.insertSpaces,E.tabSize)}}}e.DetectIndentation=_,_.ID="editor.action.detectIndentation";class m extends w.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:C.localize(7,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable})}run(T,O){let A=O.getModel();if(!!A){let B=s(A,1,A.getLineCount());B.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,B),O.pushUndoStop())}}}e.ReindentLinesAction=m;class g extends w.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:C.localize(8,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable})}run(T,O){let A=O.getModel();if(!!A){let B=O.getSelections();if(B!==null){let E=[];for(let W of B){let R=W.startLineNumber,F=W.endLineNumber;if(R!==F&&W.endColumn===1&&F--,R===1){if(R===F)continue}else R--;let V=s(A,R,F);E.push(...V)}E.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,E),O.pushUndoStop())}}}}e.ReindentSelectedLinesAction=g;class b{constructor(T,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let A of T)A.range&&typeof A.text=="string"&&this._edits.push(A)}getEditOperations(T,O){for(let B of this._edits)O.addEditOperation(l.Range.lift(B.range),B.text);let A=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(A=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(A=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),A||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(T,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=b;class y{constructor(T){this.callOnDispose=new M.DisposableStore,this.callOnModel=new M.DisposableStore,this.editor=T,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(8)<4||this.editor.getOption(42))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)})))}trigger(T){let O=this.editor.getSelections();if(!(O===null||O.length>1)){const A=this.editor.getModel();if(!!A&&!!A.isCheapToTokenize(T.getStartPosition().lineNumber)){const B=this.editor.getOption(8),{tabSize:E,indentSize:W,insertSpaces:R}=A.getOptions();let F=[],V={shiftIndent:se=>S.ShiftCommand.shiftIndent(se,se.length+1,E,W,R),unshiftIndent:se=>S.ShiftCommand.unshiftIndent(se,se.length+1,E,W,R)},K=T.startLineNumber;for(;K<=T.endLineNumber;){if(this.shouldIgnoreLine(A,K)){K++;continue}break}if(!(K>T.endLineNumber)){let G=A.getLineContent(K);if(!/\S/.test(G.substring(0,T.startColumn-1))){let se=u.LanguageConfigurationRegistry.getGoodIndentForLine(B,A,A.getLanguageIdentifier().id,K,V);if(se!==null){let ie=k.getLeadingWhitespace(G),ae=r.getSpaceCnt(se,E),X=r.getSpaceCnt(ie,E);if(ae!==X){let U=r.generateIndent(ae,E,R);F.push({range:new l.Range(K,1,K,ie.length+1),text:U}),G=U+G.substr(ie.length)}else{let U=u.LanguageConfigurationRegistry.getIndentMetadata(A,K);if(U===0||U===8)return}}}const J=K;for(;K<T.endLineNumber;){if(!/\S/.test(A.getLineContent(K+1))){K++;continue}break}if(K!==T.endLineNumber){let se={getLineTokens:ae=>A.getLineTokens(ae),getLanguageIdentifier:()=>A.getLanguageIdentifier(),getLanguageIdAtPosition:(ae,X)=>A.getLanguageIdAtPosition(ae,X),getLineContent:ae=>ae===J?G:A.getLineContent(ae)},ie=u.LanguageConfigurationRegistry.getGoodIndentForLine(B,se,A.getLanguageIdentifier().id,K+1,V);if(ie!==null){let ae=r.getSpaceCnt(ie,E),X=r.getSpaceCnt(k.getLeadingWhitespace(A.getLineContent(K+1)),E);if(ae!==X){let U=ae-X;for(let P=K+1;P<=T.endLineNumber;P++){let x=A.getLineContent(P),H=k.getLeadingWhitespace(x),q=r.getSpaceCnt(H,E)+U,Q=r.generateIndent(q,E,R);Q!==H&&F.push({range:new l.Range(P,1,P,H.length+1),text:Q})}}}}if(F.length>0){this.editor.pushUndoStop();let se=new b(F,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",se),this.editor.pushUndoStop()}}}}}shouldIgnoreLine(T,O){T.forceTokenization(O);let A=T.getLineFirstNonWhitespaceColumn(O);if(A===0)return!0;let B=T.getLineTokens(O);if(B.getCount()>0){let E=B.findTokenIndexAtOffset(A);if(E>=0&&B.getStandardTokenType(E)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}e.AutoIndentOnPaste=y,y.ID="editor.contrib.autoIndentOnPaste";function L(I,T,O,A){if(!(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)){let B="";for(let W=0;W<O;W++)B+=" ";let E=new RegExp(B,"gi");for(let W=1,R=I.getLineCount();W<=R;W++){let F=I.getLineFirstNonWhitespaceColumn(W);if(F===0&&(F=I.getLineMaxColumn(W)),F!==1){const V=new l.Range(W,1,W,F),K=I.getValueInRange(V),G=A?K.replace(/\t/ig,B):K.replace(E,"	");T.addEditOperation(V,G)}}}}class D{constructor(T,O){this.selection=T,this.tabSize=O,this.selectionId=null}getEditOperations(T,O){this.selectionId=O.trackSelection(this.selection),L(T,O,this.tabSize,!0)}computeCursorState(T,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=D;class N{constructor(T,O){this.selection=T,this.tabSize=O,this.selectionId=null}getEditOperations(T,O){this.selectionId=O.trackSelection(this.selection),L(T,O,this.tabSize,!1)}computeCursorState(T,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,w.registerEditorContribution(y.ID,y),w.registerEditorAction(i),w.registerEditorAction(n),w.registerEditorAction(o),w.registerEditorAction(h),w.registerEditorAction(_),w.registerEditorAction(m),w.registerEditorAction(g)}),define(ee[622],te([0,1,15,11,89,2,14,28,17,19,22,23,12,3,135,73,26,24,20,67]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineHintsController=e.getInlineHints=void 0;const o=500;function h(m,g,b){return Ie(this,void 0,void 0,function*(){const y=[],L=l.InlineHintsProviderRegistry.ordered(m).reverse(),D=f.flatten(L.map(N=>g.map(I=>Promise.resolve(N.provideInlineHints(m,I,b)).then(T=>{T&&y.push({list:T,provider:N})},T=>{M.onUnexpectedExternalError(T)}))));return yield Promise.all(D),y})}e.getInlineHints=h;let _=class{constructor(g,b,y){this._editor=g,this._codeEditorService=b,this._themeService=y,this._disposables=new w.DisposableStore,this._sessionDisposables=new w.DisposableStore,this._getInlineHintsDelays=new r.LanguageFeatureRequestDelays(l.InlineHintsProviderRegistry,250,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(l.InlineHintsProviderRegistry.onDidChange(()=>this._update())),this._disposables.add(y.onDidColorThemeChange(()=>this._update())),this._disposables.add(g.onDidChangeModel(()=>this._update())),this._disposables.add(g.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(g.onDidChangeConfiguration(L=>{L.hasChanged(120)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(120).enabled){this._removeAllDecorations();return}const g=this._editor.getModel();if(!g||!l.InlineHintsProviderRegistry.has(g)){this._removeAllDecorations();return}const b=new C.RunOnceScheduler(()=>Ie(this,void 0,void 0,function*(){const L=Date.now(),D=new c.CancellationTokenSource;this._sessionDisposables.add(w.toDisposable(()=>D.dispose(!0)));const N=this._editor.getVisibleRangesPlusViewportAboveBelow(),I=yield h(g,N,D.token),T=this._getInlineHintsDelays.update(g,Date.now()-L);b.delay=T,this._updateHintsDecorators(I)}),this._getInlineHintsDelays.get(g));this._sessionDisposables.add(b),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>b.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>b.schedule())),b.schedule();const y=new w.DisposableStore;this._sessionDisposables.add(y);for(const L of l.InlineHintsProviderRegistry.all(g))typeof L.onDidChangeInlineHints=="function"&&y.add(L.onDidChangeInlineHints(()=>b.schedule()))}_updateHintsDecorators(g){const{fontSize:b,fontFamily:y}=this._getLayoutInfo(),L=this._themeService.getColorTheme().getColor(p.editorInlineHintBackground),D=this._themeService.getColorTheme().getColor(p.editorInlineHintForeground),N=[],I=[];for(const{list:T}of g)for(let O=0;O<T.length&&I.length<o;O++){const{text:A,range:B,description:E,whitespaceBefore:W,whitespaceAfter:R}=T[O],F=W?b/3|0:0,V=R?b/3|0:0,K={contentText:A,backgroundColor:`${L}`,color:`${D}`,margin:`0px ${V}px 0px ${F}px`,fontSize:`${b}px`,fontFamily:y,padding:`0px ${b/4|0}px`,borderRadius:`${b/4|0}px`},G="inlineHints-"+k.hash(K).toString(16);this._codeEditorService.registerDecorationType(G,{before:K},void 0,this._editor),N.push(G);const J=this._codeEditorService.resolveDecorationOptions(G,!0);typeof E=="string"?J.hoverMessage=new d.MarkdownString().appendText(E):E&&(J.hoverMessage=E),I.push({range:B,options:J})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=N,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,I)}_getLayoutInfo(){const g=this._editor.getOption(120),b=this._editor.getOption(40);let y=g.fontSize;(!y||y<5||y>b)&&(y=b*.9|0);const L=g.fontFamily;return{fontSize:y,fontFamily:L}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};_.ID="editor.contrib.InlineHints",_=Me([pe(1,v.ICodeEditorService),pe(2,u.IThemeService)],_),e.InlineHintsController=_,S.registerEditorContribution(_.ID,_),s.CommandsRegistry.registerCommand("_executeInlineHintProvider",(m,...g)=>Ie(void 0,void 0,void 0,function*(){const[b,y]=g;n.assertType(i.URI.isUri(b)),n.assertType(a.Range.isIRange(y));const L=yield m.get(t.ITextModelService).createModelReference(b);try{const D=yield h(L.object.textEditorModel,[a.Range.lift(y)],c.CancellationToken.None);return f.flatten(D.map(N=>N.list)).sort((N,I)=>a.Range.compareRangesUsingStarts(N.range,I.range))}finally{L.dispose()}}))}),define(ee[623],te([0,1,487,39,186,14,92,362,180,62,13,3,21,25,406,535,407,35]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class n extends w.EditorAction{constructor(ae,X){super(X);this.down=ae}run(ae,X){if(!!X.hasModel()){const U=X.getSelections().map((H,z)=>({selection:H,index:z,ignore:!1}));U.sort((H,z)=>c.Range.compareRangesUsingStarts(H.selection,z.selection));let P=U[0];for(let H=1;H<U.length;H++){const z=U[H];P.selection.endLineNumber===z.selection.startLineNumber&&(P.index<z.index?z.ignore=!0:(P.ignore=!0,P=z))}const x=[];for(const H of U)x.push(new r.CopyLinesCommand(H.selection,this.down,H.ignore));X.pushUndoStop(),X.executeCommands(this.id,x),X.pushUndoStop()}}}class t extends n{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:C.localize(0,null),alias:"Copy Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(1,null),order:1}})}}class o extends n{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:C.localize(2,null),alias:"Copy Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(3,null),order:2}})}}class h extends w.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:C.localize(4,null),alias:"Duplicate Selection",precondition:a.EditorContextKeys.writable,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(5,null),order:5}})}run(ae,X,U){if(!!X.hasModel()){const P=[],x=X.getSelections(),H=X.getModel();for(const z of x)if(z.isEmpty())P.push(new r.CopyLinesCommand(z,!0));else{const q=new u.Selection(z.endLineNumber,z.endColumn,z.endLineNumber,z.endColumn);P.push(new S.ReplaceCommandThatSelectsText(q,H.getValueInRange(z)))}X.pushUndoStop(),X.executeCommands(this.id,P),X.pushUndoStop()}}}e.DuplicateSelectionAction=h;class _ extends w.EditorAction{constructor(ae,X){super(X);this.down=ae}run(ae,X){let U=[],P=X.getSelections()||[];const x=X.getOption(8);for(const H of P)U.push(new d.MoveLinesCommand(H,this.down,x));X.pushUndoStop(),X.executeCommands(this.id,U),X.pushUndoStop()}}class m extends _{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:C.localize(6,null),alias:"Move Line Up",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(7,null),order:3}})}}class g extends _{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:C.localize(8,null),alias:"Move Line Down",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"2_line",title:C.localize(9,null),order:4}})}}class b extends w.EditorAction{constructor(ae,X){super(X);this.descending=ae}run(ae,X){const U=X.getSelections()||[];for(const x of U)if(!s.SortLinesCommand.canRun(X.getModel(),x,this.descending))return;let P=[];for(let x=0,H=U.length;x<H;x++)P[x]=new s.SortLinesCommand(U[x],this.descending);X.pushUndoStop(),X.executeCommands(this.id,P),X.pushUndoStop()}}e.AbstractSortLinesAction=b;class y extends b{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:C.localize(10,null),alias:"Sort Lines Ascending",precondition:a.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class L extends b{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:C.localize(11,null),alias:"Sort Lines Descending",precondition:a.EditorContextKeys.writable})}}e.SortLinesDescendingAction=L;class D extends w.EditorAction{constructor(){super({id:D.ID,label:C.localize(12,null),alias:"Trim Trailing Whitespace",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|54),weight:100}})}run(ae,X,U){let P=[];U.reason==="auto-save"&&(P=(X.getSelections()||[]).map(z=>new p.Position(z.positionLineNumber,z.positionColumn)));let x=X.getSelection();if(x!==null){let H=new v.TrimTrailingWhitespaceCommand(x,P);X.pushUndoStop(),X.executeCommands(this.id,[H]),X.pushUndoStop()}}}e.TrimTrailingWhitespaceAction=D,D.ID="editor.action.trimTrailingWhitespace";class N extends w.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:C.localize(13,null),alias:"Delete Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(ae,X){if(!!X.hasModel()){let U=this._getLinesToRemove(X),P=X.getModel();if(!(P.getLineCount()===1&&P.getLineMaxColumn(1)===1)){let x=0,H=[],z=[];for(let q=0,Q=U.length;q<Q;q++){const ce=U[q];let ue=ce.startLineNumber,Y=ce.endLineNumber,j=1,ne=P.getLineMaxColumn(Y);Y<P.getLineCount()?(Y+=1,ne=1):ue>1&&(ue-=1,j=P.getLineMaxColumn(ue)),H.push(f.EditOperation.replace(new u.Selection(ue,j,Y,ne),"")),z.push(new u.Selection(ue-x,ce.positionColumn,ue-x,ce.positionColumn)),x+=ce.endLineNumber-ce.startLineNumber+1}X.pushUndoStop(),X.executeEdits(this.id,H,z),X.pushUndoStop()}}}_getLinesToRemove(ae){let X=ae.getSelections().map(x=>{let H=x.endLineNumber;return x.startLineNumber<x.endLineNumber&&x.endColumn===1&&(H-=1),{startLineNumber:x.startLineNumber,selectionStartColumn:x.selectionStartColumn,endLineNumber:H,positionColumn:x.positionColumn}});X.sort((x,H)=>x.startLineNumber===H.startLineNumber?x.endLineNumber-H.endLineNumber:x.startLineNumber-H.startLineNumber);let U=[],P=X[0];for(let x=1;x<X.length;x++)P.endLineNumber+1>=X[x].startLineNumber?P.endLineNumber=X[x].endLineNumber:(U.push(P),P=X[x]);return U.push(P),U}}e.DeleteLinesAction=N;class I extends w.EditorAction{constructor(){super({id:"editor.action.indentLines",label:C.localize(14,null),alias:"Indent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(ae,X){const U=X._getViewModel();!U||(X.pushUndoStop(),X.executeCommands(this.id,l.TypeOperations.indent(U.cursorConfig,X.getModel(),X.getSelections())),X.pushUndoStop())}}e.IndentLinesAction=I;class T extends w.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:C.localize(15,null),alias:"Outdent Line",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(ae,X){k.CoreEditingCommands.Outdent.runEditorCommand(ae,X,null)}}class O extends w.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:C.localize(16,null),alias:"Insert Line Above",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(ae,X){const U=X._getViewModel();!U||(X.pushUndoStop(),X.executeCommands(this.id,l.TypeOperations.lineInsertBefore(U.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineBeforeAction=O;class A extends w.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:C.localize(17,null),alias:"Insert Line Below",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(ae,X){const U=X._getViewModel();!U||(X.pushUndoStop(),X.executeCommands(this.id,l.TypeOperations.lineInsertAfter(U.cursorConfig,X.getModel(),X.getSelections())))}}e.InsertLineAfterAction=A;class B extends w.EditorAction{run(ae,X){if(!!X.hasModel()){const U=X.getSelection();let P=this._getRangesToDelete(X),x=[];for(let q=0,Q=P.length-1;q<Q;q++){let ce=P[q],ue=P[q+1];c.Range.intersectRanges(ce,ue)===null?x.push(ce):P[q+1]=c.Range.plusRange(ce,ue)}x.push(P[P.length-1]);let H=this._getEndCursorState(U,x),z=x.map(q=>f.EditOperation.replace(q,""));X.pushUndoStop(),X.executeEdits(this.id,z,H),X.pushUndoStop()}}}e.AbstractDeleteAllToBoundaryAction=B;class E extends B{constructor(){super({id:"deleteAllLeft",label:C.localize(18,null),alias:"Delete All Left",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(ae,X){let U=null,P=[],x=0;return X.forEach(H=>{let z;if(H.endColumn===1&&x>0){let q=H.startLineNumber-x;z=new u.Selection(q,H.startColumn,q,H.startColumn)}else z=new u.Selection(H.startLineNumber,H.startColumn,H.startLineNumber,H.startColumn);x+=H.endLineNumber-H.startLineNumber,H.intersectRanges(ae)?U=z:P.push(z)}),U&&P.unshift(U),P}_getRangesToDelete(ae){let X=ae.getSelections();if(X===null)return[];let U=X,P=ae.getModel();return P===null?[]:(U.sort(c.Range.compareRangesUsingStarts),U=U.map(x=>{if(x.isEmpty())if(x.startColumn===1){let H=Math.max(1,x.startLineNumber-1),z=x.startLineNumber===1?1:P.getLineContent(H).length+1;return new c.Range(H,z,x.startLineNumber,1)}else return new c.Range(x.startLineNumber,1,x.startLineNumber,x.startColumn);else return new c.Range(x.startLineNumber,1,x.endLineNumber,x.endColumn)}),U)}}e.DeleteAllLeftAction=E;class W extends B{constructor(){super({id:"deleteAllRight",label:C.localize(19,null),alias:"Delete All Right",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(ae,X){let U=null,P=[];for(let x=0,H=X.length,z=0;x<H;x++){let q=X[x],Q=new u.Selection(q.startLineNumber-z,q.startColumn,q.startLineNumber-z,q.startColumn);q.intersectRanges(ae)?U=Q:P.push(Q)}return U&&P.unshift(U),P}_getRangesToDelete(ae){let X=ae.getModel();if(X===null)return[];let U=ae.getSelections();if(U===null)return[];let P=U.map(x=>{if(x.isEmpty()){const H=X.getLineMaxColumn(x.startLineNumber);return x.startColumn===H?new c.Range(x.startLineNumber,x.startColumn,x.startLineNumber+1,1):new c.Range(x.startLineNumber,x.startColumn,x.startLineNumber,H)}return x});return P.sort(c.Range.compareRangesUsingStarts),P}}e.DeleteAllRightAction=W;class R extends w.EditorAction{constructor(){super({id:"editor.action.joinLines",label:C.localize(20,null),alias:"Join Lines",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(ae,X){let U=X.getSelections();if(U!==null){let P=X.getSelection();if(P!==null){U.sort(c.Range.compareRangesUsingStarts);let x=[],H=U.reduce((Y,j)=>Y.isEmpty()?Y.endLineNumber===j.startLineNumber?(P.equalsSelection(Y)&&(P=j),j):j.startLineNumber>Y.endLineNumber+1?(x.push(Y),j):new u.Selection(Y.startLineNumber,Y.startColumn,j.endLineNumber,j.endColumn):j.startLineNumber>Y.endLineNumber?(x.push(Y),j):new u.Selection(Y.startLineNumber,Y.startColumn,j.endLineNumber,j.endColumn));x.push(H);let z=X.getModel();if(z!==null){let q=[],Q=[],ce=P,ue=0;for(let Y=0,j=x.length;Y<j;Y++){let ne=x[Y],Z=ne.startLineNumber,le=1,he=0,re,de,me=z.getLineContent(ne.endLineNumber).length-ne.endColumn;if(ne.isEmpty()||ne.startLineNumber===ne.endLineNumber){let Ee=ne.getStartPosition();Ee.lineNumber<z.getLineCount()?(re=Z+1,de=z.getLineMaxColumn(re)):(re=Ee.lineNumber,de=z.getLineMaxColumn(Ee.lineNumber))}else re=ne.endLineNumber,de=z.getLineMaxColumn(re);let ve=z.getLineContent(Z);for(let Ee=Z+1;Ee<=re;Ee++){let De=z.getLineContent(Ee),Pe=z.getLineFirstNonWhitespaceColumn(Ee);if(Pe>=1){let Ne=!0;ve===""&&(Ne=!1),Ne&&(ve.charAt(ve.length-1)===" "||ve.charAt(ve.length-1)==="	")&&(Ne=!1,ve=ve.replace(/[\s\uFEFF\xA0]+$/g," "));let Ae=De.substr(Pe-1);ve+=(Ne?" ":"")+Ae,Ne?he=Ae.length+1:he=Ae.length}else he=0}let Ce=new c.Range(Z,le,re,de);if(!Ce.isEmpty()){let Ee;ne.isEmpty()?(q.push(f.EditOperation.replace(Ce,ve)),Ee=new u.Selection(Ce.startLineNumber-ue,ve.length-he+1,Z-ue,ve.length-he+1)):ne.startLineNumber===ne.endLineNumber?(q.push(f.EditOperation.replace(Ce,ve)),Ee=new u.Selection(ne.startLineNumber-ue,ne.startColumn,ne.endLineNumber-ue,ne.endColumn)):(q.push(f.EditOperation.replace(Ce,ve)),Ee=new u.Selection(ne.startLineNumber-ue,ne.startColumn,ne.startLineNumber-ue,ve.length-me)),c.Range.intersectRanges(Ce,P)!==null?ce=Ee:Q.push(Ee)}ue+=Ce.endLineNumber-Ce.startLineNumber}Q.unshift(ce),X.pushUndoStop(),X.executeEdits(this.id,q,Q),X.pushUndoStop()}}}}}e.JoinLinesAction=R;class F extends w.EditorAction{constructor(){super({id:"editor.action.transpose",label:C.localize(21,null),alias:"Transpose characters around the cursor",precondition:a.EditorContextKeys.writable})}run(ae,X){let U=X.getSelections();if(U!==null){let P=X.getModel();if(P!==null){let x=[];for(let H=0,z=U.length;H<z;H++){let q=U[H];if(!!q.isEmpty()){let Q=q.getStartPosition(),ce=P.getLineMaxColumn(Q.lineNumber);if(Q.column>=ce){if(Q.lineNumber===P.getLineCount())continue;let ue=new c.Range(Q.lineNumber,Math.max(1,Q.column-1),Q.lineNumber+1,1),Y=P.getValueInRange(ue).split("").reverse().join("");x.push(new S.ReplaceCommand(new u.Selection(Q.lineNumber,Math.max(1,Q.column-1),Q.lineNumber+1,1),Y))}else{let ue=new c.Range(Q.lineNumber,Math.max(1,Q.column-1),Q.lineNumber,Q.column+1),Y=P.getValueInRange(ue).split("").reverse().join("");x.push(new S.ReplaceCommandThatPreservesSelection(ue,Y,new u.Selection(Q.lineNumber,Q.column+1,Q.lineNumber,Q.column+1)))}}}X.pushUndoStop(),X.executeCommands(this.id,x),X.pushUndoStop()}}}}e.TransposeAction=F;class V extends w.EditorAction{run(ae,X){const U=X.getSelections();if(U!==null){const P=X.getModel();if(P!==null){const x=X.getOption(110),H=[];for(const z of U)if(z.isEmpty()){const q=z.getStartPosition(),Q=X.getConfiguredWordAtPosition(q);if(!Q)continue;const ce=new c.Range(q.lineNumber,Q.startColumn,q.lineNumber,Q.endColumn),ue=P.getValueInRange(ce);H.push(f.EditOperation.replace(ce,this._modifyText(ue,x)))}else{const q=P.getValueInRange(z);H.push(f.EditOperation.replace(z,this._modifyText(q,x)))}X.pushUndoStop(),X.executeEdits(this.id,H),X.pushUndoStop()}}}}e.AbstractCaseAction=V;class K extends V{constructor(){super({id:"editor.action.transformToUppercase",label:C.localize(22,null),alias:"Transform to Uppercase",precondition:a.EditorContextKeys.writable})}_modifyText(ae,X){return ae.toLocaleUpperCase()}}e.UpperCaseAction=K;class G extends V{constructor(){super({id:"editor.action.transformToLowercase",label:C.localize(23,null),alias:"Transform to Lowercase",precondition:a.EditorContextKeys.writable})}_modifyText(ae,X){return ae.toLocaleLowerCase()}}e.LowerCaseAction=G;class J extends V{constructor(){super({id:"editor.action.transformToTitlecase",label:C.localize(24,null),alias:"Transform to Title Case",precondition:a.EditorContextKeys.writable})}_modifyText(ae,X){const P=(`\r
	 `+X).split("");let x="",H=!0;for(let z=0;z<ae.length;z++){let q=ae[z];P.indexOf(q)>=0?(H=!0,x+=q):H?(H=!1,x+=q.toLocaleUpperCase()):x+=q.toLocaleLowerCase()}return x}}e.TitleCaseAction=J;class se extends V{constructor(){super({id:"editor.action.transformToSnakecase",label:C.localize(25,null),alias:"Transform to Snake Case",precondition:a.EditorContextKeys.writable})}_modifyText(ae,X){return ae.replace(/(\p{Ll})(\p{Lu})/gmu,"$1_$2").replace(/([^\b_])(\p{Lu})(\p{Ll})/gmu,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=se,w.registerEditorAction(t),w.registerEditorAction(o),w.registerEditorAction(h),w.registerEditorAction(m),w.registerEditorAction(g),w.registerEditorAction(y),w.registerEditorAction(L),w.registerEditorAction(D),w.registerEditorAction(N),w.registerEditorAction(I),w.registerEditorAction(T),w.registerEditorAction(O),w.registerEditorAction(A),w.registerEditorAction(E),w.registerEditorAction(W),w.registerEditorAction(R),w.registerEditorAction(F),w.registerEditorAction(K),w.registerEditorAction(G),w.registerEditorAction(J),w.registerEditorAction(se)}),define(ee[624],te([0,1,488,14,19,2,13,23,3,17,15,31,18,25,24,28,11,8,22,12,29,41]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new u.RawContextKey("LinkedEditingInputVisible",!1);const _="linked-editing-decoration";let m=class _t extends w.Disposable{constructor(D,N){super();this._debounceDuration=200,this._localToDispose=this._register(new w.DisposableStore),this._editor=D,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(N),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize())),this._register(this._editor.onDidChangeConfiguration(I=>{(I.hasChanged(56)||I.hasChanged(76))&&this.reinitialize()})),this._register(f.LinkedEditingRangeProviderRegistry.onDidChange(()=>this.reinitialize())),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize())),this.reinitialize()}static get(D){return D.getContribution(_t.ID)}reinitialize(){const D=this._editor.getModel(),N=D!==null&&(this._editor.getOption(56)||this._editor.getOption(76))&&f.LinkedEditingRangeProviderRegistry.has(D);if(N!==this._enabled&&(this._enabled=N,this.clearRanges(),this._localToDispose.clear(),!(!N||D===null))){this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageIdentifier().id),this._localToDispose.add(D.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=h.LanguageConfigurationRegistry.getWordDefinition(D.getLanguageIdentifier().id)}));const I=new p.Delayer(this._debounceDuration),T=()=>{this._rangeUpdateTriggerPromise=I.trigger(()=>this.updateRanges(),this._debounceDuration)},O=new p.Delayer(0),A=B=>{this._rangeSyncTriggerPromise=O.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{T()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const E=D.getDecorationRange(this._currentDecorations[0]);if(E&&B.changes.every(W=>E.intersectRanges(W.range))){A(this._currentDecorations);return}}T()})),this._localToDispose.add({dispose:()=>{I.cancel(),O.cancel()}}),this.updateRanges()}}_syncRanges(D){if(!(!this._editor.hasModel()||D!==this._currentDecorations||D.length===0)){const N=this._editor.getModel(),I=N.getDecorationRange(D[0]);if(!I||I.startLineNumber!==I.endLineNumber)return this.clearRanges();const T=N.getValueInRange(I);if(this._currentWordPattern){const A=T.match(this._currentWordPattern);if((A?A[0].length:0)!==T.length)return this.clearRanges()}let O=[];for(let A=1,B=D.length;A<B;A++){const E=N.getDecorationRange(D[A]);if(!!E)if(E.startLineNumber!==E.endLineNumber)O.push({range:E,text:T});else{let W=N.getValueInRange(E),R=T,F=E.startColumn,V=E.endColumn;const K=i.commonPrefixLength(W,R);F+=K,W=W.substr(K),R=R.substr(K);const G=i.commonSuffixLength(W,R);V-=G,W=W.substr(0,W.length-G),R=R.substr(0,R.length-G),(F!==V||R.length!==0)&&O.push({range:new l.Range(E.startLineNumber,F,E.endLineNumber,V),text:R})}}if(O.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const A=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",O),this._editor._getViewModel().setPrevEditOperationType(A)}finally{this._ignoreChangeEvent=!1}}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(D=!1){return Ie(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const N=this._editor.getPosition();if(!this._enabled&&!D||this._editor.getSelections().length>1){this.clearRanges();return}const I=this._editor.getModel(),T=I.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===T){if(N.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const A=I.getDecorationRange(this._currentDecorations[0]);if(A&&A.containsPosition(N))return}}this._currentRequestPosition=N,this._currentRequestModelVersion=T;const O=p.createCancelablePromise(A=>Ie(this,void 0,void 0,function*(){try{const B=yield y(I,N,A);if(O!==this._currentRequest||(this._currentRequest=null,T!==I.getVersionId()))return;let E=[];(B==null?void 0:B.ranges)&&(E=B.ranges),this._currentWordPattern=(B==null?void 0:B.wordPattern)||this._languageWordPattern;let W=!1;for(let F=0,V=E.length;F<V;F++)if(l.Range.containsPosition(E[F],N)){if(W=!0,F!==0){const K=E[F];E.splice(F,1),E.unshift(K)}break}if(!W){this.clearRanges();return}const R=E.map(F=>({range:F,options:_t.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,R)}catch(B){s.isPromiseCanceledError(B)||s.onUnexpectedError(B),(this._currentRequest===O||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=O,O})}};m.ID="editor.contrib.linkedEditing",m.DECORATION=c.ModelDecorationOptions.register({stickiness:0,className:_}),m=Me([pe(1,u.IContextKeyService)],m),e.LinkedEditingContribution=m;class g extends M.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:C.localize(0,null),alias:"Start Linked Editing",precondition:u.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(D,N){const I=D.get(d.ICodeEditorService),[T,O]=Array.isArray(N)&&N||[void 0,void 0];return r.URI.isUri(T)&&S.Position.isIPosition(O)?I.openCodeEditor({resource:T},I.getActiveCodeEditor()).then(A=>{!A||(A.setPosition(O),A.invokeWithinContext(B=>(this.reportTelemetry(B,A),this.run(B,A))))},s.onUnexpectedError):super.runCommand(D,N)}run(D,N){const I=m.get(N);return I?Promise.resolve(I.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=g;const b=M.EditorCommand.bindToContribution(m.get);M.registerEditorCommand(new b({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:L=>L.clearRanges(),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function y(L,D,N){const I=f.LinkedEditingRangeProviderRegistry.ordered(L);return p.first(I.map(T=>()=>Ie(this,void 0,void 0,function*(){try{return yield T.provideLinkedEditingRanges(L,D,N)}catch(O){s.onUnexpectedExternalError(O);return}})),T=>!!T&&k.isNonEmptyArray(T==null?void 0:T.ranges))}e.editorLinkedEditingBackground=n.registerColor("editor.linkedEditingBackground",{dark:o.Color.fromHex("#f00").transparent(.3),light:o.Color.fromHex("#f00").transparent(.3),hc:o.Color.fromHex("#f00").transparent(.3)},C.localize(1,null)),t.registerThemingParticipant((L,D)=>{const N=L.getColor(e.editorLinkedEditingBackground);N&&D.addRule(`.monaco-editor .${_} { background: ${N}; border-left-color: ${N}; }`)}),M.registerModelAndPositionCommand("_executeLinkedEditingProvider",(L,D)=>y(L,D,v.CancellationToken.None)),M.registerEditorContribution(m.ID,m),M.registerEditorAction(g)}),define(ee[625],te([0,1,489,15,23,11,73,2,16,14,31,17,225,539,32,58,22,12,24,43,44,342]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;function h(y,L){const D=y.url&&/^command:/i.test(y.url.toString()),N=y.tooltip?y.tooltip:D?C.localize(0,null):C.localize(1,null),I=L?l.isMacintosh?C.localize(2,null):C.localize(3,null):l.isMacintosh?C.localize(4,null):C.localize(5,null);if(y.url){let T="";if(/^command:/i.test(y.url.toString())){const A=y.url.toString().match(/^command:([^?#]+)/);if(A){const B=A[1];T=` "${C.localize(6,null,B)}"`}}return new S.MarkdownString("",!0).appendMarkdown(`[${N}](${y.url.toString(!0)}${T}) (${I})`)}else return new S.MarkdownString().appendText(`${N} (${I})`)}const _={general:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.ModelDecorationOptions.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class m{constructor(L,D){this.link=L,this.decorationId=D}static decoration(L,D){return{range:L.range,options:m._getOptions(L,D,!1)}}static _getOptions(L,D,N){const I=Object.assign({},N?_.active:_.general);return I.hoverMessage=h(L,D),I}activate(L,D){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,D,!0))}deactivate(L,D){L.changeDecorationOptions(this.decorationId,m._getOptions(this.link,D,!1))}}let g=class vt{constructor(L,D,N){this.listenersToRemove=new v.DisposableStore,this.editor=L,this.openerService=D,this.notificationService=N;let I=new u.ClickLinkGesture(L);this.listenersToRemove.add(I),this.listenersToRemove.add(I.onMouseMoveOrRelevantKeyDown(([T,O])=>{this._onEditorMouseMove(T,O)})),this.listenersToRemove.add(I.onExecute(T=>{this.onEditorMouseUp(T)})),this.listenersToRemove.add(I.onCancel(T=>{this.cleanUpActiveLinkDecoration()})),this.enabled=L.getOption(57),this.listenersToRemove.add(L.onDidChangeConfiguration(T=>{const O=L.getOption(57);this.enabled!==O&&(this.enabled=O,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(L.onDidChangeModelContent(T=>this.onChange())),this.listenersToRemove.add(L.onDidChangeModel(T=>this.onModelChanged())),this.listenersToRemove.add(L.onDidChangeModelLanguage(T=>this.onModelModeChanged())),this.listenersToRemove.add(c.LinkProviderRegistry.onDidChange(T=>this.onModelModeChanged())),this.timeout=new M.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(L){return L.getContribution(vt.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),vt.RECOMPUTE_TIME)}beginCompute(){return Ie(this,void 0,void 0,function*(){if(!(!this.editor.hasModel()||!this.enabled)){const L=this.editor.getModel();if(!!c.LinkProviderRegistry.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=M.createCancelablePromise(D=>a.getLinks(L,D));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(D){w.onUnexpectedError(D)}finally{this.computePromise=null}}}})}updateDecorations(L){const D=this.editor.getOption(64)==="altKey";let N=[],I=Object.keys(this.currentOccurrences);for(let A=0,B=I.length;A<B;A++){let E=I[A],W=this.currentOccurrences[E];N.push(W.decorationId)}let T=[];if(L)for(const A of L)T.push(m.decoration(A,D));let O=this.editor.deltaDecorations(N,T);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,B=O.length;A<B;A++){let E=new m(L[A],O[A]);this.currentOccurrences[E.decorationId]=E}}_onEditorMouseMove(L,D){const N=this.editor.getOption(64)==="altKey";if(this.isEnabled(L,D)){this.cleanUpActiveLinkDecoration();const I=this.getLinkOccurrence(L.target.position);I&&this.editor.changeDecorations(T=>{I.activate(T,N),this.activeLinkDecorationId=I.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(64)==="altKey";if(this.activeLinkDecorationId){const D=this.currentOccurrences[this.activeLinkDecorationId];D&&this.editor.changeDecorations(N=>{D.deactivate(N,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!!this.isEnabled(L)){const D=this.getLinkOccurrence(L.target.position);!D||this.openLinkOccurrence(D,L.hasSideBySideModifier,!0)}}openLinkOccurrence(L,D,N=!1){if(!!this.openerService){const{link:I}=L;I.resolve(k.CancellationToken.None).then(T=>{if(typeof T=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===t.Schemas.file&&T.startsWith(`${t.Schemas.file}:`)){const A=n.URI.parse(T);if(A.scheme===t.Schemas.file){const B=o.originalFSPath(A);let E=null;B.startsWith("/./")?E=`.${B.substr(1)}`:B.startsWith("//./")&&(E=`.${B.substr(2)}`),E&&(T=o.joinPath(O,E))}}}return this.openerService.open(T,{openToSide:D,fromUserGesture:N,allowContributedOpeners:!0})},T=>{const O=T instanceof Error?T.message:T;O==="invalid"?this.notificationService.warn(C.localize(7,null,I.url.toString())):O==="missing"?this.notificationService.warn(C.localize(8,null)):w.onUnexpectedError(T)})}}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const D=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const N of D){const I=this.currentOccurrences[N.id];if(I)return I}return null}isEnabled(L,D){return Boolean(L.target.type===6&&(L.hasTriggerModifier||D&&D.keyCodeIsTriggerKey))}stop(){var L;this.timeout.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};g.ID="editor.linkDetector",g.RECOMPUTE_TIME=1e3,g=Me([pe(1,d.IOpenerService),pe(2,r.INotificationService)],g),e.LinkDetector=g;class b extends f.EditorAction{constructor(){super({id:"editor.action.openLink",label:C.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,D){let N=g.get(D);if(!!N&&!!D.hasModel()){let I=D.getSelections();for(let T of I){let O=N.getLinkOccurrence(T.getEndPosition());O&&N.openLinkOccurrence(O,!1)}}}}f.registerEditorContribution(g.ID,g),f.registerEditorAction(b),i.registerThemingParticipant((y,L)=>{const D=y.getColor(s.editorActiveLinkForeground);D&&L.addRule(`.monaco-editor .detected-link-active { color: ${D} !important; }`)})}),define(ee[147],te([0,1,490,15,2,47,3,14,18,12,22,97,343]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class bt{constructor(s,i){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=s,this._visible=bt.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(s){return s.getContribution(bt.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(s,i){w.alert(s),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new r(this._editor,i,s),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new M.TimeoutTimer(()=>this.closeMessage(),3e3));let n;this._messageListeners.add(this._editor.onMouseMove(t=>{!t.target.position||(n?n.containsPosition(t.target.position)||this.closeMessage():n=new S.Range(i.lineNumber-3,1,t.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(r.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(C.localize(0,null),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new l.RawContextKey("messageVisible",!1),u=Me([pe(1,l.IContextKeyService)],u),e.MessageController=u;const a=v.EditorCommand.bindToContribution(u.get);v.registerEditorCommand(new a({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:d=>d.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class r{constructor(s,{lineNumber:i,column:n},t){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=s,this._editor.revealLinesInCenterIfOutsideViewport(i,i,0),this._position={lineNumber:i,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const h=document.createElement("div");h.classList.add("message"),h.textContent=t,this._domNode.appendChild(h);const _=document.createElement("div");_.classList.add("anchor","below"),this._domNode.appendChild(_),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(s){let i;const n=()=>{s.dispose(),clearTimeout(i),s.getDomNode().removeEventListener("animationend",n)};return i=setTimeout(n,110),s.getDomNode().addEventListener("animationend",n),s.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(s){this._domNode.classList.toggle("below",s===2)}}v.registerEditorContribution(u.ID,u),f.registerThemingParticipant((d,s)=>{const i=d.getColor(p.inputValidationInfoBorder);if(i){let o=d.type===c.ColorScheme.HIGH_CONTRAST?2:1;s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${o}px solid ${i}; }`)}const n=d.getColor(p.inputValidationInfoBackground);n&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const t=d.getColor(p.inputValidationInfoForeground);t&&s.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${t}; }`)})}),define(ee[626],te([0,1,11,151,2,147,9,608,588]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let f=class extends k.Disposable{constructor(c,u,a,r,d){super();this._editor=c,this.delegate=r,this._activeCodeActions=this._register(new k.MutableDisposable),this._codeActionWidget=new M.Lazy(()=>this._register(d.createInstance(v.CodeActionMenu,this._editor,{onSelectCodeAction:s=>Ie(this,void 0,void 0,function*(){this.delegate.applyCodeAction(s,!0)})}))),this._lightBulbWidget=new M.Lazy(()=>{const s=this._register(d.createInstance(l.LightBulbWidget,this._editor,u,a));return this._register(s.onClick(i=>this.showCodeActionList(i.trigger,i.actions,i,{includeDisabledActions:!1}))),s})}update(c){var u,a,r;return Ie(this,void 0,void 0,function*(){if(c.type!==1){(u=this._lightBulbWidget.rawValue)===null||u===void 0||u.hide();return}let d;try{d=yield c.actions}catch(s){C.onUnexpectedError(s);return}if(this._lightBulbWidget.getValue().update(d,c.trigger,c.position),c.trigger.type===2){if((a=c.trigger.filter)===null||a===void 0?void 0:a.include){const i=this.tryGetValidActionToApply(c.trigger,d);if(i){try{yield this.delegate.applyCodeAction(i,!1)}finally{d.dispose()}return}if(c.trigger.context){const n=this.getInvalidActionThatWouldHaveBeenApplied(c.trigger,d);if(n&&n.action.disabled){w.MessageController.get(this._editor).showMessage(n.action.disabled,c.trigger.context.position),d.dispose();return}}}const s=!!((r=c.trigger.filter)===null||r===void 0?void 0:r.include);if(c.trigger.context&&(!d.allActions.length||!s&&!d.validActions.length)){w.MessageController.get(this._editor).showMessage(c.trigger.context.notAvailableMessage,c.trigger.context.position),this._activeCodeActions.value=d,d.dispose();return}this._activeCodeActions.value=d,this._codeActionWidget.getValue().show(c.trigger,d,c.position,{includeDisabledActions:s})}else this._codeActionWidget.getValue().isVisible?d.dispose():this._activeCodeActions.value=d})}getInvalidActionThatWouldHaveBeenApplied(c,u){if(!!u.allActions.length&&(c.autoApply==="first"&&u.validActions.length===0||c.autoApply==="ifSingle"&&u.allActions.length===1))return u.allActions.find(({action:a})=>a.disabled)}tryGetValidActionToApply(c,u){if(!!u.validActions.length&&(c.autoApply==="first"&&u.validActions.length>0||c.autoApply==="ifSingle"&&u.validActions.length===1))return u.validActions[0]}showCodeActionList(c,u,a,r){return Ie(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(c,u,a,r)})}};f=Me([pe(4,S.IInstantiationService)],f),e.CodeActionUi=f}),define(ee[261],te([0,1,23,151,2,8,14,134,25,146,626,147,460,26,18,9,85,32,59,87,609,131]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function _(E){return r.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+w.escapeRegExpCharacters(E.value)+"\\b"))}const m={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:u.localize(0,null)},apply:{type:"string",description:u.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[u.localize(2,null),u.localize(3,null),u.localize(4,null)]},preferred:{type:"boolean",default:!1,description:u.localize(5,null)}}};let g=class Wt extends k.Disposable{constructor(W,R,F,V,K){super();this._instantiationService=K,this._editor=W,this._model=this._register(new o.CodeActionModel(this._editor,R,F,V)),this._register(this._model.onDidChangeState(G=>this.update(G))),this._ui=new M.Lazy(()=>this._register(new p.CodeActionUi(W,D.Id,B.Id,{applyCodeAction:(G,J)=>Ie(this,void 0,void 0,function*(){try{yield this._applyCodeAction(G)}finally{J&&this._trigger({type:1,filter:{}})}})},this._instantiationService)))}static get(W){return W.getContribution(Wt.ID)}update(W){this._ui.getValue().update(W)}showCodeActions(W,R,F){return this._ui.getValue().showCodeActionList(W,R,F,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(W,R,F){if(!!this._editor.hasModel()){c.MessageController.get(this._editor).closeMessage();const V=this._editor.getPosition();this._trigger({type:2,filter:R,autoApply:F,context:{notAvailableMessage:W,position:V}})}}_trigger(W){return this._model.trigger(W)}_applyCodeAction(W){return this._instantiationService.invokeFunction(b,W,this._editor)}};g.ID="editor.contrib.quickFixController",g=Me([pe(1,s.IMarkerService),pe(2,r.IContextKeyService),pe(3,n.IEditorProgressService),pe(4,d.IInstantiationService)],g),e.QuickFixController=g;function b(E,W,R){return Ie(this,void 0,void 0,function*(){const F=E.get(v.IBulkEditService),V=E.get(a.ICommandService),K=E.get(t.ITelemetryService),G=E.get(i.INotificationService);if(K.publicLog2("codeAction.applyCodeAction",{codeActionTitle:W.action.title,codeActionKind:W.action.kind,codeActionIsPreferred:!!W.action.isPreferred}),yield W.resolve(C.CancellationToken.None),W.action.edit&&(yield F.apply(v.ResourceEdit.convert(W.action.edit),{editor:R,label:W.action.title})),W.action.command)try{yield V.executeCommand(W.action.command.id,...W.action.command.arguments||[])}catch(J){const se=y(J);G.error(typeof se=="string"?se:u.localize(6,null))}})}e.applyCodeAction=b;function y(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}function L(E,W,R,F){if(E.hasModel()){const V=g.get(E);V&&V.manualTriggerAtCurrentPosition(W,R,F)}}class D extends S.EditorAction{constructor(){super({id:D.Id,label:u.localize(7,null),alias:"Quick Fix...",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(W,R){return L(R,u.localize(8,null),void 0,void 0)}}e.QuickFixAction=D,D.Id="editor.action.quickFix";class N extends S.EditorCommand{constructor(){super({id:f.codeActionCommandId,precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:m}]}})}runEditorCommand(W,R,F){const V=h.CodeActionCommandArgs.fromUser(F,{kind:h.CodeActionKind.Empty,apply:"ifSingle"});return L(R,typeof(F==null?void 0:F.kind)=="string"?V.preferred?u.localize(9,null,F.kind):u.localize(10,null,F.kind):V.preferred?u.localize(11,null):u.localize(12,null),{include:V.kind,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.CodeActionCommand=N;class I extends S.EditorAction{constructor(){super({id:f.refactorCommandId,label:u.localize(13,null),alias:"Refactor...",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:r.ContextKeyExpr.and(l.EditorContextKeys.writable,_(h.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:m}]}})}run(W,R,F){const V=h.CodeActionCommandArgs.fromUser(F,{kind:h.CodeActionKind.Refactor,apply:"never"});return L(R,typeof(F==null?void 0:F.kind)=="string"?V.preferred?u.localize(14,null,F.kind):u.localize(15,null,F.kind):V.preferred?u.localize(16,null):u.localize(17,null),{include:h.CodeActionKind.Refactor.contains(V.kind)?V.kind:h.CodeActionKind.None,onlyIncludePreferredActions:V.preferred},V.apply)}}e.RefactorAction=I;class T extends S.EditorAction{constructor(){super({id:f.sourceActionCommandId,label:u.localize(18,null),alias:"Source Action...",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:r.ContextKeyExpr.and(l.EditorContextKeys.writable,_(h.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:m}]}})}run(W,R,F){const V=h.CodeActionCommandArgs.fromUser(F,{kind:h.CodeActionKind.Source,apply:"never"});return L(R,typeof(F==null?void 0:F.kind)=="string"?V.preferred?u.localize(19,null,F.kind):u.localize(20,null,F.kind):V.preferred?u.localize(21,null):u.localize(22,null),{include:h.CodeActionKind.Source.contains(V.kind)?V.kind:h.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:V.preferred},V.apply)}}e.SourceAction=T;class O extends S.EditorAction{constructor(){super({id:f.organizeImportsCommandId,label:u.localize(23,null),alias:"Organize Imports",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,_(h.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(W,R){return L(R,u.localize(24,null),{include:h.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class A extends S.EditorAction{constructor(){super({id:f.fixAllCommandId,label:u.localize(25,null),alias:"Fix All",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,_(h.CodeActionKind.SourceFixAll))})}run(W,R){return L(R,u.localize(26,null),{include:h.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=A;class B extends S.EditorAction{constructor(){super({id:B.Id,label:u.localize(27,null),alias:"Auto Fix...",precondition:r.ContextKeyExpr.and(l.EditorContextKeys.writable,_(h.CodeActionKind.QuickFix)),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(W,R){return L(R,u.localize(28,null),{include:h.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=B,B.Id="editor.action.autoFix"}),define(ee[627],te([0,1,14,261]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),C.registerEditorContribution(M.QuickFixController.ID,M.QuickFixController),C.registerEditorAction(M.QuickFixAction),C.registerEditorAction(M.RefactorAction),C.registerEditorAction(M.SourceAction),C.registerEditorAction(M.OrganizeImportsAction),C.registerEditorAction(M.AutoFixAction),C.registerEditorAction(M.FixAllAction),C.registerEditorCommand(new M.CodeActionCommand)}),define(ee[628],te([0,1,497,11,18,59,14,25,597,17,13,47,3,147,70,32,134,24,28,23,2,15,77,9,33,95,138,20]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class D{constructor(B,E){this.model=B,this.position=E,this._providerRenameIdx=0,this._providers=f.RenameProviderRegistry.ordered(B)}hasProvider(){return this._providers.length>0}resolveRenameLocation(B){return Ie(this,void 0,void 0,function*(){const E=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const R=this._providers[this._providerRenameIdx];if(!R.resolveRenameLocation)break;let F=yield R.resolveRenameLocation(this.model,this.position,B);if(!!F){if(F.rejectReason){E.push(F.rejectReason);continue}return F}}const W=this.model.getWordAtPosition(this.position);return W?{range:new u.Range(this.position.lineNumber,W.startColumn,this.position.lineNumber,W.endColumn),text:W.word,rejectReason:E.length>0?E.join(`
`):void 0}:{range:u.Range.fromPositions(this.position),text:"",rejectReason:E.length>0?E.join(`
`):void 0}})}provideRenameEdits(B,E){return Ie(this,void 0,void 0,function*(){return this._provideRenameEdits(B,this._providerRenameIdx,[],E)})}_provideRenameEdits(B,E,W,R){return Ie(this,void 0,void 0,function*(){const F=this._providers[E];if(!F)return{edits:[],rejectReason:W.join(`
`)};const V=yield F.provideRenameEdits(this.model,this.position,B,R);if(V){if(V.rejectReason)return this._provideRenameEdits(B,E+1,W.concat(V.rejectReason),R)}else return this._provideRenameEdits(B,E+1,W.concat(C.localize(0,null)),R);return V})}}function N(A,B,E){return Ie(this,void 0,void 0,function*(){const W=new D(A,B),R=yield W.resolveRenameLocation(t.CancellationToken.None);return(R==null?void 0:R.rejectReason)?{edits:[],rejectReason:R.rejectReason}:W.provideRenameEdits(E,t.CancellationToken.None)})}e.rename=N;let I=class Bt{constructor(B,E,W,R,F,V,K){this.editor=B,this._instaService=E,this._notificationService=W,this._bulkEditService=R,this._progressService=F,this._logService=V,this._configService=K,this._dispoableStore=new o.DisposableStore,this._cts=new t.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new h.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(l.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(B){return B.getContribution(Bt.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return Ie(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!!this.editor.hasModel()){const B=this.editor.getPosition(),E=new D(this.editor.getModel(),B);if(!!E.hasProvider()){this._cts=new r.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const se=E.resolveRenameLocation(this._cts.token);this._progressService.showWhile(se,250),W=yield se}catch(se){a.MessageController.get(this.editor).showMessage(se||C.localize(1,null),B);return}if(!!W){if(W.rejectReason){a.MessageController.get(this.editor).showMessage(W.rejectReason,B);return}if(!this._cts.token.isCancellationRequested){this._cts.dispose(),this._cts=new r.EditorStateCancellationTokenSource(this.editor,4|1,W.range);let R=this.editor.getSelection(),F=0,V=W.text.length;!u.Range.isEmpty(R)&&!u.Range.spansMultipleLines(R)&&u.Range.containsRange(W.range,R)&&(F=Math.max(0,R.startColumn-W.range.startColumn),V=Math.min(W.range.endColumn,R.endColumn)-W.range.startColumn);const K=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),G=yield this._renameInputField.value.getInput(W.range,W.text,F,V,K,this._cts.token);if(typeof G=="boolean"){G&&this.editor.focus();return}this.editor.focus();const J=h.raceCancellation(E.provideRenameEdits(G.newName,this._cts.token),this._cts.token).then(se=>Ie(this,void 0,void 0,function*(){if(!(!se||!this.editor.hasModel())){if(se.rejectReason){this._notificationService.info(se.rejectReason);return}this._bulkEditService.apply(s.ResourceEdit.convert(se),{editor:this.editor,showPreview:G.wantsPreview,label:C.localize(2,null,W==null?void 0:W.text),quotableLabel:C.localize(3,null,W==null?void 0:W.text)}).then(ie=>{ie.ariaSummary&&c.alert(C.localize(4,null,W.text,G.newName,ie.ariaSummary))}).catch(ie=>{this._notificationService.error(C.localize(5,null)),this._logService.error(ie)})}}),se=>{this._notificationService.error(C.localize(6,null)),this._logService.error(se)});return this._progressService.showWhile(J,250),J}}}}})}acceptRenameInput(B){this._renameInputField.value.acceptInput(B)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};I.ID="editor.contrib.renameController",I=Me([pe(1,m.IInstantiationService),pe(2,d.INotificationService),pe(3,s.IBulkEditService),pe(4,w.IEditorProgressService),pe(5,_.ILogService),pe(6,y.ITextResourceConfigurationService)],I);class T extends S.EditorAction{constructor(){super({id:"editor.action.rename",label:C.localize(7,null),alias:"Rename Symbol",precondition:k.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(B,E){const W=B.get(n.ICodeEditorService),[R,F]=Array.isArray(E)&&E||[void 0,void 0];return i.URI.isUri(R)&&p.Position.isIPosition(F)?W.openCodeEditor({resource:R},W.getActiveCodeEditor()).then(V=>{!V||(V.setPosition(F),V.invokeWithinContext(K=>(this.reportTelemetry(K,V),this.run(K,V))))},M.onUnexpectedError):super.runCommand(B,E)}run(B,E){const W=I.get(E);return W?W.run():Promise.resolve()}}e.RenameAction=T,S.registerEditorContribution(I.ID,I),S.registerEditorAction(T);const O=S.EditorCommand.bindToContribution(I.get);S.registerEditorCommand(new O({id:"acceptRenameInput",precondition:l.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:v.EditorContextKeys.focus,primary:3}})),S.registerEditorCommand(new O({id:"acceptRenameInputWithPreview",precondition:k.ContextKeyExpr.and(l.CONTEXT_RENAME_INPUT_VISIBLE,k.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:A=>A.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:v.EditorContextKeys.focus,primary:1024+3}})),S.registerEditorCommand(new O({id:"cancelRenameInput",precondition:l.CONTEXT_RENAME_INPUT_VISIBLE,handler:A=>A.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),S.registerModelAndPositionCommand("_executeDocumentRenameProvider",function(A,B,...E){const[W]=E;return L.assertType(typeof W=="string"),N(A,B,W)}),g.Registry.as(b.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:C.localize(8,null),default:!0,type:"boolean"}}})}),define(ee[629],te([0,1,19,23,14,13,3,21,25,17,499,35,408,228,26,11]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class s{constructor(m,g){this.index=m,this.ranges=g}mov(m){let g=this.index+(m?1:-1);if(g<0||g>=this.ranges.length)return this;const b=new s(g,this.ranges);return b.ranges[g].equalsRange(this.ranges[this.index])?b.mov(m):b}}class i{constructor(m){this._editor=m,this._ignoreSelection=!1}static get(m){return m.getContribution(i.ID)}dispose(){var m;(m=this._selectionListener)===null||m===void 0||m.dispose()}run(m){return Ie(this,void 0,void 0,function*(){if(!!this._editor.hasModel()){const g=this._editor.getSelections(),b=this._editor.getModel();if(!!f.SelectionRangeRegistry.has(b)&&(this._state||(yield h(b,g.map(L=>L.getPosition()),this._editor.getOption(97),M.CancellationToken.None).then(L=>{var D;if(!(!C.isNonEmptyArray(L)||L.length!==g.length)&&!(!this._editor.hasModel()||!C.equals(this._editor.getSelections(),g,(N,I)=>N.equalsSelection(I)))){for(let N=0;N<L.length;N++)L[N]=L[N].filter(I=>I.containsPosition(g[N].getStartPosition())&&I.containsPosition(g[N].getEndPosition())),L[N].unshift(g[N]);this._state=L.map(N=>new s(0,N)),(D=this._selectionListener)===null||D===void 0||D.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||((N=this._selectionListener)===null||N===void 0||N.dispose(),this._state=void 0)})}})),!!this._state)){this._state=this._state.map(L=>L.mov(m));const y=this._state.map(L=>v.Selection.fromPositions(L.ranges[L.index].getStartPosition(),L.ranges[L.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(y)}finally{this._ignoreSelection=!1}}}})}}i.ID="editor.contrib.smartSelectController";class n extends k.EditorAction{constructor(m,g){super(g);this._forward=m}run(m,g){return Ie(this,void 0,void 0,function*(){let b=i.get(g);b&&(yield b.run(this._forward))})}}class t extends n{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(1,null),order:2}})}}r.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class o extends n{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"1_basic",title:p.localize(3,null),order:3}})}}k.registerEditorContribution(i.ID,i),k.registerEditorAction(t),k.registerEditorAction(o),f.SelectionRangeRegistry.register("*",new u.WordSelectionRangeProvider);function h(_,m,g,b){return Ie(this,void 0,void 0,function*(){const y=f.SelectionRangeRegistry.all(_);y.length===1&&y.unshift(new a.BracketSelectionRangeProvider);let L=[],D=[];for(const N of y)L.push(Promise.resolve(N.provideSelectionRanges(_,m,b)).then(I=>{if(C.isNonEmptyArray(I)&&I.length===m.length)for(let T=0;T<m.length;T++){D[T]||(D[T]=[]);for(const O of I[T])S.Range.isIRange(O.range)&&S.Range.containsPosition(O.range,m[T])&&D[T].push(S.Range.lift(O.range))}},d.onUnexpectedExternalError));return yield Promise.all(L),D.map(N=>{if(N.length===0)return[];N.sort((A,B)=>w.Position.isBefore(A.getStartPosition(),B.getStartPosition())?1:w.Position.isBefore(B.getStartPosition(),A.getStartPosition())||w.Position.isBefore(A.getEndPosition(),B.getEndPosition())?-1:w.Position.isBefore(B.getEndPosition(),A.getEndPosition())?1:0);let I=[],T;for(const A of N)(!T||S.Range.containsRange(A,T)&&!S.Range.equalsRange(A,T))&&(I.push(A),T=A);if(!g.selectLeadingAndTrailingWhitespace)return I;let O=[I[0]];for(let A=1;A<I.length;A++){const B=I[A-1],E=I[A];if(E.startLineNumber!==B.startLineNumber||E.endLineNumber!==B.endLineNumber){const W=new S.Range(B.startLineNumber,_.getLineFirstNonWhitespaceColumn(B.startLineNumber),B.endLineNumber,_.getLineLastNonWhitespaceColumn(B.endLineNumber));W.containsRange(B)&&!W.equalsRange(B)&&E.containsRange(W)&&!E.equalsRange(W)&&O.push(W);const R=new S.Range(B.startLineNumber,1,B.endLineNumber,_.getLineMaxColumn(B.endLineNumber));R.containsRange(B)&&!R.equalsRange(W)&&E.containsRange(R)&&!E.equalsRange(R)&&O.push(R)}O.push(E)}return O})})}e.provideSelectionRanges=h,k.registerModelCommand("_executeSelectionRangeProvider",function(_,...m){const[g]=m;return h(_,g,{selectLeadingAndTrailingWhitespace:!0},M.CancellationToken.None)})}),define(ee[116],te([0,1,11,17,13,18,23,3,66,2,35,132,81,26,20,24,67]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:new w.RawContextKey("suggestWidgetVisible",!1),DetailsVisible:new w.RawContextKey("suggestWidgetDetailsVisible",!1),MultipleSuggestions:new w.RawContextKey("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new w.RawContextKey("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new w.RawContextKey("acceptSuggestionOnEnter",!0),HasInsertAndReplaceRange:new w.RawContextKey("suggestionHasInsertAndReplaceRange",!1),InsertMode:new w.RawContextKey("suggestionInsertMode",void 0),CanResolve:new w.RawContextKey("suggestionCanResolve",!1)},e.suggestWidgetStatusbarMenu=new p.MenuId("suggestWidgetStatusBar");class i{constructor(T,O,A,B){this.position=T,this.completion=O,this.container=A,this.provider=B,this.isInvalid=!1,this.score=l.FuzzyScore.Default,this.distance=0,this.textLabel=typeof O.label=="string"?O.label:O.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=O.sortText&&O.sortText.toLowerCase(),this.filterTextLow=O.filterText&&O.filterText.toLowerCase(),v.Range.isIRange(O.range)?(this.editStart=new k.Position(O.range.startLineNumber,O.range.startColumn),this.editInsertEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.editReplaceEnd=new k.Position(O.range.endLineNumber,O.range.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(O.range)||O.range.startLineNumber!==T.lineNumber):(this.editStart=new k.Position(O.range.insert.startLineNumber,O.range.insert.startColumn),this.editInsertEnd=new k.Position(O.range.insert.endLineNumber,O.range.insert.endColumn),this.editReplaceEnd=new k.Position(O.range.replace.endLineNumber,O.range.replace.endColumn),this.isInvalid=this.isInvalid||v.Range.spansMultipleLines(O.range.insert)||v.Range.spansMultipleLines(O.range.replace)||O.range.insert.startLineNumber!==T.lineNumber||O.range.replace.startLineNumber!==T.lineNumber||O.range.insert.startColumn!==O.range.replace.startColumn),typeof B.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(T){return Ie(this,void 0,void 0,function*(){if(!this._resolveCache){const O=T.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,T)).then(A=>{Object.assign(this.completion,A),this._isResolved=!0,O.dispose()},A=>{C.isPromiseCanceledError(A)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=i;class n{constructor(T=2,O=new Set,A=new Set){this.snippetSortOrder=T,this.kindFilter=O,this.providerFilter=A}}e.CompletionOptions=n,n.default=new n;let t;function o(){return t}e.getSnippetSuggestSupport=o;class h{constructor(T,O,A,B){this.items=T,this.needsClipboard=O,this.durations=A,this.disposable=B}}e.CompletionItemModel=h;function _(I,T,O=n.default,A={triggerKind:0},B=S.CancellationToken.None){return Ie(this,void 0,void 0,function*(){const E=new u.StopWatch(!0);T=T.clone();const W=I.getWordAtPosition(T),R=W?new v.Range(T.lineNumber,W.startColumn,T.lineNumber,W.endColumn):v.Range.fromPositions(T),F={replace:R,insert:R.setEndPosition(T.lineNumber,T.column)},V=[],K=new f.DisposableStore,G=[];let J=!1;const se=(ae,X,U)=>{var P,x;if(!!X){for(let H of X.suggestions)O.kindFilter.has(H.kind)||(H.range||(H.range=F),H.sortText||(H.sortText=typeof H.label=="string"?H.label:H.label.name),!J&&H.insertTextRules&&H.insertTextRules&4&&(J=c.SnippetParser.guessNeedsClipboard(H.insertText)),V.push(new i(T,H,X,ae)));f.isDisposable(X)&&K.add(X),G.push({providerName:(P=ae._debugDisplayName)!==null&&P!==void 0?P:"unkown_provider",elapsedProvider:(x=X.duration)!==null&&x!==void 0?x:-1,elapsedOverall:U.elapsed()})}},ie=(()=>Ie(this,void 0,void 0,function*(){if(!(!t||O.kindFilter.has(27))&&!(O.providerFilter.size>0&&!O.providerFilter.has(t))){const ae=new u.StopWatch(!0),X=yield t.provideCompletionItems(I,T,A,B);se(t,X,ae)}}))();for(let ae of M.CompletionProviderRegistry.orderedGroups(I)){let X=V.length;if(yield Promise.all(ae.map(U=>Ie(this,void 0,void 0,function*(){if(!(O.providerFilter.size>0&&!O.providerFilter.has(U)))try{const P=new u.StopWatch(!0),x=yield U.provideCompletionItems(I,T,A,B);se(U,x,P)}catch(P){C.onUnexpectedExternalError(P)}}))),X!==V.length||B.isCancellationRequested)break}return yield ie,B.isCancellationRequested?(K.dispose(),Promise.reject(C.canceled())):new h(V.sort(L(O.snippetSortOrder)),J,{entries:G,elapsed:E.elapsed()},K)})}e.provideSuggestionItems=_;function m(I,T){if(I.sortTextLow&&T.sortTextLow){if(I.sortTextLow<T.sortTextLow)return-1;if(I.sortTextLow>T.sortTextLow)return 1}return I.completion.label<T.completion.label?-1:I.completion.label>T.completion.label?1:I.completion.kind-T.completion.kind}function g(I,T){if(I.completion.kind!==T.completion.kind){if(I.completion.kind===27)return-1;if(T.completion.kind===27)return 1}return m(I,T)}function b(I,T){if(I.completion.kind!==T.completion.kind){if(I.completion.kind===27)return 1;if(T.completion.kind===27)return-1}return m(I,T)}const y=new Map;y.set(0,g),y.set(2,b),y.set(1,m);function L(I){return y.get(I)}e.getSuggestionComparator=L,a.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(I,...T)=>Ie(void 0,void 0,void 0,function*(){const[O,A,B,E]=T;r.assertType(d.URI.isUri(O)),r.assertType(k.Position.isIPosition(A)),r.assertType(typeof B=="string"||!B),r.assertType(typeof E=="number"||!E);const W=yield I.get(s.ITextModelService).createModelReference(O);try{const R={incomplete:!1,suggestions:[]},F=[],V=yield _(W.object.textEditorModel,k.Position.lift(A),void 0,{triggerCharacter:B,triggerKind:B?1:0});for(const K of V.items)F.length<(E!=null?E:0)&&F.push(K.resolve(S.CancellationToken.None)),R.incomplete=R.incomplete||K.container.incomplete,R.suggestions.push(K.completion);try{return yield Promise.all(F),R}finally{setTimeout(()=>V.disposable.dispose(),100)}}finally{W.dispose()}}));const D=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let T={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,T}};M.CompletionProviderRegistry.register("*",D);function N(I,T){setTimeout(()=>{D.onlyOnceSuggestions.push(...T),I.getContribution("editor.contrib.suggestController").triggerSuggest(new Set().add(D))},0)}e.showSimpleSuggestions=N}),define(ee[262],te([0,1,507,47,14,184]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends k.EditorAction{constructor(){super({id:S.ID,label:C.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(l,f){const c=!w.TabFocus.getTabFocusMode();w.TabFocus.setTabFocusMode(c),c?M.alert(C.localize(1,null)):M.alert(C.localize(2,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",k.registerEditorAction(S)}),define(ee[630],te([0,1,508,14,81]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends M.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:C.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(v,l){if(!!l.hasModel()){const f=l.getModel();f.resetTokenization();const p=new k.StopWatch(!0);f.forceTokenization(f.getLineCount()),p.stop(),console.log(`tokenization took ${p.elapsed()}`)}}}M.registerEditorAction(w)}),define(ee[631],te([0,1,509,2,14,28,182]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const v="ignoreUnusualLineTerminators";function l(c,u,a){c.setModelProperty(u.uri,v,a)}function f(c,u){return c.getModelProperty(u.uri,v)}let p=class extends M.Disposable{constructor(u,a,r){super();this._editor=u,this._dialogService=a,this._codeEditorService=r,this._config=this._editor.getOption(108),this._register(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(108)&&(this._config=this._editor.getOption(108),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(d=>{d.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Ie(this,void 0,void 0,function*(){if(this._config!=="off"&&!!this._editor.hasModel()){const u=this._editor.getModel();if(!!u.mightContainUnusualLineTerminators()&&f(this._codeEditorService,u)!==!0&&!this._editor.getOption(75)){if(this._config==="auto"){u.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:C.localize(0,null),message:C.localize(1,null),detail:C.localize(2,null),primaryButton:C.localize(3,null),secondaryButton:C.localize(4,null)})).confirmed){l(this._codeEditorService,u,!0);return}u.removeUnusualLineTerminators(this._editor.getSelections())}}})}};p.ID="editor.contrib.unusualLineTerminatorsDetector",p=Me([pe(1,S.IDialogService),pe(2,w.ICodeEditorService)],p),k.registerEditorContribution(p.ID,p)}),define(ee[632],te([0,1,510,19,15,23,11,2,14,3,25,53,31,17,18,22,12,47]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const n=d.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},C.localize(0,null),!0),t=d.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},C.localize(1,null),!0),o=d.registerColor("editor.wordHighlightBorder",{light:null,dark:null,hc:d.activeContrastBorder},C.localize(2,null)),h=d.registerColor("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:d.activeContrastBorder},C.localize(3,null)),_=d.registerColor("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},C.localize(4,null),!0),m=d.registerColor("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},C.localize(5,null),!0),g=new r.RawContextKey("hasWordHighlights",!1);function b(W,R,F){const V=a.DocumentHighlightProviderRegistry.ordered(W);return k.first(V.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(W,R,F)).then(void 0,S.onUnexpectedExternalError)),M.isNonEmptyArray)}e.getOccurrencesAtPosition=b;class y{constructor(R,F,V){this._wordRange=this._getCurrentWordRange(R,F),this.result=k.createCancelablePromise(K=>this._compute(R,F,V,K))}_getCurrentWordRange(R,F){const V=R.getWordAtPosition(F.getPosition());return V?new f.Range(F.startLineNumber,V.startColumn,F.startLineNumber,V.endColumn):null}isValid(R,F,V){const K=F.startLineNumber,G=F.startColumn,J=F.endColumn,se=this._getCurrentWordRange(R,F);let ie=Boolean(this._wordRange&&this._wordRange.equalsRange(se));for(let ae=0,X=V.length;!ie&&ae<X;ae++){let U=R.getDecorationRange(V[ae]);U&&U.startLineNumber===K&&U.startColumn<=G&&U.endColumn>=J&&(ie=!0)}return ie}cancel(){this.result.cancel()}}class L extends y{_compute(R,F,V,K){return b(R,F.getPosition(),K).then(G=>G||[])}}class D extends y{constructor(R,F,V){super(R,F,V);this._selectionIsEmpty=F.isEmpty()}_compute(R,F,V,K){return k.timeout(250,K).then(()=>{if(!F.isEmpty())return[];const G=R.getWordAtPosition(F.getPosition());return!G||G.word.length>1e3?[]:R.findMatches(G.word,!0,!1,!0,V,!1).map(se=>({range:se.range,kind:a.DocumentHighlightKind.Text}))})}isValid(R,F,V){const K=F.isEmpty();return this._selectionIsEmpty!==K?!1:super.isValid(R,F,V)}}function N(W,R,F){return a.DocumentHighlightProviderRegistry.has(W)?new L(W,R,F):new D(W,R,F)}l.registerModelAndPositionCommand("_executeDocumentHighlights",(W,R)=>b(W,R,w.CancellationToken.None));class I{constructor(R,F){this.toUnhook=new v.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=R,this._hasWordHighlights=g.bindTo(F),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(66),this.model=this.editor.getModel(),this.toUnhook.add(R.onDidChangeCursorPosition(V=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(V)})),this.toUnhook.add(R.onDidChangeModelContent(V=>{this._stopAll()})),this.toUnhook.add(R.onDidChangeConfiguration(V=>{let K=this.editor.getOption(66);this.occurrencesHighlight!==K&&(this.occurrencesHighlight=K,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return M.coalesce(this._decorationIds.map(R=>this.model.getDecorationRange(R)).sort(f.Range.compareRangesUsingStarts))}moveNext(){let R=this._getSortedHighlights(),V=(R.findIndex(G=>G.containsPosition(this.editor.getPosition()))+1)%R.length,K=R[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const G=this._getWord();if(G){const J=this.editor.getModel().getLineContent(K.startLineNumber);i.alert(`${J}, ${V+1} of ${R.length} for '${G.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let R=this._getSortedHighlights(),V=(R.findIndex(G=>G.containsPosition(this.editor.getPosition()))-1+R.length)%R.length,K=R[V];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(K.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(K);const G=this._getWord();if(G){const J=this.editor.getModel().getLineContent(K.startLineNumber);i.alert(`${J}, ${V+1} of ${R.length} for '${G.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(R){if(!this.occurrencesHighlight){this._stopAll();return}if(R.reason!==3){this._stopAll();return}this._run()}_getWord(){let R=this.editor.getSelection(),F=R.startLineNumber,V=R.startColumn;return this.model.getWordAtPosition({lineNumber:F,column:V})}_run(){let R=this.editor.getSelection();if(R.startLineNumber!==R.endLineNumber){this._stopAll();return}let F=R.startColumn,V=R.endColumn;const K=this._getWord();if(!K||K.startColumn>F||K.endColumn<V){this._stopAll();return}const G=this.workerRequest&&this.workerRequest.isValid(this.model,R,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),G)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let J=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=N(this.model,this.editor.getSelection(),this.editor.getOption(110)),this.workerRequest.result.then(se=>{J===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=se||[],this._beginRenderDecorations())},S.onUnexpectedError)}}_beginRenderDecorations(){let R=new Date().getTime(),F=this.lastCursorPositionChangeTime+250;R>=F?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},F-R)}renderDecorations(){this.renderDecorationsTimer=-1;let R=[];for(const F of this.workerRequestValue)F.range&&R.push({range:F.range,options:I._getDecorationOptions(F.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,R),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(R){return R===a.DocumentHighlightKind.Write?this._WRITE_OPTIONS:R===a.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}I._WRITE_OPTIONS=u.ModelDecorationOptions.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:s.themeColorFromId(m),position:c.OverviewRulerLane.Center}}),I._TEXT_OPTIONS=u.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:s.themeColorFromId(d.overviewRulerSelectionHighlightForeground),position:c.OverviewRulerLane.Center}}),I._REGULAR_OPTIONS=u.ModelDecorationOptions.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:s.themeColorFromId(_),position:c.OverviewRulerLane.Center}});let T=class xt extends v.Disposable{constructor(R,F){super();this.wordHighlighter=null;const V=()=>{R.hasModel()&&(this.wordHighlighter=new I(R,F))};this._register(R.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),V()})),V()}static get(R){return R.getContribution(xt.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(R){this.wordHighlighter&&R&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};T.ID="editor.contrib.wordHighlighter",T=Me([pe(1,r.IContextKeyService)],T);class O extends l.EditorAction{constructor(R,F){super(F);this._isNext=R}run(R,F){const V=T.get(F);!V||(this._isNext?V.moveNext():V.moveBack())}}class A extends O{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:C.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:g,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class B extends O{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:C.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:g,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class E extends l.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:C.localize(8,null),alias:"Trigger Symbol Highlight",precondition:g.toNegated(),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(R,F,V){const K=T.get(F);!K||K.restoreViewState(!0)}}l.registerEditorContribution(T.ID,T),l.registerEditorAction(A),l.registerEditorAction(B),l.registerEditorAction(E),s.registerThemingParticipant((W,R)=>{const F=W.getColor(d.editorSelectionHighlight);F&&(R.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${F}; }`),R.addRule(`.monaco-editor .selectionHighlight { background-color: ${F.transparent(.5)}; }`));const V=W.getColor(n);V&&R.addRule(`.monaco-editor .wordHighlight { background-color: ${V}; }`);const K=W.getColor(t);K&&R.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${K}; }`);const G=W.getColor(d.editorSelectionHighlightBorder);G&&R.addRule(`.monaco-editor .selectionHighlight { border: 1px ${W.type==="hc"?"dotted":"solid"} ${G}; box-sizing: border-box; }`);const J=W.getColor(o);J&&R.addRule(`.monaco-editor .wordHighlight { border: 1px ${W.type==="hc"?"dashed":"solid"} ${J}; box-sizing: border-box; }`);const se=W.getColor(h);se&&R.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${W.type==="hc"?"dashed":"solid"} ${se}; box-sizing: border-box; }`)})}),define(ee[263],te([0,1,511,14,92,42,137,105,13,3,21,25,65,18,38,41]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class s extends M.EditorCommand{constructor(X){super(X);this._inSelectionMode=X.inSelectionMode,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,U,P){if(!!U.hasModel()){const x=v.getMapForWordSeparators(U.getOption(110)),H=U.getModel(),q=U.getSelections().map(Q=>{const ce=new l.Position(Q.positionLineNumber,Q.positionColumn),ue=this._move(x,H,ce,this._wordNavigationType);return this._moveTo(Q,ue,this._inSelectionMode)});if(H.pushStackElement(),U._getViewModel().setCursorStates("moveWordCommand",3,q.map(Q=>w.CursorState.fromModelSelection(Q))),q.length===1){const Q=new l.Position(q[0].positionLineNumber,q[0].positionColumn);U.revealPosition(Q,0)}}}_moveTo(X,U,P){return P?new p.Selection(X.selectionStartLineNumber,X.selectionStartColumn,U.lineNumber,U.column):new p.Selection(U.lineNumber,U.column,U.lineNumber,U.column)}}e.MoveWordCommand=s;class i extends s{_move(X,U,P,x){return S.WordOperations.moveWordLeft(X,U,P,x)}}e.WordLeftCommand=i;class n extends s{_move(X,U,P,x){return S.WordOperations.moveWordRight(X,U,P,x)}}e.WordRightCommand=n;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=t;class o extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=o;class h extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=h;class _ extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=_;class m extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=m;class g extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=g;class b extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,u.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|15},weight:100+1}})}_move(X,U,P,x){return super._move(v.getMapForWordSeparators(r.EditorOptions.wordSeparators.defaultValue),U,P,x)}}e.CursorWordAccessibilityLeft=b;class y extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,u.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|1024|15},weight:100+1}})}_move(X,U,P,x){return super._move(v.getMapForWordSeparators(r.EditorOptions.wordSeparators.defaultValue),U,P,x)}}e.CursorWordAccessibilityLeftSelect=y;class L extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=L;class D extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=D;class N extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=N;class I extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=I;class T extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=T;class O extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class A extends n{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,u.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|17},weight:100+1}})}_move(X,U,P,x){return super._move(v.getMapForWordSeparators(r.EditorOptions.wordSeparators.defaultValue),U,P,x)}}e.CursorWordAccessibilityRight=A;class B extends n{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:a.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,u.CONTEXT_ACCESSIBILITY_MODE_ENABLED),win:{primary:2048|1024|17},weight:100+1}})}_move(X,U,P,x){return super._move(v.getMapForWordSeparators(r.EditorOptions.wordSeparators.defaultValue),U,P,x)}}e.CursorWordAccessibilityRightSelect=B;class E extends M.EditorCommand{constructor(X){super(X);this._whitespaceHeuristics=X.whitespaceHeuristics,this._wordNavigationType=X.wordNavigationType}runEditorCommand(X,U,P){if(!!U.hasModel()){const x=v.getMapForWordSeparators(U.getOption(110)),H=U.getModel(),z=U.getSelections(),q=U.getOption(5),Q=U.getOption(7),ce=d.LanguageConfigurationRegistry.getAutoClosingPairs(H.getLanguageIdentifier().id),ue=z.map(Y=>{const j=this._delete({wordSeparators:x,model:H,selection:Y,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingBrackets:q,autoClosingQuotes:Q,autoClosingPairs:ce},this._wordNavigationType);return new k.ReplaceCommand(j,"")});U.pushUndoStop(),U.executeCommands(this.id,ue),U.pushUndoStop()}}}e.DeleteWordCommand=E;class W extends E{_delete(X,U){let P=S.WordOperations.deleteWordLeft(X,U);return P||new f.Range(1,1,1,1)}}e.DeleteWordLeftCommand=W;class R extends E{_delete(X,U){let P=S.WordOperations.deleteWordRight(X,U);if(P)return P;const x=X.model.getLineCount(),H=X.model.getLineMaxColumn(x);return new f.Range(x,H,x,H)}}e.DeleteWordRightCommand=R;class F extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:c.EditorContextKeys.writable})}}e.DeleteWordStartLeft=F;class V extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:c.EditorContextKeys.writable})}}e.DeleteWordEndLeft=V;class K extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:c.EditorContextKeys.writable,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=K;class G extends R{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:c.EditorContextKeys.writable})}}e.DeleteWordStartRight=G;class J extends R{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:c.EditorContextKeys.writable})}}e.DeleteWordEndRight=J;class se extends R{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:c.EditorContextKeys.writable,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=se;class ie extends M.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:c.EditorContextKeys.writable,label:C.localize(0,null),alias:"Delete Word"})}run(X,U,P){if(!!U.hasModel()){const x=v.getMapForWordSeparators(U.getOption(110)),H=U.getModel(),q=U.getSelections().map(Q=>{const ce=S.WordOperations.deleteInsideWord(x,H,Q);return new k.ReplaceCommand(ce,"")});U.pushUndoStop(),U.executeCommands(this.id,q),U.pushUndoStop()}}}e.DeleteInsideWord=ie,M.registerEditorCommand(new t),M.registerEditorCommand(new o),M.registerEditorCommand(new h),M.registerEditorCommand(new _),M.registerEditorCommand(new m),M.registerEditorCommand(new g),M.registerEditorCommand(new L),M.registerEditorCommand(new D),M.registerEditorCommand(new N),M.registerEditorCommand(new I),M.registerEditorCommand(new T),M.registerEditorCommand(new O),M.registerEditorCommand(new b),M.registerEditorCommand(new y),M.registerEditorCommand(new A),M.registerEditorCommand(new B),M.registerEditorCommand(new F),M.registerEditorCommand(new V),M.registerEditorCommand(new K),M.registerEditorCommand(new G),M.registerEditorCommand(new J),M.registerEditorCommand(new se),M.registerEditorAction(ie)}),define(ee[633],te([0,1,14,137,3,25,263,26]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class l extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(i,n){let t=M.WordPartOperations.deleteWordPartLeft(i);return t||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=l;class f extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(i,n){let t=M.WordPartOperations.deleteWordPartRight(i);if(t)return t;const o=i.model.getLineCount(),h=i.model.getLineMaxColumn(o);return new k.Range(o,h,o,h)}}e.DeleteWordPartRight=f;class p extends S.MoveWordCommand{_move(i,n,t,o){return M.WordPartOperations.moveWordPartLeft(i,n,t)}}e.WordPartLeftCommand=p;class c extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=c,v.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class u extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=u,v.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends S.MoveWordCommand{_move(i,n,t,o){return M.WordPartOperations.moveWordPartRight(i,n,t)}}e.WordPartRightCommand=a;class r extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=r;class d extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,C.registerEditorCommand(new l),C.registerEditorCommand(new f),C.registerEditorCommand(new c),C.registerEditorCommand(new u),C.registerEditorCommand(new r),C.registerEditorCommand(new d)}),define(ee[634],te([0,1,7,30,156,47,52,2,16,8,24,14,25,262,18,9,37,58,22,12,64,350]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new r.RawContextKey("accessibilityHelpWidgetVisible",!1);let _=class Vt extends v.Disposable{constructor(D,N){super();this._editor=D,this._widget=this._register(N.createInstance(g,this._editor))}static get(D){return D.getContribution(Vt.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};_.ID="editor.contrib.accessibilityHelpController",_=Me([pe(1,d.IInstantiationService)],_);function m(L,D){return!L||L.length===0?o.AccessibilityHelpNLS.noSelection:L.length===1?D?f.format(o.AccessibilityHelpNLS.singleSelectionRange,L[0].positionLineNumber,L[0].positionColumn,D):f.format(o.AccessibilityHelpNLS.singleSelection,L[0].positionLineNumber,L[0].positionColumn):D?f.format(o.AccessibilityHelpNLS.multiSelectionRange,L.length,D):L.length>0?f.format(o.AccessibilityHelpNLS.multiSelection,L.length):""}let g=class ut extends S.Widget{constructor(D,N,I,T){super();this._contextKeyService=N,this._keybindingService=I,this._openerService=T,this._editor=D,this._isVisibleKey=h.bindTo(this._contextKeyService),this._domNode=M.createFastDomNode(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=M.createFastDomNode(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(C.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",O=>{if(!!this._isVisible&&(O.equals(2048|35)&&(w.alert(o.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),C.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),O.preventDefault(),O.stopPropagation()),O.equals(2048|38))){w.alert(o.AccessibilityHelpNLS.openingDocs);let A=this._editor.getRawOptions().accessibilityHelpUrl;typeof A=="undefined"&&(A="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(p.URI.parse(A)),O.preventDefault(),O.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ut.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(D,N,I){let T=this._keybindingService.lookupKeybinding(D);return T?f.format(N,T.getAriaLabel()):f.format(I,D)}_buildContent(){const D=this._editor.getOptions(),N=this._editor.getSelections();let I=0;if(N){const B=this._editor.getModel();B&&N.forEach(E=>{I+=B.getValueLengthInRange(E)})}let T=m(N,I);D.get(49)?D.get(75)?T+=o.AccessibilityHelpNLS.readonlyDiffEditor:T+=o.AccessibilityHelpNLS.editableDiffEditor:D.get(75)?T+=o.AccessibilityHelpNLS.readonlyEditor:T+=o.AccessibilityHelpNLS.editableEditor;const O=l.isMacintosh?o.AccessibilityHelpNLS.changeConfigToOnMac:o.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(D.get(2)){case 0:T+=`

 - `+O;break;case 2:T+=`

 - `+o.AccessibilityHelpNLS.auto_on;break;case 1:T+=`

 - `+o.AccessibilityHelpNLS.auto_off,T+=" "+O;break}D.get(123)?T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOnMsg,o.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):T+=`

 - `+this._descriptionForCommand(a.ToggleTabFocusModeAction.ID,o.AccessibilityHelpNLS.tabFocusModeOffMsg,o.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const A=l.isMacintosh?o.AccessibilityHelpNLS.openDocMac:o.AccessibilityHelpNLS.openDocWinLinux;T+=`

 - `+A,T+=`

`+o.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild(k.renderFormattedText(T)),this._contentDomNode.domNode.setAttribute("aria-label",T)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,C.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let D=this._editor.getLayoutInfo(),N=Math.max(5,Math.min(ut.WIDTH,D.width-40)),I=Math.max(5,Math.min(ut.HEIGHT,D.height-40));this._domNode.setWidth(N),this._domNode.setHeight(I);let T=Math.round((D.height-I)/2);this._domNode.setTop(T);let O=Math.round((D.width-N)/2);this._domNode.setLeft(O)}};g.ID="editor.contrib.accessibilityHelpWidget",g.WIDTH=500,g.HEIGHT=300,g=Me([pe(1,r.IContextKeyService),pe(2,s.IKeybindingService),pe(3,i.IOpenerService)],g);class b extends c.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:o.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(D,N){let I=_.get(N);I&&I.show()}}c.registerEditorContribution(_.ID,_),c.registerEditorAction(b);const y=c.EditorCommand.bindToContribution(_.get);c.registerEditorCommand(new y({id:"closeAccessibilityHelp",precondition:h,handler:L=>L.hide(),kbOpts:{weight:100+100,kbExpr:u.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),t.registerThemingParticipant((L,D)=>{const N=L.getColor(n.editorWidgetBackground);N&&D.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${N}; }`);const I=L.getColor(n.editorWidgetForeground);I&&D.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${I}; }`);const T=L.getColor(n.widgetShadow);T&&D.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${T}; }`);const O=L.getColor(n.contrastBorder);O&&D.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${O}; }`)})}),define(ee[635],te([0,1,34,7,2,14,351]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(f){super();this.editor=f,this.widget=null,C.isIPad&&(this._register(f.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const f=!this.editor.getOption(75);!this.widget&&f?this.widget=new v(this.editor):this.widget&&!f&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class v extends k.Disposable{constructor(f){super();this.editor=f,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(M.addDisposableListener(this._domNode,"touchstart",p=>{this.editor.focus()})),this._register(M.addDisposableListener(this._domNode,"focus",p=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return v.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}v.ID="editor.contrib.ShowKeyboardWidget",w.registerEditorContribution(S.ID,S)}),define(ee[636],te([0,1,7,29,2,14,17,76,57,113,22,12,64,97,352]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let r=class zt extends k.Disposable{constructor(o,h,_){super();this._editor=o,this._modeService=_,this._widget=null,this._register(this._editor.onDidChangeModel(m=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(m=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(m=>this.stop())),this._register(this._editor.onKeyUp(m=>m.keyCode===9&&this.stop()))}static get(o){return o.getContribution(zt.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new n(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};r.ID="editor.contrib.inspectTokens",r=Me([pe(1,f.IStandaloneThemeService),pe(2,l.IModeService)],r);class d extends w.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:u.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(o,h){let _=r.get(h);_&&_.launch()}}function s(t){let o="";for(let h=0,_=t.length;h<_;h++){let m=t.charCodeAt(h);switch(m){case 9:o+="\u2192";break;case 32:o+="\xB7";break;default:o+=String.fromCharCode(m)}}return o}function i(t){let o=S.TokenizationRegistry.get(t.language);return o||{getInitialState:()=>v.NULL_STATE,tokenize:(h,_,m,g)=>v.nullTokenize(t.language,h,m,g),tokenize2:(h,_,m,g)=>v.nullTokenize2(t.id,h,m,g)}}class n extends k.Disposable{constructor(o,h){super();this.allowEditorOverflow=!0,this._editor=o,this._modeService=h,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=i(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(_=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return n._ID}_compute(o){let h=this._getTokensAtLine(o.lineNumber),_=0;for(let L=h.tokens1.length-1;L>=0;L--){let D=h.tokens1[L];if(o.column-1>=D.offset){_=L;break}}let m=0;for(let L=h.tokens2.length>>>1;L>=0;L--)if(o.column-1>=h.tokens2[L<<1]){m=L;break}let g=this._model.getLineContent(o.lineNumber),b="";if(_<h.tokens1.length){let L=h.tokens1[_].offset,D=_+1<h.tokens1.length?h.tokens1[_+1].offset:g.length;b=g.substring(L,D)}C.reset(this._domNode,C.$("h2.tm-token",void 0,s(b),C.$("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),C.append(this._domNode,C.$("hr.tokens-inspect-separator",{style:"clear:both"}));const y=(m<<1)+1<h.tokens2.length?this._decodeMetadata(h.tokens2[(m<<1)+1]):null;C.append(this._domNode,C.$("table.tm-metadata-table",void 0,C.$("tbody",void 0,C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"language"),C.$("td.tm-metadata-value",void 0,`${y?y.languageIdentifier.language:"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"token type"),C.$("td.tm-metadata-value",void 0,`${y?this._tokenTypeToString(y.tokenType):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"font style"),C.$("td.tm-metadata-value",void 0,`${y?this._fontStyleToString(y.fontStyle):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"foreground"),C.$("td.tm-metadata-value",void 0,`${y?M.Color.Format.CSS.formatHex(y.foreground):"-?-"}`)),C.$("tr",void 0,C.$("td.tm-metadata-key",void 0,"background"),C.$("td.tm-metadata-value",void 0,`${y?M.Color.Format.CSS.formatHex(y.background):"-?-"}`))))),C.append(this._domNode,C.$("hr.tokens-inspect-separator")),_<h.tokens1.length&&C.append(this._domNode,C.$("span.tm-token-type",void 0,h.tokens1[_].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(o){let h=S.TokenizationRegistry.getColorMap(),_=S.TokenMetadata.getLanguageId(o),m=S.TokenMetadata.getTokenType(o),g=S.TokenMetadata.getFontStyle(o),b=S.TokenMetadata.getForeground(o),y=S.TokenMetadata.getBackground(o);return{languageIdentifier:this._modeService.getLanguageIdentifier(_),tokenType:m,fontStyle:g,foreground:h[b],background:h[y]}}_tokenTypeToString(o){switch(o){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(o){let h="";return o&1&&(h+="italic "),o&2&&(h+="bold "),o&4&&(h+="underline "),h.length===0&&(h="---"),h}_getTokensAtLine(o){let h=this._getStateBeforeLine(o),_=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,h,0),m=this._tokenizationSupport.tokenize2(this._model.getLineContent(o),!0,h,0);return{startState:h,tokens1:_.tokens,tokens2:m.tokens,endState:_.endState}}_getStateBeforeLine(o){let h=this._tokenizationSupport.getInitialState();for(let _=1;_<o;_++)h=this._tokenizationSupport.tokenize(this._model.getLineContent(_),!0,h,0).endState;return h}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}n._ID="editor.contrib.inspectTokensWidget",w.registerEditorContribution(r.ID,r),w.registerEditorAction(d),c.registerThemingParticipant((t,o)=>{const h=t.getColor(p.editorHoverBorder);if(h){let g=t.type===a.ColorScheme.HIGH_CONTRAST?2:1;o.addRule(`.monaco-editor .tokens-inspect-widget { border: ${g}px solid ${h}; }`),o.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${h}; }`)}const _=t.getColor(p.editorHoverBackground);_&&o.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${_}; }`);const m=t.getColor(p.editorHoverForeground);m&&o.addRule(`.monaco-editor .tokens-inspect-widget { color: ${m}; }`)})}),define(ee[637],te([0,1,33,96,64,28,571,20,9,37,26,87,32,14,25,78]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let s=class extends S.AbstractEditorCommandsQuickAccessProvider{constructor(t,o,h,_,m,g){super({showAlias:!1},t,h,_,m,g);this.codeEditorService=o}get activeTextEditorControl(){return v.withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Ie(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};s=Me([pe(0,l.IInstantiationService),pe(1,w.ICodeEditorService),pe(2,f.IKeybindingService),pe(3,p.ICommandService),pe(4,c.ITelemetryService),pe(5,u.INotificationService)],s),e.StandaloneCommandsQuickAccessProvider=s,C.Registry.as(M.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s,prefix:s.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class i extends a.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(d.IQuickInputService).quickAccess.show(s.PREFIX)}}e.GotoLineAction=i,a.registerEditorAction(i)}),define(ee[638],te([0,1,595,33,96,28,20,64,6,14,25,78]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let u=class extends C.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=l.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};u=Me([pe(0,w.ICodeEditorService)],u),e.StandaloneGotoLineQuickAccessProvider=u,M.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:u,prefix:u.PREFIX,helpEntries:[{description:v.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class a extends f.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:v.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(c.IQuickInputService).quickAccess.show(u.PREFIX)}}e.GotoLineAction=a,f.registerEditorAction(a)}),define(ee[639],te([0,1,596,33,96,28,20,64,6,14,25,78,123,257]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let u=class extends C.AbstractGotoSymbolQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=l.Event.None}get activeTextEditorControl(){return S.withNullAsUndefined(this.editorService.getFocusedCodeEditor())}};u=Me([pe(0,w.ICodeEditorService)],u),e.StandaloneGotoSymbolQuickAccessProvider=u,M.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:u,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:v.QuickOutlineNLS.quickOutlineActionLabel,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:v.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:C.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class a extends f.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:v.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:p.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(d){d.get(c.IQuickInputService).quickAccess.show(C.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=a,f.registerEditorAction(a)}),define(ee[640],te([0,1,14,113,64]),function($,e,C,M,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends C.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(v,l){const f=v.get(M.IStandaloneThemeService);this._originalThemeName?(f.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=f.getColorTheme().themeName,f.setTheme("hc-black"))}}C.registerEditorAction(w)}),define(ee[187],te([0,1,7,55,48,2,512,35,68,37,32,12,111,427,16,355]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function d(h,_,m,g){const b=h.getActions(_);return i(b,m,!1,g),s(b)}e.createAndFillInActionBarActions=d;function s(h){const _=new w.DisposableStore;for(const[,m]of h)for(const g of m)_.add(g);return _}function i(h,_,m,g=b=>b==="navigation"){for(let[b,y]of h)if(m&&(y=y.map(L=>L instanceof v.MenuItemAction&&!!L.alt?L.alt:L)),g(b))(Array.isArray(_)?_:_.primary).unshift(...y);else{const L=Array.isArray(_)?_:_.secondary;L.length>0&&L.push(new k.Separator),L.push(...y)}}let n=class extends u.ActionViewItem{constructor(_,m,g){super(void 0,_,{icon:!!(_.class||_.item.icon),label:!_.class&&!_.item.icon});this._action=_,this._keybindingService=m,this._notificationService=g,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=C.ModifierKeyEmitter.getInstance()}get _commandAction(){return this._wantsAltCommand&&this._action.alt||this._action}onClick(_){_.preventDefault(),_.stopPropagation(),this.actionRunner.run(this._commandAction,this._context).catch(m=>this._notificationService.error(m))}render(_){super.render(_),_.classList.add("menu-entry"),this._updateItemClass(this._action.item);let m=!1,g=this._altKey.keyStatus.altKey||(r.isWindows||r.isLinux)&&this._altKey.keyStatus.shiftKey;const b=()=>{const y=m&&g;y!==this._wantsAltCommand&&(this._wantsAltCommand=y,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._action.alt&&this._register(this._altKey.event(y=>{g=y.altKey||(r.isWindows||r.isLinux)&&y.shiftKey,b()})),this._register(M.domEvent(_,"mouseleave")(y=>{m=!1,b()})),this._register(M.domEvent(_,"mouseenter")(y=>{m=!0,b()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const _=this._keybindingService.lookupKeybinding(this._commandAction.id),m=_&&_.getLabel(),g=this._commandAction.tooltip||this._commandAction.label;this.label.title=m?S.localize(0,null,g,m):g}}updateClass(){this.options.icon&&(this._commandAction!==this._action?this._action.alt&&this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))}_updateItemClass(_){var m;this._itemClassDispose.value=void 0;const{element:g,label:b}=this;if(!(!g||!b)){const y=this._commandAction.checked&&((m=_.toggled)===null||m===void 0?void 0:m.icon)?_.toggled.icon:_.icon;if(!!y)if(c.ThemeIcon.isThemeIcon(y)){const L=c.ThemeIcon.asClassName(y);b.classList.add(...L.split(" ")),this._itemClassDispose.value=w.toDisposable(()=>{b.classList.remove(...L.split(" "))})}else y.light&&b.style.setProperty("--menu-entry-icon-light",C.asCSSUrl(y.light)),y.dark&&b.style.setProperty("--menu-entry-icon-dark",C.asCSSUrl(y.dark)),b.classList.add("icon"),this._itemClassDispose.value=w.toDisposable(()=>{b.classList.remove("icon"),b.style.removeProperty("--menu-entry-icon-light"),b.style.removeProperty("--menu-entry-icon-dark")})}}};n=Me([pe(1,f.IKeybindingService),pe(2,p.INotificationService)],n),e.MenuEntryActionViewItem=n;let t=class extends a.DropdownMenuActionViewItem{constructor(_,m){super(_,{getActions:()=>_.actions},m,{menuAsChild:!0,classNames:c.ThemeIcon.isThemeIcon(_.item.icon)?c.ThemeIcon.asClassName(_.item.icon):void 0})}render(_){if(super.render(_),this.element){_.classList.add("menu-entry");const{icon:m}=this._action.item;m&&!c.ThemeIcon.isThemeIcon(m)&&(this.element.classList.add("icon"),m.light&&this.element.style.setProperty("--menu-entry-icon-light",C.asCSSUrl(m.light)),m.dark&&this.element.style.setProperty("--menu-entry-icon-dark",C.asCSSUrl(m.dark)))}}};t=Me([pe(1,l.IContextMenuService)],t),e.SubmenuEntryActionViewItem=t;function o(h,_){return _ instanceof v.MenuItemAction?h.createInstance(n,_):_ instanceof v.SubmenuItemAction?h.createInstance(t,_):void 0}e.createActionViewItem=o}),define(ee[117],te([0,1,7,83,48,29,6,40,28,145,536,494,18,9,74,14,22,27,187,345]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=a.createDecorator("IPeekViewService"),r.registerSingleton(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(g,b){const y=this._widgets.get(g);y&&(y.listener.dispose(),y.widget.dispose());const L=()=>{const D=this._widgets.get(g);D&&D.widget===b&&(D.listener.dispose(),this._widgets.delete(g))};this._widgets.set(g,{widget:b,listener:b.onDidClose(L)})}});var t;(function(g){g.inPeekEditor=new u.RawContextKey("inReferenceSearchEditor",!0),g.notInPeekEditor=g.inPeekEditor.toNegated()})(t=e.PeekContext||(e.PeekContext={}));let o=class{constructor(b,y){b instanceof f.EmbeddedCodeEditorWidget&&t.inPeekEditor.bindTo(y)}dispose(){}};o.ID="editor.contrib.referenceController",o=Me([pe(1,u.IContextKeyService)],o),d.registerEditorContribution(o.ID,o);function h(g){let b=g.get(l.ICodeEditorService).getFocusedCodeEditor();return b instanceof f.EmbeddedCodeEditorWidget?b.getParentEditor():b}e.getOuterEditor=h;const _={headerBackgroundColor:w.Color.white,primaryHeadingColor:w.Color.fromHex("#333333"),secondaryHeadingColor:w.Color.fromHex("#6c6c6cb3")};let m=class extends p.ZoneWidget{constructor(b,y,L){super(b,y);this.instantiationService=L,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,_,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(b){let y=this.options;b.headerBackgroundColor&&(y.headerBackgroundColor=b.headerBackgroundColor),b.primaryHeadingColor&&(y.primaryHeadingColor=b.primaryHeadingColor),b.secondaryHeadingColor&&(y.secondaryHeadingColor=b.secondaryHeadingColor),super.style(b)}_applyStyles(){super._applyStyles();let b=this.options;this._headElement&&b.headerBackgroundColor&&(this._headElement.style.backgroundColor=b.headerBackgroundColor.toString()),this._primaryHeading&&b.primaryHeadingColor&&(this._primaryHeading.style.color=b.primaryHeadingColor.toString()),this._secondaryHeading&&b.secondaryHeadingColor&&(this._secondaryHeading.style.color=b.secondaryHeadingColor.toString()),this._bodyElement&&b.frameColor&&(this._bodyElement.style.borderColor=b.frameColor.toString())}_fillContainer(b){this.setCssClass("peekview-widget"),this._headElement=C.$(".head"),this._bodyElement=C.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),b.appendChild(this._headElement),b.appendChild(this._bodyElement)}_fillHead(b,y){const L=C.$(".peekview-title");C.append(this._headElement,L),C.addStandardDisposableListener(L,"click",I=>this._onTitleClick(I)),this._fillTitleIcon(L),this._primaryHeading=C.$("span.filename"),this._secondaryHeading=C.$("span.dirname"),this._metaHeading=C.$("span.meta"),C.append(L,this._primaryHeading,this._secondaryHeading,this._metaHeading);const D=C.$(".peekview-actions");C.append(this._headElement,D);const N=this._getActionBarOptions();this._actionbarWidget=new M.ActionBar(D,N),this._disposables.add(this._actionbarWidget),y||this._actionbarWidget.push(new k.Action("peekview.close",c.localize(0,null),i.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(b){}_getActionBarOptions(){return{actionViewItemProvider:n.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(b){}setTitle(b,y){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=b,this._primaryHeading.setAttribute("aria-label",b),y?this._secondaryHeading.innerText=y:C.clearNode(this._secondaryHeading))}setMetaTitle(b){this._metaHeading&&(b?(this._metaHeading.innerText=b,C.show(this._metaHeading)):C.hide(this._metaHeading))}_doLayout(b,y){if(!this._isShowing&&b<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(53)*1.2),D=Math.round(b-(L+2));this._doLayoutHead(L,y),this._doLayoutBody(D,y)}_doLayoutHead(b,y){this._headElement&&(this._headElement.style.height=`${b}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(b,y){this._bodyElement&&(this._bodyElement.style.height=`${b}px`)}};m=Me([pe(2,a.IInstantiationService)],m),e.PeekViewWidget=m,e.peekViewTitleBackground=s.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},c.localize(1,null)),e.peekViewTitleForeground=s.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},c.localize(2,null)),e.peekViewTitleInfoForeground=s.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},c.localize(3,null)),e.peekViewBorder=s.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:s.contrastBorder},c.localize(4,null)),e.peekViewResultsBackground=s.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:w.Color.black},c.localize(5,null)),e.peekViewResultsMatchForeground=s.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:w.Color.white},c.localize(6,null)),e.peekViewResultsFileForeground=s.registerColor("peekViewResult.fileForeground",{dark:w.Color.white,light:"#1E1E1E",hc:w.Color.white},c.localize(7,null)),e.peekViewResultsSelectionBackground=s.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},c.localize(8,null)),e.peekViewResultsSelectionForeground=s.registerColor("peekViewResult.selectionForeground",{dark:w.Color.white,light:"#6C6C6C",hc:w.Color.white},c.localize(9,null)),e.peekViewEditorBackground=s.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:w.Color.black},c.localize(10,null)),e.peekViewEditorGutterBackground=s.registerColor("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hc:e.peekViewEditorBackground},c.localize(11,null)),e.peekViewResultsMatchHighlight=s.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},c.localize(12,null)),e.peekViewEditorMatchHighlight=s.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},c.localize(13,null)),e.peekViewEditorMatchHighlightBorder=s.registerColor("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:s.activeContrastBorder},c.localize(14,null))}),define(ee[641],te([0,1,7,83,2,116,505,187,35,18,9]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class c extends v.MenuEntryActionViewItem{updateLabel(){const r=this._keybindingService.lookupKeybinding(this._action.id);if(!r)return super.updateLabel();this.label&&(this.label.textContent=S.localize(0,null,this._action.label,c.symbolPrintEnter(r)))}static symbolPrintEnter(r){var d;return(d=r.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let u=class{constructor(r,d,s,i){this._menuService=s,this._contextKeyService=i,this._menuDisposables=new k.DisposableStore,this.element=C.append(r,C.$(".suggest-status-bar"));const n=t=>t instanceof l.MenuItemAction?d.createInstance(c,t):void 0;this._leftActions=new M.ActionBar(this.element,{actionViewItemProvider:n}),this._rightActions=new M.ActionBar(this.element,{actionViewItemProvider:n}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const r=this._menuService.createMenu(w.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const s=[],i=[];for(let[n,t]of r.getActions())n==="left"?s.push(...t):i.push(...t);this._leftActions.clear(),this._leftActions.push(s),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(r.onDidChange(()=>d())),this._menuDisposables.add(r)}hide(){this._menuDisposables.clear()}};u=Me([pe(1,p.IInstantiationService),pe(2,l.IMenuService),pe(3,f.IContextKeyService)],u),e.SuggestWidgetStatus=u}),define(ee[642],te([0,1,15,6,2,35,26,18]),function($,e,C,M,k,w,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let l=class{constructor(c){this._commandService=c}createMenu(c,u){return new f(c,this._commandService,u,this)}};l=Me([pe(0,S.ICommandService)],l),e.MenuService=l;let f=class tt{constructor(c,u,a,r){this._id=c,this._commandService=u,this._contextKeyService=a,this._menuService=r,this._dispoables=new k.DisposableStore,this._onDidChange=new M.Emitter,this.onDidChange=this._onDidChange.event,this._menuGroups=[],this._contextKeys=new Set,this._build();const d=new C.RunOnceScheduler(()=>this._build(),50);this._dispoables.add(d),this._dispoables.add(w.MenuRegistry.onDidChangeMenu(i=>{i.has(c)&&d.schedule()}));const s=new C.RunOnceScheduler(()=>this._onDidChange.fire(this),50);this._dispoables.add(s),this._dispoables.add(a.onDidChangeContext(i=>{i.affectsSome(this._contextKeys)&&s.schedule()}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const c=w.MenuRegistry.getMenuItems(this._id);let u;c.sort(tt._compareMenuItems);for(let a of c){const r=a.group||"";if((!u||u[0]!==r)&&(u=[r,[]],this._menuGroups.push(u)),u[1].push(a),tt._fillInKbExprKeys(a.when,this._contextKeys),w.isIMenuItem(a)&&(a.command.precondition&&tt._fillInKbExprKeys(a.command.precondition,this._contextKeys),a.command.toggled)){const d=a.command.toggled.condition||a.command.toggled;tt._fillInKbExprKeys(d,this._contextKeys)}}this._onDidChange.fire(this)}getActions(c){const u=[];for(let a of this._menuGroups){const[r,d]=a,s=[];for(const i of d)if(this._contextKeyService.contextMatchesRules(i.when)){const n=w.isIMenuItem(i)?new w.MenuItemAction(i.command,i.alt,c,this._contextKeyService,this._commandService):new w.SubmenuItemAction(i,this._menuService,this._contextKeyService,c);s.push(n)}s.length>0&&u.push([r,s])}return u}static _fillInKbExprKeys(c,u){if(c)for(let a of c.keys())u.add(a)}static _compareMenuItems(c,u){let a=c.group,r=u.group;if(a!==r){if(a){if(!r)return-1}else return 1;if(a==="navigation")return-1;if(r==="navigation")return 1;let i=a.localeCompare(r);if(i!==0)return i}let d=c.order||0,s=u.order||0;return d<s?-1:d>s?1:tt._compareTitles(w.isIMenuItem(c)?c.command.title:c.title,w.isIMenuItem(u)?u.command.title:u.title)}static _compareTitles(c,u){const a=typeof c=="string"?c:c.original,r=typeof u=="string"?u:u.original;return a.localeCompare(r)}};f=Me([pe(1,S.ICommandService),pe(2,v.IContextKeyService),pe(3,w.IMenuService)],f)}),define(ee[643],te([0,1,572,68,87,32,12,37,2,7]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let p=class extends l.Disposable{constructor(u,a,r,d,s){super();this.contextMenuHandler=new C.ContextMenuHandler(r,u,a,d,s)}configure(u){this.contextMenuHandler.configure(u)}showContextMenu(u){this.contextMenuHandler.showContextMenu(u),f.ModifierKeyEmitter.getInstance().resetKeyStatus()}};p=Me([pe(0,k.ITelemetryService),pe(1,w.INotificationService),pe(2,M.IContextViewService),pe(3,v.IKeybindingService),pe(4,S.IThemeService)],p),e.ContextMenuService=p}),define(ee[148],te([0,1,7,309,125,6,2,515,46,95,18,9,37,33,115,12,523,232,424,423,65]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchPagedList=e.WorkbenchList=e.didBindWorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigation=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchListSupportsKeyboardNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=c.createDecorator("listService");let h=class{constructor(H){this._themeService=H,this.disposables=new S.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(H,z){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const Q=new k.DefaultStyleController(C.createStyleSheet(),"");this.disposables.add(r.attachListStyler(Q,this._themeService))}if(this.lists.some(Q=>Q.widget===H))throw new Error("Cannot register the same widget multiple times");const q={widget:H,extraContextKeys:z};return this.lists.push(q),H.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=H),S.combinedDisposable(H.onDidFocus(()=>this._lastFocusedWidget=H),S.toDisposable(()=>this.lists.splice(this.lists.indexOf(q),1)),H.onDidDispose(()=>{this.lists=this.lists.filter(Q=>Q!==q),this._lastFocusedWidget===H&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};h=Me([pe(0,d.IThemeService)],h),e.ListService=h;const _=new p.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new p.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=p.ContextKeyExpr.and(_,p.ContextKeyExpr.not(s.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new p.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new p.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new p.RawContextKey("listMultiSelection",!1),e.WorkbenchListSupportsKeyboardNavigation=new p.RawContextKey("listSupportsKeyboardNavigation",!0),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation",e.WorkbenchListAutomaticKeyboardNavigation=new p.RawContextKey(e.WorkbenchListAutomaticKeyboardNavigationKey,!0),e.didBindWorkbenchListAutomaticKeyboardNavigation=!1;function m(x,H){const z=x.createScoped(H.getHTMLElement());return _.bindTo(z),z}const g="workbench.list.multiSelectModifier",b="workbench.list.openMode",y="workbench.list.horizontalScrolling",L="workbench.list.keyboardNavigation",D="workbench.list.automaticKeyboardNavigation",N="workbench.tree.indent",I="workbench.tree.renderIndentGuides",T="workbench.list.smoothScrolling",O="workbench.tree.expandMode";function A(x){return x.getValue(g)==="alt"}class B extends S.Disposable{constructor(H){super();this.configurationService=H,this.useAltAsMultipleSelectionModifier=A(H),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(H=>{H.affectsConfiguration(g)&&(this.useAltAsMultipleSelectionModifier=A(this.configurationService))}))}isSelectionSingleChangeEvent(H){return this.useAltAsMultipleSelectionModifier?H.browserEvent.altKey:k.isSelectionSingleChangeEvent(H)}isSelectionRangeChangeEvent(H){return k.isSelectionRangeChangeEvent(H)}}function E(x,H,z){const q=new S.DisposableStore,Q=Object.assign({},x);if(x.multipleSelectionSupport!==!1&&!x.multipleSelectionController){const ce=new B(H);Q.multipleSelectionController=ce,q.add(ce)}return Q.keyboardNavigationDelegate={mightProducePrintableCharacter(ce){return z.mightProducePrintableCharacter(ce)}},Q.smoothScrolling=H.getValue(T),[Q,q]}let W=class extends k.List{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z){const le=typeof ce.horizontalScrolling!="undefined"?ce.horizontalScrolling:ne.getValue(y),[he,re]=E(ce,ne,Z);super(H,z,q,Q,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},r.computeStyles(j.getColorTheme(),r.defaultListStyles)),he),{horizontalScrolling:le}));this.disposables.add(re),this.contextKeyService=m(ue,this),this.themeService=j,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ce.multipleSelectionSupport!==!1),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ce.horizontalScrolling,this._useAltAsMultipleSelectionModifier=A(ne),this.disposables.add(this.contextKeyService),this.disposables.add(Y.register(this)),ce.overrideStyles&&this.updateStyles(ce.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),ve=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||ve.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),ve=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||ve.length>0)})),this.disposables.add(ne.onDidChangeConfiguration(me=>{me.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=A(ne));let ve={};if(me.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Ce=ne.getValue(y);ve=Object.assign(Object.assign({},ve),{horizontalScrolling:Ce})}if(me.affectsConfiguration(T)){const Ce=ne.getValue(T);ve=Object.assign(Object.assign({},ve),{smoothScrolling:Ce})}Object.keys(ve).length>0&&this.updateOptions(ve)}))}updateOptions(H){super.updateOptions(H),H.overrideStyles&&this.updateStyles(H.overrideStyles)}dispose(){super.dispose(),this._styler&&this._styler.dispose()}updateStyles(H){this._styler&&this._styler.dispose(),this._styler=r.attachListStyler(this,this.themeService,H)}};W=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,l.IConfigurationService),pe(9,u.IKeybindingService)],W),e.WorkbenchList=W;let R=class extends M.PagedList{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z){const le=typeof ce.horizontalScrolling!="undefined"?ce.horizontalScrolling:ne.getValue(y),[he,re]=E(ce,ne,Z);super(H,z,q,Q,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},r.computeStyles(j.getColorTheme(),r.defaultListStyles)),he),{horizontalScrolling:le}));this.disposables=new S.DisposableStore,this.disposables.add(re),this.contextKeyService=m(ue,this),this.horizontalScrolling=ce.horizontalScrolling,e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(ce.multipleSelectionSupport!==!1),this._useAltAsMultipleSelectionModifier=A(ne),this.disposables.add(this.contextKeyService),this.disposables.add(Y.register(this)),ce.overrideStyles&&this.disposables.add(r.attachListStyler(this,j,ce.overrideStyles)),this.disposables.add(ne.onDidChangeConfiguration(me=>{me.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=A(ne));let ve={};if(me.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Ce=ne.getValue(y);ve=Object.assign(Object.assign({},ve),{horizontalScrolling:Ce})}if(me.affectsConfiguration(T)){const Ce=ne.getValue(T);ve=Object.assign(Object.assign({},ve),{smoothScrolling:Ce})}Object.keys(ve).length>0&&this.updateOptions(ve)}))}dispose(){super.dispose(),this.disposables.dispose()}};R=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,l.IConfigurationService),pe(9,u.IKeybindingService)],R),e.WorkbenchPagedList=R;class F extends S.Disposable{constructor(H,z){var q,Q;super();this.widget=H,this._onDidOpen=this._register(new w.Emitter),this.onDidOpen=this._onDidOpen.event,this.openOnFocus=(q=z==null?void 0:z.openOnFocus)!==null&&q!==void 0?q:!1,this._register(w.Event.filter(this.widget.onDidChangeSelection,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onSelectionFromKeyboard(ce))),this._register(this.widget.onPointer(ce=>this.onPointer(ce.element,ce.browserEvent))),this._register(this.widget.onMouseDblClick(ce=>this.onMouseDblClick(ce.element,ce.browserEvent))),this.openOnFocus&&this._register(w.Event.filter(this.widget.onDidChangeFocus,ce=>ce.browserEvent instanceof KeyboardEvent)(ce=>this.onFocusFromKeyboard(ce))),typeof(z==null?void 0:z.openOnSingleClick)!="boolean"&&(z==null?void 0:z.configurationService)?(this.openOnSingleClick=(z==null?void 0:z.configurationService.getValue(b))!=="doubleClick",this._register(z==null?void 0:z.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(z==null?void 0:z.configurationService.getValue(b))!=="doubleClick"}))):this.openOnSingleClick=(Q=z==null?void 0:z.openOnSingleClick)!==null&&Q!==void 0?Q:!0}onFocusFromKeyboard(H){const z=this.widget.getFocus();this.widget.setSelection(z,H.browserEvent);const q=H.browserEvent,Q=typeof q.preserveFocus=="boolean"?q.preserveFocus:!0,ce=typeof q.pinned=="boolean"?q.pinned:!Q,ue=!1;this._open(this.getSelectedElement(),Q,ce,ue,H.browserEvent)}onSelectionFromKeyboard(H){if(H.elements.length===1){const z=H.browserEvent,q=typeof z.preserveFocus=="boolean"?z.preserveFocus:!0,Q=typeof z.pinned=="boolean"?z.pinned:!q,ce=!1;this._open(this.getSelectedElement(),q,Q,ce,H.browserEvent)}}onPointer(H,z){if(!!this.openOnSingleClick&&z.detail!==2){const Q=z.button===1,ce=!0,ue=Q,Y=z.ctrlKey||z.metaKey||z.altKey;this._open(H,ce,ue,Y,z)}}onMouseDblClick(H,z){if(!!z){const q=!1,Q=!0,ce=z.ctrlKey||z.metaKey||z.altKey;this._open(H,q,Q,ce,z)}}_open(H,z,q,Q,ce){!H||this._onDidOpen.fire({editorOptions:{preserveFocus:z,pinned:q,revealIfVisible:!0},sideBySide:Q,element:H,browserEvent:ce})}}class V extends F{constructor(H,z){super(H,z);this.widget=H}getSelectedElement(){var H;return(H=this.widget.getSelection()[0])!==null&&H!==void 0?H:void 0}}function K(x,H){let z=!1;return q=>{if(z)return z=!1,!1;const Q=H.softDispatch(q,x);return Q&&Q.enterChord?(z=!0,!1):(z=!1,!0)}}let G=class extends i.ObjectTree{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z,le){const{options:he,getAutomaticKeyboardNavigation:re,disposable:de}=X(z,ce,ue,ne,Z,le);super(H,z,q,Q,he);this.disposables.add(de),this.internals=new U(this,ce,re,ce.overrideStyles,ue,Y,j,ne,le),this.disposables.add(this.internals)}};G=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,l.IConfigurationService),pe(9,u.IKeybindingService),pe(10,o.IAccessibilityService)],G),e.WorkbenchObjectTree=G;let J=class extends i.CompressibleObjectTree{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z,le){const{options:he,getAutomaticKeyboardNavigation:re,disposable:de}=X(z,ce,ue,ne,Z,le);super(H,z,q,Q,he);this.disposables.add(de),this.internals=new U(this,ce,re,ce.overrideStyles,ue,Y,j,ne,le),this.disposables.add(this.internals)}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles)}};J=Me([pe(5,p.IContextKeyService),pe(6,e.IListService),pe(7,d.IThemeService),pe(8,l.IConfigurationService),pe(9,u.IKeybindingService),pe(10,o.IAccessibilityService)],J),e.WorkbenchCompressibleObjectTree=J;let se=class extends t.DataTree{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z,le,he){const{options:re,getAutomaticKeyboardNavigation:de,disposable:me}=X(z,ue,Y,Z,le,he);super(H,z,q,Q,ce,re);this.disposables.add(me),this.internals=new U(this,ue,de,ue.overrideStyles,Y,j,ne,Z,he),this.disposables.add(this.internals)}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles)}};se=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,l.IConfigurationService),pe(10,u.IKeybindingService),pe(11,o.IAccessibilityService)],se),e.WorkbenchDataTree=se;let ie=class extends n.AsyncDataTree{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z,le,he){const{options:re,getAutomaticKeyboardNavigation:de,disposable:me}=X(z,ue,Y,Z,le,he);super(H,z,q,Q,ce,re);this.disposables.add(me),this.internals=new U(this,ue,de,ue.overrideStyles,Y,j,ne,Z,he),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(H={}){super.updateOptions(H),H.overrideStyles&&this.internals.updateStyleOverrides(H.overrideStyles)}};ie=Me([pe(6,p.IContextKeyService),pe(7,e.IListService),pe(8,d.IThemeService),pe(9,l.IConfigurationService),pe(10,u.IKeybindingService),pe(11,o.IAccessibilityService)],ie),e.WorkbenchAsyncDataTree=ie;let ae=class extends n.CompressibleAsyncDataTree{constructor(H,z,q,Q,ce,ue,Y,j,ne,Z,le,he,re){const{options:de,getAutomaticKeyboardNavigation:me,disposable:ve}=X(z,Y,j,le,he,re);super(H,z,q,Q,ce,ue,de);this.disposables.add(ve),this.internals=new U(this,Y,me,Y.overrideStyles,j,ne,Z,le,re),this.disposables.add(this.internals)}};ae=Me([pe(7,p.IContextKeyService),pe(8,e.IListService),pe(9,d.IThemeService),pe(10,l.IConfigurationService),pe(11,u.IKeybindingService),pe(12,o.IAccessibilityService)],ae),e.WorkbenchCompressibleAsyncDataTree=ae;function X(x,H,z,q,Q,ce){var ue;e.WorkbenchListSupportsKeyboardNavigation.bindTo(z),e.didBindWorkbenchListAutomaticKeyboardNavigation||(e.WorkbenchListAutomaticKeyboardNavigation.bindTo(z),e.didBindWorkbenchListAutomaticKeyboardNavigation=!0);const Y=()=>{let de=z.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey);return de&&(de=q.getValue(D)),de},j=ce.isScreenReaderOptimized(),ne=H.simpleKeyboardNavigation||j?"simple":q.getValue(L),Z=H.horizontalScrolling!==void 0?H.horizontalScrolling:q.getValue(y),[le,he]=E(H,q,Q),re=H.additionalScrollHeight;return{getAutomaticKeyboardNavigation:Y,disposable:he,options:Object.assign(Object.assign({keyboardSupport:!1},le),{indent:q.getValue(N),renderIndentGuides:q.getValue(I),smoothScrolling:q.getValue(T),automaticKeyboardNavigation:Y(),simpleKeyboardNavigation:ne==="simple",filterOnType:ne==="filter",horizontalScrolling:Z,keyboardNavigationEventFilter:K(x,Q),additionalScrollHeight:re,hideTwistiesOfChildlessElements:H.hideTwistiesOfChildlessElements,expandOnlyOnDoubleClick:q.getValue(b)==="doubleClick",expandOnlyOnTwistieClick:(ue=H.expandOnlyOnTwistieClick)!==null&&ue!==void 0?ue:q.getValue(O)==="doubleClick"})}}let U=class{constructor(H,z,q,Q,ce,ue,Y,j,ne){this.tree=H,this.themeService=Y,this.disposables=[],this.contextKeyService=m(ce,H),e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService).set(z.multipleSelectionSupport!==!1),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=A(j);const le=new Set;le.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const he=()=>{const de=ne.isScreenReaderOptimized()?"simple":j.getValue(L);H.updateOptions({simpleKeyboardNavigation:de==="simple",filterOnType:de==="filter"})};this.updateStyleOverrides(Q),this.disposables.push(this.contextKeyService,ue.register(H),H.onDidChangeSelection(()=>{const re=H.getSelection(),de=H.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(re.length>0||de.length>0),this.hasMultiSelection.set(re.length>1),this.hasDoubleSelection.set(re.length===2)})}),H.onDidChangeFocus(()=>{const re=H.getSelection(),de=H.getFocus();this.hasSelectionOrFocus.set(re.length>0||de.length>0)}),j.onDidChangeConfiguration(re=>{let de={};if(re.affectsConfiguration(g)&&(this._useAltAsMultipleSelectionModifier=A(j)),re.affectsConfiguration(N)){const me=j.getValue(N);de=Object.assign(Object.assign({},de),{indent:me})}if(re.affectsConfiguration(I)){const me=j.getValue(I);de=Object.assign(Object.assign({},de),{renderIndentGuides:me})}if(re.affectsConfiguration(T)){const me=j.getValue(T);de=Object.assign(Object.assign({},de),{smoothScrolling:me})}if(re.affectsConfiguration(L)&&he(),re.affectsConfiguration(D)&&(de=Object.assign(Object.assign({},de),{automaticKeyboardNavigation:q()})),re.affectsConfiguration(y)&&z.horizontalScrolling===void 0){const me=j.getValue(y);de=Object.assign(Object.assign({},de),{horizontalScrolling:me})}re.affectsConfiguration(b)&&(de=Object.assign(Object.assign({},de),{expandOnlyOnDoubleClick:j.getValue(b)==="doubleClick"})),re.affectsConfiguration(O)&&z.expandOnlyOnTwistieClick===void 0&&(de=Object.assign(Object.assign({},de),{expandOnlyOnTwistieClick:j.getValue(O)==="doubleClick"})),Object.keys(de).length>0&&H.updateOptions(de)}),this.contextKeyService.onDidChangeContext(re=>{re.affectsSome(le)&&H.updateOptions({automaticKeyboardNavigation:q()})}),ne.onDidChangeScreenReaderOptimized(()=>he())),this.navigator=new V(H,Object.assign({configurationService:j},z)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(H){S.dispose(this.styler),this.styler=H?r.attachListStyler(this.tree,this.themeService,H):S.Disposable.None}dispose(){this.disposables=S.dispose(this.disposables),S.dispose(this.styler),this.styler=void 0}};U=Me([pe(4,p.IContextKeyService),pe(5,e.IListService),pe(6,d.IThemeService),pe(7,l.IConfigurationService),pe(8,o.IAccessibilityService)],U),a.Registry.as(f.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:v.localize(0,null),type:"object",properties:{[g]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[v.localize(1,null),v.localize(2,null)],default:"ctrlCmd",description:v.localize(3,null)},[b]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:v.localize(4,null)},[y]:{type:"boolean",default:!1,description:v.localize(5,null)},[N]:{type:"number",default:8,minimum:0,maximum:40,description:v.localize(6,null)},[I]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:v.localize(7,null)},[T]:{type:"boolean",default:!1,description:v.localize(8,null)},[L]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[v.localize(9,null),v.localize(10,null),v.localize(11,null)],default:"highlight",description:v.localize(12,null)},[D]:{type:"boolean",default:!0,markdownDescription:v.localize(13,null)},[O]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:v.localize(14,null)}}})}),define(ee[644],te([0,1,140,9,12,22,23,115,18,65,439,148,567]),function($,e,C,M,k,w,S,v,l,f,p,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let a=class extends k.Themable{constructor(d,s,i,n,t){super(i);this.instantiationService=d,this.contextKeyService=s,this.accessibilityService=n,this.layoutService=t,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,s){var i,n;const t={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),returnFocus:()=>d.focus(),createList:(h,_,m,g,b)=>this.instantiationService.createInstance(c.WorkbenchList,h,_,m,g,b),styles:this.computeStyles()},o=this._register(new p.QuickInputController(Object.assign(Object.assign({},t),s)));return o.layout(d.dimension,(n=(i=d.offset)===null||i===void 0?void 0:i.top)!==null&&n!==void 0?n:0),this._register(d.onLayout(h=>{var _,m;return o.layout(h,(m=(_=d.offset)===null||_===void 0?void 0:_.top)!==null&&m!==void 0?m:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(d){let s;d&&(s=this.contexts.get(d),s||(s=new l.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,s))),!(s&&s.get())&&(this.resetContextKeys(),s&&s.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,s={},i=S.CancellationToken.None){return this.controller.pick(d,s,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},v.computeStyles(this.theme,{quickInputBackground:w.quickInputBackground,quickInputForeground:w.quickInputForeground,quickInputTitleBackground:w.quickInputTitleBackground,contrastBorder:w.contrastBorder,widgetShadow:w.widgetShadow})),inputBox:v.computeStyles(this.theme,{inputForeground:w.inputForeground,inputBackground:w.inputBackground,inputBorder:w.inputBorder,inputValidationInfoBackground:w.inputValidationInfoBackground,inputValidationInfoForeground:w.inputValidationInfoForeground,inputValidationInfoBorder:w.inputValidationInfoBorder,inputValidationWarningBackground:w.inputValidationWarningBackground,inputValidationWarningForeground:w.inputValidationWarningForeground,inputValidationWarningBorder:w.inputValidationWarningBorder,inputValidationErrorBackground:w.inputValidationErrorBackground,inputValidationErrorForeground:w.inputValidationErrorForeground,inputValidationErrorBorder:w.inputValidationErrorBorder}),countBadge:v.computeStyles(this.theme,{badgeBackground:w.badgeBackground,badgeForeground:w.badgeForeground,badgeBorder:w.contrastBorder}),button:v.computeStyles(this.theme,{buttonForeground:w.buttonForeground,buttonBackground:w.buttonBackground,buttonHoverBackground:w.buttonHoverBackground,buttonBorder:w.contrastBorder}),progressBar:v.computeStyles(this.theme,{progressBarBackground:w.progressBarBackground}),list:v.computeStyles(this.theme,{listBackground:w.quickInputBackground,listInactiveFocusForeground:w.listFocusForeground,listInactiveFocusBackground:w.listFocusBackground,listFocusOutline:w.activeContrastBorder,listInactiveFocusOutline:w.activeContrastBorder,pickerGroupBorder:w.pickerGroupBorder,pickerGroupForeground:w.pickerGroupForeground})}}};a=Me([pe(0,M.IInstantiationService),pe(1,l.IContextKeyService),pe(2,k.IThemeService),pe(3,f.IAccessibilityService),pe(4,C.ILayoutService)],a),e.QuickInputService=a}),define(ee[645],te([0,1,14,12,23,9,18,65,140,28,644,88,353]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputServiceImpl=e.EditorScopedQuickInputServiceImpl=void 0;let u=class extends p.QuickInputService{constructor(i,n,t,o,h,_){super(n,t,o,h,_);this.host=void 0;const m=r.get(i);this.host={_serviceBrand:void 0,get container(){return m.widget.getDomNode()},get dimension(){return i.getLayoutInfo()},get onLayout(){return i.onDidLayoutChange},focus:()=>i.focus()}}createController(){return super.createController(this.host)}};u=Me([pe(1,w.IInstantiationService),pe(2,S.IContextKeyService),pe(3,M.IThemeService),pe(4,v.IAccessibilityService),pe(5,l.ILayoutService)],u),e.EditorScopedQuickInputServiceImpl=u;let a=class{constructor(i,n){this.instantiationService=i,this.codeEditorService=n,this.mapEditorToService=new Map}get activeService(){const i=this.codeEditorService.getFocusedCodeEditor();if(!i)throw new Error("Quick input service needs a focused editor to work.");let n=this.mapEditorToService.get(i);if(!n){const t=n=this.instantiationService.createInstance(u,i);this.mapEditorToService.set(i,n),c.once(i.onDidDispose)(()=>{t.dispose(),this.mapEditorToService.delete(i)})}return n}get quickAccess(){return this.activeService.quickAccess}pick(i,n={},t=k.CancellationToken.None){return this.activeService.pick(i,n,t)}createQuickPick(){return this.activeService.createQuickPick()}};a=Me([pe(0,w.IInstantiationService),pe(1,f.ICodeEditorService)],a),e.StandaloneQuickInputServiceImpl=a;class r{constructor(i){this.editor=i,this.widget=new d(this.editor)}static get(i){return i.getContribution(r.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=r,r.ID="editor.controller.quickInput";class d{constructor(i){this.codeEditor=i,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",C.registerEditorContribution(r.ID,r)}),define(ee[646],te([0,1,82,12,22,27]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var S;(function(v){function l(f){switch(f){case C.default.Ignore:return"severity-ignore "+w.Codicon.info.classNames;case C.default.Info:return w.Codicon.info.classNames;case C.default.Warning:return w.Codicon.warning.classNames;case C.default.Error:return w.Codicon.error.classNames;default:return""}}v.className=l})(S=e.SeverityIcon||(e.SeverityIcon={})),M.registerThemingParticipant((v,l)=>{const f=v.getColor(k.problemsErrorIconForeground);if(f){const u=w.Codicon.error.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${u},
			.markers-panel .marker-icon${u},
			.extensions-viewlet > .extensions ${u} {
				color: ${f};
			}
		`)}const p=v.getColor(k.problemsWarningIconForeground);if(p){const u=w.Codicon.warning.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${u},
			.markers-panel .marker-icon${u},
			.extensions-viewlet > .extensions ${u},
			.extension-editor ${u} {
				color: ${p};
			}
		`)}const c=v.getColor(k.problemsInfoIconForeground);if(c){const u=w.Codicon.info.cssSelector;l.addRule(`
			.monaco-editor .zone-widget ${u},
			.markers-panel .marker-icon${u},
			.extensions-viewlet > .extensions ${u},
			.extension-editor ${u} {
				color: ${c};
			}
		`)}})}),define(ee[647],te([0,1,474,7,2,85,3,22,12,29,61,159,19,6,117,44,646,58,35,18,187,9,8,114,339]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarning=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class g{constructor(I,T,O,A,B){this._openerService=A,this._labelService=B,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new k.DisposableStore,this._editor=T;const E=document.createElement("div");E.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),E.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),E.appendChild(this._relatedBlock),this._disposables.add(M.addStandardDisposableListener(this._relatedBlock,"click",W=>{W.preventDefault();const R=this._relatedDiagnostics.get(W.target);R&&O(R)})),this._scrollable=new p.ScrollableElement(E,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),I.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(W=>{E.style.left=`-${W.scrollLeft}px`,E.style.top=`-${W.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){k.dispose(this._disposables)}update(I){const{source:T,message:O,relatedInformation:A,code:B}=I;let E=((T==null?void 0:T.length)||0)+"()".length;B&&(typeof B=="string"?E+=B.length:E+=B.value.length);const W=_.splitLines(O);this._lines=W.length,this._longestLineLength=0;for(const G of W)this._longestLineLength=Math.max(G.length+E,this._longestLineLength);M.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(I)),this._editor.applyFontInfo(this._messageBlock);let R=this._messageBlock;for(const G of W)R=document.createElement("div"),R.innerText=G,G===""&&(R.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(R);if(T||B){const G=document.createElement("span");if(G.classList.add("details"),R.appendChild(G),T){const J=document.createElement("span");J.innerText=T,J.classList.add("source"),G.appendChild(J)}if(B)if(typeof B=="string"){const J=document.createElement("span");J.innerText=`(${B})`,J.classList.add("code"),G.appendChild(J)}else{this._codeLink=M.$("a.code-link"),this._codeLink.setAttribute("href",`${B.target.toString()}`),this._codeLink.onclick=se=>{this._openerService.open(B.target),se.preventDefault(),se.stopPropagation()};const J=M.append(this._codeLink,M.$("span"));J.innerText=B.value,G.appendChild(this._codeLink)}}if(M.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),u.isNonEmptyArray(A)){const G=this._relatedBlock.appendChild(document.createElement("div"));G.style.paddingTop=`${Math.floor(this._editor.getOption(53)*.66)}px`,this._lines+=1;for(const J of A){let se=document.createElement("div"),ie=document.createElement("a");ie.classList.add("filename"),ie.innerText=`${c.getBaseLabel(J.resource)}(${J.startLineNumber}, ${J.startColumn}): `,ie.title=this._labelService.getUriLabel(J.resource),this._relatedDiagnostics.set(ie,J);let ae=document.createElement("span");ae.innerText=J.message,se.appendChild(ie),se.appendChild(ae),this._lines+=1,G.appendChild(se)}}const F=this._editor.getOption(38),V=Math.ceil(F.typicalFullwidthCharacterWidth*this._longestLineLength*.75),K=F.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:V,scrollHeight:K})}layout(I,T){this._scrollable.getDomNode().style.height=`${I}px`,this._scrollable.getDomNode().style.width=`${T}px`,this._scrollable.setScrollDimensions({width:T,height:I})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(I){let T="";switch(I.severity){case w.MarkerSeverity.Error:T=C.localize(0,null);break;case w.MarkerSeverity.Warning:T=C.localize(1,null);break;case w.MarkerSeverity.Info:T=C.localize(2,null);break;case w.MarkerSeverity.Hint:T=C.localize(3,null);break}let O=C.localize(4,null,T,I.startLineNumber+":"+I.startColumn);const A=this._editor.getModel();return A&&I.startLineNumber<=A.getLineCount()&&I.startLineNumber>=1&&(O=`${A.getLineContent(I.startLineNumber)}, ${O}`),O}}let b=class Ht extends r.PeekViewWidget{constructor(I,T,O,A,B,E,W){super(I,{showArrow:!0,showFrame:!0,isAccessible:!0},B);this._themeService=T,this._openerService=O,this._menuService=A,this._contextKeyService=E,this._labelService=W,this._callOnDispose=new k.DisposableStore,this._onDidSelectRelatedInformation=new a.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=w.MarkerSeverity.Warning,this._backgroundColor=f.Color.white,this._applyTheme(T.getColorTheme()),this._callOnDispose.add(T.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(I){this._backgroundColor=I.getColor(e.editorMarkerNavigationBackground);let T=e.editorMarkerNavigationError;this._severity===w.MarkerSeverity.Warning?T=e.editorMarkerNavigationWarning:this._severity===w.MarkerSeverity.Info&&(T=e.editorMarkerNavigationInfo);const O=I.getColor(T);this.style({arrowColor:O,frameColor:O,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:I.getColor(r.peekViewTitleForeground),secondaryHeadingColor:I.getColor(r.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(I){super._fillHead(I),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(A=>this.editor.focus()));const T=[],O=this._menuService.createMenu(Ht.TitleMenu,this._contextKeyService);o.createAndFillInActionBarActions(O,void 0,T),this._actionbarWidget.push(T,{label:!1,icon:!0,index:0}),O.dispose()}_fillTitleIcon(I){this._icon=M.append(I,M.$(""))}_fillBody(I){this._parentContainer=I,I.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),I.appendChild(this._container),this._message=new g(this._container,this.editor,T=>this._onDidSelectRelatedInformation.fire(T),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(I,T,O){this._container.classList.remove("stale"),this._message.update(I),this._severity=I.severity,this._applyTheme(this._themeService.getColorTheme());let A=S.Range.lift(I);const B=this.editor.getPosition();let E=B&&A.containsPosition(B)?B:A.getStartPosition();super.show(E,this.computeRequiredHeight());const W=this.editor.getModel();if(W){const R=O>1?C.localize(5,null,T,O):C.localize(6,null,T,O);this.setTitle(d.basename(W.uri),R)}this._icon.className=`codicon ${s.SeverityIcon.className(w.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(E,0),this.editor.focus()}updateMarker(I){this._container.classList.remove("stale"),this._message.update(I)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(I,T){super._doLayoutBody(I,T),this._heightInPixel=I,this._message.layout(I,T),this._container.style.height=`${I}px`}_onWidth(I){this._message.layout(this._heightInPixel,I)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};b.TitleMenu=new n.MenuId("gotoErrorTitleMenu"),b=Me([pe(1,l.IThemeService),pe(2,i.IOpenerService),pe(3,n.IMenuService),pe(4,h.IInstantiationService),pe(5,t.IContextKeyService),pe(6,m.ILabelService)],b),e.MarkerNavigationWidget=b;let y=v.oneOf(v.editorErrorForeground,v.editorErrorBorder),L=v.oneOf(v.editorWarningForeground,v.editorWarningBorder),D=v.oneOf(v.editorInfoForeground,v.editorInfoBorder);e.editorMarkerNavigationError=v.registerColor("editorMarkerNavigationError.background",{dark:y,light:y,hc:y},C.localize(7,null)),e.editorMarkerNavigationWarning=v.registerColor("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},C.localize(8,null)),e.editorMarkerNavigationInfo=v.registerColor("editorMarkerNavigationInfo.background",{dark:D,light:D,hc:D},C.localize(9,null)),e.editorMarkerNavigationBackground=v.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:f.Color.white,hc:"#0C141F"},C.localize(10,null)),l.registerThemingParticipant((N,I)=>{const T=N.getColor(v.textLinkForeground);T&&(I.addRule(`.monaco-editor .marker-widget a { color: ${T}; }`),I.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${T}; }`))})}),define(ee[80],te([0,1,33,12,6,520,183,15,27]),function($,e,C,M,k,w,S,v,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class f{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:w.localize(0,null)},fontCharacter:{type:"string",description:w.localize(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.iconsById={}}registerIcon(i,n,t,o){const h=this.iconsById[i];if(h){if(t&&!h.description){h.description=t,this.iconSchema.properties[i].markdownDescription=`${t} $(${i})`;const g=this.iconReferenceSchema.enum.indexOf(i);g!==-1&&(this.iconReferenceSchema.enumDescriptions[g]=t),this._onDidChange.fire()}return h}let _={id:i,description:t,defaults:n,deprecationMessage:o};this.iconsById[i]=_;let m={$ref:"#/definitions/icons"};return o&&(m.deprecationMessage=o),t&&(m.markdownDescription=`${t}: $(${i})`),this.iconSchema.properties[i]=m,this.iconReferenceSchema.enum.push(i),this.iconReferenceSchema.enumDescriptions.push(t||""),this._onDidChange.fire(),{id:i}}getIconSchema(){return this.iconSchema}getCSS(){const i=[];for(let n in this.iconsById){const t=this.formatRule(n);t&&i.push(t)}return i.join(`
`)}formatRule(i){let n=this.iconsById[i].defaults;for(;M.ThemeIcon.isThemeIcon(n);){const t=this.iconsById[n.id];if(!t)return;n=t.defaults}return`.codicon-${i}:before { content: '${n.character}'; }`}toString(){const i=(h,_)=>h.id.localeCompare(_.id),n=h=>{for(;M.ThemeIcon.isThemeIcon(h.defaults);)h=this.iconsById[h.defaults.id];return`codicon codicon-${h?h.id:""}`};let t=[];t.push("| preview     | identifier                        | default codicon ID                | description"),t.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const o=Object.keys(this.iconsById).map(h=>this.iconsById[h]);for(const h of o.filter(_=>!!_.description).sort(i))t.push(`|<i class="${n(h)}"></i>|${h.id}|${M.ThemeIcon.isThemeIcon(h.defaults)?h.defaults.id:h.id}|${h.description||""}|`);t.push("| preview     | identifier                        "),t.push("| ----------- | --------------------------------- |");for(const h of o.filter(_=>!M.ThemeIcon.isThemeIcon(_.defaults)).sort(i))t.push(`|<i class="${n(h)}"></i>|${h.id}|`);return t.join(`
`)}}const p=new f;C.Registry.add(e.Extensions.IconContribution,p);function c(s,i,n,t){return p.registerIcon(s,i,n,t)}e.registerIcon=c;function u(){return p}e.getIconRegistry=u;function a(){for(const s of l.iconRegistry.all)p.registerIcon(s.id,s.definition,s.description);l.iconRegistry.onDidRegister(s=>p.registerIcon(s.id,s.definition,s.description))}a(),e.iconsSchemaId="vscode://schemas/icons";let r=C.Registry.as(S.Extensions.JSONContribution);r.registerSchema(e.iconsSchemaId,p.getIconSchema());const d=new v.RunOnceScheduler(()=>r.notifySchemaChanged(e.iconsSchemaId),200);p.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=c("widget-close",l.Codicon.close,w.localize(2,null))}),define(ee[648],te([0,1,445,7,30,83,61,48,2,69,14,28,38,112,13,49,130,63,18,22,12,27,80,329]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const g=3;class b{constructor(E,W,R,F){this.originalLineStart=E,this.originalLineEnd=W,this.modifiedLineStart=R,this.modifiedLineEnd=F}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(E){this.entries=E}}const L=_.registerIcon("diff-review-insert",h.Codicon.add,C.localize(0,null)),D=_.registerIcon("diff-review-remove",h.Codicon.remove,C.localize(1,null)),N=_.registerIcon("diff-review-close",h.Codicon.close,C.localize(2,null));class I extends l.Disposable{constructor(E){super();this._width=0,this._diffEditor=E,this._isVisible=!1,this.shadow=k.createFastDomNode(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=k.createFastDomNode(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new w.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new v.Action("diffreview.close",C.localize(3,null),"close-diff-review "+o.ThemeIcon.asClassName(N),!0,()=>(this.hide(),Promise.resolve(null))),{label:!1,icon:!0}),this.domNode=k.createFastDomNode(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=k.createFastDomNode(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new S.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(E.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(E.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(M.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();let R=M.findParentWithClass(W.target,"diff-review-row");R&&this._goToRow(R)})),this._register(M.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let E=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let R=-1;for(let F=0,V=this._diffs.length;F<V;F++)if(this._diffs[F]===this._currentDiff){R=F;break}E=this._diffs.length+R-1}else E=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){E=E%this._diffs.length;const W=this._diffs[E].entries;this._diffEditor.setPosition(new r.Position(W[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:W[0].modifiedLineStart,endColumn:1073741824,endLineNumber:W[W.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}next(){let E=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let R=-1;for(let F=0,V=this._diffs.length;F<V;F++)if(this._diffs[F]===this._currentDiff){R=F;break}E=R+1}else E=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length!==0){E=E%this._diffs.length;const W=this._diffs[E].entries;this._diffEditor.setPosition(new r.Position(W[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:W[0].modifiedLineStart,endColumn:1073741824,endLineNumber:W[W.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}}accept(){let E=-1,W=this._getCurrentFocusedRow();if(W){let R=parseInt(W.getAttribute("data-line"),10);isNaN(R)||(E=R)}this.hide(),E!==-1&&(this._diffEditor.setPosition(new r.Position(E,1)),this._diffEditor.revealPosition(new r.Position(E,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let E=this._getCurrentFocusedRow();return E?E.previousElementSibling?E.previousElementSibling:E:this._getFirstRow()}_getNextRow(){let E=this._getCurrentFocusedRow();return E?E.nextElementSibling?E.nextElementSibling:E:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let E=document.activeElement;return E&&/diff-review-row/.test(E.className)?E:null}_goToRow(E){let W=this._getCurrentFocusedRow();E.tabIndex=0,E.focus(),W&&W!==E&&(W.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(E,W,R){this._width=W,this.shadow.setTop(E-6),this.shadow.setWidth(W),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(E),this.domNode.setWidth(W),this.domNode.setHeight(R),this._content.setHeight(R),this._content.setWidth(W),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const E=this._diffEditor.getLineChanges();if(!E||E.length===0)return[];const W=this._diffEditor.getOriginalEditor().getModel(),R=this._diffEditor.getModifiedEditor().getModel();return!W||!R?[]:I._mergeAdjacent(E,W.getLineCount(),R.getLineCount())}static _mergeAdjacent(E,W,R){if(!E||E.length===0)return[];let F=[],V=0;for(let se=0,ie=E.length;se<ie;se++){const ae=E[se],X=ae.originalStartLineNumber,U=ae.originalEndLineNumber,P=ae.modifiedStartLineNumber,x=ae.modifiedEndLineNumber;let H=[],z=0;{const q=U===0?X:X-1,Q=x===0?P:P-1;let ce=1,ue=1;if(se>0){const ne=E[se-1];ne.originalEndLineNumber===0?ce=ne.originalStartLineNumber+1:ce=ne.originalEndLineNumber+1,ne.modifiedEndLineNumber===0?ue=ne.modifiedStartLineNumber+1:ue=ne.modifiedEndLineNumber+1}let Y=q-g+1,j=Q-g+1;if(Y<ce){const ne=ce-Y;Y=Y+ne,j=j+ne}if(j<ue){const ne=ue-j;Y=Y+ne,j=j+ne}H[z++]=new b(Y,q,j,Q)}U!==0&&(H[z++]=new b(X,U,0,0)),x!==0&&(H[z++]=new b(0,0,P,x));{const q=U===0?X+1:U+1,Q=x===0?P+1:x+1;let ce=W,ue=R;if(se+1<ie){const ne=E[se+1];ne.originalEndLineNumber===0?ce=ne.originalStartLineNumber:ce=ne.originalStartLineNumber-1,ne.modifiedEndLineNumber===0?ue=ne.modifiedStartLineNumber:ue=ne.modifiedStartLineNumber-1}let Y=q+g-1,j=Q+g-1;if(Y>ce){const ne=ce-Y;Y=Y+ne,j=j+ne}if(j>ue){const ne=ue-j;Y=Y+ne,j=j+ne}H[z++]=new b(q,Y,Q,j)}F[V++]=new y(H)}let K=F[0].entries,G=[],J=0;for(let se=1,ie=F.length;se<ie;se++){const ae=F[se].entries,X=K[K.length-1],U=ae[0];if(X.getType()===0&&U.getType()===0&&U.originalLineStart<=X.originalLineEnd){K[K.length-1]=new b(X.originalLineStart,U.originalLineEnd,X.modifiedLineStart,U.modifiedLineEnd),K=K.concat(ae.slice(1));continue}G[J++]=new y(K),K=ae}return G[J++]=new y(K),G}_findDiffIndex(E){const W=E.lineNumber;for(let R=0,F=this._diffs.length;R<F;R++){const V=this._diffs[R].entries,K=V[V.length-1].modifiedLineEnd;if(W<=K)return R}return 0}_render(){const E=this._diffEditor.getOriginalEditor().getOptions(),W=this._diffEditor.getModifiedEditor().getOptions(),R=this._diffEditor.getOriginalEditor().getModel(),F=this._diffEditor.getModifiedEditor().getModel(),V=R.getOptions(),K=F.getOptions();if(!this._isVisible||!R||!F){M.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const G=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[G]!==this._currentDiff){this._currentDiff=this._diffs[G];const J=this._diffs[G].entries;let se=document.createElement("div");se.className="diff-review-table",se.setAttribute("role","list"),se.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),f.Configuration.applyFontInfoSlow(se,W.get(38));let ie=0,ae=0,X=0,U=0;for(let j=0,ne=J.length;j<ne;j++){const Z=J[j],le=Z.originalLineStart,he=Z.originalLineEnd,re=Z.modifiedLineStart,de=Z.modifiedLineEnd;le!==0&&(ie===0||le<ie)&&(ie=le),he!==0&&(ae===0||he>ae)&&(ae=he),re!==0&&(X===0||re<X)&&(X=re),de!==0&&(U===0||de>U)&&(U=de)}let P=document.createElement("div");P.className="diff-review-row";let x=document.createElement("div");x.className="diff-review-cell diff-review-summary";const H=ae-ie+1,z=U-X+1;x.appendChild(document.createTextNode(`${G+1}/${this._diffs.length}: @@ -${ie},${H} +${X},${z} @@`)),P.setAttribute("data-line",String(X));const q=j=>j===0?C.localize(4,null):j===1?C.localize(5,null):C.localize(6,null,j),Q=q(H),ce=q(z);P.setAttribute("aria-label",C.localize(7,null,G+1,this._diffs.length,ie,Q,X,ce)),P.appendChild(x),P.setAttribute("role","listitem"),se.appendChild(P);const ue=W.get(53);let Y=X;for(let j=0,ne=J.length;j<ne;j++){const Z=J[j];I._renderSection(se,Z,Y,ue,this._width,E,R,V,W,F,K),Z.modifiedLineStart!==0&&(Y=Z.modifiedLineEnd)}M.clearNode(this._content.domNode),this._content.domNode.appendChild(se),this.scrollbar.scanDomNode()}}static _renderSection(E,W,R,F,V,K,G,J,se,ie,ae){const X=W.getType();let U="diff-review-row",P="";const x="diff-review-spacer";let H=null;switch(X){case 1:U="diff-review-row line-insert",P=" char-insert",H=L;break;case 2:U="diff-review-row line-delete",P=" char-delete",H=D;break}const z=W.originalLineStart,q=W.originalLineEnd,Q=W.modifiedLineStart,ce=W.modifiedLineEnd,ue=Math.max(ce-Q,q-z),Y=K.get(124),j=Y.glyphMarginWidth+Y.lineNumbersWidth,ne=se.get(124),Z=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let le=0;le<=ue;le++){const he=z===0?0:z+le,re=Q===0?0:Q+le,de=document.createElement("div");de.style.minWidth=V+"px",de.className=U,de.setAttribute("role","listitem"),re!==0&&(R=re),de.setAttribute("data-line",String(R));let me=document.createElement("div");me.className="diff-review-cell",me.style.height=`${F}px`,de.appendChild(me);const ve=document.createElement("span");ve.style.width=j+"px",ve.style.minWidth=j+"px",ve.className="diff-review-line-number"+P,he!==0?ve.appendChild(document.createTextNode(String(he))):ve.innerText="\xA0",me.appendChild(ve);const Ce=document.createElement("span");Ce.style.width=Z+"px",Ce.style.minWidth=Z+"px",Ce.style.paddingRight="10px",Ce.className="diff-review-line-number"+P,re!==0?Ce.appendChild(document.createTextNode(String(re))):Ce.innerText="\xA0",me.appendChild(Ce);const Ee=document.createElement("span");if(Ee.className=x,H){const Ne=document.createElement("span");Ne.className=o.ThemeIcon.asClassName(H),Ne.innerText="\xA0\xA0",Ee.appendChild(Ne)}else Ee.innerText="\xA0\xA0";me.appendChild(Ee);let De;if(re!==0){let Ne=this._renderLine(ie,se,ae.tabSize,re);I._ttPolicy&&(Ne=I._ttPolicy.createHTML(Ne)),me.insertAdjacentHTML("beforeend",Ne),De=ie.getLineContent(re)}else{let Ne=this._renderLine(G,K,J.tabSize,he);I._ttPolicy&&(Ne=I._ttPolicy.createHTML(Ne)),me.insertAdjacentHTML("beforeend",Ne),De=G.getLineContent(he)}De.length===0&&(De=C.localize(8,null));let Pe="";switch(X){case 0:he===re?Pe=C.localize(9,null,De,he):Pe=C.localize(10,null,De,he,re);break;case 1:Pe=C.localize(11,null,De,re);break;case 2:Pe=C.localize(12,null,De,he);break}de.setAttribute("aria-label",Pe),E.appendChild(de)}}static _renderLine(E,W,R,F){const V=E.getLineContent(F),K=W.get(38),G=(0<<11|1<<14|2<<23)>>>0,J=new Uint32Array(2);J[0]=V.length,J[1]=G;const se=new a.LineTokens(J,V),ie=i.ViewLineRenderingData.isBasicASCII(V,E.mightContainNonBasicASCII()),ae=i.ViewLineRenderingData.containsRTL(V,ie,E.mightContainRTL());return s.renderViewLine2(new s.RenderLineInput(K.isMonospace&&!W.get(26),K.canUseHalfwidthRightwardsArrow,V,!1,ie,ae,0,se,[],R,0,K.spaceWidth,K.middotWidth,K.wsmiddotWidth,W.get(100),W.get(83),W.get(77),W.get(39)!==u.EditorFontLigatures.OFF,null)).html}}e.DiffReview=I,I._ttPolicy=(m=window.trustedTypes)===null||m===void 0?void 0:m.createPolicy("diffReview",{createHTML:B=>B}),o.registerThemingParticipant((B,E)=>{const W=B.getColor(d.editorLineNumbers);W&&E.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${W}; }`);const R=B.getColor(t.scrollbarShadow);R&&E.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${R} 0 -6px 6px -6px inset; }`)});class T extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:C.localize(13,null),alias:"Go to Next Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(E,W){const R=A(E);R&&R.diffReviewNext()}}class O extends p.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:C.localize(14,null),alias:"Go to Previous Difference",precondition:n.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(E,W){const R=A(E);R&&R.diffReviewPrev()}}function A(B){const E=B.get(c.ICodeEditorService),W=E.listDiffEditors(),R=E.getActiveCodeEditor();if(!R)return null;for(let F=0,V=W.length;F<V;F++){const K=W[F];if(K.getModifiedEditor().getId()===R.getId()||K.getOriginalEditor().getId()===R.getId())return K}return null}p.registerEditorAction(T),p.registerEditorAction(O)}),define(ee[264],te([0,1,444,7,30,104,15,6,2,69,70,28,144,648,38,3,93,106,31,75,219,170,130,63,18,9,139,32,22,12,68,447,84,14,11,59,209,27,124,80,328]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B,E,W,R,F,V){"use strict";var K;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class G{constructor(re,de){this._contextMenuService=re,this._clipboardService=de,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(re){return re.filter(de=>!this._zonesMap[String(de.id)])}clean(re){this._zones.length>0&&re.changeViewZones(de=>{for(const me of this._zones)de.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=re.deltaDecorations(this._decorations,[])}apply(re,de,me,ve){const Ce=ve?p.StableEditorScrollState.capture(re):null;re.changeViewZones(Ee=>{for(const De of this._zones)Ee.removeZone(De);for(const De of this._inlineDiffMargins)De.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let De=0,Pe=me.zones.length;De<Pe;De++){const Ne=me.zones[De];Ne.suppressMouseDown=!0;const Ae=Ee.addZone(Ne);this._zones.push(Ae),this._zonesMap[String(Ae)]=!0,me.zones[De].diff&&Ne.marginDomNode&&(Ne.suppressMouseDown=!1,this._inlineDiffMargins.push(new T.InlineDiffMargin(Ae,Ne.marginDomNode,re,me.zones[De].diff,this._contextMenuService,this._clipboardService)))}}),Ce&&Ce.restore(re),this._decorations=re.deltaDecorations(this._decorations,me.decorations),de&&de.setZones(me.overviewZones)}}let J=0;const se=V.registerIcon("diff-insert",R.Codicon.add,C.localize(0,null)),ie=V.registerIcon("diff-remove",R.Codicon.remove,C.localize(1,null)),ae=(K=window.trustedTypes)===null||K===void 0?void 0:K.createPolicy("diffEditorWidget",{createHTML:he=>he});let X=class Ze extends l.Disposable{constructor(re,de,me,ve,Ce,Ee,De,Pe,Ne,Ae,Oe,Re){super();this._editorProgressService=Re,this._onDidDispose=this._register(new v.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new v.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new v.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Ce,this._codeEditorService=Pe,this._contextKeyService=this._register(Ee.createScoped(re)),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ne,this._notificationService=Ae,this._id=++J,this._state=0,this._updatingDiffProgress=null,this._domElement=re,de=de||{},this._renderSideBySide=!0,typeof de.renderSideBySide!="undefined"&&(this._renderSideBySide=de.renderSideBySide),this._maxComputationTime=5e3,typeof de.maxComputationTime!="undefined"&&(this._maxComputationTime=de.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof de.ignoreTrimWhitespace!="undefined"&&(this._ignoreTrimWhitespace=de.ignoreTrimWhitespace),this._renderIndicators=!0,typeof de.renderIndicators!="undefined"&&(this._renderIndicators=de.renderIndicators),this._originalIsEditable=r.boolean(de.originalEditable,!1),this._diffCodeLens=r.boolean(de.diffCodeLens,!1),this._diffWordWrap=Y(de.diffWordWrap,"inherit"),typeof de.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",de.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof de.renderOverviewRuler!="undefined"&&(this._renderOverviewRuler=Boolean(de.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new S.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Ze._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=k.createFastDomNode(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(M.addStandardDisposableListener(this._overviewDomElement,"mousedown",be=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(be)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new G(Oe,ve),this._modifiedEditorState=new G(Oe,ve),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new W.ElementSizeObserver(this._containerDomElement,de.dimension,()=>this._onDidContainerSizeChanged())),de.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null;const Be=this._contextKeyService.createScoped(),we=new y.ServiceCollection;we.set(g.IContextKeyService,Be);const Se=De.createChild(we),fe=this._contextKeyService.createScoped(),oe=new y.ServiceCollection;oe.set(g.IContextKeyService,fe);const ge=De.createChild(oe);this._originalEditor=this._createLeftHandSideEditor(de,me.originalEditor||{},Se,Be),this._modifiedEditor=this._createRightHandSideEditor(de,me.modifiedEditor||{},ge,fe),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new a.DiffReview(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof de.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=de.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new ce(this._createDataSource(),this._enableSplitViewResizing)),this._register(Ne.onDidColorThemeChange(be=>{this._strategy&&this._strategy.applyColors(be)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Ze._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const _e=A.EditorExtensionsRegistry.getDiffEditorContributions();for(const be of _e)try{this._register(De.createInstance(be.ctor,this))}catch(ye){B.onUnexpectedError(ye)}this._codeEditorService.addDiffEditor(this)}_setState(re){this._state!==re&&(this._state=re,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(re,de){let me="monaco-diff-editor monaco-editor-background ";return de&&(me+="side-by-side "),me+=N.getThemeTypeSelector(re.type),me}_recreateOverviewRulers(){!this._renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(re,de,me,ve){const Ce=this._createInnerEditor(me,this._originalDomNode,this._adjustOptionsForLeftHandSide(re),de);this._register(Ce.onDidScrollChange(De=>{this._isHandlingScrollEvent||!De.scrollTopChanged&&!De.scrollLeftChanged&&!De.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:De.scrollLeft,scrollTop:De.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Ce.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Ce.onDidChangeConfiguration(De=>{!Ce.getModel()||(De.hasChanged(38)&&this._updateDecorationsRunner.schedule(),De.hasChanged(125)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Ce.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Ee=ve.createKey("isInDiffLeftEditor",void 0);return this._register(Ce.onDidFocusEditorWidget(()=>Ee.set(!0))),this._register(Ce.onDidBlurEditorWidget(()=>Ee.set(!1))),this._register(Ce.onDidContentSizeChange(De=>{const Pe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ze.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Pe,contentHeightChanged:De.contentHeightChanged,contentWidthChanged:De.contentWidthChanged})})),Ce}_createRightHandSideEditor(re,de,me,ve){const Ce=this._createInnerEditor(me,this._modifiedDomNode,this._adjustOptionsForRightHandSide(re),de);this._register(Ce.onDidScrollChange(De=>{this._isHandlingScrollEvent||!De.scrollTopChanged&&!De.scrollLeftChanged&&!De.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:De.scrollLeft,scrollTop:De.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(Ce.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(Ce.onDidChangeConfiguration(De=>{!Ce.getModel()||(De.hasChanged(38)&&this._updateDecorationsRunner.schedule(),De.hasChanged(125)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(Ce.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(Ce.onDidChangeModelOptions(De=>{De.tabSize&&this._updateDecorationsRunner.schedule()}));const Ee=ve.createKey("isInDiffRightEditor",void 0);return this._register(Ce.onDidFocusEditorWidget(()=>Ee.set(!0))),this._register(Ce.onDidBlurEditorWidget(()=>Ee.set(!1))),this._register(Ce.onDidContentSizeChange(De=>{const Pe=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Ze.ONE_OVERVIEW_WIDTH,Ne=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:Ne,contentWidth:Pe,contentHeightChanged:De.contentHeightChanged,contentWidthChanged:De.contentWidthChanged})})),Ce}_createInnerEditor(re,de,me,ve){return re.createInstance(u.CodeEditorWidget,de,me,ve)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return i.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(re){let de=!1;typeof re.renderSideBySide!="undefined"&&this._renderSideBySide!==re.renderSideBySide&&(this._renderSideBySide=re.renderSideBySide,de=!0),typeof re.maxComputationTime!="undefined"&&(this._maxComputationTime=re.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let me=!1;typeof re.ignoreTrimWhitespace!="undefined"&&this._ignoreTrimWhitespace!==re.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=re.ignoreTrimWhitespace,me=!0),typeof re.renderIndicators!="undefined"&&this._renderIndicators!==re.renderIndicators&&(this._renderIndicators=re.renderIndicators,me=!0),me&&this._beginUpdateDecorations(),this._originalIsEditable=r.boolean(re.originalEditable,this._originalIsEditable),this._diffCodeLens=r.boolean(re.diffCodeLens,this._diffCodeLens),this._diffWordWrap=Y(re.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(re)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(re)),typeof re.enableSplitViewResizing!="undefined"&&(this._enableSplitViewResizing=re.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),de&&(this._renderSideBySide?this._setStrategy(new q(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new ce(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=Ze._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof re.renderOverviewRuler!="undefined"&&this._renderOverviewRuler!==re.renderOverviewRuler&&(this._renderOverviewRuler=re.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(re){if(re&&(!re.original||!re.modified))throw new Error(re.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(re?re.original:null),this._modifiedEditor.setModel(re?re.modified:null),this._updateDecorationsRunner.cancel(),re&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),re&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(re){return this._modifiedEditor.getVisibleColumnFromPosition(re)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(re){this._modifiedEditor.setPosition(re)}revealLine(re,de=0){this._modifiedEditor.revealLine(re,de)}revealLineInCenter(re,de=0){this._modifiedEditor.revealLineInCenter(re,de)}revealLineInCenterIfOutsideViewport(re,de=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(re,de)}revealLineNearTop(re,de=0){this._modifiedEditor.revealLineNearTop(re,de)}revealPosition(re,de=0){this._modifiedEditor.revealPosition(re,de)}revealPositionInCenter(re,de=0){this._modifiedEditor.revealPositionInCenter(re,de)}revealPositionInCenterIfOutsideViewport(re,de=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(re,de)}revealPositionNearTop(re,de=0){this._modifiedEditor.revealPositionNearTop(re,de)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(re){this._modifiedEditor.setSelection(re)}setSelections(re){this._modifiedEditor.setSelections(re)}revealLines(re,de,me=0){this._modifiedEditor.revealLines(re,de,me)}revealLinesInCenter(re,de,me=0){this._modifiedEditor.revealLinesInCenter(re,de,me)}revealLinesInCenterIfOutsideViewport(re,de,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(re,de,me)}revealLinesNearTop(re,de,me=0){this._modifiedEditor.revealLinesNearTop(re,de,me)}revealRange(re,de=0,me=!1,ve=!0){this._modifiedEditor.revealRange(re,de,me,ve)}revealRangeInCenter(re,de=0){this._modifiedEditor.revealRangeInCenter(re,de)}revealRangeInCenterIfOutsideViewport(re,de=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(re,de)}revealRangeNearTop(re,de=0){this._modifiedEditor.revealRangeNearTop(re,de)}revealRangeNearTopIfOutsideViewport(re,de=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(re,de)}revealRangeAtTop(re,de=0){this._modifiedEditor.revealRangeAtTop(re,de)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const re=this._originalEditor.saveViewState(),de=this._modifiedEditor.saveViewState();return{original:re,modified:de}}restoreViewState(re){if(re&&re.original&&re.modified){const de=re;this._originalEditor.restoreViewState(de.original),this._modifiedEditor.restoreViewState(de.modified)}}layout(re){this._elementSizeObserver.observe(re)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(re,de,me){this._modifiedEditor.trigger(re,de,me)}changeDecorations(re){return this._modifiedEditor.changeDecorations(re)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!!this._renderOverviewRuler&&!(!this._originalOverviewRuler||!this._modifiedOverviewRuler)){const re=this._elementSizeObserver.getHeight(),de=this._getReviewHeight(),me=Ze.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ze.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Ze.ONE_OVERVIEW_WIDTH,right:me+Ze.ONE_OVERVIEW_WIDTH,height:re-de}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Ze.ONE_OVERVIEW_WIDTH,height:re-de}))}}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Ze.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(re,de){return!re&&!de?!0:!re||!de?!1:re.toString()===de.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const re=this._originalEditor.getModel(),de=this._modifiedEditor.getModel();if(!(!re||!de)){this._diffComputationToken++;const me=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(re.uri,de.uri)){(!Ze._equals(re.uri,this._lastOriginalWarning)||!Ze._equals(de.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=re.uri,this._lastModifiedWarning=de.uri,this._notificationService.warn(C.localize(2,null)));return}this._editorWorkerService.computeDiff(re.uri,de.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(ve=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&de===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ve,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ve=>{me===this._diffComputationToken&&re===this._originalEditor.getModel()&&de===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())){const re=this._diffComputationResult?this._diffComputationResult.changes:[],de=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),ve=this._strategy.getEditorsDiffDecorations(re,this._ignoreTrimWhitespace,this._renderIndicators,de,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,ve.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,ve.modified,!0)}finally{this._currentlyChangingViewZones=!1}}}_adjustOptionsForSubEditor(re){const de=Object.assign({},re);return de.inDiffEditor=!0,de.automaticLayout=!1,de.scrollbar=de.scrollbar||{},de.scrollbar.vertical="visible",de.folding=!1,de.codeLens=this._diffCodeLens,de.fixedOverflowWidgets=!0,de.minimap||(de.minimap={}),de.minimap.enabled=!1,de}_adjustOptionsForLeftHandSide(re){const de=this._adjustOptionsForSubEditor(re);return this._renderSideBySide?de.wordWrapOverride1=this._diffWordWrap:de.wordWrapOverride1="off",de.readOnly=!this._originalIsEditable,de.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},de),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(re){const de=this._adjustOptionsForSubEditor(re);return de.wordWrapOverride1=this._diffWordWrap,de.revealHorizontalRightPadding=r.EditorOptions.revealHorizontalRightPadding.defaultValue+Ze.ENTIRE_DIFF_OVERVIEW_WIDTH,de.scrollbar.verticalHasArrows=!1,de.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},de),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const re=this._elementSizeObserver.getWidth(),de=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),ve=this._strategy.layout();this._originalDomNode.style.width=ve+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=re-ve+"px",this._modifiedDomNode.style.left=ve+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=de-me+"px",this._overviewDomElement.style.width=Ze.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=re-Ze.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Ze.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:ve,height:de-me}),this._modifiedEditor.layout({width:re-ve-(this._renderOverviewRuler?Ze.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:de-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(de-me,re,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const re=this._computeOverviewViewport();re?(this._overviewViewportDomElement.setTop(re.top),this._overviewViewportDomElement.setHeight(re.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const re=this._modifiedEditor.getLayoutInfo();if(!re)return null;const de=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),ve=Math.max(0,re.height),Ce=Math.max(0,ve-2*0),Ee=me>0?Ce/me:0,De=Math.max(0,Math.floor(re.height*Ee)),Pe=Math.floor(de*Ee);return{height:De,top:Pe}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(re){this._strategy&&this._strategy.dispose(),this._strategy=re,re.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(re,de){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||re<de(me[0]))return null;let ve=0,Ce=me.length-1;for(;ve<Ce;){const Ee=Math.floor((ve+Ce)/2),De=de(me[Ee]),Pe=Ee+1<=Ce?de(me[Ee+1]):1073741824;re<De?Ce=Ee-1:re>=Pe?ve=Ee+1:(ve=Ee,Ce=Ee)}return me[ve]}_getEquivalentLineForOriginalLineNumber(re){const de=this._getLineChangeAtOrBeforeLineNumber(re,Pe=>Pe.originalStartLineNumber);if(!de)return re;const me=de.originalStartLineNumber+(de.originalEndLineNumber>0?-1:0),ve=de.modifiedStartLineNumber+(de.modifiedEndLineNumber>0?-1:0),Ce=de.originalEndLineNumber>0?de.originalEndLineNumber-de.originalStartLineNumber+1:0,Ee=de.modifiedEndLineNumber>0?de.modifiedEndLineNumber-de.modifiedStartLineNumber+1:0,De=re-me;return De<=Ce?ve+Math.min(De,Ee):ve+Ee-Ce+De}_getEquivalentLineForModifiedLineNumber(re){const de=this._getLineChangeAtOrBeforeLineNumber(re,Pe=>Pe.modifiedStartLineNumber);if(!de)return re;const me=de.originalStartLineNumber+(de.originalEndLineNumber>0?-1:0),ve=de.modifiedStartLineNumber+(de.modifiedEndLineNumber>0?-1:0),Ce=de.originalEndLineNumber>0?de.originalEndLineNumber-de.originalStartLineNumber+1:0,Ee=de.modifiedEndLineNumber>0?de.modifiedEndLineNumber-de.modifiedStartLineNumber+1:0,De=re-ve;return De<=Ee?me+Math.min(De,Ce):me+Ce-Ee+De}getDiffLineInformationForOriginal(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(re)}:null}getDiffLineInformationForModified(re){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(re)}:null}};X.ONE_OVERVIEW_WIDTH=15,X.ENTIRE_DIFF_OVERVIEW_WIDTH=30,X.UPDATE_DIFF_DECORATIONS_DELAY=200,X=Me([pe(3,O.IClipboardService),pe(4,t.IEditorWorkerService),pe(5,g.IContextKeyService),pe(6,b.IInstantiationService),pe(7,c.ICodeEditorService),pe(8,N.IThemeService),pe(9,L.INotificationService),pe(10,I.IContextMenuService),pe(11,E.IEditorProgressService)],X),e.DiffEditorWidget=X;class U extends l.Disposable{constructor(re){super();this._dataSource=re,this._insertColor=null,this._removeColor=null}applyColors(re){const de=(re.getColor(D.diffInserted)||D.defaultInsertColor).transparent(2),me=(re.getColor(D.diffRemoved)||D.defaultRemoveColor).transparent(2),ve=!de.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=de,this._removeColor=me,ve}getEditorsDiffDecorations(re,de,me,ve,Ce){Ce=Ce.sort((Ne,Ae)=>Ne.afterLineNumber-Ae.afterLineNumber),ve=ve.sort((Ne,Ae)=>Ne.afterLineNumber-Ae.afterLineNumber);const Ee=this._getViewZones(re,ve,Ce,me),De=this._getOriginalEditorDecorations(re,de,me),Pe=this._getModifiedEditorDecorations(re,de,me);return{original:{decorations:De.decorations,overviewZones:De.overviewZones,zones:Ee.original},modified:{decorations:Pe.decorations,overviewZones:Pe.overviewZones,zones:Ee.modified}}}}class P{constructor(re){this._source=re,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class x{constructor(re,de,me,ve,Ce){this._lineChanges=re,this._originalForeignVZ=de,this._modifiedForeignVZ=me,this._originalEditor=ve,this._modifiedEditor=Ce}static _getViewLineCount(re,de,me){const ve=re.getModel(),Ce=re._getViewModel();if(ve&&Ce){const Ee=le(ve,Ce,de,me);return Ee.endLineNumber-Ee.startLineNumber+1}return me-de+1}getViewZones(){const re=this._originalEditor.getOption(53),de=this._modifiedEditor.getOption(53),me=this._originalEditor.getOption(125).wrappingColumn!==-1,ve=this._modifiedEditor.getOption(125).wrappingColumn!==-1,Ce=me||ve,Ee=this._originalEditor.getModel(),De=this._originalEditor._getViewModel().coordinatesConverter,Pe=this._modifiedEditor._getViewModel().coordinatesConverter,Ne={original:[],modified:[]};let Ae=0,Oe=0,Re=0,Be=0,we=0,Se=0;const fe=(Le,ke)=>Le.afterLineNumber-ke.afterLineNumber,oe=(Le,ke)=>{if(ke.domNode===null&&Le.length>0){const Te=Le[Le.length-1];if(Te.afterLineNumber===ke.afterLineNumber&&Te.domNode===null){Te.heightInLines+=ke.heightInLines;return}}Le.push(ke)},ge=new P(this._modifiedForeignVZ),_e=new P(this._originalForeignVZ);let be=1,ye=1;for(let Le=0,ke=this._lineChanges.length;Le<=ke;Le++){const Te=Le<ke?this._lineChanges[Le]:null;Te!==null?(Re=Te.originalStartLineNumber+(Te.originalEndLineNumber>0?-1:0),Be=Te.modifiedStartLineNumber+(Te.modifiedEndLineNumber>0?-1:0),Oe=Te.originalEndLineNumber>0?x._getViewLineCount(this._originalEditor,Te.originalStartLineNumber,Te.originalEndLineNumber):0,Ae=Te.modifiedEndLineNumber>0?x._getViewLineCount(this._modifiedEditor,Te.modifiedStartLineNumber,Te.modifiedEndLineNumber):0,we=Math.max(Te.originalStartLineNumber,Te.originalEndLineNumber),Se=Math.max(Te.modifiedStartLineNumber,Te.modifiedEndLineNumber)):(Re+=1e7+Oe,Be+=1e7+Ae,we=Re,Se=Be);let xe=[],We=[];if(Ce){let Fe;Te?Te.originalEndLineNumber>0?Fe=Te.originalStartLineNumber-be:Fe=Te.modifiedStartLineNumber-ye:Fe=Ee.getLineCount()-be;for(let Ke=0;Ke<Fe;Ke++){const je=be+Ke,Ue=ye+Ke,qe=De.getModelLineViewLineCount(je),He=Pe.getModelLineViewLineCount(Ue);qe<He?xe.push({afterLineNumber:je,heightInLines:He-qe,domNode:null,marginDomNode:null}):qe>He&&We.push({afterLineNumber:Ue,heightInLines:qe-He,domNode:null,marginDomNode:null})}Te&&(be=(Te.originalEndLineNumber>0?Te.originalEndLineNumber:Te.originalStartLineNumber)+1,ye=(Te.modifiedEndLineNumber>0?Te.modifiedEndLineNumber:Te.modifiedStartLineNumber)+1)}for(;ge.current&&ge.current.afterLineNumber<=Se;){let Fe;ge.current.afterLineNumber<=Be?Fe=Re-Be+ge.current.afterLineNumber:Fe=we;let Ke=null;Te&&Te.modifiedStartLineNumber<=ge.current.afterLineNumber&&ge.current.afterLineNumber<=Te.modifiedEndLineNumber&&(Ke=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),xe.push({afterLineNumber:Fe,heightInLines:ge.current.height/de,domNode:null,marginDomNode:Ke}),ge.advance()}for(;_e.current&&_e.current.afterLineNumber<=we;){let Fe;_e.current.afterLineNumber<=Re?Fe=Be-Re+_e.current.afterLineNumber:Fe=Se,We.push({afterLineNumber:Fe,heightInLines:_e.current.height/re,domNode:null}),_e.advance()}if(Te!==null&&j(Te)){const Fe=this._produceOriginalFromDiff(Te,Oe,Ae);Fe&&xe.push(Fe)}if(Te!==null&&ne(Te)){const Fe=this._produceModifiedFromDiff(Te,Oe,Ae);Fe&&We.push(Fe)}let Ve=0,ze=0;for(xe=xe.sort(fe),We=We.sort(fe);Ve<xe.length&&ze<We.length;){const Fe=xe[Ve],Ke=We[ze],je=Fe.afterLineNumber-Re,Ue=Ke.afterLineNumber-Be;je<Ue?(oe(Ne.original,Fe),Ve++):Ue<je?(oe(Ne.modified,Ke),ze++):Fe.shouldNotShrink?(oe(Ne.original,Fe),Ve++):Ke.shouldNotShrink?(oe(Ne.modified,Ke),ze++):Fe.heightInLines>=Ke.heightInLines?(Fe.heightInLines-=Ke.heightInLines,ze++):(Ke.heightInLines-=Fe.heightInLines,Ve++)}for(;Ve<xe.length;)oe(Ne.original,xe[Ve]),Ve++;for(;ze<We.length;)oe(Ne.modified,We[ze]),ze++}return{original:x._ensureDomNodes(Ne.original),modified:x._ensureDomNodes(Ne.modified)}}static _ensureDomNodes(re){return re.map(de=>(de.domNode||(de.domNode=Z()),de))}}function H(he,re,de,me,ve){return{range:new d.Range(he,re,de,me),options:ve}}const z={charDelete:n.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:n.ModelDecorationOptions.register({className:"char-delete",isWholeLine:!0}),charInsert:n.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:n.ModelDecorationOptions.register({className:"char-insert",isWholeLine:!0}),lineInsert:n.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:n.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+N.ThemeIcon.asClassName(se),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:n.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:n.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+N.ThemeIcon.asClassName(ie),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:n.ModelDecorationOptions.register({marginClassName:"line-delete"})};class q extends U{constructor(re,de){super(re);this._disableSash=de===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new w.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(re){const de=re===!1;this._disableSash!==de&&(this._disableSash=de,this._sash.state=this._disableSash?0:3)}layout(re=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?X.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let ve=Math.floor((re||.5)*me);const Ce=Math.floor(.5*me);return ve=this._disableSash?Ce:ve||Ce,me>q.MINIMUM_EDITOR_WIDTH*2?(ve<q.MINIMUM_EDITOR_WIDTH&&(ve=q.MINIMUM_EDITOR_WIDTH),ve>me-q.MINIMUM_EDITOR_WIDTH&&(ve=me-q.MINIMUM_EDITOR_WIDTH)):ve=Ce,this._sashPosition!==ve&&(this._sashPosition=ve,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(re){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?X.ENTIRE_DIFF_OVERVIEW_WIDTH:0),ve=this.layout((this._startSashPosition+(re.currentX-re.startX))/me);this._sashRatio=ve/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(re){return 0}getVerticalSashLeft(re){return this._sashPosition}getVerticalSashHeight(re){return this._dataSource.getHeight()}_getViewZones(re,de,me){const ve=this._dataSource.getOriginalEditor(),Ce=this._dataSource.getModifiedEditor();return new Q(re,de,me,ve,Ce).getViewZones()}_getOriginalEditorDecorations(re,de,me){const ve=this._dataSource.getOriginalEditor(),Ce=String(this._removeColor),Ee={decorations:[],overviewZones:[]},De=ve.getModel(),Pe=ve._getViewModel();for(const Ne of re)if(ne(Ne)){Ee.decorations.push({range:new d.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:me?z.lineDeleteWithSign:z.lineDelete}),(!j(Ne)||!Ne.charChanges)&&Ee.decorations.push(H(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824,z.charDeleteWholeLine));const Ae=le(De,Pe,Ne.originalStartLineNumber,Ne.originalEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,Ce)),Ne.charChanges){for(const Oe of Ne.charChanges)if(ne(Oe))if(de)for(let Re=Oe.originalStartLineNumber;Re<=Oe.originalEndLineNumber;Re++){let Be,we;Re===Oe.originalStartLineNumber?Be=Oe.originalStartColumn:Be=De.getLineFirstNonWhitespaceColumn(Re),Re===Oe.originalEndLineNumber?we=Oe.originalEndColumn:we=De.getLineLastNonWhitespaceColumn(Re),Ee.decorations.push(H(Re,Be,Re,we,z.charDelete))}else Ee.decorations.push(H(Oe.originalStartLineNumber,Oe.originalStartColumn,Oe.originalEndLineNumber,Oe.originalEndColumn,z.charDelete))}}return Ee}_getModifiedEditorDecorations(re,de,me){const ve=this._dataSource.getModifiedEditor(),Ce=String(this._insertColor),Ee={decorations:[],overviewZones:[]},De=ve.getModel(),Pe=ve._getViewModel();for(const Ne of re)if(j(Ne)){Ee.decorations.push({range:new d.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:me?z.lineInsertWithSign:z.lineInsert}),(!ne(Ne)||!Ne.charChanges)&&Ee.decorations.push(H(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,z.charInsertWholeLine));const Ae=le(De,Pe,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,Ce)),Ne.charChanges){for(const Oe of Ne.charChanges)if(j(Oe))if(de)for(let Re=Oe.modifiedStartLineNumber;Re<=Oe.modifiedEndLineNumber;Re++){let Be,we;Re===Oe.modifiedStartLineNumber?Be=Oe.modifiedStartColumn:Be=De.getLineFirstNonWhitespaceColumn(Re),Re===Oe.modifiedEndLineNumber?we=Oe.modifiedEndColumn:we=De.getLineLastNonWhitespaceColumn(Re),Ee.decorations.push(H(Re,Be,Re,we,z.charInsert))}else Ee.decorations.push(H(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}}return Ee}}q.MINIMUM_EDITOR_WIDTH=100;class Q extends x{constructor(re,de,me,ve,Ce){super(re,de,me,ve,Ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(re,de,me){return me>de?{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me-de,domNode:null}:null}_produceModifiedFromDiff(re,de,me){return de>me?{afterLineNumber:Math.max(re.modifiedStartLineNumber,re.modifiedEndLineNumber),heightInLines:de-me,domNode:null}:null}}class ce extends U{constructor(re,de){super(re);this._decorationsLeft=re.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(re.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,re.relayoutEditors())}))}setEnableSplitViewResizing(re){}_getViewZones(re,de,me,ve){const Ce=this._dataSource.getOriginalEditor(),Ee=this._dataSource.getModifiedEditor();return new ue(re,de,me,Ce,Ee,ve).getViewZones()}_getOriginalEditorDecorations(re,de,me){const ve=String(this._removeColor),Ce={decorations:[],overviewZones:[]},Ee=this._dataSource.getOriginalEditor(),De=Ee.getModel(),Pe=Ee._getViewModel();for(const Ne of re)if(ne(Ne)){Ce.decorations.push({range:new d.Range(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,1073741824),options:z.lineDeleteMargin});const Ae=le(De,Pe,Ne.originalStartLineNumber,Ne.originalEndLineNumber);Ce.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,ve))}return Ce}_getModifiedEditorDecorations(re,de,me){const ve=this._dataSource.getModifiedEditor(),Ce=String(this._insertColor),Ee={decorations:[],overviewZones:[]},De=ve.getModel(),Pe=ve._getViewModel();for(const Ne of re)if(j(Ne)){Ee.decorations.push({range:new d.Range(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824),options:me?z.lineInsertWithSign:z.lineInsert});const Ae=le(De,Pe,Ne.modifiedStartLineNumber,Ne.modifiedEndLineNumber);if(Ee.overviewZones.push(new o.OverviewRulerZone(Ae.startLineNumber,Ae.endLineNumber,Ce)),Ne.charChanges){for(const Oe of Ne.charChanges)if(j(Oe))if(de)for(let Re=Oe.modifiedStartLineNumber;Re<=Oe.modifiedEndLineNumber;Re++){let Be,we;Re===Oe.modifiedStartLineNumber?Be=Oe.modifiedStartColumn:Be=De.getLineFirstNonWhitespaceColumn(Re),Re===Oe.modifiedEndLineNumber?we=Oe.modifiedEndColumn:we=De.getLineLastNonWhitespaceColumn(Re),Ee.decorations.push(H(Re,Be,Re,we,z.charInsert))}else Ee.decorations.push(H(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,z.charInsert))}else Ee.decorations.push(H(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,1073741824,z.charInsertWholeLine))}return Ee}layout(){return Math.max(5,this._decorationsLeft)}}class ue extends x{constructor(re,de,me,ve,Ce,Ee){super(re,de,me,ve,Ce);this._originalModel=ve.getModel(),this._renderIndicators=Ee,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const re=super.getViewZones();return this._finalize(re),re}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const re=document.createElement("div");return re.className="inline-added-margin-view-zone",re}_produceOriginalFromDiff(re,de,me){const ve=document.createElement("div");return ve.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(re.originalStartLineNumber,re.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:ve}}_produceModifiedFromDiff(re,de,me){const ve=document.createElement("div");ve.className=`view-lines line-delete ${F.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const Ce=document.createElement("div");Ce.className="inline-deleted-margin-view-zone";const Ee={shouldNotShrink:!0,afterLineNumber:re.modifiedEndLineNumber===0?re.modifiedStartLineNumber:re.modifiedStartLineNumber-1,heightInLines:de,minWidthInPx:0,domNode:ve,marginDomNode:Ce,diff:{originalStartLineNumber:re.originalStartLineNumber,originalEndLineNumber:re.originalEndLineNumber,modifiedStartLineNumber:re.modifiedStartLineNumber,modifiedEndLineNumber:re.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let De=re.originalStartLineNumber;De<=re.originalEndLineNumber;De++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(De),null);return this._pendingLineChange.push(re),this._pendingViewZones.push(Ee),Ee}_finalize(re){const de=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,ve=de.get(38),Ce=de.get(26),Ee=ve.typicalHalfwidthCharacterWidth,De=de.get(88),Pe=this._originalModel.mightContainNonBasicASCII(),Ne=this._originalModel.mightContainRTL(),Ae=de.get(53),Re=de.get(124).decorationsWidth,Be=de.get(100),we=de.get(83),Se=de.get(77),fe=de.get(39),oe=this._lineBreaksComputer.finalize();let ge=0;for(let _e=0;_e<this._pendingLineChange.length;_e++){const be=this._pendingLineChange[_e],ye=this._pendingViewZones[_e],Le=ye.domNode;f.Configuration.applyFontInfoSlow(Le,ve);const ke=ye.marginDomNode;f.Configuration.applyFontInfoSlow(ke,ve);const Te=[];if(be.charChanges)for(const Ue of be.charChanges)ne(Ue)&&Te.push(new m.InlineDecoration(new d.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const xe=Te.length>0,We=s.createStringBuilder(1e4);let Ve=0,ze=0,Fe=null;for(let Ue=be.originalStartLineNumber;Ue<=be.originalEndLineNumber;Ue++){const qe=Ue-be.originalStartLineNumber,He=this._originalModel.getLineTokens(Ue),Qe=He.getLineContent(),Ge=oe[ge++],Ye=h.LineDecoration.filter(Te,Ue,1,Qe.length+1);if(Ge){let Xe=0;for(const et of Ge.breakOffsets){const it=He.sliceAndInflate(Xe,et,0),ii=Qe.substring(Xe,et);Ve=Math.max(Ve,this._renderOriginalLine(ze++,ii,it,h.LineDecoration.extractWrapped(Ye,Xe,et),xe,Pe,Ne,ve,Ce,Ae,Re,Be,we,Se,fe,me,We,ke)),Xe=et}for(Fe||(Fe=[]);Fe.length<qe;)Fe[Fe.length]=1;Fe[qe]=Ge.breakOffsets.length,ye.heightInLines+=Ge.breakOffsets.length-1;const Je=document.createElement("div");Je.className="line-delete",re.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:Ge.breakOffsets.length-1,domNode:Z(),marginDomNode:Je})}else Ve=Math.max(Ve,this._renderOriginalLine(ze++,Qe,He,Ye,xe,Pe,Ne,ve,Ce,Ae,Re,Be,we,Se,fe,me,We,ke))}Ve+=De;const Ke=We.build(),je=ae?ae.createHTML(Ke):Ke;if(Le.innerHTML=je,ye.minWidthInPx=Ve*Ee,Fe){const Ue=be.originalEndLineNumber-be.originalStartLineNumber;for(;Fe.length<=Ue;)Fe[Fe.length]=1}ye.diff.viewLineCounts=Fe}re.original.sort((_e,be)=>_e.afterLineNumber-be.afterLineNumber)}_renderOriginalLine(re,de,me,ve,Ce,Ee,De,Pe,Ne,Ae,Oe,Re,Be,we,Se,fe,oe,ge){oe.appendASCIIString('<div class="view-line'),Ce||oe.appendASCIIString(" char-delete"),oe.appendASCIIString('" style="top:'),oe.appendASCIIString(String(re*Ae)),oe.appendASCIIString('px;width:1000000px;">');const _e=m.ViewLineRenderingData.isBasicASCII(de,Ee),be=m.ViewLineRenderingData.containsRTL(de,_e,De),ye=_.renderViewLine(new _.RenderLineInput(Pe.isMonospace&&!Ne,Pe.canUseHalfwidthRightwardsArrow,de,!1,_e,be,0,me,ve,fe,0,Pe.spaceWidth,Pe.middotWidth,Pe.wsmiddotWidth,Re,Be,we,Se!==r.EditorFontLigatures.OFF,null),oe);if(oe.appendASCIIString("</div>"),this._renderIndicators){const ke=document.createElement("div");ke.className=`delete-sign ${N.ThemeIcon.asClassName(ie)}`,ke.setAttribute("style",`position:absolute;top:${re*Ae}px;width:${Oe}px;height:${Ae}px;right:0;`),ge.appendChild(ke)}const Le=ye.characterMapping.getAbsoluteOffsets();return Le.length>0?Le[Le.length-1]:0}}function Y(he,re){return r.stringSet(he,re,["off","on","inherit"])}function j(he){return he.modifiedEndLineNumber>0}function ne(he){return he.originalEndLineNumber>0}function Z(){const he=document.createElement("div");return he.className="diagonal-fill",he}function le(he,re,de,me){const ve=he.getLineCount();return de=Math.min(ve,Math.max(1,de)),me=Math.min(ve,Math.max(1,me)),re.coordinatesConverter.convertModelRangeToViewRange(new d.Range(de,he.getLineMinColumn(de),me,he.getLineMaxColumn(me)))}N.registerThemingParticipant((he,re)=>{const de=he.getColor(D.diffInserted);de&&(re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${de}; }`),re.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${de}; }`),re.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${de}; }`));const me=he.getColor(D.diffRemoved);me&&(re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${me}; }`),re.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${me}; }`));const ve=he.getColor(D.diffInsertedOutline);ve&&re.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${he.type==="hc"?"dashed":"solid"} ${ve}; }`);const Ce=he.getColor(D.diffRemovedOutline);Ce&&re.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${he.type==="hc"?"dashed":"solid"} ${Ce}; }`);const Ee=he.getColor(D.scrollbarShadow);Ee&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Ee}; }`);const De=he.getColor(D.diffBorder);De&&re.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${De}; }`);const Pe=he.getColor(D.scrollbarSliderBackground);Pe&&re.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Pe};
			}
		`);const Ne=he.getColor(D.scrollbarSliderHoverBackground);Ne&&re.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Ne};
			}
		`);const Ae=he.getColor(D.scrollbarSliderActiveBackground);Ae&&re.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${Ae};
			}
		`);const Oe=he.getColor(D.diffDiagonalFill);re.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Oe} 12.5%,
			#0000 12.5%, #0000 50%,
			${Oe} 50%, ${Oe} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(ee[649],te([0,1,467,7,47,160,104,52,15,11,2,16,8,3,143,22,12,564,27,80,337]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const o=t.registerIcon("find-selection",n.Codicon.selection,C.localize(0,null)),h=t.registerIcon("find-collapsed",n.Codicon.chevronRight,C.localize(1,null)),_=t.registerIcon("find-expanded",n.Codicon.chevronDown,C.localize(2,null));e.findReplaceIcon=t.registerIcon("find-replace",n.Codicon.replace,C.localize(3,null)),e.findReplaceAllIcon=t.registerIcon("find-replace-all",n.Codicon.replaceAll,C.localize(4,null)),e.findPreviousMatchIcon=t.registerIcon("find-previous-match",n.Codicon.arrowUp,C.localize(5,null)),e.findNextMatchIcon=t.registerIcon("find-next-match",n.Codicon.arrowDown,C.localize(6,null));const m=C.localize(7,null),g=C.localize(8,null),b=C.localize(9,null),y=C.localize(10,null),L=C.localize(11,null),D=C.localize(12,null),N=C.localize(13,null),I=C.localize(14,null),T=C.localize(15,null),O=C.localize(16,null),A=C.localize(17,null),B=C.localize(18,null,r.MATCHES_LIMIT),E=C.localize(19,null),W=C.localize(20,null),R=419,V=275-54;let K=69;const G=33,J="ctrlEnterReplaceAll.windows.donotask",se=c.isMacintosh?256:2048;class ie{constructor(H){this.afterLineNumber=H,this.heightInPx=G,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=ie;function ae(x,H,z){const q=!!H.match(/\n/);if(z&&q&&z.selectionStart>0){x.stopPropagation();return}}function X(x,H,z){const q=!!H.match(/\n/);if(z&&q&&z.selectionEnd<z.value.length){x.stopPropagation();return}}class U extends v.Widget{constructor(H,z,q,Q,ce,ue,Y,j,ne){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=H,this._controller=z,this._state=q,this._contextViewProvider=Q,this._keybindingService=ce,this._contextKeyService=ue,this._storageService=j,this._notificationService=ne,this._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(J,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new l.Delayer(500),this._register(p.toDisposable(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Z=>this._onStateChanged(Z))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Z=>{if(Z.hasChanged(75)&&(this._codeEditor.getOption(75)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Z.hasChanged(124)&&this._tryUpdateWidgetWidth(),Z.hasChanged(2)&&this.updateAccessibilitySupport(),Z.hasChanged(31)){const le=this._codeEditor.getOption(31).addExtraSpaceOnTop;le&&!this._viewZone&&(this._viewZone=new ie(0),this._showViewZone()),!le&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ie(this,void 0,void 0,function*(){if(this._isVisible){let Z=yield this._controller.getGlobalBufferTerm();Z&&Z!==this._state.searchString&&(this._state.change({searchString:Z},!1),this._findInput.select())}}))),this._findInputFocused=r.CONTEXT_FIND_INPUT_FOCUSED.bindTo(ue),this._findFocusTracker=this._register(M.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=r.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(ue),this._replaceFocusTracker=this._register(M.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(31).addExtraSpaceOnTop&&(this._viewZone=new ie(0)),this._applyTheme(Y.getColorTheme()),this._register(Y.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Z=>{if(Z.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return U.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(H){if(H.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(H.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),H.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),H.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(75)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=M.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(H.isRevealed||H.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),H.isRegex&&this._findInput.setRegex(this._state.isRegex),H.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),H.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),H.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),H.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),H.searchString||H.matchesCount||H.matchesPosition){let z=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",z),this._updateMatchesCount(),this._updateButtons()}(H.searchString||H.currentMatch)&&this._layoutViewZone(),H.updateHistory&&this._delayedUpdateHistory(),H.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,f.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=K+"px",this._state.matchesCount>=r.MATCHES_LIMIT?this._matchesCount.title=B:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let H;if(this._state.matchesCount>0){let z=String(this._state.matchesCount);this._state.matchesCount>=r.MATCHES_LIMIT&&(z+="+");let q=String(this._state.matchesPosition);q==="0"&&(q="?"),H=u.format(E,q,z)}else H=W;this._matchesCount.appendChild(document.createTextNode(H)),k.alert(this._getAriaLabel(H,this._state.currentMatch,this._state.searchString)),K=Math.max(K,this._matchesCount.clientWidth)}_getAriaLabel(H,z,q){if(H===W)return q===""?C.localize(21,null,H):C.localize(22,null,H,q);if(z){const Q=C.localize(23,null,H,q,z.startLineNumber+":"+z.startColumn),ce=this._codeEditor.getModel();return ce&&z.startLineNumber<=ce.getLineCount()&&z.startLineNumber>=1?`${ce.getLineContent(z.startLineNumber)}, ${Q}`:Q}return C.localize(24,null,H,q)}_updateToggleSelectionFindButton(){let H=this._codeEditor.getSelection(),z=H?H.startLineNumber!==H.endLineNumber||H.startColumn!==H.endColumn:!1,q=this._toggleSelectionFind.checked;this._isVisible&&(q||z)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let H=this._state.searchString.length>0,z=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&H&&z&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&H&&z&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&H),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&H),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let q=!this._codeEditor.getOption(75);this._toggleReplaceBtn.setEnabled(this._isVisible&&q)}_reveal(){if(this._revealTimeouts.forEach(H=>{clearTimeout(H)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const H=this._codeEditor.getSelection();switch(this._codeEditor.getOption(31).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const q=!!H&&H.startLineNumber!==H.endLineNumber;this._toggleSelectionFind.checked=q;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let z=!0;if(this._codeEditor.getOption(31).seedSearchStringFromSelection&&H){const q=this._codeEditor.getDomNode();if(q){const Q=M.getDomNodePagePosition(q),ce=this._codeEditor.getScrolledVisiblePosition(H.getStartPosition()),ue=Q.left+(ce?ce.left:0),Y=ce?ce.top:0;if(this._viewZone&&Y<this._viewZone.heightInPx){H.endLineNumber>H.startLineNumber&&(z=!1);const j=M.getTopLeftOffset(this._domNode).left;ue>j&&(z=!1);const ne=this._codeEditor.getScrolledVisiblePosition(H.getEndPosition());Q.left+(ne?ne.left:0)>j&&(z=!1)}}}this._showViewZone(z)}}_hide(H){this._revealTimeouts.forEach(z=>{clearTimeout(z)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),H&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(H){if(!this._codeEditor.getOption(31).addExtraSpaceOnTop){this._removeViewZone();return}if(!!this._isVisible){const q=this._viewZone;this._viewZoneId!==void 0||!q||this._codeEditor.changeViewZones(Q=>{q.heightInPx=this._getHeight(),this._viewZoneId=Q.addZone(q),this._codeEditor.setScrollTop(H||this._codeEditor.getScrollTop()+q.heightInPx)})}}_showViewZone(H=!0){if(!!this._isVisible&&!!this._codeEditor.getOption(31).addExtraSpaceOnTop){this._viewZone===void 0&&(this._viewZone=new ie(0));const q=this._viewZone;this._codeEditor.changeViewZones(Q=>{if(this._viewZoneId!==void 0){const ce=this._getHeight();if(ce===q.heightInPx)return;let ue=ce-q.heightInPx;q.heightInPx=ce,Q.layoutZone(this._viewZoneId),H&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ue);return}else{let ce=this._getHeight();if(ce-=this._codeEditor.getOption(69).top,ce<=0)return;q.heightInPx=ce,this._viewZoneId=Q.addZone(q),H&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ce)}})}}_removeViewZone(){this._codeEditor.changeViewZones(H=>{this._viewZoneId!==void 0&&(H.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(H){let z={inputActiveOptionBorder:H.getColor(d.inputActiveOptionBorder),inputActiveOptionBackground:H.getColor(d.inputActiveOptionBackground),inputActiveOptionForeground:H.getColor(d.inputActiveOptionForeground),inputBackground:H.getColor(d.inputBackground),inputForeground:H.getColor(d.inputForeground),inputBorder:H.getColor(d.inputBorder),inputValidationInfoBackground:H.getColor(d.inputValidationInfoBackground),inputValidationInfoForeground:H.getColor(d.inputValidationInfoForeground),inputValidationInfoBorder:H.getColor(d.inputValidationInfoBorder),inputValidationWarningBackground:H.getColor(d.inputValidationWarningBackground),inputValidationWarningForeground:H.getColor(d.inputValidationWarningForeground),inputValidationWarningBorder:H.getColor(d.inputValidationWarningBorder),inputValidationErrorBackground:H.getColor(d.inputValidationErrorBackground),inputValidationErrorForeground:H.getColor(d.inputValidationErrorForeground),inputValidationErrorBorder:H.getColor(d.inputValidationErrorBorder)};this._findInput.style(z),this._replaceInput.style(z),this._toggleSelectionFind.style(z)}_tryUpdateWidgetWidth(){if(!!this._isVisible&&!!M.isInDOM(this._domNode)){const H=this._codeEditor.getLayoutInfo();if(H.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const q=H.width,Q=H.minimap.minimapWidth;let ce=!1,ue=!1,Y=!1;if(this._resized&&M.getTotalWidth(this._domNode)>R){this._domNode.style.maxWidth=`${q-28-Q-15}px`,this._replaceInput.width=M.getTotalWidth(this._findInput.domNode);return}if(R+28+Q>=q&&(ue=!0),R+28+Q-K>=q&&(Y=!0),R+28+Q-K>=q+50&&(ce=!0),this._domNode.classList.toggle("collapsed-find-widget",ce),this._domNode.classList.toggle("narrow-find-widget",Y),this._domNode.classList.toggle("reduced-find-widget",ue),!Y&&!ce&&(this._domNode.style.maxWidth=`${q-28-Q-15}px`),this._resized){this._findInput.inputBox.layout();let j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=M.getTotalWidth(this._findInput.domNode))}}_getHeight(){let H=0;return H+=4,H+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(H+=4,H+=this._replaceInput.inputBox.height+2),H+=4,H}_tryUpdateHeight(){const H=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===H?!1:(this._cachedHeight=H,this._domNode.style.height=`${H}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let H=this._codeEditor.getSelections();H.map(z=>{z.endColumn===1&&z.endLineNumber>z.startLineNumber&&(z=z.setEndPosition(z.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(z.endLineNumber-1)));const q=this._state.currentMatch;return z.startLineNumber!==z.endLineNumber&&!a.Range.equalsRange(z,q)?z:null}).filter(z=>!!z),H.length&&this._state.change({searchScope:H},!0)}}_onFindInputMouseDown(H){H.middleButton&&H.stopPropagation()}_onFindInputKeyDown(H){if(H.equals(se|3)){this._findInput.inputBox.insertAtCursor(`
`),H.preventDefault();return}if(H.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),H.preventDefault();return}if(H.equals(2048|18)){this._codeEditor.focus(),H.preventDefault();return}if(H.equals(16))return ae(H,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(H.equals(18))return X(H,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(H){if(H.equals(se|3)){c.isWindows&&c.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(C.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(J,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),H.preventDefault();return}if(H.equals(2)){this._findInput.focusOnCaseSensitive(),H.preventDefault();return}if(H.equals(1024|2)){this._findInput.focus(),H.preventDefault();return}if(H.equals(2048|18)){this._codeEditor.focus(),H.preventDefault();return}if(H.equals(16))return ae(H,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(H.equals(18))return X(H,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(H){return 0}_keybindingLabelFor(H){let z=this._keybindingService.lookupKeybinding(H);return z?` (${z.getLabel()})`:""}_buildDomNode(){const H=!0,z=!0;this._findInput=this._register(new i.ContextScopedFindInput(null,this._contextViewProvider,{width:V,label:m,placeholder:g,appendCaseSensitiveLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(r.FIND_IDS.ToggleRegexCommand),validation:j=>{if(j.length===0||!this._findInput.getRegex())return null;try{return new RegExp(j,"gu"),null}catch(ne){return{content:ne.message}}},flexibleHeight:H,flexibleWidth:z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(j=>this._onFindInputKeyDown(j))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(j=>{j.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),j.preventDefault())})),this._register(this._findInput.onRegexKeyDown(j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),j.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(j=>{this._tryUpdateHeight()&&this._showViewZone()})),c.isLinux&&this._register(this._findInput.onMouseDown(j=>this._onFindInputMouseDown(j))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new P({label:b+this._keybindingLabelFor(r.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.PreviousMatchFindAction).run().then(void 0,f.onUnexpectedError)}})),this._nextBtn=this._register(new P({label:y+this._keybindingLabelFor(r.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(r.FIND_IDS.NextMatchFindAction).run().then(void 0,f.onUnexpectedError)}}));let q=document.createElement("div");q.className="find-part",q.appendChild(this._findInput.domNode);const Q=document.createElement("div");Q.className="find-actions",q.appendChild(Q),Q.appendChild(this._matchesCount),Q.appendChild(this._prevBtn.domNode),Q.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new w.Checkbox({icon:o,title:L+this._keybindingLabelFor(r.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let j=this._codeEditor.getSelections();j.map(ne=>(ne.endColumn===1&&ne.endLineNumber>ne.startLineNumber&&(ne=ne.setEndPosition(ne.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ne.endLineNumber-1))),ne.isEmpty()?null:ne)).filter(ne=>!!ne),j.length&&this._state.change({searchScope:j},!0)}}else this._state.change({searchScope:null},!0)})),Q.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new P({label:D+this._keybindingLabelFor(r.FIND_IDS.CloseFindWidgetCommand),icon:t.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),j.preventDefault())}})),Q.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new i.ContextScopedReplaceInput(null,void 0,{label:N,placeholder:I,appendPreserveCaseLabel:this._keybindingLabelFor(r.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:H,flexibleWidth:z,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(j=>this._onReplaceInputKeyDown(j))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(j=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(j=>{j.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),j.preventDefault())})),this._replaceBtn=this._register(new P({label:T+this._keybindingLabelFor(r.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:j=>{j.equals(1024|2)&&(this._closeBtn.focus(),j.preventDefault())}})),this._replaceAllBtn=this._register(new P({label:O+this._keybindingLabelFor(r.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let ce=document.createElement("div");ce.className="replace-part",ce.appendChild(this._replaceInput.domNode);const ue=document.createElement("div");ue.className="replace-actions",ce.appendChild(ue),ue.appendChild(this._replaceBtn.domNode),ue.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new P({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=M.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${R}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(q),this._domNode.appendChild(ce),this._resizeSash=new S.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Y=R;this._register(this._resizeSash.onDidStart(()=>{Y=M.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(j=>{this._resized=!0;let ne=Y+j.startX-j.currentX;if(!(ne<R)){const Z=parseFloat(M.getComputedStyle(this._domNode).maxWidth)||0;ne>Z||(this._domNode.style.width=`${ne}px`,this._isReplaceVisible&&(this._replaceInput.width=M.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}})),this._register(this._resizeSash.onDidReset(()=>{const j=M.getTotalWidth(this._domNode);if(!(j<R)){let ne=R;if(!this._resized||j===R){const Z=this._codeEditor.getLayoutInfo();ne=Z.width-28-Z.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${ne}px`,this._isReplaceVisible&&(this._replaceInput.width=M.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}}))}updateAccessibilitySupport(){const H=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(H!==2)}}e.FindWidget=U,U.ID="editor.contrib.findWidget";class P extends v.Widget{constructor(H){super();this._opts=H;let z="button";this._opts.className&&(z=z+" "+this._opts.className),this._opts.icon&&(z=z+" "+s.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=z,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,q=>{this._opts.onTrigger(),q.preventDefault()}),this.onkeydown(this._domNode,q=>{if(q.equals(10)||q.equals(3)){this._opts.onTrigger(),q.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(q)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(H){this._domNode.classList.toggle("disabled",!H),this._domNode.setAttribute("aria-disabled",String(!H)),this._domNode.tabIndex=H?0:-1}setExpanded(H){this._domNode.setAttribute("aria-expanded",String(!!H)),H?(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(h)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(_))):(this._domNode.classList.remove(...s.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...s.ThemeIcon.asClassNameArray(h)))}}e.SimpleButton=P,s.registerThemingParticipant((x,H)=>{const z=(re,de)=>{de&&H.addRule(`.monaco-editor ${re} { background-color: ${de}; }`)};z(".findMatch",x.getColor(d.editorFindMatchHighlight)),z(".currentFindMatch",x.getColor(d.editorFindMatch)),z(".findScope",x.getColor(d.editorFindRangeHighlight));const q=x.getColor(d.editorWidgetBackground);z(".find-widget",q);const Q=x.getColor(d.widgetShadow);Q&&H.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Q}; }`);const ce=x.getColor(d.editorFindMatchHighlightBorder);ce&&H.addRule(`.monaco-editor .findMatch { border: 1px ${x.type==="hc"?"dotted":"solid"} ${ce}; box-sizing: border-box; }`);const ue=x.getColor(d.editorFindMatchBorder);ue&&H.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${ue}; padding: 1px; box-sizing: border-box; }`);const Y=x.getColor(d.editorFindRangeHighlightBorder);Y&&H.addRule(`.monaco-editor .findScope { border: 1px ${x.type==="hc"?"dashed":"solid"} ${Y}; }`);const j=x.getColor(d.contrastBorder);j&&H.addRule(`.monaco-editor .find-widget { border: 1px solid ${j}; }`);const ne=x.getColor(d.editorWidgetForeground);ne&&H.addRule(`.monaco-editor .find-widget { color: ${ne}; }`);const Z=x.getColor(d.errorForeground);Z&&H.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Z}; }`);const le=x.getColor(d.editorWidgetResizeBorder);if(le)H.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${le}; }`);else{const re=x.getColor(d.editorWidgetBorder);re&&H.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${re}; }`)}const he=x.getColor(d.focusBorder);he&&H.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(ee[265],te([0,1,466,15,2,8,14,25,143,592,593,649,35,84,18,68,37,79,12,32]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorStartFindReplaceAction=e.EditorStartFindAction=e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction2=e.PreviousMatchFindAction=e.NextMatchFindAction2=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const o=524288;function h(W,R="single"){if(!W.hasModel())return null;const F=W.getSelection();if(R==="single"&&F.startLineNumber===F.endLineNumber||R==="multiple"){if(F.isEmpty()){const V=W.getConfiguredWordAtPosition(F.getStartPosition());if(V)return V.word}else if(W.getModel().getValueLengthInRange(F)<o)return W.getModel().getValueInRange(F)}return null}e.getSelectionSearchString=h;let _=class Ut extends k.Disposable{constructor(R,F,V,K){super();this._editor=R,this._findWidgetVisible=l.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(F),this._contextKeyService=F,this._storageService=V,this._clipboardService=K,this._updateHistoryDelayer=new M.Delayer(500),this._state=this._register(new p.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(G=>this._onStateChanged(G))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let G=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),G&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(31).loop})}))}get editor(){return this._editor}static get(R){return R.getContribution(Ut.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(R){this.saveQueryState(R),R.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),R.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(R){R.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),R.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),R.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),R.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!l.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let R=this._editor.getSelections();R.map(F=>(F.endColumn===1&&F.endLineNumber>F.startLineNumber&&(F=F.setEndPosition(F.endLineNumber-1,this._editor.getModel().getLineMaxColumn(F.endLineNumber-1))),F.isEmpty()?null:F)).filter(F=>!!F),R.length&&this._state.change({searchScope:R},!0)}}setSearchString(R){this._state.isRegex&&(R=w.escapeRegExpCharacters(R)),this._state.change({searchString:R},!1)}highlightFindOptions(R=!1){}_start(R){return Ie(this,void 0,void 0,function*(){if(this.disposeModel(),!!this._editor.hasModel()){let F={isRevealed:!0};if(R.seedSearchStringFromSelection==="single"){let V=h(this._editor,R.seedSearchStringFromSelection);V&&(this._state.isRegex?F.searchString=w.escapeRegExpCharacters(V):F.searchString=V)}else if(R.seedSearchStringFromSelection==="multiple"&&!R.updateSearchScope){let V=h(this._editor,R.seedSearchStringFromSelection);V&&(F.searchString=V)}if(!F.searchString&&R.seedSearchStringFromGlobalClipboard){let V=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;V&&(F.searchString=V)}if(R.forceRevealReplace?F.isReplaceRevealed=!0:this._findWidgetVisible.get()||(F.isReplaceRevealed=!1),R.updateSearchScope){let V=this._editor.getSelections();V.some(K=>!K.isEmpty())&&(F.searchScope=V)}F.loop=R.loop,this._state.change(F,!1),this._model||(this._model=new l.FindModelBoundToEditorModel(this._editor,this._state))}})}start(R){return this._start(R)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ie(this,void 0,void 0,function*(){return this._editor.getOption(31).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(R){this._editor.getOption(31).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(R)}};_.ID="editor.contrib.findController",_=Me([pe(1,r.IContextKeyService),pe(2,i.IStorageService),pe(3,a.IClipboardService)],_),e.CommonFindController=_;let m=class extends _{constructor(R,F,V,K,G,J,se,ie){super(R,V,se,ie);this._contextViewService=F,this._keybindingService=K,this._themeService=G,this._notificationService=J,this._widget=null,this._findOptionsWidget=null}_start(R){const F=Object.create(null,{_start:{get:()=>super._start}});return Ie(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const V=this._editor.getSelection();let K=!1;switch(this._editor.getOption(31).autoFindInSelection){case"always":K=!0;break;case"never":K=!1;break;case"multiline":K=!!V&&V.startLineNumber!==V.endLineNumber;break;default:break}R.updateSearchScope=K,yield F._start.call(this,R),this._widget&&(R.shouldFocus===2?this._widget.focusReplaceInput():R.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(R=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!R?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new c.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new f.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};m=Me([pe(1,d.IContextViewService),pe(2,r.IContextKeyService),pe(3,s.IKeybindingService),pe(4,n.IThemeService),pe(5,t.INotificationService),pe(6,i.IStorageService),pe(7,a.IClipboardService)],m),e.FindController=m;class g extends S.MultiEditorAction{constructor(){super({id:l.FIND_IDS.StartFindAction,label:C.localize(0,null),alias:"Find",precondition:r.ContextKeyExpr.or(r.ContextKeyExpr.has("editorFocus"),r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:u.MenuId.MenubarEditMenu,group:"3_find",title:C.localize(1,null),order:1}})}run(R,F){return Ie(this,void 0,void 0,function*(){let V=_.get(F);V&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:F.getOption(31).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(31).loop}))})}}e.StartFindAction=g;class b extends S.EditorAction{constructor(){super({id:l.FIND_IDS.StartFindWithSelection,label:C.localize(2,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(R,F){return Ie(this,void 0,void 0,function*(){let V=_.get(F);V&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(31).loop}),V.setGlobalBufferTerm(V.getState().searchString))})}}e.StartFindWithSelectionAction=b;class y extends S.EditorAction{run(R,F){return Ie(this,void 0,void 0,function*(){let V=_.get(F);V&&!this._run(V)&&(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getState().searchString.length===0&&F.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(31).loop}),this._run(V))})}}e.MatchFindAction=y;class L extends y{constructor(){super({id:l.FIND_IDS.NextMatchFindAction,label:C.localize(3,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100}})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=L;class D extends y{constructor(){super({id:l.FIND_IDS.NextMatchFindAction,label:C.localize(4,null),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(v.EditorContextKeys.focus,l.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}})}_run(R){return R.moveToNextMatch()?(R.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction2=D;class N extends y{constructor(){super({id:l.FIND_IDS.PreviousMatchFindAction,label:C.localize(5,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction=N;class I extends y{constructor(){super({id:l.FIND_IDS.PreviousMatchFindAction,label:C.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:r.ContextKeyExpr.and(v.EditorContextKeys.focus,l.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousMatchFindAction2=I;class T extends S.EditorAction{run(R,F){return Ie(this,void 0,void 0,function*(){let V=_.get(F);if(!!V){let K=h(F);K&&V.setSearchString(K),this._run(V)||(yield V.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getOption(31).seedSearchStringFromSelection?"single":"none",seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(31).loop}),this._run(V))}})}}e.SelectionMatchFindAction=T;class O extends T{constructor(){super({id:l.FIND_IDS.NextSelectionMatchFindAction,label:C.localize(7,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(R){return R.moveToNextMatch()}}e.NextSelectionMatchFindAction=O;class A extends T{constructor(){super({id:l.FIND_IDS.PreviousSelectionMatchFindAction,label:C.localize(8,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(R){return R.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=A;class B extends S.MultiEditorAction{constructor(){super({id:l.FIND_IDS.StartFindReplaceAction,label:C.localize(9,null),alias:"Replace",precondition:r.ContextKeyExpr.or(r.ContextKeyExpr.has("editorFocus"),r.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:u.MenuId.MenubarEditMenu,group:"3_find",title:C.localize(10,null),order:2}})}run(R,F){return Ie(this,void 0,void 0,function*(){if(!(!F.hasModel()||F.getOption(75))){let V=_.get(F),K=F.getSelection(),G=V.isFindInputFocused(),J=!K.isEmpty()&&K.startLineNumber===K.endLineNumber&&F.getOption(31).seedSearchStringFromSelection&&!G,se=G||J?2:1;V&&(yield V.start({forceRevealReplace:!0,seedSearchStringFromSelection:J?"single":"none",seedSearchStringFromGlobalClipboard:F.getOption(31).seedSearchStringFromSelection,shouldFocus:se,shouldAnimate:!0,updateSearchScope:!1,loop:F.getOption(31).loop}))}})}}e.StartFindReplaceAction=B,S.registerEditorContribution(_.ID,m),e.EditorStartFindAction=new g,S.registerMultiEditorAction(e.EditorStartFindAction),S.registerEditorAction(b),S.registerEditorAction(L),S.registerEditorAction(D),S.registerEditorAction(N),S.registerEditorAction(I),S.registerEditorAction(O),S.registerEditorAction(A),e.EditorStartFindReplaceAction=new B,S.registerMultiEditorAction(e.EditorStartFindReplaceAction);const E=S.EditorCommand.bindToContribution(_.get);S.registerEditorCommand(new E({id:l.FIND_IDS.CloseFindWidgetCommand,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(v.EditorContextKeys.focus,r.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:W=>W.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:l.ToggleCaseSensitiveKeybinding.primary,mac:l.ToggleCaseSensitiveKeybinding.mac,win:l.ToggleCaseSensitiveKeybinding.win,linux:l.ToggleCaseSensitiveKeybinding.linux}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:W=>W.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:l.ToggleWholeWordKeybinding.primary,mac:l.ToggleWholeWordKeybinding.mac,win:l.ToggleWholeWordKeybinding.win,linux:l.ToggleWholeWordKeybinding.linux}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:W=>W.toggleRegex(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:l.ToggleRegexKeybinding.primary,mac:l.ToggleRegexKeybinding.mac,win:l.ToggleRegexKeybinding.win,linux:l.ToggleRegexKeybinding.linux}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:W=>W.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:l.ToggleSearchScopeKeybinding.primary,mac:l.ToggleSearchScopeKeybinding.mac,win:l.ToggleSearchScopeKeybinding.win,linux:l.ToggleSearchScopeKeybinding.linux}})),S.registerEditorCommand(new E({id:l.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:W=>W.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:l.TogglePreserveCaseKeybinding.primary,mac:l.TogglePreserveCaseKeybinding.mac,win:l.TogglePreserveCaseKeybinding.win,linux:l.TogglePreserveCaseKeybinding.linux}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ReplaceOneAction,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:2048|1024|22}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ReplaceOneAction,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(v.EditorContextKeys.focus,l.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ReplaceAllAction,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:2048|512|3}})),S.registerEditorCommand(new E({id:l.FIND_IDS.ReplaceAllAction,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:100+5,kbExpr:r.ContextKeyExpr.and(v.EditorContextKeys.focus,l.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),S.registerEditorCommand(new E({id:l.FIND_IDS.SelectAllMatchesAction,precondition:l.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:v.EditorContextKeys.focus,primary:512|3}}))}),define(ee[650],te([0,1,31,27,469,80,12]),function($,e,C,M,k,w,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=w.registerIcon("folding-expanded",M.Codicon.chevronDown,k.localize(0,null)),e.foldingCollapsedIcon=w.registerIcon("folding-collapsed",M.Codicon.chevronRight,k.localize(1,null));class v{constructor(f){this.editor=f,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(f,p){return p?v.HIDDEN_RANGE_DECORATION:f?this.showFoldingHighlights?v.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:v.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?v.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:v.EXPANDED_VISUAL_DECORATION}deltaDecorations(f,p){return this.editor.deltaDecorations(f,p)}changeDecorations(f){return this.editor.changeDecorations(f)}}e.FoldingDecorationProvider=v,v.COLLAPSED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),v.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),v.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),v.EXPANDED_VISUAL_DECORATION=C.ModelDecorationOptions.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+S.ThemeIcon.asClassName(e.foldingExpandedIcon)}),v.HIDDEN_RANGE_DECORATION=C.ModelDecorationOptions.register({stickiness:1})}),define(ee[651],te([0,1,468,20,8,15,39,2,14,401,650,25,402,41,534,17,223,403,11,18,12,22,338]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const _=new t.RawContextKey("foldingEnabled",!1);let m=class Kt extends v.Disposable{constructor(F,V){super();this.contextKeyService=V,this.localToDispose=this._register(new v.DisposableStore),this.editor=F;const K=this.editor.getOptions();this._isEnabled=K.get(33),this._useFoldingProviders=K.get(34)!=="indentation",this._unfoldOnClickAfterEndOfLine=K.get(36),this._restoringViewState=!1,this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new p.FoldingDecorationProvider(F),this.foldingDecorationProvider.autoHideFoldingControls=K.get(94)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=K.get(35),this.foldingEnabled=_.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(G=>{if(G.hasChanged(33)&&(this._isEnabled=this.editor.getOptions().get(33),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),G.hasChanged(94)||G.hasChanged(35)){const J=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=J.get(94)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=J.get(35),this.onModelContentChanged()}G.hasChanged(34)&&(this._useFoldingProviders=this.editor.getOptions().get(34)!=="indentation",this.onFoldingStrategyChanged()),G.hasChanged(36)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(36))})),this.onModelChanged()}static get(F){return F.getContribution(Kt.ID)}saveViewState(){let F=this.editor.getModel();if(!F||!this._isEnabled||F.isTooLargeForTokenization())return{};if(this.foldingModel){let V=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),K=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:V,lineCount:F.getLineCount(),provider:K}}}restoreViewState(F){let V=this.editor.getModel();if(!(!V||!this._isEnabled||V.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!F||!F.collapsedRegions||F.lineCount!==V.getLineCount())){(F.provider===s.ID_SYNTAX_PROVIDER||F.provider===i.ID_INIT_PROVIDER)&&(this.foldingStateMemento=F);const K=F.collapsedRegions;if(this.hiddenRangeModel.applyMemento(K)){const G=this.getFoldingModel();G&&G.then(J=>{if(J){this._restoringViewState=!0;try{J.applyMemento(K)}finally{this._restoringViewState=!1}}}).then(void 0,n.onUnexpectedError)}}}onModelChanged(){this.localToDispose.clear();let F=this.editor.getModel();!this._isEnabled||!F||F.isTooLargeForTokenization()||(this.foldingModel=new f.FoldingModel(F,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new u.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(V=>this.onHiddenRangesChanges(V))),this.updateScheduler=new w.Delayer(200),this.cursorChangedScheduler=new w.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(d.FoldingRangeProviderRegistry.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(V=>this.onEditorMouseDown(V))),this.localToDispose.add(this.editor.onMouseUp(V=>this.onEditorMouseUp(V))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(F){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new r.IndentRangeProvider(F),this._useFoldingProviders&&this.foldingModel){let V=d.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(V.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new i.InitializingRangeProvider(F,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);V.length>0&&(this.rangeProvider=new s.SyntaxRangeProvider(F,V,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const F=this.foldingModel;if(!F)return null;let V=this.foldingRegionPromise=w.createCancelablePromise(K=>this.getRangeProvider(F.textModel).compute(K));return V.then(K=>{if(K&&V===this.foldingRegionPromise){let G=this.editor.getSelections(),J=G?G.map(se=>se.startLineNumber):[];F.update(K,J)}return F})}).then(void 0,F=>(n.onUnexpectedError(F),null)))}onHiddenRangesChanges(F){if(this.hiddenRangeModel&&F.length&&!this._restoringViewState){let V=this.editor.getSelections();V&&this.hiddenRangeModel.adjustSelections(V)&&this.editor.setSelections(V)}this.editor.setHiddenAreas(F)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const F=this.getFoldingModel();!F||F.then(V=>{if(V){let K=this.editor.getSelections();if(K&&K.length>0){let G=[];for(let J of K){let se=J.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(se)&&G.push(...V.getAllRegionsAtLine(se,ie=>ie.isCollapsed&&se>ie.startLineNumber))}G.length&&(V.toggleCollapseState(G),this.reveal(K[0].getPosition()))}}}).then(void 0,n.onUnexpectedError)}onEditorMouseDown(F){if(this.mouseDownInfo=null,!(!this.hiddenRangeModel||!F.target||!F.target.range)&&!(!F.event.leftButton&&!F.event.middleButton)){const V=F.target.range;let K=!1;switch(F.target.type){case 4:const G=F.target.detail,J=F.target.element.offsetLeft;if(G.offsetX-J<5)return;K=!0;break;case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!F.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let ie=this.editor.getModel();if(ie&&V.startColumn===ie.getLineMaxColumn(V.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:V.startLineNumber,iconClicked:K}}}onEditorMouseUp(F){const V=this.getFoldingModel();if(!(!V||!this.mouseDownInfo||!F.target)){let K=this.mouseDownInfo.lineNumber,G=this.mouseDownInfo.iconClicked,J=F.target.range;if(!(!J||J.startLineNumber!==K)){if(G){if(F.target.type!==4)return}else{let se=this.editor.getModel();if(!se||J.startColumn!==se.getLineMaxColumn(K))return}V.then(se=>{if(se){let ie=se.getRegionAtLine(K);if(ie&&ie.startLineNumber===K){let ae=ie.isCollapsed;if(G||ae){let X=[],U=F.event.middleButton||F.event.shiftKey;if(U)for(const P of se.getRegionsInside(ie))P.isCollapsed===ae&&X.push(P);(ae||!U||X.length===0)&&X.push(ie),se.toggleCollapseState(X),this.reveal({lineNumber:K,column:1})}}}}).then(void 0,n.onUnexpectedError)}}}reveal(F){this.editor.revealPositionInCenterIfOutsideViewport(F,0)}};m.ID="editor.contrib.folding",m=Me([pe(1,t.IContextKeyService)],m),e.FoldingController=m;class g extends l.EditorAction{runEditorCommand(F,V,K){let G=m.get(V);if(!!G){let J=G.getFoldingModel();if(J)return this.reportTelemetry(F,V),J.then(se=>{if(se){this.invoke(G,se,V,K);const ie=V.getSelection();ie&&G.reveal(ie.getStartPosition())}})}}getSelectedLines(F){let V=F.getSelections();return V?V.map(K=>K.startLineNumber):[]}getLineNumbers(F,V){return F&&F.selectionLines?F.selectionLines.map(K=>K+1):this.getSelectedLines(V)}run(F,V){}}function b(R){if(!M.isUndefined(R)){if(!M.isObject(R))return!1;const F=R;if(!M.isUndefined(F.levels)&&!M.isNumber(F.levels)||!M.isUndefined(F.direction)&&!M.isString(F.direction)||!M.isUndefined(F.selectionLines)&&(!M.isArray(F.selectionLines)||!F.selectionLines.every(M.isNumber)))return!1}return!0}class y extends g{constructor(){super({id:"editor.unfold",label:C.localize(0,null),alias:"Unfold",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(F,V,K,G){let J=G&&G.levels||1,se=this.getLineNumbers(G,K);G&&G.direction==="up"?f.setCollapseStateLevelsUp(V,!1,J,se):f.setCollapseStateLevelsDown(V,!1,J,se)}}class L extends g{constructor(){super({id:"editor.unfoldRecursively",label:C.localize(1,null),alias:"Unfold Recursively",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|89),weight:100}})}invoke(F,V,K,G){f.setCollapseStateLevelsDown(V,!1,Number.MAX_VALUE,this.getSelectedLines(K))}}class D extends g{constructor(){super({id:"editor.fold",label:C.localize(2,null),alias:"Fold",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:b,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(F,V,K,G){let J=this.getLineNumbers(G,K);const se=G&&G.levels,ie=G&&G.direction;typeof se!="number"&&typeof ie!="string"?f.setCollapseStateUp(V,!0,J):ie==="up"?f.setCollapseStateLevelsUp(V,!0,se||1,J):f.setCollapseStateLevelsDown(V,!0,se||1,J)}}class N extends g{constructor(){super({id:"editor.toggleFold",label:C.localize(3,null),alias:"Toggle Fold",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|42),weight:100}})}invoke(F,V,K){let G=this.getSelectedLines(K);f.toggleCollapseState(V,1,G)}}class I extends g{constructor(){super({id:"editor.foldRecursively",label:C.localize(4,null),alias:"Fold Recursively",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|87),weight:100}})}invoke(F,V,K){let G=this.getSelectedLines(K);f.setCollapseStateLevelsDown(V,!0,Number.MAX_VALUE,G)}}class T extends g{constructor(){super({id:"editor.foldAllBlockComments",label:C.localize(5,null),alias:"Fold All Block Comments",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|85),weight:100}})}invoke(F,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,d.FoldingRangeKind.Comment.value,!0);else{const G=K.getModel();if(!G)return;let J=a.LanguageConfigurationRegistry.getComments(G.getLanguageIdentifier().id);if(J&&J.blockCommentStartToken){let se=new RegExp("^\\s*"+k.escapeRegExpCharacters(J.blockCommentStartToken));f.setCollapseStateForMatchingLines(V,se,!0)}}}}class O extends g{constructor(){super({id:"editor.foldAllMarkerRegions",label:C.localize(6,null),alias:"Fold All Regions",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|29),weight:100}})}invoke(F,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,d.FoldingRangeKind.Region.value,!0);else{const G=K.getModel();if(!G)return;let J=a.LanguageConfigurationRegistry.getFoldingRules(G.getLanguageIdentifier().id);if(J&&J.markers&&J.markers.start){let se=new RegExp(J.markers.start);f.setCollapseStateForMatchingLines(V,se,!0)}}}}class A extends g{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C.localize(7,null),alias:"Unfold All Regions",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|30),weight:100}})}invoke(F,V,K){if(V.regions.hasTypes())f.setCollapseStateForType(V,d.FoldingRangeKind.Region.value,!1);else{const G=K.getModel();if(!G)return;let J=a.LanguageConfigurationRegistry.getFoldingRules(G.getLanguageIdentifier().id);if(J&&J.markers&&J.markers.start){let se=new RegExp(J.markers.start);f.setCollapseStateForMatchingLines(V,se,!1)}}}}class B extends g{constructor(){super({id:"editor.foldAll",label:C.localize(8,null),alias:"Fold All",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21),weight:100}})}invoke(F,V,K){f.setCollapseStateLevelsDown(V,!0)}}class E extends g{constructor(){super({id:"editor.unfoldAll",label:C.localize(9,null),alias:"Unfold All",precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|40),weight:100}})}invoke(F,V,K){f.setCollapseStateLevelsDown(V,!1)}}class W extends g{getFoldingLevel(){return parseInt(this.id.substr(W.ID_PREFIX.length))}invoke(F,V,K){f.setCollapseStateAtLevel(V,this.getFoldingLevel(),!0,this.getSelectedLines(K))}}W.ID_PREFIX="editor.foldLevel",W.ID=R=>W.ID_PREFIX+R,l.registerEditorContribution(m.ID,m),l.registerEditorAction(y),l.registerEditorAction(L),l.registerEditorAction(D),l.registerEditorAction(I),l.registerEditorAction(B),l.registerEditorAction(E),l.registerEditorAction(T),l.registerEditorAction(O),l.registerEditorAction(A),l.registerEditorAction(N);for(let R=1;R<=7;R++)l.registerInstantiatedEditorAction(new W({id:W.ID(R),label:C.localize(10,null,R),alias:`Fold Level ${R}`,precondition:_,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:S.KeyChord(2048|41,2048|21+R),weight:100}}));e.foldBackgroundBackground=h.registerColor("editor.foldBackground",{light:h.transparent(h.editorSelectionBackground,.3),dark:h.transparent(h.editorSelectionBackground,.3),hc:null},C.localize(11,null),!0),e.editorFoldForeground=h.registerColor("editorGutter.foldingControlForeground",{dark:h.iconForeground,light:h.iconForeground,hc:h.iconForeground},C.localize(12,null)),o.registerThemingParticipant((R,F)=>{const V=R.getColor(e.foldBackgroundBackground);V&&F.addRule(`.monaco-editor .folded-background { background-color: ${V}; }`);const K=R.getColor(e.editorFoldForeground);K&&F.addRule(`
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(p.foldingExpandedIcon)},
		.monaco-editor .cldr${o.ThemeIcon.asCSSSelector(p.foldingCollapsedIcon)} {
			color: ${K} !important;
		}
		`)})}),define(ee[266],te([0,1,473,2,18,13,3,14,25,647,28,35,27,9,550,80]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let s=class ht{constructor(b,y,L,D,N){this._markerNavigationService=y,this._contextKeyService=L,this._editorService=D,this._instantiationService=N,this._sessionDispoables=new M.DisposableStore,this._editor=b,this._widgetVisible=_.bindTo(this._contextKeyService)}static get(b){return b.getContribution(ht.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(b){if(this._model&&this._model.matches(b))return this._model;let y=!1;return this._model&&(y=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(b),y&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(f.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var D,N,I;(!((D=this._model)===null||D===void 0?void 0:D.selected)||!S.Range.containsPosition((N=this._model)===null||N===void 0?void 0:N.selected.marker,L.position))&&((I=this._model)===null||I===void 0||I.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!(!this._widget||!this._widget.position||!this._model)){const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()}})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(b=!0){this._cleanUp(),b&&this._editor.focus()}showAtMarker(b){if(this._editor.hasModel()){const y=this._getOrCreateModel(this._editor.getModel().uri);y.resetIndex(),y.move(!0,this._editor.getModel(),new w.Position(b.startLineNumber,b.startColumn)),y.selected&&this._widget.showAtMarker(y.selected.marker,y.selected.index,y.selected.total)}}nagivate(b,y){return Ie(this,void 0,void 0,function*(){if(this._editor.hasModel()){const L=this._getOrCreateModel(y?void 0:this._editor.getModel().uri);if(L.move(b,this._editor.getModel(),this._editor.getPosition()),!L.selected)return;if(L.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const D=yield this._editorService.openCodeEditor({resource:L.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:L.selected.marker}},this._editor);D&&(ht.get(D).close(),ht.get(D).nagivate(b,y))}else this._widget.showAtMarker(L.selected.marker,L.selected.index,L.selected.total)}})}};s.ID="editor.contrib.markerController",s=Me([pe(1,r.IMarkerNavigationService),pe(2,k.IContextKeyService),pe(3,p.ICodeEditorService),pe(4,a.IInstantiationService)],s),e.MarkerController=s;class i extends v.EditorAction{constructor(b,y,L){super(L);this._next=b,this._multiFile=y}run(b,y){return Ie(this,void 0,void 0,function*(){y.hasModel()&&s.get(y).nagivate(this._next,this._multiFile)})}}class n extends i{constructor(){super(!0,!1,{id:n.ID,label:n.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:f.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:d.registerIcon("marker-navigation-next",u.Codicon.chevronDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=n,n.ID="editor.action.marker.next",n.LABEL=C.localize(0,null);class t extends i{constructor(){super(!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:f.MarkerNavigationWidget.TitleMenu,title:n.LABEL,icon:d.registerIcon("marker-navigation-previous",u.Codicon.chevronUp,C.localize(3,null)),group:"navigation",order:2}})}}t.ID="editor.action.marker.prev",t.LABEL=C.localize(2,null);class o extends i{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:c.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class h extends i{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:c.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}v.registerEditorContribution(s.ID,s),v.registerEditorAction(n),v.registerEditorAction(t),v.registerEditorAction(o),v.registerEditorAction(h);const _=new k.RawContextKey("markersNavigationVisible",!1),m=v.EditorCommand.bindToContribution(s.get);v.registerEditorCommand(new m({id:"closeMarkersNavigation",precondition:_,handler:g=>g.close(),kbOpts:{weight:100+50,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(ee[652],te([0,1,484,7,2,3,19,85,44,237,11,58,266,37,15,146,261,131,59,207]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const o=M.$;class h{constructor(b,y){this.range=b,this.marker=y}equals(b){return b instanceof h?v.IMarkerData.makeKey(this.marker)===v.IMarkerData.makeKey(b.marker):!1}}e.MarkerHover=h;const _={type:2,filter:{include:i.CodeActionKind.QuickFix}};let m=class{constructor(b,y,L,D,N){this._editor=b,this._hover=y,this._markerDecorationsService=L,this._keybindingService=D,this._openerService=N,this.recentMarkerCodeActionsInfo=void 0}computeSync(b,y){if(!this._editor.hasModel())return[];const L=this._editor.getModel(),D=b.startLineNumber,N=L.getLineMaxColumn(D),I=[];for(const T of y){const O=T.range.startLineNumber===D?T.range.startColumn:1,A=T.range.endLineNumber===D?T.range.endColumn:N,B=this._markerDecorationsService.getMarker(L.uri,T);if(!!B){const E=new w.Range(b.startLineNumber,O,b.startLineNumber,A);I.push(new h(E,B))}}return I}renderHoverParts(b,y){if(!b.length)return k.Disposable.None;const L=new k.DisposableStore;b.forEach(N=>y.appendChild(this.renderMarkerHover(N,L)));const D=b.length===1?b[0]:b.sort((N,I)=>v.MarkerSeverity.compare(N.marker.severity,I.marker.severity))[0];return y.appendChild(this.renderMarkerStatusbar(D,L)),L}renderMarkerHover(b,y){const L=o("div.hover-row"),D=M.append(L,o("div.marker.hover-contents")),{source:N,message:I,code:T,relatedInformation:O}=b.marker;this._editor.applyFontInfo(D);const A=M.append(D,o("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,N||T)if(T&&typeof T!="string"){const B=o("span");if(N){const F=M.append(B,o("span"));F.innerText=N}const E=M.append(B,o("a.code-link"));E.setAttribute("href",T.target.toString()),y.add(M.addDisposableListener(E,"click",F=>{this._openerService.open(T.target),F.preventDefault(),F.stopPropagation()}));const W=M.append(E,o("span"));W.innerText=T.value;const R=M.append(D,B);R.style.opacity="0.6",R.style.paddingLeft="6px"}else{const B=M.append(D,o("span"));B.style.opacity="0.6",B.style.paddingLeft="6px",B.innerText=N&&T?`${N}(${T})`:N||`(${T})`}if(S.isNonEmptyArray(O))for(const{message:B,resource:E,startLineNumber:W,startColumn:R}of O){const F=M.append(D,o("div"));F.style.marginTop="8px";const V=M.append(F,o("a"));V.innerText=`${l.basename(E)}(${W}, ${R}): `,V.style.cursor="pointer",y.add(M.addDisposableListener(V,"click",G=>{G.stopPropagation(),G.preventDefault(),this._openerService&&this._openerService.open(E,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:W,startColumn:R}}}).catch(p.onUnexpectedError)}));const K=M.append(F,o("span"));K.innerText=B,this._editor.applyFontInfo(K)}return L}renderMarkerStatusbar(b,y){const L=o("div.hover-row.status-bar"),D=M.append(L,o("div.actions"));if((b.marker.severity===v.MarkerSeverity.Error||b.marker.severity===v.MarkerSeverity.Warning||b.marker.severity===v.MarkerSeverity.Info)&&y.add(this.renderAction(D,{label:C.localize(0,null),commandId:u.NextMarkerAction.ID,run:()=>{this._hover.hide(),u.MarkerController.get(this._editor).showAtMarker(b.marker),this._editor.focus()}})),!this._editor.getOption(75)){const N=M.append(D,o("div"));this.recentMarkerCodeActionsInfo&&(v.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===v.IMarkerData.makeKey(b.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(N.textContent=C.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const I=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?k.Disposable.None:y.add(r.disposableTimeout(()=>N.textContent=C.localize(2,null),200));N.textContent||(N.textContent=String.fromCharCode(160));const T=this.getCodeActions(b.marker);y.add(k.toDisposable(()=>T.cancel())),T.then(O=>{if(I.dispose(),this.recentMarkerCodeActionsInfo={marker:b.marker,hasCodeActions:O.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){O.dispose(),N.textContent=C.localize(3,null);return}N.style.display="none";let A=!1;y.add(k.toDisposable(()=>{A||O.dispose()})),y.add(this.renderAction(D,{label:C.localize(4,null),commandId:s.QuickFixAction.Id,run:B=>{A=!0;const E=s.QuickFixController.get(this._editor),W=M.getDomNodePagePosition(B);this._hover.hide(),E.showCodeActions(_,O,{x:W.left+6,y:W.top+W.height+6})}}))})}return L}renderAction(b,y){const L=this._keybindingService.lookupKeybinding(y.commandId),D=L?L.getLabel():null;return t.renderHoverAction(b,y,D)}getCodeActions(b){return r.createCancelablePromise(y=>d.getCodeActions(this._editor.getModel(),new w.Range(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn),_,n.Progress.None,y))}};m=Me([pe(2,f.IMarkerDecorationsService),pe(3,a.IKeybindingService),pe(4,c.IOpenerService)],m),e.MarkerHoverParticipant=m}),define(ee[653],te([0,1,7,23,29,2,13,3,31,17,248,258,396,590,226,12,19,22,52,207,652,619]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesContentHoverWidget=void 0;class _{constructor(D,N,I){this.range=D,this.color=N,this.provider=I}equals(D){return!1}}class m{constructor(D,N){this.owner=D,this.data=N}}class g{constructor(D,N,I){this._markerHoverParticipant=N,this._markdownHoverParticipant=I,this._editor=D,this._result=[],this._range=null}setRange(D){this._range=D,this._result=[]}clearResult(){this._result=[]}computeAsync(D){return Ie(this,void 0,void 0,function*(){return!this._editor.hasModel()||!this._range?Promise.resolve([]):(yield this._markdownHoverParticipant.computeAsync(this._range,D)).map(I=>new m(this._markdownHoverParticipant,I))})}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const D=this._editor.getModel(),N=this._range,I=N.startLineNumber;if(I>this._editor.getModel().getLineCount())return[];const T=D.getLineMaxColumn(I),O=this._editor.getLineDecorations(I).filter(R=>{const F=R.range.startLineNumber===I?R.range.startColumn:1,V=R.range.endLineNumber===I?R.range.endColumn:T;return!(F>N.startColumn||N.endColumn>V)});let A=[];const B=c.ColorDetector.get(this._editor);for(const R of O){const F=B.getColorData(R.range.getStartPosition());if(F){const{color:V,range:K}=F.colorInfo;A.push(new m(null,new _(v.Range.lift(K),V,F.provider)));break}}const E=this._markdownHoverParticipant.computeSync(this._range,O);A=A.concat(E.map(R=>new m(this._markdownHoverParticipant,R)));const W=this._markerHoverParticipant.computeSync(this._range,O);return A=A.concat(W.map(R=>new m(this._markerHoverParticipant,R))),s.coalesce(A)}onResult(D,N){N?this._result=D.concat(this._result):this._result=this._result.concat(D)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._range){const D=new m(this._markdownHoverParticipant,this._markdownHoverParticipant.createLoadingMessage(this._range));return this._result.slice(0).concat([D])}return this._result.slice(0)}}class b extends n.Widget{constructor(D,N,I,T){super();this._hoverVisibleKey=N,this._themeService=T,this.allowEditorOverflow=!0,this._markerHoverParticipant=I.createInstance(o.MarkerHoverParticipant,D,this),this._markdownHoverParticipant=I.createInstance(h.MarkdownHoverParticipant,D,this),this._hover=this._register(new t.HoverWidget),this._id=b.ID,this._editor=D,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,O=>{O.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(O=>{O.hasChanged(38)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastRange=null,this._computer=new g(this._editor,this._markerHoverParticipant,this._markdownHoverParticipant),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new r.HoverOperation(this._computer,O=>this._withResult(O,!0),null,O=>this._withResult(O,!1),this._editor.getOption(48).delay),this._register(C.addStandardDisposableListener(this.getDomNode(),C.EventType.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(C.addStandardDisposableListener(this.getDomNode(),C.EventType.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(D.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(48).delay)})),this._register(f.TokenizationRegistry.onDidChange(()=>{this._isVisible&&this._lastRange&&this._messages.length>0&&(this._messages=this._messages.map(O=>{var A,B;if(O.data instanceof _&&!!((A=this._lastRange)===null||A===void 0?void 0:A.intersectRanges(O.data.range))&&((B=this._colorPicker)===null||B===void 0?void 0:B.model.color)){const E=this._colorPicker.model.color,W={red:E.rgba.r/255,green:E.rgba.g/255,blue:E.rgba.b/255,alpha:E.rgba.a};return new m(O.owner,new _(O.data.range,W,O.data.provider))}else return O}),this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(D,N,I){this._showAtPosition=D,this._showAtRange=N,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=I,I&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(N=>this._editor.applyFontInfo(N))}_updateContents(D){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(D),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const D=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:N,lineHeight:I}=this._editor.getOption(38);this._hover.contentsDomNode.style.fontSize=`${N}px`,this._hover.contentsDomNode.style.lineHeight=`${I}px`,this._hover.contentsDomNode.style.maxHeight=`${D}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(D,N,I){if(!(this._lastRange&&this._lastRange.equalsRange(D))){if(this._hoverOperation.cancel(),this._isVisible)if(!this._showAtPosition||this._showAtPosition.lineNumber!==D.startLineNumber)this.hide();else{let T=[];for(let O=0,A=this._messages.length;O<A;O++){const B=this._messages[O],E=B.data.range;E&&E.startColumn<=D.startColumn&&E.endColumn>=D.endColumn&&T.push(B)}if(T.length>0){if(y(T,this._messages))return;this._renderMessages(D,T)}else this.hide()}this._lastRange=D,this._computer.setRange(D),this._shouldFocus=I,this._hoverOperation.start(N)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}onContentsChanged(){this._hover.onContentsChanged()}_withResult(D,N){this._messages=D,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):N&&this.hide()}_renderMessages(D,N){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let I=1073741824,T=N[0].data.range?v.Range.lift(N[0].data.range):null,O=document.createDocumentFragment(),A=!1;const B=new w.DisposableStore,E=[],W=[];N.forEach(R=>{const F=R.data;if(!!F.range)if(I=Math.min(I,F.range.startColumn),T=T?v.Range.plusRange(T,F.range):v.Range.lift(F.range),F instanceof _){A=!0;const{red:V,green:K,blue:G,alpha:J}=F.color,se=new k.RGBA(Math.round(V*255),Math.round(K*255),Math.round(G*255),J),ie=new k.Color(se);if(!this._editor.hasModel())return;const ae=this._editor.getModel();let X=new v.Range(F.range.startLineNumber,F.range.startColumn,F.range.endLineNumber,F.range.endColumn),U={range:F.range,color:F.color};const P=new u.ColorPickerModel(ie,[],0),x=new a.ColorPickerWidget(O,P,this._editor.getOption(122),this._themeService);p.getColorPresentations(ae,U,F.provider,M.CancellationToken.None).then(H=>{if(P.colorPresentations=H||[],!!this._editor.hasModel()){const z=this._editor.getModel().getValueInRange(F.range);P.guessColorPresentation(ie,z);const q=()=>{let Y,j;if(P.presentation.textEdit){Y=[P.presentation.textEdit],j=new v.Range(P.presentation.textEdit.range.startLineNumber,P.presentation.textEdit.range.startColumn,P.presentation.textEdit.range.endLineNumber,P.presentation.textEdit.range.endColumn);const ne=this._editor.getModel()._setTrackedRange(null,j,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Y),j=this._editor.getModel()._getTrackedRange(ne)||j}else Y=[{identifier:null,range:X,text:P.presentation.label,forceMoveMarkers:!1}],j=X.setEndPosition(X.endLineNumber,X.startColumn+P.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Y);P.presentation.additionalTextEdits&&(Y=[...P.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Y),this.hide()),this._editor.pushUndoStop(),X=j},Q=Y=>p.getColorPresentations(ae,{range:X,color:{red:Y.rgba.r/255,green:Y.rgba.g/255,blue:Y.rgba.b/255,alpha:Y.rgba.a}},F.provider,M.CancellationToken.None).then(j=>{P.colorPresentations=j||[]}),ce=P.onColorFlushed(Y=>{Q(Y).then(q)}),ue=P.onDidChangeColor(Q);this._colorPicker=x,this.showAt(X.getStartPosition(),X,this._shouldFocus),this._updateContents(O),this._colorPicker.layout(),this._renderDisposable=w.combinedDisposable(ce,ue,x,B)}})}else F instanceof o.MarkerHover?E.push(F):F instanceof h.MarkdownHover&&W.push(F)}),W.length>0&&B.add(this._markdownHoverParticipant.renderHoverParts(W,O)),E.length&&B.add(this._markerHoverParticipant.renderHoverParts(E,O)),this._renderDisposable=B,!A&&O.hasChildNodes()&&(this.showAt(new S.Position(D.startLineNumber,I),T,this._shouldFocus),this._updateContents(O)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,T?[{range:T,options:b._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}}e.ModesContentHoverWidget=b,b.ID="editor.contrib.modesContentHoverWidget",b._DECORATION_OPTIONS=l.ModelDecorationOptions.register({className:"hoverHighlight"});function y(L,D){if(L.length!==D.length)return!1;for(let N=0;N<L.length;N++)if(!L[N].data.equals(D[N].data))return!1;return!0}d.registerThemingParticipant((L,D)=>{const N=L.getColor(i.textLinkForeground);N&&D.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${N}; }`)})}),define(ee[654],te([0,1,491,15,39,2,14,240,3,21,25,53,31,17,265,35,22,12,18]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;class t extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:C.localize(0,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(1,null),order:2}})}run(V,K,G){if(!!K.hasModel()){const J=G&&G.logicalLine===!0,se=K._getViewModel();se.cursorConfig.readOnly||(se.pushStackElement(),se.setCursorStates(G.source,3,v.CursorMoveCommands.addCursorUp(se,se.getCursorStates(),J)),se.revealTopMostCursor(G.source))}}}e.InsertCursorAbove=t;class o extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:C.localize(2,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(3,null),order:3}})}run(V,K,G){if(!!K.hasModel()){const J=G&&G.logicalLine===!0,se=K._getViewModel();se.cursorConfig.readOnly||(se.pushStackElement(),se.setCursorStates(G.source,3,v.CursorMoveCommands.addCursorDown(se,se.getCursorStates(),J)),se.revealBottomMostCursor(G.source))}}}e.InsertCursorBelow=o;class h extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:C.localize(4,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(5,null),order:4}})}getCursorsForSelection(V,K,G){if(!V.isEmpty()){for(let J=V.startLineNumber;J<V.endLineNumber;J++){let se=K.getLineMaxColumn(J);G.push(new f.Selection(J,se,J,se))}V.endColumn>1&&G.push(new f.Selection(V.endLineNumber,V.endColumn,V.endLineNumber,V.endColumn))}}run(V,K){if(!!K.hasModel()){const G=K.getModel(),J=K.getSelections();let se=[];J.forEach(ie=>this.getCursorsForSelection(ie,G,se)),se.length>0&&K.setSelections(se)}}}class _ extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:C.localize(6,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(V,K){if(!!K.hasModel()){const G=K.getSelections(),J=K.getModel().getLineCount();let se=[];for(let ie=G[0].startLineNumber;ie<=J;ie++)se.push(new f.Selection(ie,G[0].startColumn,ie,G[0].endColumn));se.length>0&&K.setSelections(se)}}}class m extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:C.localize(7,null),alias:"Add Cursors To Top",precondition:void 0})}run(V,K){if(!!K.hasModel()){const G=K.getSelections();let J=[];for(let se=G[0].startLineNumber;se>=1;se--)J.push(new f.Selection(se,G[0].startColumn,se,G[0].endColumn));J.length>0&&K.setSelections(J)}}}class g{constructor(V,K,G){this.selections=V,this.revealRange=K,this.revealScrollType=G}}e.MultiCursorSessionResult=g;class b{constructor(V,K,G,J,se,ie,ae){this._editor=V,this.findController=K,this.isDisconnectedFromFindController=G,this.searchText=J,this.wholeWord=se,this.matchCase=ie,this.currentMatch=ae}static create(V,K){if(!V.hasModel())return null;const G=K.getState();if(!V.hasTextFocus()&&G.isRevealed&&G.searchString.length>0)return new b(V,K,!1,G.searchString,G.wholeWord,G.matchCase,null);let J=!1,se,ie;const ae=V.getSelections();ae.length===1&&ae[0].isEmpty()?(J=!0,se=!0,ie=!0):(se=G.wholeWord,ie=G.matchCase);const X=V.getSelection();let U,P=null;if(X.isEmpty()){const x=V.getConfiguredWordAtPosition(X.getStartPosition());if(!x)return null;U=x.word,P=new f.Selection(X.startLineNumber,x.startColumn,X.startLineNumber,x.endColumn)}else U=V.getModel().getValueInRange(X).replace(/\r\n/g,`
`);return new b(V,K,J,U,se,ie,P)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const V=this._getNextMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.concat(V),V,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const V=this._getNextMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.slice(0,K.length-1).concat(V),V,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const V=this._editor.getSelections(),K=V[V.length-1],G=this._editor.getModel().findNextMatch(this.searchText,K.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1);return G?new f.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const V=this._getPreviousMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.concat(V),V,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const V=this._getPreviousMatch();if(!V)return null;const K=this._editor.getSelections();return new g(K.slice(0,K.length-1).concat(V),V,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const J=this.currentMatch;return this.currentMatch=null,J}this.findController.highlightFindOptions();const V=this._editor.getSelections(),K=V[V.length-1],G=this._editor.getModel().findPreviousMatch(this.searchText,K.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1);return G?new f.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(110):null,!1,1073741824)):[]}}e.MultiCursorSession=b;class y extends w.Disposable{constructor(V){super();this._sessionDispose=this._register(new w.DisposableStore),this._editor=V,this._ignoreSelectionChange=!1,this._session=null}static get(V){return V.getContribution(y.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(V){if(!this._session){const K=b.create(this._editor,V);if(!K)return;this._session=K;const G={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(G.wholeWordOverride=1,G.matchCaseOverride=1,G.isRegexOverride=2),V.getState().change(G,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(J=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(V.getState().onFindReplaceStateChange(J=>{(J.matchCase||J.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const V={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(V,!1)}this._session=null}_setSelections(V){this._ignoreSelectionChange=!0,this._editor.setSelections(V),this._ignoreSelectionChange=!1}_expandEmptyToWord(V,K){if(!K.isEmpty())return K;const G=this._editor.getConfiguredWordAtPosition(K.getStartPosition());return G?new f.Selection(K.startLineNumber,G.startColumn,K.startLineNumber,G.endColumn):K}_applySessionResult(V){!V||(this._setSelections(V.selections),V.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(V.revealRange,V.revealScrollType))}getSession(V){return this._session}addSelectionToNextFindMatch(V){if(!!this._editor.hasModel()){if(!this._session){const K=this._editor.getSelections();if(K.length>1){const J=V.getState().matchCase;if(!W(this._editor.getModel(),K,J)){const ie=this._editor.getModel();let ae=[];for(let X=0,U=K.length;X<U;X++)ae[X]=this._expandEmptyToWord(ie,K[X]);this._editor.setSelections(ae);return}}}this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(V){this._beginSessionIfNeeded(V),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(V){if(!!this._editor.hasModel()){let K=null;const G=V.getState();if(G.isRevealed&&G.searchString.length>0&&G.isRegex)K=this._editor.getModel().findMatches(G.searchString,!0,G.isRegex,G.matchCase,G.wholeWord?this._editor.getOption(110):null,!1,1073741824);else{if(this._beginSessionIfNeeded(V),!this._session)return;K=this._session.selectAll()}if(G.searchScope){const J=G.searchScope;let se=[];K.forEach(ie=>{J.forEach(ae=>{ie.range.endLineNumber<=ae.endLineNumber&&ie.range.startLineNumber>=ae.startLineNumber&&se.push(ie)})}),K=se}if(K.length>0){const J=this._editor.getSelection();for(let se=0,ie=K.length;se<ie;se++){const ae=K[se];if(ae.range.intersectRanges(J)){K[se]=K[0],K[0]=ae;break}}this._setSelections(K.map(se=>new f.Selection(se.range.startLineNumber,se.range.startColumn,se.range.endLineNumber,se.range.endColumn)))}}}}e.MultiCursorSelectionController=y,y.ID="editor.contrib.multiCursorController";class L extends S.EditorAction{run(V,K){const G=y.get(K);if(!!G){const J=r.CommonFindController.get(K);!J||this._run(G,J)}}}e.MultiCursorSelectionControllerAction=L;class D extends L{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:C.localize(8,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(9,null),order:5}})}_run(V,K){V.addSelectionToNextFindMatch(K)}}e.AddSelectionToNextFindMatchAction=D;class N extends L{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:C.localize(10,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(11,null),order:6}})}_run(V,K){V.addSelectionToPreviousFindMatch(K)}}e.AddSelectionToPreviousFindMatchAction=N;class I extends L{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:C.localize(12,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:k.KeyChord(2048|41,2048|34),weight:100}})}_run(V,K){V.moveSelectionToNextFindMatch(K)}}e.MoveSelectionToNextFindMatchAction=I;class T extends L{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:C.localize(13,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(V,K){V.moveSelectionToPreviousFindMatch(K)}}e.MoveSelectionToPreviousFindMatchAction=T;class O extends L{constructor(){super({id:"editor.action.selectHighlights",label:C.localize(14,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:C.localize(15,null),order:7}})}_run(V,K){V.selectAll(K)}}e.SelectHighlightsAction=O;class A extends L{constructor(){super({id:"editor.action.changeAll",label:C.localize(16,null),alias:"Change All Occurrences",precondition:n.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(V,K){V.selectAll(K)}}e.CompatChangeAll=A;class B{constructor(V,K,G,J){this.searchText=V,this.matchCase=K,this.wordSeparators=G,this.modelVersionId=J}static softEquals(V,K){return!V&&!K?!0:!V||!K?!1:V.searchText===K.searchText&&V.matchCase===K.matchCase&&V.wordSeparators===K.wordSeparators&&V.modelVersionId===K.modelVersionId}}class E extends w.Disposable{constructor(V){super();this.editor=V,this._isEnabled=V.getOption(92),this.decorations=[],this.updateSoon=this._register(new M.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(V.onDidChangeConfiguration(K=>{this._isEnabled=V.getOption(92)})),this._register(V.onDidChangeCursorSelection(K=>{!this._isEnabled||(K.selection.isEmpty()?K.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(V.onDidChangeModel(K=>{this._setState(null)})),this._register(V.onDidChangeModelContent(K=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(r.CommonFindController.get(V).getState().onFindReplaceStateChange(K=>{this._update()}))}_update(){this._setState(E._createState(this._isEnabled,this.editor))}static _createState(V,K){if(!V||!K.hasModel())return null;const G=K.getSelection();if(G.startLineNumber!==G.endLineNumber)return null;const J=y.get(K);if(!J)return null;const se=r.CommonFindController.get(K);if(!se)return null;let ie=J.getSession(se);if(!ie){const U=K.getSelections();if(U.length>1){const x=se.getState().matchCase;if(!W(K.getModel(),U,x))return null}ie=b.create(K,se)}if(!ie||ie.currentMatch||/^[ \t]+$/.test(ie.searchText)||ie.searchText.length>200)return null;const ae=se.getState(),X=ae.matchCase;if(ae.isRevealed){let U=ae.searchString;X||(U=U.toLowerCase());let P=ie.searchText;if(X||(P=P.toLowerCase()),U===P&&ie.matchCase===ae.matchCase&&ie.wholeWord===ae.wholeWord&&!ae.isRegex)return null}return new B(ie.searchText,ie.matchCase,ie.wholeWord?K.getOption(110):null,K.getModel().getVersionId())}_setState(V){if(B.softEquals(this.state,V)){this.state=V;return}if(this.state=V,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!!this.editor.hasModel()){const K=this.editor.getModel();if(!K.isTooLargeForTokenization()){const G=a.DocumentHighlightProviderRegistry.has(K)&&this.editor.getOption(66);let J=K.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(X=>X.range);J.sort(l.Range.compareRangesUsingStarts);let se=this.editor.getSelections();se.sort(l.Range.compareRangesUsingStarts);let ie=[];for(let X=0,U=0,P=J.length,x=se.length;X<P;){const H=J[X];if(U>=x)ie.push(H),X++;else{const z=l.Range.compareRangesUsingStarts(H,se[U]);z<0?((se[U].isEmpty()||!l.Range.areIntersecting(H,se[U]))&&ie.push(H),X++):(z>0||X++,U++)}}const ae=ie.map(X=>({range:X,options:G?E._SELECTION_HIGHLIGHT:E._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,ae)}}}dispose(){this._setState(null),super.dispose()}}e.SelectionHighlighter=E,E.ID="editor.contrib.selectionHighlighter",E._SELECTION_HIGHLIGHT_OVERVIEW=u.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:i.themeColorFromId(s.overviewRulerSelectionHighlightForeground),position:c.OverviewRulerLane.Center}}),E._SELECTION_HIGHLIGHT=u.ModelDecorationOptions.register({stickiness:1,className:"selectionHighlight"});function W(F,V,K){const G=R(F,V[0],!K);for(let J=1,se=V.length;J<se;J++){const ie=V[J];if(ie.isEmpty())return!1;const ae=R(F,ie,!K);if(G!==ae)return!1}return!0}function R(F,V,K){const G=F.getValueInRange(V);return K?G.toLowerCase():G}S.registerEditorContribution(y.ID,y),S.registerEditorContribution(E.ID,E),S.registerEditorAction(t),S.registerEditorAction(o),S.registerEditorAction(h),S.registerEditorAction(D),S.registerEditorAction(N),S.registerEditorAction(I),S.registerEditorAction(T),S.registerEditorAction(O),S.registerEditorAction(A),S.registerEditorAction(_),S.registerEditorAction(m)}),define(ee[655],te([0,1,7,55,47,61,6,2,57,141,181,493,18,58,22,12,540,8,27,20,97,80,344]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const _=C.$,m=h.registerIcon("parameter-hints-next",n.Codicon.chevronDown,c.localize(0,null)),g=h.registerIcon("parameter-hints-previous",n.Codicon.chevronUp,c.localize(1,null));let b=class qt extends v.Disposable{constructor(L,D,N,I){super();this.editor=L,this.renderDisposeables=this._register(new v.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new f.MarkdownRenderer({editor:L},I,N)),this.model=this._register(new s.ParameterHintsModel(L)),this.keyVisible=p.Context.Visible.bindTo(D),this.keyMultipleSignatures=p.Context.MultipleSignatures.bindTo(D),this._register(this.model.onChangedHints(T=>{T?(this.show(),this.render(T)):this.hide()}))}createParamaterHintDOMNodes(){const L=_(".editor-widget.parameter-hints-widget"),D=C.append(L,_(".phwrapper"));D.tabIndex=-1;const N=C.append(D,_(".controls")),I=C.append(N,_(".button"+d.ThemeIcon.asCSSSelector(g))),T=C.append(N,_(".overloads")),O=C.append(N,_(".button"+d.ThemeIcon.asCSSSelector(m))),A=M.stop(M.domEvent(I,"click"));this._register(A(this.previous,this));const B=M.stop(M.domEvent(O,"click"));this._register(B(this.next,this));const E=_(".body"),W=new w.DomScrollableElement(E,{});this._register(W),D.appendChild(W.getDomNode());const R=C.append(E,_(".signature")),F=C.append(E,_(".docs"));L.style.userSelect="text",this.domNodes={element:L,signature:R,overloads:T,docs:F,scrollbar:W},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(K=>{this.visible&&this.editor.layoutContentWidget(this)}));const V=()=>{if(!!this.domNodes){const K=this.editor.getOption(38);this.domNodes.element.style.fontSize=`${K.fontSize}px`}};V(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(K=>K.hasChanged(38)).on(V,null)),this._register(this.editor.onDidLayoutChange(K=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(L){var D;if(this.renderDisposeables.clear(),!!this.domNodes){const N=L.signatures.length>1;this.domNodes.element.classList.toggle("multiple",N),this.keyMultipleSignatures.set(N),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const I=L.signatures[L.activeSignature];if(!!I){const T=C.append(this.domNodes.signature,_(".code")),O=this.editor.getOption(38);T.style.fontSize=`${O.fontSize}px`,T.style.fontFamily=O.fontFamily;const A=I.parameters.length>0,B=(D=I.activeParameter)!==null&&D!==void 0?D:L.activeParameter;if(A)this.renderParameters(T,I,B);else{const R=C.append(T,_("span"));R.textContent=I.label}const E=I.parameters[B];if(E==null?void 0:E.documentation){const R=_("span.documentation");if(typeof E.documentation=="string")R.textContent=E.documentation;else{const F=this.renderMarkdownDocs(E.documentation);R.appendChild(F.element)}C.append(this.domNodes.docs,_("p",{},R))}if(I.documentation!==void 0)if(typeof I.documentation=="string")C.append(this.domNodes.docs,_("p",{},I.documentation));else{const R=this.renderMarkdownDocs(I.documentation);C.append(this.domNodes.docs,R.element)}const W=this.hasDocs(I,E);if(this.domNodes.signature.classList.toggle("has-docs",W),this.domNodes.docs.classList.toggle("empty",!W),this.domNodes.overloads.textContent=String(L.activeSignature+1).padStart(L.signatures.length.toString().length,"0")+"/"+L.signatures.length,E){const R=this.getParameterLabel(I,B);this.announcedLabel!==R&&(k.alert(c.localize(2,null,R)),this.announcedLabel=R)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}}renderMarkdownDocs(L){const D=this.renderDisposeables.add(this.markdownRenderer.render(L,{asyncRenderCallback:()=>{var N;(N=this.domNodes)===null||N===void 0||N.scrollbar.scanDomNode()}}));return D.element.classList.add("markdown-docs"),D}hasDocs(L,D){return!!(D&&typeof D.documentation=="string"&&t.assertIsDefined(D.documentation).length>0||D&&typeof D.documentation=="object"&&t.assertIsDefined(D.documentation).value.length>0||L.documentation&&typeof L.documentation=="string"&&t.assertIsDefined(L.documentation).length>0||L.documentation&&typeof L.documentation=="object"&&t.assertIsDefined(L.documentation.value).length>0)}renderParameters(L,D,N){const[I,T]=this.getParameterLabelOffsets(D,N),O=document.createElement("span");O.textContent=D.label.substring(0,I);const A=document.createElement("span");A.textContent=D.label.substring(I,T),A.className="parameter active";const B=document.createElement("span");B.textContent=D.label.substring(T),C.append(L,O,A,B)}getParameterLabel(L,D){const N=L.parameters[D];return Array.isArray(N.label)?L.label.substring(N.label[0],N.label[1]):N.label}getParameterLabelOffsets(L,D){const N=L.parameters[D];if(N){if(Array.isArray(N.label))return N.label;if(N.label.length){const I=new RegExp(`(\\W|^)${i.escapeRegExpCharacters(N.label)}(?=\\W|$)`,"g");I.test(L.label);const T=I.lastIndex-N.label.length;return T>=0?[T,I.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return qt.ID}trigger(L){this.model.trigger(L,0)}updateMaxHeight(){if(!!this.domNodes){const D=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=D;const N=this.domNodes.element.getElementsByClassName("phwrapper");N.length&&(N[0].style.maxHeight=D)}}};b.ID="editor.widget.parameterHintsWidget",b=Me([pe(1,u.IContextKeyService),pe(2,a.IOpenerService),pe(3,l.IModeService)],b),e.ParameterHintsWidget=b,d.registerThemingParticipant((y,L)=>{const D=y.getColor(r.editorHoverBorder);if(D){const A=y.type===o.ColorScheme.HIGH_CONTRAST?2:1;L.addRule(`.monaco-editor .parameter-hints-widget { border: ${A}px solid ${D}; }`),L.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${D.transparent(.5)}; }`),L.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${D.transparent(.5)}; }`)}const N=y.getColor(r.editorHoverBackground);N&&L.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${N}; }`);const I=y.getColor(r.textLinkForeground);I&&L.addRule(`.monaco-editor .parameter-hints-widget a { color: ${I}; }`);const T=y.getColor(r.editorHoverForeground);T&&L.addRule(`.monaco-editor .parameter-hints-widget { color: ${T}; }`);const O=y.getColor(r.textCodeBlockBackground);O&&L.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`)})}),define(ee[656],te([0,1,492,2,9,25,18,14,655,181,17]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let c=class $t extends M.Disposable{constructor(s,i){super();this.editor=s,this.widget=this._register(i.createInstance(l.ParameterHintsWidget,this.editor))}static get(s){return s.getContribution($t.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(s){this.widget.trigger(s)}};c.ID="editor.controller.parameterHints",c=Me([pe(1,k.IInstantiationService)],c);class u extends v.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:w.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(s,i){const n=c.get(i);n&&n.trigger({triggerKind:p.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=u,v.registerEditorContribution(c.ID,c),v.registerEditorAction(u);const a=100+75,r=v.EditorCommand.bindToContribution(c.get);v.registerEditorCommand(new r({id:"closeParameterHints",precondition:f.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:a,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),v.registerEditorCommand(new r({id:"showPrevParameterHint",precondition:S.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:a,kbExpr:w.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),v.registerEditorCommand(new r({id:"showNextParameterHint",precondition:S.ContextKeyExpr.and(f.Context.Visible,f.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:a,kbExpr:w.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(ee[657],te([0,1,504,66,2,7,12,57,17,174,555,36,24,235,19,252,27,6,80]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function o(m){return`suggest-aria-id:${m}`}e.getAriaId=o,e.suggestMoreInfoIcon=n.registerIcon("suggest-more-info",s.Codicon.chevronRight,C.localize(0,null));const h=new(t=class gt{extract(g,b){if(g.textLabel.match(gt._regexStrict))return b[0]=g.textLabel,!0;if(g.completion.detail&&g.completion.detail.match(gt._regexStrict))return b[0]=g.completion.detail,!0;if(typeof g.completion.documentation=="string"){const y=gt._regexRelaxed.exec(g.completion.documentation);if(y&&(y.index===0||y.index+y[0].length===g.completion.documentation.length))return b[0]=y[0],!0}return!1}},t._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,t._regexStrict=new RegExp(`^${t._regexRelaxed.source}$`,"i"),t);let _=class{constructor(g,b,y,L){this._editor=g,this._modelService=b,this._modeService=y,this._themeService=L,this._onDidToggleDetails=new i.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(g){const b=Object.create(null);b.disposables=new k.DisposableStore,b.root=g,b.root.classList.add("show-file-icons"),b.icon=w.append(g,w.$(".icon")),b.colorspan=w.append(b.icon,w.$("span.colorspan"));const y=w.append(g,w.$(".contents")),L=w.append(y,w.$(".main"));b.iconContainer=w.append(L,w.$(".icon-label.codicon")),b.left=w.append(L,w.$("span.left")),b.right=w.append(L,w.$("span.right")),b.iconLabel=new f.IconLabel(b.left,{supportHighlights:!0,supportIcons:!0}),b.disposables.add(b.iconLabel),b.parametersLabel=w.append(b.left,w.$("span.signature-label")),b.qualifierLabel=w.append(b.left,w.$("span.qualifier-label")),b.detailsLabel=w.append(b.right,w.$("span.details-label")),b.readMore=w.append(b.right,w.$("span.readMore"+S.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),b.readMore.title=C.localize(1,null);const D=()=>{const N=this._editor.getOptions(),I=N.get(38),T=I.fontFamily,O=I.fontFeatureSettings,A=N.get(102)||I.fontSize,B=N.get(103)||I.lineHeight,E=I.fontWeight,W=`${A}px`,R=`${B}px`;b.root.style.fontSize=W,b.root.style.fontWeight=E,L.style.fontFamily=T,L.style.fontFeatureSettings=O,L.style.lineHeight=R,b.icon.style.height=R,b.icon.style.width=R,b.readMore.style.height=R,b.readMore.style.width=R};return D(),b.disposables.add(this._editor.onDidChangeConfiguration(N=>{(N.hasChanged(38)||N.hasChanged(102)||N.hasChanged(103))&&D()})),b}renderElement(g,b,y){var L,D,N;const{completion:I}=g,T=typeof I.label=="string"?I.label:I.label.name;y.root.id=o(b),y.colorspan.style.backgroundColor="";const O={labelEscapeNewLines:!0,matches:M.createMatches(g.score)};let A=[];if(I.kind===19&&h.extract(g,A))y.icon.className="icon customcolor",y.iconContainer.className="icon hide",y.colorspan.style.backgroundColor=A[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){y.icon.className="icon hide",y.iconContainer.className="icon hide";const B=p.getIconClasses(this._modelService,this._modeService,u.URI.from({scheme:"fake",path:T}),a.FileKind.FILE),E=p.getIconClasses(this._modelService,this._modeService,u.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FILE);O.extraClasses=B.length>E.length?B:E}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(y.icon.className="icon hide",y.iconContainer.className="icon hide",O.extraClasses=r.flatten([p.getIconClasses(this._modelService,this._modeService,u.URI.from({scheme:"fake",path:T}),a.FileKind.FOLDER),p.getIconClasses(this._modelService,this._modeService,u.URI.from({scheme:"fake",path:I.detail}),a.FileKind.FOLDER)])):(y.icon.className="icon hide",y.iconContainer.className="",y.iconContainer.classList.add("suggest-icon",...l.completionKindToCssClass(I.kind).split(" ")));I.tags&&I.tags.indexOf(1)>=0&&(O.extraClasses=(O.extraClasses||[]).concat(["deprecated"]),O.matches=[]),y.iconLabel.setLabel(T,void 0,O),typeof I.label=="string"?(y.parametersLabel.textContent="",y.qualifierLabel.textContent="",y.detailsLabel.textContent=(I.detail||"").replace(/\n.*$/m,""),y.root.classList.add("string-label"),y.root.title=""):(y.parametersLabel.textContent=(I.label.parameters||"").replace(/\n.*$/m,""),y.qualifierLabel.textContent=(I.label.qualifier||"").replace(/\n.*$/m,""),y.detailsLabel.textContent=(I.label.type||"").replace(/\n.*$/m,""),y.root.classList.remove("string-label"),y.root.title=`${T}${(L=I.label.parameters)!==null&&L!==void 0?L:""}  ${(D=I.label.qualifier)!==null&&D!==void 0?D:""}  ${(N=I.label.type)!==null&&N!==void 0?N:""}`),this._editor.getOption(101).showInlineDetails?w.show(y.detailsLabel):w.hide(y.detailsLabel),d.canExpandCompletionItem(g)?(y.right.classList.add("can-expand-details"),w.show(y.readMore),y.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},y.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(y.right.classList.remove("can-expand-details"),w.hide(y.readMore),y.readMore.onmousedown=null,y.readMore.onclick=null)}disposeTemplate(g){g.disposables.dispose()}};_=Me([pe(1,c.IModelService),pe(2,v.IModeService),pe(3,S.IThemeService)],_),e.ItemRenderer=_}),define(ee[658],te([0,1,502,8,7,6,11,2,125,18,116,115,12,22,79,15,9,252,641,657,229,145,100,348,123,257]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=a.registerColor("editorSuggestWidget.background",{dark:a.editorWidgetBackground,light:a.editorWidgetBackground,hc:a.editorWidgetBackground},C.localize(0,null)),e.editorSuggestWidgetBorder=a.registerColor("editorSuggestWidget.border",{dark:a.editorWidgetBorder,light:a.editorWidgetBorder,hc:a.editorWidgetBorder},C.localize(1,null)),e.editorSuggestWidgetForeground=a.registerColor("editorSuggestWidget.foreground",{dark:a.editorForeground,light:a.editorForeground,hc:a.editorForeground},C.localize(2,null)),e.editorSuggestWidgetSelectedBackground=a.registerColor("editorSuggestWidget.selectedBackground",{dark:a.listFocusBackground,light:a.listFocusBackground,hc:a.listFocusBackground},C.localize(3,null)),e.editorSuggestWidgetHighlightForeground=a.registerColor("editorSuggestWidget.highlightForeground",{dark:a.listHighlightForeground,light:a.listHighlightForeground,hc:a.listHighlightForeground},C.localize(4,null));class m{constructor(L,D){this._service=L,this._key=`suggestWidget.size/${D.getEditorType()}/${D instanceof h.EmbeddedCodeEditorWidget}`}restore(){var L;const D=(L=this._service.get(this._key,0))!==null&&L!==void 0?L:"";try{const N=JSON.parse(D);if(k.Dimension.is(N))return k.Dimension.lift(N)}catch(N){}}store(L){this._service.store(this._key,JSON.stringify(L),0,1)}reset(){this._service.remove(this._key,0)}}let g=class Ct{constructor(L,D,N,I,T){this.editor=L,this._storageService=D,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._explainMode=!1,this._showTimeout=new d.TimeoutTimer,this._disposables=new v.DisposableStore,this._onDidSelect=new w.Emitter,this._onDidFocus=new w.Emitter,this._onDidHide=new w.Emitter,this._onDidShow=new w.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new w.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new o.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new b(this,L),this._persistedSize=new m(D,L);class O{constructor(V,K,G=!1,J=!1){this.persistedSize=V,this.currentSize=K,this.persistHeight=G,this.persistWidth=J}}let A;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),A=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(F=>{var V,K,G,J;if(this._resize(F.dimension.width,F.dimension.height),A&&(A.persistHeight=A.persistHeight||!!F.north||!!F.south,A.persistWidth=A.persistWidth||!!F.east||!!F.west),!!F.done){if(A){const{itemHeight:se,defaultSize:ie}=this.getLayoutInfo(),ae=Math.round(se/2);let{width:X,height:U}=this.element.size;(!A.persistHeight||Math.abs(A.currentSize.height-U)<=ae)&&(U=(K=(V=A.persistedSize)===null||V===void 0?void 0:V.height)!==null&&K!==void 0?K:ie.height),(!A.persistWidth||Math.abs(A.currentSize.width-X)<=ae)&&(X=(J=(G=A.persistedSize)===null||G===void 0?void 0:G.width)!==null&&J!==void 0?J:ie.width),this._persistedSize.store(new k.Dimension(X,U))}this._contentWidget.unlockPreference(),A=void 0}})),this._messageElement=k.append(this.element.domNode,k.$(".message")),this._listElement=k.append(this.element.domNode,k.$(".tree"));const B=T.createInstance(i.SuggestDetailsWidget,this.editor);B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new i.SuggestDetailsOverlay(B,this.editor);const E=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(101).showIcons);E();const W=T.createInstance(t.ItemRenderer,this.editor);this._disposables.add(W),this._disposables.add(W.onDidToggleDetails(()=>this.toggleDetails())),this._list=new l.List("SuggestWidget",this._listElement,{getHeight:F=>this.getLayoutInfo().itemHeight,getTemplateId:F=>"suggestion"},[W],{useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:F=>{const V=typeof F.completion.label=="string"?F.completion.label:F.completion.label.name;if(F.isResolved&&this._isDetailsVisible()){const{documentation:K,detail:G}=F.completion,J=M.format("{0}{1}",G||"",K?typeof K=="string"?K:K.value:"");return C.localize(7,null,V,J)}else return V},getWidgetAriaLabel:()=>C.localize(8,null),getWidgetRole:()=>"listbox"}}),this._status=T.createInstance(n.SuggestWidgetStatus,this.element.domNode);const R=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(101).showStatusBar);R(),this._disposables.add(c.attachListStyler(this._list,I,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:a.activeContrastBorder})),this._disposables.add(I.onDidColorThemeChange(F=>this._onThemeChange(F))),this._onThemeChange(I.getColorTheme()),this._disposables.add(this._list.onMouseDown(F=>this._onListMouseDownOrTap(F))),this._disposables.add(this._list.onTap(F=>this._onListMouseDownOrTap(F))),this._disposables.add(this._list.onDidChangeSelection(F=>this._onListSelection(F))),this._disposables.add(this._list.onDidChangeFocus(F=>this._onListFocus(F))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(F=>{F.hasChanged(101)&&(R(),E())})),this._ctxSuggestWidgetVisible=p.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=p.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=p.Context.MultipleSuggestions.bindTo(N),this._disposables.add(k.addStandardDisposableListener(this._details.widget.domNode,"keydown",F=>{this._onDetailsKeydown.fire(F)})),this._disposables.add(this.editor.onMouseDown(F=>this._onEditorMouseDown(F)))}dispose(){var L;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(L){this._details.widget.domNode.contains(L.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(L.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(L){typeof L.element=="undefined"||typeof L.index=="undefined"||(L.browserEvent.preventDefault(),L.browserEvent.stopPropagation(),this._select(L.element,L.index))}_onListSelection(L){L.elements.length&&this._select(L.elements[0],L.indexes[0])}_select(L,D){const N=this._completionModel;N&&(this._onDidSelect.fire({item:L,index:D,model:N}),this.editor.focus())}_onThemeChange(L){const D=L.getColor(e.editorSuggestWidgetBackground);D&&(this.element.domNode.style.backgroundColor=D.toString(),this._messageElement.style.backgroundColor=D.toString(),this._details.widget.domNode.style.backgroundColor=D.toString());const N=L.getColor(e.editorSuggestWidgetBorder);N&&(this.element.domNode.style.borderColor=N.toString(),this._messageElement.style.borderColor=N.toString(),this._status.element.style.borderTopColor=N.toString(),this._details.widget.domNode.style.borderColor=N.toString(),this._detailsBorderColor=N.toString());const I=L.getColor(a.focusBorder);I&&(this._detailsFocusBorderColor=I.toString()),this._details.widget.borderWidth=L.type==="hc"?2:1}_onListFocus(L){var D;if(!this._ignoreFocusEvents){if(!L.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!!this._completionModel){const N=L.elements[0],I=L.indexes[0];N!==this._focusedItem&&((D=this._currentSuggestionDetails)===null||D===void 0||D.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(I),this._currentSuggestionDetails=d.createCancelablePromise(T=>Ie(this,void 0,void 0,function*(){const O=d.disposableTimeout(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);T.onCancellationRequested(()=>O.dispose());const A=yield N.resolve(T);return O.dispose(),A})),this._currentSuggestionDetails.then(()=>{I>=this._list.length||N!==this._list.element(I)||(this._ignoreFocusEvents=!0,this._list.splice(I,1,[N]),this._list.setFocus([I]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:t.getAriaId(I)}))}).catch(S.onUnexpectedError)),this._onDidFocus.fire({item:N,index:I,model:this._completionModel})}}}_setState(L){if(this._state!==L)switch(this._state=L,this.element.domNode.classList.toggle("frozen",L===4),this.element.domNode.classList.remove("message"),L){case 0:k.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ct.LOADING_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Ct.NO_SUGGESTIONS_MESSAGE,k.hide(this._listElement,this._status.element),k.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 4:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._show();break;case 5:k.hide(this._messageElement),k.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(L,D){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!L,this._isAuto||(this._loadingTimeout=d.disposableTimeout(()=>this._setState(1),D)))}showSuggestions(L,D,N,I){var T,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(T=this._loadingTimeout)===null||T===void 0||T.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==L&&(this._completionModel=L),N&&this._state!==2&&this._state!==0){this._setState(4);return}const A=this._completionModel.items.length,B=A===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(A>1),B){this._setState(I?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),this._list.reveal(D,0),this._list.setFocus([D]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):i.canExpandCompletionItem(this._list.getFocusedElements()[0])&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(L){this._details.show(),L?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&this._isDetailsVisible()&&(this._explainMode=!this._explainMode,this.showDetails(!1))}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var L;(L=this._loadingTimeout)===null||L===void 0||L.dispose(),this._setState(0),this._onDidHide.fire(this);const D=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);D&&D.height<N&&this._persistedSize.store(D.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(L){if(L===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(L){var D,N,I;if(!!this.editor.hasModel()&&!!this.editor.getDomNode()){const T=k.getClientArea(document.body),O=this.getLayoutInfo();L||(L=O.defaultSize);let A=L.height,B=L.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)A=O.itemHeight+O.borderHeight,B=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new k.Dimension(B,A),this._contentWidget.setPreference(2);else{const E=T.width-O.borderHeight-2*O.horizontalPadding;B>E&&(B=E);const W=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:B,R=O.statusBarHeight+this._list.contentHeight+O.borderHeight,F=O.itemHeight+O.statusBarHeight,V=k.getDomNodePagePosition(this.editor.getDomNode()),K=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),G=V.top+K.top+K.height,J=Math.min(T.height-G-O.verticalPadding,R),se=Math.min(V.top+K.top-O.verticalPadding,R);let ie=Math.min(Math.max(se,J)+O.borderHeight,R);A===((D=this._cappedHeight)===null||D===void 0?void 0:D.capped)&&(A=this._cappedHeight.wanted),A<F&&(A=F),A>ie&&(A=ie),A>J?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ie=se):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ie=J),this.element.preferredSize=new k.Dimension(W,O.defaultSize.height),this.element.maxSize=new k.Dimension(E,ie),this.element.minSize=new k.Dimension(220,F),this._cappedHeight=A===R?{wanted:(I=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&I!==void 0?I:L.height,capped:A}:void 0}this._resize(B,A)}}_resize(L,D){const{width:N,height:I}=this.element.maxSize;L=Math.min(N,L),D=Math.min(I,D);const{statusBarHeight:T}=this.getLayoutInfo();this._list.layout(D-T,L),this._listElement.style.height=`${D-T}px`,this.element.layout(D,L),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const L=this.editor.getOption(38),D=_.clamp(this.editor.getOption(103)||L.lineHeight,8,1e3),N=!this.editor.getOption(101).showStatusBar||this._state===2||this._state===1?0:D,I=this._details.widget.borderWidth,T=2*I;return{itemHeight:D,statusBarHeight:N,borderWidth:I,borderHeight:T,typicalHalfwidthCharacterWidth:L.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new k.Dimension(430,N+12*D+T)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(L){this._storageService.store("expandSuggestionDocs",L,0,0)}};g.LOADING_MESSAGE=C.localize(5,null),g.NO_SUGGESTIONS_MESSAGE=C.localize(6,null),g=Me([pe(1,r.IStorageService),pe(2,f.IContextKeyService),pe(3,u.IThemeService),pe(4,s.IInstantiationService)],g),e.SuggestWidget=g;class b{constructor(L,D){this._widget=L,this._editor=D,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:L,width:D}=this._widget.element.size,{borderWidth:N,horizontalPadding:I}=this._widget.getLayoutInfo();return new k.Dimension(D+2*N+I,L+2*N)}afterRender(L){this._widget._afterRender(L)}setPreference(L){this._preferenceLocked||(this._preference=L)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(L){this._position=L}}e.SuggestContentWidget=b,u.registerThemingParticipant((y,L)=>{const D=y.getColor(e.editorSuggestWidgetHighlightForeground);D&&L.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${D}; }`);const N=y.getColor(e.editorSuggestWidgetForeground);N&&L.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${N}; }`);const I=y.getColor(a.textLinkForeground);I&&L.addRule(`.monaco-editor .suggest-details a { color: ${I}; }`);const T=y.getColor(a.textCodeBlockBackground);T&&L.addRule(`.monaco-editor .suggest-details code { background-color: ${T}; }`)})}),define(ee[659],te([0,1,7,29,6,17,377,599,33,22,12,2,97,80]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeServiceImpl=void 0;const r="vs",d="vs-dark",s="hc-black",i=l.Registry.as(f.Extensions.ColorContribution),n=l.Registry.as(p.Extensions.ThemingContribution);class t{constructor(b,y){this.semanticHighlighting=!1,this.themeData=y;let L=y.base;b.length>0?(o(b)?this.id=b:this.id=L+" "+b,this.themeName=b):(this.id=L,this.themeName=L),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const b=new Map;for(let y in this.themeData.colors)b.set(y,M.Color.fromHex(this.themeData.colors[y]));if(this.themeData.inherit){let y=h(this.themeData.base);for(let L in y.colors)b.has(L)||b.set(L,M.Color.fromHex(y.colors[L]))}this.colors=b}return this.colors}getColor(b,y){const L=this.getColors().get(b);if(L)return L;if(y!==!1)return this.getDefault(b)}getDefault(b){let y=this.defaultColors[b];return y||(y=i.resolveDefaultColor(b,this),this.defaultColors[b]=y,y)}defines(b){return Object.prototype.hasOwnProperty.call(this.getColors(),b)}get type(){switch(this.base){case r:return u.ColorScheme.LIGHT;case s:return u.ColorScheme.HIGH_CONTRAST;default:return u.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let b=[],y=[];if(this.themeData.inherit){let L=h(this.themeData.base);b=L.rules,L.encodedTokensColors&&(y=L.encodedTokensColors)}b=b.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(y=this.themeData.encodedTokensColors),this._tokenTheme=S.TokenTheme.createFromRawTokenTheme(b,y)}return this._tokenTheme}getTokenStyleMetadata(b,y,L){const N=this.tokenTheme._match([b].concat(y).join(".")).metadata,I=w.TokenMetadata.getForeground(N),T=w.TokenMetadata.getFontStyle(N);return{foreground:I,italic:Boolean(T&1),bold:Boolean(T&2),underline:Boolean(T&4)}}}function o(g){return g===r||g===d||g===s}function h(g){switch(g){case r:return v.vs;case d:return v.vs_dark;case s:return v.hc_black}}function _(g){let b=h(g);return new t(g,b)}class m extends c.Disposable{constructor(){super();this._onColorThemeChange=this._register(new k.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._knownThemes=new Map,this._knownThemes.set(r,_(r)),this._knownThemes.set(d,_(d)),this._knownThemes.set(s,_(s));const b=a.getIconRegistry();this._codiconCSS=b.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(r),b.onDidChange(()=>{this._codiconCSS=b.getCSS(),this._updateCSS()})}registerEditorContainer(b){return C.isInShadowDOM(b)?this._registerShadowDomContainer(b):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=C.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),c.Disposable.None}_registerShadowDomContainer(b){const y=C.createStyleSheet(b);return y.className="monaco-colors",y.textContent=this._allCSS,this._styleElements.push(y),{dispose:()=>{for(let L=0;L<this._styleElements.length;L++)if(this._styleElements[L]===y){this._styleElements.splice(L,1);return}}}}defineTheme(b,y){if(!/^[a-z0-9\-]+$/i.test(b))throw new Error("Illegal theme name!");if(!o(y.base)&&!o(b))throw new Error("Illegal theme base!");this._knownThemes.set(b,new t(b,y)),o(b)&&this._knownThemes.forEach(L=>{L.base===b&&L.notifyBaseUpdated()}),this._theme&&this._theme.themeName===b&&this.setTheme(b)}getColorTheme(){return this._theme}setColorMapOverride(b){this._colorMapOverride=b,this._updateThemeOrColorMap()}setTheme(b){let y;return this._knownThemes.has(b)?y=this._knownThemes.get(b):y=this._knownThemes.get(r),this._theme===y||(this._theme=y,this._updateThemeOrColorMap()),y.id}_updateThemeOrColorMap(){let b=[],y={},L={addRule:N=>{y[N]||(b.push(N),y[N]=!0)}};n.getThemingParticipants().forEach(N=>N(this._theme,L,this._environment));const D=this._colorMapOverride||this._theme.tokenTheme.getColorMap();L.addRule(S.generateTokensCSSForColorMap(D)),this._themeCSS=b.join(`
`),this._updateCSS(),w.TokenizationRegistry.setColorMap(D),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(b=>b.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}e.StandaloneThemeServiceImpl=m}),define(ee[149],te([0,1,9]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=C.createDecorator("undoRedoService");class M{constructor(v,l){this.resource=v,this.elements=l}}e.ResourceEditStackSnapshot=M;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class w{constructor(){this.id=w._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=w,w._ID=0,w.None=new w}),define(ee[267],te([0,1,6,2,16,11,38,31,17,142,138,46,15,23,12,77,149,89,234,43,251,246]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelServiceImpl=void 0;function _(B){return B.toString()}function m(B){const E=new i.StringSHA1,W=B.createSnapshot();let R;for(;R=W.read();)E.update(R);return E.digest()}class g{constructor(E,W,R){this._modelEventListeners=new M.DisposableStore,this.model=E,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(E.onWillDispose(()=>W(E))),this._modelEventListeners.add(E.onDidChangeLanguage(F=>R(E,F)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(E){this._disposeLanguageSelection(),this._languageSelection=E,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(E.languageIdentifier)),this.model.setMode(E.languageIdentifier)}}const b=k.isLinux||k.isMacintosh?1:2;class y{constructor(E,W,R,F,V,K,G,J){this.uri=E,this.initialUndoRedoSnapshot=W,this.time=R,this.sharesUndoRedoStack=F,this.heapSize=V,this.sha1=K,this.versionId=G,this.alternativeVersionId=J}}function L(B){return B.scheme===t.Schemas.file||B.scheme===t.Schemas.vscodeRemote||B.scheme===t.Schemas.userData||B.scheme==="fake-fs"}let D=class nt extends M.Disposable{constructor(E,W,R,F,V){super();this._configurationService=E,this._resourcePropertiesService=W,this._themeService=R,this._logService=F,this._undoRedoService=V,this._onModelAdded=this._register(new C.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new C.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new C.Emitter),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new T(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new I(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(E,W){let R=S.EDITOR_MODEL_DEFAULTS.tabSize;if(E.editor&&typeof E.editor.tabSize!="undefined"){const ae=parseInt(E.editor.tabSize,10);isNaN(ae)||(R=ae),R<1&&(R=1)}let F=R;if(E.editor&&typeof E.editor.indentSize!="undefined"&&E.editor.indentSize!=="tabSize"){const ae=parseInt(E.editor.indentSize,10);isNaN(ae)||(F=ae),F<1&&(F=1)}let V=S.EDITOR_MODEL_DEFAULTS.insertSpaces;E.editor&&typeof E.editor.insertSpaces!="undefined"&&(V=E.editor.insertSpaces==="false"?!1:Boolean(E.editor.insertSpaces));let K=b;const G=E.eol;G===`\r
`?K=2:G===`
`&&(K=1);let J=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;E.editor&&typeof E.editor.trimAutoWhitespace!="undefined"&&(J=E.editor.trimAutoWhitespace==="false"?!1:Boolean(E.editor.trimAutoWhitespace));let se=S.EDITOR_MODEL_DEFAULTS.detectIndentation;E.editor&&typeof E.editor.detectIndentation!="undefined"&&(se=E.editor.detectIndentation==="false"?!1:Boolean(E.editor.detectIndentation));let ie=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;return E.editor&&typeof E.editor.largeFileOptimizations!="undefined"&&(ie=E.editor.largeFileOptimizations==="false"?!1:Boolean(E.editor.largeFileOptimizations)),{isForSimpleWidget:W,tabSize:R,indentSize:F,insertSpaces:V,detectIndentation:se,defaultEOL:K,trimAutoWhitespace:J,largeFileOptimizations:ie}}_getEOL(E,W){if(E)return this._resourcePropertiesService.getEOL(E,W);const R=this._configurationService.getValue("files.eol",{overrideIdentifier:W});return R&&R!=="auto"?R:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const E=this._configurationService.getValue("files.restoreUndoStack");return typeof E=="boolean"?E:!0}getCreationOptions(E,W,R){let F=this._modelCreationOptionsByLanguageAndResource[E+W];if(!F){const V=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:W}),K=this._getEOL(W,E);F=nt._readModelOptions({editor:V,eol:K},R),this._modelCreationOptionsByLanguageAndResource[E+W]=F}return F}_updateModelOptions(){const E=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const W=Object.keys(this._models);for(let R=0,F=W.length;R<F;R++){const V=W[R],K=this._models[V],G=K.model.getLanguageIdentifier().language,J=K.model.uri,se=E[G+J],ie=this.getCreationOptions(G,J,K.model.isForSimpleWidget);nt._setModelOptionsForModel(K.model,ie,se)}}static _setModelOptionsForModel(E,W,R){R&&R.defaultEOL!==W.defaultEOL&&E.getLineCount()===1&&E.setEOL(W.defaultEOL===1?0:1),!(R&&R.detectIndentation===W.detectIndentation&&R.insertSpaces===W.insertSpaces&&R.tabSize===W.tabSize&&R.indentSize===W.indentSize&&R.trimAutoWhitespace===W.trimAutoWhitespace)&&(W.detectIndentation?(E.detectIndentation(W.insertSpaces,W.tabSize),E.updateOptions({trimAutoWhitespace:W.trimAutoWhitespace})):E.updateOptions({insertSpaces:W.insertSpaces,tabSize:W.tabSize,indentSize:W.indentSize,trimAutoWhitespace:W.trimAutoWhitespace}))}_insertDisposedModel(E){this._disposedModels.set(_(E.uri),E),this._disposedModelsHeapSize+=E.heapSize}_removeDisposedModel(E){const W=this._disposedModels.get(_(E));return W&&(this._disposedModelsHeapSize-=W.heapSize),this._disposedModels.delete(_(E)),W}_ensureDisposedModelsHeapSize(E){if(this._disposedModelsHeapSize>E){const W=[];for(this._disposedModels.forEach(R=>{R.sharesUndoRedoStack||W.push(R)}),W.sort((R,F)=>R.time-F.time);W.length>0&&this._disposedModelsHeapSize>E;){const R=W.shift();this._removeDisposedModel(R.uri),R.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(R.initialUndoRedoSnapshot)}}}_createModelData(E,W,R,F){const V=this.getCreationOptions(W.language,R,F),K=new v.TextModel(E,V,W,R,this._undoRedoService);if(R&&this._disposedModels.has(_(R))){const se=this._removeDisposedModel(R),ie=this._undoRedoService.getElements(R),ae=m(K)===se.sha1;if(ae||se.sharesUndoRedoStack){for(const X of ie.past)n.isEditStackElement(X)&&X.matchesResource(R)&&X.setModel(K);for(const X of ie.future)n.isEditStackElement(X)&&X.matchesResource(R)&&X.setModel(K);this._undoRedoService.setElementsValidFlag(R,!0,X=>n.isEditStackElement(X)&&X.matchesResource(R)),ae&&(K._overwriteVersionId(se.versionId),K._overwriteAlternativeVersionId(se.alternativeVersionId),K._overwriteInitialUndoRedoSnapshot(se.initialUndoRedoSnapshot))}else se.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(se.initialUndoRedoSnapshot)}const G=_(K.uri);if(this._models[G])throw new Error("ModelService: Cannot add model because it already exists!");const J=new g(K,se=>this._onWillDispose(se),(se,ie)=>this._onDidChangeLanguage(se,ie));return this._models[G]=J,J}createModel(E,W,R,F=!1){let V;return W?(V=this._createModelData(E,W.languageIdentifier,R,F),this.setMode(V.model,W)):V=this._createModelData(E,f.PLAINTEXT_LANGUAGE_IDENTIFIER,R,F),this._onModelAdded.fire(V.model),V.model}setMode(E,W){if(!!W){const R=this._models[_(E.uri)];!R||R.setLanguage(W)}}getModels(){const E=[],W=Object.keys(this._models);for(let R=0,F=W.length;R<F;R++){const V=W[R];E.push(this._models[V].model)}return E}getModel(E){const W=_(E),R=this._models[W];return R?R.model:null}getSemanticTokensProviderStyling(E){return this._semanticStyling.get(E)}_onWillDispose(E){const W=_(E.uri),R=this._models[W],F=this._undoRedoService.getUriComparisonKey(E.uri)!==E.uri.toString();let V=!1,K=0;if(F||this._shouldRestoreUndoStack()&&L(E.uri)){const J=this._undoRedoService.getElements(E.uri);if(J.past.length>0||J.future.length>0){for(const se of J.past)n.isEditStackElement(se)&&se.matchesResource(E.uri)&&(V=!0,K+=se.heapSize(E.uri),se.setModel(E.uri));for(const se of J.future)n.isEditStackElement(se)&&se.matchesResource(E.uri)&&(V=!0,K+=se.heapSize(E.uri),se.setModel(E.uri))}}const G=nt.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(V)if(!F&&K>G){const J=R.model.getInitialUndoRedoSnapshot();J!==null&&this._undoRedoService.restoreSnapshot(J)}else this._ensureDisposedModelsHeapSize(G-K),this._undoRedoService.setElementsValidFlag(E.uri,!1,J=>n.isEditStackElement(J)&&J.matchesResource(E.uri)),this._insertDisposedModel(new y(E.uri,R.model.getInitialUndoRedoSnapshot(),Date.now(),F,K,m(E),E.getVersionId(),E.getAlternativeVersionId()));else if(!F){const J=R.model.getInitialUndoRedoSnapshot();J!==null&&this._undoRedoService.restoreSnapshot(J)}delete this._models[W],R.dispose(),delete this._modelCreationOptionsByLanguageAndResource[E.getLanguageIdentifier().language+E.uri],this._onModelRemoved.fire(E)}_onDidChangeLanguage(E,W){const R=W.oldLanguage,F=E.getLanguageIdentifier().language,V=this.getCreationOptions(R,E.uri,E.isForSimpleWidget),K=this.getCreationOptions(F,E.uri,E.isForSimpleWidget);nt._setModelOptionsForModel(E,K,V),this._onModelModeChanged.fire({model:E,oldModeId:R})}};D.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,D=Me([pe(0,c.IConfigurationService),pe(1,p.ITextResourcePropertiesService),pe(2,r.IThemeService),pe(3,d.ILogService),pe(4,s.IUndoRedoService)],D),e.ModelServiceImpl=D,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function N(B,E,W){var R;const F=(R=W.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:B.getLanguageIdentifier().language,resource:B.uri}))===null||R===void 0?void 0:R.enabled;return typeof F=="boolean"?F:E.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=N;class I extends M.Disposable{constructor(E,W,R,F){super();this._watchers=Object.create(null),this._semanticStyling=F;const V=J=>{this._watchers[J.uri.toString()]=new A(J,W,this._semanticStyling)},K=(J,se)=>{se.dispose(),delete this._watchers[J.uri.toString()]},G=()=>{for(let J of E.getModels()){const se=this._watchers[J.uri.toString()];N(J,W,R)?se||V(J):se&&K(J,se)}};this._register(E.onModelAdded(J=>{N(J,W,R)&&V(J)})),this._register(E.onModelRemoved(J=>{const se=this._watchers[J.uri.toString()];se&&K(J,se)})),this._register(R.onDidChangeConfiguration(J=>{J.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&G()})),this._register(W.onDidColorThemeChange(G))}}class T extends M.Disposable{constructor(E,W){super();this._themeService=E,this._logService=W,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(E){return this._caches.has(E)||this._caches.set(E,new o.SemanticTokensProviderStyling(E.getLegend(),this._themeService,this._logService)),this._caches.get(E)}}class O{constructor(E,W,R){this._provider=E,this.resultId=W,this.data=R}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class A extends M.Disposable{constructor(E,W,R){super();this._isDisposed=!1,this._model=E,this._semanticStyling=R,this._fetchDocumentSemanticTokens=this._register(new u.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),A.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}));const F=()=>{M.dispose(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const V of l.DocumentSemanticTokensProviderRegistry.all(E))typeof V.onDidChange=="function"&&this._documentProvidersChangeListeners.push(V.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};F(),this._register(l.DocumentSemanticTokensProviderRegistry.onDidChange(()=>{F(),this._fetchDocumentSemanticTokens.schedule()})),this._register(W.onDidColorThemeChange(V=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(!this._currentDocumentRequestCancellationTokenSource){const E=new a.CancellationTokenSource,W=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,R=h.getDocumentSemanticTokens(this._model,W,E.token);if(!R){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:F,request:V}=R;this._currentDocumentRequestCancellationTokenSource=E;const K=[],G=this._model.onDidChangeContent(se=>{K.push(se)}),J=this._semanticStyling.get(F);V.then(se=>{this._currentDocumentRequestCancellationTokenSource=null,G.dispose(),this._setDocumentSemanticTokens(F,se||null,J,K)},se=>{se&&(w.isPromiseCanceledError(se)||typeof se.message=="string"&&se.message.indexOf("busy")!==-1)||w.onUnexpectedError(se),this._currentDocumentRequestCancellationTokenSource=null,G.dispose(),K.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}}static _copy(E,W,R,F,V){for(let K=0;K<V;K++)R[F+K]=E[W+K]}_setDocumentSemanticTokens(E,W,R,F){const V=this._currentDocumentResponse,K=()=>{F.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){E&&W&&E.releaseDocumentSemanticTokens(W.resultId);return}if(!E||!R){this._model.setSemanticTokens(null,!1);return}if(!W){this._model.setSemanticTokens(null,!0),K();return}if(h.isSemanticTokensEdits(W)){if(!V){this._model.setSemanticTokens(null,!0);return}if(W.edits.length===0)W={resultId:W.resultId,data:V.data};else{let G=0;for(const X of W.edits)G+=(X.data?X.data.length:0)-X.deleteCount;const J=V.data,se=new Uint32Array(J.length+G);let ie=J.length,ae=se.length;for(let X=W.edits.length-1;X>=0;X--){const U=W.edits[X],P=ie-(U.start+U.deleteCount);P>0&&(A._copy(J,ie-P,se,ae-P,P),ae-=P),U.data&&(A._copy(U.data,0,se,ae-U.data.length,U.data.length),ae-=U.data.length),ie=U.start}ie>0&&A._copy(J,0,se,0,ie),W={resultId:W.resultId,data:se}}}if(h.isSemanticTokens(W)){this._currentDocumentResponse=new O(E,W.resultId,W.data);const G=o.toMultilineTokens2(W,R,this._model.getLanguageIdentifier());if(F.length>0)for(const J of F)for(const se of G)for(const ie of J.changes)se.applyEdit(ie.range,ie.text);this._model.setSemanticTokens(G,!0)}else this._model.setSemanticTokens(null,!0);K()}}e.ModelSemanticColoring=A,A.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300}),define(ee[660],te([0,1,7,29,6,2,43,44,145,3,31,67,594,479,9,114,148,22,12,117,133,311,149,37,341]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class g{constructor(N,I){this._editor=N,this._model=I,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new w.DisposableStore,this._callOnModelChange=new w.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(!!N){for(let I of this._model.references)if(I.uri.toString()===N.uri.toString()){this._addDecorations(I.parent);return}}}_addDecorations(N){if(!!this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const I=[],T=[];for(let A=0,B=N.children.length;A<B;A++){let E=N.children[A];this._decorationIgnoreSet.has(E.id)||E.uri.toString()===this._editor.getModel().uri.toString()&&(I.push({range:E.range,options:g.DecorationOptions}),T.push(A))}const O=this._editor.deltaDecorations([],I);for(let A=0;A<O.length;A++)this._decorations.set(O[A],N.children[T[A]])}}_onDecorationChanged(){const N=[],I=this._editor.getModel();if(!!I){for(let[T,O]of this._decorations){const A=I.getDecorationRange(T);if(!!A){let B=!1;if(!f.Range.equalsRange(A,O.range)){if(f.Range.spansMultipleLines(A))B=!0;else{const E=O.range.endColumn-O.range.startColumn,W=A.endColumn-A.startColumn;E!==W&&(B=!0)}B?(this._decorationIgnoreSet.add(O.id),N.push(T)):O.range=A}}}for(let T=0,O=N.length;T<O;T++)this._decorations.delete(N[T]);this._editor.deltaDecorations(N,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}g.DecorationOptions=p.ModelDecorationOptions.register({stickiness:1,className:"reference-decoration"});class b{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let I,T;try{const O=JSON.parse(N);I=O.ratio,T=O.heightInLines}catch(O){}return{ratio:I||.7,heightInLines:T||18}}}e.LayoutData=b;class y extends s.WorkbenchAsyncDataTree{}let L=class extends t.PeekViewWidget{constructor(N,I,T,O,A,B,E,W,R,F){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},B);this._defaultTreeKeyboardSupport=I,this.layoutData=T,this._textModelResolverService=A,this._instantiationService=B,this._peekViewService=E,this._uriLabel=W,this._undoRedoService=R,this._keybindingService=F,this._disposeOnNewModel=new w.DisposableStore,this._callOnDispose=new w.DisposableStore,this._onDidSelectReference=new k.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new C.Dimension(0,0),this._applyTheme(O.getColorTheme()),this._callOnDispose.add(O.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),w.dispose(this._preview),w.dispose(this._previewNotAvailableMessage),w.dispose(this._tree),w.dispose(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const I=N.getColor(t.peekViewBorder)||M.Color.transparent;this.style({arrowColor:I,frameColor:I,headerBackgroundColor:N.getColor(t.peekViewTitleBackground)||M.Color.transparent,primaryHeadingColor:N.getColor(t.peekViewTitleForeground),secondaryHeadingColor:N.getColor(t.peekViewTitleInfoForeground)})}show(N){this.editor.revealRangeInCenterIfOutsideViewport(N,0),super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=C.append(N,C.$("div.messages")),C.hide(this._messageContainer),this._splitView=new h.SplitView(N,{orientation:1}),this._previewContainer=C.append(N,C.$("div.preview.inline"));let I={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(l.EmbeddedCodeEditorWidget,this._previewContainer,I,this.editor),C.hide(this._previewContainer),this._previewNotAvailableMessage=new p.TextModel(a.localize(0,null),p.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=C.append(N,C.$("div.ref-tree.inline"));const T={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new u.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(u.StringRepresentationProvider),identityProvider:new u.IdentityProvider,openOnSingleClick:!0,openOnFocus:!0,overrideStyles:{listBackground:t.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(C.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(y,"ReferencesWidget",this._treeContainer,new u.Delegate,[this._instantiationService.createInstance(u.FileReferencesRenderer),this._instantiationService.createInstance(u.OneReferenceRenderer)],this._instantiationService.createInstance(u.DataSource),T),this._splitView.addView({onDidChange:k.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},h.Sizing.Distribute),this._splitView.addView({onDidChange:k.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},h.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let O=(A,B)=>{A instanceof o.OneReference&&(B==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:B,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?O(A.element,"side"):A.editorOptions.pinned?O(A.element,"goto"):O(A.element,"show")}),C.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,I){super._doLayoutBody(N,I),this._dim=new C.Dimension(I,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(I),this._splitView.resizeView(0,I*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{!this._model||(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=a.localize(1,null),C.show(this._messageContainer),Promise.resolve(void 0)):(C.hide(this._messageContainer),this._decorationsManager=new g(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:I,target:T}=N;if(I.detail===2){const O=this._getFocusedReference();!O||this._onDidSelectReference.fire({element:{uri:O.uri,range:T.range},kind:I.ctrlKey||I.metaKey||I.altKey?"side":"open",source:"editor"})}})),this.container.classList.add("results-loaded"),C.show(this._treeContainer),C.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof o.OneReference)return N;if(N instanceof o.FileReferences&&N.children.length>0)return N.children[0]}revealReference(N){return Ie(this,void 0,void 0,function*(){yield this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})})}_revealReference(N,I){return Ie(this,void 0,void 0,function*(){if(this._revealedReference!==N){this._revealedReference=N,N.uri.scheme!==S.Schemas.inMemory?this.setTitle(v.basenameOrAuthority(N.uri),this._uriLabel.getUriLabel(v.dirname(N.uri))):this.setTitle(a.localize(2,null));const T=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(I&&this._tree.reveal(N.parent),yield this._tree.expand(N.parent),this._tree.reveal(N));const O=yield T;if(!this._model){O.dispose();return}w.dispose(this._previewModelReference);const A=O.object;if(A){const B=this._preview.getModel()===A.textEditorModel?0:1,E=f.Range.lift(N.range).collapseToStart();this._previewModelReference=O,this._preview.setModel(A.textEditorModel),this._preview.setSelection(E),this._preview.revealRangeInCenter(E,B)}else this._preview.setModel(this._previewNotAvailableMessage),O.dispose()}})}};L=Me([pe(3,n.IThemeService),pe(4,c.ITextModelService),pe(5,r.IInstantiationService),pe(6,t.IPeekViewService),pe(7,d.ILabelService),pe(8,_.IUndoRedoService),pe(9,m.IKeybindingService)],L),e.ReferenceWidget=L,n.registerThemingParticipant((D,N)=>{const I=D.getColor(t.peekViewResultsMatchHighlight);I&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${I}; }`);const T=D.getColor(t.peekViewEditorMatchHighlight);T&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${T}; }`);const O=D.getColor(t.peekViewEditorMatchHighlightBorder);O&&N.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${O}; box-sizing: border-box; }`);const A=D.getColor(i.activeContrastBorder);A&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${A}; box-sizing: border-box; }`);const B=D.getColor(t.peekViewResultsBackground);B&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${B}; }`);const E=D.getColor(t.peekViewResultsMatchForeground);E&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${E}; }`);const W=D.getColor(t.peekViewResultsFileForeground);W&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${W}; }`);const R=D.getColor(t.peekViewResultsSelectionBackground);R&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${R}; }`);const F=D.getColor(t.peekViewResultsSelectionForeground);F&&N.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${F} !important; }`);const V=D.getColor(t.peekViewEditorBackground);V&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {	background-color: ${V};}`);const K=D.getColor(t.peekViewEditorGutterBackground);K&&N.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {	background-color: ${K};}`)})}),define(ee[268],te([0,1,477,11,2,28,9,18,46,79,133,660,3,13,32,15,117,148,86,39,26]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new v.RawContextKey("referenceSearchVisible",!1);let h=class St{constructor(g,b,y,L,D,N,I,T){this._defaultTreeKeyboardSupport=g,this._editor=b,this._editorService=L,this._notificationService=D,this._instantiationService=N,this._storageService=I,this._configurationService=T,this._disposables=new k.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(y)}static get(g){return g.getContribution(St.ID)}dispose(){var g,b;this._referenceSearchVisible.reset(),this._disposables.dispose(),(g=this._widget)===null||g===void 0||g.dispose(),(b=this._model)===null||b===void 0||b.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(g,b,y){let L;if(this._widget&&(L=this._widget.position),this.closeWidget(),!(!!L&&g.containsPosition(L))){this._peekMode=y,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const D="peekViewLayout",N=c.LayoutData.fromJSON(this._storageService.get(D,0,"{}"));this._widget=this._instantiationService.createInstance(c.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,N),this._widget.setTitle(C.localize(0,null)),this._widget.show(g),this._disposables.add(this._widget.onDidClose(()=>{b.cancel(),this._widget&&(this._storageService.store(D,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(T=>{let{element:O,kind:A}=T;if(!!O)switch(A){case"open":(T.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(O,!1,!1);break;case"side":this.openReference(O,!0,!1);break;case"goto":y?this._gotoReference(O):this.openReference(O,!1,!0);break}}));const I=++this._requestIdPool;b.then(T=>{if(!(I!==this._requestIdPool||!this._widget))return this._model&&this._model.dispose(),this._model=T,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(1,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,A=new a.Position(g.startLineNumber,g.startColumn),B=this._model.nearestReference(O,A);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(71)==="editor"&&this._widget.focusOnPreviewEditor()})}})},T=>{this._notificationService.error(T)})}}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(g){return Ie(this,void 0,void 0,function*(){if(!(!this._editor.hasModel()||!this._model||!this._widget)){const b=this._widget.position;if(!!b){const y=this._model.nearestReference(this._editor.getModel().uri,b);if(!!y){const L=this._model.nextOrPreviousReference(y,g),D=this._editor.hasTextFocus(),N=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(L),yield this._gotoReference(L),D?this._editor.focus():this._widget&&N&&this._widget.focusOnPreviewEditor()}}}})}revealReference(g){return Ie(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(g))})}closeWidget(g=!0){var b,y;(b=this._widget)===null||b===void 0||b.dispose(),(y=this._model)===null||y===void 0||y.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,g&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(g){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const b=u.Range.lift(g.range).collapseToStart();return this._editorService.openCodeEditor({resource:g.uri,options:{selection:b}},this._editor).then(y=>{var L;if(this._ignoreModelChangeEvent=!1,!y||!this._widget){this.closeWidget();return}if(this._editor===y)this._widget.show(b),this._widget.focusOnReferenceTree();else{const D=St.get(y),N=this._model.clone();this.closeWidget(),y.focus(),D.toggleWidget(b,d.createCancelablePromise(I=>Promise.resolve(N)),(L=this._peekMode)!==null&&L!==void 0?L:!1)}},y=>{this._ignoreModelChangeEvent=!1,M.onUnexpectedError(y)})}openReference(g,b,y){b||this.closeWidget();const{uri:L,range:D}=g;this._editorService.openCodeEditor({resource:L,options:{selection:D,pinned:y}},this._editor,b)}};h.ID="editor.contrib.referencesController",h=Me([pe(2,v.IContextKeyService),pe(3,w.ICodeEditorService),pe(4,r.INotificationService),pe(5,S.IInstantiationService),pe(6,f.IStorageService),pe(7,l.IConfigurationService)],h),e.ReferencesController=h;function _(m,g){const b=s.getOuterEditor(m);if(!!b){let y=h.get(b);y&&g(y)}}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:t.KeyChord(2048|41,60),when:v.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(m){_(m,g=>{g.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:v.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(m){_(m,g=>{g.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:v.ContextKeyExpr.or(e.ctxReferenceSearchVisible,s.PeekContext.inPeekEditor),handler(m){_(m,g=>{g.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",m=>_(m,g=>g.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:v.ContextKeyExpr.and(s.PeekContext.inPeekEditor,v.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:v.ContextKeyExpr.and(e.ctxReferenceSearchVisible,v.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:v.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.WorkbenchListFocusContextKey),handler(m){var g;const y=(g=m.get(i.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&_(m,L=>L.revealReference(y[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:v.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.WorkbenchListFocusContextKey),handler(m){var g;const y=(g=m.get(i.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&_(m,L=>L.openReference(y[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",m=>{var g;const y=(g=m.get(i.IListService).lastFocusedList)===null||g===void 0?void 0:g.getFocus();Array.isArray(y)&&y[0]instanceof p.OneReference&&_(m,L=>L.openReference(y[0],!1,!0))})}),define(ee[269],te([0,1,47,15,39,16,107,14,28,13,3,25,17,147,117,268,133,475,35,18,32,59,260,26,70,617,34,24,9,20,145]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I){"use strict";var T,O,A,B,E,W,R,F;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=void 0,n.MenuRegistry.appendMenuItem(n.MenuId.EditorContext,{submenu:n.MenuId.EditorContextPeek,title:i.localize(0,null),group:"navigation",order:100});class V extends v.EditorAction{constructor(P,x){super(x);this._configuration=P}run(P,x){if(!x.hasModel())return Promise.resolve(void 0);const H=P.get(o.INotificationService),z=P.get(l.ICodeEditorService),q=P.get(h.IEditorProgressService),Q=P.get(b.ISymbolNavigationService),ce=x.getModel(),ue=x.getPosition(),Y=new g.EditorStateCancellationTokenSource(x,1|4),j=M.raceCancellation(this._getLocationModel(ce,ue,Y.token),Y.token).then(ne=>Ie(this,void 0,void 0,function*(){if(!(!ne||Y.token.isCancellationRequested)){C.alert(ne.ariaMessage);let Z;if(ne.referenceAt(ce.uri,ue)){const he=this._getAlternativeCommand(x);he!==this.id&&(Z=x.getAction(he))}const le=ne.references.length;if(le===0){if(!this._configuration.muteMessage){const he=ce.getWordAtPosition(ue);a.MessageController.get(x).showMessage(this._getNoResultFoundMessage(he),ue)}}else if(le===1&&Z)Z.run();else return this._onResult(z,Q,x,ne)}}),ne=>{H.error(ne)}).finally(()=>{Y.dispose()});return q.showWhile(j,250),j}_onResult(P,x,H,z){return Ie(this,void 0,void 0,function*(){const q=this._getGoToPreference(H);if(!(H instanceof I.EmbeddedCodeEditorWidget)&&(this._configuration.openInPeek||q==="peek"&&z.references.length>1))this._openInPeek(H,z);else{const Q=z.firstReference(),ce=z.references.length>1&&q==="gotoAndPeek",ue=yield this._openReference(H,P,Q,this._configuration.openToSide,!ce);ce&&ue?this._openInPeek(ue,z):z.dispose(),q==="goto"&&x.put(Q)}})}_openReference(P,x,H,z,q){return Ie(this,void 0,void 0,function*(){let Q;if(u.isLocationLink(H)&&(Q=H.targetSelectionRange),Q||(Q=H.range),!!Q){const ce=yield x.openCodeEditor({resource:H.uri,options:{selection:p.Range.collapseToStart(Q),selectionRevealType:3}},P,z);if(!!ce){if(q){const ue=ce.getModel(),Y=ce.deltaDecorations([],[{range:Q,options:{className:"symbolHighlight"}}]);setTimeout(()=>{ce.getModel()===ue&&ce.deltaDecorations(Y,[])},350)}return ce}}})}_openInPeek(P,x){let H=d.ReferencesController.get(P);H&&P.hasModel()?H.toggleWidget(P.getSelection(),M.createCancelablePromise(z=>Promise.resolve(x)),this._configuration.openInPeek):x.dispose()}}class K extends V{_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getDefinitionsAtPosition(P,x,H),i.localize(1,null))})}_getNoResultFoundMessage(P){return P&&P.word?i.localize(2,null,P.word):i.localize(3,null)}_getAlternativeCommand(P){return P.getOption(45).alternativeDefinitionCommand}_getGoToPreference(P){return P.getOption(45).multipleDefinitions}}e.DefinitionAction=K;const G=w.isWeb&&!y.isStandalone?2048|70:70;v.registerEditorAction((T=class wt extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wt.id,label:i.localize(4,null),alias:"Go to Definition",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:G,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:i.localize(5,null)}});m.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",wt.id)}},T.id="editor.action.revealDefinition",T)),v.registerEditorAction((O=class yt extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:yt.id,label:i.localize(6,null),alias:"Open Definition to the Side",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:k.KeyChord(2048|41,G),weight:100}});m.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",yt.id)}},O.id="editor.action.revealDefinitionAside",O)),v.registerEditorAction((A=class Lt extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Lt.id,label:i.localize(7,null),alias:"Peek Definition",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasDefinitionProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:2}});m.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",Lt.id)}},A.id="editor.action.peekDefinition",A));class J extends V{_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getDeclarationsAtPosition(P,x,H),i.localize(8,null))})}_getNoResultFoundMessage(P){return P&&P.word?i.localize(9,null,P.word):i.localize(10,null)}_getAlternativeCommand(P){return P.getOption(45).alternativeDeclarationCommand}_getGoToPreference(P){return P.getOption(45).multipleDeclarations}}v.registerEditorAction((B=class jt extends J{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:jt.id,label:i.localize(11,null),alias:"Go to Declaration",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:i.localize(12,null)}})}_getNoResultFoundMessage(P){return P&&P.word?i.localize(13,null,P.word):i.localize(14,null)}},B.id="editor.action.revealDeclaration",B)),v.registerEditorAction(class extends J{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:i.localize(15,null),alias:"Peek Declaration",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasDeclarationProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:3}})}});class se extends V{_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getTypeDefinitionsAtPosition(P,x,H),i.localize(16,null))})}_getNoResultFoundMessage(P){return P&&P.word?i.localize(17,null,P.word):i.localize(18,null)}_getAlternativeCommand(P){return P.getOption(45).alternativeTypeDefinitionCommand}_getGoToPreference(P){return P.getOption(45).multipleTypeDefinitions}}v.registerEditorAction((E=class Gt extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Gt.ID,label:i.localize(19,null),alias:"Go to Type Definition",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:i.localize(20,null)}})}},E.ID="editor.action.goToTypeDefinition",E)),v.registerEditorAction((W=class Yt extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yt.ID,label:i.localize(21,null),alias:"Peek Type Definition",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasTypeDefinitionProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:4}})}},W.ID="editor.action.peekTypeDefinition",W));class ie extends V{_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getImplementationsAtPosition(P,x,H),i.localize(22,null))})}_getNoResultFoundMessage(P){return P&&P.word?i.localize(23,null,P.word):i.localize(24,null)}_getAlternativeCommand(P){return P.getOption(45).alternativeImplementationCommand}_getGoToPreference(P){return P.getOption(45).multipleImplementations}}v.registerEditorAction((R=class Zt extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zt.ID,label:i.localize(25,null),alias:"Go to Implementations",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:i.localize(26,null)},contextMenuOpts:{group:"navigation",order:1.45}})}},R.ID="editor.action.goToImplementation",R)),v.registerEditorAction((F=class Xt extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Xt.ID,label:i.localize(27,null),alias:"Peek Implementations",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasImplementationProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:5}})}},F.ID="editor.action.peekImplementation",F));class ae extends V{_getNoResultFoundMessage(P){return P?i.localize(28,null,P.word):i.localize(29,null)}_getAlternativeCommand(P){return P.getOption(45).alternativeReferenceCommand}_getGoToPreference(P){return P.getOption(45).multipleReferences}}v.registerEditorAction(class extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:i.localize(30,null),alias:"Go to References",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:n.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:i.localize(31,null)}})}_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getReferencesAtPosition(P,x,!0,H),i.localize(32,null))})}}),v.registerEditorAction(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:i.localize(33,null),alias:"Peek References",precondition:t.ContextKeyExpr.and(c.EditorContextKeys.hasReferenceProvider,r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:n.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(yield _.getReferencesAtPosition(P,x,!1,H),i.localize(34,null))})}});class X extends V{constructor(P,x,H){super(P,{id:"editor.action.goToLocation",label:i.localize(35,null),alias:"Go To Any Symbol",precondition:t.ContextKeyExpr.and(r.PeekContext.notInPeekEditor,c.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=x,this._gotoMultipleBehaviour=H}_getLocationModel(P,x,H){return Ie(this,void 0,void 0,function*(){return new s.ReferencesModel(this._references,i.localize(36,null))})}_getNoResultFoundMessage(P){return P&&i.localize(37,null,P.word)||""}_getGoToPreference(P){var x;return(x=this._gotoMultipleBehaviour)!==null&&x!==void 0?x:P.getOption(45).multipleReferences}_getAlternativeCommand(){return""}}m.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:f.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(U,P,x,H,z,q,Q)=>Ie(void 0,void 0,void 0,function*(){N.assertType(L.URI.isUri(P)),N.assertType(f.Position.isIPosition(x)),N.assertType(Array.isArray(H)),N.assertType(typeof z=="undefined"||typeof z=="string"),N.assertType(typeof Q=="undefined"||typeof Q=="boolean");const ce=U.get(l.ICodeEditorService),ue=yield ce.openCodeEditor({resource:P},ce.getFocusedCodeEditor());if(S.isCodeEditor(ue))return ue.setPosition(x),ue.revealPositionInCenterIfOutsideViewport(x,0),ue.invokeWithinContext(Y=>{const j=new class extends X{_getNoResultFoundMessage(ne){return q||super._getNoResultFoundMessage(ne)}}({muteMessage:!Boolean(q),openInPeek:Boolean(Q),openToSide:!1},H,z);Y.get(D.IInstantiationService).invokeFunction(j.run.bind(j),ue)})})}),m.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:L.URI},{name:"position",description:"The position at which to start",constraint:f.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(U,P,x,H,z)=>Ie(void 0,void 0,void 0,function*(){U.get(m.ICommandService).executeCommand("editor.action.goToLocations",P,x,H,z,void 0,!0)})}),m.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(U,P,x)=>{N.assertType(L.URI.isUri(P)),N.assertType(f.Position.isIPosition(x));const H=U.get(l.ICodeEditorService);return H.openCodeEditor({resource:P},H.getFocusedCodeEditor()).then(z=>{if(!(!S.isCodeEditor(z)||!z.hasModel())){const q=d.ReferencesController.get(z);if(!!q){const Q=M.createCancelablePromise(ue=>_.getReferencesAtPosition(z.getModel(),f.Position.lift(x),!1,ue).then(Y=>new s.ReferencesModel(Y,i.localize(38,null)))),ce=new p.Range(x.lineNumber,x.column,x.lineNumber,x.column);return Promise.resolve(q.toggleWidget(ce,Q,!1))}}})}}),m.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ee[270],te([0,1,476,15,11,73,57,3,17,14,260,2,67,12,22,70,269,225,13,20,117,18,340]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let _=class st{constructor(g,b,y){this.textModelResolverService=b,this.modeService=y,this.toUnhook=new c.DisposableStore,this.toUnhookForKeyboard=new c.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=g;let L=new i.ClickLinkGesture(g);this.toUnhook.add(L),this.toUnhook.add(L.onMouseMoveOrRelevantKeyDown(([D,N])=>{this.startFindDefinitionFromMouse(D,t.withNullAsUndefined(N))})),this.toUnhook.add(L.onExecute(D=>{this.isEnabled(D)&&this.gotoDefinition(D.target.position,D.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},N=>{this.removeLinkDecorations(),k.onUnexpectedError(N)})})),this.toUnhook.add(L.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(g){return g.getContribution(st.ID)}startFindDefinitionFromCursor(g){return this.startFindDefinition(g).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(b=>{b&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(g,b){if(!(g.target.type===9&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(g,b)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const y=g.target.position;this.startFindDefinition(y)}}startFindDefinition(g){var b;this.toUnhookForKeyboard.clear();const y=g?(b=this.editor.getModel())===null||b===void 0?void 0:b.getWordAtPosition(g):null;if(!y)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===y.startColumn&&this.currentWordAtPosition.endColumn===y.endColumn&&this.currentWordAtPosition.word===y.word)return Promise.resolve(0);this.currentWordAtPosition=y;let L=new d.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=M.createCancelablePromise(D=>this.findDefinition(g,D)),this.previousPromise.then(D=>{if(!D||!D.length||!L.validate(this.editor)){this.removeLinkDecorations();return}if(D.length>1)this.addDecoration(new v.Range(g.lineNumber,y.startColumn,g.lineNumber,y.endColumn),new w.MarkdownString().appendText(C.localize(0,null,D.length)));else{let N=D[0];if(!N.uri)return;this.textModelResolverService.createModelReference(N.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:O}=N.range;if(O<1||O>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,O,N);let B;N.originSelectionRange?B=v.Range.lift(N.originSelectionRange):B=new v.Range(g.lineNumber,y.startColumn,g.lineNumber,y.endColumn);const E=this.modeService.getModeIdByFilepathOrFirstLine(T.uri);this.addDecoration(B,new w.MarkdownString().appendCodeblock(E||"",A)),I.dispose()})}}).then(void 0,k.onUnexpectedError)}getPreviewValue(g,b,y){let L=y.targetSelectionRange?y.range:this.getPreviewRangeBasedOnBrackets(g,b);return L.endLineNumber-L.startLineNumber>=st.MAX_SOURCE_PREVIEW_LINES&&(L=this.getPreviewRangeBasedOnIndentation(g,b)),this.stripIndentationFromPreviewRange(g,b,L)}stripIndentationFromPreviewRange(g,b,y){let D=g.getLineFirstNonWhitespaceColumn(b);for(let I=b+1;I<y.endLineNumber;I++){const T=g.getLineFirstNonWhitespaceColumn(I);D=Math.min(D,T)}return g.getValueInRange(y).replace(new RegExp(`^\\s{${D-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(g,b){const y=g.getLineFirstNonWhitespaceColumn(b),L=Math.min(g.getLineCount(),b+st.MAX_SOURCE_PREVIEW_LINES);let D=b+1;for(;D<L;D++){let N=g.getLineFirstNonWhitespaceColumn(D);if(y===N)break}return new v.Range(b,1,D+1,1)}getPreviewRangeBasedOnBrackets(g,b){const y=Math.min(g.getLineCount(),b+st.MAX_SOURCE_PREVIEW_LINES),L=[];let D=!0,N=g.findNextBracket(new n.Position(b,1));for(;N!==null;){if(L.length===0)L.push(N);else{const A=L[L.length-1];if(A.open[0]===N.open[0]&&A.isOpen&&!N.isOpen?L.pop():L.push(N),L.length===0)if(D)D=!1;else return new v.Range(b,1,N.range.endLineNumber+1,1)}const I=g.getLineMaxColumn(b);let T=N.range.endLineNumber,O=N.range.endColumn;if(I===N.range.endColumn&&(T++,O=1),T>y)return new v.Range(b,1,y+1,1);N=g.findNextBracket(new n.Position(T,O))}return new v.Range(b,1,y+1,1)}addDecoration(g,b){const y={range:g,options:{inlineClassName:"goto-definition-link",hoverMessage:b}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[y])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(g,b){return this.editor.hasModel()&&g.isNoneOrSingleMouseDown&&g.target.type===6&&(g.hasTriggerModifier||(b?b.keyCodeIsTriggerKey:!1))&&l.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(g,b){const y=this.editor.getModel();return y?p.getDefinitionsAtPosition(y,g,b):Promise.resolve(null)}gotoDefinition(g,b){return this.editor.setPosition(g),this.editor.invokeWithinContext(y=>{const L=!b&&this.editor.getOption(72)&&!this.isInPeekEditor(y);return new s.DefinitionAction({openToSide:b,openInPeek:L,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(y,this.editor)})}isInPeekEditor(g){const b=g.get(h.IContextKeyService);return o.PeekContext.inPeekEditor.getValue(b)}dispose(){this.toUnhook.dispose()}};_.ID="editor.contrib.gotodefinitionatposition",_.MAX_SOURCE_PREVIEW_LINES=8,_=Me([pe(1,u.ITextModelService),pe(2,S.IModeService)],_),e.GotoDefinitionAtPositionEditorContribution=_,f.registerEditorContribution(_.ID,_),a.registerThemingParticipant((m,g)=>{const b=m.getColor(r.editorActiveLinkForeground);b&&g.addRule(`.monaco-editor .goto-definition-link { color: ${b} !important; }`)})}),define(ee[271],te([0,1,482,39,2,14,3,25,57,653,553,58,22,12,270,18,9]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let i=class Qt{constructor(h,_,m,g,b,y){this._editor=h,this._instantiationService=_,this._openerService=m,this._modeService=g,this._themeService=b,this._toUnhook=new k.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(L=>{L.hasChanged(48)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=v.EditorContextKeys.hoverVisible.bindTo(y)}static get(h){return h.getContribution(Qt.ID)}_hookEvents(){const h=()=>this._hideWidgets(),_=this._editor.getOption(48);this._isHoverEnabled=_.enabled,this._isHoverSticky=_.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(m=>this._onEditorMouseDown(m))),this._toUnhook.add(this._editor.onMouseUp(m=>this._onEditorMouseUp(m))),this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(m=>this._onEditorMouseMove(m))),this._toUnhook.add(this._editor.onKeyDown(m=>this._onKeyDown(m)))),this._toUnhook.add(this._editor.onMouseLeave(h)),this._toUnhook.add(this._editor.onDidChangeModel(h)),this._toUnhook.add(this._editor.onDidScrollChange(m=>this._onEditorScrollChanged(m)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var h,_;(h=this._contentWidget)===null||h===void 0||h.onModelDecorationsChanged(),(_=this._glyphWidget)===null||_===void 0||_.onModelDecorationsChanged()}_onEditorScrollChanged(h){(h.scrollTopChanged||h.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(h){this._isMouseDown=!0;const _=h.target.type;if(_===9&&h.target.detail===f.ModesContentHoverWidget.ID){this._hoverClicked=!0;return}_===12&&h.target.detail===p.ModesGlyphHoverWidget.ID||(_!==12&&h.target.detail!==p.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(h){this._isMouseDown=!1}_onEditorMouseMove(h){var _,m,g,b,y,L;let D=h.target.type;if(!(this._isMouseDown&&this._hoverClicked)&&!(this._isHoverSticky&&D===9&&h.target.detail===f.ModesContentHoverWidget.ID)&&!(this._isHoverSticky&&!((m=(_=h.event.browserEvent.view)===null||_===void 0?void 0:_.getSelection())===null||m===void 0?void 0:m.isCollapsed))&&!(!this._isHoverSticky&&D===9&&h.target.detail===f.ModesContentHoverWidget.ID&&((g=this._contentWidget)===null||g===void 0?void 0:g.isColorPickerVisible()))&&!(this._isHoverSticky&&D===12&&h.target.detail===p.ModesGlyphHoverWidget.ID)){if(D===7){const N=this._editor.getOption(38).typicalHalfwidthCharacterWidth/2,I=h.target.detail;I&&!I.isAfterLines&&typeof I.horizontalDistanceToText=="number"&&I.horizontalDistanceToText<N&&(D=6)}if(D===6){if((b=this._glyphWidget)===null||b===void 0||b.hide(),this._isHoverEnabled&&h.target.range){const I=[...((y=h.target.element)===null||y===void 0?void 0:y.classList.values())||[]].find(T=>T.startsWith("ced-colorBox"))&&h.target.range.endColumn-h.target.range.startColumn==1?new S.Range(h.target.range.startLineNumber,h.target.range.startColumn+1,h.target.range.endLineNumber,h.target.range.endColumn+1):h.target.range;this._contentWidget||(this._contentWidget=new f.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(I,0,!1)}}else D===2?((L=this._contentWidget)===null||L===void 0||L.hide(),this._isHoverEnabled&&h.target.position&&(this._glyphWidget||(this._glyphWidget=new p.ModesGlyphHoverWidget(this._editor,this._modeService,this._openerService)),this._glyphWidget.startShowingAt(h.target.position.lineNumber))):this._hideWidgets()}}_onKeyDown(h){h.keyCode!==5&&h.keyCode!==6&&h.keyCode!==57&&h.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var h,_,m;this._isMouseDown&&this._hoverClicked&&((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||(this._hoverClicked=!1,(_=this._glyphWidget)===null||_===void 0||_.hide(),(m=this._contentWidget)===null||m===void 0||m.hide())}isColorPickerVisible(){var h;return((h=this._contentWidget)===null||h===void 0?void 0:h.isColorPickerVisible())||!1}showContentHover(h,_,m){this._contentWidget||(this._contentWidget=new f.ModesContentHoverWidget(this._editor,this._hoverVisibleKey,this._instantiationService,this._themeService)),this._contentWidget.startShowingAt(h,_,m)}dispose(){var h,_;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(h=this._glyphWidget)===null||h===void 0||h.dispose(),(_=this._contentWidget)===null||_===void 0||_.dispose()}};i.ID="editor.contrib.hover",i=Me([pe(1,s.IInstantiationService),pe(2,c.IOpenerService),pe(3,l.IModeService),pe(4,a.IThemeService),pe(5,d.IContextKeyService)],i),e.ModesHoverController=i;class n extends w.EditorAction{constructor(){super({id:"editor.action.showHover",label:C.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:M.KeyChord(2048|41,2048|39),weight:100}})}run(h,_){if(!!_.hasModel()){let m=i.get(_);if(!!m){const g=_.getPosition(),b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column),y=_.getOption(2)===2;m.showContentHover(b,1,y)}}}}class t extends w.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:C.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(h,_){let m=i.get(_);if(!!m){const g=_.getPosition();if(!!g){const b=new S.Range(g.lineNumber,g.column,g.lineNumber,g.column),L=r.GotoDefinitionAtPositionEditorContribution.get(_).startFindDefinitionFromCursor(g);L?L.then(()=>{m.showContentHover(b,1,!0)}):m.showContentHover(b,1,!0)}}}}w.registerEditorContribution(i.ID,i),w.registerEditorAction(n),w.registerEditorAction(t),a.registerThemingParticipant((o,h)=>{const _=o.getColor(u.editorHoverHighlight);_&&h.addRule(`.monaco-editor .hoverHighlight { background-color: ${_}; }`);const m=o.getColor(u.editorHoverBackground);m&&h.addRule(`.monaco-editor .monaco-hover { background-color: ${m}; }`);const g=o.getColor(u.editorHoverBorder);g&&(h.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${g}; }`),h.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${g.transparent(.5)}; }`),h.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${g.transparent(.5)}; }`));const b=o.getColor(u.textLinkForeground);b&&h.addRule(`.monaco-editor .monaco-hover a { color: ${b}; }`);const y=o.getColor(u.editorHoverForeground);y&&h.addRule(`.monaco-editor .monaco-hover { color: ${y}; }`);const L=o.getColor(u.editorHoverStatusBarBackground);L&&h.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${L}; }`);const D=o.getColor(u.textCodeBlockBackground);D&&h.addRule(`.monaco-editor .monaco-hover code { background-color: ${D}; }`)})}),define(ee[661],te([0,1,2,14,271,3,258]),function($,e,C,M,k,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class S extends C.Disposable{constructor(l){super();this._editor=l,this._register(l.onMouseDown(f=>this.onMouseDown(f)))}dispose(){super.dispose()}onMouseDown(l){var f;if(l.target.type===6&&!![...((f=l.target.element)===null||f===void 0?void 0:f.classList.values())||[]].find(a=>a.startsWith("ced-colorBox"))&&!!l.target.range){const u=this._editor.getContribution(k.ModesHoverController.ID);if(!u.isColorPickerVisible()){const a=new w.Range(l.target.range.startLineNumber,l.target.range.startColumn+1,l.target.range.endLineNumber,l.target.range.endColumn+1);u.showContentHover(a,0,!1)}}}}e.ColorContribution=S,S.ID="editor.contrib.colorContribution",M.registerEditorContribution(S.ID,S)}),define(ee[662],te([0,1,15,2,14,17,36,251,12,46,267,246]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let u=class extends M.Disposable{constructor(r,d,s,i){super();this._modelService=d,this._themeService=s,this._configurationService=i,this._editor=r,this._tokenizeViewport=new C.RunOnceScheduler(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(n=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(w.DocumentRangeSemanticTokensProviderRegistry.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(n=>{n.affectsConfiguration(p.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const r of this._outstandingRequests)r.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(r){for(let d=0,s=this._outstandingRequests.length;d<s;d++)if(this._outstandingRequests[d]===r){this._outstandingRequests.splice(d,1);return}}_tokenizeViewportNow(){if(!!this._editor.hasModel()){const r=this._editor.getModel();if(!r.hasCompleteSemanticTokens()){if(!p.isSemanticColoringEnabled(r,this._themeService,this._configurationService)){r.hasSomeSemanticTokens()&&r.setSemanticTokens(null,!1);return}const d=c.getDocumentRangeSemanticTokensProvider(r);if(!d){r.hasSomeSemanticTokens()&&r.setSemanticTokens(null,!1);return}const s=this._modelService.getSemanticTokensProviderStyling(d),i=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(i.map(n=>this._requestRange(r,n,d,s)))}}}_requestRange(r,d,s,i){const n=r.getVersionId(),t=C.createCancelablePromise(o=>Promise.resolve(s.provideDocumentRangeSemanticTokens(r,d,o)));return t.then(o=>{!o||r.isDisposed()||r.getVersionId()!==n||r.setPartialSemanticTokens(d,v.toMultilineTokens2(o,i,r.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(t),()=>this._removeOutstandingRequest(t)),t}};u.ID="editor.contrib.viewportSemanticTokens",u=Me([pe(1,S.IModelService),pe(2,l.IThemeService),pe(3,f.IConfigurationService)],u),k.registerEditorContribution(u.ID,u)}),define(ee[663],te([0,1,14,28,268,46,18,9,32,79]),function($,e,C,M,k,w,S,v,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let p=class extends k.ReferencesController{constructor(u,a,r,d,s,i,n){super(!0,u,a,r,d,s,i,n)}};p=Me([pe(1,S.IContextKeyService),pe(2,M.ICodeEditorService),pe(3,l.INotificationService),pe(4,v.IInstantiationService),pe(5,f.IStorageService),pe(6,w.IConfigurationService)],p),e.StandaloneReferencesController=p,C.registerEditorContribution(k.ReferencesController.ID,p)}),define(ee[664],te([0,1,521,149,11,74,182,82,43,32,2]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const c=!1;function u(m){return m.scheme===l.Schemas.file?m.fsPath:m.path}let a=0;class r{constructor(g,b,y,L,D,N,I){this.id=++a,this.type=0,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabel=b,this.strResource=y,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=L,this.groupOrder=D,this.sourceId=N,this.sourceOrder=I,this.isValid=!0}setValid(g){this.isValid=g}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(g,b){this.resourceLabel=g,this.reason=b}}class s{constructor(){this.elements=new Map}createMessage(){const g=[],b=[];for(const[,L]of this.elements)(L.reason===0?g:b).push(L.resourceLabel);let y=[];return g.length>0&&y.push(C.localize(0,null,g.join(", "))),b.length>0&&y.push(C.localize(1,null,b.join(", "))),y.join(`
`)}get size(){return this.elements.size}has(g){return this.elements.has(g)}set(g,b){this.elements.set(g,b)}delete(g){return this.elements.delete(g)}}class i{constructor(g,b,y,L,D,N,I){this.id=++a,this.type=1,this.actual=g,this.label=g.label,this.confirmBeforeUndo=g.confirmBeforeUndo||!1,this.resourceLabels=b,this.strResources=y,this.groupId=L,this.groupOrder=D,this.sourceId=N,this.sourceOrder=I,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(g,b,y){this.removedResources||(this.removedResources=new s),this.removedResources.has(b)||this.removedResources.set(b,new d(g,y))}setValid(g,b,y){y?this.invalidatedResources&&(this.invalidatedResources.delete(b),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new s),this.invalidatedResources.has(b)||this.invalidatedResources.set(b,new d(g,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(g,b){this.resourceLabel=g,this.strResource=b,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const g of this._past)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);for(const g of this._future)g.type===1&&g.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let g=[];g.push(`* ${this.strResource}:`);for(let b=0;b<this._past.length;b++)g.push(`   * [UNDO] ${this._past[b]}`);for(let b=this._future.length-1;b>=0;b--)g.push(`   * [REDO] ${this._future[b]}`);return g.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(g,b){g.type===1?g.setValid(this.resourceLabel,this.strResource,b):g.setValid(b)}setElementsValidFlag(g,b){for(const y of this._past)b(y.actual)&&this._setElementValidFlag(y,g);for(const y of this._future)b(y.actual)&&this._setElementValidFlag(y,g)}pushElement(g){for(const b of this._future)b.type===1&&b.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(g),this.versionId++}createSnapshot(g){const b=[];for(let y=0,L=this._past.length;y<L;y++)b.push(this._past[y].id);for(let y=this._future.length-1;y>=0;y--)b.push(this._future[y].id);return new M.ResourceEditStackSnapshot(g,b)}restoreSnapshot(g){const b=g.elements.length;let y=!0,L=0,D=-1;for(let I=0,T=this._past.length;I<T;I++,L++){const O=this._past[I];y&&(L>=b||O.id!==g.elements[L])&&(y=!1,D=0),!y&&O.type===1&&O.removeResource(this.resourceLabel,this.strResource,0)}let N=-1;for(let I=this._future.length-1;I>=0;I--,L++){const T=this._future[I];y&&(L>=b||T.id!==g.elements[L])&&(y=!1,N=I),!y&&T.type===1&&T.removeResource(this.resourceLabel,this.strResource,0)}D!==-1&&(this._past=this._past.slice(0,D)),N!==-1&&(this._future=this._future.slice(N+1)),this.versionId++}getElements(){const g=[],b=[];for(const y of this._past)g.push(y.actual);for(const y of this._future)b.push(y.actual);return{past:g,future:b}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(g,b){for(let y=this._past.length-1;y>=0;y--)if(this._past[y]===g){b.has(this.strResource)?this._past[y]=b.get(this.strResource):this._past.splice(y,1);break}this.versionId++}splitFutureWorkspaceElement(g,b){for(let y=this._future.length-1;y>=0;y--)if(this._future[y]===g){b.has(this.strResource)?this._future[y]=b.get(this.strResource):this._future.splice(y,1);break}this.versionId++}moveBackward(g){this._past.pop(),this._future.push(g),this.versionId++}moveForward(g){this._future.pop(),this._past.push(g),this.versionId++}}class t{constructor(g){this.editStacks=g,this._versionIds=[];for(let b=0,y=this.editStacks.length;b<y;b++)this._versionIds[b]=this.editStacks[b].versionId}isValid(){for(let g=0,b=this.editStacks.length;g<b;g++)if(this._versionIds[g]!==this.editStacks[g].versionId)return!1;return!0}}const o=new n("","");o.locked=!0;let h=class{constructor(g,b){this._dialogService=g,this._notificationService=b,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(g){for(const b of this._uriComparisonKeyComputers)if(b[0]===g.scheme)return b[1].getComparisonKey(g);return g.toString()}_print(g){console.log("------------------------------------"),console.log(`AFTER ${g}: `);let b=[];for(const y of this._editStacks)b.push(y[1].toString());console.log(b.join(`
`))}pushElement(g,b=M.UndoRedoGroup.None,y=M.UndoRedoSource.None){if(g.type===0){const L=u(g.resource),D=this.getUriComparisonKey(g.resource);this._pushElement(new r(g,L,D,b.id,b.nextOrder(),y.id,y.nextOrder()))}else{const L=new Set,D=[],N=[];for(const I of g.resources){const T=u(I),O=this.getUriComparisonKey(I);L.has(O)||(L.add(O),D.push(T),N.push(O))}D.length===1?this._pushElement(new r(g,D[0],N[0],b.id,b.nextOrder(),y.id,y.nextOrder())):this._pushElement(new i(g,D,N,b.id,b.nextOrder(),y.id,y.nextOrder()))}c&&this._print("pushElement")}_pushElement(g){for(let b=0,y=g.strResources.length;b<y;b++){const L=g.resourceLabels[b],D=g.strResources[b];let N;this._editStacks.has(D)?N=this._editStacks.get(D):(N=new n(L,D),this._editStacks.set(D,N)),N.pushElement(g)}}getLastElement(g){const b=this.getUriComparisonKey(g);if(this._editStacks.has(b)){const y=this._editStacks.get(b);if(y.hasFutureElements())return null;const L=y.getClosestPastElement();return L?L.actual:null}return null}_splitPastWorkspaceElement(g,b){const y=g.actual.split(),L=new Map;for(const D of y){const N=u(D.resource),I=this.getUriComparisonKey(D.resource),T=new r(D,N,I,0,0,0,0);L.set(T.strResource,T)}for(const D of g.strResources)b&&b.has(D)||this._editStacks.get(D).splitPastWorkspaceElement(g,L)}_splitFutureWorkspaceElement(g,b){const y=g.actual.split(),L=new Map;for(const D of y){const N=u(D.resource),I=this.getUriComparisonKey(D.resource),T=new r(D,N,I,0,0,0,0);L.set(T.strResource,T)}for(const D of g.strResources)b&&b.has(D)||this._editStacks.get(D).splitFutureWorkspaceElement(g,L)}removeElements(g){const b=typeof g=="string"?g:this.getUriComparisonKey(g);this._editStacks.has(b)&&(this._editStacks.get(b).dispose(),this._editStacks.delete(b)),c&&this._print("removeElements")}setElementsValidFlag(g,b,y){const L=this.getUriComparisonKey(g);this._editStacks.has(L)&&this._editStacks.get(L).setElementsValidFlag(b,y),c&&this._print("setElementsValidFlag")}createSnapshot(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).createSnapshot(g):new M.ResourceEditStackSnapshot(g,[])}restoreSnapshot(g){const b=this.getUriComparisonKey(g.resource);if(this._editStacks.has(b)){const y=this._editStacks.get(b);y.restoreSnapshot(g),!y.hasPastElements()&&!y.hasFutureElements()&&(y.dispose(),this._editStacks.delete(b))}c&&this._print("restoreSnapshot")}getElements(g){const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(g){if(!g)return[null,null];let b=null,y=null;for(const[L,D]of this._editStacks){const N=D.getClosestPastElement();!N||N.sourceId===g&&(!b||N.sourceOrder>b.sourceOrder)&&(b=N,y=L)}return[b,y]}canUndo(g){if(g instanceof M.UndoRedoSource){const[,y]=this._findClosestUndoElementWithSource(g.id);return!!y}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasPastElements():!1}_onError(g,b){k.onUnexpectedError(g);for(const y of b.strResources)this.removeElements(y);this._notificationService.error(g)}_acquireLocks(g){for(const b of g.editStacks)if(b.locked)throw new Error("Cannot acquire edit stack lock");for(const b of g.editStacks)b.locked=!0;return()=>{for(const b of g.editStacks)b.locked=!1}}_safeInvokeWithLocks(g,b,y,L,D){const N=this._acquireLocks(y);let I;try{I=b()}catch(T){return N(),L.dispose(),this._onError(T,g)}return I?I.then(()=>(N(),L.dispose(),D()),T=>(N(),L.dispose(),this._onError(T,g))):(N(),L.dispose(),D())}_invokeWorkspacePrepare(g){return Ie(this,void 0,void 0,function*(){if(typeof g.actual.prepareUndoRedo=="undefined")return p.Disposable.None;const b=g.actual.prepareUndoRedo();return typeof b=="undefined"?p.Disposable.None:b})}_invokeResourcePrepare(g,b){if(g.actual.type!==1||typeof g.actual.prepareUndoRedo=="undefined")return b(p.Disposable.None);const y=g.actual.prepareUndoRedo();return y?p.isDisposable(y)?b(y):y.then(L=>b(L)):b(p.Disposable.None)}_getAffectedEditStacks(g){const b=[];for(const y of g.strResources)b.push(this._editStacks.get(y)||o);return new t(b)}_tryToSplitAndUndo(g,b,y,L){if(b.canSplit())return this._splitPastWorkspaceElement(b,y),this._notificationService.info(L),new _(this._undo(g,0,!0));for(const D of b.strResources)this.removeElements(D);return this._notificationService.info(L),new _}_checkWorkspaceUndo(g,b,y,L){if(b.removedResources)return this._tryToSplitAndUndo(g,b,b.removedResources,C.localize(2,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndUndo(g,b,b.invalidatedResources,C.localize(3,null,b.label,b.invalidatedResources.createMessage()));const D=[];for(const I of y.editStacks)I.getClosestPastElement()!==b&&D.push(I.resourceLabel);if(D.length>0)return this._tryToSplitAndUndo(g,b,null,C.localize(4,null,b.label,D.join(", ")));const N=[];for(const I of y.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndUndo(g,b,null,C.localize(5,null,b.label,N.join(", "))):y.isValid()?null:this._tryToSplitAndUndo(g,b,null,C.localize(6,null,b.label))}_workspaceUndo(g,b,y){const L=this._getAffectedEditStacks(b),D=this._checkWorkspaceUndo(g,b,L,!1);return D?D.returnValue:this._confirmAndExecuteWorkspaceUndo(g,b,L,y)}_isPartOfUndoGroup(g){if(!g.groupId)return!1;for(const[,b]of this._editStacks){const y=b.getClosestPastElement();if(!!y){if(y===g){const L=b.getSecondClosestPastElement();if(L&&L.groupId===g.groupId)return!0}if(y.groupId===g.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(g,b,y,L){return Ie(this,void 0,void 0,function*(){if(b.canSplit()&&!this._isPartOfUndoGroup(b)){const I=yield this._dialogService.show(v.default.Info,C.localize(7,null,b.label),[C.localize(8,null,y.editStacks.length),C.localize(9,null),C.localize(10,null)],{cancelId:2});if(I.choice===2)return;if(I.choice===1)return this._splitPastWorkspaceElement(b,null),this._undo(g,0,!0);const T=this._checkWorkspaceUndo(g,b,y,!1);if(T)return T.returnValue;L=!0}let D;try{D=yield this._invokeWorkspacePrepare(b)}catch(I){return this._onError(I,b)}const N=this._checkWorkspaceUndo(g,b,y,!0);if(N)return D.dispose(),N.returnValue;for(const I of y.editStacks)I.moveBackward(b);return this._safeInvokeWithLocks(b,()=>b.actual.undo(),y,D,()=>this._continueUndoInGroup(b.groupId,L))})}_resourceUndo(g,b,y){if(!b.isValid){g.flushAllElements();return}if(g.locked){const L=C.localize(11,null,b.label);this._notificationService.info(L);return}return this._invokeResourcePrepare(b,L=>(g.moveBackward(b),this._safeInvokeWithLocks(b,()=>b.actual.undo(),new t([g]),L,()=>this._continueUndoInGroup(b.groupId,y))))}_findClosestUndoElementInGroup(g){if(!g)return[null,null];let b=null,y=null;for(const[L,D]of this._editStacks){const N=D.getClosestPastElement();!N||N.groupId===g&&(!b||N.groupOrder>b.groupOrder)&&(b=N,y=L)}return[b,y]}_continueUndoInGroup(g,b){if(!!g){const[,y]=this._findClosestUndoElementInGroup(g);if(y)return this._undo(y,0,b)}}undo(g){if(g instanceof M.UndoRedoSource){const[,b]=this._findClosestUndoElementWithSource(g.id);return b?this._undo(b,g.id,!1):void 0}return typeof g=="string"?this._undo(g,0,!1):this._undo(this.getUriComparisonKey(g),0,!1)}_undo(g,b=0,y){if(!!this._editStacks.has(g)){const L=this._editStacks.get(g),D=L.getClosestPastElement();if(!!D){if(D.groupId){const[I,T]=this._findClosestUndoElementInGroup(D.groupId);if(D!==I&&T)return this._undo(T,b,y)}if((D.sourceId!==b||D.confirmBeforeUndo)&&!y)return this._confirmAndContinueUndo(g,b,D);try{return D.type===1?this._workspaceUndo(g,D,y):this._resourceUndo(L,D,y)}finally{c&&this._print("undo")}}}}_confirmAndContinueUndo(g,b,y){return Ie(this,void 0,void 0,function*(){if((yield this._dialogService.show(v.default.Info,C.localize(12,null,y.label),[C.localize(13,null),C.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(g,b,!0)})}_findClosestRedoElementWithSource(g){if(!g)return[null,null];let b=null,y=null;for(const[L,D]of this._editStacks){const N=D.getClosestFutureElement();!N||N.sourceId===g&&(!b||N.sourceOrder<b.sourceOrder)&&(b=N,y=L)}return[b,y]}canRedo(g){if(g instanceof M.UndoRedoSource){const[,y]=this._findClosestRedoElementWithSource(g.id);return!!y}const b=this.getUriComparisonKey(g);return this._editStacks.has(b)?this._editStacks.get(b).hasFutureElements():!1}_tryToSplitAndRedo(g,b,y,L){if(b.canSplit())return this._splitFutureWorkspaceElement(b,y),this._notificationService.info(L),new _(this._redo(g));for(const D of b.strResources)this.removeElements(D);return this._notificationService.info(L),new _}_checkWorkspaceRedo(g,b,y,L){if(b.removedResources)return this._tryToSplitAndRedo(g,b,b.removedResources,C.localize(15,null,b.label,b.removedResources.createMessage()));if(L&&b.invalidatedResources)return this._tryToSplitAndRedo(g,b,b.invalidatedResources,C.localize(16,null,b.label,b.invalidatedResources.createMessage()));const D=[];for(const I of y.editStacks)I.getClosestFutureElement()!==b&&D.push(I.resourceLabel);if(D.length>0)return this._tryToSplitAndRedo(g,b,null,C.localize(17,null,b.label,D.join(", ")));const N=[];for(const I of y.editStacks)I.locked&&N.push(I.resourceLabel);return N.length>0?this._tryToSplitAndRedo(g,b,null,C.localize(18,null,b.label,N.join(", "))):y.isValid()?null:this._tryToSplitAndRedo(g,b,null,C.localize(19,null,b.label))}_workspaceRedo(g,b){const y=this._getAffectedEditStacks(b),L=this._checkWorkspaceRedo(g,b,y,!1);return L?L.returnValue:this._executeWorkspaceRedo(g,b,y)}_executeWorkspaceRedo(g,b,y){return Ie(this,void 0,void 0,function*(){let L;try{L=yield this._invokeWorkspacePrepare(b)}catch(N){return this._onError(N,b)}const D=this._checkWorkspaceRedo(g,b,y,!0);if(D)return L.dispose(),D.returnValue;for(const N of y.editStacks)N.moveForward(b);return this._safeInvokeWithLocks(b,()=>b.actual.redo(),y,L,()=>this._continueRedoInGroup(b.groupId))})}_resourceRedo(g,b){if(!b.isValid){g.flushAllElements();return}if(g.locked){const y=C.localize(20,null,b.label);this._notificationService.info(y);return}return this._invokeResourcePrepare(b,y=>(g.moveForward(b),this._safeInvokeWithLocks(b,()=>b.actual.redo(),new t([g]),y,()=>this._continueRedoInGroup(b.groupId))))}_findClosestRedoElementInGroup(g){if(!g)return[null,null];let b=null,y=null;for(const[L,D]of this._editStacks){const N=D.getClosestFutureElement();!N||N.groupId===g&&(!b||N.groupOrder<b.groupOrder)&&(b=N,y=L)}return[b,y]}_continueRedoInGroup(g){if(!!g){const[,b]=this._findClosestRedoElementInGroup(g);if(b)return this._redo(b)}}redo(g){if(g instanceof M.UndoRedoSource){const[,b]=this._findClosestRedoElementWithSource(g.id);return b?this._redo(b):void 0}return typeof g=="string"?this._redo(g):this._redo(this.getUriComparisonKey(g))}_redo(g){if(!!this._editStacks.has(g)){const b=this._editStacks.get(g),y=b.getClosestFutureElement();if(!!y){if(y.groupId){const[L,D]=this._findClosestRedoElementInGroup(y.groupId);if(y!==L&&D)return this._redo(D)}try{return y.type===1?this._workspaceRedo(g,y):this._resourceRedo(b,y)}finally{c&&this._print("redo")}}}}};h=Me([pe(0,S.IDialogService),pe(1,f.INotificationService)],h),e.UndoRedoService=h;class _{constructor(g){this.returnValue=g}}w.registerSingleton(M.IUndoRedoService,h)}),define(ee[188],te([0,1,9,51]),function($,e,C,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFolder=e.Workspace=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=C.createDecorator("contextService");class k{constructor(v,l,f,p){this._id=v,this._configuration=f,this._ignorePathCasing=p,this._foldersMap=M.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=l}get folders(){return this._folders}set folders(v){this._folders=v,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(v){this._configuration=v}getFolder(v){return v&&this._foldersMap.findSubstr(v.with({scheme:v.scheme,authority:v.authority,path:v.path}))||null}updateFoldersMap(){this._foldersMap=M.TernarySearchTree.forUris(this._ignorePathCasing);for(const v of this.folders)this._foldersMap.set(v.uri,v)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=k;class w{constructor(v,l){this.raw=l,this.uri=v.uri,this.index=v.index,this.name=v.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=w}),define(ee[189],te([0,1,8,7,56,6,39,2,16,82,24,107,134,184,62,13,3,36,26,46,562,544,249,86,546,547,32,188,64]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLayoutService=e.SimpleUriLabelService=e.SimpleBulkEditService=e.updateConfigurationService=e.SimpleWorkspaceContextService=e.StandaloneTelemetryService=e.SimpleResourcePropertiesService=e.SimpleResourceConfigurationService=e.SimpleConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.SimpleNotificationService=e.SimpleDialogService=e.SimpleEditorProgressService=e.SimpleEditorModelResolverService=e.SimpleModel=void 0;class N{constructor(P){this.disposed=!1,this.model=P,this._onDispose=new w.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onDispose.fire()}}e.SimpleModel=N;function I(U,P,x){return c.isCodeEditor(U)?P(U):x(U)}let T=class{constructor(P){this.modelService=P}setEditor(P){this.editor=P}createModelReference(P){let x=null;return this.editor&&(x=I(this.editor,H=>this.findModel(H,P),H=>this.findModel(H.getOriginalEditor(),P)||this.findModel(H.getModifiedEditor(),P))),x?Promise.resolve(new v.ImmortalReference(new N(x))):Promise.reject(new Error("Model not found"))}findModel(P,x){let H=this.modelService.getModel(x);return H&&H.uri.toString()!==x.toString()?null:H}};T=Me([pe(0,i.IModelService)],T),e.SimpleEditorModelResolverService=T;class O{show(){return O.NULL_PROGRESS_RUNNER}showWhile(P,x){return Ie(this,void 0,void 0,function*(){yield P})}}e.SimpleEditorProgressService=O,O.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class A{confirm(P){return this.doConfirm(P).then(x=>({confirmed:x,checkboxChecked:!1}))}doConfirm(P){let x=P.message;return P.detail&&(x=x+`

`+P.detail),Promise.resolve(window.confirm(x))}show(P,x,H,z){return Promise.resolve({choice:0})}}e.SimpleDialogService=A;class B{info(P){return this.notify({severity:f.default.Info,message:P})}warn(P){return this.notify({severity:f.default.Warning,message:P})}error(P){return this.notify({severity:f.default.Error,message:P})}notify(P){switch(P.severity){case f.default.Error:console.error(P.message);break;case f.default.Warning:console.warn(P.message);break;default:console.log(P.message);break}return B.NO_OP}status(P,x){return v.Disposable.None}}e.SimpleNotificationService=B,B.NO_OP=new y.NoOpNotification;class E{constructor(P){this._onWillExecuteCommand=new w.Emitter,this._onDidExecuteCommand=new w.Emitter,this._instantiationService=P}executeCommand(P,...x){const H=n.CommandsRegistry.getCommand(P);if(!H)return Promise.reject(new Error(`command '${P}' not found`));try{this._onWillExecuteCommand.fire({commandId:P,args:x});const z=this._instantiationService.invokeFunction.apply(this._instantiationService,[H.handler,...x]);return this._onDidExecuteCommand.fire({commandId:P,args:x}),Promise.resolve(z)}catch(z){return Promise.reject(z)}}}e.StandaloneCommandService=E;class W extends h.AbstractKeybindingService{constructor(P,x,H,z,q,Q){super(P,x,H,z,q);this._cachedResolver=null,this._dynamicKeybindings=[],this._register(M.addDisposableListener(Q,M.EventType.KEY_DOWN,ce=>{const ue=new k.StandardKeyboardEvent(ce);this._dispatch(ue,ue.target)&&(ue.preventDefault(),ue.stopPropagation())})),this._register(M.addDisposableListener(window,M.EventType.KEY_UP,ce=>{const ue=new k.StandardKeyboardEvent(ce);this._singleModifierDispatch(ue,ue.target)&&ue.preventDefault()}))}addDynamicKeybinding(P,x,H,z){const q=S.createKeybinding(x,l.OS),Q=new v.DisposableStore;return q&&(this._dynamicKeybindings.push({keybinding:q,command:P,when:z,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Q.add(v.toDisposable(()=>{for(let ce=0;ce<this._dynamicKeybindings.length;ce++)if(this._dynamicKeybindings[ce].command===P){this._dynamicKeybindings.splice(ce,1),this.updateResolver({source:1});return}}))),Q.add(n.CommandsRegistry.registerCommand(P,H)),this.updateResolver({source:1}),Q}updateResolver(P){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(P)}_getResolver(){if(!this._cachedResolver){const P=this._toNormalizedKeybindingItems(m.KeybindingsRegistry.getDefaultKeybindings(),!0),x=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new _.KeybindingResolver(P,x,H=>this._log(H))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(P,x){let H=[],z=0;for(const q of P){const Q=q.when||void 0,ce=q.keybinding;if(!ce)H[z++]=new g.ResolvedKeybindingItem(void 0,q.command,q.commandArgs,Q,x,null,!1);else{const ue=this.resolveKeybinding(ce);for(const Y of ue)H[z++]=new g.ResolvedKeybindingItem(Y,q.command,q.commandArgs,Q,x,null,!1)}}return H}resolveKeybinding(P){return[new b.USLayoutResolvedKeybinding(P,l.OS)]}resolveKeyboardEvent(P){let x=new S.SimpleKeybinding(P.ctrlKey,P.shiftKey,P.altKey,P.metaKey,P.keyCode).toChord();return new b.USLayoutResolvedKeybinding(x,l.OS)}}e.StandaloneKeybindingService=W;function R(U){return U&&typeof U=="object"&&(!U.overrideIdentifier||typeof U.overrideIdentifier=="string")&&(!U.resource||U.resource instanceof p.URI)}class F{constructor(){this._onDidChangeConfiguration=new w.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new o.Configuration(new o.DefaultConfigurationModel,new o.ConfigurationModel)}getValue(P,x){const H=typeof P=="string"?P:void 0,z=R(P)?P:R(x)?x:{};return this._configuration.getValue(H,z,void 0)}updateValues(P){const x={data:this._configuration.toData()};let H=[];for(const z of P){const[q,Q]=z;this.getValue(q)!==Q&&(this._configuration.updateValue(q,Q),H.push(q))}if(H.length>0){const z=new o.ConfigurationChangeEvent({keys:H,overrides:[]},x,this._configuration);z.source=7,z.sourceConfig=null,this._onDidChangeConfiguration.fire(z)}return Promise.resolve()}}e.SimpleConfigurationService=F;class V{constructor(P){this.configurationService=P,this._onDidChangeConfiguration=new w.Emitter,this.configurationService.onDidChangeConfiguration(x=>{this._onDidChangeConfiguration.fire({affectedKeys:x.affectedKeys,affectsConfiguration:(H,z)=>x.affectsConfiguration(z)})})}getValue(P,x,H){const q=(d.Position.isIPosition(x)?x:null)?typeof H=="string"?H:void 0:typeof x=="string"?x:void 0;return typeof q=="undefined"?this.configurationService.getValue():this.configurationService.getValue(q)}}e.SimpleResourceConfigurationService=V;let K=class{constructor(P){this.configurationService=P}getEOL(P,x){const H=this.configurationService.getValue("files.eol",{overrideIdentifier:x,resource:P});return H&&H!=="auto"?H:l.isLinux||l.isMacintosh?`
`:`\r
`}};K=Me([pe(0,t.IConfigurationService)],K),e.SimpleResourcePropertiesService=K;class G{publicLog(P,x){return Promise.resolve(void 0)}publicLog2(P,x){return this.publicLog(P,x)}}e.StandaloneTelemetryService=G;class J{constructor(){const P=p.URI.from({scheme:J.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new L.WorkspaceFolder({uri:P,name:"",index:0})]}}getWorkspace(){return this.workspace}}e.SimpleWorkspaceContextService=J,J.SCHEME="inmemory";function se(U,P,x){if(!!P&&U instanceof F){let H=[];Object.keys(P).forEach(z=>{a.isEditorConfigurationKey(z)&&H.push([`editor.${z}`,P[z]]),x&&a.isDiffEditorConfigurationKey(z)&&H.push([`diffEditor.${z}`,P[z]])}),H.length>0&&U.updateValues(H)}}e.updateConfigurationService=se;class ie{constructor(P){this._modelService=P}hasPreviewHandler(){return!1}apply(P,x){return Ie(this,void 0,void 0,function*(){const H=new Map;for(let Q of P){if(!(Q instanceof u.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const ce=this._modelService.getModel(Q.resource);if(!ce)throw new Error("bad edit - model not found");if(typeof Q.versionId=="number"&&ce.getVersionId()!==Q.versionId)throw new Error("bad state - model changed in the meantime");let ue=H.get(ce);ue||(ue=[],H.set(ce,ue)),ue.push(r.EditOperation.replaceMove(s.Range.lift(Q.textEdit.range),Q.textEdit.text))}let z=0,q=0;for(const[Q,ce]of H)Q.pushStackElement(),Q.pushEditOperations([],ce,()=>[]),Q.pushStackElement(),q+=1,z+=ce.length;return{ariaSummary:C.format(D.SimpleServicesNLS.bulkEditServiceSummary,z,q)}})}}e.SimpleBulkEditService=ie;class ae{getUriLabel(P,x){return P.scheme==="file"?P.fsPath:P.path}}e.SimpleUriLabelService=ae;class X{constructor(P,x){this._codeEditorService=P,this._container=x,this.onLayout=w.Event.None}get dimension(){return this._dimension||(this._dimension=M.getClientArea(window.document.body)),this._dimension}get container(){return this._container}focus(){var P;(P=this._codeEditorService.getFocusedCodeEditor())===null||P===void 0||P.focus()}}e.SimpleLayoutService=X}),define(ee[665],te([0,1,47,2,28,144,264,215,75,189,113,35,26,46,18,68,9,37,32,12,65,64,84,59,36,57]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let y=0,L=!1;function D(){L||(L=!0,C.setARIAContainer(document.body))}let N=class extends w.CodeEditorWidget{constructor(E,W,R,F,V,K,G,J,se,ie){const ae=Object.assign({},W);ae.ariaLabel=ae.ariaLabel||h.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ae.ariaLabel=ae.ariaLabel+";"+h.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(E,ae,{},R,F,V,K,J,se,ie),G instanceof f.StandaloneKeybindingService?this._standaloneKeybindingService=G:this._standaloneKeybindingService=null,D()}addCommand(E,W,R){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let F="DYNAMIC_"+ ++y,V=r.ContextKeyExpr.deserialize(R);return this._standaloneKeybindingService.addDynamicKeybinding(F,E,W,V),F}createContextKey(E,W){return this._contextKeyService.createKey(E,W)}addAction(E){if(typeof E.id!="string"||typeof E.label!="string"||typeof E.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),M.Disposable.None;const W=E.id,R=E.label,F=r.ContextKeyExpr.and(r.ContextKeyExpr.equals("editorId",this.getId()),r.ContextKeyExpr.deserialize(E.precondition)),V=E.keybindings,K=r.ContextKeyExpr.and(F,r.ContextKeyExpr.deserialize(E.keybindingContext)),G=E.contextMenuGroupId||null,J=E.contextMenuOrder||0,se=(U,...P)=>Promise.resolve(E.run(this,...P)),ie=new M.DisposableStore,ae=this.getId()+":"+W;if(ie.add(u.CommandsRegistry.registerCommand(ae,se)),G){let U={command:{id:ae,title:R},when:F,group:G,order:J};ie.add(c.MenuRegistry.appendMenuItem(c.MenuId.EditorContext,U))}if(Array.isArray(V))for(const U of V)ie.add(this._standaloneKeybindingService.addDynamicKeybinding(ae,U,se,K));let X=new v.InternalEditorAction(ae,R,R,F,se,this._contextKeyService);return this._actions[W]=X,ie.add(M.toDisposable(()=>{delete this._actions[W]})),ie}};N=Me([pe(2,s.IInstantiationService),pe(3,k.ICodeEditorService),pe(4,u.ICommandService),pe(5,r.IContextKeyService),pe(6,i.IKeybindingService),pe(7,t.IThemeService),pe(8,n.INotificationService),pe(9,o.IAccessibilityService)],N),e.StandaloneCodeEditor=N;let I=class extends N{constructor(E,W,R,F,V,K,G,J,se,ie,ae,X,U,P,x){const H=Object.assign({},W);f.updateConfigurationService(X,H,!1);const z=ie.registerEditorContainer(E);typeof H.theme=="string"&&ie.setTheme(H.theme);let q=H.model;delete H.model,super(E,H,F,V,K,G,J,ie,ae,U),this._contextViewService=se,this._configurationService=X,this._standaloneThemeService=ie,this._register(R),this._register(z);let Q;if(typeof q=="undefined"?(Q=O(P,x,H.value||"",H.language||"text/plain",void 0),this._ownsModel=!0):(Q=q,this._ownsModel=!1),this._attachModel(Q),Q){let ce={oldModelUrl:null,newModelUrl:Q.uri};this._onDidChangeModel.fire(ce)}}dispose(){super.dispose()}updateOptions(E){f.updateConfigurationService(this._configurationService,E,!1),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),super.updateOptions(E)}_attachModel(E){super._attachModel(E),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(E){super._postDetachModelCleanup(E),E&&this._ownsModel&&(E.dispose(),this._ownsModel=!1)}};I=Me([pe(3,s.IInstantiationService),pe(4,k.ICodeEditorService),pe(5,u.ICommandService),pe(6,r.IContextKeyService),pe(7,i.IKeybindingService),pe(8,d.IContextViewService),pe(9,p.IStandaloneThemeService),pe(10,n.INotificationService),pe(11,a.IConfigurationService),pe(12,o.IAccessibilityService),pe(13,g.IModelService),pe(14,b.IModeService)],I),e.StandaloneEditor=I;let T=class extends S.DiffEditorWidget{constructor(E,W,R,F,V,K,G,J,se,ie,ae,X,U,P,x){const H=Object.assign({},W);f.updateConfigurationService(X,H,!0);const z=ie.registerEditorContainer(E);typeof H.theme=="string"&&(H.theme=ie.setTheme(H.theme)),super(E,H,{},x,J,V,F,se,ie,ae,U,P),this._contextViewService=G,this._configurationService=X,this._standaloneThemeService=ie,this._register(R),this._register(z),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(E){f.updateConfigurationService(this._configurationService,E,!0),typeof E.theme=="string"&&this._standaloneThemeService.setTheme(E.theme),super.updateOptions(E)}_createInnerEditor(E,W,R){return E.createInstance(N,W,R)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(E,W,R){return this.getModifiedEditor().addCommand(E,W,R)}createContextKey(E,W){return this.getModifiedEditor().createContextKey(E,W)}addAction(E){return this.getModifiedEditor().addAction(E)}};T=Me([pe(3,s.IInstantiationService),pe(4,r.IContextKeyService),pe(5,i.IKeybindingService),pe(6,d.IContextViewService),pe(7,l.IEditorWorkerService),pe(8,k.ICodeEditorService),pe(9,p.IStandaloneThemeService),pe(10,n.INotificationService),pe(11,a.IConfigurationService),pe(12,d.IContextMenuService),pe(13,m.IEditorProgressService),pe(14,_.IClipboardService)],T),e.StandaloneDiffEditor=T;function O(B,E,W,R,F){if(W=W||"",!R){const V=W.indexOf(`
`);let K=W;return V!==-1&&(K=W.substring(0,V)),A(B,W,E.createByFilepathOrFirstLine(F||null,K),F)}return A(B,W,E.create(R),F)}e.createTextModel=O;function A(B,E,W,R){return B.createModel(E,W,R)}}),define(ee[272],te([0,1,2,134,28,75,250,57,560,36,267,138,189,598,659,113,35,26,46,563,18,643,68,548,182,9,543,139,37,114,148,77,551,85,32,59,79,87,12,188,642,237,587,65,140,74,561,84,522,149,664,645,78]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B,E,W,R,F,V,K,G,J,se,ie,ae,X,U,P,x,H,z,q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicStandaloneServices=e.StaticServices=void 0;var Q;(function(ue){const Y=new L.ServiceCollection;class j{constructor(de,me){this._serviceId=de,this._factory=me,this._value=null}get id(){return this._serviceId}get(de){if(!this._value){if(de&&(this._value=de[this._serviceId.toString()]),this._value||(this._value=this._factory(de)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");Y.set(this._serviceId,this._value)}return this._value}}ue.LazyStaticService=j;let ne=[];function Z(re,de){let me=new j(re,de);return ne.push(me),me}function le(re){let de=new L.ServiceCollection;for(const[ve,Ce]of ae.getSingletonServiceDescriptors())de.set(ve,Ce);for(let ve in re)re.hasOwnProperty(ve)&&de.set(b.createDecorator(ve),re[ve]);ne.forEach(ve=>de.set(ve.id,ve.get(re)));let me=new y.InstantiationService(de,!0);return de.set(b.IInstantiationService,me),[de,me]}ue.init=le,ue.instantiationService=Z(b.IInstantiationService,()=>new y.InstantiationService(Y,!0));const he=new u.SimpleConfigurationService;ue.configurationService=Z(n.IConfigurationService,()=>he),ue.resourceConfigurationService=Z(c.ITextResourceConfigurationService,()=>new u.SimpleResourceConfigurationService(he)),ue.resourcePropertiesService=Z(c.ITextResourcePropertiesService,()=>new u.SimpleResourcePropertiesService(he)),ue.contextService=Z(V.IWorkspaceContextService,()=>new u.SimpleWorkspaceContextService),ue.labelService=Z(N.ILabelService,()=>new u.SimpleUriLabelService),ue.telemetryService=Z(R.ITelemetryService,()=>new u.StandaloneTelemetryService),ue.dialogService=Z(g.IDialogService,()=>new u.SimpleDialogService),ue.notificationService=Z(B.INotificationService,()=>new u.SimpleNotificationService),ue.markerService=Z(A.IMarkerService,()=>new O.MarkerService),ue.modeService=Z(v.IModeService,re=>new l.ModeServiceImpl),ue.standaloneThemeService=Z(d.IStandaloneThemeService,()=>new r.StandaloneThemeServiceImpl),ue.logService=Z(T.ILogService,()=>new T.ConsoleLogService),ue.undoRedoService=Z(x.IUndoRedoService,re=>new H.UndoRedoService(ue.dialogService.get(re),ue.notificationService.get(re))),ue.modelService=Z(f.IModelService,re=>new p.ModelServiceImpl(ue.configurationService.get(re),ue.resourcePropertiesService.get(re),ue.standaloneThemeService.get(re),ue.logService.get(re),ue.undoRedoService.get(re))),ue.markerDecorationsService=Z(G.IMarkerDecorationsService,re=>new J.MarkerDecorationsService(ue.modelService.get(re),ue.markerService.get(re))),ue.codeEditorService=Z(k.ICodeEditorService,re=>new a.StandaloneCodeEditorServiceImpl(ue.standaloneThemeService.get(re))),ue.editorProgressService=Z(E.IEditorProgressService,()=>new u.SimpleEditorProgressService),ue.storageService=Z(W.IStorageService,()=>new W.InMemoryStorageService),ue.editorWorkerService=Z(w.IEditorWorkerService,re=>new S.EditorWorkerServiceImpl(ue.modelService.get(re),ue.resourceConfigurationService.get(re),ue.logService.get(re)))})(Q=e.StaticServices||(e.StaticServices={}));class ce extends C.Disposable{constructor(Y,j){super();const[ne,Z]=Q.init(j);this._serviceCollection=ne,this._instantiationService=Z;const le=this.get(n.IConfigurationService),he=this.get(B.INotificationService),re=this.get(R.ITelemetryService),de=this.get(F.IThemeService),me=this.get(T.ILogService);let ve=(Ae,Oe)=>{let Re=null;return j&&(Re=j[Ae.toString()]),Re||(Re=Oe()),this._serviceCollection.set(Ae,Re),Re},Ce=ve(o.IContextKeyService,()=>this._register(new t.ContextKeyService(le)));ve(se.IAccessibilityService,()=>new X.AccessibilityService(Ce,le)),ve(I.IListService,()=>new I.ListService(de));let Ee=ve(i.ICommandService,()=>new u.StandaloneCommandService(this._instantiationService)),De=ve(D.IKeybindingService,()=>this._register(new u.StandaloneKeybindingService(Ce,Ee,re,he,me,Y))),Pe=ve(ie.ILayoutService,()=>new u.SimpleLayoutService(Q.codeEditorService.get(k.ICodeEditorService),Y));ve(q.IQuickInputService,()=>new z.StandaloneQuickInputServiceImpl(Z,Q.codeEditorService.get(k.ICodeEditorService)));let Ne=ve(_.IContextViewService,()=>this._register(new m.ContextViewService(Pe)));ve(U.IClipboardService,()=>new P.BrowserClipboardService),ve(_.IContextMenuService,()=>{const Ae=new h.ContextMenuService(re,he,Ne,De,de);return Ae.configure({blockMouse:!1}),this._register(Ae)}),ve(s.IMenuService,()=>new K.MenuService(Ee)),ve(M.IBulkEditService,()=>new u.SimpleBulkEditService(Q.modelService.get(f.IModelService)))}get(Y){let j=this._serviceCollection.get(Y);if(!j)throw new Error("Missing service "+Y);return j}set(Y,j){this._serviceCollection.set(Y,j)}has(Y){return this._serviceCollection.has(Y)}}e.DynamicStandaloneServices=ce}),define(ee[666],te([0,1,28,552,212,38,163,106,53,17,76,75,57,67,549,168,537,189,665,272,113,26,46,18,68,9,37,32,58,65,69,59,84,8,36,354]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function E(he,re,de){let me=new t.DynamicStandaloneServices(he,re),ve=null;me.has(a.ITextModelService)||(ve=new i.SimpleEditorModelResolverService(t.StaticServices.modelService.get()),me.set(a.ITextModelService,ve)),me.has(D.IOpenerService)||me.set(D.IOpenerService,new M.OpenerService(me.get(C.ICodeEditorService),me.get(h.ICommandService)));let Ce=de(me);return ve&&ve.setEditor(Ce),Ce}function W(he,re,de){return E(he,de||{},me=>new n.StandaloneEditor(he,re,me,me.get(b.IInstantiationService),me.get(C.ICodeEditorService),me.get(h.ICommandService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(g.IContextViewService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(_.IConfigurationService),me.get(N.IAccessibilityService),me.get(B.IModelService),me.get(u.IModeService)))}e.create=W;function R(he){return t.StaticServices.codeEditorService.get().onCodeEditorAdd(re=>{he(re)})}e.onDidCreateEditor=R;function F(he,re,de){return E(he,de||{},me=>new n.StandaloneDiffEditor(he,re,me,me.get(b.IInstantiationService),me.get(m.IContextKeyService),me.get(y.IKeybindingService),me.get(g.IContextViewService),me.get(c.IEditorWorkerService),me.get(C.ICodeEditorService),me.get(o.IStandaloneThemeService),me.get(L.INotificationService),me.get(_.IConfigurationService),me.get(g.IContextMenuService),me.get(T.IEditorProgressService),me.get(O.IClipboardService)))}e.createDiffEditor=F;function V(he,re){return new k.DiffNavigator(he,re)}e.createDiffNavigator=V;function K(he,re,de){return n.createTextModel(t.StaticServices.modelService.get(),t.StaticServices.modeService.get(),he,re,de)}e.createModel=K;function G(he,re){t.StaticServices.modelService.get().setMode(he,t.StaticServices.modeService.get().create(re))}e.setModelLanguage=G;function J(he,re,de){he&&t.StaticServices.markerService.get().changeOne(re,he.uri,de)}e.setModelMarkers=J;function se(he){return t.StaticServices.markerService.get().read(he)}e.getModelMarkers=se;function ie(he){return t.StaticServices.markerService.get().onMarkerChanged(he)}e.onDidChangeMarkers=ie;function ae(he){return t.StaticServices.modelService.get().getModel(he)}e.getModel=ae;function X(){return t.StaticServices.modelService.get().getModels()}e.getModels=X;function U(he){return t.StaticServices.modelService.get().onModelAdded(he)}e.onDidCreateModel=U;function P(he){return t.StaticServices.modelService.get().onModelRemoved(he)}e.onWillDisposeModel=P;function x(he){return t.StaticServices.modelService.get().onModelModeChanged(re=>{he({model:re.model,oldLanguage:re.oldModeId})})}e.onDidChangeModelLanguage=x;function H(he){return r.createWebWorker(t.StaticServices.modelService.get(),he)}e.createWebWorker=H;function z(he,re){const de=t.StaticServices.standaloneThemeService.get();return de.registerEditorContainer(he),s.Colorizer.colorizeElement(de,t.StaticServices.modeService.get(),he,re)}e.colorizeElement=z;function q(he,re,de){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorize(t.StaticServices.modeService.get(),he,re,de)}e.colorize=q;function Q(he,re,de=4){return t.StaticServices.standaloneThemeService.get().registerEditorContainer(document.body),s.Colorizer.colorizeModelLine(he,re,de)}e.colorizeModelLine=Q;function ce(he){let re=f.TokenizationRegistry.get(he);return re||{getInitialState:()=>p.NULL_STATE,tokenize:(de,me,ve,Ce)=>p.nullTokenize(he,de,ve,Ce)}}function ue(he,re){t.StaticServices.modeService.get().triggerMode(re);let me=ce(re),ve=A.splitLines(he),Ce=[],Ee=me.getInitialState();for(let De=0,Pe=ve.length;De<Pe;De++){let Ne=ve[De],Ae=me.tokenize(Ne,!0,Ee,0);Ce[De]=Ae.tokens,Ee=Ae.endState}return Ce}e.tokenize=ue;function Y(he,re){t.StaticServices.standaloneThemeService.get().defineTheme(he,re)}e.defineTheme=Y;function j(he){t.StaticServices.standaloneThemeService.get().setTheme(he)}e.setTheme=j;function ne(){I.clearAllFontInfos()}e.remeasureFonts=ne;function Z(he,re){return h.CommandsRegistry.registerCommand({id:he,handler:re})}e.registerCommand=Z;function le(){return{create:W,onDidCreateEditor:R,createDiffEditor:F,createDiffNavigator:V,createModel:K,setModelLanguage:G,setModelMarkers:J,getModelMarkers:se,onDidChangeMarkers:ie,getModels:X,getModel:ae,onDidCreateModel:U,onWillDisposeModel:P,onDidChangeModelLanguage:x,createWebWorker:H,colorizeElement:z,colorize:q,colorizeModelLine:Q,tokenize:ue,defineTheme:Y,setTheme:j,remeasureFonts:ne,registerCommand:Z,AccessibilitySupport:d.AccessibilitySupport,ContentWidgetPositionPreference:d.ContentWidgetPositionPreference,CursorChangeReason:d.CursorChangeReason,DefaultEndOfLine:d.DefaultEndOfLine,EditorAutoIndentStrategy:d.EditorAutoIndentStrategy,EditorOption:d.EditorOption,EndOfLinePreference:d.EndOfLinePreference,EndOfLineSequence:d.EndOfLineSequence,MinimapPosition:d.MinimapPosition,MouseTargetType:d.MouseTargetType,OverlayWidgetPositionPreference:d.OverlayWidgetPositionPreference,OverviewRulerLane:d.OverviewRulerLane,RenderLineNumbersType:d.RenderLineNumbersType,RenderMinimap:d.RenderMinimap,ScrollbarVisibility:d.ScrollbarVisibility,ScrollType:d.ScrollType,TextEditorCursorBlinkingStyle:d.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:d.TextEditorCursorStyle,TrackedRangeStickiness:d.TrackedRangeStickiness,WrappingIndent:d.WrappingIndent,ConfigurationChangedEvent:w.ConfigurationChangedEvent,BareFontInfo:S.BareFontInfo,FontInfo:S.FontInfo,TextModelResolvedOptions:l.TextModelResolvedOptions,FindMatch:l.FindMatch,EditorType:v.EditorType,EditorOptions:w.EditorOptions}}e.createMonacoEditorAPI=le}),define(ee[667],te([0,1,29,3,128,17,41,142,168,272,413,245]),function($,e,C,M,k,w,S,v,l,f,p,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.setColorMap=e.TokenizationSupport2Adapter=e.EncodedTokenizationSupport2Adapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function u(P){v.ModesRegistry.registerLanguage(P)}e.register=u;function a(){let P=[];return P=P.concat(v.ModesRegistry.getLanguages()),P}e.getLanguages=a;function r(P){let x=f.StaticServices.modeService.get().getLanguageIdentifier(P);return x?x.id:0}e.getEncodedLanguageId=r;function d(P,x){let H=f.StaticServices.modeService.get().onDidCreateMode(z=>{z.getId()===P&&(H.dispose(),x())});return H}e.onLanguage=d;function s(P,x){let H=f.StaticServices.modeService.get().getLanguageIdentifier(P);if(!H)throw new Error(`Cannot set configuration for unknown language ${P}`);return S.LanguageConfigurationRegistry.register(H,x,100)}e.setLanguageConfiguration=s;class i{constructor(x,H){this._languageIdentifier=x,this._actual=H}getInitialState(){return this._actual.getInitialState()}tokenize(x,H,z,q){if(typeof this._actual.tokenize=="function")return n.adaptTokenize(this._languageIdentifier.language,this._actual,x,z,q);throw new Error("Not supported!")}tokenize2(x,H,z){let q=this._actual.tokenizeEncoded(x,z);return new k.TokenizationResult2(q.tokens,q.endState)}}e.EncodedTokenizationSupport2Adapter=i;class n{constructor(x,H,z){this._standaloneThemeService=x,this._languageIdentifier=H,this._actual=z}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(x,H,z){let q=[],Q=0;for(let ce=0,ue=x.length;ce<ue;ce++){const Y=x[ce];let j=Y.startIndex;ce===0?j=0:j<Q&&(j=Q),q[ce]=new k.Token(j+z,Y.scopes,H),Q=j}return q}static adaptTokenize(x,H,z,q,Q){let ce=H.tokenize(z,q),ue=n._toClassicTokens(ce.tokens,x,Q),Y;return ce.endState.equals(q)?Y=q:Y=ce.endState,new k.TokenizationResult(ue,Y)}tokenize(x,H,z,q){return n.adaptTokenize(this._languageIdentifier.language,this._actual,x,z,q)}_toBinaryTokens(x,H){const z=this._languageIdentifier.id,q=this._standaloneThemeService.getColorTheme().tokenTheme;let Q=[],ce=0,ue=0;for(let j=0,ne=x.length;j<ne;j++){const Z=x[j],le=q.match(z,Z.scopes);if(!(ce>0&&Q[ce-1]===le)){let he=Z.startIndex;j===0?he=0:he<ue&&(he=ue),Q[ce++]=he+H,Q[ce++]=le,ue=he}}let Y=new Uint32Array(ce);for(let j=0;j<ce;j++)Y[j]=Q[j];return Y}tokenize2(x,H,z,q){let Q=this._actual.tokenize(x,z),ce=this._toBinaryTokens(Q.tokens,q),ue;return Q.endState.equals(z)?ue=z:ue=Q.endState,new k.TokenizationResult2(ce,ue)}}e.TokenizationSupport2Adapter=n;function t(P){return"tokenizeEncoded"in P}function o(P){return P&&typeof P.then=="function"}function h(P){if(P){const x=[null];for(let H=1,z=P.length;H<z;H++)x[H]=C.Color.fromHex(P[H]);f.StaticServices.standaloneThemeService.get().setColorMapOverride(x)}else f.StaticServices.standaloneThemeService.get().setColorMapOverride(null)}e.setColorMap=h;function _(P,x){let H=f.StaticServices.modeService.get().getLanguageIdentifier(P);if(!H)throw new Error(`Cannot set tokens provider for unknown language ${P}`);const z=q=>t(q)?new i(H,q):new n(f.StaticServices.standaloneThemeService.get(),H,q);return o(x)?w.TokenizationRegistry.registerPromise(P,x.then(q=>z(q))):w.TokenizationRegistry.register(P,z(x))}e.setTokensProvider=_;function m(P,x){const H=z=>c.createTokenizationSupport(f.StaticServices.modeService.get(),f.StaticServices.standaloneThemeService.get(),P,p.compile(P,z));return o(x)?w.TokenizationRegistry.registerPromise(P,x.then(z=>H(z))):w.TokenizationRegistry.register(P,H(x))}e.setMonarchTokensProvider=m;function g(P,x){return w.ReferenceProviderRegistry.register(P,x)}e.registerReferenceProvider=g;function b(P,x){return w.RenameProviderRegistry.register(P,x)}e.registerRenameProvider=b;function y(P,x){return w.SignatureHelpProviderRegistry.register(P,x)}e.registerSignatureHelpProvider=y;function L(P,x){return w.HoverProviderRegistry.register(P,{provideHover:(H,z,q)=>{let Q=H.getWordAtPosition(z);return Promise.resolve(x.provideHover(H,z,q)).then(ce=>{if(!!ce)return!ce.range&&Q&&(ce.range=new M.Range(z.lineNumber,Q.startColumn,z.lineNumber,Q.endColumn)),ce.range||(ce.range=new M.Range(z.lineNumber,z.column,z.lineNumber,z.column)),ce})}})}e.registerHoverProvider=L;function D(P,x){return w.DocumentSymbolProviderRegistry.register(P,x)}e.registerDocumentSymbolProvider=D;function N(P,x){return w.DocumentHighlightProviderRegistry.register(P,x)}e.registerDocumentHighlightProvider=N;function I(P,x){return w.LinkedEditingRangeProviderRegistry.register(P,x)}e.registerLinkedEditingRangeProvider=I;function T(P,x){return w.DefinitionProviderRegistry.register(P,x)}e.registerDefinitionProvider=T;function O(P,x){return w.ImplementationProviderRegistry.register(P,x)}e.registerImplementationProvider=O;function A(P,x){return w.TypeDefinitionProviderRegistry.register(P,x)}e.registerTypeDefinitionProvider=A;function B(P,x){return w.CodeLensProviderRegistry.register(P,x)}e.registerCodeLensProvider=B;function E(P,x){return w.CodeActionProviderRegistry.register(P,{provideCodeActions:(H,z,q,Q)=>{let ce=f.StaticServices.markerService.get().read({resource:H.uri}).filter(ue=>M.Range.areIntersectingOrTouching(ue,z));return x.provideCodeActions(H,z,{markers:ce,only:q.only},Q)}})}e.registerCodeActionProvider=E;function W(P,x){return w.DocumentFormattingEditProviderRegistry.register(P,x)}e.registerDocumentFormattingEditProvider=W;function R(P,x){return w.DocumentRangeFormattingEditProviderRegistry.register(P,x)}e.registerDocumentRangeFormattingEditProvider=R;function F(P,x){return w.OnTypeFormattingEditProviderRegistry.register(P,x)}e.registerOnTypeFormattingEditProvider=F;function V(P,x){return w.LinkProviderRegistry.register(P,x)}e.registerLinkProvider=V;function K(P,x){return w.CompletionProviderRegistry.register(P,x)}e.registerCompletionItemProvider=K;function G(P,x){return w.ColorProviderRegistry.register(P,x)}e.registerColorProvider=G;function J(P,x){return w.FoldingRangeProviderRegistry.register(P,x)}e.registerFoldingRangeProvider=J;function se(P,x){return w.DeclarationProviderRegistry.register(P,x)}e.registerDeclarationProvider=se;function ie(P,x){return w.SelectionRangeRegistry.register(P,x)}e.registerSelectionRangeProvider=ie;function ae(P,x){return w.DocumentSemanticTokensProviderRegistry.register(P,x)}e.registerDocumentSemanticTokensProvider=ae;function X(P,x){return w.DocumentRangeSemanticTokensProviderRegistry.register(P,x)}e.registerDocumentRangeSemanticTokensProvider=X;function U(){return{register:u,getLanguages:a,onLanguage:d,getEncodedLanguageId:r,setLanguageConfiguration:s,setColorMap:h,setTokensProvider:_,setMonarchTokensProvider:m,registerReferenceProvider:g,registerRenameProvider:b,registerCompletionItemProvider:K,registerSignatureHelpProvider:y,registerHoverProvider:L,registerDocumentSymbolProvider:D,registerDocumentHighlightProvider:N,registerLinkedEditingRangeProvider:I,registerDefinitionProvider:T,registerImplementationProvider:O,registerTypeDefinitionProvider:A,registerCodeLensProvider:B,registerCodeActionProvider:E,registerDocumentFormattingEditProvider:W,registerDocumentRangeFormattingEditProvider:R,registerOnTypeFormattingEditProvider:F,registerLinkProvider:V,registerColorProvider:G,registerFoldingRangeProvider:J,registerDeclarationProvider:se,registerSelectionRangeProvider:ie,registerDocumentSemanticTokensProvider:ae,registerDocumentRangeSemanticTokensProvider:X,DocumentHighlightKind:l.DocumentHighlightKind,CompletionItemKind:l.CompletionItemKind,CompletionItemTag:l.CompletionItemTag,CompletionItemInsertTextRule:l.CompletionItemInsertTextRule,SymbolKind:l.SymbolKind,SymbolTag:l.SymbolTag,IndentAction:l.IndentAction,CompletionTriggerKind:l.CompletionTriggerKind,SignatureHelpTriggerKind:l.SignatureHelpTriggerKind,FoldingRangeKind:w.FoldingRangeKind}}e.createMonacoLanguagesAPI=U}),define(ee[668],te([0,1,38,218,666,667,16,259]),function($,e,C,M,k,w,S,v){"use strict";var l,f;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,C.EditorOptions.wrappingIndent.defaultValue=0,C.EditorOptions.glyphMargin.defaultValue=!1,C.EditorOptions.autoIndent.defaultValue=3,C.EditorOptions.overviewRulerLanes.defaultValue=2,v.FormattingConflicts.setFormatterSelector((c,u,a)=>Promise.resolve(c[0]));const p=M.createMonacoBaseAPI();p.editor=k.createMonacoEditorAPI(),p.languages=w.createMonacoLanguagesAPI(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages,(((l=S.globals.MonacoEnvironment)===null||l===void 0?void 0:l.globalAPI)||((f=S.globals.define)===null||f===void 0?void 0:f.amd))&&(self.monaco=p),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})}),define(ee[669],te([0,1,24]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";function M(w){const S=w;return typeof(S==null?void 0:S.id)=="string"&&C.URI.isUri(S.uri)}e.isSingleFolderWorkspaceIdentifier=M;function k(w){if(w.configuration)return{id:w.id,configPath:w.configuration};if(w.folders.length===1)return{id:w.id,uri:w.folders[0].uri}}e.toWorkspaceIdentifier=k}),define(ee[670],te([0,1,500,72,44,132,41,8,669,159,290]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=void 0;class c{constructor(o){this._delegates=o}resolve(o){for(const h of this._delegates){let _=h.resolve(o);if(_!==void 0)return _}}}e.CompositeSnippetVariableResolver=c;class u{constructor(o,h,_,m){this._model=o,this._selection=h,this._selectionIdx=_,this._overtypingCapturer=m}resolve(o){const{name:h}=o;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let _=this._model.getValueInRange(this._selection)||void 0,m=this._selection.startLineNumber!==this._selection.endLineNumber;if(!_&&this._overtypingCapturer){const g=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);g&&(_=g.value,m=g.multiline)}if(_&&m&&o.snippet){const g=this._model.getLineContent(this._selection.startLineNumber),b=v.getLeadingWhitespace(g,0,this._selection.startColumn-1);let y=b;o.snippet.walk(D=>D===o?!1:(D instanceof w.Text&&(y=v.getLeadingWhitespace(v.splitLines(D.value).pop())),!0));const L=v.commonPrefixLength(y,b);_=_.replace(/(\r\n|\r|\n)(.*)/g,(D,N,I)=>`${N}${y.substr(L)}${I}`)}return _}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const _=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return _&&_.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber)}}}}e.SelectionBasedVariableResolver=u;class a{constructor(o,h){this._labelService=o,this._model=h}resolve(o){const{name:h}=o;if(h==="TM_FILENAME")return M.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const _=M.basename(this._model.uri.fsPath),m=_.lastIndexOf(".");return m<=0?_:_.slice(0,m)}else{if(h==="TM_DIRECTORY"&&this._labelService)return M.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(k.dirname(this._model.uri));if(h==="TM_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH"&&this._labelService)return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=a;class r{constructor(o,h,_,m){this._readClipboardText=o,this._selectionIdx=h,this._selectionCount=_,this._spread=m}resolve(o){if(o.name==="CLIPBOARD"){const h=this._readClipboardText();if(!!h){if(this._spread){const _=h.split(/\r\n|\n|\r/).filter(m=>!v.isFalsyOrWhitespace(m));if(_.length===this._selectionCount)return _[this._selectionIdx]}return h}}}}e.ClipboardBasedVariableResolver=r;class d{constructor(o,h){this._model=o,this._selection=h}resolve(o){const{name:h}=o,_=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),m=S.LanguageConfigurationRegistry.getComments(_);if(!!m){if(h==="LINE_COMMENT")return m.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return m.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return m.blockCommentEndToken||void 0}}}e.CommentBasedVariableResolver=d;class s{resolve(o){const{name:h}=o;if(h==="CURRENT_YEAR")return String(new Date().getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(new Date().getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(new Date().getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(new Date().getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(new Date().getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(new Date().getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(new Date().getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return s.dayNames[new Date().getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return s.dayNamesShort[new Date().getDay()];if(h==="CURRENT_MONTH_NAME")return s.monthNames[new Date().getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return s.monthNamesShort[new Date().getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(Date.now()/1e3))}}e.TimeBasedVariableResolver=s,s.dayNames=[C.localize(0,null),C.localize(1,null),C.localize(2,null),C.localize(3,null),C.localize(4,null),C.localize(5,null),C.localize(6,null)],s.dayNamesShort=[C.localize(7,null),C.localize(8,null),C.localize(9,null),C.localize(10,null),C.localize(11,null),C.localize(12,null),C.localize(13,null)],s.monthNames=[C.localize(14,null),C.localize(15,null),C.localize(16,null),C.localize(17,null),C.localize(18,null),C.localize(19,null),C.localize(20,null),C.localize(21,null),C.localize(22,null),C.localize(23,null),C.localize(24,null),C.localize(25,null)],s.monthNamesShort=[C.localize(26,null),C.localize(27,null),C.localize(28,null),C.localize(29,null),C.localize(30,null),C.localize(31,null),C.localize(32,null),C.localize(33,null),C.localize(34,null),C.localize(35,null),C.localize(36,null),C.localize(37,null)];class i{constructor(o){this._workspaceService=o}resolve(o){if(!!this._workspaceService){const h=l.toWorkspaceIdentifier(this._workspaceService.getWorkspace());if(!!h){if(o.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(o.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}}_resolveWorkspaceName(o){if(l.isSingleFolderWorkspaceIdentifier(o))return M.basename(o.uri.path);let h=M.basename(o.configPath.path);return h.endsWith(l.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-l.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(o){if(l.isSingleFolderWorkspaceIdentifier(o))return f.normalizeDriveLetter(o.uri.fsPath);let h=M.basename(o.configPath.path),_=o.configPath.fsPath;return _.endsWith(h)&&(_=_.substr(0,_.length-h.length-1)),_?f.normalizeDriveLetter(_):"/"}}e.WorkspaceBasedVariableResolver=i;class n{resolve(o){const{name:h}=o;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return p.generateUuid()}}e.RandomBasedVariableResolver=n}),define(ee[671],te([0,1,19,2,8,62,3,21,31,188,9,132,670,12,22,114,347]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0,a.registerThemingParticipant((t,o)=>{function h(_){const m=t.getColor(_);return m?m.toString():"transparent"}o.addRule(`.monaco-editor .snippet-placeholder { background-color: ${h(r.snippetTabstopHighlightBackground)}; outline-color: ${h(r.snippetTabstopHighlightBorder)}; }`),o.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${h(r.snippetFinalTabstopHighlightBackground)}; outline-color: ${h(r.snippetFinalTabstopHighlightBorder)}; }`)});class s{constructor(o,h,_,m){this._editor=o,this._snippet=h,this._offset=_,this._snippetLineLeadingWhitespace=m,this._nestingLevel=1,this._placeholderGroups=C.groupBy(h.placeholders,c.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(!this._placeholderDecorations){this._placeholderDecorations=new Map;const o=this._editor.getModel();this._editor.changeDecorations(h=>{for(const _ of this._snippet.placeholders){const m=this._snippet.offset(_),g=this._snippet.fullLen(_),b=S.Range.fromPositions(o.getPositionAt(this._offset+m),o.getPositionAt(this._offset+m+g)),y=_.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive,L=h.addDecoration(b,y);this._placeholderDecorations.set(_,L)}})}}move(o){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let m=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const b=this._placeholderDecorations.get(g),y=this._editor.getModel().getDecorationRange(b),L=this._editor.getModel().getValueInRange(y),D=g.transform.resolve(L).split(/\r\n|\r|\n/);for(let N=1;N<D.length;N++)D[N]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+D[N]);m.push(w.EditOperation.replace(y,D.join(this._editor.getModel().getEOL())))}m.length>0&&this._editor.executeEdits("snippet.placeholderTransform",m)}let h=!1;o===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,h=!0):o===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,h=!0);const _=this._editor.getModel().changeDecorations(m=>{const g=new Set,b=[];for(const y of this._placeholderGroups[this._placeholderGroupsIdx]){const L=this._placeholderDecorations.get(y),D=this._editor.getModel().getDecorationRange(L);b.push(new v.Selection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn)),h=h&&this._hasPlaceholderBeenCollapsed(y),m.changeDecorationOptions(L,y.isFinalTabstop?s._decor.activeFinal:s._decor.active),g.add(y);for(const N of this._snippet.enclosingPlaceholders(y)){const I=this._placeholderDecorations.get(N);m.changeDecorationOptions(I,N.isFinalTabstop?s._decor.activeFinal:s._decor.active),g.add(N)}}for(const[y,L]of this._placeholderDecorations)g.has(y)||m.changeDecorationOptions(L,y.isFinalTabstop?s._decor.inactiveFinal:s._decor.inactive);return b});return h?this.move(o):_!=null?_:[]}_hasPlaceholderBeenCollapsed(o){let h=o;for(;h;){if(h instanceof c.Placeholder){const _=this._placeholderDecorations.get(h);if(this._editor.getModel().getDecorationRange(_).isEmpty()&&h.toString().length>0)return!0}h=h.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const o=new Map;for(const h of this._placeholderGroups){let _;for(const m of h){if(m.isFinalTabstop)break;_||(_=[],o.set(m.index,_));const g=this._placeholderDecorations.get(m),b=this._editor.getModel().getDecorationRange(g);if(!b){o.delete(m.index);break}_.push(b)}}return o}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(o){const h=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(_=>{for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const g=o.shift();console.assert(!g._placeholderDecorations);const b=g._snippet.placeholderInfo.last.index;for(const L of g._snippet.placeholderInfo.all)L.isFinalTabstop?L.index=m.index+(b+1)/this._nestingLevel:L.index=m.index+L.index/this._nestingLevel;this._snippet.replace(m,g._snippet.children);const y=this._placeholderDecorations.get(m);_.removeDecoration(y),this._placeholderDecorations.delete(m);for(const L of g._snippet.placeholders){const D=g._snippet.offset(L),N=g._snippet.fullLen(L),I=S.Range.fromPositions(h.getPositionAt(g._offset+D),h.getPositionAt(g._offset+D+N)),T=_.addDecoration(I,s._decor.inactive);this._placeholderDecorations.set(L,T)}}this._placeholderGroups=C.groupBy(this._snippet.placeholders,c.Placeholder.compareByIndex)})}}e.OneSnippet=s,s._decor={active:l.ModelDecorationOptions.register({stickiness:0,className:"snippet-placeholder"}),inactive:l.ModelDecorationOptions.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:l.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:l.ModelDecorationOptions.register({stickiness:1,className:"finish-snippet-placeholder"})};const i={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class n{constructor(o,h,_=i){this._templateMerges=[],this._snippets=[],this._editor=o,this._template=h,this._options=_}static adjustWhitespace(o,h,_,m,g){const b=o.getLineContent(h.lineNumber),y=k.getLeadingWhitespace(b,0,h.column-1);let L;return _.walk(D=>{if(!(D instanceof c.Text)||D.parent instanceof c.Choice)return!0;const N=D.value.split(/\r\n|\r|\n/);if(m){const T=_.offset(D);if(T===0)N[0]=o.normalizeIndentation(N[0]);else{L=L!=null?L:_.toString();let O=L.charCodeAt(T-1);(O===10||O===13)&&(N[0]=o.normalizeIndentation(y+N[0]))}for(let O=1;O<N.length;O++)N[O]=o.normalizeIndentation(y+N[O])}const I=N.join(o.getEOL());return I!==D.value&&(D.parent.replace(D,[new c.Text(I)]),L=void 0),!0}),y}static adjustSelection(o,h,_,m){if(_!==0||m!==0){const{positionLineNumber:g,positionColumn:b}=h,y=b-_,L=b+m,D=o.validateRange({startLineNumber:g,startColumn:y,endLineNumber:g,endColumn:L});h=v.Selection.createWithDirection(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn,h.getDirection())}return h}static createEditsAndSnippets(o,h,_,m,g,b,y,L){const D=[],N=[];if(!o.hasModel())return{edits:D,snippets:N};const I=o.getModel(),T=o.invokeWithinContext(V=>V.get(f.IWorkspaceContextService,p.optional)),O=o.invokeWithinContext(V=>new u.ModelBasedVariableResolver(V.get(d.ILabelService,p.optional),I)),A=()=>y;let B=0,E=I.getValueInRange(n.adjustSelection(I,o.getSelection(),_,0)),W=I.getValueInRange(n.adjustSelection(I,o.getSelection(),0,m)),R=I.getLineFirstNonWhitespaceColumn(o.getSelection().positionLineNumber);const F=o.getSelections().map((V,K)=>({selection:V,idx:K})).sort((V,K)=>S.Range.compareRangesUsingStarts(V.selection,K.selection));for(const{selection:V,idx:K}of F){let G=n.adjustSelection(I,V,_,0),J=n.adjustSelection(I,V,0,m);E!==I.getValueInRange(G)&&(G=V),W!==I.getValueInRange(J)&&(J=V);const se=V.setStartPosition(G.startLineNumber,G.startColumn).setEndPosition(J.endLineNumber,J.endColumn),ie=new c.SnippetParser().parse(h,!0,g),ae=se.getStartPosition(),X=n.adjustWhitespace(I,ae,ie,b||K>0&&R!==I.getLineFirstNonWhitespaceColumn(V.positionLineNumber),!0);ie.resolveVariables(new u.CompositeSnippetVariableResolver([O,new u.ClipboardBasedVariableResolver(A,K,F.length,o.getOption(65)==="spread"),new u.SelectionBasedVariableResolver(I,V,K,L),new u.CommentBasedVariableResolver(I,V),new u.TimeBasedVariableResolver,new u.WorkspaceBasedVariableResolver(T),new u.RandomBasedVariableResolver]));const U=I.getOffsetAt(ae)+B;B+=ie.toString().length-I.getValueLengthInRange(se),D[K]=w.EditOperation.replace(se,ie.toString()),D[K].identifier={major:K,minor:0},N[K]=new s(o,ie,U,X)}return{edits:D,snippets:N}}dispose(){M.dispose(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!!this._editor.hasModel()){const{edits:o,snippets:h}=n.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=h,this._editor.executeEdits("snippet",o,_=>this._snippets[0].hasPlaceholder?this._move(!0):_.filter(m=>!!m.identifier).map(m=>v.Selection.fromPositions(m.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}}merge(o,h=i){if(!!this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,o]);const{edits:_,snippets:m}=n.createEditsAndSnippets(this._editor,o,h.overwriteBefore,h.overwriteAfter,!0,h.adjustWhitespace,h.clipboardText,h.overtypingCapturer);this._editor.executeEdits("snippet",_,g=>{for(const b of this._snippets)b.merge(m);return console.assert(m.length===0),this._snippets[0].hasPlaceholder?this._move(void 0):g.filter(b=>!!b.identifier).map(b=>v.Selection.fromPositions(b.range.getEndPosition()))})}}next(){const o=this._move(!0);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}prev(){const o=this._move(!1);this._editor.setSelections(o),this._editor.revealPositionInCenterIfOutsideViewport(o[0].getPosition())}_move(o){const h=[];for(const _ of this._snippets){const m=_.move(o);h.push(...m)}return h}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const o=this._editor.getSelections();if(o.length<this._snippets.length)return!1;let h=new Map;for(const _ of this._snippets){const m=_.computePossibleSelections();if(h.size===0)for(const[g,b]of m){b.sort(S.Range.compareRangesUsingStarts);for(const y of o)if(b[0].containsRange(y)){h.set(g,[]);break}}if(h.size===0)return!1;h.forEach((g,b)=>{g.push(...m.get(b))})}o.sort(S.Range.compareRangesUsingStarts);for(let[_,m]of h){if(m.length!==o.length){h.delete(_);continue}m.sort(S.Range.compareRangesUsingStarts);for(let g=0;g<m.length;g++)if(!m[g].containsRange(o[g])){h.delete(_);continue}}return h.size>0}}e.SnippetSession=n}),define(ee[190],te([0,1,2,14,3,21,25,116,18,77,671]),function($,e,C,M,k,w,S,v,l,f,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const c={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=class rt{constructor(d,s,i){this._editor=d,this._logService=s,this._snippetListener=new C.DisposableStore,this._modelVersionId=-1,this._inSnippet=rt.InSnippetMode.bindTo(i),this._hasNextTabstop=rt.HasNextTabstop.bindTo(i),this._hasPrevTabstop=rt.HasPrevTabstop.bindTo(i)}static get(d){return d.getContribution(rt.ID)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,s){try{this._doInsert(d,typeof s=="undefined"?c:Object.assign(Object.assign({},c),s))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,s){!this._editor.hasModel()||(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(d,s):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new p.SnippetSession(this._editor,d,s),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(i=>i.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{choice:d}=this._session;if(!d){this._currentChoice=void 0;return}if(this._currentChoice!==d){this._currentChoice=d,this._editor.setSelections(this._editor.getSelections().map(i=>w.Selection.fromPositions(i.getStartPosition())));const[s]=d.options;v.showSimpleSuggestions(this._editor,d.options.map((i,n)=>({kind:13,label:i.value,insertText:i.value,sortText:"a".repeat(n+1),range:k.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,s.value.length))})))}}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};u.ID="snippetController2",u.InSnippetMode=new l.RawContextKey("inSnippetMode",!1),u.HasNextTabstop=new l.RawContextKey("hasNextTabstop",!1),u.HasPrevTabstop=new l.RawContextKey("hasPrevTabstop",!1),u=Me([pe(1,f.ILogService),pe(2,l.IContextKeyService)],u),e.SnippetController2=u,M.registerEditorContribution(u.ID,u);const a=M.EditorCommand.bindToContribution(u.get);M.registerEditorCommand(new a({id:"jumpToNextSnippetPlaceholder",precondition:l.ContextKeyExpr.and(u.InSnippetMode,u.HasNextTabstop),handler:r=>r.next(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),M.registerEditorCommand(new a({id:"jumpToPrevSnippetPlaceholder",precondition:l.ContextKeyExpr.and(u.InSnippetMode,u.HasPrevTabstop),handler:r=>r.prev(),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1024|2}})),M.registerEditorCommand(new a({id:"leaveSnippet",precondition:u.InSnippetMode,handler:r=>r.cancel(!0),kbOpts:{weight:100+30,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),M.registerEditorCommand(new a({id:"acceptSnippet",precondition:u.InSnippetMode,handler:r=>r.finish()}))}),define(ee[672],te([0,1,15,11,6,2,21,17,409,116,190,23,75,412,8,84,87,77]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class n{constructor(h,_,m,g){this.leadingLineContent=h.getLineContent(_.lineNumber).substr(0,_.column-1),this.leadingWord=h.getWordUntilPosition(_),this.lineNumber=_.lineNumber,this.column=_.column,this.auto=m,this.shy=g}static shouldAutoTrigger(h){if(!h.hasModel())return!1;const _=h.getModel(),m=h.getPosition();_.tokenizeIfCheap(m.lineNumber);const g=_.getWordAtPosition(m);return!(!g||g.endColumn!==m.column||!isNaN(Number(g.word)))}}e.LineContext=n;let t=class Jt{constructor(h,_,m,g,b){this._editor=h,this._editorWorkerService=_,this._clipboardService=m,this._telemetryService=g,this._logService=b,this._toDispose=new w.DisposableStore,this._quickSuggestDelay=10,this._triggerCharacterListener=new w.DisposableStore,this._triggerQuickSuggest=new C.TimeoutTimer,this._state=0,this._completionDisposables=new w.DisposableStore,this._onDidCancel=new k.Emitter,this._onDidTrigger=new k.Emitter,this._onDidSuggest=new k.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new S.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(v.CompletionProviderRegistry.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(L=>{this._onCursorChange(L)}));let y=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{y=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{y=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{y||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){w.dispose(this._triggerCharacterListener),w.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(74),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),!(this._editor.getOption(75)||!this._editor.hasModel()||!this._editor.getOption(104))){const h=new Map;for(const m of v.CompletionProviderRegistry.all(this._editor.getModel()))for(const g of m.triggerCharacters||[]){let b=h.get(g);b||(b=new Set,b.add(f.getSnippetSuggestSupport()),h.set(g,b)),b.add(m)}const _=m=>{if(!m){const y=this._editor.getPosition();m=this._editor.getModel().getLineContent(y.lineNumber).substr(0,y.column-1)}let g="";r.isLowSurrogate(m.charCodeAt(m.length-1))?r.isHighSurrogate(m.charCodeAt(m.length-2))&&(g=m.substr(m.length-2)):g=m.charAt(m.length-1);const b=h.get(g);if(b){const y=this._completionModel?{items:this._completionModel.adopt(b),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:g},Boolean(this._completionModel),b,y)}};this._triggerCharacterListener.add(this._editor.onDidType(_)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(_))}}get state(){return this._state}cancel(h=!1){var _;this._state!==0&&(this._triggerQuickSuggest.cancel(),(_=this._requestToken)===null||_===void 0||_.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:h}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!v.CompletionProviderRegistry.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(h){if(!!this._editor.hasModel()){const _=this._editor.getModel(),m=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!h.selection.isEmpty()||h.reason!==0&&h.reason!==3||h.source!=="keyboard"&&h.source!=="deleteLeft"){this.cancel();return}if(!!v.CompletionProviderRegistry.has(_))if(this._state===0&&h.reason===0){if(this._editor.getOption(73)===!1||!m.containsRange(this._currentSelection)&&!m.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())||this._editor.getOption(101).snippetsPreventQuickSuggestions&&p.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state===0&&!!n.shouldAutoTrigger(this._editor)&&!!this._editor.hasModel()){const g=this._editor.getModel(),b=this._editor.getPosition(),y=this._editor.getOption(73);if(y!==!1){if(y!==!0){g.tokenizeIfCheap(b.lineNumber);const L=g.getLineTokens(b.lineNumber),D=L.getStandardTokenType(L.findTokenIndexAtOffset(Math.max(b.column-1-1,0)));if(!(y.other&&D===0||y.comments&&D===1||y.strings&&D===2))return}this.trigger({auto:!0,shy:!1})}}},this._quickSuggestDelay)}else this._state!==0&&h.reason===3&&this._refilterCompletionItems()}}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state!==0&&!!this._editor.hasModel()){const h=this._editor.getModel(),_=this._editor.getPosition(),m=new n(h,_,this._state===2,!1);this._onNewContext(m)}})}trigger(h,_=!1,m,g){var b;if(!!this._editor.hasModel()){const y=this._editor.getModel(),L=h.auto,D=new n(y,this._editor.getPosition(),L,h.shy);this.cancel(_),this._state=L?2:1,this._onDidTrigger.fire({auto:L,shy:h.shy,position:this._editor.getPosition()}),this._context=D;let N={triggerKind:(b=h.triggerKind)!==null&&b!==void 0?b:0};h.triggerCharacter&&(N={triggerKind:1,triggerCharacter:h.triggerCharacter}),this._requestToken=new c.CancellationTokenSource;const I=this._editor.getOption(96);let T=1;switch(I){case"top":T=0;break;case"bottom":T=2;break}const O=Jt._createItemKindFilter(this._editor),A=a.WordDistance.create(this._editorWorkerService,this._editor),B=f.provideSuggestionItems(y,this._editor.getPosition(),new f.CompletionOptions(T,O,m),N,this._requestToken.token);Promise.all([B,A]).then(([E,W])=>Ie(this,void 0,void 0,function*(){var R;if((R=this._requestToken)===null||R===void 0||R.dispose(),!!this._editor.hasModel()){let F=g==null?void 0:g.clipboardText;if(!F&&E.needsClipboard&&(F=yield this._clipboardService.readText()),this._state!==0){const V=this._editor.getModel();let K=E.items;if(g){const J=f.getSuggestionComparator(T);K=K.concat(g.items).sort(J)}const G=new n(V,this._editor.getPosition(),L,h.shy);this._completionModel=new l.CompletionModel(K,this._context.column,{leadingLineContent:G.leadingLineContent,characterCountDelta:G.column-this._context.column},W,this._editor.getOption(101),this._editor.getOption(96),F),this._completionDisposables.add(E.disposable),this._onNewContext(G),this._reportDurationsTelemetry(E.durations)}}})).catch(M.onUnexpectedError)}}_reportDurationsTelemetry(h){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(h)}),this._logService.debug("suggest.durations.json",h)})}static _createItemKindFilter(h){const _=new Set;h.getOption(96)==="none"&&_.add(27);const g=h.getOption(101);return g.showMethods||_.add(0),g.showFunctions||_.add(1),g.showConstructors||_.add(2),g.showFields||_.add(3),g.showVariables||_.add(4),g.showClasses||_.add(5),g.showStructs||_.add(6),g.showInterfaces||_.add(7),g.showModules||_.add(8),g.showProperties||_.add(9),g.showEvents||_.add(10),g.showOperators||_.add(11),g.showUnits||_.add(12),g.showValues||_.add(13),g.showConstants||_.add(14),g.showEnums||_.add(15),g.showEnumMembers||_.add(16),g.showKeywords||_.add(17),g.showWords||_.add(18),g.showColors||_.add(19),g.showFiles||_.add(20),g.showReferences||_.add(21),g.showColors||_.add(22),g.showFolders||_.add(23),g.showTypeParameters||_.add(24),g.showSnippets||_.add(27),g.showUsers||_.add(25),g.showIssues||_.add(26),_}_onNewContext(h){if(!!this._context){if(h.lineNumber!==this._context.lineNumber){this.cancel();return}if(r.getLeadingWhitespace(h.leadingLineContent)!==r.getLeadingWhitespace(this._context.leadingLineContent)){this.cancel();return}if(h.column<this._context.column){h.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(h.leadingWord.word.length!==0&&h.leadingWord.startColumn>this._context.leadingWord.startColumn){const _=new Set(v.CompletionProviderRegistry.all(this._editor.getModel()));for(let g of this._completionModel.allProvider)_.delete(g);const m=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,_,{items:m,clipboardText:this._completionModel.clipboardText});return}if(h.column>this._context.column&&this._completionModel.incomplete.size>0&&h.leadingWord.word.length!==0){const{incomplete:_}=this._completionModel,m=this._completionModel.adopt(_);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,_,{items:m,clipboardText:this._completionModel.clipboardText})}else{let _=this._completionModel.lineContext,m=!1;if(this._completionModel.lineContext={leadingLineContent:h.leadingLineContent,characterCountDelta:h.column-this._context.column},this._completionModel.items.length===0){if(n.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<h.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=_,m=this._completionModel.items.length>0,m&&h.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:m})}}}}};t=Me([pe(1,u.IEditorWorkerService),pe(2,d.IClipboardService),pe(3,s.ITelemetryService),pe(4,i.ILogService)],t),e.SuggestModel=t}),define(ee[673],te([0,1,47,19,11,39,2,70,14,62,3,25,190,132,569,501,26,18,9,86,116,541,672,658,542,6,15,20,410,411,13,16,35,23,77,81]),function($,e,C,M,k,w,S,v,l,f,p,c,u,a,r,d,s,i,n,t,o,h,_,m,g,b,y,L,D,N,I,T,O,A,B,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let W=!1;class R{constructor(se,ie){if(this._model=se,this._position=ie,se.getLineMaxColumn(ie.lineNumber)!==ie.column){const X=se.getOffsetAt(ie),U=se.getPositionAt(X+1);this._marker=se.deltaDecorations([],[{range:p.Range.fromPositions(ie,U),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(se){if(this._model.isDisposed()||this._position.lineNumber!==se.lineNumber)return 0;if(this._marker){const ie=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(ie.getStartPosition())-this._model.getOffsetAt(se)}else return this._model.getLineMaxColumn(se.lineNumber)-se.column}}let F=class ei{constructor(se,ie,ae,X,U,P){this._memoryService=ie,this._commandService=ae,this._contextKeyService=X,this._instantiationService=U,this._logService=P,this._lineSuffix=new S.MutableDisposable,this._toDispose=new S.DisposableStore,this.editor=se,this.model=U.createInstance(_.SuggestModel,this.editor);const x=o.Context.InsertMode.bindTo(X);x.set(se.getOption(101).insertMode),this.model.onDidTrigger(()=>x.set(se.getOption(101).insertMode)),this.widget=this._toDispose.add(new y.IdleValue(()=>{const q=this._instantiationService.createInstance(m.SuggestWidget,this.editor);this._toDispose.add(q),this._toDispose.add(q.onDidSelect(j=>this._insertSuggestion(j,0),this));const Q=new D.CommitCharacterController(this.editor,q,j=>this._insertSuggestion(j,2));this._toDispose.add(Q),this._toDispose.add(this.model.onDidSuggest(j=>{j.completionModel.items.length===0&&Q.reset()}));const ce=o.Context.MakesTextEdit.bindTo(this._contextKeyService),ue=o.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),Y=o.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(S.toDisposable(()=>{ce.reset(),ue.reset(),Y.reset()})),this._toDispose.add(q.onDidFocus(({item:j})=>{const ne=this.editor.getPosition(),Z=j.editStart.column,le=ne.column;let he=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!j.completion.command&&!j.completion.additionalTextEdits&&!(j.completion.insertTextRules&4)&&le-Z===j.completion.insertText.length&&(he=this.editor.getModel().getValueInRange({startLineNumber:ne.lineNumber,startColumn:Z,endLineNumber:ne.lineNumber,endColumn:le})!==j.completion.insertText),ce.set(he),ue.set(!I.Position.equals(j.editInsertEnd,j.editReplaceEnd)),Y.set(Boolean(j.provider.resolveCompletionItem)||Boolean(j.completion.documentation)||j.completion.detail!==j.completion.label)})),this._toDispose.add(q.onDetailsKeyDown(j=>{if(j.toKeybinding().equals(new w.SimpleKeybinding(!0,!1,!1,!1,33))||T.isMacintosh&&j.toKeybinding().equals(new w.SimpleKeybinding(!1,!1,!1,!0,33))){j.stopPropagation();return}j.toKeybinding().isModifierKey()||this.editor.focus()})),q})),this._overtypingCapturer=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new y.IdleValue(()=>this._toDispose.add(new h.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(U.createInstance(g.WordContextKey,se)),this._toDispose.add(this.model.onDidTrigger(q=>{this.widget.value.showTriggered(q.auto,q.shy?250:50),this._lineSuffix.value=new R(this.editor.getModel(),q.position)})),this._toDispose.add(this.model.onDidSuggest(q=>{if(!q.shy){let Q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.completionModel.items);this.widget.value.showSuggestions(q.completionModel,Q,q.isFrozen,q.auto)}})),this._toDispose.add(this.model.onDidCancel(q=>{q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{W||(this.model.cancel(),this.model.clear())}));let H=o.Context.AcceptSuggestionsOnEnter.bindTo(X),z=()=>{const q=this.editor.getOption(1);H.set(q==="on"||q==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(se){return se.getContribution(ei.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(se,ie){if(!se||!se.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!!this.editor.hasModel()){const ae=this.editor.getModel(),X=ae.getAlternativeVersionId(),{item:U}=se,P=[],x=new A.CancellationTokenSource;ie&1||this.editor.pushUndoStop();const H=this.getOverwriteInfo(U,Boolean(ie&8));if(this._memoryService.memorize(ae,this.editor.getPosition(),U),Array.isArray(U.completion.additionalTextEdits)){const q=v.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",U.completion.additionalTextEdits.map(Q=>f.EditOperation.replace(p.Range.lift(Q.range),Q.text))),q.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!U.isResolved){const q=new E.StopWatch(!0);let Q;const ce=ae.onDidChangeContent(ne=>{if(ne.isFlush){x.cancel(),ce.dispose();return}for(let Z of ne.changes){const le=p.Range.getEndPosition(Z.range);(!Q||I.Position.isBefore(le,Q))&&(Q=le)}});let ue=ie;ie|=2;let Y=!1,j=this.editor.onWillType(()=>{j.dispose(),Y=!0,ue&2||this.editor.pushUndoStop()});P.push(U.resolve(x.token).then(()=>{if(!U.completion.additionalTextEdits||x.token.isCancellationRequested||Q&&U.completion.additionalTextEdits.some(Z=>I.Position.isBefore(Q,p.Range.getStartPosition(Z.range))))return!1;Y&&this.editor.pushUndoStop();const ne=v.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",U.completion.additionalTextEdits.map(Z=>f.EditOperation.replace(p.Range.lift(Z.range),Z.text))),ne.restoreRelativeVerticalPositionOfCursor(this.editor),(Y||!(ue&2))&&this.editor.pushUndoStop(),!0}).then(ne=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",q.elapsed(),ne),ce.dispose(),j.dispose()}))}let{insertText:z}=U.completion;U.completion.insertTextRules&4||(z=a.SnippetParser.escape(z)),u.SnippetController2.get(this.editor).insert(z,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(U.completion.insertTextRules&1),clipboardText:se.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),ie&2||this.editor.pushUndoStop(),U.completion.command?U.completion.command.id===V.id?this.model.trigger({auto:!0,shy:!1},!0):(P.push(this._commandService.executeCommand(U.completion.command.id,...U.completion.command.arguments?[...U.completion.command.arguments]:[]).catch(k.onUnexpectedError)),this.model.cancel()):this.model.cancel(),ie&4&&this._alternatives.value.set(se,q=>{for(x.cancel();ae.canUndo();){X!==ae.getAlternativeVersionId()&&ae.undo(),this._insertSuggestion(q,1|2|(ie&8?8:0));break}}),this._alertCompletionItem(U),Promise.all(P).finally(()=>{this.model.clear(),x.dispose()})}}getOverwriteInfo(se,ie){L.assertType(this.editor.hasModel());let ae=this.editor.getOption(101).insertMode==="replace";ie&&(ae=!ae);const X=se.position.column-se.editStart.column,U=(ae?se.editReplaceEnd.column:se.editInsertEnd.column)-se.position.column,P=this.editor.getPosition().column-se.position.column,x=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:X+P,overwriteAfter:U+x}}_alertCompletionItem({completion:se}){const ie=typeof se.label=="string"?se.label:se.label.name;if(M.isNonEmptyArray(se.additionalTextEdits)){let ae=d.localize(0,null,ie,se.additionalTextEdits.length);C.alert(ae)}}triggerSuggest(se){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,se),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(se){if(!!this.editor.hasModel()){const ie=this.editor.getPosition(),ae=()=>{ie.equals(this.editor.getPosition())&&this._commandService.executeCommand(se.fallback)},X=U=>{if(U.completion.insertTextRules&4||U.completion.additionalTextEdits)return!0;const P=this.editor.getPosition(),x=U.editStart.column,H=P.column;return H-x!==U.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:P.lineNumber,startColumn:x,endLineNumber:P.lineNumber,endColumn:H})!==U.completion.insertText};b.Event.once(this.model.onDidTrigger)(U=>{let P=[];b.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{S.dispose(P),ae()},void 0,P),this.model.onDidSuggest(({completionModel:x})=>{if(S.dispose(P),x.items.length===0){ae();return}const H=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),x.items),z=x.items[H];if(!X(z)){ae();return}this.editor.pushUndoStop(),this._insertSuggestion({index:H,item:z,model:x},4|1|2)},void 0,P)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(ie.lineNumber,0),this.editor.focus()}}acceptSelectedSuggestion(se,ie){const ae=this.widget.value.getFocusedItem();let X=0;se&&(X|=4),ie&&(X|=8),this._insertSuggestion(ae,X)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}};F.ID="editor.contrib.suggestController",F=Me([pe(1,r.ISuggestMemoryService),pe(2,s.ICommandService),pe(3,i.IContextKeyService),pe(4,n.IInstantiationService),pe(5,B.ILogService)],F),e.SuggestController=F;class V extends l.EditorAction{constructor(){super({id:V.id,label:d.localize(1,null),alias:"Trigger Suggest",precondition:i.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(se,ie){const ae=F.get(ie);!ae||ae.triggerSuggest()}}e.TriggerSuggestAction=V,V.id="editor.action.triggerSuggest",l.registerEditorContribution(F.ID,F),l.registerEditorAction(V);const K=100+90,G=l.EditorCommand.bindToContribution(F.get);l.registerEditorCommand(new G({id:"acceptSelectedSuggestion",precondition:o.Context.Visible,handler(J){J.acceptSelectedSuggestion(!0,!1)}})),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:i.ContextKeyExpr.and(o.Context.Visible,c.EditorContextKeys.textInputFocus),primary:2,weight:K}),t.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:i.ContextKeyExpr.and(o.Context.Visible,c.EditorContextKeys.textInputFocus,o.Context.AcceptSuggestionsOnEnter,o.Context.MakesTextEdit),primary:3,weight:K}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(2,null)},group:"left",order:1,when:o.Context.HasInsertAndReplaceRange.toNegated()}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(3,null)},group:"left",order:1,when:i.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert"))}),O.MenuRegistry.appendMenuItem(o.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:d.localize(4,null)},group:"left",order:1,when:i.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace"))}),l.registerEditorCommand(new G({id:"acceptAlternativeSelectedSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,c.EditorContextKeys.textInputFocus),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:i.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("insert")),title:d.localize(5,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"left",order:2,when:i.ContextKeyExpr.and(o.Context.HasInsertAndReplaceRange,o.Context.InsertMode.isEqualTo("replace")),title:d.localize(6,null)}]})),s.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),l.registerEditorCommand(new G({id:"hideSuggestWidget",precondition:o.Context.Visible,handler:J=>J.cancelSuggestWidget(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),l.registerEditorCommand(new G({id:"selectNextSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectNextSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),l.registerEditorCommand(new G({id:"selectNextPageSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectNextPageSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),l.registerEditorCommand(new G({id:"selectLastSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectLastSuggestion()})),l.registerEditorCommand(new G({id:"selectPrevSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectPrevSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),l.registerEditorCommand(new G({id:"selectPrevPageSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectPrevPageSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),l.registerEditorCommand(new G({id:"selectFirstSuggestion",precondition:i.ContextKeyExpr.and(o.Context.Visible,o.Context.MultipleSuggestions),handler:J=>J.selectFirstSuggestion()})),l.registerEditorCommand(new G({id:"toggleSuggestionDetails",precondition:o.Context.Visible,handler:J=>J.toggleSuggestionDetails(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|10,mac:{primary:256|10}},menuOpts:[{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:i.ContextKeyExpr.and(o.Context.DetailsVisible,o.Context.CanResolve),title:d.localize(7,null)},{menuId:o.suggestWidgetStatusbarMenu,group:"right",order:1,when:i.ContextKeyExpr.and(o.Context.DetailsVisible.toNegated(),o.Context.CanResolve),title:d.localize(8,null)}]})),l.registerEditorCommand(new G({id:"toggleExplainMode",precondition:o.Context.Visible,handler:J=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),l.registerEditorCommand(new G({id:"toggleSuggestionFocus",precondition:o.Context.Visible,handler:J=>J.toggleSuggestionFocus(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),l.registerEditorCommand(new G({id:"insertBestCompletion",precondition:i.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,i.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,o.Context.Visible.toNegated(),h.SuggestAlternatives.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(J,se)=>{J.triggerSuggestAndAcceptBest(L.isObject(se)?Object.assign({fallback:"tab"},se):{fallback:"tab"})},kbOpts:{weight:K,primary:2}})),l.registerEditorCommand(new G({id:"insertNextSuggestion",precondition:i.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,i.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptNextSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:2}})),l.registerEditorCommand(new G({id:"insertPrevSuggestion",precondition:i.ContextKeyExpr.and(c.EditorContextKeys.textInputFocus,i.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.SuggestAlternatives.OtherSuggestions,o.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:J=>J.acceptPrevSuggestion(),kbOpts:{weight:K,kbExpr:c.EditorContextKeys.textInputFocus,primary:1024|2}})),l.registerEditorAction(class extends l.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:d.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,se){F.get(se).resetWidgetSize()}})}),define(ee[674],te([0,1,186,144,264,212,603,604,605,606,607,627,610,661,611,612,613,614,265,651,615,616,538,269,270,266,271,621,622,620,623,624,625,654,656,628,629,190,673,630,262,631,662,632,263,633,64,123]),function($,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})});var ft=this&&this.__createBinding||(Object.create?function($,e,C,M){M===void 0&&(M=C),Object.defineProperty($,M,{enumerable:!0,get:function(){return e[C]}})}:function($,e,C,M){M===void 0&&(M=C),$[M]=e[C]}),mt=this&&this.__exportStar||function($,e){for(var C in $)C!=="default"&&!Object.prototype.hasOwnProperty.call(e,C)&&ft(e,$,C)};define(ee[677],te([0,1,668,674,634,635,636,566,638,639,637,663,640]),function($,e,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),mt(C,e)})}).call(this);


define("vs/language/typescript/lib/typescriptServicesMetadata",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typescriptVersion=void 0,e.typescriptVersion="4.1.3"})),define("vs/language/typescript/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/typescript/monaco.contribution",["require","exports","./lib/typescriptServicesMetadata","./fillers/monaco-editor-core"],(function(t,e,i,n){"use strict";var r,o,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),e.getJavaScriptWorker=e.getTypeScriptWorker=e.javascriptDefaults=e.typescriptDefaults=e.typescriptVersion=e.ModuleResolutionKind=e.ScriptTarget=e.NewLineKind=e.JsxEmit=e.ModuleKind=void 0,function(t){t[t.None=0]="None",t[t.CommonJS=1]="CommonJS",t[t.AMD=2]="AMD",t[t.UMD=3]="UMD",t[t.System=4]="System",t[t.ES2015=5]="ES2015",t[t.ESNext=99]="ESNext"}(r=e.ModuleKind||(e.ModuleKind={})),function(t){t[t.None=0]="None",t[t.Preserve=1]="Preserve",t[t.React=2]="React",t[t.ReactNative=3]="ReactNative",t[t.ReactJSX=4]="ReactJSX",t[t.ReactJSXDev=5]="ReactJSXDev"}(o=e.JsxEmit||(e.JsxEmit={})),function(t){t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed"}(s=e.NewLineKind||(e.NewLineKind={})),function(t){t[t.ES3=0]="ES3",t[t.ES5=1]="ES5",t[t.ES2015=2]="ES2015",t[t.ES2016=3]="ES2016",t[t.ES2017=4]="ES2017",t[t.ES2018=5]="ES2018",t[t.ES2019=6]="ES2019",t[t.ES2020=7]="ES2020",t[t.ESNext=99]="ESNext",t[t.JSON=100]="JSON",t[t.Latest=99]="Latest"}(a=e.ScriptTarget||(e.ScriptTarget={})),function(t){t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs"}(c=e.ModuleResolutionKind||(e.ModuleResolutionKind={}));var p=function(){function t(t,e,i){this._onDidChange=new n.Emitter,this._onDidExtraLibsChange=new n.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(t),this.setDiagnosticsOptions(e),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(t.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),t.prototype.getExtraLibs=function(){return this._extraLibs},t.prototype.addExtraLib=function(t,e){var i,n=this;if(i=void 0===e?"ts:extralib-"+Math.random().toString(36).substring(2,15):e,this._extraLibs[i]&&this._extraLibs[i].content===t)return{dispose:function(){}};var r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:t,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var t=n._extraLibs[i];t&&t.version===r&&(delete n._extraLibs[i],n._removedExtraLibs[i]=r,n._fireOnDidExtraLibsChangeSoon())}}},t.prototype.setExtraLibs=function(t){for(var e in this._extraLibs)this._removedExtraLibs[e]=this._extraLibs[e].version;if(this._extraLibs=Object.create(null),t&&t.length>0)for(var i=0,n=t;i<n.length;i++){var r=n[i],o=(e=r.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r.content),s=1;this._removedExtraLibs[e]&&(s=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:o,version:s}}this._fireOnDidExtraLibsChangeSoon()},t.prototype._fireOnDidExtraLibsChangeSoon=function(){var t=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=Number(setTimeout((function(){t._onDidExtraLibsChangeTimeout=-1,t._onDidExtraLibsChange.fire(void 0)}),0)))},t.prototype.getCompilerOptions=function(){return this._compilerOptions},t.prototype.setCompilerOptions=function(t){this._compilerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},t.prototype.setDiagnosticsOptions=function(t){this._diagnosticsOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setWorkerOptions=function(t){this._workerOptions=t||Object.create(null),this._onDidChange.fire(void 0)},t.prototype.setMaximumWorkerIdleTime=function(t){},t.prototype.setEagerModelSync=function(t){this._eagerModelSync=t},t.prototype.getEagerModelSync=function(){return this._eagerModelSync},t}();e.typescriptVersion=i.typescriptVersion,e.typescriptDefaults=new p({allowNonTsExtensions:!0,target:a.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1},{}),e.javascriptDefaults=new p({allowNonTsExtensions:!0,allowJs:!0,target:a.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1},{});e.getTypeScriptWorker=function(){return u().then((function(t){return t.getTypeScriptWorker()}))};function u(){return new Promise((function(e,i){t(["./tsMode"],e,i)}))}e.getJavaScriptWorker=function(){return u().then((function(t){return t.getJavaScriptWorker()}))},n.languages.typescript={ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:a,ModuleResolutionKind:c,typescriptVersion:e.typescriptVersion,typescriptDefaults:e.typescriptDefaults,javascriptDefaults:e.javascriptDefaults,getTypeScriptWorker:e.getTypeScriptWorker,getJavaScriptWorker:e.getJavaScriptWorker},n.languages.onLanguage("typescript",(function(){return u().then((function(t){return t.setupTypeScript(e.typescriptDefaults)}))})),n.languages.onLanguage("javascript",(function(){return u().then((function(t){return t.setupJavaScript(e.javascriptDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-css version: 3.2.0(dcd7b7180b9a85d9e8574591a501afa8b03274f5)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-css/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/css/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/css/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lessDefaults=n.scssDefaults=n.cssDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),s={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},i={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0};function r(){return new Promise((function(n,t){e(["./cssMode"],n,t)}))}n.cssDefaults=new o("css",s,i),n.scssDefaults=new o("scss",s,i),n.lessDefaults=new o("less",s,i),t.languages.css={cssDefaults:n.cssDefaults,lessDefaults:n.lessDefaults,scssDefaults:n.scssDefaults},t.languages.onLanguage("less",(function(){r().then((function(e){return e.setupMode(n.lessDefaults)}))})),t.languages.onLanguage("scss",(function(){r().then((function(e){return e.setupMode(n.scssDefaults)}))})),t.languages.onLanguage("css",(function(){r().then((function(e){return e.setupMode(n.cssDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-json version: 3.3.0(420f2b0194d6fcc5ff36be0a0da9681b40ac3803)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-json/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/json/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/json/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonDefaults=void 0;var o=function(){function e(e,n,o){this._onDidChange=new t.Emitter,this._languageId=e,this.setDiagnosticsOptions(n),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}();n.jsonDefaults=new o("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0}),t.languages.json={jsonDefaults:n.jsonDefaults},t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),t.languages.onLanguage("json",(function(){new Promise((function(n,t){e(["./jsonMode"],n,t)})).then((function(e){return e.setupMode(n.jsonDefaults)}))}))}));
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * monaco-html version: 3.2.0(da2d7b97baa8c6ad9b46ddbb8fbafb8a6efc298f)
 * Released under the MIT license
 * https://github.com/Microsoft/monaco-html/blob/master/LICENSE.md
 *-----------------------------------------------------------------------------*/
define("vs/language/html/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/language/html/monaco.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.razorDefaults=t.handlebarDefaults=t.htmlDefaults=void 0;var o=function(){function e(e,t,o){this._onDidChange=new n.Emitter,this._languageId=e,this.setOptions(t),this.setModeConfiguration(o)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},r={format:a,suggest:{html5:!0,angular1:!0,ionic:!0}},i={format:a,suggest:{html5:!0}},u={format:a,suggest:{html5:!0,razor:!0}};function s(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===l,documentFormattingEdits:e===l,documentRangeFormattingEdits:e===l}}var l="html",f="handlebars",g="razor";function c(){return new Promise((function(t,n){e(["./htmlMode"],t,n)}))}t.htmlDefaults=new o(l,r,s(l)),t.handlebarDefaults=new o(f,i,s(f)),t.razorDefaults=new o(g,u,s(g)),n.languages.html={htmlDefaults:t.htmlDefaults,razorDefaults:t.razorDefaults,handlebarDefaults:t.handlebarDefaults},n.languages.onLanguage(l,(function(){c().then((function(e){return e.setupMode(t.htmlDefaults)}))})),n.languages.onLanguage(f,(function(){c().then((function(e){return e.setupMode(t.handlebarDefaults)}))})),n.languages.onLanguage(g,(function(){c().then((function(e){return e.setupMode(t.razorDefaults)}))}))}));
define("vs/basic-languages/fillers/monaco-editor-core",['vs/editor/editor.api'],(function(){return self.monaco})),define("vs/basic-languages/_.contribution",["require","exports","./fillers/monaco-editor-core"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.registerLanguage=i.loadLanguage=void 0;var n={},s={},r=function(){function e(e){var i=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,t){i._lazyLoadPromiseResolve=e,i._lazyLoadPromiseReject=t}))}return e.getOrCreate=function(i){return s[i]||(s[i]=new e(i)),s[i]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,n[this._languageId].loader().then((function(i){return e._lazyLoadPromiseResolve(i)}),(function(i){return e._lazyLoadPromiseReject(i)}))),this._lazyLoadPromise},e}();i.loadLanguage=function(e){return r.getOrCreate(e).load()},i.registerLanguage=function(e){var i=e.id;n[i]=e,t.languages.register(e);var s=r.getOrCreate(i);t.languages.setMonarchTokensProvider(i,s.whenLoaded().then((function(e){return e.language}))),t.languages.onLanguage(i,(function(){s.load().then((function(e){t.languages.setLanguageConfiguration(i,e.conf)}))}))}})),define("vs/basic-languages/abap/abap.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return new Promise((function(i,t){e(["./abap"],i,t)}))}})})),define("vs/basic-languages/apex/apex.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return new Promise((function(i,t){e(["./apex"],i,t)}))}})})),define("vs/basic-languages/azcli/azcli.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return new Promise((function(i,t){e(["./azcli"],i,t)}))}})})),define("vs/basic-languages/bat/bat.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return new Promise((function(i,t){e(["./bat"],i,t)}))}})})),define("vs/basic-languages/cameligo/cameligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return new Promise((function(i,t){e(["./cameligo"],i,t)}))}})})),define("vs/basic-languages/clojure/clojure.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return new Promise((function(i,t){e(["./clojure"],i,t)}))}})})),define("vs/basic-languages/coffee/coffee.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return new Promise((function(i,t){e(["./coffee"],i,t)}))}})})),define("vs/basic-languages/cpp/cpp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}}),t.registerLanguage({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return new Promise((function(i,t){e(["./cpp"],i,t)}))}})})),define("vs/basic-languages/csharp/csharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return new Promise((function(i,t){e(["./csharp"],i,t)}))}})})),define("vs/basic-languages/csp/csp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return new Promise((function(i,t){e(["./csp"],i,t)}))}})})),define("vs/basic-languages/css/css.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return new Promise((function(i,t){e(["./css"],i,t)}))}})})),define("vs/basic-languages/dart/dart.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return new Promise((function(i,t){e(["./dart"],i,t)}))}})})),define("vs/basic-languages/dockerfile/dockerfile.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return new Promise((function(i,t){e(["./dockerfile"],i,t)}))}})})),define("vs/basic-languages/ecl/ecl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return new Promise((function(i,t){e(["./ecl"],i,t)}))}})})),define("vs/basic-languages/fsharp/fsharp.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return new Promise((function(i,t){e(["./fsharp"],i,t)}))}})})),define("vs/basic-languages/go/go.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return new Promise((function(i,t){e(["./go"],i,t)}))}})})),define("vs/basic-languages/graphql/graphql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return new Promise((function(i,t){e(["./graphql"],i,t)}))}})})),define("vs/basic-languages/handlebars/handlebars.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return new Promise((function(i,t){e(["./handlebars"],i,t)}))}})})),define("vs/basic-languages/hcl/hcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return new Promise((function(i,t){e(["./hcl"],i,t)}))}})})),define("vs/basic-languages/html/html.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return new Promise((function(i,t){e(["./html"],i,t)}))}})})),define("vs/basic-languages/ini/ini.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return new Promise((function(i,t){e(["./ini"],i,t)}))}})})),define("vs/basic-languages/java/java.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return new Promise((function(i,t){e(["./java"],i,t)}))}})})),define("vs/basic-languages/javascript/javascript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return new Promise((function(i,t){e(["./javascript"],i,t)}))}})})),define("vs/basic-languages/julia/julia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return new Promise((function(i,t){e(["./julia"],i,t)}))}})})),define("vs/basic-languages/kotlin/kotlin.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return new Promise((function(i,t){e(["./kotlin"],i,t)}))}})})),define("vs/basic-languages/less/less.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return new Promise((function(i,t){e(["./less"],i,t)}))}})})),define("vs/basic-languages/lexon/lexon.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return new Promise((function(i,t){e(["./lexon"],i,t)}))}})})),define("vs/basic-languages/lua/lua.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return new Promise((function(i,t){e(["./lua"],i,t)}))}})})),define("vs/basic-languages/m3/m3.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return new Promise((function(i,t){e(["./m3"],i,t)}))}})})),define("vs/basic-languages/markdown/markdown.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return new Promise((function(i,t){e(["./markdown"],i,t)}))}})})),define("vs/basic-languages/mips/mips.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return new Promise((function(i,t){e(["./mips"],i,t)}))}})})),define("vs/basic-languages/msdax/msdax.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return new Promise((function(i,t){e(["./msdax"],i,t)}))}})})),define("vs/basic-languages/mysql/mysql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return new Promise((function(i,t){e(["./mysql"],i,t)}))}})})),define("vs/basic-languages/objective-c/objective-c.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return new Promise((function(i,t){e(["./objective-c"],i,t)}))}})})),define("vs/basic-languages/pascal/pascal.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return new Promise((function(i,t){e(["./pascal"],i,t)}))}})})),define("vs/basic-languages/pascaligo/pascaligo.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return new Promise((function(i,t){e(["./pascaligo"],i,t)}))}})})),define("vs/basic-languages/perl/perl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return new Promise((function(i,t){e(["./perl"],i,t)}))}})})),define("vs/basic-languages/pgsql/pgsql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return new Promise((function(i,t){e(["./pgsql"],i,t)}))}})})),define("vs/basic-languages/php/php.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return new Promise((function(i,t){e(["./php"],i,t)}))}})})),define("vs/basic-languages/postiats/postiats.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return new Promise((function(i,t){e(["./postiats"],i,t)}))}})})),define("vs/basic-languages/powerquery/powerquery.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return new Promise((function(i,t){e(["./powerquery"],i,t)}))}})})),define("vs/basic-languages/powershell/powershell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return new Promise((function(i,t){e(["./powershell"],i,t)}))}})})),define("vs/basic-languages/pug/pug.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return new Promise((function(i,t){e(["./pug"],i,t)}))}})})),define("vs/basic-languages/python/python.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return new Promise((function(i,t){e(["./python"],i,t)}))}})})),define("vs/basic-languages/r/r.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return new Promise((function(i,t){e(["./r"],i,t)}))}})})),define("vs/basic-languages/razor/razor.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return new Promise((function(i,t){e(["./razor"],i,t)}))}})})),define("vs/basic-languages/redis/redis.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return new Promise((function(i,t){e(["./redis"],i,t)}))}})})),define("vs/basic-languages/redshift/redshift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return new Promise((function(i,t){e(["./redshift"],i,t)}))}})})),define("vs/basic-languages/restructuredtext/restructuredtext.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return new Promise((function(i,t){e(["./restructuredtext"],i,t)}))}})})),define("vs/basic-languages/ruby/ruby.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return new Promise((function(i,t){e(["./ruby"],i,t)}))}})})),define("vs/basic-languages/rust/rust.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return new Promise((function(i,t){e(["./rust"],i,t)}))}})})),define("vs/basic-languages/sb/sb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return new Promise((function(i,t){e(["./sb"],i,t)}))}})})),define("vs/basic-languages/scala/scala.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return new Promise((function(i,t){e(["./scala"],i,t)}))}})})),define("vs/basic-languages/scheme/scheme.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return new Promise((function(i,t){e(["./scheme"],i,t)}))}})})),define("vs/basic-languages/scss/scss.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return new Promise((function(i,t){e(["./scss"],i,t)}))}})})),define("vs/basic-languages/shell/shell.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return new Promise((function(i,t){e(["./shell"],i,t)}))}})})),define("vs/basic-languages/solidity/solidity.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return new Promise((function(i,t){e(["./solidity"],i,t)}))}})})),define("vs/basic-languages/sophia/sophia.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return new Promise((function(i,t){e(["./sophia"],i,t)}))}})})),define("vs/basic-languages/sql/sql.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return new Promise((function(i,t){e(["./sql"],i,t)}))}})})),define("vs/basic-languages/st/st.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return new Promise((function(i,t){e(["./st"],i,t)}))}})})),define("vs/basic-languages/swift/swift.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return new Promise((function(i,t){e(["./swift"],i,t)}))}})})),define("vs/basic-languages/systemverilog/systemverilog.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}}),t.registerLanguage({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return new Promise((function(i,t){e(["./systemverilog"],i,t)}))}})})),define("vs/basic-languages/tcl/tcl.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return new Promise((function(i,t){e(["./tcl"],i,t)}))}})})),define("vs/basic-languages/twig/twig.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return new Promise((function(i,t){e(["./twig"],i,t)}))}})})),define("vs/basic-languages/typescript/typescript.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return new Promise((function(i,t){e(["./typescript"],i,t)}))}})})),define("vs/basic-languages/vb/vb.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return new Promise((function(i,t){e(["./vb"],i,t)}))}})})),define("vs/basic-languages/xml/xml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return new Promise((function(i,t){e(["./xml"],i,t)}))}})})),define("vs/basic-languages/yaml/yaml.contribution",["require","exports","../_.contribution"],(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t.registerLanguage({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return new Promise((function(i,t){e(["./yaml"],i,t)}))}})})),define("vs/basic-languages/monaco.contribution",["require","exports","./abap/abap.contribution","./apex/apex.contribution","./azcli/azcli.contribution","./bat/bat.contribution","./cameligo/cameligo.contribution","./clojure/clojure.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dart/dart.contribution","./dockerfile/dockerfile.contribution","./ecl/ecl.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./graphql/graphql.contribution","./handlebars/handlebars.contribution","./hcl/hcl.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./javascript/javascript.contribution","./julia/julia.contribution","./kotlin/kotlin.contribution","./less/less.contribution","./lexon/lexon.contribution","./lua/lua.contribution","./m3/m3.contribution","./markdown/markdown.contribution","./mips/mips.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pascal/pascal.contribution","./pascaligo/pascaligo.contribution","./perl/perl.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powerquery/powerquery.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./restructuredtext/restructuredtext.contribution","./ruby/ruby.contribution","./rust/rust.contribution","./sb/sb.contribution","./scala/scala.contribution","./scheme/scheme.contribution","./scss/scss.contribution","./shell/shell.contribution","./solidity/solidity.contribution","./sophia/sophia.contribution","./sql/sql.contribution","./st/st.contribution","./swift/swift.contribution","./systemverilog/systemverilog.contribution","./tcl/tcl.contribution","./twig/twig.contribution","./typescript/typescript.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution"],(function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})}));
define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map