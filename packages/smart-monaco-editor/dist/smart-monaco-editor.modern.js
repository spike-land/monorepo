function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}const t=(e,t=[])=>{if("https://"===e.slice(0,8))return window.document.head.querySelector(`script[src="${e}"]`)||new Promise(function(o,n){const s=window.document.createElement("script");s.src=e,s.type="application/javascript",s.onload=()=>{0===t.length&&o(window);const e={};t.forEach(t=>Object.assign(e,window[t])),o(e)},s.onerror=n,window.document.head.appendChild(s)})},o=()=>"undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);let n={};export default async({onChange:s,code:i,language:a,options:d})=>{const{document:c}=window;let p=c.getElementById("container");p||(p=c.createElement("container"),p.id="container",c.body.appendChild(p));const r="typescript"===a?"file:///main.tsx":"file:///main.html";if(o()){const e=window.document.createElement("div");e.id="ace",window.document.body.appendChild(e),await t("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"),"typescript"===a?await t("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-typescript.min.js"):await t("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-html.min.js"),await t("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.min.js"),window.document.getElementById("ace").style.setProperty("display","block"),p.style.setProperty("display","none"),n=window.ace.edit("ace"),n.getSession().setMode("ace/mode/typescript");const o=e=>setTimeout(()=>{const t=(void 0).edit("ace");"ace/theme/monokai "!==t.getTheme()&&(t.setOptions({fontSize:"14pt"}),t.setTheme("ace/theme/monokai"),o(2*e))},e);o(100),n&&n.setValue(i),n&&n.blur()}const l=await(async()=>{const{require:e}=await t("https://unpkg.com/monaco-editor@0.21.2/min/vs/loader.js");return e.config({paths:{vs:"https://unpkg.com/monaco-editor@0.21.2/min/vs"}}),await new Promise(t=>e(["vs/editor/editor.main"],e=>t(e)))})();let m;try{m=l.editor.getModel(r),m.getValue()!==i&&m.setValue(i)}catch(e){m=await l.editor.createModel(i,a,l.Uri.parse(r))}const u={monaco:l,editor:l.editor.create(window.document.getElementById("container"),e({formatOnType:!1,scrollbar:{horizontal:"hidden",verticalHasArrows:!0,verticalScrollbarSize:20},minimap:{enabled:!1},folding:!1,glyphMargin:!1,wordWrap:"off",mouseWheelZoom:!1,wordWrapColumn:80,useTabStops:!1,dragAndDrop:!1,disableLayerHinting:!0,formatOnPaste:!1,disableMonospaceOptimizations:!0,showUnused:!0,automaticLayout:!0,scrollBeyondLastLine:!1,autoIndent:"full",accessibilitySupport:"off",autoClosingQuotes:"beforeWhitespace",padding:{bottom:300},lineNumbers:"on",autoClosingBrackets:"beforeWhitespace",autoClosingOvertype:"auto",suggest:{},codeLens:!0,autoSurround:"languageDefined",trimAutoWhitespace:!1,codeActionsOnSaveTimeout:100,model:m,value:i,language:a,theme:"vs-dark"},d))};if(o()&&(u.editor.onDidChangeModelContent(()=>s(u.editor.getValue())),n&&n.session.on("change",function(){const e=n.getValue();u.editor.setValue(e),s(e)}),n&&c.getElementById("container").replaceWith(c.getElementById("ace"))),u.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSuggestionDiagnostics:!0,noSemanticValidation:!0,noSyntaxValidation:!0}),"typescript"===a){const e=[{name:"react",url:"https://unpkg.com/@types/react@17.0.0/index.d.ts",depend:["global","csstype","react-dom","prop-types"]},{name:"global",url:"https://unpkg.com/@types/react@17.0.0/global.d.ts",depend:[]},{name:"prop-types",url:"https://unpkg.com/@types/prop-types@15.7.3/index.d.ts",depend:[]},{name:"react-dom",url:"https://unpkg.com/@types/react-dom@17.0.0/index.d.ts",depend:[]},{name:"csstype",url:"https://unpkg.com/csstype@3.0.5/index.d.ts",depend:[]},{name:"@emotion/styled/base.d.ts",url:"https://unpkg.com/@emotion/styled@11.0.0/types/base.d.ts",depend:["@emotion/react","@emotion/serialize","react"]},{name:"@emotion/styled/index.d.ts",url:"https://unpkg.com/@emotion/styled@11.0.0/types/index.d.ts",depend:["@emotion/react","@emotion/serialize","react"]},{name:"@emotion/cache/index.d.ts",url:"https://unpkg.com/@emotion/cache@11.0.0/types/index.d.ts",depend:["@emotion/utils"]},{name:"@emotion/react/index.d.ts",url:"https://unpkg.com/@emotion/react@11.1.4/types/index.d.ts",depend:["@emotion/cache"]},{name:"@emotion/react/jsx-namespace.d.ts",url:"https://unpkg.com/@emotion/react@11.1.4/types/jsx-namespace.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/css-prop.d.ts",url:"https://unpkg.com/@emotion/react@11.1.4/types/css-prop.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/helper.d.ts",url:"https://unpkg.com/@emotion/react@11.1.4/types/helper.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/theming.d.ts",url:"https://unpkg.com/@emotion/react@11.1.4/types/theming.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/serialize/index.d.ts",url:"https://unpkg.com/@emotion/serialize@1.0.0/types/index.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/utils/index.d.ts",url:"https://unpkg.com/@emotion/utils@1.0.0/types/index.d.ts",depend:[]},{name:"framer-motion",url:"https://unpkg.com/framer-motion@3.1.1/dist/framer-motion.d.ts",depend:[]},{name:"popmotion",url:"https://unpkg.com/popmotion@9.0.2/lib/index.d.ts"},{name:"@zedvision/qrious/index.d.ts",url:"https://unpkg.com/@zedvision/qrious@8.5.7/dist/qrious.d.ts"}].map(({name:e,url:t})=>(async()=>u.monaco.languages.typescript.typescriptDefaults.addExtraLib(await(await fetch(t)).text(),e.includes("@")?`file:///node_modules/${e}`:`file:///node_modules/@types/${e}/index.d.ts`))());return u.monaco.languages.typescript.typescriptDefaults.setCompilerOptions({target:u.monaco.languages.typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,allowUmdGlobalAccess:!0,strict:!0,allowJs:!0,noEmitOnError:!0,allowSyntheticDefaultImports:!0,moduleResolution:u.monaco.languages.typescript.ModuleResolutionKind.Nodejs,module:u.monaco.languages.typescript.ModuleKind.CommonJS,noEmit:!0,typeRoots:["node_modules/@types"],jsx:"react-jsx",esModuleInterop:!0}),await Promise.all(e),u.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSuggestionDiagnostics:!1,noSemanticValidation:!1,noSyntaxValidation:!1}),u}};
//# sourceMappingURL=smart-monaco-editor.modern.js.map
