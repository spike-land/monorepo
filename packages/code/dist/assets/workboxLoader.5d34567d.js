import{_ as e}from"./index.52f7a327.js";const t=async()=>{if("serviceWorker"in window.navigator){fetch("https://spike.land/check").then((e=>e.json())).then((e=>e.missing)).then((t=>e((()=>import("./ipfsClient.95a66388.js")),["/assets/ipfsClient.95a66388.js","/assets/getWorker.a337a27a.js"]).then((({ipfsCat:e})=>Promise.all(t.map((t=>Promise.race([e(t),fetch(`http://127.0.0.1:8080/ipfs/${t}/`).then((e=>e.text()))]).then((e=>fetch(`https://spike.land/add/${t}`,{method:"POST",body:e})))))))))),navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister()}));try{const{Workbox:t}=await e((()=>import("./workbox-window.prod.es5.0b63c790.js")),void 0),o=new t("./generated-sw.js");return o.addEventListener("activated",(e=>{e.isUpdate||window.monaco||console.log("Service worker activated for the first time!")})),o.register()}catch(t){console.error(t)}}};export{t as workboxLoader};
