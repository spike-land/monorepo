import{a as L,c as P}from"./chunk-chunk-SSEEUEA2.mjs";import{c as b,d as j,j as H}from"./chunk-chunk-S6MXAPW5.mjs";import"./chunk-chunk-3O6JO7DV.mjs";import{g as U}from"./chunk-chunk-KNBOFGNG.mjs";import{Q as z,j as $}from"./chunk-chunk-BX6WCHKP.mjs";import{d as D,j as k}from"./chunk-chunk-NXHTEHEK.mjs";k();k();z();var G=D(U(),1),B=(y,m)=>{let h=document.createElement("div");$((0,G.jsx)(y,{}),h);let a=h.innerHTML;return setTimeout(()=>{let c=b();setTimeout(()=>{if(c!==b())return;let{css:g,html:l}=j(),u=document.getElementById("root-"+m).innerHTML,d=q(u);(g!==d||l!==u)&&H({...j(),html:u,css:d})},50)},100),{html:a,css:q(a)}},q=y=>{try{let m={};for(let h in document.styleSheets){let a=document.styleSheets[h];a?.cssRules&&Array.from(a.cssRules).forEach(c=>{if(c&&c.cssText&&c.cssText.slice(0,5)===".css-"){let g=c.cssText.slice(1,11);!m[g]&&y.includes(g)&&!c.cssText.slice(10).includes(".css-")&&(m[g]=c.cssText)}})}return Object.keys(m).map(h=>m[h]).join(" ")}catch{return console.error("no css"),""}};k();k();function M(y){var m="0123456789abcdef";function h(p){var i,x="";for(i=0;i<=3;i++)x+=m.charAt(p>>i*8+4&15)+m.charAt(p>>i*8&15);return x}function a(p,i){var x=(p&65535)+(i&65535),w=(p>>16)+(i>>16)+(x>>16);return w<<16|x&65535}function c(p,i){return p<<i|p>>>32-i}function g(p,i,x,w,S,T){return a(c(a(a(i,p),a(w,T)),S),x)}function l(p,i,x,w,S,T,v){return g(i&x|~i&w,p,i,S,T,v)}function f(p,i,x,w,S,T,v){return g(i&w|x&~w,p,i,S,T,v)}function u(p,i,x,w,S,T,v){return g(i^x^w,p,i,S,T,v)}function d(p,i,x,w,S,T,v){return g(x^(i|~w),p,i,S,T,v)}function X(p){var i,x=(p.length+8>>6)+1,w=new Array(x*16);for(i=0;i<x*16;i++)w[i]=0;for(i=0;i<p.length;i++)w[i>>2]|=p.charCodeAt(i)<<i%4*8;return w[i>>2]|=128<<i%4*8,w[x*16-2]=p.length*8,w}var o,n=X(y),t=1732584193,r=-271733879,e=-1732584194,s=271733878,O,E,R,N;for(o=0;o<n.length;o+=16)O=t,E=r,R=e,N=s,t=l(t,r,e,s,n[o+0],7,-680876936),s=l(s,t,r,e,n[o+1],12,-389564586),e=l(e,s,t,r,n[o+2],17,606105819),r=l(r,e,s,t,n[o+3],22,-1044525330),t=l(t,r,e,s,n[o+4],7,-176418897),s=l(s,t,r,e,n[o+5],12,1200080426),e=l(e,s,t,r,n[o+6],17,-1473231341),r=l(r,e,s,t,n[o+7],22,-45705983),t=l(t,r,e,s,n[o+8],7,1770035416),s=l(s,t,r,e,n[o+9],12,-1958414417),e=l(e,s,t,r,n[o+10],17,-42063),r=l(r,e,s,t,n[o+11],22,-1990404162),t=l(t,r,e,s,n[o+12],7,1804603682),s=l(s,t,r,e,n[o+13],12,-40341101),e=l(e,s,t,r,n[o+14],17,-1502002290),r=l(r,e,s,t,n[o+15],22,1236535329),t=f(t,r,e,s,n[o+1],5,-165796510),s=f(s,t,r,e,n[o+6],9,-1069501632),e=f(e,s,t,r,n[o+11],14,643717713),r=f(r,e,s,t,n[o+0],20,-373897302),t=f(t,r,e,s,n[o+5],5,-701558691),s=f(s,t,r,e,n[o+10],9,38016083),e=f(e,s,t,r,n[o+15],14,-660478335),r=f(r,e,s,t,n[o+4],20,-405537848),t=f(t,r,e,s,n[o+9],5,568446438),s=f(s,t,r,e,n[o+14],9,-1019803690),e=f(e,s,t,r,n[o+3],14,-187363961),r=f(r,e,s,t,n[o+8],20,1163531501),t=f(t,r,e,s,n[o+13],5,-1444681467),s=f(s,t,r,e,n[o+2],9,-51403784),e=f(e,s,t,r,n[o+7],14,1735328473),r=f(r,e,s,t,n[o+12],20,-1926607734),t=u(t,r,e,s,n[o+5],4,-378558),s=u(s,t,r,e,n[o+8],11,-2022574463),e=u(e,s,t,r,n[o+11],16,1839030562),r=u(r,e,s,t,n[o+14],23,-35309556),t=u(t,r,e,s,n[o+1],4,-1530992060),s=u(s,t,r,e,n[o+4],11,1272893353),e=u(e,s,t,r,n[o+7],16,-155497632),r=u(r,e,s,t,n[o+10],23,-1094730640),t=u(t,r,e,s,n[o+13],4,681279174),s=u(s,t,r,e,n[o+0],11,-358537222),e=u(e,s,t,r,n[o+3],16,-722521979),r=u(r,e,s,t,n[o+6],23,76029189),t=u(t,r,e,s,n[o+9],4,-640364487),s=u(s,t,r,e,n[o+12],11,-421815835),e=u(e,s,t,r,n[o+15],16,530742520),r=u(r,e,s,t,n[o+2],23,-995338651),t=d(t,r,e,s,n[o+0],6,-198630844),s=d(s,t,r,e,n[o+7],10,1126891415),e=d(e,s,t,r,n[o+14],15,-1416354905),r=d(r,e,s,t,n[o+5],21,-57434055),t=d(t,r,e,s,n[o+12],6,1700485571),s=d(s,t,r,e,n[o+3],10,-1894986606),e=d(e,s,t,r,n[o+10],15,-1051523),r=d(r,e,s,t,n[o+1],21,-2054922799),t=d(t,r,e,s,n[o+8],6,1873313359),s=d(s,t,r,e,n[o+15],10,-30611744),e=d(e,s,t,r,n[o+6],15,-1560198380),r=d(r,e,s,t,n[o+13],21,1309151649),t=d(t,r,e,s,n[o+4],6,-145523070),s=d(s,t,r,e,n[o+11],10,-1120210379),e=d(e,s,t,r,n[o+2],15,718787259),r=d(r,e,s,t,n[o+9],21,-343485551),t=a(t,O),r=a(r,E),e=a(e,R),s=a(s,N);return h(t)+h(r)+h(e)+h(s)}var F={hashMap:{},data:{}},C=async(y,m)=>{let h=await(await import("./chunk-esbuildEsm-U2K23R2G.mjs")).init(),a=M(y);if(F.hashMap={...F.hashMap,[a]:m,[m]:a},!F.data[a]){let c=await h.transform(y,{...J,loader:m.includes(".tsx")?"tsx":m.includes(".ts")?"ts":m.includes(".jsx")?"jsx":"js",globalName:a.replace(/[^a-f]/g,"")});if(!c||!c.code){console.log("tranform result -code is empty");return}F.data={...F.data,[a]:{...c,deps:K(c.code)}},await Promise.all(F.data[a].deps.map(async g=>{if(F.hashMap[g])return;let l=await import.meta.resolve(g,m),f=M(l);if(F.hashMap[f])return;F.hashMap[f]=l;let u=await(await fetch(l)).text();await C(u,g)}))}return F},J={loader:"tsx",format:"iife",globalName:"myAppp",treeShaking:!0,tsconfigRaw:{compilerOptions:{jsx:"react-jsx",jsxImportSource:"@emotion/react"}},target:"es2021"},K=y=>{let m=/require\(\"(.+?)\"\)/mg,h,a=[];for(;(h=m.exec(y))!==null;)h.index===m.lastIndex&&m.lastIndex++,h.forEach((c,g)=>{g==1&&a.push(c),console.log(`Found match, group ${g}: ${c}`)});return a};var I={i:0,esbuildInit:async()=>await(await await import("./chunk-esbuildEsm-U2K23R2G.mjs")).init()};async function nt({code:y,counter:m,codeSpace:h}){let a=await I.esbuildInit();if(I.i=m,y!==j().code&&!(I.i>m))try{let c=await a.transform(y,{loader:"tsx",format:"esm",treeShaking:!0,tsconfigRaw:{compilerOptions:{jsx:"react-jsx",jsxImportSource:"@emotion/react"}},target:"es2021"}),g=await C(y,`${location.origin}/live/${h}.tsx`);if(console.log({UMD:g}),c.code===j().transpiled)return;let l=!1;if(c.code.length>0)try{let f=await L(c.code),{html:u,css:d}=B(f,h);await P({code:y,transpiled:c.code,i:m,html:u,css:d});return}catch(f){console.error("EXCEPTION"),console.error(f),l=!0,console.error({restartError:l});return}}catch(c){console.error({error:c})}}export{nt as runner};
//# sourceMappingURL=chunk-runner-AXI4AYUL.mjs.map
