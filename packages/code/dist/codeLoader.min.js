const yt=r=>{const s=()=>jsx(React.Fragment,null,jsx(motion.div,{css:`
            background: red;
            border: 4px solid red;
            border-radius: 8px;
          `,animate:{scale:1,top:1,left:600},dragElastic:.5,dragMomentum:!1,initial:{top:1,left:0,scale:.7},transition:{duration:.5},drag:!0,dragConstraints:{left:-window.innerWidth+200,right:0,bottom:window.innerHeight-200,top:0}},jsx("div",{css:`
      display: block;
      with: 100%;
      text-align: right;
      background: linear-gradient(0deg, darkred, red);
    `},jsx("button",{css:`
              background: darkred;
              margin-top: -4px;
              color: white;
              cursor: pointer;
              font-weight: bold;
              font-family: Roboto;
              padding: 8px 16px;
              outline: none;
              border: none;
              border-radius: 0px 8px 0px 0px;
            `,onClick:()=>r()},"\u{1F30E} SHARE")),jsx("div",{css:`  
      min-width: 200px;
      padding: 30px;
      max-width: 600px;
      background: white;
      max-height: 800px;
      border-radius: 0px 0px 8px 8px;
      overflow-y: overlay;
    `,id:"root"})));Pt.render(jsx(s),document.getElementById("dragabbleWindow"))};function vt(){const r=new JSFrame,s=r.create({name:"Win",title:"",width:window.innerWidth/2-40,height:600,minWidth:300,minHeight:300,appearanceName:"material",appearanceParam:{titleBar:{color:"white",height:40,background:"#1e1e1e"}},style:{backgroundColor:"rgba(255,255,255,0.8)",overflow:"auto"},style:{backgroundColor:"rgba(0,0,0,0.8)",overflow:"hidden",width:"100%"},html:'<div id="container"></div>'});s.setPosition(window.innerWidth-32,32,"RIGHT_TOP"),s.setControl({maximizeButton:"maximizeButton",demaximizeButton:"restoreButton",minimizeButton:"minimizeButton",deminimizeButton:"deminimizeButton",hideButton:"closeButton",animation:!0,animationDuration:150}),s.control.on("hid",(l,f)=>{l.closeFrame()}),s.control.on("maximized",(l,f)=>{r.showToast({text:"Maximized"})}),s.control.on("demaximized",(l,f)=>{}),s.control.on("minimized",(l,f)=>{}),s.control.on("dminimized",(l,f)=>{}),s.show(),console.log(s)}function ce(r){return new Promise(function(s,l){var f;f=window.document.createElement("script"),f.src=r,f.onload=()=>s(window),f.onerror=l,window.document.head.appendChild(f)})}const xt=async r=>document.querySelector(`script[src="${r}"]`)||new Promise(function(s,l){const f=window.document.createElement("script");f.src=r,f.onload=s,f.onerror=l,window.document.head.appendChild(f)}),me=`import { useState } from "react";
import { motion } from "framer-motion";
import { css, Global } from "@emotion/react";;

const Slider = () => {
  const [sliderValue, setSlider] = useState(64);

  return <>
  <Global styles={css\`
      body{
          margin: 0;
          background: rgb(\${sliderValue},\${255-sliderValue},255);
          overflow: overlay;
        }  
    \`}/>
    <input max="128"
      css={\`
        appearance: none;
        width: 100%;
        height: 40px; 
        background: rgb(\${sliderValue*2},\${255-2*sliderValue},0); 
        outline: none; 
    \`} type="range"
      value={sliderValue} step="1"
      onChangeCapture={(e) => setSlider(Number(e.currentTarget.value))}>
    </input>
    <motion.p
      animate={{ fontSize: sliderValue + \`px\` }}>
      Example when the text gets bigger...
    </motion.p>
      <motion.p animate={{fontSize:128-sliderValue+"px"}}>
        ...or smaller
    </motion.p>
  </>
}

export default () => <>
  <Slider />
</>
`;(function(r,s){typeof exports=="object"&&typeof module!="undefined"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(r=r||self,s(r.Diff={}))})(this,function(r){"use strict";function s(){}s.prototype={diff:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.callback;typeof n=="function"&&(o=n,n={}),this.options=n;var a=this;function i(S){return o?(setTimeout(function(){o(void 0,S)},0),!0):S}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var c=t.length,d=e.length,u=1,m=c+d,b=[{newPos:-1,components:[]}],L=this.extractCommon(b[0],t,e,0);if(b[0].newPos+1>=c&&L+1>=d)return i([{value:this.join(t),count:t.length}]);function h(){for(var S=-1*u;S<=u;S+=2){var k=void 0,R=b[S-1],I=b[S+1],M=(I?I.newPos:0)-S;R&&(b[S-1]=void 0);var F=R&&R.newPos+1<c,G=I&&0<=M&&M<d;if(!F&&!G){b[S]=void 0;continue}if(!F||G&&R.newPos<I.newPos?(k=f(I),a.pushComponent(k.components,void 0,!0)):(k=R,k.newPos++,a.pushComponent(k.components,!0,void 0)),M=a.extractCommon(k,t,e,S),k.newPos+1>=c&&M+1>=d)return i(l(a,k.components,t,e,a.useLongestToken));b[S]=k}u++}if(o)(function S(){setTimeout(function(){if(u>m)return o();h()||S()},0)})();else for(;u<=m;){var D=h();if(D)return D}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var a=t.length,i=n.length,c=e.newPos,d=c-o,u=0;c+1<a&&d+1<i&&this.equals(t[c+1],n[d+1]);)c++,d++,u++;return u&&e.components.push({count:u}),e.newPos=c,d},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function l(e,t,n,o,a){for(var i=0,c=t.length,d=0,u=0;i<c;i++){var m=t[i];if(m.removed){if(m.value=e.join(o.slice(u,u+m.count)),u+=m.count,i&&t[i-1].added){var b=t[i-1];t[i-1]=t[i],t[i]=b}}else{if(!m.added&&a){var L=n.slice(d,d+m.count);L=L.map(function(D,S){var k=o[u+S];return k.length>D.length?k:D}),m.value=e.join(L)}else m.value=e.join(n.slice(d,d+m.count));d+=m.count,m.added||(u+=m.count)}}var h=t[c-1];return c>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[c-2].value+=h.value,t.pop()),t}function f(e){return{newPos:e.newPos,components:e.components.slice(0)}}var p=new s;function y(e,t,n){return p.diff(e,t,n)}function g(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var w=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,v=/\S/,j=new s;j.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!v.test(e)&&!v.test(t)},j.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&w.test(t[n])&&w.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function C(e,t,n){return n=g(n,{ignoreWhitespace:!0}),j.diff(e,t,n)}function T(e,t,n){return j.diff(e,t,n)}var N=new s;N.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var a=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=a:(this.options.ignoreWhitespace&&(a=a.trim()),t.push(a))}return t};function V(e,t,n){return N.diff(e,t,n)}function x(e,t,n){var o=g(n,{ignoreWhitespace:!0});return N.diff(e,t,o)}var E=new s;E.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function O(e,t,n){return E.diff(e,t,n)}var P=new s;P.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function z(e,t,n){return P.diff(e,t,n)}function H(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(t){return typeof t}:H=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function B(e){return ie(e)||q(e)||K(e)||we()}function ie(e){if(Array.isArray(e))return oe(e)}function q(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function K(e,t){if(!e)return;if(typeof e=="string")return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}function oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye=Object.prototype.toString,_=new s;_.useLongestToken=!0,_.tokenize=N.tokenize,_.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(i,c){return typeof c=="undefined"?n:c}:o;return typeof e=="string"?e:JSON.stringify($(e,null,null,a),a,"  ")},_.equals=function(e,t){return s.prototype.equals.call(_,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function ve(e,t,n){return _.diff(e,t,n)}function $(e,t,n,o,a){t=t||[],n=n||[],o&&(e=o(a,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var c;if(ye.call(e)==="[object Array]"){for(t.push(e),c=new Array(e.length),n.push(c),i=0;i<e.length;i+=1)c[i]=$(e[i],t,n,o,a);return t.pop(),n.pop(),c}if(e&&e.toJSON&&(e=e.toJSON()),H(e)==="object"&&e!==null){t.push(e),c={},n.push(c);var d=[],u;for(u in e)e.hasOwnProperty(u)&&d.push(u);for(d.sort(),i=0;i<d.length;i+=1)u=d[i],c[u]=$(e[u],t,n,o,u);t.pop(),n.pop()}else c=e;return c}var Y=new s;Y.tokenize=function(e){return e.slice()},Y.join=Y.removeEmpty=function(e){return e};function xe(e,t,n){return Y.diff(e,t,n)}function le(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),o=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=[],i=0;function c(){var m={};for(a.push(m);i<n.length;){var b=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(b))break;var L=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(b);L&&(m.index=L[1]),i++}for(d(m),d(m),m.hunks=[];i<n.length;){var h=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(h))break;if(/^@@/.test(h))m.hunks.push(u());else{if(h&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(h));i++}}}function d(m){var b=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(b){var L=b[1]==="---"?"old":"new",h=b[2].split("	",2),D=h[0].replace(/\\\\/g,"\\");/^".*"$/.test(D)&&(D=D.substr(1,D.length-2)),m[L+"FileName"]=D,m[L+"Header"]=(h[1]||"").trim(),i++}}function u(){var m=i,b=n[i++],L=b.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),h={oldStart:+L[1],oldLines:typeof L[2]=="undefined"?1:+L[2],newStart:+L[3],newLines:typeof L[4]=="undefined"?1:+L[4],lines:[],linedelimiters:[]};h.oldLines===0&&(h.oldStart+=1),h.newLines===0&&(h.newStart+=1);for(var D=0,S=0;i<n.length&&!(n[i].indexOf("--- ")===0&&i+2<n.length&&n[i+1].indexOf("+++ ")===0&&n[i+2].indexOf("@@")===0);i++){var k=n[i].length==0&&i!=n.length-1?" ":n[i][0];if(k==="+"||k==="-"||k===" "||k==="\\")h.lines.push(n[i]),h.linedelimiters.push(o[i]||`
`),k==="+"?D++:k==="-"?S++:k===" "&&(D++,S++);else break}if(!D&&h.newLines===1&&(h.newLines=0),!S&&h.oldLines===1&&(h.oldLines=0),t.strict){if(D!==h.newLines)throw new Error("Added line count did not match for hunk at line "+(m+1));if(S!==h.oldLines)throw new Error("Removed line count did not match for hunk at line "+(m+1))}return h}for(;i<n.length;)c();return a}function rt(e,t,n){var o=!0,a=!1,i=!1,c=1;return function d(){if(o&&!i){if(a?c++:o=!1,e+c<=n)return c;i=!0}if(!a)return i||(o=!0),t<=e-c?-c++:(a=!0,d())}}function ze(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=le(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var o=e.split(/\r\n|[\n\v\f\r\x85]/),a=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=t.hunks,c=n.compareLine||function(Ee,ae,pe,ne){return ae===ne},d=0,u=n.fuzzFactor||0,m=0,b=0,L,h;function D(Ee,ae){for(var pe=0;pe<Ee.lines.length;pe++){var ne=Ee.lines[pe],De=ne.length>0?ne[0]:" ",wt=ne.length>0?ne.substr(1):ne;if(De===" "||De==="-"){if(!c(ae+1,o[ae],De,wt)&&(d++,d>u))return!1;ae++}}return!0}for(var S=0;S<i.length;S++){for(var k=i[S],R=o.length-k.oldLines,I=0,M=b+k.oldStart-1,F=rt(M,m,R);I!==void 0;I=F())if(D(k,M+I)){k.offset=b+=I;break}if(I===void 0)return!1;m=k.offset+k.oldStart+k.oldLines}for(var G=0,re=0;re<i.length;re++){var A=i[re],U=A.oldStart+A.offset+G-1;G+=A.newLines-A.oldLines;for(var W=0;W<A.lines.length;W++){var J=A.lines[W],te=J.length>0?J[0]:" ",Le=J.length>0?J.substr(1):J,ue=A.linedelimiters[W];if(te===" ")U++;else if(te==="-")o.splice(U,1),a.splice(U,1);else if(te==="+")o.splice(U,0,Le),a.splice(U,0,ue),U++;else if(te==="\\"){var fe=A.lines[W-1]?A.lines[W-1][0]:null;fe==="+"?L=!0:fe==="-"&&(h=!0)}}}if(L)for(;!o[o.length-1];)o.pop(),a.pop();else h&&(o.push(""),a.push(`
`));for(var se=0;se<o.length-1;se++)o[se]=o[se]+a[se];return o.join("")}function it(e,t){typeof e=="string"&&(e=le(e));var n=0;function o(){var a=e[n++];if(!a)return t.complete();t.loadFile(a,function(i,c){if(i)return t.complete(i);var d=ze(c,a,t);t.patched(a,d,function(u){if(u)return t.complete(u);o()})})}o()}function be(e,t,n,o,a,i,c){c||(c={}),typeof c.context=="undefined"&&(c.context=4);var d=V(n,o,c);d.push({value:"",lines:[]});function u(I){return I.map(function(M){return" "+M})}for(var m=[],b=0,L=0,h=[],D=1,S=1,k=function(I){var M=d[I],F=M.lines||M.value.replace(/\n$/,"").split(`
`);if(M.lines=F,M.added||M.removed){var G;if(!b){var re=d[I-1];b=D,L=S,re&&(h=c.context>0?u(re.lines.slice(-c.context)):[],b-=h.length,L-=h.length)}(G=h).push.apply(G,B(F.map(function(fe){return(M.added?"+":"-")+fe}))),M.added?S+=F.length:D+=F.length}else{if(b)if(F.length<=c.context*2&&I<d.length-2){var A;(A=h).push.apply(A,B(u(F)))}else{var U,W=Math.min(F.length,c.context);(U=h).push.apply(U,B(u(F.slice(0,W))));var J={oldStart:b,oldLines:D-b+W,newStart:L,newLines:S-L+W,lines:h};if(I>=d.length-2&&F.length<=c.context){var te=/\n$/.test(n),Le=/\n$/.test(o),ue=F.length==0&&h.length>J.oldLines;!te&&ue&&n.length>0&&h.splice(J.oldLines,0,"\\ No newline at end of file"),(!te&&!ue||!Le)&&h.push("\\ No newline at end of file")}m.push(J),b=0,L=0,h=[]}D+=F.length,S+=F.length}},R=0;R<d.length;R++)k(R);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:i,hunks:m}}function st(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var o=e.hunks[n];o.oldLines===0&&(o.oldStart-=1),o.newLines===0&&(o.newStart-=1),t.push("@@ -"+o.oldStart+","+o.oldLines+" +"+o.newStart+","+o.newLines+" @@"),t.push.apply(t,o.lines)}return t.join(`
`)+`
`}function Ae(e,t,n,o,a,i,c){return st(be(e,t,n,o,a,i,c))}function at(e,t,n,o,a,i){return Ae(e,e,t,n,o,a,i)}function ct(e,t){return e.length!==t.length?!1:Se(e,t)}function Se(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function lt(e){var t=je(e.lines),n=t.oldLines,o=t.newLines;n!==void 0?e.oldLines=n:delete e.oldLines,o!==void 0?e.newLines=o:delete e.newLines}function dt(e,t,n){e=He(e,n),t=He(t,n);var o={};(e.index||t.index)&&(o.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Re(e)?Re(t)?(o.oldFileName=de(o,e.oldFileName,t.oldFileName),o.newFileName=de(o,e.newFileName,t.newFileName),o.oldHeader=de(o,e.oldHeader,t.oldHeader),o.newHeader=de(o,e.newHeader,t.newHeader)):(o.oldFileName=e.oldFileName,o.newFileName=e.newFileName,o.oldHeader=e.oldHeader,o.newHeader=e.newHeader):(o.oldFileName=t.oldFileName||e.oldFileName,o.newFileName=t.newFileName||e.newFileName,o.oldHeader=t.oldHeader||e.oldHeader,o.newHeader=t.newHeader||e.newHeader)),o.hunks=[];for(var a=0,i=0,c=0,d=0;a<e.hunks.length||i<t.hunks.length;){var u=e.hunks[a]||{oldStart:Infinity},m=t.hunks[i]||{oldStart:Infinity};if($e(u,m))o.hunks.push(We(u,c)),a++,d+=u.newLines-u.oldLines;else if($e(m,u))o.hunks.push(We(m,d)),i++,c+=m.newLines-m.oldLines;else{var b={oldStart:Math.min(u.oldStart,m.oldStart),oldLines:0,newStart:Math.min(u.newStart+c,m.oldStart+d),newLines:0,lines:[]};ut(b,u.oldStart,u.lines,m.oldStart,m.lines),i++,a++,o.hunks.push(b)}}return o}function He(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return le(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return be(void 0,void 0,t,e)}return e}function Re(e){return e.newFileName&&e.newFileName!==e.oldFileName}function de(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}function $e(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function We(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function ut(e,t,n,o,a){var i={offset:t,lines:n,index:0},c={offset:o,lines:a,index:0};for(Ue(e,i,c),Ue(e,c,i);i.index<i.lines.length&&c.index<c.lines.length;){var d=i.lines[i.index],u=c.lines[c.index];if((d[0]==="-"||d[0]==="+")&&(u[0]==="-"||u[0]==="+"))ft(e,i,c);else if(d[0]==="+"&&u[0]===" "){var m;(m=e.lines).push.apply(m,B(ee(i)))}else if(u[0]==="+"&&d[0]===" "){var b;(b=e.lines).push.apply(b,B(ee(c)))}else d[0]==="-"&&u[0]===" "?Ve(e,i,c):u[0]==="-"&&d[0]===" "?Ve(e,c,i,!0):d===u?(e.lines.push(d),i.index++,c.index++):ke(e,ee(i),ee(c))}Je(e,i),Je(e,c),lt(e)}function ft(e,t,n){var o=ee(t),a=ee(n);if(qe(o)&&qe(a)){if(Se(o,a)&&Ke(n,o,o.length-a.length)){var i;(i=e.lines).push.apply(i,B(o));return}else if(Se(a,o)&&Ke(t,a,a.length-o.length)){var c;(c=e.lines).push.apply(c,B(a));return}}else if(ct(o,a)){var d;(d=e.lines).push.apply(d,B(o));return}ke(e,o,a)}function Ve(e,t,n,o){var a=ee(t),i=pt(n,a);if(i.merged){var c;(c=e.lines).push.apply(c,B(i.merged))}else ke(e,o?i:a,o?a:i)}function ke(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}function Ue(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var o=t.lines[t.index++];e.lines.push(o),t.offset++}}function Je(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}function ee(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var o=e.lines[e.index];if(n==="-"&&o[0]==="+"&&(n="+"),n===o[0])t.push(o),e.index++;else break}return t}function pt(e,t){for(var n=[],o=[],a=0,i=!1,c=!1;a<t.length&&e.index<e.lines.length;){var d=e.lines[e.index],u=t[a];if(u[0]==="+")break;if(i=i||d[0]!==" ",o.push(u),a++,d[0]==="+")for(c=!0;d[0]==="+";)n.push(d),d=e.lines[++e.index];u.substr(1)===d.substr(1)?(n.push(d),e.index++):c=!0}if((t[a]||"")[0]==="+"&&i&&(c=!0),c)return n;for(;a<t.length;)o.push(t[a++]);return{merged:o,changes:n}}function qe(e){return e.reduce(function(t,n){return t&&n[0]==="-"},!0)}function Ke(e,t,n){for(var o=0;o<n;o++){var a=t[t.length-n+o].substr(1);if(e.lines[e.index+o]!==" "+a)return!1}return e.index+=n,!0}function je(e){var t=0,n=0;return e.forEach(function(o){if(typeof o!="string"){var a=je(o.mine),i=je(o.theirs);t!==void 0&&(a.oldLines===i.oldLines?t+=a.oldLines:t=void 0),n!==void 0&&(a.newLines===i.newLines?n+=a.newLines:n=void 0)}else n!==void 0&&(o[0]==="+"||o[0]===" ")&&n++,t!==void 0&&(o[0]==="-"||o[0]===" ")&&t++}),{oldLines:t,newLines:n}}function mt(e){for(var t=[],n,o,a=0;a<e.length;a++)n=e[a],n.added?o=1:n.removed?o=-1:o=0,t.push([o,n.value]);return t}function ht(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];o.added?t.push("<ins>"):o.removed&&t.push("<del>"),t.push(gt(o.value)),o.added?t.push("</ins>"):o.removed&&t.push("</del>")}return t.join("")}function gt(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}r.Diff=s,r.applyPatch=ze,r.applyPatches=it,r.canonicalize=$,r.convertChangesToDMP=mt,r.convertChangesToXML=ht,r.createPatch=at,r.createTwoFilesPatch=Ae,r.diffArrays=xe,r.diffChars=y,r.diffCss=z,r.diffJson=ve,r.diffLines=V,r.diffSentences=O,r.diffTrimmedLines=x,r.diffWords=C,r.diffWordsWithSpace=T,r.merge=dt,r.parsePatch=le,r.structuredPatch=be,Object.defineProperty(r,"__esModule",{value:!0})});async function bt(r){const s=await crypto.subtle.digest("SHA-256",r),l=Array.from(new Uint8Array(s)),f=l.map(p=>("00"+p.toString(16)).slice(-2)).join("");return f}async function St(r){const s=new TextEncoder().encode(r),l=await bt(s);return l.substr(0,8)}const kt=async(r,s)=>{const l=St(r),f=Diff.diffChars(r,s);return{b:await l,c:f.map(p=>p.added?p.value:p.removed?-p.count:p.count)}},jt=(r,s)=>s.some(l=>r instanceof l);let _e,Ge;function Lt(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Et(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qe=new WeakMap,Ce=new WeakMap,Xe=new WeakMap,Oe=new WeakMap,Be=new WeakMap;function Dt(r){if(Ce.has(r))return;const s=new Promise((l,f)=>{const p=()=>{r.removeEventListener("complete",y),r.removeEventListener("error",g),r.removeEventListener("abort",g)},y=()=>{l(),p()},g=()=>{f(r.error||new DOMException("AbortError","AbortError")),p()};r.addEventListener("complete",y),r.addEventListener("error",g),r.addEventListener("abort",g)});Ce.set(r,s)}const Pe=r=>Be.get(r),Ct=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Te=new Map;function Ze(r,s){if(!(r instanceof IDBDatabase&&!(s in r)&&typeof s=="string"))return;if(Te.get(s))return Te.get(s);const l=s.replace(/FromIndex$/,""),f=s!==l,p=Ot.includes(l);if(!(l in(f?IDBIndex:IDBObjectStore).prototype)||!(p||Ct.includes(l)))return;const y=async function(g,...w){const v=this.transaction(g,p?"readwrite":"readonly");let j=v.store;f&&(j=j.index(w.shift()));const C=await j[l](...w);return p&&await v.done,C};return Te.set(s,y),y}async function Bt(r){const s=await crypto.subtle.digest("SHA-256",r),l=Array.from(new Uint8Array(s)),f=l.map(p=>("00"+p.toString(16)).slice(-2)).join("");return f}const Ie=window.document;var Pt=window.ReactDOM;const Me=()=>Ie.location.href.includes("zed.dev")?"https://code.zed.dev":"https://code.zed.vision";let Ye=!0,Q="",X=0,Tt=0,et="",tt="",he="",nt;const It=async({onChange:r,code:s,language:l})=>{const f=window.document.getElementById("container");if(!f){const v=document.getElementById("container");v.id="container",document.body.appendChild(v)}const p=l==="typescript"?"file:///main.tsx":"file:///main.html";let y;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)){const v=window.document.createElement("div");v.id="ace",window.document.body.appendChild(v),await ce("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js"),l==="typescript"?await ce("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-typescript.min.js"):await ce("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-html.min.js"),await ce("https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-monokai.min.js"),window.document.getElementById("ace").style.setProperty("display","block"),f.style.setProperty("display","none"),y=window.ace.edit("ace"),y.getSession().setMode("ace/mode/typescript");const j=C=>setTimeout(()=>{let T=window.ace.edit("ace"),N=T.getTheme();N!=="ace/theme/monokai "&&(T.setOptions({fontSize:"14pt"}),T.setTheme("ace/theme/monokai"),j(2*C))},C);j(100),y.setValue(s),y.blur()}if(window.monaco===void 0){const v="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs",{require:j}=await ce(`${v}/loader.min.js`);j.config({paths:{vs:v}}),await new Promise(C=>j(["vs/editor/editor.main"],T=>{C(T)}))}const g=window.monaco,w={monaco:g,editor:g.editor.create(window.document.getElementById("container"),{formatOnType:!0,scrollbar:{horizontal:"hidden",verticalHasArrows:!0,verticalScrollbarSize:20},minimap:{enabled:!1},folding:!1,multiCursorModifier:"alt",wordWrap:"on",wordWrapBreakAfterCharacters:">([{]))],;} ",mouseWheelZoom:!1,wordWrapColumn:80,automaticLayout:!0,scrollBeyondLastLine:!1,autoIndent:"brackets",autoClosingQuotes:"always",padding:{bottom:300},lineNumbers:"on",autoClosingBrackets:"always",autoClosingOvertype:"always",suggest:{},codeLens:!0,autoSurround:"languageDefined",trimAutoWhitespace:!0,codeActionsOnSaveTimeout:100,model:g.editor.getModel(p)||g.editor.createModel(s,l,g.Uri.parse(p)),value:s,language:l,theme:"vs-dark"})};if(w.editor.onDidChangeModelContent(()=>r(w.editor.getValue())),y&&y.session.on("change",function(){const v=y.getValue();w.editor.setValue(v),r(v)}),y&&document.getElementById("container").replaceWith(document.getElementById("ace")),w.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSuggestionDiagnostics:!0,noSemanticValidation:!0,noSyntaxValidation:!0}),l==="typescript"){const v=[{name:"react",url:"https://unpkg.com/@types/react@17.0.0/index.d.ts",depend:["global","csstype","react-dom","prop-types"]},{name:"global",url:"https://unpkg.com/@types/react@17.0.0/global.d.ts",depend:[]},{name:"prop-types",url:"https://unpkg.com/@types/prop-types@15.7.3/index.d.ts",depend:[]},{name:"react-dom",url:"https://unpkg.com/@types/react-dom@17.0.0/index.d.ts",depend:[]},{name:"csstype",url:"https://unpkg.com/csstype@3.0.5/index.d.ts",depend:[]},{name:"@emotion/styled/base.d.ts",url:"https://unpkg.com/@emotion/styled@11.0.0/types/base.d.ts",depend:["@emotion/react","@emotion/serialize","react"]},{name:"@emotion/styled/index.d.ts",url:"https://unpkg.com/@emotion/styled@11.0.0/types/index.d.ts",depend:["@emotion/react","@emotion/serialize","react"]},{name:"@emotion/cache/index.d.ts",url:"https://unpkg.com/@emotion/cache@11.0.0/types/index.d.ts",depend:["@emotion/utils"]},{name:"@emotion/react/index.d.ts",url:"https://unpkg.com/@emotion/react@11.1.2/types/index.d.ts",depend:["@emotion/cache"]},{name:"@emotion/react/jsx-namespace.d.ts",url:"https://unpkg.com/@emotion/react@11.1.2/types/jsx-namespace.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/css-prop.d.ts",url:"https://unpkg.com/@emotion/react@11.1.2/types/css-prop.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/helper.d.ts",url:"https://unpkg.com/@emotion/react@11.1.2/types/helper.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/react/theming.d.ts",url:"https://unpkg.com/@emotion/react@11.1.2/types/theming.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/serialize/index.d.ts",url:"https://unpkg.com/@emotion/serialize@1.0.0/types/index.d.ts",depend:["@emotion/utils","csstype"]},{name:"@emotion/utils/index.d.ts",url:"https://unpkg.com/@emotion/utils@1.0.0/types/index.d.ts",depend:[]},{name:"framer-motion",url:"https://unpkg.com/framer-motion@2.9.5/dist/framer-motion.d.ts",depend:[]},{name:"popmotion",url:"https://unpkg.com/browse/popmotion@9.0.1/lib/index.d.ts"}],j=v.map(({name:C,url:T})=>(async()=>w.monaco.languages.typescript.typescriptDefaults.addExtraLib(await(await fetch(T)).text(),C.includes("@emotion")?`file:///node_modules/${C}`:`file:///node_modules/@types/${C}/index.d.ts`))());return w.monaco.languages.typescript.typescriptDefaults.setCompilerOptions({target:w.monaco.languages.typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,allowUmdGlobalAccess:!0,strict:!0,allowJs:!0,noEmitOnError:!0,allowSyntheticDefaultImports:!0,moduleResolution:w.monaco.languages.typescript.ModuleResolutionKind.Nodejs,module:w.monaco.languages.typescript.ModuleKind.CommonJS,noEmit:!0,typeRoots:["node_modules/@types"],jsx:"react-jsx",esModuleInterop:!0}),await Promise.all(j),w.monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSuggestionDiagnostics:!1,noSemanticValidation:!1,noSyntaxValidation:!1}),w}};async function Fe(r){const s=new TextEncoder().encode(r),l=await Bt(s);return l.substr(0,8)}function Mt(r){const s=new Promise((l,f)=>{const p=()=>{r.removeEventListener("success",y),r.removeEventListener("error",g)},y=()=>{l(Z(r.result)),p()},g=()=>{f(r.error),p()};r.addEventListener("success",y),r.addEventListener("error",g)});return s.then(l=>{l instanceof IDBCursor&&Qe.set(l,r)}).catch(()=>{}),Be.set(s,r),s}let Ne={get(r,s,l){if(r instanceof IDBTransaction){if(s==="done")return Ce.get(r);if(s==="objectStoreNames")return r.objectStoreNames||Xe.get(r);if(s==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Z(r[s])},set(r,s,l){return r[s]=l,!0},has(r,s){return r instanceof IDBTransaction&&(s==="done"||s==="store")?!0:s in r}};function Ft(r){Ne=r(Ne)}function Nt(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(s,...l){const f=r.call(Pe(this),s,...l);return Xe.set(f,s.sort?s.sort():[s]),Z(f)}:Et().includes(r)?function(...s){return r.apply(Pe(this),s),Z(Qe.get(this))}:function(...s){return Z(r.apply(Pe(this),s))}}function zt(r){return typeof r=="function"?Nt(r):(r instanceof IDBTransaction&&Dt(r),jt(r,Lt())?new Proxy(r,Ne):r)}function Z(r){if(r instanceof IDBRequest)return Mt(r);if(Oe.has(r))return Oe.get(r);const s=zt(r);return s!==r&&(Oe.set(r,s),Be.set(s,r)),s}function At(r,s,{blocked:l,upgrade:f,blocking:p,terminated:y}={}){const g=indexedDB.open(r,s),w=Z(g);return f&&g.addEventListener("upgradeneeded",v=>{f(Z(g.result),v.oldVersion,v.newVersion,Z(g.transaction))}),l&&g.addEventListener("blocked",()=>l()),w.then(v=>{y&&v.addEventListener("close",()=>y()),p&&v.addEventListener("versionchange",()=>p())}).catch(()=>{}),w}Ft(r=>({...r,get:(s,l,f)=>Ze(s,l)||r.get(s,l,f),has:(s,l)=>!!Ze(s,l)||r.has(s,l)}));const ge=async()=>{const r=At("localZedCodeStore",1,{upgrade(p){p.createObjectStore("codeStore")}}),s=p=>{if(p.length<10)return!1;const y=[...p.slice(0,8)].filter(w=>w<0||w>"f").length===0,g=p.slice(8);if(y&&g[0]==="["&&g[g.length-1]==="]"){try{return JSON.parse(g).length>1}catch{return!1}return!0}return!1},l=(p,y)=>{const g=JSON.parse(y);let w=p.slice(),v="";return g.forEach(j=>{if(Number(j)===j){const C=Math.abs(j),T=w.slice(0,C);w=w.slice(C),j>0&&(v+=String(T))}else v+=String(j)}),v},f={async get(p,y="string"){let g;console.log("GET ",p);try{if(g=(await r).get("codeStore",p),!g)return null}catch(w){return null}if(y==="json")return JSON.parse(g);if(y==="string"){const w=await g;if(typeof w===y){const C=w;if(s(w)){const T=w.slice(0,8),N=w.slice(8),V=await f.get(T);return l(V,N)}return w}const v=new TextDecoder,j=v.decode(w);return j}return g},async put(p,y){let g;try{const v=await f.get(p);if(v.length===8&&v!==y){const j=await f.get(y),C=await f.get(v),T=await Fe(C);if(T===v){const N=await kt(j,C),V=N.b+JSON.stringify(N.c);(await r).put("codeStore",V,T)}}}catch{g=""}if(g!==""&&y===g)return data;let w;return typeof y!="string"?w=new TextDecoder().decode(y):w=y,(await r).put("codeStore",w,p)},async delete(p){return(await r).delete("codeStore",p)},async clear(){return(await r).clear("codeStore")},async keys(){return(await r).getAllKeys("codeStore")}};return f};export const getProjects=async()=>{const r=await ot(),s=await ge(),l=await s.get(r,"json");return l||(await s.put(r,JSON.stringify([])),[])};async function ot(){const r=await ge(),s=await r.get("uuid");if(!s)if(window.location.href.includes("zed.dev"))r.put("uuid","1234");else{const l=await fetch("https://code.zed.vision/register"),f=await l.json();return r.put("uuid",f.uuid),f.uuid}return s}export async function run(r="window"){await xt("https://unpkg.com/@babel/standalone@7.12.9/babel.min.js"),r==="editor"&&vt(),r=="window"&&yt(async()=>{const x=await nt();window.open(x)});const s=await ge(),l=await ot(),f=await j();v(V(f)),he=f;const p=await It({language:"typescript",code:f,onChange:g});async function y(x){if(X===1)return;try{X=1;const E=await w(),O=Ie.getElementById("error");if(X=0,x!==Q)return;if(E&&E.length){const{diff:P}=await import("../../diff/diff.min.js");if(Q!=x)return;if(et===x)return;const z=await P(he,x);if(z.c.length<=3){p.monaco.editor.setTheme("hc-black");return}O.innerHTML=E[0].messageText.toString(),O.style.display="block",et=x;return}he=x,O.style.display="none",p.monaco.editor.setTheme("vs-dark"),Tt=0,X=0,v(V(x))}catch(E){if(X=0,x!==Q)return;p.monaco.editor.setTheme("vs-light"),setTimeout(()=>{p.monaco.editor.setTheme("hc-black")},50),console.error(E)}}function g(x){if(!p)return;if(Q=x,!X)y(Q);else{const E=x,O=setInterval(()=>{(x!==Q||!X)&&clearInterval(O),X||y(Q)},100)}}async function w(){if(!p||!p.monaco)return;const x=p.monaco.Uri.parse("file:///main.tsx"),E=await p.monaco.languages.typescript.getTypeScriptWorker(),O=await(await E(x)).getSemanticDiagnostics("file:///main.tsx"),P=await(await E(x)).getCompilerOptionsDiagnostics("file:///main.tsx"),z=await(await E(x)).getSyntacticDiagnostics("file:///main.tsx");return[...O,...P,...z]}function v(x){const E=/import/gi,O="///",P=`
    Object.assign(window, React);
    if (window.Motion) {
        Object.assign(window, window.Motion);
    }
    if (window.emotionStyled){
      window.styled= window.emotionStyled;
    }
    ;
    `+x.replaceAll(E,O).replace("export default","DefaultElement = "),z=()=>{const H=new Function("code",`return function(){  
          let DefaultElement;
        
        ${P}

                return ReactDOM.render(jsx(DefaultElement), document.getElementById("root"));
      }`)();H(),nt=async()=>{const B=new Function("code",`return function(){
            let DefaultElement;
  
          ${P}
  
                  return ReactDOMServer.renderToString(jsx(DefaultElement));
        }`)(),ie=B(),q=Array.from(Ie.querySelector("head > style[data-emotion=css]").sheet.cssRules).map($=>$.cssText).filter($=>ie.includes($.substring(3,8))).join(`
  `);let K;if(P.includes("body{")){const $=P.indexOf("body{"),Y=P.slice($),xe=Y.indexOf("}");K=Y.slice(0,xe+1)}let oe="",we="";P.includes("Motion")&&(oe='<script crossorigin src="https://unpkg.com/framer-motion@2.9.5/dist/framer-motion.js"></script>',we="const {motion} = Motion");const ye=`<!DOCTYPE html>
        <html lang="en">
        <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <head profile="http://www.w3.org/2005/10/profile">
        <link rel="icon" 
              type="image/png"
              href="https://zed.vision/favicon.ico">
        <style>
        ${K}
        ${q}
        </style>
        </head>
        <body>
        <div id="root">
        ${ie}
        </div>
        <script crossorigin src="https://unpkg.com/react@17.0.1/umd/react.production.min.js"></script>
        ${oe}
        <script crossorigin src="https://unpkg.com/react-dom@17.0.1/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/@emotion/react@11.1.2/dist/emotion-react.umd.min.js"></script>
        <script crossorigin src="https://unpkg.com/@emotion/styled@11.0.0/dist/emotion-styled.umd.min.js"></script>
        <script type="module">
        Object.assign(window, emotionReact);

       const styled = window["emotionStyled"];

        let DefaultElement;

        ${P}

        ReactDOM.hydrate(jsx(DefaultElement), document.body.children[0]);
        </script>
        </body>
        </html>
        `,_=await T(ye),ve=await N(_);return ve}};if(!Ye){const H=async B=>{if(B!==he)return;if(tt===B)return;tt=B;const ie=new Request(Me(),{body:B,method:"POST",headers:{"content-type":"text/plain;charset=UTF-8"}}),q=await Fe(B);try{const K=await s.get("PROJECTNAME");K!==q&&(console.log("now put"),await s.put(q,B),await s.put("PROJECTNAME",q),C("h",q))}catch(K){console.error(K)}};H(Q)}Ye=!1,z()}async function j(){const x=await ge(),E=new URLSearchParams(window.location.search),O=E.get("h")||await x.get("PROJECTNAME");if(O){let P;try{P=await x.get(O)}catch{console.error("error load key: "+O)}if(P)return P;let z;try{const H=await fetch(Me()+"/?h="+O);z=await H.json()}catch(H){const B=await Fe(me);return x.put(B,me),await x.put("PROJECTNAME",B),me}return z}return me}function C(x,E){const O=new URLSearchParams(window.location.search);O.set(x,E),window.history.replaceState({},"",decodeURIComponent(`${window.location.pathname}?${O}`))}function T(x){const E=new Blob([x],{type:"text/html"});return E}async function N(x){const E=Me(),O=new Request(E,{body:x,method:"POST",headers:{"content-type":"text/html;charset=UTF-8",SHARE:"true"}}),P=await fetch(O),{hash:z}=await P.json();return`${E}/${z}`}function V(x){const{transform:E}=window.Babel;return E(`/** @jsx jsx */

  Object.assign(window, React);
  `+x,{plugins:[],presets:["react",["typescript",{isTSX:!0,allExtensions:!0}]]}).code}}
