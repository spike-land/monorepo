<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="icon" type="image/png" href="./assets/zed-icon-big.png" />
  <link rel="stylesheet" href="assets/app.css" />
  <link rel="stylesheet" href="assets/roboto.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" />
<title>Instant React Editor</title>
</head>
<body>
  <script type="module">
    import {run} from "./js/codeLoader.js"
    try{
      run("window", window);
      setTimeout(()=>workBox(), 3000);
    }catch(error){
      console.error({error});
      fetch("https://zed.vision/error", {method: "POST",  body: JSON.stringify({error})})
    }

  async function workBox() {
  if ("serviceWorker" in window.navigator) {
 
    const { Workbox } = await import(
      "https://storage.googleapis.com/workbox-cdn/releases/6.0.2/workbox-window.prod.mjs"
    );
    const wb = new Workbox(`./sw.js`);

    wb.addEventListener("activated", (event) => {
      if (!event.isUpdate && !window.monaco) {
        console.log("Service worker activated for the first time!");
      }
    });

    return wb.register();
  }
}

  </script>
  
</body>
</html>