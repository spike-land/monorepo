{
  "version": 3,
  "sources": ["../../dist/templates.mjs"],
  "sourcesContent": ["// js/importmap.json\nvar imports = {\n  \"@spike.land/ipfs\":\n    \"https://ga.jspm.io/npm:@spike.land/ipfs@0.3.61/dist/ipfs.client.mjs\",\n  \"@spike.land/qrious\":\n    \"https://ga.jspm.io/npm:@spike.land/qrious@0.4.0/dist/QRious.mjs\",\n  \"@spike.land/shadb\":\n    \"https://ga.jspm.io/npm:@spike.land/shadb@0.4.0/dist/shaDB.mjs\",\n  comlink: \"https://ga.jspm.io/npm:comlink@4.3.1/dist/umd/comlink.js\",\n  immutable: \"https://ga.jspm.io/npm:immutable@4.0.0/dist/immutable.es.js\",\n  react: \"https://unpkg.com/@spike.land/esm@0.3.75/dist/react.mjs\",\n  \"react-dom\": \"https://unpkg.com/@spike.land/esm@0.3.75/dist/react-dom.mjs\",\n  \"react-dom/server\":\n    \"https://ga.jspm.io/npm:react-dom@18.0.0-rc.0-next-f2a59df48-20211208/server.browser.js\",\n  \"react-is\": \"https://unpkg.com/@spike.land/esm@0.3.75/dist/react-is.mjs\",\n  \"react-transition-group\":\n    \"https://ga.jspm.io/npm:react-transition-group@4.4.2/esm/index.js\",\n  \"react/jsx-runtime\":\n    \"https://ga.jspm.io/npm:react@18.0.0-rc.0-next-f2a59df48-20211208/jsx-runtime.js\",\n  \"framer-motion\":\n    \"https://unpkg.com/@spike.land/esm@0.3.75/dist/framer-motion.mjs\",\n  \"textdiff-create\":\n    \"https://unpkg.com/@spike.land/esm@0.3.75/dist/textdiff-create.mjs\",\n  \"textdiff-patch\":\n    \"https://unpkg.com/@spike.land/esm@0.3.75/dist/textdiff-patch.mjs\",\n  \"ipfs-only-hash\":\n    \"https://unpkg.com/@spike.land/esm@0.3.75/dist/ipfs-only-hash.mjs\",\n  \"@emotion/react\":\n    \"https://unpkg.com/@spike.land/esm@0.3.75/dist/emotion-react.mjs\",\n};\nvar scopes = {\n  \"https://ga.jspm.io/\": {\n    \"@babel/runtime/helpers/esm/assertThisInitialized\":\n      \"https://ga.jspm.io/npm:@babel/runtime@7.16.5/helpers/esm/assertThisInitialized.js\",\n    \"@babel/runtime/helpers/esm/extends\":\n      \"https://ga.jspm.io/npm:@babel/runtime@7.16.5/helpers/esm/extends.js\",\n    \"@babel/runtime/helpers/esm/inheritsLoose\":\n      \"https://ga.jspm.io/npm:@babel/runtime@7.16.5/helpers/esm/inheritsLoose.js\",\n    \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\":\n      \"https://ga.jspm.io/npm:@babel/runtime@7.16.5/helpers/esm/objectWithoutPropertiesLoose.js\",\n    \"dom-helpers/addClass\":\n      \"https://ga.jspm.io/npm:dom-helpers@5.2.0/esm/addClass.js\",\n    \"dom-helpers/removeClass\":\n      \"https://ga.jspm.io/npm:dom-helpers@5.2.0/esm/removeClass.js\",\n    \"object-assign\": \"https://ga.jspm.io/npm:object-assign@4.1.1/index.js\",\n    process:\n      \"https://ga.jspm.io/npm:@jspm/core@2.0.0-beta.13/nodelibs/browser/process-production.js\",\n    \"prop-types\": \"https://ga.jspm.io/npm:prop-types@15.8.0/index.js\",\n    scheduler:\n      \"https://ga.jspm.io/npm:scheduler@0.21.0-rc.0-next-f2a59df48-20211208/index.js\",\n  },\n};\nvar importmap_default = {\n  imports,\n  scopes,\n};\n\n// js/templates.ts\nfunction getCss(session) {\n  const { html } = session;\n  const bodyClass = String(\n    window.document.getElementById(\"zbody\")?.getAttribute(\"class\"),\n  );\n  let css = \"\";\n  const cssRules = window.document.querySelector(\n    \"head > style[data-emotion=css]\",\n  );\n  if (cssRules) {\n    try {\n      const sheet =\n        window.document.querySelector(\"head > style[data-emotion=css]\").sheet;\n      if (sheet) {\n        css = Array.from(sheet.cssRules).map((x) => x.cssText).filter(\n          (cssText) => {\n            const selector = cssText.substring(5, 10);\n            const isSelectorBody = bodyClass.indexOf(selector) !== -1;\n            const isInGeneratedHtml = html.indexOf(selector) !== -1;\n            const isNotMui = cssText.indexOf(\"Mui\") === -1;\n            const shouldInclude = isSelectorBody || isInGeneratedHtml;\n            return shouldInclude;\n          },\n        ).join(\"\\n  \").replace(`#zbody`, \"body\");\n      }\n    } catch (e) {\n      console.error({ e });\n    }\n  }\n  const globalCssRules = window.document.querySelector(\n    \"head > style[data-emotion=css-global]\",\n  );\n  if (globalCssRules) {\n    try {\n      const sheet =\n        window.document.querySelector(\"head > style[data-emotion=css-global]\")\n          .sheet;\n      if (sheet) {\n        css += Array.from(sheet.cssRules).map((x) => x.cssText).join(\"\\n  \")\n          .replace(`#zbody`, \"body\");\n      }\n    } catch (e) {\n      console.error({ e });\n    }\n  }\n  session.css = css;\n}\nfunction getHtml({ html, css }) {\n  const titleStart = html.indexOf(\"<title>\");\n  const titleEnd = html.indexOf(\"</title>\");\n  const hasTitle = titleStart < titleEnd && titleStart >= -1;\n  const title = hasTitle\n    ? html.slice(titleStart, titleEnd)\n    : \"(code).spike.land :)\";\n  return `<!DOCTYPE html>\n<html lang=\"en\"> \n<head profile=\"http://www.w3.org/2005/10/profile\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<meta name=\"Description\" content=\"Generated with spike.land\">\n<title>${title}</title>\n<link rel=\"icon\" type=\"image/png\" href=\"https://code.spike.land/assets/zed-icon-big.png\" />\n<link rel=\"stylesheet\" href=\"https://unpkg.com/modern-css-reset@1.4.0/dist/reset.min.css\" />\n\n<script async src=\"https://ga.jspm.io/npm:es-module-shims@1.4.1/dist/es-module-shims.js\"><\\/script>\n<script type=\"esms-options\">\n{\n  \"shimMode\": true,\n  \"polyfillEnable\": [\"css-modules\", \"json-modules\"],\n  \"nonce\": \"n0nce\"\n}\n<\\/script>\n<style>\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: #000000;\n  color: white;\n  padding: 8px;\n  z-index: 100;\n}\n.skip-link:focus {\n  top: 0;\n}\n${css}</style>\n<script crossorigin src=\"https://unpkg.com/react@18.0.0-rc.0-next-f2a59df48-20211208/umd/react.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/react-is@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-is.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/react-dom@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-dom.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/@emotion/react@11.7.1/dist/emotion-react.umd.min.js\"><\\/script>\n</head>\n<body>\n<a class=\"skip-link\" href=\"#zbody\">Jump to the page</a>\n<main id=\"zbody\">\n  ${html}\n</main>\n<script>window.process = {env: {NODE_ENV:\"production\" }}<\\/script>\n<script type=\"importmap-shim\">\n${\n    JSON.stringify({\n      imports: { ...importmap_default.imports, \"app\": \"./app.js\" },\n    })\n  }\n<\\/script>\n<script type=\"module-shim\">\n  import App from 'app';\n  import {jsx} from \"@emotion/react\"\n  import {createRoot} from \"react-dom\"\n\n  const root = createRoot(document.getElementById('zbody'))\n  root.render(jsx(App));\n<\\/script>\n</body>\n</html>\n`;\n}\nvar getEditorHTML = () =>\n  `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n  <link rel=\"icon\" type=\"image/png\" href=\"https://code.spike.land/assets/zed-icon-big.png\" />\n  \n  <script async src=\"https://ga.jspm.io/npm:es-module-shims@1.4.1/dist/es-module-shims.js\"><\\/script>\n<title>Instant React Editor</title>\n</head>\n<body>\n<script>window.process = {env: {NODE_ENV:\"production\" }}<\\/script>\n<script crossorigin src=\"https://unpkg.com/react@18.0.0-rc.0-next-f2a59df48-20211208/umd/react.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/react-is@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-is.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/react-dom@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-dom.production.min.js\"><\\/script>\n<script crossorigin src=\"https://unpkg.com/@emotion/react@11.7.1/dist/emotion-react.umd.min.js\"><\\/script>\n<script type=\"importmap\">\n${\n    JSON.stringify({\n      imports: { ...importmap_default.imports, \"app\": [\"./app.js\"] },\n    })\n  }\n<\\/script>\n<script type=\"module\">\nimport {edit} from \"https://code.spike.land/js/data.mjs\"\ntry{\n  edit(location.pathname.slice(42, 52));\n}catch(error){\n  fetch(\"https://code.spike.land/error\", {method: \"POST\",  body: JSON.stringify({error})})\n}\n<\\/script>\n</body>\n</html>`;\nexport { getCss, getEditorHTML, getHtml };\n"],
  "mappings": "AACA,GAAI,GAAU,CACZ,mBACE,sEACF,qBACE,kEACF,oBACE,gEACF,QAAS,2DACT,UAAW,8DACX,MAAO,0DACP,YAAa,8DACb,mBACE,yFACF,WAAY,6DACZ,yBACE,mEACF,oBACE,kFACF,gBACE,kEACF,kBACE,oEACF,iBACE,mEACF,iBACE,mEACF,iBACE,mEAEA,EAAS,CACX,sBAAuB,CACrB,mDACE,oFACF,qCACE,sEACF,2CACE,4EACF,0DACE,2FACF,uBACE,2DACF,0BACE,8DACF,gBAAiB,sDACjB,QACE,yFACF,aAAc,oDACd,UACE,kFAGF,EAAoB,CACtB,UACA,UAIF,WAAgB,EAAS,CACvB,GAAM,CAAE,QAAS,EACX,EAAY,OAChB,OAAO,SAAS,eAAe,UAAU,aAAa,UAEpD,EAAM,GAIV,GAHiB,OAAO,SAAS,cAC/B,kCAGA,GAAI,CACF,GAAM,GACJ,OAAO,SAAS,cAAc,kCAAkC,MAClE,AAAI,GACF,GAAM,MAAM,KAAK,EAAM,UAAU,IAAI,AAAC,GAAM,EAAE,SAAS,OACrD,AAAC,GAAY,CACX,GAAM,GAAW,EAAQ,UAAU,EAAG,IAChC,EAAiB,EAAU,QAAQ,KAAc,GACjD,EAAoB,EAAK,QAAQ,KAAc,GAC/C,EAAW,EAAQ,QAAQ,SAAW,GAE5C,MADsB,IAAkB,IAG1C,KAAK;AAAA,KAAQ,QAAQ,SAAU,eAE5B,EAAP,CACA,QAAQ,MAAM,CAAE,MAMpB,GAHuB,OAAO,SAAS,cACrC,yCAGA,GAAI,CACF,GAAM,GACJ,OAAO,SAAS,cAAc,yCAC3B,MACL,AAAI,GACF,IAAO,MAAM,KAAK,EAAM,UAAU,IAAI,AAAC,GAAM,EAAE,SAAS,KAAK;AAAA,KAC1D,QAAQ,SAAU,eAEhB,EAAP,CACA,QAAQ,MAAM,CAAE,MAGpB,EAAQ,IAAM,EAEhB,WAAiB,CAAE,OAAM,OAAO,CAC9B,GAAM,GAAa,EAAK,QAAQ,WAC1B,EAAW,EAAK,QAAQ,YAK9B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHO,AADG,EAAa,GAAY,GAAc,GAEpD,EAAK,MAAM,EAAY,GACvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE;AAAA;AAAA;AAAA;AAAA,EAKA,KAAK,UAAU,CACb,QAAS,IAAK,EAAkB,QAAS,IAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBtD,GAAI,GAAgB,IAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBE,KAAK,UAAU,CACb,QAAS,IAAK,EAAkB,QAAS,IAAO,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
