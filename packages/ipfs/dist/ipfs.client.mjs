var jo=Object.create;var Fe=Object.defineProperty;var zo=Object.getOwnPropertyDescriptor;var Bo=Object.getOwnPropertyNames;var No=Object.getPrototypeOf,Io=Object.prototype.hasOwnProperty;var Nr=r=>Fe(r,"__esModule",{value:!0});var m=(r,e)=>()=>(r&&(e=r(r=0)),e);var l=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),B=(r,e)=>{Nr(r);for(var t in e)Fe(r,t,{get:e[t],enumerable:!0})},Oo=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Bo(e))!Io.call(r,n)&&n!=="default"&&Fe(r,n,{get:()=>e[n],enumerable:!(t=zo(e,n))||t.enumerable});return r},Ue=r=>Oo(Nr(Fe(r!=null?jo(No(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Or=l((cb,Ir)=>{"use strict";var _o=async r=>{let e=[];for await(let t of r)e.push(t);return e};Ir.exports=_o});var Re=l(yt=>{"use strict";var qo=r=>{let{name:e,message:t,stack:n,code:i,detail:s}=r;return{name:e,message:t,stack:n,code:i,detail:s}};yt.encodeError=qo;var Mo=r=>{if(r instanceof Error)return r;{let{name:e,message:t,stack:n,code:i}=r;return Object.assign(Lo(e,t),{name:e,stack:n,code:i})}};yt.decodeError=Mo;var Lo=(r,e)=>{switch(r){case"RangeError":return new RangeError(e);case"ReferenceError":return ReferenceError(e);case"SyntaxError":return new SyntaxError(e);case"TypeError":return new TypeError(e);case"URIError":return new URIError(e);default:return new Error(e)}}});var _r=l(Pe=>{"use strict";Pe.TimeoutError=class extends Error{get name(){return this.constructor.name}};Pe.AbortError=class extends Error{get name(){return this.constructor.name}};Pe.DisconnectError=class extends Error{get name(){return this.constructor.name}}});var Mr=l((db,qr)=>{"use strict";var{decodeError:Fo}=Re(),{DisconnectError:Uo,TimeoutError:Ro,AbortError:Po}=_r();qr.exports=class Ve{constructor(e){this.port=null,this.id=Math.random().toString(32).slice(2),this.nextID=0,this.queries=Object.create(null),e&&this.connect(e)}execute(e){let t=`${this.id}@${this.nextID++}`;return this.queries[t]=e,e.timeout>0&&e.timeout<1/0&&(e.timerID=setTimeout(Ve.timeout,e.timeout,this,t)),e.signal&&e.signal.addEventListener("abort",()=>this.abort(t),{once:!0}),this.port&&Ve.postQuery(this.port,t,e),e.result}connect(e){if(this.port)throw new Error("Transport is already open");this.port=e,this.port.addEventListener("message",this),this.port.start();for(let[t,n]of Object.entries(this.queries))Ve.postQuery(e,t,n)}disconnect(){let e=new Uo;for(let[t,n]of Object.entries(this.queries))n.fail(e),this.abort(t);this.port&&(this.port.removeEventListener("message",this),this.port.close())}static timeout(e,t){let{queries:n}=e,i=n[t];i&&(delete n[t],i.fail(new Ro("request timed out")),e.port&&e.port.postMessage({type:"abort",id:t}))}abort(e){let{queries:t}=this,n=t[e];n&&(delete t[e],n.fail(new Po),this.port&&this.port.postMessage({type:"abort",id:e}),n.timerID!=null&&clearTimeout(n.timerID))}static postQuery(e,t,n){e.postMessage({type:"query",namespace:n.namespace,method:n.method,id:t,input:n.toJSON()},[...new Set(n.transfer()||[])])}handleEvent(e){let{id:t,result:n}=e.data,i=this.queries[t];i&&(delete this.queries[t],n.ok?i.succeed(n.value):i.fail(Fo(n.error)),i.timerID!=null&&clearTimeout(i.timerID))}}});var Fr=l((xb,Lr)=>{"use strict";Lr.exports=class{constructor(e,t,n){this.result=new Promise((i,s)=>{this.succeed=i,this.fail=s,this.signal=n.signal,this.input=n,this.namespace=e,this.method=t,this.timeout=n.timeout==null?1/0:n.timeout,this.timerID=null})}toJSON(){return this.input}transfer(){return this.input.transfer}}});var Rr=l((yb,Ur)=>{"use strict";var Vo=Fr();Ur.exports=class{constructor(e,t,n){this.transport=n;let i=this;for(let s of t)i[s]=o=>this.transport.execute(new Vo(e,s.toString(),o))}}});var Se=l((gb,Pr)=>{"use strict";var $o=Rr();Pr.exports=class{constructor(e,t,n){this.remote=new $o(e,t,n)}}});var $r=l((wb,Vr)=>{"use strict";function Jo(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=r.length,c=r.charAt(0),a=Math.log(o)/Math.log(256),b=Math.log(256)/Math.log(o);function u(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var d=0,w=0,C=0,v=x.length;C!==v&&x[C]===0;)C++,d++;for(var E=(v-C)*b+1>>>0,k=new Uint8Array(E);C!==v;){for(var y=x[C],j=0,T=E-1;(y!==0||j<w)&&T!==-1;T--,j++)y+=256*k[T]>>>0,k[T]=y%o>>>0,y=y/o>>>0;if(y!==0)throw new Error("Non-zero carry");w=j,C++}for(var D=E-w;D!==E&&k[D]===0;)D++;for(var q=c.repeat(d);D<E;++D)q+=r.charAt(k[D]);return q}function g(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var d=0;if(x[d]!==" "){for(var w=0,C=0;x[d]===c;)w++,d++;for(var v=(x.length-d)*a+1>>>0,E=new Uint8Array(v);x[d];){var k=e[x.charCodeAt(d)];if(k===255)return;for(var y=0,j=v-1;(k!==0||y<C)&&j!==-1;j--,y++)k+=o*E[j]>>>0,E[j]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");C=y,d++}if(x[d]!==" "){for(var T=v-C;T!==v&&E[T]===0;)T++;for(var D=new Uint8Array(w+(v-T)),q=w;T!==v;)D[q++]=E[T++];return D}}}function _(x){var d=g(x);if(d)return d;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:g,decode:_}}Vr.exports=Jo});var $e=l((vb,Jr)=>{"use strict";var Ho=new TextDecoder,Wo=r=>Ho.decode(r),Go=new TextEncoder,Qo=r=>Go.encode(r);function Xo(r,e){let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}Jr.exports={decodeText:Wo,encodeText:Qo,concat:Xo}});var Gr=l((Sb,Wr)=>{"use strict";var{encodeText:Ko}=$e(),Hr=class{constructor(e,t,n,i){this.name=e,this.code=t,this.codeBuf=Ko(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Wr.exports=Hr});var Xr=l((Eb,Qr)=>{"use strict";var Zo=(r,e,t)=>{let n={};for(let b=0;b<e.length;++b)n[e[b]]=b;let i=r.length;for(;r[i-1]==="=";)--i;let s=new Uint8Array(i*t/8|0),o=0,c=0,a=0;for(let b=0;b<i;++b){let u=n[r[b]];if(u===void 0)throw new SyntaxError("Invalid character "+r[b]);c=c<<t|u,o+=t,o>=8&&(o-=8,s[a++]=255&c>>o)}if(o>=t||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s},Yo=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,s="",o=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],o+=8;o>t;)o-=t,s+=e[i&c>>o];if(o&&(s+=e[i&c<<t-o]),n)for(;s.length*t&7;)s+="=";return s},ea=r=>e=>({encode(t){return Yo(t,e,r)},decode(t){return Zo(t,e,r)}});Qr.exports={rfc4648:ea}});var en=l((Db,Yr)=>{"use strict";var Ee=$r(),ta=Gr(),{rfc4648:O}=Xr(),{decodeText:ra,encodeText:na}=$e(),ia=()=>({encode:ra,decode:na}),Kr=[["identity","\0",ia,""],["base2","0",O(1),"01"],["base8","7",O(3),"01234567"],["base10","9",Ee,"0123456789"],["base16","f",O(4),"0123456789abcdef"],["base16upper","F",O(4),"0123456789ABCDEF"],["base32hex","v",O(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",O(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",O(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",O(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",O(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",O(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",O(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",O(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",O(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Ee,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Ee,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Ee,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Ee,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",O(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",O(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",O(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",O(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Zr=Kr.reduce((r,e)=>(r[e[0]]=new ta(e[0],e[1],e[2],e[3]),r),{}),sa=Kr.reduce((r,e)=>(r[e[1]]=Zr[e[0]],r),{});Yr.exports={names:Zr,codes:sa}});var mt=l((W,rn)=>{"use strict";var le=en(),{encodeText:oa,decodeText:Je,concat:tn}=$e();function aa(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:n}=ne(r);return ua(t,e),tn([n,e],n.length+e.length)}function ca(r,e){let t=ne(r),n=oa(t.encode(e));return tn([t.codeBuf,n],t.codeBuf.length+n.length)}function ba(r){r instanceof Uint8Array&&(r=Je(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),ne(r[0]).decode(r.substring(1))}function la(r){if(r instanceof Uint8Array&&(r=Je(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return ne(r[0]).name}catch(e){return!1}}function ua(r,e){ne(r).decode(Je(e))}function ne(r){if(Object.prototype.hasOwnProperty.call(le.names,r))return le.names[r];if(Object.prototype.hasOwnProperty.call(le.codes,r))return le.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function fa(r){return r instanceof Uint8Array&&(r=Je(r)),ne(r[0])}W=rn.exports=aa;W.encode=ca;W.decode=ba;W.isEncoded=la;W.encoding=ne;W.encodingFromData=fa;var ha=Object.freeze(le.names),da=Object.freeze(le.codes);W.names=ha;W.codes=da});var an=l((Ab,on)=>{on.exports=sn;var nn=128,pa=127,xa=~pa,ka=Math.pow(2,31);function sn(r,e,t){e=e||[],t=t||0;for(var n=t;r>=ka;)e[t++]=r&255|nn,r/=128;for(;r&xa;)e[t++]=r&255|nn,r>>>=7;return e[t]=r|0,sn.bytes=t-n+1,e}});var ln=l((Tb,bn)=>{bn.exports=gt;var ya=128,cn=127;function gt(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o)throw gt.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&cn)<<n:(s&cn)*Math.pow(2,n),n+=7}while(s>=ya);return gt.bytes=i-e,t}});var fn=l((Cb,un)=>{var ma=Math.pow(2,7),ga=Math.pow(2,14),wa=Math.pow(2,21),va=Math.pow(2,28),Sa=Math.pow(2,35),Ea=Math.pow(2,42),Da=Math.pow(2,49),Aa=Math.pow(2,56),Ta=Math.pow(2,63);un.exports=function(r){return r<ma?1:r<ga?2:r<wa?3:r<va?4:r<Sa?5:r<Ea?6:r<Da?7:r<Aa?8:r<Ta?9:10}});var dn=l((jb,hn)=>{hn.exports={encode:an(),decode:ln(),encodingLength:fn()}});var xn=l((zb,pn)=>{"use strict";var Ca=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});pn.exports={names:Ca}});function ja(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<r.length;i++){var s=r.charAt(i),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=i}var c=r.length,a=r.charAt(0),b=Math.log(c)/Math.log(256),u=Math.log(256)/Math.log(c);function g(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var w=0,C=0,v=0,E=d.length;v!==E&&d[v]===0;)v++,w++;for(var k=(E-v)*u+1>>>0,y=new Uint8Array(k);v!==E;){for(var j=d[v],T=0,D=k-1;(j!==0||T<C)&&D!==-1;D--,T++)j+=256*y[D]>>>0,y[D]=j%c>>>0,j=j/c>>>0;if(j!==0)throw new Error("Non-zero carry");C=T,v++}for(var q=k-C;q!==k&&y[q]===0;)q++;for(var Le=a.repeat(w);q<k;++q)Le+=r.charAt(y[q]);return Le}function _(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var w=0;if(d[w]!==" "){for(var C=0,v=0;d[w]===a;)C++,w++;for(var E=(d.length-w)*b+1>>>0,k=new Uint8Array(E);d[w];){var y=t[d.charCodeAt(w)];if(y===255)return;for(var j=0,T=E-1;(y!==0||j<v)&&T!==-1;T--,j++)y+=c*k[T]>>>0,k[T]=y%256>>>0,y=y/256>>>0;if(y!==0)throw new Error("Non-zero carry");v=j,w++}if(d[w]!==" "){for(var D=E-v;D!==E&&k[D]===0;)D++;for(var q=new Uint8Array(C+(E-D)),Le=C;D!==E;)q[Le++]=k[D++];return q}}}function x(d){var w=_(d);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:_,decode:x}}var za,Ba,kn,yn=m(()=>{za=ja,Ba=za,kn=Ba});var He={};B(He,{coerce:()=>F,empty:()=>mn,equals:()=>wt,fromHex:()=>Ia,fromString:()=>vt,isBinary:()=>Oa,toHex:()=>Na,toString:()=>St});var mn,Na,Ia,wt,F,Oa,vt,St,X=m(()=>{mn=new Uint8Array(0),Na=r=>r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),Ia=r=>{let e=r.match(/../g);return e?new Uint8Array(e.map(t=>parseInt(t,16))):mn},wt=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},F=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Oa=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),vt=r=>new TextEncoder().encode(r),St=r=>new TextDecoder().decode(r)});var gn,wn,We,vn,Ge,K,_a,qa,S,P=m(()=>{yn();X();gn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new We(t)}},We=class{constructor(e){this.decoders=e}or(e){let t=e.decoders||{[e.prefix]:e};return new We({...this.decoders,...t})}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},vn=class{constructor(e,t,n,i){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=i,this.encoder=new gn(e,t,n),this.decoder=new wn(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ge=({name:r,prefix:e,encode:t,decode:n})=>new vn(r,e,t,n),K=({prefix:r,name:e,alphabet:t})=>{let{encode:n,decode:i}=kn(t,e);return Ge({prefix:r,name:e,encode:n,decode:s=>F(i(s))})},_a=(r,e,t,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),c=0,a=0,b=0;for(let u=0;u<s;++u){let g=i[r[u]];if(g===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<t|g,c+=t,c>=8&&(c-=8,o[b++]=255&a>>c)}if(c>=t||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return o},qa=(r,e,t)=>{let n=e[e.length-1]==="=",i=(1<<t)-1,s="",o=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],o+=8;o>t;)o-=t,s+=e[i&c>>o];if(o&&(s+=e[i&c<<t-o]),n)for(;s.length*t&7;)s+="=";return s},S=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Ge({prefix:e,name:r,encode(i){return qa(i,n,t)},decode(i){return _a(i,n,t,r)}})});var Et={};B(Et,{identity:()=>Ma});var Ma,Sn=m(()=>{P();X();Ma=Ge({prefix:"\0",name:"identity",encode:r=>St(r),decode:r=>vt(r)})});var Dt={};B(Dt,{base2:()=>La});var La,En=m(()=>{P();La=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var At={};B(At,{base8:()=>Fa});var Fa,Dn=m(()=>{P();Fa=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var Tt={};B(Tt,{base10:()=>Ua});var Ua,An=m(()=>{P();Ua=K({prefix:"9",name:"base10",alphabet:"0123456789"})});var Ct={};B(Ct,{base16:()=>Ra,base16upper:()=>Pa});var Ra,Pa,Tn=m(()=>{P();Ra=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pa=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var jt={};B(jt,{base32:()=>ue,base32hex:()=>Ha,base32hexpad:()=>Ga,base32hexpadupper:()=>Qa,base32hexupper:()=>Wa,base32pad:()=>$a,base32padupper:()=>Ja,base32upper:()=>Va,base32z:()=>Xa});var ue,Va,$a,Ja,Ha,Wa,Ga,Qa,Xa,zt=m(()=>{P();ue=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Va=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$a=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ja=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ha=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wa=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ga=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qa=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Xa=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Bt={};B(Bt,{base36:()=>Ka,base36upper:()=>Za});var Ka,Za,Cn=m(()=>{P();Ka=K({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Za=K({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var Nt={};B(Nt,{base58btc:()=>V,base58flickr:()=>Ya});var V,Ya,It=m(()=>{P();V=K({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ya=K({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Ot={};B(Ot,{base64:()=>ec,base64pad:()=>tc,base64url:()=>rc,base64urlpad:()=>nc});var ec,tc,rc,nc,jn=m(()=>{P();ec=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tc=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rc=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nc=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});function Bn(r,e,t){e=e||[],t=t||0;for(var n=t;r>=ac;)e[t++]=r&255|zn,r/=128;for(;r&oc;)e[t++]=r&255|zn,r>>>=7;return e[t]=r|0,Bn.bytes=t-n+1,e}function _t(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o)throw _t.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&Nn)<<n:(s&Nn)*Math.pow(2,n),n+=7}while(s>=bc);return _t.bytes=i-e,t}var ic,zn,sc,oc,ac,cc,bc,Nn,lc,uc,fc,hc,dc,pc,xc,kc,yc,mc,gc,wc,De,In=m(()=>{ic=Bn,zn=128,sc=127,oc=~sc,ac=Math.pow(2,31);cc=_t,bc=128,Nn=127;lc=Math.pow(2,7),uc=Math.pow(2,14),fc=Math.pow(2,21),hc=Math.pow(2,28),dc=Math.pow(2,35),pc=Math.pow(2,42),xc=Math.pow(2,49),kc=Math.pow(2,56),yc=Math.pow(2,63),mc=function(r){return r<lc?1:r<uc?2:r<fc?3:r<hc?4:r<dc?5:r<pc?6:r<xc?7:r<kc?8:r<yc?9:10},gc={encode:ic,decode:cc,encodingLength:mc},wc=gc,De=wc});var Qe={};B(Qe,{decode:()=>fe,encodeTo:()=>ie,encodingLength:()=>se});var fe,ie,se,Xe=m(()=>{In();fe=r=>[De.decode(r),De.decode.bytes],ie=(r,e,t=0)=>(De.encode(r,e,t),e),se=r=>De.encodingLength(r)});var Ke={};B(Ke,{Digest:()=>he,create:()=>Ae,decode:()=>qt,equals:()=>Mt});var Ae,qt,Mt,he,Ze=m(()=>{X();Xe();Ae=(r,e)=>{let t=e.byteLength,n=se(r),i=n+se(t),s=new Uint8Array(i+t);return ie(r,s,0),ie(t,s,n),s.set(e,i),new he(r,t,e,s)},qt=r=>{let e=F(r),[t,n]=fe(e),[i,s]=fe(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new he(t,i,o,e)},Mt=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&wt(r.bytes,e.bytes),he=class{constructor(e,t,n,i){this.code=e,this.size=t,this.digest=n,this.bytes=i}}});var Ye={};B(Ye,{Hasher:()=>Lt,from:()=>de});var de,Lt,et=m(()=>{Ze();de=({name:r,code:e,encode:t})=>new Lt(r,e,t),Lt=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return Ae(this.code,t)}else throw Error("Unknown type, must be binary type")}}});var Ft={};B(Ft,{sha256:()=>vc,sha512:()=>Sc});var On,vc,Sc,_n=m(()=>{et();On=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),vc=de({name:"sha2-256",code:18,encode:On("SHA-256")}),Sc=de({name:"sha2-512",code:19,encode:On("SHA-512")})});var Ut={};B(Ut,{identity:()=>Ec});var Ec,qn=m(()=>{et();X();Ec=de({name:"identity",code:0,encode:r=>F(r)})});var Rt={};B(Rt,{code:()=>Ac,decode:()=>Cc,encode:()=>Tc,name:()=>Dc});var Mn,Dc,Ac,Tc,Cc,Ln=m(()=>{X();Mn=r=>F(r),{name:Dc,code:Ac,encode:Tc,decode:Cc}={name:"raw",code:85,decode:Mn,encode:Mn}});var Pt={};B(Pt,{code:()=>zc,decode:()=>Nc,encode:()=>Bc,name:()=>jc});var jc,zc,Bc,Nc,Fn=m(()=>{({name:jc,code:zc,encode:Bc,decode:Nc}={name:"json",code:512,encode:r=>new TextEncoder().encode(JSON.stringify(r)),decode:r=>JSON.parse(new TextDecoder().decode(r))})});var z,Ic,Oc,_c,Te,qc,Un,Rn,tt,rt,Mc,Lc,Fc,Pn=m(()=>{Xe();Ze();It();zt();X();z=class{constructor(e,t,n,i){this.code=t,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:rt,byteLength:rt,code:tt,version:tt,multihash:tt,bytes:tt,_baseCache:rt,asCID:rt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Te)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==qc)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return z.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,n=Ae(e,t);return z.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Mt(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:i}=this;switch(n){case 0:return Oc(t,i,e||V.encoder);default:return _c(t,i,e||ue.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Lc(/^0\.0/,Fc),!!(e&&(e[Rn]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof z)return e;if(e!=null&&e.asCID===e){let{version:t,code:n,multihash:i,bytes:s}=e;return new z(t,n,i,s||Un(t,n,i.bytes))}else if(e!=null&&e[Rn]===!0){let{version:t,multihash:n,code:i}=e,s=qt(n);return z.create(t,i,s)}else return null}static create(e,t,n){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Te)throw new Error(`Version 0 CID must use dag-pb (code: ${Te}) block encoding`);return new z(e,t,n,n.bytes)}case 1:{let i=Un(e,t,n.bytes);return new z(e,t,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return z.create(0,Te,e)}static createV1(e,t){return z.create(1,e,t)}static decode(e){let[t,n]=z.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=z.inspectBytes(e),n=t.size-t.multihashSize,i=F(e.subarray(n,n+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=i.subarray(t.multihashSize-t.digestSize),o=new he(t.multihashCode,t.digestSize,s,i);return[t.version===0?z.createV0(o):z.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,n=()=>{let[g,_]=fe(e.subarray(t));return t+=_,g},i=n(),s=Te;if(i===18?(i=0,t=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=t,c=n(),a=n(),b=t+a,u=b-o;return{version:i,codec:s,multihashCode:c,digestSize:a,multihashSize:u,size:b}}static parse(e,t){let[n,i]=Ic(e,t),s=z.decode(i);return s._baseCache.set(n,e),s}},Ic=(r,e)=>{switch(r[0]){case"Q":{let t=e||V;return[V.prefix,t.decode(`${V.prefix}${r}`)]}case V.prefix:{let t=e||V;return[V.prefix,t.decode(r)]}case ue.prefix:{let t=e||ue;return[ue.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},Oc=(r,e,t)=>{let{prefix:n}=t;if(n!==V.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let i=e.get(n);if(i==null){let s=t.encode(r).slice(1);return e.set(n,s),s}else return i},_c=(r,e,t)=>{let{prefix:n}=t,i=e.get(n);if(i==null){let s=t.encode(r);return e.set(n,s),s}else return i},Te=112,qc=18,Un=(r,e,t)=>{let n=se(r),i=n+se(e),s=new Uint8Array(i+t.byteLength);return ie(r,s,0),ie(e,s,n),s.set(t,i),s},Rn=Symbol.for("@ipld/js-cid/CID"),tt={writable:!1,configurable:!1,enumerable:!0},rt={writable:!1,enumerable:!1,configurable:!1},Mc="0.0.0-dev",Lc=(r,e)=>{if(r.test(Mc))console.warn(e);else throw new Error(e)},Fc=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Vn=m(()=>{Pn();Xe();X();et();Ze()});var $n={};B($n,{CID:()=>z,bases:()=>Uc,bytes:()=>He,codecs:()=>Pc,digest:()=>Ke,hasher:()=>Ye,hashes:()=>Rc,varint:()=>Qe});var Uc,Rc,Pc,Jn=m(()=>{Sn();En();Dn();An();Tn();zt();Cn();It();jn();_n();qn();Ln();Fn();Vn();Uc={...Et,...Dt,...At,...Tt,...Ct,...jt,...Bt,...Nt,...Ot},Rc={...Ft,...Ut},Pc={raw:Rt,json:Pt}});var $t=l((bl,Qn)=>{"use strict";var{bases:Hn}=(Jn(),$n);function Wn(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}var Gn=Wn("utf8","u",r=>{let e=new TextDecoder("utf8");return"u"+e.decode(r)},r=>new TextEncoder().encode(r.substring(1))),Vt=Wn("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Vc={utf8:Gn,"utf-8":Gn,hex:Hn.base16,latin1:Vt,ascii:Vt,binary:Vt,...Hn};Qn.exports=Vc});var Ce=l((ll,Xn)=>{"use strict";var $c=$t();function Jc(r,e="utf8"){let t=$c[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.encoder.encode(r).substring(1)}Xn.exports=Jc});var nt=l((ul,Kn)=>{"use strict";var Hc=$t();function Wc(r,e="utf8"){let t=Hc[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return t.decoder.decode(`${t.prefix}${r}`)}Kn.exports=Wc});var je=l((fl,Zn)=>{"use strict";function Gc(r,e){e||(e=r.reduce((i,s)=>i+s.length,0));let t=new Uint8Array(e),n=0;for(let i of r)t.set(i,n),n+=i.length;return t}Zn.exports=Gc});var Ht=l((hl,ii)=>{"use strict";var Yn=mt(),pe=dn(),{names:ze}=xn(),it=Ce(),Qc=nt(),Xc=je(),xe={};for(let r in ze){let e=r;xe[ze[e]]=e}Object.freeze(xe);function Kc(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return it(r,"base16")}function Zc(r){return Qc(r,"base16")}function Yc(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return it(Yn.encode("base58btc",r)).slice(1)}function e0(r){let e=r instanceof Uint8Array?it(r):r;return Yn.decode("z"+e)}function ei(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=pe.decode(r);if(!ri(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(pe.decode.bytes);let t=pe.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(pe.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${it(r,"base16")}`);return{code:e,name:xe[e],length:t,digest:r}}function t0(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let n=ti(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let i=pe.encode(n),s=pe.encode(t);return Xc([i,s,r],i.length+s.length+r.length)}function ti(r){let e=r;if(typeof r=="string"){if(ze[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=ze[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(xe[e]===void 0&&!Jt(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Jt(r){return r>0&&r<16}function ri(r){return!!(Jt(r)||xe[r])}function ni(r){ei(r)}function r0(r){return ni(r),r.subarray(0,2)}ii.exports={names:ze,codes:xe,toHexString:Kc,fromHexString:Zc,toB58String:Yc,fromB58String:e0,decode:ei,encode:t0,coerceCode:ti,isAppCode:Jt,validate:ni,prefix:r0,isValidCode:ri}});var ai=l((dl,oi)=>{oi.exports=Wt;var si=128,n0=127,i0=~n0,s0=Math.pow(2,31);function Wt(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Wt.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var n=t;r>=s0;)e[t++]=r&255|si,r/=128;for(;r&i0;)e[t++]=r&255|si,r>>>=7;return e[t]=r|0,Wt.bytes=t-n+1,e}});var li=l((pl,bi)=>{bi.exports=Gt;var o0=128,ci=127;function Gt(r,e){var t=0,e=e||0,n=0,i=e,s,o=r.length;do{if(i>=o||n>49)throw Gt.bytes=0,new RangeError("Could not decode varint");s=r[i++],t+=n<28?(s&ci)<<n:(s&ci)*Math.pow(2,n),n+=7}while(s>=o0);return Gt.bytes=i-e,t}});var fi=l((xl,ui)=>{var a0=Math.pow(2,7),c0=Math.pow(2,14),b0=Math.pow(2,21),l0=Math.pow(2,28),u0=Math.pow(2,35),f0=Math.pow(2,42),h0=Math.pow(2,49),d0=Math.pow(2,56),p0=Math.pow(2,63);ui.exports=function(r){return r<a0?1:r<c0?2:r<b0?3:r<l0?4:r<u0?5:r<f0?6:r<h0?7:r<d0?8:r<p0?9:10}});var Qt=l((kl,hi)=>{hi.exports={encode:ai(),decode:li(),encodingLength:fi()}});var Xt=l((yl,xi)=>{"use strict";var di=Qt(),x0=Ce(),k0=nt();xi.exports={numberToUint8Array:y0,uint8ArrayToNumber:pi,varintUint8ArrayEncode:m0,varintEncode:g0};function pi(r){return parseInt(x0(r,"base16"),16)}function y0(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),k0(e,"base16")}function m0(r){return Uint8Array.from(di.encode(pi(r)))}function g0(r){return Uint8Array.from(di.encode(r))}});var yi=l((ml,ki)=>{"use strict";var w0=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});ki.exports={baseTable:w0}});var gi=l((gl,mi)=>{"use strict";var{baseTable:Kt}=yi(),v0=Xt().varintEncode,Zt={},Yt={},st={};for(let r in Kt){let e=r,t=Kt[e];Zt[e]=v0(t);let n=e.toUpperCase().replace(/-/g,"_");Yt[n]=t,st[t]||(st[t]=e)}Object.freeze(Zt);Object.freeze(Yt);Object.freeze(st);var S0=Object.freeze(Kt);mi.exports={nameToVarint:Zt,constantToCode:Yt,nameToCode:S0,codeToName:st}});var zi=l((wl,ji)=>{"use strict";var ot=Qt(),E0=je(),wi=Xt(),{nameToVarint:at,constantToCode:D0,nameToCode:vi,codeToName:er}=gi();function A0(r,e){let t;if(r instanceof Uint8Array)t=wi.varintUint8ArrayEncode(r);else if(at[r])t=at[r];else throw new Error("multicodec not recognized");return E0([t,e],t.length+e.length)}function T0(r){return ot.decode(r),r.slice(ot.decode.bytes)}function Si(r){let e=ot.decode(r),t=er[e];if(t===void 0)throw new Error(`Code "${e}" not found`);return t}function Ei(r){return er[r]}function Di(r){let e=vi[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function Ai(r){return ot.decode(r)}function Ti(r){let e=at[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function Ci(r){return wi.varintEncode(r)}function C0(r){return Si(r)}function j0(r){return Ei(r)}function z0(r){return Di(r)}function B0(r){return Ai(r)}function N0(r){return Ti(r)}function I0(r){return Array.from(Ci(r))}ji.exports={addPrefix:A0,rmPrefix:T0,getNameFromData:Si,getNameFromCode:Ei,getCodeFromName:Di,getCodeFromData:Ai,getVarintFromName:Ti,getVarintFromCode:Ci,getCodec:C0,getName:j0,getNumber:z0,getCode:B0,getCodeVarint:N0,getVarint:I0,...D0,nameToVarint:at,nameToCode:vi,codeToName:er}});var Ni=l((vl,Bi)=>{"use strict";var O0=Ht(),_0={checkCIDComponents:function(r){if(r==null)return"null values are not valid CIDs";if(!(r.version===0||r.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof r.codec!="string")return"codec must be string";if(r.version===0){if(r.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(r.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(r.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{O0.validate(r.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};Bi.exports=_0});var tr=l((Sl,Ii)=>{"use strict";function q0(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}Ii.exports=q0});var Z=l((El,qi)=>{"use strict";var ct=Ht(),rr=mt(),oe=zi(),M0=Ni(),Oi=je(),L0=Ce(),F0=tr(),bt=oe.nameToCode,U0=Object.keys(bt).reduce((r,e)=>(r[bt[e]]=e,r),{}),_i=Symbol.for("@ipld/js-cid/CID"),U=class{constructor(e,t,n,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,_i,{value:!0}),U.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=rr.isEncoded(e);if(s){let o=rr.decode(e);this.version=parseInt(o[0].toString(),16),this.codec=oe.getCodec(o.slice(1)),this.multihash=oe.rmPrefix(o.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=ct.fromB58String(e),this.multibaseName="base58btc";U.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let o=e;this.version=s,this.codec=oe.getCodec(o.slice(1)),this.multihash=oe.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";U.validateCID(this);return}this.version=e,typeof t=="number"&&(t=U0[t]),this.codec=t,this.multihash=n,this.multibaseName=i||(e===0?"base58btc":"base32"),U.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let t=oe.getCodeVarint(this.codec);e=Oi([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=oe.getCodeVarint(this.codec),t=ct.prefix(this.multihash);return Oi([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return bt[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:t}=ct.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new U(0,this.codec,this.multihash)}toV1(){return new U(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=ct.toB58String(this.multihash)}else if(this.version===1)t=L0(rr.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&F0(this.multihash,e.multihash)}static validateCID(e){let t=M0.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof U||Boolean(e&&e[_i])}};U.codecs=bt;qi.exports=U});var ae=l(nr=>{"use strict";var R0=Z(),P0=(r,e)=>(e&&e.push(r.multihash.buffer),r);nr.encodeCID=P0;var V0=r=>{let e=r;return Object.setPrototypeOf(e.multihash,Uint8Array.prototype),Object.setPrototypeOf(e,R0.prototype),Object.defineProperty(e,Symbol.for("@ipld/js-cid/CID"),{value:!0}),e};nr.decodeCID=V0});var Mi=l((Al,$0)=>{$0.exports={name:"ipld-block",version:"0.11.1",description:"JavaScript Implementation of IPLD Block",leadMaintainer:"Volker Mische <volker.mische@gmail.com>",main:"src/index.js",types:"dist/src/index.d.ts",scripts:{lint:"aegir lint",check:"tsc --noEmit --noErrorTruncation",test:"aegir test","test:node":"aegir test --target node","test:browser":"aegir test --target browser",release:"aegir release --docs","release-minor":"aegir release --type minor --docs","release-major":"aegir release --type major --docs",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",prepare:"aegir build --no-bundle",prepublishOnly:"aegir build"},"pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},keywords:["IPLD"],license:"MIT",bugs:{url:"https://github.com/ipld/js-ipld-block/issues"},homepage:"https://github.com/ipld/js-ipld-block#readme",devDependencies:{aegir:"^31.0.4",uint8arrays:"^2.1.3"},dependencies:{cids:"^1.0.0"},engines:{node:">=6.0.0",npm:">=3.0.0"},contributors:["David Dias <daviddias.p@gmail.com>","Volker Mische <volker.mische@gmail.com>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Irakli Gozalishvili <contact@gozala.io>","achingbrain <alex@achingbrain.net>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Alan Shaw <alan.shaw@protocol.ai>","Charlie <the_charlie_daly@hotmail.co.uk>","Diogo Silva <fsdiogo@gmail.com>","Hugo Dias <hugomrdias@gmail.com>","Mikeal Rogers <mikeal.rogers@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","Richard Schneider <makaretu@gmail.com>","Xmader <xmader@outlook.com>"]}});var Vi=l((Tl,Pi)=>{"use strict";var J0=Z(),{version:H0}=Mi(),Li=Symbol.for("@ipld/js-ipld-block/block"),Fi={writable:!1,configurable:!1,enumerable:!0},Ui=class{constructor(e,t){if(!e||!(e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!t||!J0.isCID(t))throw new Error("second argument must be a CID");this.data=e,this.cid=t,Object.defineProperties(this,{data:Fi,cid:Fi})}get _data(){return G0(),this.data}get _cid(){return W0(),this.cid}get[Symbol.toStringTag](){return"Block"}get[Li](){return!0}static isBlock(e){return Boolean(e&&e[Li])}},Ri=(r,e)=>{let t=!1;return()=>{if(r.test(H0))t||(t=!0,console.warn(e));else throw new Error(e)}},W0=Ri(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),G0=Ri(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");Pi.exports=Ui});var Ji=l(lt=>{"use strict";var{encodeCID:Q0,decodeCID:X0}=ae(),$i=Vi(),K0=({cid:r,data:e},t)=>(t&&t.push(e.buffer),{cid:Q0(r,t),data:e});lt.encodeBlock=K0;var Z0=({cid:r,data:e})=>new $i(e,X0(r));lt.decodeBlock=Z0;lt.Block=$i});var Qi=l((jl,Gi)=>{"use strict";var Y0=Se(),{encodeCID:Be,decodeCID:Hi}=ae(),{decodeError:e2}=Re(),{encodeBlock:t2,decodeBlock:Wi}=Ji(),Ne=Z(),ke=class extends Y0{constructor(e){super("block",["put","get","rm","stat"],e)}};ke.prototype.get=async function(e,t={}){let{transfer:n}=t,{block:i}=await this.remote.get({...t,cid:Be(new Ne(e),n)});return Wi(i)};ke.prototype.put=async function(e,t={}){let{transfer:n}=t;delete t.progress;let i=await this.remote.put({...t,cid:t.cid==null?void 0:Be(new Ne(t.cid),n),block:e instanceof Uint8Array?e:t2(e,n)});return Wi(i.block)};ke.prototype.rm=async function*(e,t={}){let{transfer:n}=t;yield*(await this.remote.rm({...t,cids:Array.isArray(e)?e.map(s=>Be(new Ne(s),n)):[Be(new Ne(e),n)]})).map(r2)};ke.prototype.stat=async function(e,t={}){let{transfer:n}=t,i=await this.remote.stat({...t,cid:Be(new Ne(e),n)});return{...i,cid:Hi(i.cid)}};var r2=r=>{let e=Hi(r.cid);return r.error?{cid:e,error:e2(r.error)}:{cid:e}};Gi.exports=ke});var Xi=l(sr=>{"use strict";var n2=Z(),{encodeCID:i2,decodeCID:s2}=ae(),o2=({dagNode:r,cids:e})=>{for(let t of e)s2(t);return r};sr.decodeNode=o2;var a2=(r,e)=>{let t=[];return ir(r,t,e),{dagNode:r,cids:t}};sr.encodeNode=a2;var ir=(r,e,t)=>{if(r!=null&&typeof r=="object")if(n2.isCID(r))e.push(r),i2(r,t);else if(r instanceof ArrayBuffer)t&&t.push(r);else if(ArrayBuffer.isView(r))t&&t.push(r.buffer);else if(Array.isArray(r))for(let n of r)ir(n,e,t);else for(let n of Object.values(r))ir(n,e,t)}});var Yi=l((Bl,Zi)=>{"use strict";var c2=Se(),{encodeCID:ut,decodeCID:Ki}=ae(),{encodeNode:b2,decodeNode:l2}=Xi(),ye=class extends c2{constructor(e){super("dag",["put","get","resolve","tree"],e)}};ye.prototype.put=async function(e,t={}){let{cid:n}=t,i=await this.remote.put({...t,encodedCid:n!=null?ut(n):void 0,dagNode:b2(e,t.transfer)});return Ki(i)};ye.prototype.get=async function(e,t={}){let{value:n,remainderPath:i}=await this.remote.get({...t,cid:ut(e,t.transfer)});return{value:l2(n),remainderPath:i}};ye.prototype.resolve=async function(e,t={}){let{cid:n,remainderPath:i}=await this.remote.resolve({...t,cid:u2(e,t.transfer)});return{cid:Ki(n),remainderPath:i}};ye.prototype.tree=async function*(e,t={}){yield*await this.remote.tree({...t,cid:ut(e,t.transfer)})};var u2=(r,e)=>typeof r=="string"?r:ut(r,e);Zi.exports=ye});var es=l(Ie=>{"use strict";var{encodeError:f2,decodeError:h2}=Re(),d2=async function*({port:r},e){let t=o=>{},n=()=>new Promise(o=>t=o),i=()=>(r.postMessage({method:"next"}),n());r.onmessage=o=>t(o.data);let s=!1;try{for(;!s;){let{done:o,value:c,error:a}=await i();if(s=o,a!=null)throw h2(a);c!=null&&(yield e(c))}}finally{s||r.postMessage({method:"return"}),r.close()}};Ie.decodeIterable=d2;var p2=(r,e,t)=>{let{port1:n,port2:i}=new MessageChannel,s=[],o=x2(r);return n.onmessage=async({data:{method:c}})=>{switch(c){case"next":{try{let{done:a,value:b}=await o.next();a?(n.postMessage({type:"next",done:!0}),n.close()):(s.length=0,n.postMessage({type:"next",done:!1,value:e(b,s)},s))}catch(a){n.postMessage({type:"throw",error:f2(a)}),n.close()}break}case"return":{n.close(),o.return&&o.return();break}default:break}},n.start(),t.push(i),{type:"RemoteIterable",port:i}};Ie.encodeIterable=p2;var x2=r=>{if(r!=null){if(typeof r[Symbol.asyncIterator]=="function")return r[Symbol.asyncIterator]();if(typeof r[Symbol.iterator]=="function")return r[Symbol.iterator]()}throw TypeError("Value must be async or sync iterable")},k2=(r,e)=>{let{port1:t,port2:n}=new MessageChannel;return t.onmessage=({data:i})=>r.apply(null,i),e.push(n),{type:"RemoteCallback",port:n}};Ie.encodeCallback=k2;var y2=({port:r})=>(t,n=[])=>{r.postMessage(t,[...new Set(n)])};Ie.decodeCallback=y2});var rs=l((Il,ts)=>{"use strict";async function*m2(r,e={}){let t=r.getReader();try{for(;;){let n=await t.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}ts.exports=m2});var is=l((Ol,ns)=>{"use strict";ns.exports=g2;function g2(r,e){for(var t=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)t[n++]=arguments[i++];return new Promise(function(c,a){t[n]=function(u){if(s)if(s=!1,u)a(u);else{for(var g=new Array(arguments.length-1),_=0;_<g.length;)g[_++]=arguments[_];c.apply(null,g)}};try{r.apply(e||null,t)}catch(b){s&&(s=!1,a(b))}})}});var cs=l(as=>{"use strict";var ft=as;ft.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&e.charAt(t)==="=";)++n;return Math.ceil(e.length*3)/4-n};var me=new Array(64),ss=new Array(123);for(var $=0;$<64;)ss[me[$]=$<26?$+65:$<52?$+71:$<62?$-4:$-59|43]=$++;ft.encode=function(e,t,n){for(var i=null,s=[],o=0,c=0,a;t<n;){var b=e[t++];switch(c){case 0:s[o++]=me[b>>2],a=(b&3)<<4,c=1;break;case 1:s[o++]=me[a|b>>4],a=(b&15)<<2,c=2;break;case 2:s[o++]=me[a|b>>6],s[o++]=me[b&63],c=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return c&&(s[o++]=me[a],s[o++]=61,c===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var os="invalid encoding";ft.decode=function(e,t,n){for(var i=n,s=0,o,c=0;c<e.length;){var a=e.charCodeAt(c++);if(a===61&&s>1)break;if((a=ss[a])===void 0)throw Error(os);switch(s){case 0:o=a,s=1;break;case 1:t[n++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:t[n++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:t[n++]=(o&3)<<6|a,s=0;break}}if(s===1)throw Error(os);return n-i};ft.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var ls=l((ql,bs)=>{"use strict";bs.exports=ht;function ht(){this._listeners={}}ht.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this};ht.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this};ht.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}});var ks=l((Ml,xs)=>{"use strict";xs.exports=us(us);function us(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),n=t[3]===128;function i(a,b,u){e[0]=a,b[u]=t[0],b[u+1]=t[1],b[u+2]=t[2],b[u+3]=t[3]}function s(a,b,u){e[0]=a,b[u]=t[3],b[u+1]=t[2],b[u+2]=t[1],b[u+3]=t[0]}r.writeFloatLE=n?i:s,r.writeFloatBE=n?s:i;function o(a,b){return t[0]=a[b],t[1]=a[b+1],t[2]=a[b+2],t[3]=a[b+3],e[0]}function c(a,b){return t[3]=a[b],t[2]=a[b+1],t[1]=a[b+2],t[0]=a[b+3],e[0]}r.readFloatLE=n?o:c,r.readFloatBE=n?c:o}():function(){function e(n,i,s,o){var c=i<0?1:0;if(c&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((c<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((c<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var a=Math.floor(Math.log(i)/Math.LN2),b=Math.round(i*Math.pow(2,-a)*8388608)&8388607;n((c<<31|a+127<<23|b)>>>0,s,o)}}r.writeFloatLE=e.bind(null,fs),r.writeFloatBE=e.bind(null,hs);function t(n,i,s){var o=n(i,s),c=(o>>31)*2+1,a=o>>>23&255,b=o&8388607;return a===255?b?NaN:c*(1/0):a===0?c*1401298464324817e-60*b:c*Math.pow(2,a-150)*(b+8388608)}r.readFloatLE=t.bind(null,ds),r.readFloatBE=t.bind(null,ps)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),n=t[7]===128;function i(a,b,u){e[0]=a,b[u]=t[0],b[u+1]=t[1],b[u+2]=t[2],b[u+3]=t[3],b[u+4]=t[4],b[u+5]=t[5],b[u+6]=t[6],b[u+7]=t[7]}function s(a,b,u){e[0]=a,b[u]=t[7],b[u+1]=t[6],b[u+2]=t[5],b[u+3]=t[4],b[u+4]=t[3],b[u+5]=t[2],b[u+6]=t[1],b[u+7]=t[0]}r.writeDoubleLE=n?i:s,r.writeDoubleBE=n?s:i;function o(a,b){return t[0]=a[b],t[1]=a[b+1],t[2]=a[b+2],t[3]=a[b+3],t[4]=a[b+4],t[5]=a[b+5],t[6]=a[b+6],t[7]=a[b+7],e[0]}function c(a,b){return t[7]=a[b],t[6]=a[b+1],t[5]=a[b+2],t[4]=a[b+3],t[3]=a[b+4],t[2]=a[b+5],t[1]=a[b+6],t[0]=a[b+7],e[0]}r.readDoubleLE=n?o:c,r.readDoubleBE=n?c:o}():function(){function e(n,i,s,o,c,a){var b=o<0?1:0;if(b&&(o=-o),o===0)n(0,c,a+i),n(1/o>0?0:2147483648,c,a+s);else if(isNaN(o))n(0,c,a+i),n(2146959360,c,a+s);else if(o>17976931348623157e292)n(0,c,a+i),n((b<<31|2146435072)>>>0,c,a+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,n(u>>>0,c,a+i),n((b<<31|u/4294967296)>>>0,c,a+s);else{var g=Math.floor(Math.log(o)/Math.LN2);g===1024&&(g=1023),u=o*Math.pow(2,-g),n(u*4503599627370496>>>0,c,a+i),n((b<<31|g+1023<<20|u*1048576&1048575)>>>0,c,a+s)}}}r.writeDoubleLE=e.bind(null,fs,0,4),r.writeDoubleBE=e.bind(null,hs,4,0);function t(n,i,s,o,c){var a=n(o,c+i),b=n(o,c+s),u=(b>>31)*2+1,g=b>>>20&2047,_=4294967296*(b&1048575)+a;return g===2047?_?NaN:u*(1/0):g===0?u*5e-324*_:u*Math.pow(2,g-1075)*(_+4503599627370496)}r.readDoubleLE=t.bind(null,ds,0,4),r.readDoubleBE=t.bind(null,ps,4,0)}(),r}function fs(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function hs(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function ds(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function ps(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var ys=l((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var gs=l(ms=>{"use strict";var or=ms;or.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,t+=4):t+=3;return t};or.read=function(e,t,n){var i=n-t;if(i<1)return"";for(var s=null,o=[],c=0,a;t<n;)a=e[t++],a<128?o[c++]=a:a>191&&a<224?o[c++]=(a&31)<<6|e[t++]&63:a>239&&a<365?(a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[c++]=55296+(a>>10),o[c++]=56320+(a&1023)):o[c++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63,c>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),c=0);return s?(c&&s.push(String.fromCharCode.apply(String,o.slice(0,c))),s.join("")):String.fromCharCode.apply(String,o.slice(0,c))};or.write=function(e,t,n){for(var i=n,s,o,c=0;c<e.length;++c)s=e.charCodeAt(c),s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(c+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++c,t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128);return n-i}});var vs=l((Fl,ws)=>{"use strict";ws.exports=w2;function w2(r,e,t){var n=t||8192,i=n>>>1,s=null,o=n;return function(a){if(a<1||a>i)return r(a);o+a>n&&(s=r(n),o=0);var b=e.call(s,o,o+=a);return o&7&&(o=(o|7)+1),b}}});var Es=l((Ul,Ss)=>{"use strict";Ss.exports=N;var Oe=ee();function N(r,e){this.lo=r>>>0,this.hi=e>>>0}var ce=N.zero=new N(0,0);ce.toNumber=function(){return 0};ce.zzEncode=ce.zzDecode=function(){return this};ce.length=function(){return 1};var v2=N.zeroHash="\0\0\0\0\0\0\0\0";N.fromNumber=function(e){if(e===0)return ce;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new N(n,i)};N.from=function(e){if(typeof e=="number")return N.fromNumber(e);if(Oe.isString(e))if(Oe.Long)e=Oe.Long.fromString(e);else return N.fromNumber(parseInt(e,10));return e.low||e.high?new N(e.low>>>0,e.high>>>0):ce};N.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+n*4294967296)}return this.lo+this.hi*4294967296};N.prototype.toLong=function(e){return Oe.Long?new Oe.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Y=String.prototype.charCodeAt;N.fromHash=function(e){return e===v2?ce:new N((Y.call(e,0)|Y.call(e,1)<<8|Y.call(e,2)<<16|Y.call(e,3)<<24)>>>0,(Y.call(e,4)|Y.call(e,5)<<8|Y.call(e,6)<<16|Y.call(e,7)<<24)>>>0)};N.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};N.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};N.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};N.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}});var ee=l(ar=>{"use strict";var f=ar;f.asPromise=is();f.base64=cs();f.EventEmitter=ls();f.float=ks();f.inquire=ys();f.utf8=gs();f.pool=vs();f.LongBits=Es();f.isNode=Boolean(typeof global!="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);f.global=f.isNode&&global||typeof window!="undefined"&&window||typeof self!="undefined"&&self||ar;f.emptyArray=Object.freeze?Object.freeze([]):[];f.emptyObject=Object.freeze?Object.freeze({}):{};f.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};f.isString=function(e){return typeof e=="string"||e instanceof String};f.isObject=function(e){return e&&typeof e=="object"};f.isset=f.isSet=function(e,t){var n=e[t];return n!=null&&e.hasOwnProperty(t)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};f.Buffer=function(){try{var r=f.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();f._Buffer_from=null;f._Buffer_allocUnsafe=null;f.newBuffer=function(e){return typeof e=="number"?f.Buffer?f._Buffer_allocUnsafe(e):new f.Array(e):f.Buffer?f._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};f.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;f.Long=f.global.dcodeIO&&f.global.dcodeIO.Long||f.global.Long||f.inquire("long");f.key2Re=/^true|false|0|1$/;f.key32Re=/^-?(?:0|[1-9][0-9]*)$/;f.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;f.longToHash=function(e){return e?f.LongBits.from(e).toHash():f.LongBits.zeroHash};f.longFromHash=function(e,t){var n=f.LongBits.fromHash(e);return f.Long?f.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))};function Ds(r,e,t){for(var n=Object.keys(e),i=0;i<n.length;++i)(r[n[i]]===void 0||!t)&&(r[n[i]]=e[n[i]]);return r}f.merge=Ds;f.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function As(r){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Ds(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}f.newError=As;f.ProtocolError=As("ProtocolError");f.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(t[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};f.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}};f.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};f._configure=function(){var r=f.Buffer;if(!r){f._Buffer_from=f._Buffer_allocUnsafe=null;return}f._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,n){return new r(t,n)},f._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var dr=l((Pl,zs)=>{"use strict";zs.exports=p;var L=ee(),cr,dt=L.LongBits,Ts=L.base64,Cs=L.utf8;function _e(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function br(){}function S2(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function p(){this.len=0,this.head=new _e(br,0,0),this.tail=this.head,this.states=null}var js=function(){return L.Buffer?function(){return(p.create=function(){return new cr})()}:function(){return new p}};p.create=js();p.alloc=function(e){return new L.Array(e)};L.Array!==Array&&(p.alloc=L.pool(p.alloc,L.Array.prototype.subarray));p.prototype._push=function(e,t,n){return this.tail=this.tail.next=new _e(e,t,n),this.len+=t,this};function lr(r,e,t){e[t]=r&255}function E2(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function ur(r,e){this.len=r,this.next=void 0,this.val=e}ur.prototype=Object.create(_e.prototype);ur.prototype.fn=E2;p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ur((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};p.prototype.int32=function(e){return e<0?this._push(fr,10,dt.fromNumber(e)):this.uint32(e)};p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function fr(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}p.prototype.uint64=function(e){var t=dt.from(e);return this._push(fr,t.length(),t)};p.prototype.int64=p.prototype.uint64;p.prototype.sint64=function(e){var t=dt.from(e).zzEncode();return this._push(fr,t.length(),t)};p.prototype.bool=function(e){return this._push(lr,1,e?1:0)};function hr(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}p.prototype.fixed32=function(e){return this._push(hr,4,e>>>0)};p.prototype.sfixed32=p.prototype.fixed32;p.prototype.fixed64=function(e){var t=dt.from(e);return this._push(hr,4,t.lo)._push(hr,4,t.hi)};p.prototype.sfixed64=p.prototype.fixed64;p.prototype.float=function(e){return this._push(L.float.writeFloatLE,4,e)};p.prototype.double=function(e){return this._push(L.float.writeDoubleLE,8,e)};var D2=L.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};p.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(lr,1,0);if(L.isString(e)){var n=p.alloc(t=Ts.length(e));Ts.decode(e,n,0),e=n}return this.uint32(t)._push(D2,t,e)};p.prototype.string=function(e){var t=Cs.length(e);return t?this.uint32(t)._push(Cs.write,t,e):this._push(lr,1,0)};p.prototype.fork=function(){return this.states=new S2(this),this.head=this.tail=new _e(br,0,0),this.len=0,this};p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _e(br,0,0),this.len=0),this};p.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this};p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t};p._configure=function(r){cr=r,p.create=js(),cr._configure()}});var Is=l((Vl,Ns)=>{"use strict";Ns.exports=J;var Bs=dr();(J.prototype=Object.create(Bs.prototype)).constructor=J;var te=ee();function J(){Bs.call(this)}J._configure=function(){J.alloc=te._Buffer_allocUnsafe,J.writeBytesBuffer=te.Buffer&&te.Buffer.prototype instanceof Uint8Array&&te.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}};J.prototype.bytes=function(e){te.isString(e)&&(e=te._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(J.writeBytesBuffer,t,e),this};function A2(r,e,t){r.length<40?te.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}J.prototype.string=function(e){var t=te.Buffer.byteLength(e);return this.uint32(t),t&&this._push(A2,t,e),this};J._configure()});var kr=l(($l,Ls)=>{"use strict";Ls.exports=A;var H=ee(),pr,Os=H.LongBits,T2=H.utf8;function R(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function A(r){this.buf=r,this.pos=0,this.len=r.length}var _s=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new A(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new A(e);throw Error("illegal buffer")},qs=function(){return H.Buffer?function(t){return(A.create=function(i){return H.Buffer.isBuffer(i)?new pr(i):_s(i)})(t)}:_s};A.create=qs();A.prototype._slice=H.Array.prototype.subarray||H.Array.prototype.slice;A.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,R(this,10);return e}}();A.prototype.int32=function(){return this.uint32()|0};A.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function xr(){var r=new Os(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw R(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw R(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}A.prototype.bool=function(){return this.uint32()!==0};function pt(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}A.prototype.fixed32=function(){if(this.pos+4>this.len)throw R(this,4);return pt(this.buf,this.pos+=4)};A.prototype.sfixed32=function(){if(this.pos+4>this.len)throw R(this,4);return pt(this.buf,this.pos+=4)|0};function Ms(){if(this.pos+8>this.len)throw R(this,8);return new Os(pt(this.buf,this.pos+=4),pt(this.buf,this.pos+=4))}A.prototype.float=function(){if(this.pos+4>this.len)throw R(this,4);var e=H.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};A.prototype.double=function(){if(this.pos+8>this.len)throw R(this,4);var e=H.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};A.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw R(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)};A.prototype.string=function(){var e=this.bytes();return T2.read(e,0,e.length)};A.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw R(this,e);this.pos+=e}else do if(this.pos>=this.len)throw R(this);while(this.buf[this.pos++]&128);return this};A.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};A._configure=function(r){pr=r,A.create=qs(),pr._configure();var e=H.Long?"toLong":"toNumber";H.merge(A.prototype,{int64:function(){return xr.call(this)[e](!1)},uint64:function(){return xr.call(this)[e](!0)},sint64:function(){return xr.call(this).zzDecode()[e](!1)},fixed64:function(){return Ms.call(this)[e](!0)},sfixed64:function(){return Ms.call(this)[e](!1)}})}});var Ps=l((Jl,Rs)=>{"use strict";Rs.exports=be;var Fs=kr();(be.prototype=Object.create(Fs.prototype)).constructor=be;var Us=ee();function be(r){Fs.call(this,r)}be._configure=function(){Us.Buffer&&(be.prototype._slice=Us.Buffer.prototype.slice)};be.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};be._configure()});var $s=l((Hl,Vs)=>{"use strict";Vs.exports=qe;var yr=ee();(qe.prototype=Object.create(yr.EventEmitter.prototype)).constructor=qe;function qe(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");yr.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}qe.prototype.rpcCall=function r(e,t,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return yr.asPromise(r,o,e,t,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,b){if(a)return o.emit("error",a,e),s(a);if(b===null){o.end(!0);return}if(!(b instanceof n))try{b=n[o.responseDelimited?"decodeDelimited":"decode"](b)}catch(u){return o.emit("error",u,e),s(u)}return o.emit("data",b,e),s(null,b)})}catch(c){o.emit("error",c,e),setTimeout(function(){s(c)},0);return}};qe.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Hs=l(Js=>{"use strict";var C2=Js;C2.Service=$s()});var Gs=l((Gl,Ws)=>{"use strict";Ws.exports={}});var Ks=l(Xs=>{"use strict";var M=Xs;M.build="minimal";M.Writer=dr();M.BufferWriter=Is();M.Reader=kr();M.BufferReader=Ps();M.util=ee();M.rpc=Hs();M.roots=Gs();M.configure=Qs;function Qs(){M.util._configure(),M.Writer._configure(M.BufferWriter),M.Reader._configure(M.BufferReader)}Qs()});var Ys=l((Xl,Zs)=>{"use strict";Zs.exports=Ks()});var to=l((Kl,eo)=>{"use strict";var re=Ys(),ge=re.Reader,mr=re.Writer,h=re.util,I=re.roots["ipfs-unixfs"]||(re.roots["ipfs-unixfs"]={});I.Data=function(){function r(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Type=0,r.prototype.Data=h.newBuffer([]),r.prototype.filesize=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.blocksizes=h.emptyArray,r.prototype.hashType=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.fanout=h.Long?h.Long.fromBits(0,0,!0):0,r.prototype.mode=0,r.prototype.mtime=null,r.encode=function(t,n){if(n||(n=mr.create()),n.uint32(8).int32(t.Type),t.Data!=null&&Object.hasOwnProperty.call(t,"Data")&&n.uint32(18).bytes(t.Data),t.filesize!=null&&Object.hasOwnProperty.call(t,"filesize")&&n.uint32(24).uint64(t.filesize),t.blocksizes!=null&&t.blocksizes.length)for(var i=0;i<t.blocksizes.length;++i)n.uint32(32).uint64(t.blocksizes[i]);return t.hashType!=null&&Object.hasOwnProperty.call(t,"hashType")&&n.uint32(40).uint64(t.hashType),t.fanout!=null&&Object.hasOwnProperty.call(t,"fanout")&&n.uint32(48).uint64(t.fanout),t.mode!=null&&Object.hasOwnProperty.call(t,"mode")&&n.uint32(56).uint32(t.mode),t.mtime!=null&&Object.hasOwnProperty.call(t,"mtime")&&I.UnixTime.encode(t.mtime,n.uint32(66).fork()).ldelim(),n},r.decode=function(t,n){t instanceof ge||(t=ge.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new I.Data;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.Type=t.int32();break;case 2:s.Data=t.bytes();break;case 3:s.filesize=t.uint64();break;case 4:if(s.blocksizes&&s.blocksizes.length||(s.blocksizes=[]),(o&7)==2)for(var c=t.uint32()+t.pos;t.pos<c;)s.blocksizes.push(t.uint64());else s.blocksizes.push(t.uint64());break;case 5:s.hashType=t.uint64();break;case 6:s.fanout=t.uint64();break;case 7:s.mode=t.uint32();break;case 8:s.mtime=I.UnixTime.decode(t,t.uint32());break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Type"))throw h.ProtocolError("missing required 'Type'",{instance:s});return s},r.fromObject=function(t){if(t instanceof I.Data)return t;var n=new I.Data;switch(t.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(t.Data!=null&&(typeof t.Data=="string"?h.base64.decode(t.Data,n.Data=h.newBuffer(h.base64.length(t.Data)),0):t.Data.length&&(n.Data=t.Data)),t.filesize!=null&&(h.Long?(n.filesize=h.Long.fromValue(t.filesize)).unsigned=!0:typeof t.filesize=="string"?n.filesize=parseInt(t.filesize,10):typeof t.filesize=="number"?n.filesize=t.filesize:typeof t.filesize=="object"&&(n.filesize=new h.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0))),t.blocksizes){if(!Array.isArray(t.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var i=0;i<t.blocksizes.length;++i)h.Long?(n.blocksizes[i]=h.Long.fromValue(t.blocksizes[i])).unsigned=!0:typeof t.blocksizes[i]=="string"?n.blocksizes[i]=parseInt(t.blocksizes[i],10):typeof t.blocksizes[i]=="number"?n.blocksizes[i]=t.blocksizes[i]:typeof t.blocksizes[i]=="object"&&(n.blocksizes[i]=new h.LongBits(t.blocksizes[i].low>>>0,t.blocksizes[i].high>>>0).toNumber(!0))}if(t.hashType!=null&&(h.Long?(n.hashType=h.Long.fromValue(t.hashType)).unsigned=!0:typeof t.hashType=="string"?n.hashType=parseInt(t.hashType,10):typeof t.hashType=="number"?n.hashType=t.hashType:typeof t.hashType=="object"&&(n.hashType=new h.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0))),t.fanout!=null&&(h.Long?(n.fanout=h.Long.fromValue(t.fanout)).unsigned=!0:typeof t.fanout=="string"?n.fanout=parseInt(t.fanout,10):typeof t.fanout=="number"?n.fanout=t.fanout:typeof t.fanout=="object"&&(n.fanout=new h.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0))),t.mode!=null&&(n.mode=t.mode>>>0),t.mtime!=null){if(typeof t.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=I.UnixTime.fromObject(t.mtime)}return n},r.toObject=function(t,n){n||(n={});var i={};if((n.arrays||n.defaults)&&(i.blocksizes=[]),n.defaults){if(i.Type=n.enums===String?"Raw":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=h.newBuffer(i.Data))),h.Long){var s=new h.Long(0,0,!0);i.filesize=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.filesize=n.longs===String?"0":0;if(h.Long){var s=new h.Long(0,0,!0);i.hashType=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.hashType=n.longs===String?"0":0;if(h.Long){var s=new h.Long(0,0,!0);i.fanout=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.fanout=n.longs===String?"0":0;i.mode=0,i.mtime=null}if(t.Type!=null&&t.hasOwnProperty("Type")&&(i.Type=n.enums===String?I.Data.DataType[t.Type]:t.Type),t.Data!=null&&t.hasOwnProperty("Data")&&(i.Data=n.bytes===String?h.base64.encode(t.Data,0,t.Data.length):n.bytes===Array?Array.prototype.slice.call(t.Data):t.Data),t.filesize!=null&&t.hasOwnProperty("filesize")&&(typeof t.filesize=="number"?i.filesize=n.longs===String?String(t.filesize):t.filesize:i.filesize=n.longs===String?h.Long.prototype.toString.call(t.filesize):n.longs===Number?new h.LongBits(t.filesize.low>>>0,t.filesize.high>>>0).toNumber(!0):t.filesize),t.blocksizes&&t.blocksizes.length){i.blocksizes=[];for(var o=0;o<t.blocksizes.length;++o)typeof t.blocksizes[o]=="number"?i.blocksizes[o]=n.longs===String?String(t.blocksizes[o]):t.blocksizes[o]:i.blocksizes[o]=n.longs===String?h.Long.prototype.toString.call(t.blocksizes[o]):n.longs===Number?new h.LongBits(t.blocksizes[o].low>>>0,t.blocksizes[o].high>>>0).toNumber(!0):t.blocksizes[o]}return t.hashType!=null&&t.hasOwnProperty("hashType")&&(typeof t.hashType=="number"?i.hashType=n.longs===String?String(t.hashType):t.hashType:i.hashType=n.longs===String?h.Long.prototype.toString.call(t.hashType):n.longs===Number?new h.LongBits(t.hashType.low>>>0,t.hashType.high>>>0).toNumber(!0):t.hashType),t.fanout!=null&&t.hasOwnProperty("fanout")&&(typeof t.fanout=="number"?i.fanout=n.longs===String?String(t.fanout):t.fanout:i.fanout=n.longs===String?h.Long.prototype.toString.call(t.fanout):n.longs===Number?new h.LongBits(t.fanout.low>>>0,t.fanout.high>>>0).toNumber(!0):t.fanout),t.mode!=null&&t.hasOwnProperty("mode")&&(i.mode=t.mode),t.mtime!=null&&t.hasOwnProperty("mtime")&&(i.mtime=I.UnixTime.toObject(t.mtime,n)),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.util.toJSONOptions)},r.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),r}();I.UnixTime=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.Seconds=h.Long?h.Long.fromBits(0,0,!1):0,r.prototype.FractionalNanoseconds=0,r.encode=function(t,n){return n||(n=mr.create()),n.uint32(8).int64(t.Seconds),t.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(t,"FractionalNanoseconds")&&n.uint32(21).fixed32(t.FractionalNanoseconds),n},r.decode=function(t,n){t instanceof ge||(t=ge.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new I.UnixTime;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.Seconds=t.int64();break;case 2:s.FractionalNanoseconds=t.fixed32();break;default:t.skipType(o&7);break}}if(!s.hasOwnProperty("Seconds"))throw h.ProtocolError("missing required 'Seconds'",{instance:s});return s},r.fromObject=function(t){if(t instanceof I.UnixTime)return t;var n=new I.UnixTime;return t.Seconds!=null&&(h.Long?(n.Seconds=h.Long.fromValue(t.Seconds)).unsigned=!1:typeof t.Seconds=="string"?n.Seconds=parseInt(t.Seconds,10):typeof t.Seconds=="number"?n.Seconds=t.Seconds:typeof t.Seconds=="object"&&(n.Seconds=new h.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber())),t.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=t.FractionalNanoseconds>>>0),n},r.toObject=function(t,n){n||(n={});var i={};if(n.defaults){if(h.Long){var s=new h.Long(0,0,!1);i.Seconds=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else i.Seconds=n.longs===String?"0":0;i.FractionalNanoseconds=0}return t.Seconds!=null&&t.hasOwnProperty("Seconds")&&(typeof t.Seconds=="number"?i.Seconds=n.longs===String?String(t.Seconds):t.Seconds:i.Seconds=n.longs===String?h.Long.prototype.toString.call(t.Seconds):n.longs===Number?new h.LongBits(t.Seconds.low>>>0,t.Seconds.high>>>0).toNumber():t.Seconds),t.FractionalNanoseconds!=null&&t.hasOwnProperty("FractionalNanoseconds")&&(i.FractionalNanoseconds=t.FractionalNanoseconds),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.util.toJSONOptions)},r}();I.Metadata=function(){function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)e[t[n]]!=null&&(this[t[n]]=e[t[n]])}return r.prototype.MimeType="",r.encode=function(t,n){return n||(n=mr.create()),t.MimeType!=null&&Object.hasOwnProperty.call(t,"MimeType")&&n.uint32(10).string(t.MimeType),n},r.decode=function(t,n){t instanceof ge||(t=ge.create(t));for(var i=n===void 0?t.len:t.pos+n,s=new I.Metadata;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:s.MimeType=t.string();break;default:t.skipType(o&7);break}}return s},r.fromObject=function(t){if(t instanceof I.Metadata)return t;var n=new I.Metadata;return t.MimeType!=null&&(n.MimeType=String(t.MimeType)),n},r.toObject=function(t,n){n||(n={});var i={};return n.defaults&&(i.MimeType=""),t.MimeType!=null&&t.hasOwnProperty("MimeType")&&(i.MimeType=t.MimeType),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,re.util.toJSONOptions)},r}();eo.exports=I});var io=l((Zl,no)=>{"use strict";function ro(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function j2(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return ro(r,t)}catch(n){t.message=r.message,t.stack=r.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(r)),ro(new i,t)}}no.exports=j2});var bo=l((Yl,co)=>{"use strict";var{Data:G}=to(),gr=io(),so=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],z2=["directory","hamt-sharded-directory"],oo=parseInt("0644",8),ao=parseInt("0755",8);function xt(r){if(r!=null)return typeof r=="number"?r&4095:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8)&4095:parseInt(r,10)&4095)}function wr(r){if(r==null)return;let e;if(r.secs!=null&&(e={secs:r.secs,nsecs:r.nsecs}),r.Seconds!=null&&(e={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(e={secs:r[0],nsecs:r[1]}),r instanceof Date){let t=r.getTime(),n=Math.floor(t/1e3);e={secs:n,nsecs:(t-n*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw gr(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}var kt=class{static unmarshal(e){let t=G.decode(e),n=G.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new kt({type:so[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}constructor(e={type:"file"}){let{type:t,data:n,blockSizes:i,hashType:s,fanout:o,mtime:c,mode:a}=e;if(t&&!so.includes(t))throw gr(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=s,this.fanout=o,this.blockSizes=i||[],this._originalMode=0,this.mode=xt(a),c&&(this.mtime=wr(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?ao:oo;let t=xt(e);t!==void 0&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&z2.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=G.DataType.Raw;break;case"directory":e=G.DataType.Directory;break;case"file":e=G.DataType.File;break;case"metadata":e=G.DataType.Metadata;break;case"symlink":e=G.DataType.Symlink;break;case"hamt-sharded-directory":e=G.DataType.HAMTShard;break;default:throw gr(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;(!this.data||!this.data.length)&&(t=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(xt(this.mode)||0),n===oo&&!this.isDirectory()&&(n=void 0),n===ao&&this.isDirectory()&&(n=void 0));let i;if(this.mtime!=null){let o=wr(this.mtime);o&&(i={Seconds:o.secs,FractionalNanoseconds:o.nsecs},i.FractionalNanoseconds===0&&delete i.FractionalNanoseconds)}let s={Type:e,Data:t,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:i};return G.encode(s).finish()}};co.exports={UnixFS:kt,parseMode:xt,parseMtime:wr}});var ko=l((eu,xo)=>{"use strict";var B2=Se(),lo=Z(),{encodeCID:uo,decodeCID:fo}=ae(),{decodeIterable:vr,encodeIterable:Q,encodeCallback:ho}=es(),Sr=rs(),{parseMode:N2,parseMtime:I2}=bo(),we=class extends B2{constructor(e){super("core",["add","addAll","cat","ls"],e)}};we.prototype.addAll=async function*(e,t={}){let{timeout:n,signal:i}=t,s=[...t.transfer||[]],o=t.progress?ho(t.progress,s):void 0,c=await this.remote.addAll({...t,input:M2(e,s),progress:void 0,progressCallback:o,transfer:s,timeout:n,signal:i});yield*vr(c.data,po)};we.prototype.add=async function(e,t={}){let{timeout:n,signal:i}=t,s=[...t.transfer||[]],o=t.progress?ho(t.progress,s):void 0,c=await this.remote.add({...t,input:q2(e,s),progress:void 0,progressCallback:o,transfer:s,timeout:n,signal:i});return po(c.data)};we.prototype.cat=async function*(e,t={}){let n=lo.isCID(e)?uo(e):e,i=await this.remote.cat({...t,path:n});yield*vr(i.data,_2)};we.prototype.ls=async function*(e,t={}){let n=lo.isCID(e)?uo(e):e,i=await this.remote.ls({...t,path:n});yield*vr(i.data,O2)};var po=({path:r,cid:e,mode:t,mtime:n,size:i})=>({path:r,cid:fo(e),mode:t,mtime:n,size:i}),O2=({depth:r,name:e,path:t,size:n,cid:i,type:s,mode:o,mtime:c})=>({cid:fo(i),type:s,name:e,path:t,mode:o,mtime:c,size:n,depth:r}),_2=r=>r,q2=(r,e)=>{if(r instanceof Blob)return r;if(typeof r=="string")return r;if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;{let t=Ar(r);if(t)return Q(t,Er,e);let n=Tr(r);if(n)return Q(n,ve,e);let i=Cr(r);if(i)return Q(Sr(i),ve,e);let s=jr(r);if(s)return Dr(s,e);throw TypeError("Unexpected input: "+typeof r)}},M2=(r,e)=>{let t=Ar(r);if(t)return Q(t,Er,e);let n=Tr(r);if(n)return Q(n,ve,e);let i=Cr(r);if(i)return Q(Sr(i),ve,e);throw TypeError("Unexpected input: "+typeof r)},ve=(r,e)=>{if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{let t=jr(r);if(t)return Dr(t,e);throw TypeError("Unexpected input: "+typeof r)}},Er=(r,e)=>{if(typeof r=="number")throw TypeError("Iterable of numbers is not supported");if(r instanceof ArrayBuffer)return r;if(ArrayBuffer.isView(r))return r;if(r instanceof Blob)return{path:"",content:r};if(typeof r=="string")return{path:"",content:r};{let t=jr(r);if(t)return Dr(t,e);throw TypeError("Unexpected input: "+typeof r)}},Dr=({path:r,mode:e,mtime:t,content:n},i)=>{let s={path:r,mode:N2(e),mtime:I2(t)};return n&&(s.content=L2(n,i)),s},L2=(r,e)=>{if(r==null)return"";if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))return r;if(r instanceof Blob)return r;if(typeof r=="string")return r;{let t=Ar(r);if(t)return Q(t,Er,e);let n=Tr(r);if(n)return Q(n,ve,e);let i=Cr(r);if(i)return Q(Sr(i),ve,e);throw TypeError("Unexpected input: "+typeof r)}},Ar=r=>{let e=r;return e&&typeof e[Symbol.iterator]=="function"?e:null},Tr=r=>{let e=r;return e&&typeof e[Symbol.asyncIterator]=="function"?e:null},Cr=r=>r&&typeof r.getReader=="function"?r:null,jr=r=>typeof r=="object"&&(r.path||r.content)?r:null;xo.exports=we});var mo=l((tu,yo)=>{"use strict";var F2=Se(),{decodeCID:U2}=ae(),R2=Z(),zr=class extends F2{constructor(e){super("files",["stat"],e)}};zr.prototype.stat=async function(e,t={}){let{size:n,hash:i,withLocal:s,timeout:o,signal:c}=t,{stat:a}=await this.remote.stat({path:P2(e),size:n,hash:i,withLocal:s,timeout:o,signal:c});return V2(a)};yo.exports=zr;var P2=r=>R2.isCID(r)?`/ipfs/${r.toString()}`:r,V2=r=>({...r,cid:U2(r.cid)})});var vo=l((ru,wo)=>{"use strict";var go=Mr(),$2=Qi(),J2=Yi(),H2=ko(),W2=mo(),Me=class extends H2{constructor(e){super(e);this.transport=e,this.dag=new J2(this.transport),this.files=new W2(this.transport),this.block=new $2(this.transport)}static attach(e,t){e.transport.connect(t)}static detached(){return new Me(new go(void 0))}static from(e){return new Me(new go(e))}};wo.exports=Me});var Eo=l((iu,So)=>{"use strict";function X2(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}So.exports=X2});var Ao=l((su,Do)=>{"use strict";function K2(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}Do.exports=K2});var Co=l((ou,To)=>{"use strict";var Z2=Eo(),Y2=je(),eb=tr(),tb=nt(),rb=Ce(),nb=Ao();To.exports={compare:Z2,concat:Y2,equals:eb,fromString:tb,toString:rb,xor:nb}});var ib=Ue(Or()),sb=Ue(vo()),ob=Ue(Z());var G2=["https://ipfs.io/ipfs/:hash","https://cf-ipfs.com/ipfs/:hash"];function Q2(r){let e=0;return new Promise((t,n)=>r.forEach(i=>i.then(t).catch(()=>{++e===r.length&&n()})))}var Br=Ue(Co());var cu=r=>new Uint8Array((r.match(/.{1,2}/g)||[]).map(e=>parseInt(e,16)));var export_CID=ob.default;var export_IpfsClient=sb.default;var export_all=ib.default;var export_concat=Br.concat;var export_fromString=Br.fromString;var export_toString=Br.toString;export{export_CID as CID,export_IpfsClient as IpfsClient,export_all as all,export_concat as concat,cu as fromHexString,export_fromString as fromString,G2 as publicIpfsGateways,Q2 as raceToSuccess,export_toString as toString};
