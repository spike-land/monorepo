var zr=Object.create,ae=Object.defineProperty;var Fr=Object.getOwnPropertyDescriptor;var Rr=Object.getOwnPropertyNames;var Lr=Object.getPrototypeOf,Vr=Object.prototype.hasOwnProperty;var Pr=e=>ae(e,"__esModule",{value:!0});var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gr=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Rr(t))!Vr.call(e,s)&&s!=="default"&&ae(e,s,{get:()=>t[s],enumerable:!(r=Fr(t,s))||r.enumerable});return e},Q=e=>Gr(Pr(ae(e!=null?zr(Lr(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ne=b((Ni,je)=>{"use strict";var Qr=async e=>{let t=[];for await(let r of e)t.push(r);return t};je.exports=Qr});var J=b(ce=>{"use strict";var Jr=e=>{let{name:t,message:r,stack:s,code:n,detail:i}=e;return{name:t,message:r,stack:s,code:n,detail:i}};ce.encodeError=Jr;var Kr=e=>{if(e instanceof Error)return e;{let{name:t,message:r,stack:s,code:n}=e;return Object.assign($r(t,r),{name:t,stack:s,code:n})}};ce.decodeError=Kr;var $r=(e,t)=>{switch(e){case"RangeError":return new RangeError(t);case"ReferenceError":return ReferenceError(t);case"SyntaxError":return new SyntaxError(t);case"TypeError":return new TypeError(t);case"URIError":return new URIError(t);default:return new Error(t)}}});var Be=b($=>{"use strict";$.TimeoutError=class extends Error{get name(){return this.constructor.name}};$.AbortError=class extends Error{get name(){return this.constructor.name}};$.DisconnectError=class extends Error{get name(){return this.constructor.name}}});var Oe=b((Ri,Me)=>{"use strict";var{decodeError:Hr}=J(),{DisconnectError:Xr,TimeoutError:Zr,AbortError:Wr}=Be();Me.exports=class K{constructor(t){this.port=null,this.id=Math.random().toString(32).slice(2),this.nextID=0,this.queries=Object.create(null),t&&this.connect(t)}execute(t){let r=`${this.id}@${this.nextID++}`;return this.queries[r]=t,t.timeout>0&&t.timeout<Infinity&&(t.timerID=setTimeout(K.timeout,t.timeout,this,r)),t.signal&&t.signal.addEventListener("abort",()=>this.abort(r),{once:!0}),this.port&&K.postQuery(this.port,r,t),t.result}connect(t){if(this.port)throw new Error("Transport is already open");this.port=t,this.port.addEventListener("message",this),this.port.start();for(let[r,s]of Object.entries(this.queries))K.postQuery(t,r,s)}disconnect(){let t=new Xr;for(let[r,s]of Object.entries(this.queries))s.fail(t),this.abort(r);this.port&&(this.port.removeEventListener("message",this),this.port.close())}static timeout(t,r){let{queries:s}=t,n=s[r];n&&(delete s[r],n.fail(new Zr("request timed out")),t.port&&t.port.postMessage({type:"abort",id:r}))}abort(t){let{queries:r}=this,s=r[t];s&&(delete r[t],s.fail(new Wr),this.port&&this.port.postMessage({type:"abort",id:t}),s.timerID!=null&&clearTimeout(s.timerID))}static postQuery(t,r,s){t.postMessage({type:"query",namespace:s.namespace,method:s.method,id:r,input:s.toJSON()},[...new Set(s.transfer()||[])])}handleEvent(t){let{id:r,result:s}=t.data,n=this.queries[r];n&&(delete this.queries[r],s.ok?n.succeed(s.value):n.fail(Hr(s.error)),n.timerID!=null&&clearTimeout(n.timerID))}}});var Fe=b((Vi,ze)=>{"use strict";ze.exports=class{constructor(t,r,s){this.result=new Promise((n,i)=>{this.succeed=n,this.fail=i,this.signal=s.signal,this.input=s,this.namespace=t,this.method=r,this.timeout=s.timeout==null?Infinity:s.timeout,this.timerID=null})}toJSON(){return this.input}transfer(){return this.input.transfer}}});var Le=b((Gi,Re)=>{"use strict";var Yr=Fe();Re.exports=class{constructor(t,r,s){this.transport=s;let n=this;for(let i of r)n[i]=o=>this.transport.execute(new Yr(t,i.toString(),o))}}});var N=b((Ji,Ve)=>{"use strict";var _r=Le();Ve.exports=class{constructor(t,r,s){this.remote=new _r(t,r,s)}}});var Ge=b(($i,Pe)=>{"use strict";function es(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var s=0;s<e.length;s++){var n=e.charAt(s),i=n.charCodeAt(0);if(t[i]!==255)throw new TypeError(n+" is ambiguous");t[i]=s}var o=e.length,a=e.charAt(0),l=Math.log(o)/Math.log(256),k=Math.log(256)/Math.log(o);function P(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";for(var d=0,I=0,f=0,m=c.length;f!==m&&c[f]===0;)f++,d++;for(var g=(m-f)*k+1>>>0,u=new Uint8Array(g);f!==m;){for(var y=c[f],C=0,h=g-1;(y!==0||C<I)&&h!==-1;h--,C++)y+=256*u[h]>>>0,u[h]=y%o>>>0,y=y/o>>>0;if(y!==0)throw new Error("Non-zero carry");I=C,f++}for(var w=g-I;w!==g&&u[w]===0;)w++;for(var G=a.repeat(d);w<g;++w)G+=e.charAt(u[w]);return G}function Ue(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;var d=0;if(c[d]!==" "){for(var I=0,f=0;c[d]===a;)I++,d++;for(var m=(c.length-d)*l+1>>>0,g=new Uint8Array(m);c[d];){var u=t[c.charCodeAt(d)];if(u===255)return;for(var y=0,C=m-1;(u!==0||y<f)&&C!==-1;C--,y++)u+=o*g[C]>>>0,g[C]=u%256>>>0,u=u/256>>>0;if(u!==0)throw new Error("Non-zero carry");f=y,d++}if(c[d]!==" "){for(var h=m-f;h!==m&&g[h]===0;)h++;for(var w=new Uint8Array(I+(m-h)),G=I;h!==m;)w[G++]=g[h++];return w}}}function Or(c){var d=Ue(c);if(d)return d;throw new Error("Non-base"+o+" character")}return{encode:P,decodeUnsafe:Ue,decode:Or}}Pe.exports=es});var H=b((Ki,Qe)=>{"use strict";var ts=new TextDecoder,rs=e=>ts.decode(e),ss=new TextEncoder,ns=e=>ss.encode(e);function is(e,t){let r=new Uint8Array(t),s=0;for(let n of e)r.set(n,s),s+=n.length;return r}Qe.exports={decodeText:rs,encodeText:ns,concat:is}});var Ke=b((Hi,Je)=>{"use strict";var{encodeText:os}=H(),$e=class{constructor(t,r,s,n){this.name=t,this.code=r,this.codeBuf=os(this.code),this.alphabet=n,this.codec=s(n)}encode(t){return this.codec.encode(t)}decode(t){for(let r of t)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${t}'`);return this.codec.decode(t)}};Je.exports=$e});var Xe=b((Xi,He)=>{"use strict";var bs=(e,t,r)=>{let s={};for(let k=0;k<t.length;++k)s[t[k]]=k;let n=e.length;for(;e[n-1]==="=";)--n;let i=new Uint8Array(n*r/8|0),o=0,a=0,l=0;for(let k=0;k<n;++k){let P=s[e[k]];if(P===void 0)throw new SyntaxError("Invalid character "+e[k]);a=a<<r|P,o+=r,o>=8&&(o-=8,i[l++]=255&a>>o)}if(o>=r||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return i},as=(e,t,r)=>{let s=t[t.length-1]==="=",n=(1<<r)-1,i="",o=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],o+=8;o>r;)o-=r,i+=t[n&a>>o];if(o&&(i+=t[n&a<<r-o]),s)for(;i.length*r&7;)i+="=";return i},cs=e=>t=>({encode(r){return as(r,t,e)},decode(r){return bs(r,t,e)}});He.exports={rfc4648:cs}});var _e=b((Zi,Ze)=>{"use strict";var B=Ge(),xs=Ke(),{rfc4648:x}=Xe(),{decodeText:ls,encodeText:ds}=H(),ks=()=>({encode:ls,decode:ds}),We=[["identity","\0",ks,""],["base2","0",x(1),"01"],["base8","7",x(3),"01234567"],["base10","9",B,"0123456789"],["base16","f",x(4),"0123456789abcdef"],["base16upper","F",x(4),"0123456789ABCDEF"],["base32hex","v",x(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",x(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",x(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",x(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",x(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",x(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",x(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",x(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",x(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",B,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",B,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",B,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",B,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",x(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",x(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",x(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",x(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Ye=We.reduce((e,t)=>(e[t[0]]=new xs(t[0],t[1],t[2],t[3]),e),{}),us=We.reduce((e,t)=>(e[t[1]]=Ye[t[0]],e),{});Ze.exports={names:Ye,codes:us}});var M=b((v,et)=>{"use strict";var S=_e(),{encodeText:fs,decodeText:X,concat:tt}=H();function ps(e,t){if(!t)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:s}=A(e);return hs(r,t),tt([s,t],s.length+t.length)}function ms(e,t){let r=A(e),s=fs(r.encode(t));return tt([r.codeBuf,s],r.codeBuf.length+s.length)}function gs(e){e instanceof Uint8Array&&(e=X(e));let t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),A(e[0]).decode(e.substring(1))}function ys(e){if(e instanceof Uint8Array&&(e=X(e)),Object.prototype.toString.call(e)!=="[object String]")return!1;try{return A(e[0]).name}catch(t){return!1}}function hs(e,t){A(e).decode(X(t))}function A(e){if(Object.prototype.hasOwnProperty.call(S.names,e))return S.names[e];if(Object.prototype.hasOwnProperty.call(S.codes,e))return S.codes[e];throw new Error(`Unsupported encoding: ${e}`)}function ws(e){return e instanceof Uint8Array&&(e=X(e)),A(e[0])}v=et.exports=ps;v.encode=ms;v.decode=gs;v.isEncoded=ys;v.encoding=A;v.encodingFromData=ws;var vs=Object.freeze(S.names),Es=Object.freeze(S.codes);v.names=vs;v.codes=Es});var it=b((Wi,rt)=>{rt.exports=st;var nt=128,Cs=127,Is=~Cs,As=Math.pow(2,31);function st(e,t,r){t=t||[],r=r||0;for(var s=r;e>=As;)t[r++]=e&255|nt,e/=128;for(;e&Is;)t[r++]=e&255|nt,e>>>=7;return t[r]=e|0,st.bytes=r-s+1,t}});var at=b((Yi,ot)=>{ot.exports=xe;var qs=128,bt=127;function xe(e,t){var r=0,t=t||0,s=0,n=t,i,o=e.length;do{if(n>=o)throw xe.bytes=0,new RangeError("Could not decode varint");i=e[n++],r+=s<28?(i&bt)<<s:(i&bt)*Math.pow(2,s),s+=7}while(i>=qs);return xe.bytes=n-t,r}});var xt=b((_i,ct)=>{var Ds=Math.pow(2,7),Ss=Math.pow(2,14),Ts=Math.pow(2,21),Us=Math.pow(2,28),js=Math.pow(2,35),Ns=Math.pow(2,42),Bs=Math.pow(2,49),Ms=Math.pow(2,56),Os=Math.pow(2,63);ct.exports=function(e){return e<Ds?1:e<Ss?2:e<Ts?3:e<Us?4:e<js?5:e<Ns?6:e<Bs?7:e<Ms?8:e<Os?9:10}});var Z=b((e0,lt)=>{lt.exports={encode:it(),decode:at(),encodingLength:xt()}});var kt=b((t0,dt)=>{"use strict";var zs=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});dt.exports={names:zs}});var O=b((r0,ut)=>{"use strict";var{encoding:Fs}=M(),Rs=new TextDecoder("utf8");function Ls(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function Vs(e,t="utf8"){return t==="utf8"||t==="utf-8"?Rs.decode(e):t==="ascii"?Ls(e):Fs(t).encode(e)}ut.exports=Vs});var W=b((s0,ft)=>{"use strict";var{encoding:Ps}=M(),Gs=new TextEncoder;function Qs(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function Js(e,t="utf8"){return t==="utf8"||t==="utf-8"?Gs.encode(e):t==="ascii"?Qs(e):Ps(t).decode(e)}ft.exports=Js});var z=b((n0,ht)=>{"use strict";function $s(e,t){t||(t=e.reduce((n,i)=>n+i.length,0));let r=new Uint8Array(t),s=0;for(let n of e)r.set(n,s),s+=n.length;return r}ht.exports=$s});var de=b((i0,pt)=>{"use strict";var mt=M(),T=Z(),{names:F}=kt(),Y=O(),Ks=W(),Hs=z(),U={};for(let e in F){let t=e;U[F[t]]=t}Object.freeze(U);function Xs(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Y(e,"base16")}function Zs(e){return Ks(e,"base16")}function Ws(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Y(mt.encode("base58btc",e)).slice(1)}function Ys(e){let t=e instanceof Uint8Array?Y(e):e;return mt.decode("z"+t)}function yt(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");let t=T.decode(e);if(!gt(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(T.decode.bytes);let r=T.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(e=e.slice(T.decode.bytes),e.length!==r)throw new Error(`multihash length inconsistent: 0x${Y(e,"base16")}`);return{code:t,name:U[t],length:r,digest:e}}function _s(e,t,r){if(!e||t===void 0)throw new Error("multihash encode requires at least two args: digest, code");let s=wt(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");let n=T.encode(s),i=T.encode(r);return Hs([n,i,e],n.length+i.length+e.length)}function wt(e){let t=e;if(typeof e=="string"){if(F[e]===void 0)throw new Error(`Unrecognized hash function named: ${e}`);t=F[e]}if(typeof t!="number")throw new Error(`Hash function code should be a number. Got: ${t}`);if(U[t]===void 0&&!le(t))throw new Error(`Unrecognized function code: ${t}`);return t}function le(e){return e>0&&e<16}function gt(e){return!!(le(e)||U[e])}function vt(e){yt(e)}function en(e){return vt(e),e.subarray(0,2)}pt.exports={names:F,codes:U,toHexString:Xs,fromHexString:Zs,toB58String:Ws,fromB58String:Ys,decode:yt,encode:_s,coerceCode:wt,isAppCode:le,validate:vt,prefix:en,isValidCode:gt}});var ke=b((o0,Et)=>{"use strict";var Ct=Z(),tn=O(),rn=W();Et.exports={numberToUint8Array:sn,uint8ArrayToNumber:It,varintUint8ArrayEncode:nn,varintEncode:on};function It(e){return parseInt(tn(e,"base16"),16)}function sn(e){let t=e.toString(16);return t.length%2==1&&(t="0"+t),rn(t,"base16")}function nn(e){return Uint8Array.from(Ct.encode(It(e)))}function on(e){return Uint8Array.from(Ct.encode(e))}});var qt=b((b0,At)=>{"use strict";var bn=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});At.exports={baseTable:bn}});var St=b((a0,Dt)=>{"use strict";var{baseTable:ue}=qt(),an=ke().varintEncode,fe={},he={},_={};for(let e in ue){let t=e,r=ue[t];fe[t]=an(r);let s=t.toUpperCase().replace(/-/g,"_");he[s]=r,_[r]||(_[r]=t)}Object.freeze(fe);Object.freeze(he);Object.freeze(_);var cn=Object.freeze(ue);Dt.exports={nameToVarint:fe,constantToCode:he,nameToCode:cn,codeToName:_}});var Rt=b((c0,Tt)=>{"use strict";var ee=Z(),xn=z(),Ut=ke(),{nameToVarint:te,constantToCode:ln,nameToCode:jt,codeToName:pe}=St();function dn(e,t){let r;if(e instanceof Uint8Array)r=Ut.varintUint8ArrayEncode(e);else if(te[e])r=te[e];else throw new Error("multicodec not recognized");return xn([r,t],r.length+t.length)}function kn(e){return ee.decode(e),e.slice(ee.decode.bytes)}function Nt(e){let t=ee.decode(e),r=pe[t];if(r===void 0)throw new Error(`Code "${t}" not found`);return r}function Bt(e){return pe[e]}function Mt(e){let t=jt[e];if(t===void 0)throw new Error(`Codec "${e}" not found`);return t}function Ot(e){return ee.decode(e)}function zt(e){let t=te[e];if(t===void 0)throw new Error(`Codec "${e}" not found`);return t}function Ft(e){return Ut.varintEncode(e)}function un(e){return Nt(e)}function fn(e){return Bt(e)}function hn(e){return Mt(e)}function pn(e){return Ot(e)}function mn(e){return zt(e)}function gn(e){return Array.from(Ft(e))}Tt.exports={addPrefix:dn,rmPrefix:kn,getNameFromData:Nt,getNameFromCode:Bt,getCodeFromName:Mt,getCodeFromData:Ot,getVarintFromName:zt,getVarintFromCode:Ft,getCodec:un,getName:fn,getNumber:hn,getCode:pn,getCodeVarint:mn,getVarint:gn,...ln,nameToVarint:te,nameToCode:jt,codeToName:pe}});var Vt=b((x0,Lt)=>{"use strict";var yn=de(),wn={checkCIDComponents:function(e){if(e==null)return"null values are not valid CIDs";if(!(e.version===0||e.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof e.codec!="string")return"codec must be string";if(e.version===0){if(e.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(e.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(e.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{yn.validate(e.multihash)}catch(t){let r=t.message;return r||(r="Multihash validation failed"),r}}};Lt.exports=wn});var me=b((l0,Pt)=>{"use strict";function vn(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}Pt.exports=vn});var ne=b((d0,Gt)=>{"use strict";var re=de(),ge=M(),q=Rt(),En=Vt(),Qt=z(),Cn=O(),In=me(),se=q.nameToCode,An=Object.keys(se).reduce((e,t)=>(e[se[t]]=t,e),{}),Jt=Symbol.for("@ipld/js-cid/CID"),p=class{constructor(t,r,s,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,Jt,{value:!0}),p.isCID(t)){let i=t;this.version=i.version,this.codec=i.codec,this.multihash=i.multihash,this.multibaseName=i.multibaseName||(i.version===0?"base58btc":"base32");return}if(typeof t=="string"){let i=ge.isEncoded(t);if(i){let o=ge.decode(t);this.version=parseInt(o[0].toString(),16),this.codec=q.getCodec(o.slice(1)),this.multihash=q.rmPrefix(o.slice(1)),this.multibaseName=i}else this.version=0,this.codec="dag-pb",this.multihash=re.fromB58String(t),this.multibaseName="base58btc";p.validateCID(this),Object.defineProperty(this,"string",{value:t});return}if(t instanceof Uint8Array){let i=parseInt(t[0].toString(),16);if(i===1){let o=t;this.version=i,this.codec=q.getCodec(o.slice(1)),this.multihash=q.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=t,this.multibaseName="base58btc";p.validateCID(this);return}this.version=t,typeof r=="number"&&(r=An[r]),this.codec=r,this.multihash=s,this.multibaseName=n||(t===0?"base58btc":"base32"),p.validateCID(this)}get bytes(){let t=this._bytes;if(!t){if(this.version===0)t=this.multihash;else if(this.version===1){let r=q.getCodeVarint(this.codec);t=Qt([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:t})}return t}get prefix(){let t=q.getCodeVarint(this.codec),r=re.prefix(this.multihash);return Qt([[this.version],t,r],1+t.byteLength+r.byteLength)}get code(){return se[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:t,length:r}=re.decode(this.multihash);if(t!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new p(0,this.codec,this.multihash)}toV1(){return new p(1,this.codec,this.multihash)}toBaseEncodedString(t=this.multibaseName){if(this.string&&this.string.length!==0&&t===this.multibaseName)return this.string;let r;if(this.version===0){if(t!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=re.toB58String(this.multihash)}else if(this.version===1)r=Cn(ge.encode(t,this.bytes));else throw new Error("unsupported version");return t===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(t){return this.toBaseEncodedString(t)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(t){return this.codec===t.codec&&this.version===t.version&&In(this.multihash,t.multihash)}static validateCID(t){let r=En.checkCIDComponents(t);if(r)throw new Error(r)}static isCID(t){return t instanceof p||Boolean(t&&t[Jt])}};p.codecs=se;Gt.exports=p});var D=b(ie=>{"use strict";var $t=ne(),qn=(e,t)=>(t&&t.push(e.multihash.buffer),e);ie.encodeCID=qn;var Dn=e=>{let t=e;return Object.setPrototypeOf(t.multihash,Uint8Array.prototype),Object.setPrototypeOf(t,$t.prototype),Object.defineProperty(t,Symbol.for("@ipld/js-cid/CID"),{value:!0}),t};ie.decodeCID=Dn;ie.CID=$t});var Ht=b((u0,Kt)=>{Kt.exports={name:"ipld-block",version:"0.11.1",description:"JavaScript Implementation of IPLD Block",leadMaintainer:"Volker Mische <volker.mische@gmail.com>",main:"src/index.js",types:"dist/src/index.d.ts",scripts:{lint:"aegir lint",check:"tsc --noEmit --noErrorTruncation",test:"aegir test","test:node":"aegir test --target node","test:browser":"aegir test --target browser",release:"aegir release --docs","release-minor":"aegir release --type minor --docs","release-major":"aegir release --type major --docs",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",prepare:"aegir build --no-bundle",prepublishOnly:"aegir build"},"pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},keywords:["IPLD"],license:"MIT",bugs:{url:"https://github.com/ipld/js-ipld-block/issues"},homepage:"https://github.com/ipld/js-ipld-block#readme",devDependencies:{aegir:"^31.0.4",uint8arrays:"^2.1.3"},dependencies:{cids:"^1.0.0"},engines:{node:">=6.0.0",npm:">=3.0.0"},contributors:["David Dias <daviddias.p@gmail.com>","Volker Mische <volker.mische@gmail.com>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Irakli Gozalishvili <contact@gozala.io>","achingbrain <alex@achingbrain.net>","\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D <victorbjelkholm@gmail.com>","Alan Shaw <alan.shaw@protocol.ai>","Charlie <the_charlie_daly@hotmail.co.uk>","Diogo Silva <fsdiogo@gmail.com>","Hugo Dias <hugomrdias@gmail.com>","Mikeal Rogers <mikeal.rogers@gmail.com>","Richard Littauer <richard.littauer@gmail.com>","Richard Schneider <makaretu@gmail.com>","Xmader <xmader@outlook.com>"]}});var er=b((f0,Xt)=>{"use strict";var Sn=ne(),{version:Tn}=Ht(),Zt=Symbol.for("@ipld/js-ipld-block/block"),Wt={writable:!1,configurable:!1,enumerable:!0},Yt=class{constructor(t,r){if(!t||!(t instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!r||!Sn.isCID(r))throw new Error("second argument must be a CID");this.data=t,this.cid=r,Object.defineProperties(this,{data:Wt,cid:Wt})}get _data(){return jn(),this.data}get _cid(){return Un(),this.cid}get[Symbol.toStringTag](){return"Block"}get[Zt](){return!0}static isBlock(t){return Boolean(t&&t[Zt])}},_t=(e,t)=>{let r=!1;return()=>{if(e.test(Tn))r||(r=!0,console.warn(t));else throw new Error(t)}},Un=_t(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),jn=_t(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");Xt.exports=Yt});var rr=b(oe=>{"use strict";var{encodeCID:Nn,decodeCID:Bn}=D(),tr=er(),Mn=({cid:e,data:t},r)=>(r&&r.push(t.buffer),{cid:Nn(e,r),data:t});oe.encodeBlock=Mn;var On=({cid:e,data:t})=>new tr(t,Bn(e));oe.decodeBlock=On;oe.Block=tr});var br=b((p0,sr)=>{"use strict";var zn=N(),{encodeCID:R,decodeCID:nr}=D(),{decodeError:Fn}=J(),{encodeBlock:Rn,decodeBlock:ir}=rr(),or=class extends zn{constructor(t){super("block",["put","get","rm","stat"],t)}async get(t,r={}){let{transfer:s}=r,{block:n}=await this.remote.get({...r,cid:R(t,s)});return ir(n)}async put(t,r={}){let{transfer:s}=r;delete r.progress;let n=await this.remote.put({...r,cid:r.cid==null?void 0:R(r.cid,s),block:t instanceof Uint8Array?t:Rn(t,s)});return ir(n.block)}async*rm(t,r={}){let{transfer:s}=r;yield*(await this.remote.rm({...r,cids:Array.isArray(t)?t.map(i=>R(i,s)):[R(t,s)]})).map(Ln)}async stat(t,r={}){let{transfer:s}=r,n=await this.remote.stat({...r,cid:R(t,s)});return{...n,cid:nr(n.cid)}}},Ln=e=>{let t=nr(e.cid);return e.error?{cid:t,error:Fn(e.error)}:{cid:t}};sr.exports=or});var ar=b(ye=>{"use strict";var{encodeCID:Vn,decodeCID:Pn,CID:Gn}=D(),Qn=({dagNode:e,cids:t})=>{for(let r of t)Pn(r);return e};ye.decodeNode=Qn;var Jn=(e,t)=>{let r=[];return we(e,r,t),{dagNode:e,cids:r}};ye.encodeNode=Jn;var we=(e,t,r)=>{if(e!=null&&typeof e=="object")if(Gn.isCID(e))t.push(e),Vn(e,r);else if(e instanceof ArrayBuffer)r&&r.push(e);else if(ArrayBuffer.isView(e))r&&r.push(e.buffer);else if(Array.isArray(e))for(let s of e)we(s,t,r);else for(let s of Object.values(e))we(s,t,r)}});var dr=b((g0,cr)=>{"use strict";var $n=N(),{encodeCID:be,decodeCID:xr}=D(),{encodeNode:Kn,decodeNode:Hn}=ar(),lr=class extends $n{constructor(t){super("dag",["put","get","resolve","tree"],t)}async put(t,r={}){let{cid:s}=r,n=await this.remote.put({...r,cid:s!=null?be(s):void 0,dagNode:Kn(t,r.transfer)});return xr(n)}async get(t,r={}){let{value:s,remainderPath:n}=await this.remote.get({...r,cid:be(t,r.transfer)});return{value:Hn(s),remainderPath:n}}async resolve(t,r={}){let{cid:s,remainderPath:n}=await this.remote.resolve({...r,cid:Xn(t,r.transfer)});return{cid:xr(s),remainderPath:n}}async*tree(t,r={}){yield*await this.remote.tree({...r,cid:be(t,r.transfer)})}},Xn=(e,t)=>typeof e=="string"?e:be(e,t);cr.exports=lr});var kr=b(L=>{"use strict";var{encodeError:Zn,decodeError:Wn}=J(),Yn=async function*({port:e},t){let r=o=>{},s=()=>new Promise(o=>r=o),n=()=>(e.postMessage({method:"next"}),s());e.onmessage=o=>r(o.data);let i=!1;try{for(;!i;){let{done:o,value:a,error:l}=await n();if(i=o,l!=null)throw Wn(l);a!=null&&(yield t(a))}}finally{i||e.postMessage({method:"return"}),e.close()}};L.decodeIterable=Yn;var ei=(e,t,r)=>{let{port1:s,port2:n}=new MessageChannel,i=[],o=_n(e);return s.onmessage=async({data:{method:a}})=>{switch(a){case"next":{try{let{done:l,value:k}=await o.next();l?(s.postMessage({type:"next",done:!0}),s.close()):(i.length=0,s.postMessage({type:"next",done:!1,value:t(k,i)},i))}catch(l){s.postMessage({type:"throw",error:Zn(l)}),s.close()}break}case"return":{s.close(),o.return&&o.return();break}default:break}},s.start(),r.push(n),{type:"RemoteIterable",port:n}};L.encodeIterable=ei;var _n=e=>{if(e!=null){if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]()}throw TypeError("Value must be async or sync iterable")},ti=(e,t)=>{let{port1:r,port2:s}=new MessageChannel;return r.onmessage=({data:n})=>e.apply(null,n),t.push(s),{type:"RemoteCallback",port:s}};L.encodeCallback=ti;var ri=({port:e})=>(r,s=[])=>{e.postMessage(r,[...new Set(s)])};L.decodeCallback=ri});var fr=b((w0,ur)=>{"use strict";async function*si(e,t={}){let r=e.getReader();try{for(;;){let s=await r.read();if(s.done)return;yield s.value}}finally{t.preventCancel!==!0&&r.cancel(),r.releaseLock()}}ur.exports=si});var Er=b((v0,hr)=>{"use strict";var ni=N(),{encodeCID:pr,decodeCID:mr,CID:gr}=D(),{decodeIterable:ve,encodeIterable:E,encodeCallback:yr}=kr(),Ee=fr(),wr=class extends ni{constructor(t){super("core",["add","addAll","cat","ls"],t)}async*addAll(t,r={}){let{timeout:s,signal:n}=r,i=[...r.transfer||[]],o=r.progress?yr(r.progress,i):void 0,a=await this.remote.addAll({...r,input:ai(t,i),progress:o,transfer:i,timeout:s,signal:n});yield*ve(a.data,vr)}async add(t,r={}){let{timeout:s,signal:n}=r,i=[...r.transfer||[]],o=r.progress?yr(r.progress,i):void 0,a=await this.remote.add({...r,input:bi(t,i),progress:o,transfer:i,timeout:s,signal:n});return vr(a.data)}async*cat(t,r={}){let s=gr.isCID(t)?pr(t):t,n=await this.remote.cat({...r,path:s});yield*ve(n.data,oi)}async*ls(t,r={}){let s=gr.isCID(t)?pr(t):t,n=await this.remote.ls({...r,path:s});yield*ve(n.data,ii)}},vr=({path:e,cid:t,mode:r,mtime:s,size:n})=>({path:e,cid:mr(t),mode:r,mtime:s,size:n}),ii=({depth:e,name:t,path:r,size:s,cid:n,type:i,mode:o,mtime:a})=>({cid:mr(n),type:i,name:t,path:r,mode:o,mtime:a,size:s,depth:e}),oi=e=>e,bi=(e,t)=>{if(e instanceof Blob)return e;if(typeof e=="string")return e;if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e;{let r=Ae(e);if(r)return E(r,Ce,t);let s=qe(e);if(s)return E(s,j,t);let n=De(e);if(n)return E(Ee(n),j,t);let i=Se(e);if(i)return Ie(i,t);throw TypeError("Unexpected input: "+typeof e)}},ai=(e,t)=>{let r=Ae(e);if(r)return E(r,Ce,t);let s=qe(e);if(s)return E(s,j,t);let n=De(e);if(n)return E(Ee(n),j,t);throw TypeError("Unexpected input: "+typeof e)},j=(e,t)=>{if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e;if(e instanceof Blob)return{path:"",content:e};if(typeof e=="string")return{path:"",content:e};{let r=Se(e);if(r)return Ie(r,t);throw TypeError("Unexpected input: "+typeof e)}},Ce=(e,t)=>{if(typeof e=="number")throw TypeError("Iterable of numbers is not supported");if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e;if(e instanceof Blob)return{path:"",content:e};if(typeof e=="string")return{path:"",content:e};{let r=Se(e);if(r)return Ie(r,t);throw TypeError("Unexpected input: "+typeof e)}},Ie=({path:e,mode:t,mtime:r,content:s},n)=>({path:e,mode:t,mtime:r,content:s?ci(s,n):void 0}),ci=(e,t)=>{if(e==null)return"";if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return e;if(e instanceof Blob)return e;if(typeof e=="string")return e;{let r=Ae(e);if(r)return E(r,Ce,t);let s=qe(e);if(s)return E(s,j,t);let n=De(e);if(n)return E(Ee(n),j,t);throw TypeError("Unexpected input: "+typeof e)}},Ae=e=>{let t=e;return t&&typeof t[Symbol.iterator]=="function"?t:null},qe=e=>{let t=e;return t&&typeof t[Symbol.asyncIterator]=="function"?t:null},De=e=>e&&typeof e.getReader=="function"?e:null,Se=e=>typeof e=="object"&&(e.path||e.content)?e:null;hr.exports=wr});var Ar=b((E0,Cr)=>{"use strict";var xi=N(),{decodeCID:li,CID:di}=D(),Ir=class extends xi{constructor(t){super("files",["stat"],t)}async stat(t,r={}){let{size:s,hash:n,withLocal:i,timeout:o,signal:a}=r,{stat:l}=await this.remote.stat({path:ki(t),size:s,hash:n,withLocal:i,timeout:o,signal:a});return ui(l)}};Cr.exports=Ir;var ki=e=>di.isCID(e)?`/ipfs/${e.toString()}`:e,ui=e=>({...e,cid:li(e.cid)})});var Sr=b((C0,qr)=>{"use strict";var Dr=Oe(),fi=br(),hi=dr(),pi=Er(),mi=Ar(),V=class extends pi{constructor(t){super(t);this.transport=t,this.dag=new hi(this.transport),this.files=new mi(this.transport),this.block=new fi(this.transport)}static attach(t,r){t.transport.connect(r)}static detached(){return new V(new Dr(void 0))}static from(t){return new V(new Dr(t))}};qr.exports=V});var Ur=b((A0,Tr)=>{"use strict";function wi(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}Tr.exports=wi});var Nr=b((q0,jr)=>{"use strict";function vi(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");let r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e[s]^t[s];return r}jr.exports=vi});var Mr=b((D0,Br)=>{"use strict";var Ei=Ur(),Ci=z(),Ii=me(),Ai=W(),qi=O(),Di=Nr();Br.exports={compare:Ei,concat:Ci,equals:Ii,fromString:Ai,toString:qi,xor:Di}});var Si=Q(Ne()),Ti=Q(Sr()),Ui=Q(ne());var gi=["https://ipfs.io/ipfs/:hash","https://cf-ipfs.com/ipfs/:hash"];function yi(e){let t=0;return new Promise((r,s)=>e.forEach(n=>n.then(r).catch(()=>{++t===e.length&&s()})))}var Te=Q(Mr());var U0=e=>new Uint8Array((e.match(/.{1,2}/g)||[]).map(t=>parseInt(t,16)));var export_CID=Ui.default;var export_IpfsClient=Ti.default;var export_all=Si.default;var export_concat=Te.concat;var export_fromString=Te.fromString;var export_toString=Te.toString;export{export_CID as CID,export_IpfsClient as IpfsClient,export_all as all,export_concat as concat,U0 as fromHexString,export_fromString as fromString,gi as publicIpfsGateways,yi as raceToSuccess,export_toString as toString};
