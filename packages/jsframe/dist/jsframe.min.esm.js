var Ft=Object.create,oe=Object.defineProperty,xt=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty,_t=Object.getOwnPropertyNames,St=Object.getOwnPropertyDescriptor,Te=e=>oe(e,"__esModule",{value:!0}),M=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),It=(e,t)=>{Te(e);for(var r in t)oe(e,r,{get:t[r],enumerable:!0})},Dt=(e,t,r)=>{if(Te(e),t&&typeof t=="object"||typeof t=="function")for(let n of _t(t))!Tt.call(e,n)&&n!=="default"&&oe(e,n,{get:()=>t[n],enumerable:!(r=St(t,n))||r.enumerable});return e},_e=e=>e&&e.__esModule?e:Dt(oe(e!=null?Ft(xt(e)):{},"default",{value:e,enumerable:!0}),e),Ie=M((ir,Se)=>{Se.exports=`.jsframe-titlebar-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-titlebar-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-modal-window-background {
    background: rgba(0, 0, 0, 0.6);
    height: 100%;
    widdth: 100%
}`}),De=M(($,fe)=>{!function(e,t){typeof $=="object"&&typeof fe=="object"?fe.exports=t():typeof define=="function"&&define.amd?define("EventEmitter",[],t):typeof $=="object"?$.EventEmitter=t():e.EventEmitter=t()}($,function(){return(()=>{"use strict";var e={561:(n,a,s)=>{function d(h,o){return function(c){if(Array.isArray(c))return c}(h)||function(c,m){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))return;var p=[],C=!0,B=!1,w=void 0;try{for(var T,F=c[Symbol.iterator]();!(C=(T=F.next()).done)&&(p.push(T.value),!m||p.length!==m);C=!0);}catch(x){B=!0,w=x}finally{try{C||F.return==null||F.return()}finally{if(B)throw w}}return p}(h,o)||i(h,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(h,o){var c;if(typeof Symbol=="undefined"||h[Symbol.iterator]==null){if(Array.isArray(h)||(c=i(h))||o&&h&&typeof h.length=="number"){c&&(h=c);var m=0,p=function(){};return{s:p,n:function(){return m>=h.length?{done:!0}:{done:!1,value:h[m++]}},e:function(T){throw T},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,B=!0,w=!1;return{s:function(){c=h[Symbol.iterator]()},n:function(){var T=c.next();return B=T.done,T},e:function(T){w=!0,C=T},f:function(){try{B||c.return==null||c.return()}finally{if(w)throw C}}}}function i(h,o){if(h){if(typeof h=="string")return g(h,o);var c=Object.prototype.toString.call(h).slice(8,-1);return c==="Object"&&h.constructor&&(c=h.constructor.name),c==="Map"||c==="Set"?Array.from(h):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?g(h,o):void 0}}function g(h,o){(o==null||o>h.length)&&(o=h.length);for(var c=0,m=new Array(o);c<o;c++)m[c]=h[c];return m}function b(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")}function y(h,o){for(var c=0;c<o.length;c++){var m=o[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}function f(h,o,c){return o&&y(h.prototype,o),c&&y(h,c),h}s.d(a,{default:()=>E});var E=function(){function h(o){if(b(this,h),this.onListeners=new Map,this.onlyListeners=new Map,o){var c,m=v(o);try{for(m.s();!(c=m.n()).done;){var p=c.value,C=new u;this.onListeners.set(p,C)}}catch(B){m.e(B)}finally{m.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return f(h,[{key:"on",value:function(o,c){var m=this.onListeners.get(o);if(m||(m=new u,this.onListeners.set(o,m)),m.addListenerFunc(c),this.onIntercepterFuncs)for(var p=0,C=Object.entries(this.onIntercepterFuncs);p<C.length;p++){var B=d(C[p],2),w=B[0];(0,B[1])({eventType:o,func:c,onIntercepterFuncname:w})}}},{key:"removeListener",value:function(o,c){var m=this.onListeners.get(o);m&&m.removeListener(c)}},{key:"only",value:function(o,c,m){var p=this.onlyListeners.get(o);p||(p=new l,this.onlyListeners.set(o,p)),p.putListenerFunc(c,m)}},{key:"pipe",value:function(o){this.childEventEmitters.push(o)}},{key:"emit",value:function(o,c){var m=this.onListeners.get(o);m&&(c.eventType=o,m.callListenerFunc(c));var p=this.onlyListeners.get(o);p&&(c.eventType=o,p.callListenerFunc(c));var C,B=v(this.childEventEmitters);try{for(B.s();!(C=B.n()).done;)C.value.emit(o,c)}catch(w){B.e(w)}finally{B.f()}}},{key:"getAllListeners",value:function(){var o={};this.onListeners.forEach(function(C,B){var w=B,T=C.getAllListeners();o[w]||(o[w]={}),o[w].listeners=T});var c,m=0,p=v(this.childEventEmitters);try{for(p.s();!(c=p.n()).done;)c.value.onListeners.forEach(function(C,B){var w=B,T=C.getAllListeners();o[w]||(o[w]={}),o[w].childEventEmitters||(o[w].childEventEmitters=[]),o[w].childEventEmitters.push({childEmitterIdx:m,listeners:T})}),m++}catch(C){p.e(C)}finally{p.f()}return o}},{key:"hasListenerFuncs",value:function(o){if(this.onListeners.has(o)){var c=this.onListeners.get(o);if(c&&c.hasListenerFunc())return!0}var m,p=v(this.childEventEmitters);try{for(p.s();!(m=p.n()).done;)if(m.value.hasListenerFuncs(o))return!0}catch(C){p.e(C)}finally{p.f()}return!1}},{key:"clearAll",value:function(){var o,c=v(this.onListeners.values());try{for(c.s();!(o=c.n()).done;)o.value.clearAll()}catch(C){c.e(C)}finally{c.f()}this.onListeners.clear();var m,p=v(this.onlyListeners.values());try{for(p.s();!(m=p.n()).done;)m.value.clearAll()}catch(C){p.e(C)}finally{p.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(o,c){if(this.onIntercepterFuncs[o])throw Error('Always registered intercepter func "'.concat(o,'".'));this.onIntercepterFuncs[o]=c}},{key:"removeOnIntercepterFunc",value:function(o){delete this.onIntercepterFuncs[o]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var o=[],c=0,m=Object.entries(this.onIntercepterFuncs);c<m.length;c++){var p=d(m[c],2),C=p[0],B=p[1];o.push({funcName:C,func:B})}return o}}]),h}(),u=function(){function h(){b(this,h),this.listenerFuncs=[]}return f(h,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(o){this.listenerFuncs.push(o)}},{key:"callListenerFunc",value:function(o){var c,m=v(this.listenerFuncs);try{for(m.s();!(c=m.n()).done;){var p=c.value;if(this.typeOf(p)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(p,'".Check args of #only method or #on method.'));p(o)}}catch(C){m.e(C)}finally{m.f()}}},{key:"removeListener",value:function(o){this.removeArrayItemOnce(this.listenerFuncs,o)}},{key:"removeArrayItemOnce",value:function(o,c){var m=o.indexOf(c);return m>-1&&o.splice(m,1),o}},{key:"typeOf",value:function(o){return Object.prototype.toString.call(o).slice(8,-1)}}]),h}(),l=function(){function h(){b(this,h),this.listenerFuncMap=new Map}return f(h,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(o){return this.listenerFuncMap.has(o)}},{key:"putListenerFunc",value:function(o,c){this.listenerFuncMap.set(o,c)}},{key:"callListenerFunc",value:function(o){var c,m=v(this.listenerFuncMap.values());try{for(m.s();!(c=m.n()).done;){var p=c.value;if(this.typeOf(p)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(p,'".Check args of #only method or #on method.'));p(o)}}catch(C){m.e(C)}finally{m.f()}}},{key:"typeOf",value:function(o){return Object.prototype.toString.call(o).slice(8,-1)}}]),h}()}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}return r.d=(n,a)=>{for(var s in a)r.o(a,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:a[s]})},r.o=(n,a)=>Object.prototype.hasOwnProperty.call(n,a),r(561)})().default})}),ie=M((lr,ke)=>{var Y={};Y.LEFT_TOP="LEFT_TOP";Y.HCENTER_TOP="CENTER_TOP";Y.RIGHT_TOP="RIGHT_TOP";Y.LEFT_VCENTER="LEFT_CENTER";Y.HCENTER_VCENTER="CENTER_CENTER";Y.CENTER=Y.HCENTER_VCENTER;Y.RIGHT_VCENTER="RIGHT_CENTER";Y.LEFT_BOTTOM="LEFT_BOTTOM";Y.HCENTER_BOTTOM="CENTER_BOTTOM";Y.RIGHT_BOTTOM="RIGHT_BOTTOM";ke.exports=Y}),ze=M((sr,Me)=>{var kt=function(){function e(){var t={};t._timerId=null,t._isRunning=!1,t._timerInterval=0,t._internalCallback=r,t._timerMethod=null;function r(){t._timerMethod&&t._timerMethod(t),t._isRunning&&(clearTimeout(t._timerId),t._timerId=setTimeout(t._internalCallback,t._timerInterval))}}return e.setCallback=function(t){var r={};return r._timerMethod=t,r},e.setIntervalMillis=function(t){var r={};return r._timerInterval=t,r},e.stopTimer=function(){var t={};return t._isRunning=!1,t},e.startTimer=function(){var t={};return t._timerInterval>0&&(t._timerId=setTimeout(t._internalCallback,t._timerInterval),t._isRunning=!0),t},e}();Me.exports=kt}),ce=M((ur,Le)=>{var Re=ze();function H(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}H.set=function(e){var t={};t.targetFrame=e,t.fromWidth(e.getWidth()),t.fromHeight(e.getHeight()),t.toWidth(e.getWidth()),t.toHeight(e.getHeight());var r=e.getPosition();return t.fromPosition(r.x,r.y,r.anchor),t};H.get=function(){var e={};return e.targetFrame};H.setDuration=function(e){var t={};return t.durationMillis=e,t};H.setFPS=function(e){var t={};return t.fps=e,t};H.fromPosition=function(e,t,r){var n={};return n.pinnedAnimationEnabled=!0,n._pinX=e,n._pinY=t,n.toPosition(e,t),r&&(n._pinAnchor=r),n};H.fromWidth=function(e){var t={};return t._crrWidth=e,t};H.fromHeight=function(e){var t={};return t._crrHeight=e,t};H.toWidth=function(e){var t={};return t._toWidth=e,t};H.toHeight=function(e){var t={};return t._toHeight=e,t};H.fromAlpha=function(e){var t={};return t._crrAlpha=e,t};H.toAlpha=function(e){var t={};return t._toAlpha=e,t};H.ease=function(e){var t={};return t._ease=e,t};H.toPosition=function(e,t){var r={};return r._toX=e,r._toY=t,r};H.toX=function(e){var t={};return t._toX=e,t};H.toY=function(e){var t={};return t._toY=e,t};H.start=function(e,t){var r={},n=r._crrWidth,a=r._crrHeight,s=r._pinX,d=r._pinY,v=r._crrAlpha;return new Promise(function(i,g){var b=parseInt(r.fps*(r.durationMillis/1e3));b==0&&(b=1);var y=(r._toWidth-n)/b,f=(r._toHeight-a)/b,E=(r._toX-s)/b,u=(r._toY-d)/b,l=(r._toAlpha-v)/b;r._ease&&(l=l/1.24);var h=r.durationMillis/b,o=0;function c(){var p=new Re;p.setIntervalMillis(h),p.setCallback(function(C){if(o==b){var B=r._toWidth,w=r._toHeight,T=s+E*o,F=d+u*o,x=r._toAlpha;r.pinnedAnimationEnabled&&r.targetFrame._setPositionInternally(T,F,r._pinAnchor,B,w),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=x),r.targetFrame.setSize(B,w,!0),r._crrWidth=B,r._crrHeight=w,r._pinX=T,r._pinY=F}if(o==b+1){C.stopTimer(),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=r._toAlpha),i(r);return}var B=n+y*o,w=a+f*o,T=s+E*o,F=d+u*o,x=v+l*o;if(r.pinnedAnimationEnabled&&r.targetFrame._setPositionInternally(T,F,r._pinAnchor,B,w),r.targetFrame.htmlElement.style&&(r.targetFrame.htmlElement.style.opacity=x),r.targetFrame.setSize(B,w,!0),o==0){var S=r.targetFrame.parentCanvas;if(S){var I=S.getWindow(r.targetFrame.id);I&&r.targetFrame.show({requestFocus:t})}}o++}),p.startTimer()}if(e){var m=new Re;m.setIntervalMillis(e),m.setCallback(function(p){p.stopTimer(),c()}),m.startTimer()}else c()})};Le.exports=H}),le=M((ee,he)=>{!function(e,t){typeof ee=="object"&&typeof he=="object"?he.exports=t():typeof define=="function"&&define.amd?define("mergeDeeply",[],t):typeof ee=="object"?ee.mergeDeeply=t():e.mergeDeeply=t()}(ee,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(n,a,s){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a)return n;if(4&a&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var d in n)r.d(s,d,function(v){return n[v]}.bind(null,d));return s},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(y,f){var E;if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(E=d(y))||f&&y&&typeof y.length=="number"){E&&(y=E);var u=0,l=function(){};return{s:l,n:function(){return u>=y.length?{done:!0}:{done:!1,value:y[u++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,o=!0,c=!1;return{s:function(){E=y[Symbol.iterator]()},n:function(){var m=E.next();return o=m.done,m},e:function(m){c=!0,h=m},f:function(){try{o||E.return==null||E.return()}finally{if(c)throw h}}}}function a(y){return function(f){if(Array.isArray(f))return v(f)}(y)||function(f){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(f))return Array.from(f)}(y)||d(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(y,f){return function(E){if(Array.isArray(E))return E}(y)||function(E,u){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(E)))return;var l=[],h=!0,o=!1,c=void 0;try{for(var m,p=E[Symbol.iterator]();!(h=(m=p.next()).done)&&(l.push(m.value),!u||l.length!==u);h=!0);}catch(C){o=!0,c=C}finally{try{h||p.return==null||p.return()}finally{if(o)throw c}}return l}(y,f)||d(y,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(y,f){if(y){if(typeof y=="string")return v(y,f);var E=Object.prototype.toString.call(y).slice(8,-1);return E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set"?Array.from(y):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?v(y,f):void 0}}function v(y,f){(f==null||f>y.length)&&(f=y.length);for(var E=0,u=new Array(f);E<f;E++)u[E]=y[E];return u}function i(y){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(y)}function g(y,f,E){var u=function(A){return A&&i(A)==="object"&&!Array.isArray(A)},l=E&&E.concatArray,h=E.isCloneMode,o={};E&&E.assignToObject&&(o=E.assignToObject,E.assignToObject=null);var c,m,p,C=null;if(C=o===y?y:Object.assign(o,y),u(y)&&u(f))for(var B=0,w=Object.entries(f);B<w.length;B++){var T=s(w[B],2),F=T[0],x=T[1],S=y[F];if(l&&Array.isArray(x)&&Array.isArray(S)&&f!==y)C[F]=S.concat.apply(S,a(x));else if(u(x)&&Object.prototype.hasOwnProperty.call(y,F))C[F]=g(S,x,E);else{var I=x;if(h&&Array.isArray(x)){var P,z=[],W=n(x);try{for(W.s();!(P=W.n()).done;){var j=P.value,L=JSON.parse(JSON.stringify(j));z.push(L)}}catch(A){W.e(A)}finally{W.f()}I=z}Object.assign(C,(p=I,(m=F)in(c={})?Object.defineProperty(c,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[m]=p,c))}}return C}function b(y){var f=null,E=null,u=y.op;if(!u)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var l=u==="merge",h=u==="clone",o=u==="overwrite-merge";if(l){if(f=y.object1,E=y.object2,!f||!E)throw Error("object1 or object2 is not specified.")}else if(o){if(f=y.object1,E=y.object2,!f||!E)throw Error("object1 or object2 is not specified.");if(Object.keys(E).length===0)return null}else{if(!h)throw Error('An invalid "op" property value "'.concat(u,'" has been specified.'));f=y.object1,E={}}var c,m=Object.create(Object.getPrototypeOf(f)),p=null,C=(c=f,Object.getPrototypeOf(c)!==Object.prototype);return l&&C||h?(g(f,f,{assignToObject:m,concatArray:y&&y.concatArray,isCloneMode:h}),p=m):p={},g(h?p:f,E,{assignToObject:o?f:p,concatArray:y&&y.concatArray}),p}r.r(t),r.d(t,"default",function(){return b})}]).default})}),pe=M((te,ve)=>{!function(e,t){typeof te=="object"&&typeof ve=="object"?ve.exports=t():typeof define=="function"&&define.amd?define("EventListenerHelper",[],t):typeof te=="object"?te.EventListenerHelper=t():e.EventListenerHelper=t()}(te,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(n,a,s){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:s})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a)return n;if(4&a&&typeof n=="object"&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var d in n)r.d(s,d,function(v){return n[v]}.bind(null,d));return s},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(b){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function a(b,y){return function(f){if(Array.isArray(f))return f}(b)||function(f,E){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))return;var u=[],l=!0,h=!1,o=void 0;try{for(var c,m=f[Symbol.iterator]();!(l=(c=m.next()).done)&&(u.push(c.value),!E||u.length!==E);l=!0);}catch(p){h=!0,o=p}finally{try{l||m.return==null||m.return()}finally{if(h)throw o}}return u}(b,y)||d(b,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(b,y){var f;if(typeof Symbol=="undefined"||b[Symbol.iterator]==null){if(Array.isArray(b)||(f=d(b))||y&&b&&typeof b.length=="number"){f&&(b=f);var E=0,u=function(){};return{s:u,n:function(){return E>=b.length?{done:!0}:{done:!1,value:b[E++]}},e:function(c){throw c},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,h=!0,o=!1;return{s:function(){f=b[Symbol.iterator]()},n:function(){var c=f.next();return h=c.done,c},e:function(c){o=!0,l=c},f:function(){try{h||f.return==null||f.return()}finally{if(o)throw l}}}}function d(b,y){if(b){if(typeof b=="string")return v(b,y);var f=Object.prototype.toString.call(b).slice(8,-1);return f==="Object"&&b.constructor&&(f=b.constructor.name),f==="Map"||f==="Set"?Array.from(b):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?v(b,y):void 0}}function v(b,y){(y==null||y>b.length)&&(y=b.length);for(var f=0,E=new Array(y);f<y;f++)E[f]=b[f];return E}function i(b,y){for(var f=0;f<y.length;f++){var E=y[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}r.r(t),r.d(t,"default",function(){return g});var g=function(){function b(){!function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,b),this.evTargetListenersMap=new Map,this.listenerNum=0}var y,f,E;return y=b,(f=[{key:"addEventListener",value:function(u,l,h,o){var c=this,m=null;if(o&&(m=this._cloneJson(o)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(m);var p=null;m&&m.listenerName&&(p=m.listenerName);var C=null;m&&m.once&&(delete m.once,m.callbackOnce=!0,C=function(x){h(x),c.removeEventListener(u,l,null,m)});var B={listenerName:null,success:!0};C?u.addEventListener(l,C,m):u.addEventListener(l,h,m);var w=this.evTargetListenersMap.get(u);w||(w=new Map,this.evTargetListenersMap.set(u,w));var T=w.get(l);if(T||(T=new Map,w.set(l,T)),p!==null){if(T.has(p))throw Error('The listenerName "'.concat(p,'" is already used for the specified event type ').concat(l));T.set(p,{listener:h,onceListener:C,options:m}),B.listenerName=p}else{var F="listener-".concat(this.listenerNum);m||(m={}),m.listenerName=F,T.set(F,{listener:h,onceListener:C,options:m}),B.listenerName=F,this.listenerNum+=1}return B}},{key:"removeEventListener",value:function(u,l,h,o){if(arguments.length<3)throw Error("Three or four arguments are required.");if(this.typeOf(h)!=="Function"&&this.typeOf(h)!=="Null")throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(o);var c=null;o&&o.listenerName&&(c=o.listenerName);var m={success:!1,message:"unknown error"},p=this.evTargetListenersMap.get(u);if(!p)return m.message="DOM element ".concat(u,"(id=").concat(u.id,") doesn't have any listeners."),m;var C=p.get(l);if(!C)return m.message="DOM element ".concat(u,"(id=").concat(u.id,`) doesn't have "`).concat(l,'" listeners.'),m;if(c){var B=C.get(c);if(!B)return m.message="DOM element ".concat(u,"(id=").concat(u.id,`) doesn't have "`).concat(l,'" listener "').concat(c,'"'),m;C.delete(c),B.options&&B.options.callbackOnce?u.removeEventListener(l,B.onceListener,B.options):u.removeEventListener(l,B.listener,B.options),m.success=!0}else if(!c){if(!h)return m.message="options.listenerName is not found",m;var w="listener",T=h,F=this._searchKeyInValueContent(C,w,T);if(F){var x=C.get(F),S=x.onceListener,I=x.options;C.delete(F),S?u.removeEventListener(l,S,I):u.removeEventListener(l,h,I),m.success=!0}else m.success=!1,m.message="Specified listener could not be deleted from DOM element ".concat(u,"(id=").concat(u.id,`).
        Since the specified listener is not registered as an event listener,
        it may have been registered outside of event-listener-helper.`)}return m}},{key:"getEventListeners",value:function(u,l){return u?l?this._getEventListenersWith2Args(u,l):this._getEventListenersWith1Arg(u):[]}},{key:"getAllEventListeners",value:function(){var u=this,l=new Map;return this.evTargetListenersMap.forEach(function(h,o){var c=o,m=u._getEventListenersWith1Arg(c),p=new Map;l.set(c,p);var C,B=s(m);try{for(B.s();!(C=B.n()).done;){var w=C.value;p.set(w.eventType,w.listeners)}}catch(T){B.e(T)}finally{B.f()}}),l}},{key:"_getEventListenersWith1Arg",value:function(u){var l=[],h=this.evTargetListenersMap.get(u);if(!h)return l;var o,c=s(h);try{for(c.s();!(o=c.n()).done;){var m,p=a(o.value,2),C=p[0],B=p[1],w=[],T=s(B.values());try{for(T.s();!(m=T.n()).done;){var F=m.value;w.push(this._getFrozenListenerDef(F))}}catch(x){T.e(x)}finally{T.f()}w.length>0&&l.push({eventType:C,listeners:w})}}catch(x){c.e(x)}finally{c.f()}return l}},{key:"_getEventListenersWith2Args",value:function(u,l){if(arguments.length!==2)throw Error("Only two arguments can be specified");var h=[],o=this.evTargetListenersMap.get(u);if(!o)return h;var c=o.get(l);if(!c)return h;var m,p=s(c.values());try{for(p.s();!(m=p.n()).done;){var C=m.value,B=this._getFrozenListenerDef(C);h.push(B)}}catch(w){p.e(w)}finally{p.f()}return h}},{key:"getEventListener",value:function(u,l,h){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var o=this.evTargetListenersMap.get(u);if(!o)return null;var c=o.get(l);if(!c)return null;var m=c.get(h),p=this._getFrozenListenerDef(m);return p}},{key:"hasEventListeners",value:function(u,l){if(arguments.length!==2)throw Error("Only two arguments can be specified");var h=this.evTargetListenersMap.get(u);if(!h)return!1;var o=h.get(l);return!(!o||o.size===0)}},{key:"hasEventListener",value:function(u,l,h){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var o=this.evTargetListenersMap.get(u);if(!o)return!1;var c=o.get(l);if(!c)return!1;var m=c.get(h);return!!m}},{key:"_getFrozenListenerDef",value:function(u){if(!u)return null;var l={},h=null,o=u.options;return o&&(h={},l.options=h,o.capture&&(h.capture=o.capture),o.callbackOnce&&(h.once=o.callbackOnce),o.listenerName&&(h.listenerName=o.listenerName)),l.listener=u.listener,Object.freeze(h),Object.freeze(l),l}},{key:"clearAllEventListeners",value:function(){var u,l=s(this.getAllEventTargets());try{for(l.s();!(u=l.n()).done;){var h=u.value;this.clearEventListeners(h)}}catch(o){l.e(o)}finally{l.f()}}},{key:"clearEventListeners",value:function(u,l){if(!u)throw Error("At least the EventTarget must be specified as an argument");var h=this.getEventListeners(u,l);if(l){if(l){var o,c=s(h);try{for(c.s();!(o=c.n()).done;){var m=o.value;this.removeEventListener(u,l,null,m.options)}}catch(S){c.e(S)}finally{c.f()}}}else{var p,C=s(h);try{for(C.s();!(p=C.n()).done;){var B,w=p.value,T=w.eventType,F=s(w.listeners);try{for(F.s();!(B=F.n()).done;){var x=B.value.options;this.removeEventListener(u,T,null,x)}}catch(S){F.e(S)}finally{F.f()}}}catch(S){C.e(S)}finally{C.f()}}}},{key:"clearEventListener",value:function(u,l,h){var o=this.getEventListener(u,l,h);o&&o.options&&this.removeEventListener(u,l,null,o.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(u){var l,h=[],o=s(this.getAllEventTargets());try{for(o.s();!(l=o.n()).done;){var c,m=l.value,p=this.evTargetListenersMap.get(m),C=s(p.keys());try{for(C.s();!(c=C.n()).done;){var B=c.value,w=p.get(B),T=this._getFrozenListenerDef(w.get(u));T&&h.push(T)}}catch(F){C.e(F)}finally{C.f()}}}catch(F){o.e(F)}finally{o.f()}return h}},{key:"_searchKeyInValueContent",value:function(u,l,h){var o,c=s(u);try{for(c.s();!(o=c.n()).done;){var m=a(o.value,2),p=m[0];if(m[1][l]===h)return p}}catch(C){c.e(C)}finally{c.f()}return null}},{key:"_checkTypeOfOptions",value:function(u){if(n(u)!=="object"&&u!==void 0)throw typeof u=="boolean"?new Error(`Type of boolean is not accepted as the fourth argument you specify.
      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead.`):new Error("Type of ".concat(n(u),` is not accepted as the fourth argument you specify.
      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}.`))}},{key:"_cloneJson",value:function(u){return JSON.parse(JSON.stringify(u))}},{key:"typeOf",value:function(u){return Object.prototype.toString.call(u).slice(8,-1)}}])&&i(y.prototype,f),E&&i(y,E),b}()}]).default})}),He=M((dr,Oe)=>{"use strict";var Mt=ce(),q=ie(),Pe=le(),zt=pe();function D(e){let t={};t.eventListenerHelper=new zt,t.windowMode="default",t.styleDisplay="flex",t.horizontalAlign="left",t.verticalAlign="top",t.keyListener=null,t.minimizeButton=null,t.maximizeButton=null,t.demaximizeButton=null,t.deminimizeButton=null,t.opts=e,t.isWindowManagerFixed=e.frame.jsFrame.isWindowManagerFixed,e.styleDisplay&&(t.styleDisplay=e.styleDisplay),e.minimizeButton&&(t.minimizeButton=e.minimizeButton),e.deminimizeButton&&(t.deminimizeButton=e.deminimizeButton),e.maximizeButton&&(t.maximizeButton=e.maximizeButton),e.demaximizeButton&&(t.demaximizeButton=e.demaximizeButton),e.hideButton&&(t.hideButton=e.hideButton),e.hideButtons&&(t.hideButtons=e.hideButtons),t.maximizeParam=e.maximizeParam,t.demaximizeParam=e.demaximizeParam,t.minimizeParam=e.minimizeParam,t.deminimizeParam=e.deminimizeParam,t.hideParam=e.hideParam,t.dehideParam=e.dehideParam,e.horizontalAlign&&(t.horizontalAlign=e.horizontalAlign),e.verticalAlign&&(t.verticalAlign=e.verticalAlign),t.animationEnabled=!1,t.animationDuration=100,t.frame=e.frame,t.hideFrameBorder=!0,t.hideTitleBar=!0,t.restoreKey=null,t.restoreDuration=null,t.restoreCallback=null,t.statsStore={},e.animation&&(t.animationEnabled=e.animation),e.animationDuration&&(t.animationDuration=e.animationDuration),t.eventListeners={},t.resizeListener=t.handleOnResize.bind(this),t.maximizeParam&&t.maximizeParam.matchParent&&(t.resizeListener=t.handleOnVirtualResize.bind(this)),D.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",D.on=function(r,n){t.eventListeners[r]=n},D.doMaximize=function(r){if(t.windowMode==="hid")throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if(t.windowMode==="maximized"||t.windowMode==="maximizing")return;t.windowMode="maximizing";var n=t.frame;if(r&&r.matchParent){var a=n.getWindowManager(),s=a.getParentElement();if(!t.matchParentResizeObserver){var d=new MutationObserver(function(){t.resizeListener()});d.observe(s,{attributeFilter:[D.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),t.matchParentResizeObserver=d}}else t.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||t.eventListenerHelper.addEventListener(window,"resize",t.resizeListener,{listenerName:"window-resize-listener"});t.saveCurrentWindowStats("maximize_mode"),t.hideTitleBar=r?r.fullScreen:!1,t.hideTitleBar?n.hideAllVisibleFrameComponents():(t.maximizeButton&&n.hideFrameComponent(t.maximizeButton),t.demaximizeButton&&n.showFrameComponent(t.demaximizeButton,t.styleDisplay)),n.setMovable(!1),n.setResizable(!1),r&&r.restoreKey&&(t.restoreKey=r.restoreKey),r&&r.restoreDuration&&(t.restoreDuration=r.restoreDuration),r&&r.restoreCallback&&(t.restoreCallback=r.restoreCallback),t.renderMaximizedMode({animation:t.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,matchParent:r&&r.matchParent?r.matchParent:!1})},D.renderMaximizedMode=function(r){var n={},a=n.frame,s=n.loadWindowStats("maximize_mode"),d=0,v=0,i=0,g=0;n.hideTitleBar&&(d=0,v=-s.titleBarHeight);var b=window.innerWidth,y=window.innerHeight;if(r.matchParent){var f=a.getWindowManager(),E=f.getParentElement();b=E.clientWidth,y=E.clientHeight}n.hideFrameBorder?(i=b,g=y+(n.hideTitleBar?s.titleBarHeight:0)):(i=b-s.frameBorderWidthDefault*2,g=y-s.frameBorderWidthDefault*2+(n.hideTitleBar?s.titleBarHeight:0)),n.horizontalAlign=="right"&&(d=-i),n.verticalAlign=="bottom"&&(v=-g);var u=function(l){var h=l&&l.disableCallback;if(a.setPosition(d,v),n.hideFrameBorder&&(a.frameBorderWidthDefault=0,a.frameBorderWidthFocused=0,a.htmlElement.style.borderWidth="0px"),a.setSize(i,g,!0),h)return;n.hideTitleBar&&(n.restoreKey&&(n.keyListener=function(o){o.code===n.restoreKey&&n.doCommand("restore")}),window.addEventListener("keydown",n.keyListener),a.iframe&&a.iframe.contentWindow.addEventListener("keydown",n.keyListener)),n.windowMode="maximized",r&&r.callback&&r.callback(n.frame,{eventType:"maximized"}),n.eventListeners.maximized&&n.eventListeners.maximized(n.frame,{eventType:"maximized"})};r&&r.animation?n.animateFrame({frame:a,from:s,to:{left:d,top:v,width:i,height:g},duration:r.duration?r.duration:n.animationDuration,callback:u}):r&&r.caller==="handleOnResize"?u({disableCallback:!0}):u()},D.getWindowMode=function(){return t.windowMode},D.doDemaximize=function(r){var n={},a=n.frame;if(n.windowMode==="hid")throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");if(!n.hasWindowStats("maximize_mode"))return;n.hideTitleBar||(n.maximizeButton&&a.showFrameComponent(n.maximizeButton,n.styleDisplay),n.demaximizeButton&&a.hideFrameComponent(n.demaximizeButton)),n.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,forceShowFrameComponents:n.animationEnabled&&n.hideTitleBar,duration:r&&r.duration?r.duration:null,eventType:"demaximized"})},D.handleOnResize=function(){var r={};r.renderMaximizedMode({caller:"handleOnResize"})},D.handleOnVirtualResize=function(){var r={};r.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},D.doMinimize=function(r){var n={};if(n.windowMode==="minimized"||n.windowMode==="minimizing")return;n.windowMode="minimizing";var a=n.frame;n.saveCurrentWindowStats("minimize_mode"),a.setResizable(!1),n.renderMinimizedMode({animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,toWidth:r&&r.toWidth?r.toWidth:null})},D.renderMinimizedMode=function(r){var n={},a=n.frame,s=n.loadWindowStats("minimize_mode"),d=n.getCurrentWindowStats(),v=n.getCurrentWindowStats();v.height=s.titleBarHeight,r&&r.toWidth&&(v.width=r.toWidth);var i=function(){var g=!0;a.setSize(v.width,v.height,g),n.windowMode="minimized",n.minimizeButton&&a.hideFrameComponent(n.minimizeButton),n.deminimizeButton&&a.showFrameComponent(n.deminimizeButton,n.styleDisplay),r.callback&&r.callback(n.frame,{eventType:"minimized"}),n.eventListeners.minimized&&n.eventListeners.minimized(n.frame,{eventType:"minimized"})};r&&r.animation?n.animateFrame({toAlpha:1,duration:r.duration?r.duration:n.animationDuration,frame:a,from:d,to:v,callback:i}):i()},D.doDeminimize=function(r){var n={},a=n.frame;if(!n.hasWindowStats("minimize_mode"))return;n.minimizeButton&&a.showFrameComponent(n.minimizeButton,n.styleDisplay),n.deminimizeButton&&a.hideFrameComponent(n.deminimizeButton),n.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:n.animationEnabled,duration:r&&r.duration?r.duration:null,callback:r&&r.callback?r.callback:null,eventType:"deminimized"})},D.doHide=function(r){var n={};if(n.windowMode==="hid"||n.windowMode==="hiding")return;n.windowMode="hiding";var a=n.frame;n.saveCurrentWindowStats("hide_mode"),a.setResizable(!1);var s={animation:n.animationEnabled};r&&Pe({op:"overwrite-merge",object1:s,object2:r}),n.renderHideMode(s)},D.renderHideMode=function(r){var n={},a=n.frame,s=n.loadWindowStats("hide_mode"),d=n.getCurrentWindowStats(),v={x:0,y:0},i=r.toElement;r.offset&&(v=r.offset);var g=0,b=0;{var y=r&&r.align?r.align:"LEFT_TOP";if(!y||q.LEFT_TOP==y)g=d.left,b=d.top;else if(q.HCENTER_TOP==y)g=d.left+d.width/2,b=d.top;else if(q.RIGHT_TOP==y)g=d.left+d.width,b=d.top;else if(q.LEFT_VCENTER==y)g=d.left,b=d.top+d.height/2;else if(q.HCENTER_VCENTER==y)g=d.left+d.width/2,b=d.top+d.height/2;else if(q.RIGHT_VCENTER==y)g=d.left+d.width,b=d.top+d.height/2;else if(q.LEFT_BOTTOM==y)g=d.left,b=d.top+d.height;else if(q.HCENTER_BOTTOM==y)g=d.left+d.width/2,b=d.top+d.height;else if(q.RIGHT_BOTTOM==y)g=d.left+d.width,b=d.top+d.height;else if(y=="ABSOLUTE")if(i){var f=i.getBoundingClientRect();n.isWindowManagerFixed?(g=f.left,b=f.top):(g=f.left+window.pageXOffset,b=f.top+window.pageYOffset)}else g=v.x,b=v.y}var E={left:g,top:b,width:0,height:s.titleBarHeight},u=function(){var l=!0;a.setSize(E.width,E.height,l),n.windowMode="hid",r&&r.callback&&r.callback(n.frame,{eventType:"hid"}),n.eventListeners.hid&&n.eventListeners.hid(n.frame,{eventType:"hid"})};a.hideAllVisibleFrameComponents(),r&&r.animation?n.animateFrame({fromAlpha:r.silent?0:1,toAlpha:0,ease:!0,duration:r.duration?r.duration:n.animationDuration,frame:a,from:d,to:E,callback:u}):u()},D.doDehide=function(r){var n={},a=n.frame;if(!n.hasWindowStats("hide_mode"))return;n.restoreWindow({duration:r&&r.duration?r.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:n.animationEnabled,forceShowFrameComponents:!0,callback:r&&r.callback?r.callback:null,eventType:"dehided"})},D.loadWindowStats=function(r){var n={};return n.statsStore[r]},D.saveCurrentWindowStats=function(r){var n={},a=n.getCurrentWindowStats();if(n.hasWindowStats(r)){var s=n.loadWindowStats(r),d=!n.windowStatsEquals(a,s);return d&&(n.statsStore[r]=a),d}else return n.statsStore[r]=a,!0},D.windowStatsEquals=function(r,n){if(r&&n){var a=JSON.stringify(r)===JSON.stringify(n);return a}else return!1},D.clearWindowStats=function(r){var n={};n.statsStore[r]=null},D.hasWindowStats=function(r){var n={};return n.statsStore[r]},D.getCurrentWindowStats=function(){var r={},n=r.frame,a=parseInt(n.titleBar.style.height,10),s=n.frameBorderWidthDefault,d=n.frameBorderWidthFocused,v=n.getLeft(),i=n.getTop(),g=n.getWidth(),b=n.getHeight(),y=n.resizable,f=n.movable;return{left:v,top:i,width:g,height:b,titleBarHeight:a,frameBorderWidthDefault:s,frameBorderWidthFocused:d,resizable:y,movable:f}},D.restoreWindow=function(r){var n={},a=n.frame,s=n.loadWindowStats(r.restoreMode),d=n.getCurrentWindowStats();a.frameBorderWidthDefault=s.frameBorderWidthDefault,a.frameBorderWidthFocused=s.frameBorderWidthFocused,a.htmlElement.style.borderWidth=a.frameBorderWidthFocused;var v=function(){r&&r.restorePosition==!1&&(s.left=d.left,s.top=d.top),a.setPosition(s.left,s.top);var i=!0;a.setSize(s.width,s.height,i),a.setResizable(s.resizable),a.setMovable(s.movable),n.clearWindowStats(r.restoreMode),n.keyListener&&(window.removeEventListener("keydown",n.keyListener),a.iframe&&a.iframe.contentWindow.removeEventListener("keydown",n.keyListener),n.keyListener=null),n.windowMode="default",r&&r.forceShowFrameComponents&&a.showAllVisibleFrameComponents(),a.show();var g="restored";r&&r.eventType&&(g=r.eventType),r&&r.callback&&r.callback(n.frame,{eventType:g}),n.eventListeners[g]&&n.eventListeners[g](n.frame,{eventType:g})};r&&r.animation?n.animateFrame({duration:r.duration?r.duration:n.animationDuration,frame:a,fromAlpha:0,toAlpha:1,from:d,to:s,callback:v}):v(),n.eventListenerHelper.removeEventListener(window,"resize",n.resizeListener),n.matchParentResizeObserver&&(n.matchParentResizeObserver.disconnect(),n.matchParentResizeObserver=null)},D.animateFrame=function(r){var n={},a=!1,s=isNaN(r.fromAlpha)?1:r.fromAlpha,d=r.from,v=r.to,i=new Mt;i.set(r.frame).setDuration(r.duration?r.duration:n.animationDuration).fromPosition(d.left,d.top,"LEFT_TOP").toPosition(v.left,v.top,"LEFT_TOP").fromWidth(d.width).fromHeight(d.height).toWidth(v.width).toHeight(v.height).fromAlpha(s).toAlpha(r.toAlpha==0?0:1).ease(r.ease).start(0,a).then(function(g){r.callback()})},D.doCommand=function(r,n){var a={};r==="maximize"&&a._defaultFunctionMaximize(a.frame),r==="demaximize"&&a._defaultFunctionDemaximize(a.frame),r==="restore"&&a._defaultFunctionRestoreFromFullscreen(a.frame),r==="minimize"&&a._defaultFunctionMinimize(a.frame),r==="deminimize"&&a._defaultFunctionDeminimize(a.frame),r==="hide"&&a._defaultFunctionHide(a.frame),r==="dehide"&&a._defaultFunctionDehide(a.frame)},D._defaultFunctionMaximize=function(r,n){var a={},s=a.opts,d={fullScreen:s.maximizeWithoutTitleBar===!0,restoreKey:s.restoreKey?s.restoreKey:"Escape",restoreDuration:s.restoreDuration};a.maximizeParam&&Pe({op:"overwrite-merge",object1:d,object2:a.maximizeParam}),r.control.doMaximize(d)},D._defaultFunctionDemaximize=function(r,n){r.control.doDemaximize({})},D._defaultFunctionRestoreFromFullscreen=function(r,n){var a={};r.control.doDemaximize({duration:a.restoreDuration?a.restoreDuration:null,callback:a.restoreCallback?a.restoreCallback:null})},D._defaultFunctionMinimize=function(r,n){r.control.doMinimize(t.minimizeParam)},D._defaultFunctionDeminimize=function(r,n){r.control.doDeminimize(t.deminimizeParam)},D._defaultFunctionHide=function(r,n){var a={align:"CENTER_BOTTOM"};t.hideParam&&(a=t.hideParam),r.control.doHide(a)},D._defaultFunctionDehide=function(r,n){var a={};r.control.doDehide(a.dehideParam)},D.setupDefaultEvents=function(){var r={};if(r.maximizeButton&&r.frame.on(r.maximizeButton,"click",r._defaultFunctionMaximize.bind(r)),r.demaximizeButton&&r.frame.on(r.demaximizeButton,"click",r._defaultFunctionDemaximize.bind(r)),r.minimizeButton&&r.frame.on(r.minimizeButton,"click",r._defaultFunctionMinimize.bind(r)),r.deminimizeButton&&r.frame.on(r.deminimizeButton,"click",r._defaultFunctionDeminimize.bind(r)),r.hideButton&&r.frame.on(r.hideButton,"click",r._defaultFunctionHide.bind(r)),r.hideButtons)for(var n in r.hideButtons){var a=r.hideButtons[n];a&&r.frame.on(a,"click",r._defaultFunctionHide.bind(r))}}}Oe.exports=D}),ye=M((fr,Ne)=>{function Lt(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.constructor=e,e.superConstructor=t,e.superClass=t.prototype}Ne.exports=Lt}),ge=M((cr,We)=>{function Rt(){var e="\u274C";this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}We.exports=Rt}),Ae=M((mr,je)=>{var Ot=ye(),Pt=ge();Ot(se,Pt);function se(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}se._setImage=function(e,t,r){var n={},a=n.imageStore[e];if(a)return a;var s=document.createElement("img");if(s.src=e,t&&r){var d=t,v=r,i="margin:0px;padding:0px;width:"+d+"px;height:"+v+"px";s.setAttribute("style",i)}return n.imageStore[e]=s,s};se.setSrc=function(e){var t={};e.default&&(t.imageDefault=t._setImage(e.default,e.width,e.height)),e.hovered&&(t.imageHovered=t._setImage(e.hovered,e.width,e.height)),e.pressed&&(t.imagePressed=t._setImage(e.pressed,e.width,e.height)),e.focused&&(t.imageFocused=t._setImage(e.focused,e.width,e.height))};je.exports=se}),Ue=M((hr,Ye)=>{function Ht(e){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}Ye.exports=Ht}),be=M((vr,Ge)=>{var Ve=le(),Nt=ge(),Wt=Ae(),jt=Ue();function X(){}X.buildChildMenuAppearance=function(e){return new jt(e)};X.buildTextButtonAppearance=function(e){if(e){var t=Ve({op:"clone",object1:e,concatArray:!0});return t}else return new Nt};X.buildImageButtonAppearance=function(e){if(e){var t=Ve({op:"clone",object1:e});return t}else return new Wt};X.buildButton=function(e){var t={};return t.buildTextButton(e)};X.appendChildMenuTo=function(e,t){var r={},n=document.createElement("div");n.classList.add("jsframe-child-menu"),n.innerHTML=e.childMenuHTML,n.style.position="absolute",n.style.pointerEvents="none",n.style.width=e.childMenuWidth+"px",n.style.display="none";var a=e.xOffset,s=parseInt(t.style.height,10)+e.yOffset+2;e.childMenuAlign==="LEFT"?n.style.left=a+"px":e.childMenuAlign==="RIGHT"?n.style.right=a+"px":e.childMenuAlign==="CENTER"&&(a=-e.childMenuWidth/2+parseInt(t.style.height,10)/2,n.style.left=a+"px"),n.style.top=s+"px",n.firstChild.style.pointerEvents="auto",t.appendChild(n)};X.buildTextButton=function(e){var t=e.size,r=t,n=t;e.width!=null&&(r=e.width),e.height!=null&&(n=e.height);var a=document.createElement("div"),s=e.borderWidth,d=e.borderRadius,v=e.borderColorDefault,i=e.borderColorFocused,g=e.borderColorHovered,b=e.borderColorPressed,y=e.borderStyleDefault,f=e.borderStyleFocused,E=e.borderStyleHovered,u=e.borderStylePressed,l=e.backgroundColorDefault,h=e.backgroundColorFocused,o=e.backgroundColorHovered,c=e.backgroundColorPressed,m=e.backgroundBoxShadow,p=e.fa,C=e.caption,B=e.imageDefault,w=e.imageFocused,T=e.imageHovered,F=e.imagePressed;B&&(B.style.pointerEvents="none"),w&&(w.style.pointerEvents="none"),T&&(T.style.pointerEvents="none"),F&&(F.style.pointerEvents="none");var x=e.captionColorDefault,S=e.captionColorFocused,I=e.captionColorHovered,P=e.captionColorPressed,z=e.captionShiftYpx,W=e.captionFontRatio;a._hasFrameFocus=!1,a._isMouseDown=!1,a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=r+"px",a.style.height=n+"px",e.cursor?a.style.cursor=e.cursor:a.style.cursor="pointer",a.style.margin="0px",a.style.padding="0px",a.style.boxSizing="content-box",a.style.fontFamily="sans-serif",a.onmousedown=function(A){a._isMouseDown=!0,a._handleFocusDrawing("onmousedown")},a.onmouseout=function(A){a._isMouseDown=!1,a._handleFocusDrawing("onmouseout")},a.onmouseover=function(A){a._handleHoverDrawing()},a.onmouseup=function(A){a._isMouseDown=!1,a._handleFocusDrawing("onmouseup")},a._onTakeFocus=function(){a._hasFrameFocus=!0,a._handleFocusDrawing("_onTakeFocus")},a._onReleaseFocus=function(){a._hasFrameFocus=!1,a._handleFocusDrawing("_onReleaseFocus")},a._handleFocusDrawing=function(A){a._hasFrameFocus?a._isMouseDown?(a.style.borderColor=b,a.style.borderStyle=u,a.style.backgroundColor=c,a.style.color=P,F&&Q(F,a)):(a.style.borderColor=i,a.style.borderStyle=f,a.style.backgroundColor=h,a.style.color=S,w&&Q(w,a)):a._isMouseDown?(a.style.borderColor=b,a.style.borderStyle=u,a.style.backgroundColor=c,a.style.color=P,F&&Q(F,a)):(a.style.borderColor=v,a.style.borderStyle=y,a.style.backgroundColor=l,a.style.color=x,B&&Q(B,a))},a._handleHoverDrawing=function(){a._hasFrameFocus,g&&(a.style.borderColor=g),E&&(a.style.borderStyle=E),o&&(a.style.backgroundColor=o),I&&(a.style.color=I),T&&Q(T,a)},a.style.padding="0px",a.style.textAlign="center",a.style.fontSize=n*W+"px",a.style.lineHeight=n+"px",a.style.borderWidth="1px",s!=null&&(a.style.borderWidth=s+"px"),m!=null&&(a.style.boxShadow=m),a.style.borderRadius=d+parseInt(a.style.borderWidth)+"px";var j=!0;if(j&&B)Q(B,a);else if(j&&C){var L=document.createElement("span");L.style.width="100%",L.style.marginTop=z+"px",L.style.display="inline-block",L.style.textAlign="center",L.style.fontFamily="sans-serif",L.appendChild(document.createTextNode(C)),a.appendChild(L)}else if(j&&p){var L=document.createElement("span");L.style.pointerEvents="none",L.style.width="100%",L.style.marginTop=z+"px",L.style.display="inline-block",L.style.textAlign="center",L.style.fontFamily="sans-serif",L.innerHTML='<i class="'+p+'"></i>',a.appendChild(L)}else!j&&C&&(a.style.paddingTop=z+"px",a.appendChild(document.createTextNode(C)));return a._handleFocusDrawing(),a};function Q(e,t){var r=t.querySelectorAll("img");t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);for(var n=0;n<r.length;n++){var a=r[n];e!==a&&t.removeChild(a)}}Ge.exports=X}),Ke=M((pr,qe)=>{var U=ie();function Z(e,t,r,n,a,s){var d={};d.id=e,d.x=r,d.y=n,d.frame=null,d._focusTakingCallabck=null,d._focusReleasingCallabck=null,a?d.frameComponentAlign=a:d.frameComponentAlign=U.LEFT_TOP,d.htmlElement=t,d.htmlElement.style.zIndex=50,d.htmlElement.setAttribute("component-id",e),s&&s.childMenu?d.childMenu=s.childMenu:t.querySelector(".jsframe-child-menu")&&(d.childMenu=t.querySelector(".jsframe-child-menu"))}Z.setFocusCallback=function(e,t){var r={};r._focusTakingCallabck=e,r._focusReleasingCallabck=t};Z.setFrame=function(e){var t={};t.frame=e,t.htmlElement.parentObject=e,t.updateAlign()};Z.updateAlign=function(){var e={},t=e.frameComponentAlign,r=e.frame,n=e.htmlElement.style;n.userSelect="none";var a=e.x,s=e.y,d=r.getWidth(),v=r.getHeight(),i=n.width,g=n.height;U.LEFT_TOP==t?(n.left=a+"px",n.top=s+"px"):U.HCENTER_TOP==t?(n.left=parseInt(d)/2-parseInt(i)/2+a+"px",n.top=s+"px"):U.RIGHT_TOP==t?(n.left=parseInt(d)-parseInt(i)+a+"px",n.top=s+"px"):U.LEFT_VCENTER==t?(n.left=a+"px",n.top=parseInt(v)/2-parseInt(g)/2+s+"px"):U.HCENTER_VCENTER==t?(n.left=parseInt(d)/2-parseInt(i)/2+a+"px",n.top=parseInt(v)/2-parseInt(g)/2+s+"px"):U.RIGHT_VCENTER==t?(n.left=parseInt(d)-parseInt(i)+a+"px",n.top=parseInt(v)/2-parseInt(g)/2+s+"px"):U.LEFT_BOTTOM==t?(n.left=a+"px",n.top=parseInt(v)-parseInt(g)+s+"px"):U.HCENTER_BOTTOM==t?(n.left=parseInt(d)/2-parseInt(i)/2+a+"px",n.top=parseInt(v)-parseInt(g)+s+"px"):U.RIGHT_BOTTOM==t&&(n.left=parseInt(d)-parseInt(i)+a+"px",n.top=parseInt(v)-parseInt(g)+s+"px")};Z.handleTakingFocus=function(){var e={};e._focusTakingCallabck&&e._focusTakingCallabck()};Z.handleReleasingFocus=function(){var e={};e._focusReleasingCallabck&&e._focusReleasingCallabck()};qe.exports=Z}),Qe=M(At=>{It(At,{default:()=>Yt});var Xe=_e(be()),Je=_e(Ke());function ue(){var e={};e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaption="",e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="bold",e.titleBarHeight="24px",e.useIframe=!1,e.useFrame=!0,e.titleBarClassNameDefault=null,e.titleBarClassNameFocused=null,e.setUseIFrame=function(t){return e.useIframe=t,e.useFrame=!t,e},e.titleBarCaptionLeftMargin="5px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarCaptionColorDefault="",e.titleBarCaptionColorFocused="",e.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",e.titleBarCaptionTextAlign="center",e.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",e.titleBarBorderBottomFocused=null,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused=e.frameBorderWidthDefault,e.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",e.frameBorderColorFocused=e.frameBorderColorDefault,e.frameBorderStyle="solid",e.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",e.frameBackgroundColor="transparent",e._partsBuilder=null,e.frameComponents=[],e.frameHeightAdjust=1,e.resizeAreaWidth=20,e.resizeAreaHeight=20,e.resizeAreaOffset=0,e.resizeAreaVisible=!1,e.getFrameInnerBorderRadius=function(t,r){return t?r?{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthFocused,10)+"px"}:{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthDefault,10)+"px"}:null},e.onInitialize=function(){if(e.showCloseButton){var t=e.getPartsBuilder(),r="\u274C",n="\u2716",a="\u274E",s=t.buildTextButtonAppearance();s.size=14,s.captionShiftYpx=0,s.captionFontRatio=1,s.borderRadius=2,s.backgroundColorPressed="transparent",s.backgroundColorDefault="transparent",s.caption=n,s.captionColorDefault="gray",s.captionColorFocused="gray",s.captionColorHovered="silver",s.captionColorPressed="black",s.borderWidth=0,s.borderColorDefault="#aaaaaa",s.borderStyle="solid";var d=t.buildTextButton(s),v=-10,i=-18,g="RIGHT_TOP",b=e.addFrameComponent("closeButton",d,v,i,g)}},e.onTitleBarStyleInitialize=function(){}}ue.getPartsBuilder=function(){return me._partsBuilder===null&&(me._partsBuilder=new Xe.default),me._partsBuilder};ue.initialize=function(){var e=this;e.onInitialize()};ue.addFrameComponent=function(e,t,r,n,a,s){var d=new Je.default(e,t,r,n,a,s);return t._onTakeFocus&&t._onReleaseFocus&&d.setFocusCallback(t._onTakeFocus,t._onReleaseFocus),me.frameComponents.push(d),d};var Yt=ue}),$e=M((gr,Ze)=>{Ze.exports=`.jsframe-preset-style-yosemite-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-yosemite-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}
`}),we=M((br,et)=>{var Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){return e&&(typeof e=="undefined"?"undefined":Ut(e))==="object"&&!Array.isArray(e)}function Ee(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var a=r.shift();if(Ce(e)&&Ce(a))for(var s in a)Ce(a[s])?(e[s]||Object.assign(e,tt({},s,{})),Ee(e[s],a[s])):Object.assign(e,tt({},s,a[s]));return Ee.apply(void 0,[e].concat(r))}et.exports.objectAssign=Ee}),nt=M((Cr,rt)=>{$e();var Gt=we();function Vt(e,t){var r={titleBar:{greenButton:"maximize"}},n=r;return t&&Gt.objectAssign(r,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var a=e.getPartsBuilder(),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";n.titleBar.greenButton==="fullscreen"&&(d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",b=10,y=10,f="margin:0px;padding:0px;width:"+b+"px;height:"+y+"px",E=document.createElement("img");E.src=d,E.setAttribute("style",f);var u=document.createElement("img");u.src=v,u.setAttribute("style",f);var l=document.createElement("img");l.src=i,l.setAttribute("style",f);var h=document.createElement("img");h.src=s,h.setAttribute("style",f);var o=document.createElement("img");o.src=g,o.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");{var c=a.buildImageButtonAppearance();c.imageDefault=o,c.imageHovered=h,c.imagePressed=h,c.imageFocused=o,c.size=10,c.borderRadius=5,c.borderWidth=1,c.borderColorDefault="#c6c6c6",c.borderColorFocused="#d3524e",c.borderColorHovered=c.borderColorFocused,c.borderColorPressed="#e64842",c.borderStyleDefault="solid",c.borderStyleFocused=c.borderStyleDefault,c.borderStyleHovered=c.borderStyleDefault,c.borderStylePressed=c.borderStyleDefault,c.backgroundColorDefault="#d0d0d0",c.backgroundColorFocused="#fc615c",c.backgroundColorHovered=c.backgroundColorFocused,c.backgroundColorPressed=c.backgroundColorDefault,c.setSrc({default:g,focused:g,hovered:s,pressed:s});var m=a.buildButton(c),p=8,C=-19,B="LEFT_TOP";e.addFrameComponent(n.closeButtonName||"closeButton",m,p,C,B);var w=a.buildImageButtonAppearance(c);w.borderColorDefault="#c6c6c6",w.borderColorFocused="#e6b347",w.borderColorHovered=w.borderColorFocused,w.borderColorPressed="#e1a12d",w.backgroundColorDefault="#d0d0d0",w.backgroundColorFocused="#fdbe40",w.backgroundColorHovered=w.backgroundColorFocused,w.backgroundColorPressed=w.backgroundColorDefault,w.imageDefault=o,w.imageHovered=l,w.imagePressed=l,w.imageFocused=o;var T=a.buildButton(w),F=a.buildButton(w);F.style.display="none";var p=28,C=-19,B="LEFT_TOP";e.addFrameComponent("minimizeButton",T,p,C,B),e.addFrameComponent("deminimizeButton",F,p,C,B);var x=a.buildImageButtonAppearance(c);x.borderColorDefault="#c6c6c6",x.borderColorFocused="#67b657",x.borderColorHovered=x.borderColorFocused,x.borderColorPressed="#00af38",x.backgroundColorDefault="#d0d0d0",x.backgroundColorFocused="#34ca49",x.backgroundColorHovered=x.backgroundColorFocused,x.backgroundColorPressed=x.backgroundColorDefault,x.imageDefault=o,x.imageHovered=E,x.imagePressed=E,x.imageFocused=o;var S=a.buildButton(x),I=a.buildImageButtonAppearance(c);I.borderColorDefault="#c6c6c6",I.borderColorFocused="#67b657",I.borderColorHovered=I.borderColorFocused,I.borderColorPressed="#00af38",I.backgroundColorDefault="#d0d0d0",I.backgroundColorFocused="#34ca49",I.backgroundColorHovered=I.backgroundColorFocused,I.backgroundColorPressed=I.backgroundColorDefault,I.imageDefault=o,I.imageHovered=u,I.imagePressed=u,I.imageFocused=o;var P=a.buildButton(I);P.style.display="none";var p=48,C=-19,B="LEFT_TOP";e.addFrameComponent("dezoomButton",P,p,C,B),e.addFrameComponent("zoomButton",S,p,C,B)}},e}rt.exports.getStyle=Vt}),ot=M((Er,at)=>{at.exports=`.jsframe-preset-style-redstone-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-redstone-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`}),lt=M((wr,it)=>{ot();function qt(e){return e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#9b9a9b",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="30px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="solid 1px #aaaaaa",e.titleBarBorderBottomFocused="solid 1px #1883d7",e.frameBorderRadius="0px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#1883d7",e.frameBorderStyle="solid",e.frameBoxShadow=null,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder();{var r="\u2573",n=t.buildTextButtonAppearance();n.width=45,n.height=28,n.borderRadius=0,n.borderWidth=0,n.borderColorDefault="#c6c6c6",n.borderColorFocused="#fc615c",n.borderColorHovered=n.borderColorFocused,n.borderColorPressed="#e64842",n.borderStyleDefault="solid",n.borderStyleFocused=n.borderStyleDefault,n.borderStyleHovered=n.borderStyleDefault,n.borderStylePressed=n.borderStyleDefault,n.backgroundColorDefault="white",n.backgroundColorFocused="white",n.backgroundColorHovered="#e81123",n.backgroundColorPressed="#f1707a",n.caption=r,n.captionColorDefault="#9b9a9b",n.captionColorFocused="black",n.captionColorHovered="white",n.captionColorPressed="white",n.captionShiftYpx=1,n.captionFontRatio=.6;var a=t.buildTextButton(n),s=0,d=-parseInt(e.titleBarHeight),v="RIGHT_TOP";e.addFrameComponent("closeButton",a,s,d,v)}{var i="\u2610",g=t.buildTextButtonAppearance();g.width=45,g.height=28,g.borderRadius=0,g.borderWidth=0,g.borderColorDefault="#c6c6c6",g.borderColorFocused="#fc615c",g.borderColorHovered=g.borderColorFocused,g.borderColorPressed="#e64842",g.borderStyleDefault="solid",g.borderStyleFocused=g.borderStyleDefault,g.borderStyleHovered=g.borderStyleDefault,g.borderStylePressed=g.borderStyleDefault,g.backgroundColorDefault="white",g.backgroundColorFocused="white",g.backgroundColorHovered="#e5e5e5",g.backgroundColorPressed="#cccccc",g.caption=i,g.captionColorDefault="#9b9a9b",g.captionColorFocused="black",g.captionColorHovered="black",g.captionColorPressed="black",g.captionShiftYpx=1,g.captionFontRatio=.55;var b=t.buildTextButton(g),s=-46,d=-parseInt(e.titleBarHeight),v="RIGHT_TOP";e.addFrameComponent("maximizeButton",b,s,d,v)}{var y="\uFF3F",f=t.buildTextButtonAppearance();f.width=45,f.height=28,f.borderRadius=0,f.borderWidth=0,f.borderColorDefault="#c6c6c6",f.borderColorFocused="#fc615c",f.borderColorHovered=f.borderColorFocused,f.borderColorPressed="#e64842",f.borderStyleDefault="solid",f.borderStyleFocused=f.borderStyleDefault,f.borderStyleHovered=f.borderStyleDefault,f.borderStylePressed=f.borderStyleDefault,f.backgroundColorDefault="white",f.backgroundColorFocused="white",f.backgroundColorHovered="#e5e5e5",f.backgroundColorPressed="#cccccc",f.caption=y,f.captionColorDefault="#9b9a9b",f.captionColorFocused="black",f.captionColorHovered="black",f.captionColorPressed="black",f.captionShiftYpx=-2,f.captionFontRatio=.3;var E=t.buildTextButton(f),s=-92,d=-parseInt(e.titleBarHeight),v="RIGHT_TOP";e.addFrameComponent("minimizeButton",E,s,d,v)}{var u=t.buildTextButtonAppearance();u.width=45,u.height=28,u.borderRadius=0,u.borderWidth=0,u.borderColorDefault="#c6c6c6",u.borderColorFocused="#fc615c",u.borderColorHovered=u.borderColorFocused,u.borderColorPressed="#e64842",u.borderStyleDefault="solid",u.borderStyleFocused=u.borderStyleDefault,u.borderStyleHovered=u.borderStyleDefault,u.borderStylePressed=u.borderStyleDefault,u.backgroundColorDefault="white",u.backgroundColorFocused="white",u.backgroundColorHovered="#e5e5e5",u.backgroundColorPressed="#cccccc",u.caption="\u25A3",u.captionColorDefault="#9b9a9b",u.captionColorFocused="black",u.captionColorHovered="black",u.captionColorPressed="black",u.captionShiftYpx=1,u.captionFontRatio=.6;var l=t.buildTextButton(u),s=-92,d=-parseInt(e.titleBarHeight),v="RIGHT_TOP";l.style.display="none",e.addFrameComponent("deminimizeButton",l,s,d,v)}{var h="\u274F",o=t.buildTextButtonAppearance();o.width=45,o.height=28,o.borderRadius=0,o.borderWidth=0,o.borderColorDefault="#c6c6c6",o.borderColorFocused="#fc615c",o.borderColorHovered=o.borderColorFocused,o.borderColorPressed="#e64842",o.borderStyleDefault="solid",o.borderStyleFocused=o.borderStyleDefault,o.borderStyleHovered=o.borderStyleDefault,o.borderStylePressed=o.borderStyleDefault,o.backgroundColorDefault="white",o.backgroundColorFocused="white",o.backgroundColorHovered="#e5e5e5",o.backgroundColorPressed="#cccccc",o.caption=h,o.captionColorDefault="#9b9a9b",o.captionColorFocused="black",o.captionColorHovered="black",o.captionColorPressed="black",o.captionShiftYpx=1,o.captionFontRatio=.55;var c=t.buildTextButton(o),s=-46,d=-parseInt(e.titleBarHeight),v="RIGHT_TOP";c.style.display="none",e.addFrameComponent("restoreButton",c,s,d,v)}},e}it.exports.getStyle=qt}),ut=M((Br,st)=>{st.exports=`.jsframe-preset-style-popup-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-popup-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`}),ft=M((Fr,dt)=>{ut();function Kt(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="5px",e.titleBarColorDefault="white",e.titleBarColorFocused="white",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#aaaaaa",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="white",e.frameComponents=new Array,e.frameHeightAdjust=2,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r="\u274C",n="\u2716",a="\u274E",s=n,d=t.buildTextButtonAppearance();d.width=20,d.height=20,d.borderRadius=10,d.borderWidth=1,d.borderColorDefault="#cccccc",d.borderColorFocused="#cccccc",d.borderColorHovered="#dddddd",d.borderColorPressed="#eeeeee",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="white",d.backgroundColorFocused="white",d.backgroundColorHovered="#eeeeee",d.backgroundColorPressed="#dddddd",d.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",d.caption=s,d.captionColorDefault="black",d.captionColorFocused="black",d.captionColorHovered="white",d.captionColorPressed="white",d.captionShiftYpx=1,d.captionFontRatio=.6;var v=t.buildTextButton(d),i=10,g=-6-parseInt(e.titleBarHeight),b="RIGHT_TOP";e.addFrameComponent("closeButton",v,i,g,b)},e}dt.exports.getStyle=Kt}),mt=M((xr,ct)=>{function Xt(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="0px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="0px",e.titleBarCaptionColorDefault="transparent",e.titleBarCaptionColorFocused="transparent",e.titleBarHeight="0px",e.titleBarColorDefault="transparent",e.titleBarColorFocused="transparent",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="10px",e.frameBorderWidthDefault="0px",e.frameBorderWidthFocused="0px",e.frameBorderColorDefault="transparent",e.frameBorderColorFocused="transparent",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="transparent",e.frameComponents=[],e.frameHeightAdjust=1,e.captionClor="darkgray",e.pullUpDisabled=!1,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){var t=e.getPartsBuilder(),r="\u274C",n="\u2716",a="\u274E",s=n,d=t.buildTextButtonAppearance();d.width=20,d.height=20,d.borderRadius=10,d.borderWidth=0,d.borderColorDefault="#cccccc",d.borderColorFocused="#cccccc",d.borderColorHovered="#dddddd",d.borderColorPressed="#eeeeee",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="transparent",d.backgroundColorFocused="transparent",d.backgroundColorHovered="transparent",d.backgroundColorPressed="transparent",d.backgroundBoxShadow=null,d.caption=s,d.captionColorDefault=e.captionClor,d.captionColorFocused=e.captionClor,d.captionColorHovered=e.captionClor,d.captionColorPressed=e.captionClor,d.captionShiftYpx=1,d.captionFontRatio=.6;var v=t.buildTextButton(d),i=-6,g=3,b="RIGHT_TOP";e.addFrameComponent("closeButton",v,i,g,b)},e}ct.exports.getStyle=Xt}),vt=M((Tr,ht)=>{ht.exports=`.jsframe-preset-style-material-default {
    background: black;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-material-focused {
    background: black;
    border-top-left-radius: 36px;
    border-top-right-radius: 36px;
}
`}),gt=M((_r,pt)=>{vt();var Jt=we();function Qt(e,t){var r={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},n=r;return t&&Jt.objectAssign(r,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize=n.titleBar.fontSize+"px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=n.titleBar.leftMargin+"px",e.titleBarCaptionColorDefault=n.titleBar.color,e.titleBarCaptionColorFocused=n.titleBar.color,e.titleBarCaptionTextShadow=null,e.titleBarCaptionTextAlign="left",e.titleBarHeight=n.titleBar.height+"px",e.titleBarColorDefault=n.titleBar.background,e.titleBarColorFocused=n.titleBar.background,e.titleBarBorderBottomDefault="solid 0px #aaaaaa",e.titleBarBorderBottomFocused="solid 0px #1883d7",e.frameBorderRadius=n.border.radius+"px",e.frameBorderWidthDefault=n.border.width+"px",e.frameBorderWidthFocused=n.border.width+"px",e.frameBorderColorDefault=n.border.color,e.frameBorderColorFocused=n.border.color,e.frameBorderStyle="solid",e.frameBoxShadow=n.border.shadow,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){yt(e,n,!1),yt(e,n,!0)},e}function yt(e,t,r){var n=e.getPartsBuilder(),a=0,s;r?s=t.titleBar.buttonsOnLeft:s=t.titleBar.buttons;for(var d in s){var v=s[d],i=n.buildTextButtonAppearance();i.fa=v.fa,i.width=t.titleBar.buttonWidth,i.height=t.titleBar.buttonHeight,i.borderRadius=0,i.borderWidth=0,i.borderColorDefault="#c6c6c6",i.borderColorFocused="#fc615c",i.borderColorHovered=i.borderColorFocused,i.borderColorPressed="#e64842",i.borderStyleDefault="solid",i.borderStyleFocused=i.borderStyleDefault,i.borderStyleHovered=i.borderStyleDefault,i.borderStylePressed=i.borderStyleDefault,i.backgroundColorDefault="transparent",i.backgroundColorFocused="transparent",i.backgroundColorHovered="transparent",i.backgroundColorPressed="transparent";var g=Zt(t.titleBar.buttonColor);i.captionColorDefault=t.titleBar.buttonColor,i.captionColorFocused=t.titleBar.buttonColor,i.captionColorHovered=g.hovered,i.captionColorPressed=g.pressed,i.captionShiftYpx=0,i.captionFontRatio=1;var b=n.buildTextButton(i);v.visible?b.style.display="flex":(r?a-=t.titleBar.buttonWidth:a+=t.titleBar.buttonWidth,b.style.display="none");var y=parseInt(e.titleBarHeight),f=a,E=-y+(y-i.height)/2,u;r?u="LEFT_TOP":u="RIGHT_TOP";var l;v.childMenuHTML&&(l=document.createElement("div"),l.id=v.name+"_child_menu",l.innerHTML=v.childMenuHTML,l.style.position="absolute",l.style.width=(v.childMenuWidth?v.childMenuWidth:200)+"px",l.style.top=parseInt(b.style.top,10)+parseInt(b.style.height,10)/2+y/2+"px",l.style.left=b.style.left,l.style.display="none",b.appendChild(l)),e.addFrameComponent(v.name,b,f,E,u,{childMenu:l}),r?a+=t.titleBar.buttonWidth:a+=-t.titleBar.buttonWidth}}function Zt(e){var t=document.createElement("canvas");t.height=1,t.width=1;var r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,1,1);var n=r.getImageData(0,0,1,1).data,a=n[0],s=n[1],d=n[2],v=n[3]/255,i=v*.85,g=v*.75,b="rgb("+a+","+s+","+d+","+i+")",y="rgb("+a+","+s+","+d+","+i+")",f="rgb("+a+","+s+","+d+","+g+")";return{src:b,hovered:y,pressed:f}}pt.exports.getStyle=Qt}),Ct=M((Sr,bt)=>{var $t=le();function er(e){var t={};t.appearanceName="yosemite",t.appearanceParam={};var r={};e&&(r=e);var n=r.maximizeButtonBehavior==="fullscreen",a=r.minimizeButtonBehavior==="minimize"?"minimizeButton":null,s=r.minimizeButtonBehavior==="hide"?"minimizeButton":null,d=r.closeButtonBehavior==="hide"?"custom-close-button":null,v=r.control,i=d,g=r.closeButtonName;return n&&(t.appearanceParam.titleBar={greenButton:"fullscreen"}),t.appearanceParam.closeButtonName=i||g||"closeButton",t.setupPresetWindow=function(b){var y={maximizeButton:"zoomButton",maximizeParam:{fullScreen:n,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:a,hideButtons:[s,d],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};v&&$t({op:"overwrite-merge",object1:y,object2:v}),b.setControl(y)},t}bt.exports.getPresetWindow=er});import re from"https://unpkg.com/uuid@8.3.2/dist/esm-browser/v4.js";"use strict";Ie();var tr=De(),O=ie(),Be=He(),de=ye(),Et=Qe().default,rr=be(),nr=ce(),ar=pe(),wt={yosemite:nt(),redstone:lt(),popup:ft(),toast:mt(),material:gt()},Bt={yosemite:Ct()},R={},Fe=!0,J=!0,xe=!0;R.CBEAN={};R.CBEAN.HTML_ELEMENT="span";R.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_";R.CBEAN.TYPE_NAME="bean";function G(e,t,r,n,a,s,d,v){var i={};if(i.movable=!0,i.id=e,i.property={},i.extra={},i.parentCanvas=null,i.htmlElement=null,i.pullUpDisabled=!1,v&&(i.pullUpDisabled=v.pullUpDisabled),i.htmlElement=document.createElement(R.CBEAN.HTML_ELEMENT),i.htmlElement.id=R.CBEAN.HTML_ELEMENT_ID_PREFIX+e,i.htmlElement.style.position="absolute",i.htmlElement.style.left=parseInt(t,10)+"px",i.htmlElement.style.top=parseInt(r,10)+"px",i.htmlElement.style.width=parseInt(n,10)+"px",i.htmlElement.style.height=parseInt(a,10)+"px",s!==null&&(i.htmlElement.style.zIndex=s),i.htmlElement.style.borderColor="#000000",i.htmlElement.style.fontSize="1px",i.htmlElement.parent=i,Fe&&(i.htmlElement.onmousedown=i.onmouseDown),J&&"ontouchstart"in window){var g=function(b){b.preventDefault(),i.onmouseDown.bind(this)(b)};i.htmlElement.ontouchstart=g}i.htmlElement.typeName=R.CBEAN.TYPE_NAME,i.htmlElement.usage="nothing",i.htmlElement.isRangeLimited=!1,i.htmlElement.argX=1,i.htmlElement.argY=1,i.externalAreaClickedListener=null,i.onMoveListener=null}G.getWindowType=function(){return"CBeanFrame"};G.setOnMoveListener=function(e){var t={};t.onMoveListener=e};G._onMove=function(e){var t={};t.onMoveListener&&t.onMoveListener(e)};G.setMovable=function(e){var t={};return e?(t.htmlElement.argX=1,t.htmlElement.argY=1):(t.htmlElement.argX=0,t.htmlElement.argY=0),t.movable=e,t};G.setParentCanvas=function(e){var t={};return t.parentCanvas=e,t.htmlElement.parentCanvas=t.parentCanvas,t};G.setOnExternalAreaClickedListener=function(e){var t={};return t.externalAreaClickedListener=e,t};G.onBodyClicked=function(e){var t={},r=e.pageX,n=e.pageY,a=parseInt(t.htmlElement.style.left),s=parseInt(t.htmlElement.style.top),d=parseInt(t.htmlElement.style.width),v=parseInt(t.htmlElement.style.height);a<r&&r<a+d&&s<n&&n<s+v||t.externalAreaClickedListener&&t.externalAreaClickedListener()};G.onmouseDown=function(e){var t=this,r=e;if(J&&e.type==="touchstart"){var n=e.changedTouches;if(xe){var a=e.touches;if(a.length===1)r=n[0];else return!0}else r=n[0]}var s=t.parent;if(r.button==0||e.type==="touchstart"){if(s.pullUpDisabled)return!1;t.parentCanvas.currentObject=t,t.parentCanvas.pullUp(s.id)}else if(r.button==2)return!1;return t.parentCanvas.currentObject&&(t.parentCanvas.offsetX=r.pageX-parseInt(t.parentCanvas.currentObject.style.left,10),t.parentCanvas.offsetY=r.pageY-parseInt(t.parentCanvas.currentObject.style.top,10)),!1};R.CANVAS={};R.CANVAS.HTML_ELEMENT="div";R.CANVAS.WIDTH_ADJUST_20180722=2;R.CANVAS.HEIGHT_ADJUST_20180722=3;function K(e,t,r,n,a,s){function d(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null}var v={};v.enablePullUp=!0,v.currentObject=null,v.onTopObject=null,v.offsetX=0,v.offsetY=0,v.mouseDownSource=null,v.id=t,v.canvasElement=null,v.parentElement=e,v.beanList=new Array,v.beanIdName={},v.beanNameId={},v.eventData=new d,v.baseZIndex=0,v.setBaseZIndex=function(i){v.baseZIndex=i},v.getBaseZIndex=function(){return v.baseZIndex},v.canvasElement=document.createElement(R.CANVAS.HTML_ELEMENT),v.canvasElement.style.zIndex=2e3,v.canvasElement.id=v.id,v.canvasElement.style.boxSizing="border-box",v.canvasElement.style.position="absolute",v.canvasElement.style.left=parseInt(r)+"px",v.canvasElement.style.top=parseInt(n)+"px",v.canvasElement.style.width=parseInt(a)+R.CANVAS.WIDTH_ADJUST_20180722+"px",v.canvasElement.style.height=parseInt(s)+R.CANVAS.HEIGHT_ADJUST_20180722+"px",v.canvasElement.style.backgroundColor="transparent",v.canvasElement.style.borderStyle="none",v.canvasElement.style.margin="0px",v.canvasElement.style.borderWidth="0px",v.canvasElement.style.borderColor="transparent",v.parentElement.appendChild(v.canvasElement)}K.mouseMove=function(e){var t={},r=e;if(J&&e.type==="touchmove"){var n=e.changedTouches;if(xe){var a=e.touches;if(a.length===1)r=n[0];else return!0}else r=n[0]}if(t.currentObject){t.eventData.targetTypeName=t.currentObject.typeName,t.eventData.targetUsage=t.currentObject.usage,t.eventData.targetObject=t.currentObject;var s=r.pageX-t.offsetX,d=r.pageY-t.offsetY,v=r.pageX,i=r.pageY,g=t.currentObject.style.left,b=t.currentObject.style.top,y=parseInt(s,10),f=parseInt(d,10),E=y+parseInt(t.currentObject.style.width,10),u=f+parseInt(t.currentObject.style.height,10),l=parseInt(t.canvasElement.style.width,10),h=parseInt(t.canvasElement.style.height,10),o=0,c=0;if(t.currentObject.isRangeLimited==!0&&(y<=0||E>l||f<=0||u>h))o=0,c=0;else{o=parseInt(s,10)-parseInt(g,10),c=parseInt(d,10)-parseInt(b,10),t.currentObject.style.left=parseInt(t.currentObject.style.left)+o*t.currentObject.argX+"px",t.currentObject.style.top=parseInt(t.currentObject.style.top)+c*t.currentObject.argY+"px";var m=t.currentObject.parent;m&&m._onMove&&m._onMove()}return t.eventData.deltaX=o,t.eventData.deltaY=c,t.eventData}return null};K.mouseUp=function(e){var t={};t.currentObject=null,t.mouseDownSource=null};K.pullUp=function(e){var t={},r=[],n=t.beanList;for(var a in n)r.push(n[a]);var s=n[e];t.enablePullUp&&t.pullUpSort(s,r,t.baseZIndex),t.onTopObject=s};K.pullUpSort=function(e,t,r){var n={};e.htmlElement.style.zIndex=t.length+r,t.sort(function(s,d){return-parseInt(s.htmlElement.style.zIndex,10)+parseInt(d.htmlElement.style.zIndex,10)});for(var a in t)t[a].htmlElement.style.zIndex=t.length-1-a+r};K.removeBean=function(e){var t={},r=t.beanList,n=r[e];t.canvasElement.removeChild(n.htmlElement),delete r[e]};K.addBean=function(e){var t={},r=t.beanList,n=t.beanIdName,a=t.beanNameId;r[e.id]=e,e.property.name&&(a[e.property.name]=e.id,n[e.id]=e.property.name);var s=0;for(var d in r)s++;e.htmlElement.style.zIndex=s+t.baseZIndex,e.setParentCanvas(t),this.canvasElement.appendChild(e.htmlElement)};K.getParentElement=function(){var e={};return e.parentElement};R.CFRAME={};R.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent";R.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_";de(_,G);function _(e,t,r,n,a,s,d,v){var i={};_.superConstructor.call(this,e,t,r,n,a,s,d,v),i.anchor=O.LEFT_TOP,i.showTitleBar=v.showTitleBar,i.canvasNetHeight=null,i.canvasNetWidth=null,i.frameHeightAdjust=v.frameHeightAdjust,i.frameComponentMap={},i.canvas=null,i.myCanvasId=null,i.floatingButton=null,i.titleBarClassNameDefault="jsframe-titlebar-default",i.titleBarClassNameFocused="jsframe-titlebar-focused",i.titleBarHeight=v.titleBarHeight,i.titleBarCaption=v.titleBarCaption,i.titleBarCaptionLeftMargin=v.titleBarCaptionLeftMargin,i.titleBarCaptionFontSize=v.titleBarCaptionFontSize,i.titleBarCaptionFontWeight=v.titleBarCaptionFontWeight,i.titleBarBorderBottomDefault=v.titleBarBorderBottomDefault,i.titleBarBorderBottomFocused=v.titleBarBorderBottomFocused,i.titleBarCaptionTextShadow=v.titleBarCaptionTextShadow,i.titleBarCaptionTextAlign=v.titleBarCaptionTextAlign,i.titleAdjustWidth=2,i.windowId=e,i.exBorderWidth=0,i.myCanvasId=e+"_canvas";var g=document.createElement("img");if(g.src="",g.style.position="absolute",g.style.left="2px",g.style.top="2px",g.style.width="16px",g.style.height="16px",g.style.visibility="hidden",i.titleBar=document.createElement("div"),i.titleBar.className="jsframetitlebar",i.showTitleBar){if(i.titleBar.id=e+"_title",i.titleBar.style.position="absolute",i.titleBar.style.boxSizing="border-box",i.titleBar.style.top="0px",i.titleBar.style.left="0px",i.titleBar.style.width=n-i.titleAdjustWidth+R.CANVAS.WIDTH_ADJUST_20180722+"px",i.titleBar.style.userSelect="none",i.titleBarHeight){var b=0;i.titleBarBorderBottomDefault&&(b=0),i.titleBar.style.height=parseInt(i.titleBarHeight,10)+0+"px"}i.titleBarColorDefault&&(i.titleBar.style.background=i.titleBarColorDefault),i.titleBar.style.zIndex=0,i.titleBar.style.color=i.titleBarCaptionColorDefault,i.titleBar.style.fontSize=i.titleBarCaptionFontSize,i.titleBar.style.fontWeight=i.titleBarCaptionFontWeight,i.titleBar.style.textShadow=i.titleBarCaptionTextShadow,i.titleBar.style.textAlign=i.titleBarCaptionTextAlign,i.titleBar.style.lineHeight=i.titleBar.style.height,i.titleBar.style.borderBottom=i.titleBarBorderBottomDefault,i.titleBar.style.overflow="hidden";var y=document.createTextNode(""),f=document.createElement("span");f.id=i.id+"_titleBarText",i.titleBarCaptionLeftMargin!=null?(f.style.position="absolute",f.style.left=parseInt(i.titleBarCaptionLeftMargin,10)+"px"):(f.style.position="absolute",f.style.left="0px",f.style.right="0px"),f.style.top="0px",f.appendChild(y),i.titleBar.appendChild(f)}i.htmlElement.appendChild(i.titleBar);var E=parseInt(i.titleBarHeight,10)-b,u=parseInt(i.titleAdjustWidth,10);if(i.showTitleBar||(E=0,u=0,b=0),i.canvasNetWidth=n-u,i.canvasNetHeight=a-E-u-1-b+i.frameHeightAdjust,i.htmlElement.style.cursor="move",i.canvas=new K(i.htmlElement,i.myCanvasId,0,E,n-u,a-E-u),i.canvas.enablePullUp=!1,i.canvas.canvasElement.style.backgroundColor=R.CFRAME.CANVAS_ELEMENT_BGCOLOR,i.canvas.canvasElement.style.cursor="default",Fe&&(i.canvas.canvasElement.onmousedown=i.canvasMouseDown),J&&"ontouchstart"in window){var l=function(j){var L=j.changedTouches[0];i.canvasMouseDown.bind(this)(L)};i.canvas.canvasElement.ontouchstart=l}i.canvas.canvasElement.parentCFrame=i;var h=parseInt(i.canvas.canvasElement.style.width,10),o=parseInt(i.canvas.canvasElement.style.height,10),c=v.resizeAreaWidth,m=v.resizeAreaHeight,p=v.resizeAreaOffset,C=0,B,w,T;v.resizeAreaVisible&&(B="rgba(255, 0, 0, 0.5)",w="rgba(0, 0, 255, 0.5)",T="rgba(0, 255, 0, 0.5)");var F=new ne(i.myCanvasId+"_RD",h+p,o+p,c,m,C,"RD",B);F.htmlElement.style.cursor="se-resize",F.htmlElement.argX=0,F.htmlElement.argY=0;var x=new ne(i.myCanvasId+"_DD",0,o+p,h+p,m,C,"DD",w);x.htmlElement.style.cursor="n-resize",x.htmlElement.argX=0,x.htmlElement.argY=0;var S=new ne(i.myCanvasId+"_RR",h+p,0,c,o+p,C,"RR",T);S.htmlElement.style.cursor="w-resize",S.htmlElement.argY=0,S.htmlElement.argX=0,i.canvas.addBean(F),i.canvas.addBean(x),i.canvas.addBean(S),i.removeMarkers=function(){i.canvas.removeBean(F.id),i.canvas.removeBean(x.id),i.canvas.removeBean(S.id),i.htmlElement.style.cursor="default"},i.removeMarkers2=function(){i.canvas.removeBean(F.id),i.canvas.removeBean(x.id),i.canvas.removeBean(S.id)},i.enableMarkers=function(j){j?(F.htmlElement.style.display="flex",x.htmlElement.style.display="flex",S.htmlElement.style.display="flex",F.htmlElement.style.cursor="se-resize",x.htmlElement.style.cursor="n-resize",S.htmlElement.style.cursor="w-resize"):(F.htmlElement.style.display="none",x.htmlElement.style.display="none",S.htmlElement.style.display="none")};for(var I in v.frameComponents){var P=v.frameComponents[I];P.setFrame(i),P.id=="closeButton"&&(P.htmlElement.onclick=i.close);var z=P.htmlElement.querySelector(".jsframe-child-menu");z&&i.eventListenerHelper.addEventListener(P.htmlElement,"click",function(j){var L=j.target.getAttribute("component-id");if(i.hideFrameComponentChildMenus({exceptFrameComponentId:L}),L){var A=i.getFrameComponentElement(L),ae=A.querySelector(".jsframe-child-menu");ae?ae.style.display=="table"?ae.style.display="none":ae.style.display="table":console.error("frameComponent child menu isnt found. frameComponentId="+L)}},{listenerName:"frame-component_child-menu-listener"}),i.addFrameComponent(P)}i.htmlElement.style.backgroundColor="transparent",i.htmlElement.oncontextmenu=this.contextMenu;var W=0;i.caribValue=W,i.exBorderWidth&&(i.htmlElement.style.borderWidth=i.exBorderWidth+"px"),i.htmlElement.style.width=parseInt(i.htmlElement.style.width,10)-W+"px",i.htmlElement.style.height=parseInt(i.htmlElement.style.height,10)-W+1+"px",i.htmlElement.typeName="cwindow",i.htmlElement.overflow="auto",i.htmlElement.style.boxSizing="content-box",v.frameBorderStyle&&(i.htmlElement.style.borderStyle=v.frameBorderStyle),v.frameBoxShadow&&(i.htmlElement.style.boxShadow=v.frameBoxShadow),parseInt(v.frameBorderWidthDefault,10)>=0&&(i.htmlElement.style.borderWidth=v.frameBorderWidthDefault,i.htmlElement.style.borderColor=v.frameBorderColorDefault),parseInt(v.frameBorderRadius,10)>=0&&(i.htmlElement.style.borderRadius=v.frameBorderRadius),i.onCloseFrameListener=null}_.setTitleBarClassName=function(e,t){var r={};return e&&(r.titleBarClassNameDefault=e,r.titleBarClassNameFocused=e),t&&(r.titleBarClassNameFocused=t),r};_.addFrameComponent=function(e){var t={};return t.frameComponentMap[e.id]=e,t.canvas.canvasElement.appendChild(e.htmlElement),t};_.getFrameComponentElement=function(e){var t={};return t.frameComponentMap[e]?t.frameComponentMap[e].htmlElement:null};_.removeFrameComponentById=function(e){var t={},r=t.frameComponentMap[e];t.canvas.canvasElement.removeChild(r.htmlElement),delete t.frameComponentMap[e]};_.showFrameComponent=function(e,t){var r={},n=r.getFrameComponentElement(e);return n&&(t?n.style.display=t:n.style.display="flex"),r};_.hideFrameComponent=function(e){var t={},r=t.getFrameComponentElement(e);return r&&(r.style.display="none"),t};_.hideAllVisibleFrameComponents=function(){var e={},t=e.frameComponentMap;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r].htmlElement;n.style.display==="none"&&(n._alreadyNone=!0),n.style.display="none"}};_.showAllVisibleFrameComponents=function(){var e={},t=e.frameComponentMap;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r].htmlElement;n._alreadyNone?n._alreadyNone=null:n.style.display="flex"}};_.hideFrameComponentChildMenus=function(e){var t={},r=t.frameComponentMap;for(var n in r)if(r.hasOwnProperty(n)){if(e&&e.exceptFrameComponentId&&n===e.exceptFrameComponentId)continue;var a=r[n];a.childMenu&&(a.childMenu.style.display="none")}};_.setTitle=function(e){var t={};if(t.title=e,t.showTitleBar){var r=document.createTextNode(e);t.titleBar.firstChild.replaceChild(r,t.titleBar.firstChild.firstChild)}return t};_.resize=function(e,t,r,n){var a={},s=parseInt(a.htmlElement.style.left,10),d=parseInt(a.htmlElement.style.top,10),v=parseInt(a.htmlElement.style.width,10),i=parseInt(a.htmlElement.style.height,10);a.htmlElement.style.left=parseInt(s+e,10)+"px",a.htmlElement.style.top=parseInt(d+t,10)+"px",a.htmlElement.style.width=parseInt(v+r,10)+"px",a.htmlElement.style.height=parseInt(i+n,10)+"px";var g=parseInt(a.canvas.canvasElement.style.width,10),b=parseInt(a.canvas.canvasElement.style.height,10);a.canvas.canvasElement.style.width=g+r+"px",a.canvas.canvasElement.style.height=b+n+"px",a.showTitleBar&&(a.titleBar.style.width=g+r+"px");for(var y in a.canvas.beanList){var f=a.canvas.beanList[y];f.htmlElement.typeName=="cmarkerwindow"&&(f.htmlElement.usage=="RD"?(f.htmlElement.style.left=parseInt(f.htmlElement.style.left,10)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top,10)+n+"px"):f.htmlElement.usage=="DD"?(f.htmlElement.style.width=parseInt(f.htmlElement.style.width,10)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top,10)+n+"px"):f.htmlElement.usage=="RR"&&(f.htmlElement.style.left=parseInt(f.htmlElement.style.left,10)+r+"px",f.htmlElement.style.height=parseInt(f.htmlElement.style.height,10)+n+"px"))}};_.canvasMouseDown=function(e){var t={};this.parentCFrame.parentCanvas.mouseDownSource==null&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")};_.mouseUp=function(e){this.canvas.mouseUp(e)};_.close=function(e){var t={},r=this.parentObject.parentCanvas,n=this.parentObject;console.log('CFrame#close "'+n.title+"(@"+n.getName()+')" @'+n.windowId);var a=n.id;n.closeInternally(e,r,a)};_.closeFrame=function(e){var t={};console.log('CFrame#closeFrame "'+t.title+"("+t.getName()+')" @'+t.windowId);var r=this.parentCanvas;t.closeInternally(e,r,t.windowId)};_.closeInternally=function(e,t,r){var n={};if(!t){console.error("Window("+r+") may have been closed");return}t.removeBean(r),n.modalBackgroundWindowId&&(t.removeBean(n.modalBackgroundWindowId),n.modalBackgroundWindowId=null),n.onCloseFrameListener&&n.onCloseFrameListener(n)};_.setOnCloseFrameListener=function(e){var t={};t.onCloseFrameListener=e};_.contextMenu=function(){var e="CFrame";return!1};_.setTitleBarTextColor=function(e){var t={};t.titleBar.style.color=e};_.setPosition=function(e,t,r){var n={},a=n.getWidth(),s=n.getHeight();return n._setPositionInternally(e,t,r,a,s),n};_._setPositionInternally=function(e,t,r,n,a){var s={};r&&(s.anchor=r),!r||O.LEFT_TOP==r?(s.htmlElement.style.left=e+"px",s.htmlElement.style.top=t+"px"):O.HCENTER_TOP==r?(s.htmlElement.style.left=-n/2+e+"px",s.htmlElement.style.top=t+"px"):O.RIGHT_TOP==r?(s.htmlElement.style.left=-n+e+"px",s.htmlElement.style.top=t+"px"):O.LEFT_VCENTER==r?(s.htmlElement.style.left=e+"px",s.htmlElement.style.top=-a/2+t+"px"):O.HCENTER_VCENTER==r?(s.htmlElement.style.left=-n/2+e+"px",s.htmlElement.style.top=-a/2+t+"px"):O.RIGHT_VCENTER==r?(s.htmlElement.style.left=-n+e+"px",s.htmlElement.style.top=-a/2+t+"px"):O.LEFT_BOTTOM==r?(s.htmlElement.style.left=e+"px",s.htmlElement.style.top=-a+t+"px"):O.HCENTER_BOTTOM==r?(s.htmlElement.style.left=-n/2+e+"px",s.htmlElement.style.top=-a+t+"px"):O.RIGHT_BOTTOM==r&&(s.htmlElement.style.left=-n+e+"px",s.htmlElement.style.top=-a+t+"px")};_.getPosition=function(){var e={},t=e.getWidth(),r=e.getHeight(),n,a,s=e.anchor;return!s||O.LEFT_TOP==s?(n=parseInt(e.htmlElement.style.left,10),a=parseInt(e.htmlElement.style.top,10)):O.HCENTER_TOP==s?(n=parseInt(e.htmlElement.style.left,10)+t/2,a=parseInt(e.htmlElement.style.top,10)):O.RIGHT_TOP==s?(n=parseInt(e.htmlElement.style.left,10)+t,a=parseInt(e.htmlElement.style.top,10)):O.LEFT_VCENTER==s?(n=parseInt(e.htmlElement.style.left,10),a=parseInt(e.htmlElement.style.top,10)+r/2):O.HCENTER_VCENTER==s?(n=parseInt(e.htmlElement.style.left,10)+t/2,a=parseInt(e.htmlElement.style.top,10)+r/2):O.RIGHT_VCENTER==s?(n=parseInt(e.htmlElement.style.left,10)+t,a=parseInt(e.htmlElement.style.top,10)+r/2):O.LEFT_BOTTOM==s?(n=parseInt(e.htmlElement.style.left,10),a=parseInt(e.htmlElement.style.top,10)+r):O.HCENTER_BOTTOM==s?(n=parseInt(e.htmlElement.style.left,10)+t/2,a=parseInt(e.htmlElement.style.top,10)+r):O.RIGHT_BOTTOM==s&&(n=parseInt(e.htmlElement.style.left,10)+t,a=parseInt(e.htmlElement.style.top,10)+r),{x:n,y:a,anchor:s}};_.getLeft=function(){var e={};return parseInt(e.htmlElement.style.left,10)};_.getTop=function(){var e={};return parseInt(e.htmlElement.style.top,10)};_.getWidth=function(){var e={};return parseInt(e.htmlElement.style.width,10)};_.getHeight=function(){var e={};return parseInt(e.htmlElement.style.height,10)};_.getSize=function(){var e={};return{width:e.getWidth(),height:e.getHeight()}};_.setSize=function(e,t,r){var n={},a=!0;return r&&(a=!1),n.resize(0,0,e-n.getWidth(),t-n.getHeight(),a),n};_.getWindowId=function(){var e={};return e.windowId};_.getName=function(){var e={};return e.property.name};_.setName=function(e){var t={};t.property.name=e};de(k,_);function k(e,t,r,n,a,s){var d=t,v=r,i=n,g=a,b=s.zindex,y=null,f={};this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new ar,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=s.titleBarColorFocused,this.titleBarColorDefault=s.titleBarColorDefault,this.titleBarCaptionColorDefault=s.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=s.titleBarCaptionColorFocused,k.superConstructor.call(f,e,d,v,i,g,b,y,s),f.frameBorderColorDefault=s.frameBorderColorDefault,f.frameBorderColorFocused=s.frameBorderColorFocused,f.frameBorderWidthDefault=s.frameBorderWidthDefault,f.frameBorderWidthFocused=s.frameBorderWidthFocused,f.iframe=null,f.ifDelta=0,f.resizable=!0,f.onMouseMoveOnIframe=null,f.onMouseUpOnIframe=null,f._hasFocus=!1,f._hasFocusTime=0,f.htmlElement.typeName="cifwindow";var E="riversun_"+e;f.dframe=document.createElement("div"),f.iframe=document.createElement("iframe"),f.iframe.name=E,f.iframe.id=E,f.iframe.frameBorder="0",f.iframe.zIndex=-1,f.iframe.allowTransparency="true",f.iframe.width=f.canvasNetWidth-f.ifDelta+0,f.iframe.height=f.canvasNetHeight-f.ifDelta+0,f.showTitleBar=s.showTitleBar,f.getFrameInnerBorderRadius=s.getFrameInnerBorderRadius,f.frameBorderRadius=s.frameBorderRadius,f.adjustFrameBorderRadius(),f.useIframe=!1,f.canvas.canvasElement.appendChild(f.iframe),f.canvas.canvasElement.appendChild(f.dframe),this.setUseIframe=function(u){f.useIframe=u,f.iframe.style.visibility="hidden",f.iframe.style.position="absolute",f.iframe.style.left="0px",f.iframe.style.top="0px",f.iframe.style.width="100%",f.iframe.style.height="100%",f.dframe.style.visibility="hidden",f.dframe.style.position="absolute",f.dframe.style.left="0px",f.dframe.style.boxSizing="content-box",f.dframe.style.top="0px",f.dframe.style.width="100%",f.dframe.style.height="100%",f.dframe.style.backgroundColor="white",u?(f.iframe.style.visibility="visible",f.dframe.style.visibility="hidden"):(f.iframe.style.visibility="hidden",f.dframe.style.visibility="visible")},f.setUseIframe(s.useIframe),(f.overrayTransparentScreenEnabled||f.overrayTransparentScreenOnResize)&&(f.transparence=document.createElement("span"),f.transparence.style.position="absolute",f.transparence.style.left="0px",f.transparence.style.top="0px",f.transparence.style.width="0px",f.transparence.style.height="0px",f.transparence.style.zIndex=4,f.transparence.style.borderWidth="0px",f.transparence.style.borderColor="#ff00ee",f.transparence.style.borderStyle="none",f.transparence.style.cursor="default",f.transparence.style.pointerEvents="none",f.canvas.canvasElement.style.backgroundColor=s.frameBackgroundColor,f.canvas.canvasElement.appendChild(f.transparence)),f.eventEmitter=new tr,f.appearance=s,k.getFrameView=function(){var u={};return u.dframe},k.getFrameAppearance=function(){var u={};return u.appearance},k.setHTML=function(u){var l={};l.dframe.innerHTML=u},k.setFrameInFrame=function(u){var l={},h=l.dframe?l.dframe.firstChild:null;h&&(Date.now||(Date.now=function(){return new Date().getTime()}),u?l.eventEmitter.only("resize","fif-listener",function(){h.setAttribute(Be.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(h.removeAttribute(Be.MATCH_PARENT_CHANGE_MARKER_ATTR),l.eventEmitter.only("resize","fif-listener",function(){})))},k.$=function(u){var l={};if(l.useIframe){var h=l.iframe.contentWindow.document;return h.querySelector(u)}else return l.dframe.querySelector(u)},k.on=function(u,l,h){var o={},c=o.getFrameComponentElement(u);c&&o.eventListenerHelper.addEventListener(c,l,function(C){h(o,C,{type:"frameComponent",id:u,eventType:l})},{listenerName:"frame-component-listener"}),(u==="frame"||u==="window")&&(l==="move"&&!o.eventEmitter.hasListenerFuncs("move")&&o.setOnMoveListener(function(C){o.eventEmitter.emit("move",o._getCurrentSizePos())}),o.eventEmitter.on(l,h));var m=o.$(u);if(m&&(o.eventListenerHelper.hasEventListener(m,l,"frame-dom-listener")&&o.eventListenerHelper.removeEventListener(m,l,null,{listenerName:"frame-dom-listener"}),o.eventListenerHelper.addEventListener(m,l,function(C){h(o,C,{type:"dom",id:u,eventType:l})},{listenerName:"frame-dom-listener"})),!m){var p=o.canvas.canvasElement.querySelector(u);p&&p.addEventListener(l,function(C){h(o,C,{type:"dom",id:u,eventType:l})})}},k.adjustFrameBorderRadius=function(){var u={};if(parseInt(u.frameBorderRadius,10)>0){var l=u.getFrameInnerBorderRadius(u,u._hasFocus),h=l.frameAppearance,o=l.innerBorderRadius,c=parseInt(h.titleBarHeight,10);u.showTitleBar?(u.canvas.canvasElement.style.borderBottomRightRadius=o,u.canvas.canvasElement.style.borderBottomLeftRadius=o,u.iframe.style.borderBottomRightRadius=o,u.iframe.style.borderBottomLeftRadius=o,u.titleBar.style.borderTopLeftRadius=o,u.titleBar.style.borderTopRightRadius=o):(u.canvas.canvasElement.style.borderRadius=o,u.iframe.style.borderRadius=o),u.dframe&&(c===0&&(u.dframe.style.borderTopRightRadius||(u.dframe.style.borderTopRightRadius=o),u.dframe.style.borderTopLeftRadius||(u.dframe.style.borderTopLeftRadius=o)),u.dframe.style.borderBottomRightRadius=o,u.dframe.style.borderBottomLeftRadius=o)}},k.handleReleasingFocus=function(u){var l={},h=l._hasFocus;l._hasFocus=!1,l.titleBar.className=l.titleBarClassNameDefault,l.titleBarColorDefault&&(l.titleBar.style.background=l.titleBarColorDefault),l.titleBar.style.color=l.titleBarCaptionColorDefault,l.frameBorderColorDefault&&(l.htmlElement.style.borderColor=l.frameBorderColorDefault),l.frameBorderWidthDefault&&(l.htmlElement.style.borderWidth=l.frameBorderWidthDefault,l.adjustFrameBorderRadius()),l.htmlElement.typeName=="cifwindow"&&(l.overrayTransparentScreenEnabled&&(l.transparence.style.width=parseInt(l.iframe.width,10)+"px",l.transparence.style.height=parseInt(l.iframe.height,10)+"px"));for(var o in l.frameComponentMap){var c=l.frameComponentMap[o];c.handleReleasingFocus()}return l.titleBarBorderBottomDefault&&(l.titleBar.style.borderBottom=l.titleBarBorderBottomDefault),h&&l.eventEmitter.emit("blur",{target:l}),l},k.handleTakingFocus=function(u){var l={},h=l._hasFocus;l._hasFocus=!0,l._hasFocus=Date.now(),l.overrayTransparentScreenEnabled&&(l.transparence.style.width="0px",l.transparence.style.height="0px"),l.titleBar.className=l.titleBarClassNameFocused,l.titleBarColorFocused&&(l.titleBar.style.background=l.titleBarColorFocused),l.titleBar.style.color=l.titleBarCaptionColorFocused,l.frameBorderColorFocused&&(l.htmlElement.style.borderColor=l.frameBorderColorFocused),l.frameBorderWidthFocused&&(l.htmlElement.style.borderWidth=l.frameBorderWidthFocused,l.adjustFrameBorderRadius()),l.titleBarBorderBottomFocused&&(l.titleBar.style.borderBottom=l.titleBarBorderBottomFocused);for(var o in l.frameComponentMap){var c=l.frameComponentMap[o];c.handleTakingFocus()}return h||l.eventEmitter.emit("focus",{target:l}),l},_.show=function(u){var l={};return l.htmlElement.style.display="flex",u&&u.requestFocus==!1||l.requestFocus(),l},_.showModal=function(u){var l={},h=new Et;h.showTitleBar=!0,h.showCloseButton=!1,h.frameBorderRadius="0px",h.frameBorderStyle="none",h.frameBorderWidthDefault="0px",h.frameBorderWidthFocused="0px",h.frameBoxShadow=null,h.frameBackgroundColor="transparent",h.frameComponents=[],h.frameHeightAdjust=0,h.titleBarHeight="0px",h.titleBarBorderBottomFocused=null,h.titleBarCaptionLeftMargin="0px",h.onInitialize=function(){},h.pullUpDisabled=!0;var o=l.parentCanvas,c=R.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+l.id,m=new k(c,0,0,1,1,h);m.setSize(window.innerWidth,window.innerHeight,!0),m.setResizable(!1),window.addEventListener("resize",function(){m.setSize(window.innerWidth,window.innerHeight,!0)}),l.modalBackgroundWindowId=c,m.hide(),o.addWindow(m),m.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',m.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",m.show(),l.show(),u&&l.setOnCloseFrameListener(u)},_.getWindowManager=function(){var u={};return u.parentCanvas},k.hide=function(){var u={};return u.htmlElement.style.display="none",u},k.onmouseDown=function(u){var l=this;document.body.ondrag=function(){return!1},l.decorator=_.onmouseDown,l.decorator(u);var h=l.parent,o=l.parentCanvas;for(var c in o.beanList){var m=o.beanList[c];c==h.getWindowId()||m.handleReleasingFocus()}h.handleTakingFocus()},k.mouseUp=function(u){var l={};(l.overrayTransparentScreenEnabled||l.overrayTransparentScreenOnResize)&&(l.parentCanvas.onTopObject==l?(l.transparence.style.width="0px",l.transparence.style.height="0px"):l.overrayTransparentScreenEnabled&&(l.transparence.style.width=parseInt(l.iframe.width)+"px",l.transparence.style.height=parseInt(l.iframe.height)+"px")),l.decorator=_.mouseUp,l.decorator(u),document.body.ondrag=null,document.body.onselectstart=null,l.transparence.style.pointerEvents="none"},k.setMinFrameSize=function(u,l){var h={};h.minFrameWidth=u,h.minWindowHeight=l},k.resize=function(u,l,h,o,c){var m={};if(!m.resizable&&c)return null;var p=m.getSize(),C=parseInt(m.htmlElement.style.left,10),B=parseInt(m.htmlElement.style.top,10),w=parseInt(m.htmlElement.style.width,10),T=parseInt(m.htmlElement.style.height,10);c&&w+h<m.minFrameWidth&h<0&&(m.htmlElement.style.width=w+"px",h=0),c&&T+o<m.minWindowHeight&o<0&&(m.htmlElement.style.height=T+"px",o=0),m.htmlElement.style.left=C+u+"px",m.htmlElement.style.top=B+l+"px",m.htmlElement.style.width=w+h+"px",m.htmlElement.style.height=T+o+"px";var F=parseInt(m.canvas.canvasElement.style.width,10),x=parseInt(m.canvas.canvasElement.style.height,10);m.canvas.canvasElement.style.width=F+h+"px",m.canvas.canvasElement.style.height=x+o+"px",m.titleBar.style.width=F-m.ifDelta+h+0+"px",m.iframe.width=F-m.ifDelta+h+0+"px",m.iframe.height=x-m.ifDelta+o+m.frameHeightAdjust+"px",(m.overrayTransparentScreenEnabled||m.overrayTransparentScreenOnResize)&&(m.transparence.style.width=parseInt(m.iframe.width)+"px",m.transparence.style.height=parseInt(m.iframe.height)+"px");for(var S in m.frameComponentMap){var I=m.frameComponentMap[S];I.updateAlign()}for(var P in m.canvas.beanList){var z=m.canvas.beanList[P];z.htmlElement.typeName=="cmarkerwindow"&&(z.htmlElement.usage=="RD"?(z.htmlElement.style.left=parseInt(z.htmlElement.style.left)+h+"px",z.htmlElement.style.top=parseInt(z.htmlElement.style.top)+o+"px"):z.htmlElement.usage=="DD"?(z.htmlElement.style.width=parseInt(z.htmlElement.style.width)+h+"px",z.htmlElement.style.top=parseInt(z.htmlElement.style.top)+o+"px"):z.htmlElement.usage=="RR"&&(z.htmlElement.style.left=parseInt(z.htmlElement.style.left)+h+"px",z.htmlElement.style.height=parseInt(z.htmlElement.style.height)+o+"px"))}var W=m.getSize();(p.width!==W.width||p.height!==W.height)&&m.eventEmitter.emit("resize",m._getCurrentSizePos())},k._getCurrentSizePos=function(){var u={},l=u.getSize(),h=u.getPosition();return{target:u,pos:h,size:l}},k.resizeDirect=function(u,l,h){var o={};if(!o.resizable&&h)return null;o.htmlElement.style.width=u+"px",o.htmlElement.style.height=l+"px";var c=parseInt(o.canvas.canvasElement.style.width),m=parseInt(o.canvas.canvasElement.style.height);o.canvas.canvasElement.style.width=u+"px",o.canvas.canvasElement.style.height=l-o.titleBar.style.height+"px",o.titleBar.style.width=u-o.ifDelta+"px",o.iframe.width=u-o.ifDelta+"px",o.iframe.height=l-o.ifDelta+o.frameHeightAdjust+"px",(o.overrayTransparentScreenEnabled||o.overrayTransparentScreenOnResize)&&(o.transparence.style.width=parseInt(o.iframe.width)+"px",o.transparence.style.height=parseInt(o.iframe.height)+"px");for(var p in o.frameComponentMap){var C=o.frameComponentMap[p];C.updateAlign()}for(var B in o.canvas.beanList){var w=o.canvas.beanList[B];w.htmlElement.typeName=="cmarkerwindow"&&(w.htmlElement.usage=="RD"?(w.htmlElement.style.left=u+"px",w.htmlElement.style.top=l+"px"):w.htmlElement.usage=="DD"?(w.htmlElement.style.width=u+"px",w.htmlElement.style.top=l+"px"):w.htmlElement.usage=="RR"&&(w.htmlElement.style.left=u+"px",w.htmlElement.style.height=l+"px"))}},k.requestFocus=function(){var u={},l=u.parentCanvas.beanList;for(var h in l){var o=l[h];h==u.getWindowId()?o.handleTakingFocus():o.handleReleasingFocus()}u.parentCanvas.pullUp(u.id)},k.setUrl=function(u){var l={};return new Promise(function(h,o){u?l.setUseIframe(!0):(l.setUseIframe(!1),h()),l.iframe.src=u,l.iframe.onload=function(){var c=function(p){var C=p.pageX,B=p.pageY;if(J&&p.type==="touchmove"){var w=p.changedTouches;if(xe){var T=p.touches;if(T.length===1)C=w[0].pageX,B=w[0].pageY;else return!0}else C=w[0].pageX,B=w[0].pageY}var F=l.getLeft(),x=l.getTop(),S=document.createEvent("MouseEvents");S.initMouseEvent("mousemove",!0,!1,window,p.detail,p.screenX,p.screenY,C+F,B+x,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,null),l.parentCanvas.windowMouseMove(S),l.onMouseMoveOnIframe&&l.onMouseMoveOnIframe(S)};l.iframe.contentWindow.document.onmousemove=c,l.iframe.contentWindow.document.ontouchmove=c;var m=function(p){var C=p.pageX,B=p.pageY;if(J&&p.type==="touchend"){var w=p.changedTouches;C=w[0].pageX,B=w[0].pageY}var T=l.getLeft(),F=l.getTop(),x=document.createEvent("MouseEvents");x.initMouseEvent("mouseup",!0,!1,window,p.detail,p.screenX,p.screenY,C+T,B+F,p.ctrlKey,p.altKey,p.shiftKey,p.metaKey,p.button,null),l.parentCanvas.windowMouseUp(x),l.onMouseUpOnIframe&&l.onMouseUpOnIframe(x)};l.iframe.contentWindow.document.onmouseup=m,l.iframe.contentWindow.document.ontouchend=m,h(l,l.iframe.contentWindow.document)}})},k.getIfDocument=function(){var u={};return u.iframe.contentWindow.document},k.setScrolling=function(u){var l={};l.iframe.scrolling=u},k.getScrolling=function(u){var l={};return l.iframe.scrolling},k.setResizable=function(u){var l={};return l.resizable=u,l.enableMarkers(u),l},k.setControl=function(u){var l={};u&&(u.frame=l,l.control=l.jsFrame.createWindowEventHelper(u),l.control.setupDefaultEvents())}}de(V,K);function V(e,t,r,n,a,s){V.superConstructor.call(this,e,t,r,n,a,s);var d={};document.addEventListener("click",function(v){for(var i in d.beanList){var g=d.beanList[i];g.onBodyClicked(v)}})}V.getWindow=function(e){var t={};return t.beanList[e]};V.addWindow=function(e){var t={},r=e.getWindowId(),n=e.getName();t.beanIdName[r]=n,t.beanNameId[n]=r,t.addBean(e)};V.containsWindowName=function(e){var t={},r=t.beanNameId[e];return!!r};V.getWindowByName=function(e){var t={},r=t.beanNameId[e];return r?t.getWindow(r):null};V.windowMouseMove=function(e){var t={};if(t.currentObject==null)return null;var r=!1,n=t.beanList;for(var a in n){var s=n[a],d=s.canvas.mouseMove(e);if(r=r|d!=null,d!=null&&d.targetTypeName=="cmarkerwindow"){var v=d.targetObject;s.transparence.style.pointerEvents="auto",v.usage=="RD"?s.resize(0,0,d.deltaX,d.deltaY,!0):v.usage=="DD"?s.resize(0,0,0,d.deltaY,!0):v.usage=="RR"&&s.resize(0,0,d.deltaX,0,!0)}}!r&&this.mouseDownSource!="childcanvas"&&t.mouseMove(e)};V.windowMouseUp=function(e){var t={};t.mouseUp(e);var r=t.beanList;for(var n in r){var a=r[n];a.mouseUp(e)}};V.removeBean=function(e){var t={},r=t.beanList,n=r[e];if(n==null)return;var a=n._hasFocus;t.canvasElement.removeChild(n.htmlElement),delete r[e];var s=t.beanIdName[e];s&&(delete t.beanIdName[e],delete t.beanNameId[s]);var d=0,v=null;if(a){for(var e in r){var i=r[e];d<=i._hasFocusTime&&!i.pullUpDisabled&&(d=i._hasFocusTime,v=i)}v&&v.requestFocus()}n.parentCanvas=null};de(ne,G);function ne(e,t,r,n,a,s,d,v){var i={};ne.superConstructor.call(this,e,t,r,n,a,s,d),i.htmlElement.typeName="cmarkerwindow",i.htmlElement.usage=d,i.htmlElement.isRangeLimited=!1,i.htmlElement.style.borderStyle="none",i.htmlElement.style.zIndex=1,v&&(i.htmlElement.style.background=v),i.getWindowType=function(){return"CMarkerWindow"}}function N(e){var t={},r=null;if(t.isWindowManagerFixed=!0,e&&e.fixed==!1&&(t.isWindowManagerFixed=!1),e&&e.parentElement&&(r=e.parentElement),t.hAlign="left",t.vAlign="top",e&&e.horizontalAlign&&(t.hAlign=e.horizontalAlign),e&&e.verticalAlign&&(t.vAlign=e.verticalAlign),t.pullToRefresh=!1,e&&typeof e.pullToRefresh=="boolean"&&(t.pullToRefresh=e.pullToRefresh),t.touchActionManipulation=!0,e&&typeof e.touchActionManipulation=="boolean"&&(t.touchActionManipulation=e.touchActionManipulation),r)if(t.isWindowManagerFixed){var n=document.createElement("div");n.id="jsFrame_fixed_"+re(),n.setAttribute("style","position:fixed;"+t.hAlign+":0px;"+t.vAlign+":0px;margin:0px;padding:0px;"),r.appendChild(n)}else{var n=document.createElement("div");n.id="jsFrame_absolute_"+re(),n.setAttribute("style","position:absolute;"+t.hAlign+":0px;"+t.vAlign+":0px;margin:0px;padding:0px;"),r.appendChild(n)}else{let i=document.createElement("div");t.isWindowManagerFixed?(i.id="jsFrame_fixed_"+re(),i.setAttribute("style","position:fixed;"+t.hAlign+":0px;"+t.vAlign+":0px;margin:0px;padding:0px;")):(i.id="jsFrame_absolute_"+JSFrauuidv4(),i.setAttribute("style","position:absolute;"+t.hAlign+":0px;"+t.vAlign+":0px;margin:0px;padding:0px;")),document.body.appendChild(i),r=i}if(Fe&&(document.addEventListener("mouseup",d),document.addEventListener("mousemove",v)),J){if("ontouchend"in window){var a=function(i){d.bind(this)(i)};document.addEventListener("touchend",a)}if("ontouchmove"in window){t.touchActionManipulation&&N.doEnableTouchActionManipulation(),t.pullToRefresh||t.doDisablePullToRefresh();var s=function(i){i.preventDefault(),v.bind(this)(i)};document.addEventListener("touchmove",s)}}t.windowManager=new V(r,"windowManager_"+re(),0,0,0,0),t.domPartsBuilder=null;function d(i){t.windowManager.windowMouseUp(i)}function v(i){t.windowManager.windowMouseMove(i)}}N.doEnableTouchActionManipulation=function(){var e=document.documentElement.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",e.indexOf("touch-action")===-1&&(e+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",e))};N.doDisablePullToRefresh=function(){var e=document.body.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",e.indexOf("overscroll-behavior-y")===-1&&(e+="overscroll-behavior-y: contain;",document.body.setAttribute("style",e))};N.getDomPartsBuilder=function(){var e={};return e.domPartsBuilder||(e.domPartsBuilder=new rr),e.domPartsBuilder};N.create=function(e){var t={},r={};r.name=e.name;var n=e.title,a=e.left,s=e.top,d=e.width,v=e.height,i=e.appearance,g=e.preset,b=e.presetParam,y=e.appearanceName,f=e.appearanceParam,E=e.style,u=e.minWidth,l=e.minHeight,h=e.html,o=e.resizable,c=e.movable,m=e.url,p=e.urlLoaded,C=e.presetParam,B;if(g){var w=this.getPresetWindow(g);B=w.getPresetWindow(C),i=this.createPresetStyle(B.appearanceName,{appearanceParam:B.appearanceParam})}else y&&(i=this.createPresetStyle(y,{appearanceParam:f}));if(e.clientHeight){var T=parseInt(i.titleBarHeight||0)-i.frameHeightAdjust;v=e.clientHeight+T}var F=this.createFrame(a,s,d,v,i,r);if(n&&F.setTitle(n),h&&F.setHTML(h),m){var x=F.setUrl(m);p&&x.then(p)}if(o==!1&&F.setResizable(!1),c==!1&&F.setMovable(!1),u&&l&&(F.minFrameWidth=u),l&&(F.minWindowHeight=l,e.clientHeight&&(F.minWindowHeight=l+T)),E){var S=F.getFrameView();for(var I in E)E.hasOwnProperty(I)&&(S.style[I]=E[I])}return B&&B.setupPresetWindow(F),F};N.createFrame=function(e,t,r,n,a,s){var d={};a||(a=d.createFrameAppearance()),a.initialize();var v="window_"+re();e||(e=0),t||(t=0),r||(r=128),n||(n=128);var i=new k(v,e,t,r,n,a);if(i.jsFrame=d,s&&s.name&&i.setName(s.name),i.hide(),d.windowManager.addWindow(i),a.getTitleBarStyle){var g=a.getTitleBarStyle();g&&i.setTitleBarClassName(g.titleBarClassNameDefault,g.titleBarClassNameFocused)}else a.titleBarClassNameDefault&&a.titleBarClassNameFocused?i.setTitleBarClassName(a.titleBarClassNameDefault,a.titleBarClassNameFocused):a.titleBarClassNameDefault&&i.setTitleBarClassName(a.titleBarClassNameDefault,a.titleBarClassNameDefault);return i};N.containsWindowName=function(e){var t={};return t.windowManager.containsWindowName(e)};N.getWindowByName=function(e){var t={};return t.windowManager.getWindowByName(e)};N.createFrameAppearance=function(){return new Et};N.createAnimator=function(){return new nr};N.createWindowEventHelper=function(e){var t={};e||(e={}),e.verticalAlign=t.vAlign,e.horizontalAlign=t.hAlign;var r=new Be(e);return r};N.getPresetWindow=function(e,t){if(Bt[e]){var r=Bt[e];return r}else return null};N.createPresetStyle=function(e,t){var r={},n=r.createFrameAppearance();if(t&&t.focusedFrameOnly&&(n.focusedFrameOnly=t.focusedFrameOnly),wt[e]){var a=wt[e],s=null;return t&&t.appearanceParam&&(s=t.appearanceParam),a.getStyle(n,s)}return console.error('[JSFrame] Preset appearance "'+e+'" not found.'),n};N.showToast=function(e){if(!e)return;var t={},r=60,n=260,a=300,s=1e3,d=window.innerHeight-10-r/2,v=window.innerHeight-20-r/2,i="",g=!1,b={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};e.style&&(b=e.style),e.height&&(r=e.height),e.width&&(n=e.width),e.duration&&(s=e.duration),e.align&&(e.align=="top"?(d=10+r/2,v=20+r/2):e.align=="center"&&(d=window.innerHeight/2,v=window.innerHeight/2)),e.html&&(i=e.html),e.text&&(i=e.text),e.closeButton==!0?g=!0:g=!1;var y=t.createPresetStyle("toast");b.borderRadius&&(y.frameBorderRadius=b.borderRadius),e.closeButtonColor&&(y.captionClor=e.closeButtonColor);var f=t.create({name:"toast_"+JSFrauuidv4(),width:n,height:r,movable:!1,resizable:!1,appearance:y,style:b,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+r+'px">'+i+"</div>"});g||f.hideFrameComponent("closeButton");var E=!1,u=window.innerWidth/2;t.hAlign=="right"&&(u=-u),t.vAlign=="bottom"&&(d=d-window.innerHeight,v=v-window.innerHeight);var l=t.createAnimator();l.set(f).setDuration(a).fromPosition(u,d,"CENTER_CENTER").toPosition(u,v,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,E).then(function(h){return h.setDuration(a).fromPosition(u,v,"CENTER_CENTER").toPosition(u,d,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(s,E)}).then(function(h){var o=h.get();o.closeFrame()})};Object.freeze(R);export{N as JSFrame};
/*! event-emitter(https://github.com/riversun/event-emitter) v1.5.0 Copyright (c) 2020 riversun.org@gmail.com */
/*! event-listener-helper(https://github.com/riversun/event-listener-helper) v1.1.2 Copyright (c) 2020 riversun.org@gmail.com */
/*! merge-deeply v3.0.0 Copyright (c) 2019-2020 riversun.org@gmail.com */
