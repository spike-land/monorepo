{"version":3,"file":"jsframe.umd.js","sources":["../src/JSFrame.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"./JSFrame.css\");\nvar EventEmitter = require(\"@riversun/event-emitter\");\nvar CALIGN = require(\"./CCommon.js\");\nvar WindowEventHelper = require(\"./utils/WindowEventHelper.js\");\nvar inherit = require(\"./utils/Inherit.js\");\nvar CFrameAppearance = require(\"./appearance/CFrameAppearance.js\");\nvar CDomPartsBuilder = require(\"./appearance/CDomPartsBuilder.js\");\nvar CSimpleLayoutAnimator = require(\"./utils/CSimpleLayoutAnimator.js\");\nvar EventListenerHelper = require(\"event-listener-helper\");\n\n//If you don't want to bundle preset styles in JsFrame.js ,comment out below.\nvar presetStyles = {\n  \"yosemite\": require(\"./presets/appearance/PresetStyleYosemite.js\"),\n  \"redstone\": require(\"./presets/appearance/PresetStyleRedstone.js\"),\n  \"popup\": require(\"./presets/appearance/PresetStylePopup.js\"),\n  \"toast\": require(\"./presets/appearance/PresetStyleToast.js\"),\n  \"material\": require(\"./presets/appearance/PresetStyleMaterial.js\"),\n};\n\nvar presetWindows = {\n  \"yosemite\": require(\"./presets/window/PresetWindowYosemite.js\"),\n};\n\nvar DEF = {};\n\n// true:Support mouse on mouse-enabled devices\nvar MOUSE_ENABLED = true;\n\n// true:Support touch on touch-enabled devices\nvar TOUCH_ENABLED = true;\n\n//true:Allow the window to be moved only in the case of one finger\n// (the window cannot be moved in the case of two or more fingers)\nvar TOUCH_MOVE_ONLY_WITH_ONE_FINGER = true;\n\n/**\n * DEFINITIONS\n */\nDEF.CBEAN = {};\nDEF.CBEAN.HTML_ELEMENT = \"span\";\nDEF.CBEAN.HTML_ELEMENT_ID_PREFIX = \"htmlElement_\";\nDEF.CBEAN.TYPE_NAME = \"bean\";\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\n/**\n * CBeanFrame Class<p>\n * The smallest window. It is responsible for basic processing only.\n *\n * @param beanId id of this small window\n * @param left\n * @param top\n * @param width\n * @param height\n * @param zindex\n * @constructor\n */\nfunction CBeanFrame(\n  beanId,\n  left,\n  top,\n  width,\n  height,\n  zindex,\n  w_border_width,\n  appearance,\n) {\n  var me = this;\n\n  me.movable = true;\n\n  //fields\n  me.id = beanId;\n  me.property = {};\n\n  me.extra = {};\n\n  me.parentCanvas = null;\n  me.htmlElement = null;\n\n  me.pullUpDisabled = false;\n  if (appearance) {\n    me.pullUpDisabled = appearance.pullUpDisabled;\n  }\n\n  //initialize\n  me.htmlElement = document.createElement(DEF.CBEAN.HTML_ELEMENT);\n  me.htmlElement.id = DEF.CBEAN.HTML_ELEMENT_ID_PREFIX + beanId;\n  me.htmlElement.style.position = \"absolute\";\n  me.htmlElement.style.left = parseInt(left, 10) + \"px\";\n  me.htmlElement.style.top = parseInt(top, 10) + \"px\";\n  me.htmlElement.style.width = parseInt(width, 10) + \"px\";\n  me.htmlElement.style.height = parseInt(height, 10) + \"px\";\n\n  //Zindex may become 'undefined' in some cases.\n  if (zindex !== null) {\n    me.htmlElement.style.zIndex = zindex;\n  }\n  me.htmlElement.style.borderColor = \"#000000\";\n\n  //If I set a larger font size, width and height of window will be affected....\n  me.htmlElement.style.fontSize = \"1px\";\n\n  //Refer parents to each other.(sougo-sansho)\n  me.htmlElement.parent = me;\n\n  if (MOUSE_ENABLED) {\n    //Note that 'mouseDown' is mapped to 'onmousedown' of htmlElement,\n    //so when 'onmouseDown' fires ,the 'this' will indicate 'htmlElement'\n    me.htmlElement.onmousedown = me.onmouseDown;\n  }\n\n  if (TOUCH_ENABLED) {\n    if (\"ontouchstart\" in window) {\n      var funcOnTouchStart = function (evt) {\n        // The \"mousedown\" event happens right after \"touchstart\" event,\n        // but I don't call #preventdefault because #preventdefault prevents \"onclick\".\n        // So, perform #preventdefault only for \"touchmove\"\n        evt.preventDefault();\n        me.onmouseDown.bind(this)(evt);\n      };\n      me.htmlElement.ontouchstart = funcOnTouchStart;\n    }\n  }\n\n  //Type name of this class\n  me.htmlElement.typeName = DEF.CBEAN.TYPE_NAME;\n\n  //Special field indicating usage of this class\n  me.htmlElement.usage = \"nothing\";\n\n  //Whether it can move outside the frame(waku).\n  me.htmlElement.isRangeLimited = false;\n\n  //Movement magnification in the X direction\n  //(If it is 0, it can not move in the X direction.)\n  me.htmlElement.argX = 1;\n\n  //Movement magnification in Y direction\n  // (If it is 0, it can not move in Y direction)\n  me.htmlElement.argY = 1;\n  me.externalAreaClickedListener = null;\n\n  me.onMoveListener = null;\n}\n\nCBeanFrame.prototype.getWindowType = function () {\n  return \"CBeanFrame\";\n};\n\nCBeanFrame.prototype.setOnMoveListener = function (listener) {\n  var me = this;\n  me.onMoveListener = listener;\n};\nCBeanFrame.prototype._onMove = function (e) {\n  var me = this;\n  if (me.onMoveListener) {\n    me.onMoveListener(e);\n  }\n};\n\n/**\n * Set whether the frame can be moved while dragging with the mouse\n * @param enabled\n */\nCBeanFrame.prototype.setMovable = function (enabled) {\n  var me = this;\n\n  if (enabled) {\n    me.htmlElement.argX = 1;\n    me.htmlElement.argY = 1;\n  } else {\n    me.htmlElement.argX = 0;\n    me.htmlElement.argY = 0;\n  }\n\n  me.movable = enabled;\n\n  return me;\n};\n\nCBeanFrame.prototype.setParentCanvas = function (parentCanvas) {\n  var me = this;\n  me.parentCanvas = parentCanvas;\n  me.htmlElement.parentCanvas = me.parentCanvas;\n  return me;\n};\nCBeanFrame.prototype.setOnExternalAreaClickedListener = function (listener) {\n  var me = this;\n  me.externalAreaClickedListener = listener;\n  return me;\n};\nCBeanFrame.prototype.onBodyClicked = function (e) {\n  var me = this;\n\n  var clickX = e.pageX;\n  var clickY = e.pageY;\n\n  var left = parseInt(me.htmlElement.style.left);\n  var top = parseInt(me.htmlElement.style.top);\n  var width = parseInt(me.htmlElement.style.width);\n  var height = parseInt(me.htmlElement.style.height);\n\n  if (\n    left < clickX && clickX < (left + width) && top < clickY &&\n    (clickY < top + height)\n  ) {\n    //- clicked internal area of this frame\n  } else {\n    //- clicked external area of this frame\n    if (me.externalAreaClickedListener) {\n      me.externalAreaClickedListener();\n    }\n  }\n};\nCBeanFrame.prototype.onmouseDown = function (evt) {\n  // Typically, if you mouse down on the title portion, the onmousedown fires to move the window.\n  // Mousing down the bottom of the window, the left side of the window,\n  // or the bottom of the window will fire the onmouseDown of the window itself (CBeanFrame)\n  // as well as the onmouseDown of the CMarkerWindow for resizing.\n  // Each mousedown element is set to a currentObject as being selected,\n  // whether it's a window or a marker.\n\n  // this means htmlElement of CBeanFrame object\n  var refHtmlElement = this;\n\n  var e = evt;\n\n  if (TOUCH_ENABLED) {\n    if (evt.type === \"touchstart\") {\n      var changedTouches = evt.changedTouches;\n      if (TOUCH_MOVE_ONLY_WITH_ONE_FINGER) {\n        var touches = evt.touches;\n        if (touches.length === 1) {\n          e = changedTouches[0];\n        } else {\n          return true;\n        }\n      } else {\n        e = changedTouches[0];\n      }\n    }\n  }\n\n  //Retrieve CBeanFrame object itself\n  var refCBeanFrame = refHtmlElement.parent;\n\n  if (e.button == 0 || evt.type === \"touchstart\") {\n    // for modal background window\n    if (refCBeanFrame.pullUpDisabled) {\n      return false;\n    } else {\n      // Set the current CBeanFrame to be selected(=currentObject) among other CBeanFrames in the parent canvas.\n      refHtmlElement.parentCanvas.currentObject = refHtmlElement;\n\n      // Bring the current bean to the top\n      refHtmlElement.parentCanvas.pullUp(refCBeanFrame.id);\n    }\n  } else if (e.button == 2) {\n    return false;\n  }\n\n  if (refHtmlElement.parentCanvas.currentObject) {\n    refHtmlElement.parentCanvas.offsetX = e.pageX -\n      parseInt(refHtmlElement.parentCanvas.currentObject.style.left, 10);\n    refHtmlElement.parentCanvas.offsetY = e.pageY -\n      parseInt(refHtmlElement.parentCanvas.currentObject.style.top, 10);\n  }\n\n  return false;\n};\n/**\n * End of CBeanFrame Class <p>\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\nDEF.CANVAS = {};\nDEF.CANVAS.HTML_ELEMENT = \"div\";\nDEF.CANVAS.WIDTH_ADJUST_20180722 = 2;\nDEF.CANVAS.HEIGHT_ADJUST_20180722 = 3;\n\n/**\n * CCanvas class\n * A canvas is a place where windows are arranged, where you can drag and move freely.\n *\n * @param parentElement\n * @param canvasId\n * @param left\n * @param top\n * @param width\n * @param height\n * @constructor\n */\nfunction CCanvas(parentElement, canvasId, left, top, width, height) {\n  //Event data to be transmitted\n  function EventData() {\n    this.x = 0;\n    this.y = 0;\n    this.screenX = 0;\n    this.screenY = 0;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.isMoved = false;\n    this.targetTypeName = null;\n    this.targetUsage = null;\n    this.targetObject = null;\n  }\n\n  var me = this;\n\n  me.enablePullUp = true; // true:Pull-up sorting to bring the window to the forefront by clicking to get focus.\n  me.currentObject = null;\n  me.onTopObject = null;\n  me.offsetX = 0;\n  me.offsetY = 0;\n\n  //Object which generated 'mouseDown' event at the very beginning(ichiban-saisho)\n  me.mouseDownSource = null;\n\n  me.id = canvasId;\n  me.canvasElement = null;\n  me.parentElement = parentElement;\n  me.beanList = new Array();\n\n  me.beanIdName = {}; //key:beanId value:beanName\n  me.beanNameId = {}; //key:beanName value:beanId\n\n  me.eventData = new EventData();\n\n  me.baseZIndex = 0;\n  me.setBaseZIndex = function (baseZIndex) {\n    me.baseZIndex = baseZIndex;\n  };\n  me.getBaseZIndex = function () {\n    return me.baseZIndex;\n  };\n\n  me.canvasElement = document.createElement(DEF.CANVAS.HTML_ELEMENT);\n\n  me.canvasElement.style.zIndex = 2000;\n  me.canvasElement.id = me.id;\n  me.canvasElement.style.boxSizing = \"border-box\";\n  me.canvasElement.style.position = \"absolute\";\n  me.canvasElement.style.left = parseInt(left) + \"px\";\n  me.canvasElement.style.top = parseInt(top) + \"px\";\n  //Added an adjustment value.Because transparent part appears at the bottom of the screen,\n  me.canvasElement.style.width =\n    (parseInt(width) + DEF.CANVAS.WIDTH_ADJUST_20180722) + \"px\";\n  me.canvasElement.style.height =\n    (parseInt(height) + DEF.CANVAS.HEIGHT_ADJUST_20180722) + \"px\";\n  me.canvasElement.style.backgroundColor = \"transparent\";\n  me.canvasElement.style.borderStyle = \"none\";\n  me.canvasElement.style.margin = \"0px\";\n  me.canvasElement.style.borderWidth = \"0px\";\n  me.canvasElement.style.borderColor = \"transparent\";\n\n  //Add the Canvas's html element into the canvas's parent html element\n  me.parentElement.appendChild(me.canvasElement);\n}\n\nCCanvas.prototype.mouseMove = function (evt) {\n  var me = this;\n  var e = evt;\n  if (TOUCH_ENABLED) {\n    if (evt.type === \"touchmove\") {\n      var changedTouches = evt.changedTouches;\n      if (TOUCH_MOVE_ONLY_WITH_ONE_FINGER) {\n        var touches = evt.touches;\n        if (touches.length === 1) {\n          e = changedTouches[0];\n        } else {\n          return true;\n        }\n      } else {\n        e = changedTouches[0];\n      }\n    }\n  }\n  if (me.currentObject) {\n    //eventData.isMoved=true;The presence of event data means that it has moved.\n    me.eventData.targetTypeName = me.currentObject.typeName;\n    me.eventData.targetUsage = me.currentObject.usage;\n    me.eventData.targetObject = me.currentObject;\n\n    //Even when obj is not being dragged, mouse coordinates are used here because they are needed.\n    var newObjLeftPx = e.pageX - me.offsetX;\n    var newObjTopPx = e.pageY - me.offsetY;\n\n    var absoluteMouseX = e.pageX;\n    var absoluteMouseY = e.pageY;\n\n    //Take the snapshot before updating the location.\n    var oldObjLeftPx = me.currentObject.style.left;\n    var oldObjTopPx = me.currentObject.style.top;\n\n    //When the mouse cursor goes out of range,\n    //the addition in the X direction and Y direction (delta X, delta Y) is set to zero.\n    //this.left=Cavas's left side edge, this.top=Canvas's top side edge.\n    var tmpLeft = parseInt(newObjLeftPx, 10);\n    var tmpTop = parseInt(newObjTopPx, 10);\n\n    var tmpRight = tmpLeft + parseInt(me.currentObject.style.width, 10);\n    var tmpBottom = tmpTop + parseInt(me.currentObject.style.height, 10);\n\n    var styleWidth = parseInt(me.canvasElement.style.width, 10);\n    var styleHeight = parseInt(me.canvasElement.style.height, 10);\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    if (\n      me.currentObject.isRangeLimited == true &&\n      (tmpLeft <= 0 || tmpRight > styleWidth || tmpTop <= 0 ||\n        tmpBottom > styleHeight)\n    ) {\n      deltaX = 0;\n      deltaY = 0;\n    } else {\n      deltaX = (parseInt(newObjLeftPx, 10) - parseInt(oldObjLeftPx, 10));\n      deltaY = (parseInt(newObjTopPx, 10) - parseInt(oldObjTopPx, 10));\n      me.currentObject.style.left = (parseInt(me.currentObject.style.left) +\n        deltaX * me.currentObject.argX) + \"px\";\n      me.currentObject.style.top = (parseInt(me.currentObject.style.top) +\n        deltaY * me.currentObject.argY) + \"px\";\n\n      var parentObject = me.currentObject.parent;\n      if (parentObject && parentObject._onMove) {\n        parentObject._onMove();\n      }\n    }\n    me.eventData.deltaX = deltaX;\n    me.eventData.deltaY = deltaY;\n\n    return me.eventData;\n  }\n  //Returns null if none of the objects are clicked and the only mouse just moves.\n  return null;\n};\n\nCCanvas.prototype.mouseUp = function (e) {\n  var me = this;\n  me.currentObject = null;\n  me.mouseDownSource = null;\n};\n\n//Bring the object in front\nCCanvas.prototype.pullUp = function (targetBeanId) {\n  var me = this;\n\n  var tmpBeanArray = [];\n\n  var beanList = me.beanList;\n\n  for (var i in beanList) {\n    tmpBeanArray.push(beanList[i]);\n  }\n\n  //Bring the target object in front and set zindex to 1.\n  var targetBean = beanList[targetBeanId];\n\n  if (me.enablePullUp) {\n    me.pullUpSort(targetBean, tmpBeanArray, me.baseZIndex);\n  }\n\n  //Remember the top object\n  me.onTopObject = targetBean;\n};\n\n//Calculate the front / back information of the window accurately.\nCCanvas.prototype.pullUpSort = function (pullupObject, objectArray, baseIndex) {\n  var me = this;\n\n  //Increase the index number of the target object\n  pullupObject.htmlElement.style.zIndex = objectArray.length + baseIndex;\n\n  //sort by index\n  objectArray.sort(function (b, a) {\n    return -parseInt(b.htmlElement.style.zIndex, 10) +\n      parseInt(a.htmlElement.style.zIndex, 10);\n  });\n\n  //Redefine number of the index\n  for (var i in objectArray) {\n    objectArray[i].htmlElement.style.zIndex = (objectArray.length - 1) - i +\n      baseIndex;\n  }\n};\n\n/**\n * remove the bean object\n * @param beanId\n */\nCCanvas.prototype.removeBean = function (beanId) {\n  var me = this;\n\n  //Retrieve the target beanFrame\n  var beanList = me.beanList;\n  var targetBean = beanList[beanId];\n\n  //Remove bean's htmlElement from canvasElement\n  me.canvasElement.removeChild(targetBean.htmlElement);\n\n  //Delete the bean object in the associative array.\n  delete beanList[beanId];\n};\n\n/**\n * Add bean into this canvas\n * @param bean\n */\nCCanvas.prototype.addBean = function (bean) {\n  var me = this;\n\n  var beanList = me.beanList;\n\n  var beanIdName = me.beanIdName; //key:beanId value:beanName\n  var beanNameId = me.beanNameId; //key:beanName value:beanId\n\n  beanList[bean.id] = bean;\n\n  if (bean.property.name) {\n    beanNameId[bean.property.name] = bean.id;\n    beanIdName[bean.id] = bean.property.name;\n  }\n\n  //In this usage case the 'length' property is invalid ..\n  var num = 0;\n\n  for (var j in beanList) {\n    num++;\n  }\n\n  //Set zIndex so that what you add later will come up.\n  bean.htmlElement.style.zIndex = num + me.baseZIndex;\n\n  //On the bean side, specify the parent of the bean to me.\n  bean.setParentCanvas(me);\n\n  this.canvasElement.appendChild(bean.htmlElement);\n};\n\nCCanvas.prototype.getParentElement = function () {\n  var me = this;\n  return me.parentElement;\n};\n\n/**\n * End of canvas class\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\nDEF.CFRAME = {};\nDEF.CFRAME.CANVAS_ELEMENT_BGCOLOR = \"transparent\";\nDEF.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX =\n  \"window__modal_window_background_\";\n\ninherit(CFrame, CBeanFrame);\n\n/**\n * CFrame class\n * <p>\n * This class represents a window whose size can be changed ,\n * can move freely on the screen,\n * can have a title bar,\n *\n * @param windowId\n * @param w_left\n * @param w_top\n * @param w_width\n * @param w_height\n * @param zindex\n * @param w_border_width\n * @param appearance\n * @constructor\n */\nfunction CFrame(\n  windowId,\n  w_left,\n  w_top,\n  w_width,\n  w_height,\n  zindex,\n  w_border_width,\n  appearance,\n) {\n  var me = this;\n\n  //call constructor of superclass\n  CFrame.superConstructor.call(\n    this,\n    windowId,\n    w_left,\n    w_top,\n    w_width,\n    w_height,\n    zindex,\n    w_border_width,\n    appearance,\n  );\n\n  me.anchor = CALIGN.LEFT_TOP;\n\n  me.showTitleBar = appearance.showTitleBar;\n\n  me.canvasNetHeight = null;\n  me.canvasNetWidth = null;\n  me.frameHeightAdjust = appearance.frameHeightAdjust;\n\n  me.frameComponentMap = {};\n\n  //initialize the field\n  me.canvas = null;\n\n  //canvas id\n  me.myCanvasId = null;\n\n  //Buttons to be placed on the screen (positioning same as the close button)\n  me.floatingButton = null;\n\n  me.titleBarClassNameDefault = \"jsframe-titlebar-default\"; // DEF.CFRAME.TITLE_BAR_CLASS_DEFAULT;\n  me.titleBarClassNameFocused = \"jsframe-titlebar-focused\"; //DEF.CFRAME.TITLE_BAR_CLASS_FOCUSED;\n\n  //height of titlebar\n  me.titleBarHeight = appearance.titleBarHeight;\n\n  me.titleBarCaption = appearance.titleBarCaption;\n  me.titleBarCaptionLeftMargin = appearance.titleBarCaptionLeftMargin;\n  me.titleBarCaptionFontSize = appearance.titleBarCaptionFontSize;\n  me.titleBarCaptionFontWeight = appearance.titleBarCaptionFontWeight;\n  me.titleBarBorderBottomDefault = appearance.titleBarBorderBottomDefault;\n  me.titleBarBorderBottomFocused = appearance.titleBarBorderBottomFocused;\n  me.titleBarCaptionTextShadow = appearance.titleBarCaptionTextShadow;\n  me.titleBarCaptionTextAlign = appearance.titleBarCaptionTextAlign;\n\n  //Title bar width adjustment value\n  me.titleAdjustWidth = 2;\n\n  me.windowId = windowId;\n\n  me.exBorderWidth = 0;\n\n  me.myCanvasId = windowId + \"_canvas\";\n\n  //img element for icon placed on the left-top\n  var appIcon = document.createElement(\"img\");\n  //\t\tappIcon.src='img/ico_app_file16.gif';\n\n  //url of icon image\n  appIcon.src = \"\";\n  appIcon.style.position = \"absolute\";\n  appIcon.style.left = \"2px\";\n  appIcon.style.top = \"2px\";\n  appIcon.style.width = \"16px\";\n  appIcon.style.height = \"16px\";\n  appIcon.style.visibility = \"hidden\";\n\n  //The title bar must be on the front of the canvas.\n  me.titleBar = document.createElement(\"div\");\n\n  me.titleBar.className = \"jsframetitlebar\";\n\n  if (me.showTitleBar) {\n    me.titleBar.id = windowId + \"_title\";\n    me.titleBar.style.position = \"absolute\";\n    me.titleBar.style.boxSizing = \"border-box\";\n    me.titleBar.style.top = \"0px\";\n    me.titleBar.style.left = \"0px\";\n    me.titleBar.style.width =\n      (w_width - me.titleAdjustWidth + DEF.CANVAS.WIDTH_ADJUST_20180722) + \"px\";\n    me.titleBar.style.userSelect = \"none\";\n\n    if (me.titleBarHeight) {\n      var titleBarAdjust = 0;\n\n      if (me.titleBarBorderBottomDefault) {\n        titleBarAdjust = 0;\n      }\n\n      me.titleBar.style.height = (parseInt(me.titleBarHeight, 10) + 0) + \"px\";\n    }\n\n    if (me.titleBarColorDefault) {\n      me.titleBar.style.background = me.titleBarColorDefault;\n    }\n    me.titleBar.style.zIndex = 0;\n\n    me.titleBar.style.color = me.titleBarCaptionColorDefault;\n    me.titleBar.style.fontSize = me.titleBarCaptionFontSize;\n    me.titleBar.style.fontWeight = me.titleBarCaptionFontWeight;\n    me.titleBar.style.textShadow = me.titleBarCaptionTextShadow;\n    me.titleBar.style.textAlign = me.titleBarCaptionTextAlign;\n    // me.titleBar.style.textShadow = \"0 1px 0 rgba(255,255,255,.7)\";\n    // me.titleBar.style.textAlign = 'center';\n\n    me.titleBar.style.lineHeight = me.titleBar.style.height;\n\n    me.titleBar.style.borderBottom = me.titleBarBorderBottomDefault;\n    //me.titleBar.style.boxShadow = '0 1px 0 rgba(255,255,255,0.5)';\n\n    //Set not to display overflow character string\n    me.titleBar.style.overflow = \"hidden\";\n\n    var titleBarText = document.createTextNode(\"\");\n\n    //'span' to store text\n    var titleBarTextSpan = document.createElement(\"span\");\n\n    titleBarTextSpan.id = me.id + \"_titleBarText\";\n    if (me.titleBarCaptionLeftMargin != null) {\n      titleBarTextSpan.style.position = \"absolute\";\n      titleBarTextSpan.style.left = parseInt(me.titleBarCaptionLeftMargin, 10) +\n        \"px\";\n    } else {\n      titleBarTextSpan.style.position = \"absolute\";\n      titleBarTextSpan.style.left = \"0px\";\n      titleBarTextSpan.style.right = \"0px\";\n    }\n    titleBarTextSpan.style.top = \"0px\";\n    titleBarTextSpan.appendChild(titleBarText);\n    me.titleBar.appendChild(titleBarTextSpan);\n\n    //Discontinue appicon(20061011)\n    //me.titleBar.appendChild(appIcon);\n  }\n\n  me.htmlElement.appendChild(me.titleBar);\n\n  //Set Canvas throughout the window\n\n  //parseInt(me.titleBar.style.height);//me.titleBarHeight);\n  var canvasMoreHeight = parseInt(me.titleBarHeight, 10) - titleBarAdjust;\n  var canvasMoreSpacing = parseInt(me.titleAdjustWidth, 10);\n\n  if (me.showTitleBar) {\n  } else {\n    canvasMoreHeight = 0;\n    canvasMoreSpacing = 0;\n    titleBarAdjust = 0;\n  }\n\n  me.canvasNetWidth = w_width - canvasMoreSpacing;\n  me.canvasNetHeight = w_height - canvasMoreHeight - canvasMoreSpacing - 1 -\n    titleBarAdjust + me.frameHeightAdjust;\n\n  //Change the style of htmlElement of CFrame (CBean).\n  me.htmlElement.style.cursor = \"move\";\n\n  //Create a canvas\n  me.canvas = new CCanvas(\n    me.htmlElement,\n    me.myCanvasId,\n    0,\n    canvasMoreHeight,\n    w_width - canvasMoreSpacing,\n    w_height - canvasMoreHeight - canvasMoreSpacing,\n  );\n\n  me.canvas.enablePullUp = false;\n  me.canvas.canvasElement.style.backgroundColor =\n    DEF.CFRAME.CANVAS_ELEMENT_BGCOLOR;\n  me.canvas.canvasElement.style.cursor = \"default\";\n\n  if (MOUSE_ENABLED) {\n    //Handling the omousedown event that occurred in Canvas which is a child element of CFrame\n    me.canvas.canvasElement.onmousedown = me.canvasMouseDown;\n  }\n\n  if (TOUCH_ENABLED) {\n    if (\"ontouchstart\" in window) {\n      var funcOnTouchStart = function (evt) {\n        // The \"mousedown\" event happens right after \"touchstart\" event,\n        // but I don't call #preventdefault because #preventdefault prevents \"onclick\" (like button on titlebar).\n        // So, perform #preventdefault only for \"touchmove\"\n        // evt.preventDefault();\n        var touchStartEvent = evt.changedTouches[0];\n        me.canvasMouseDown.bind(this)(touchStartEvent);\n      };\n      me.canvas.canvasElement.ontouchstart = funcOnTouchStart;\n    }\n  }\n\n  //Set the canvas as a reference to the parent of the canvas html element canvasElement.\n  me.canvas.canvasElement.parentCFrame = me;\n\n  var tmpCanvasWidth = parseInt(me.canvas.canvasElement.style.width, 10);\n  var tmpCanvasHeight = parseInt(me.canvas.canvasElement.style.height, 10);\n\n  var markerWidth = appearance.resizeAreaWidth;\n  var markerHeight = appearance.resizeAreaHeight;\n\n  //Offset from marker edge\n  var edgeMargin = appearance.resizeAreaOffset;\n  var markerZIndex = 0;\n\n  var colorRD, colorDD, colorRR;\n\n  if (appearance.resizeAreaVisible) {\n    colorRD = \"rgba(255, 0, 0, 0.5)\";\n    colorDD = \"rgba(0, 0, 255, 0.5)\";\n    colorRR = \"rgba(0, 255, 0, 0.5)\";\n  }\n\n  //Lower right(R-D)\n  var markerRD = new CMarkerWindow(\n    me.myCanvasId + \"_RD\",\n    tmpCanvasWidth + edgeMargin,\n    tmpCanvasHeight + edgeMargin,\n    markerWidth,\n    markerHeight,\n    markerZIndex,\n    \"RD\",\n    colorRD,\n  );\n\n  markerRD.htmlElement.style.cursor = \"se-resize\"; //nw-resize';\n\n  //Since only the deltaX and deltaY are acquired and the movement of the marker itself is\n  // performed by CFrame_resize, the movement coefficient of the marker itself is set to 0.\n  markerRD.htmlElement.argX = 0;\n  markerRD.htmlElement.argY = 0;\n\n  //Bottom(D-D)\n  var markerDD = new CMarkerWindow(\n    me.myCanvasId + \"_DD\",\n    0,\n    tmpCanvasHeight + edgeMargin,\n    tmpCanvasWidth + edgeMargin,\n    markerHeight,\n    markerZIndex,\n    \"DD\",\n    colorDD,\n  );\n\n  markerDD.htmlElement.style.cursor = \"n-resize\";\n\n  //Since only the deltaX and deltaY are acquired and the movement of the marker itself is\n  // performed by CFrame_resize, the movement coefficient of the marker itself is set to 0.\n  markerDD.htmlElement.argX = 0;\n  markerDD.htmlElement.argY = 0;\n\n  //Right(R-R)\n  var markerRR = new CMarkerWindow(\n    me.myCanvasId + \"_RR\",\n    tmpCanvasWidth + edgeMargin,\n    0,\n    markerWidth,\n    tmpCanvasHeight + edgeMargin,\n    markerZIndex,\n    \"RR\",\n    colorRR,\n  );\n\n  markerRR.htmlElement.style.cursor = \"w-resize\";\n\n  //Since only the deltaX and deltaY are acquired and the movement of the marker itself is\n  // performed by CFrame_resize, the movement coefficient of the marker itself is set to 0.\n  markerRR.htmlElement.argY = 0;\n  markerRR.htmlElement.argX = 0;\n\n  //Add size change marker to canvas.\n  me.canvas.addBean(markerRD);\n  me.canvas.addBean(markerDD);\n  me.canvas.addBean(markerRR);\n\n  //Method to remove size change marker (can not resize)\n  me.removeMarkers = function () {\n    me.canvas.removeBean(markerRD.id);\n    me.canvas.removeBean(markerDD.id);\n    me.canvas.removeBean(markerRR.id);\n    me.htmlElement.style.cursor = \"default\";\n  };\n\n  me.removeMarkers2 = function () {\n    me.canvas.removeBean(markerRD.id);\n    me.canvas.removeBean(markerDD.id);\n    me.canvas.removeBean(markerRR.id);\n  };\n  me.enableMarkers = function (enabled) {\n    if (enabled) {\n      markerRD.htmlElement.style.display = \"flex\";\n      markerDD.htmlElement.style.display = \"flex\";\n      markerRR.htmlElement.style.display = \"flex\";\n      markerRD.htmlElement.style.cursor = \"se-resize\";\n      markerDD.htmlElement.style.cursor = \"n-resize\";\n      markerRR.htmlElement.style.cursor = \"w-resize\";\n    } else {\n      markerRD.htmlElement.style.display = \"none\";\n      markerDD.htmlElement.style.display = \"none\";\n      markerRR.htmlElement.style.display = \"none\";\n    }\n    // me.canvas.removeBean(markerRD.id);\n    // me.canvas.removeBean(markerDD.id);\n    // me.canvas.removeBean(markerRR.id);\n  };\n\n  for (var idx in appearance.frameComponents) {\n    var frameComponent = appearance.frameComponents[idx];\n    frameComponent.setFrame(me);\n\n    //if frameComponent has special name 'closeButton', it will act as a close button.\n    if (\"closeButton\" == frameComponent.id) {\n      frameComponent.htmlElement.onclick = me.close;\n    }\n\n    // Handle child menu open/close\n    var frameComponentHasChildMenu = frameComponent.htmlElement.querySelector(\n      \".jsframe-child-menu\",\n    );\n    if (frameComponentHasChildMenu) {\n      me.eventListenerHelper.addEventListener(\n        frameComponent.htmlElement,\n        \"click\",\n        function (e) {\n          var frameComponentId = e.target.getAttribute(\"component-id\");\n\n          // Close all frame component's childmenu once because other frame component's childmenu may be open.\n          // If {exceptFrameComponentId:[frameComponentId]} is specified for the argument,\n          // the child menu will not be closed.\n          me.hideFrameComponentChildMenus(\n            { exceptFrameComponentId: frameComponentId },\n          );\n\n          if (frameComponentId) {\n            var frameComponentHtmlElement = me.getFrameComponentElement(\n              frameComponentId,\n            );\n            var frameComponentChildMenu = frameComponentHtmlElement\n              .querySelector(\".jsframe-child-menu\");\n            if (frameComponentChildMenu) {\n              // By making the display a table,\n              // the width of the childMenu can be accurately reflected.\n              // (flex does not set the width correctly.)\n              if (frameComponentChildMenu.style.display == \"table\") {\n                frameComponentChildMenu.style.display = \"none\";\n              } else {\n                frameComponentChildMenu.style.display = \"table\";\n              }\n            } else {\n              console.error(\n                \"frameComponent child menu isnt found. frameComponentId=\" +\n                  frameComponentId,\n              );\n            }\n          }\n        },\n        { listenerName: \"frame-component_child-menu-listener\" },\n      );\n    }\n\n    me.addFrameComponent(frameComponent);\n  } // /add frameComponents[end]\n\n  //override the field\n  me.htmlElement.style.backgroundColor = \"transparent\";\n\n  me.htmlElement.oncontextmenu = this.contextMenu;\n\n  //The policy of Border drawing seems to be different between IE and FF.\n  var caribVal = 0;\n\n  me.caribValue = caribVal;\n\n  if (me.exBorderWidth) {\n    me.htmlElement.style.borderWidth = me.exBorderWidth + \"px\";\n  }\n  me.htmlElement.style.width =\n    (parseInt(me.htmlElement.style.width, 10) - caribVal) + \"px\";\n  me.htmlElement.style.height =\n    (parseInt(me.htmlElement.style.height, 10) - caribVal + 1) + \"px\";\n  me.htmlElement.typeName = \"cwindow\";\n  me.htmlElement.overflow = \"auto\";\n  me.htmlElement.style.boxSizing = \"content-box\";\n\n  if (appearance.frameBorderStyle) {\n    me.htmlElement.style.borderStyle = appearance.frameBorderStyle;\n  }\n\n  if (appearance.frameBoxShadow) {\n    me.htmlElement.style.boxShadow = appearance.frameBoxShadow;\n  }\n\n  //TODO deprecation(because CIfFrame is extended this operation)\n  if (parseInt(appearance.frameBorderWidthDefault, 10) >= 0) {\n    me.htmlElement.style.borderWidth = appearance.frameBorderWidthDefault;\n    me.htmlElement.style.borderColor = appearance.frameBorderColorDefault;\n  }\n  if (parseInt(appearance.frameBorderRadius, 10) >= 0) {\n    me.htmlElement.style.borderRadius = appearance.frameBorderRadius;\n  }\n\n  me.onCloseFrameListener = null;\n}\n\nCFrame.prototype.setTitleBarClassName = function (\n  classNameForDefault,\n  classNameForFocused,\n) {\n  var me = this;\n  if (classNameForDefault) {\n    me.titleBarClassNameDefault = classNameForDefault;\n    me.titleBarClassNameFocused = classNameForDefault;\n  }\n  if (classNameForFocused) {\n    me.titleBarClassNameFocused = classNameForFocused;\n  }\n  return me;\n};\n/**\n * Add frameComponent(Wrapped DOM element like 'div' to display above the frame) to frame\n * @param frameComponent\n */\nCFrame.prototype.addFrameComponent = function (frameComponent) {\n  var me = this;\n\n  me.frameComponentMap[frameComponent.id] = frameComponent;\n  me.canvas.canvasElement.appendChild(frameComponent.htmlElement);\n  return me;\n};\n\n/**\n * Get stored frame component by id\n * @param frameComponent\n */\nCFrame.prototype.getFrameComponentElement = function (id) {\n  var me = this;\n  if (me.frameComponentMap[id]) {\n    return me.frameComponentMap[id].htmlElement;\n  } else {\n    return null;\n  }\n};\n\nCFrame.prototype.removeFrameComponentById = function (frameComponentId) {\n  var me = this;\n\n  var frameComponent = me.frameComponentMap[frameComponentId];\n\n  me.canvas.canvasElement.removeChild(frameComponent.htmlElement);\n  delete me.frameComponentMap[frameComponentId];\n};\n\nCFrame.prototype.showFrameComponent = function (frameComponentId, display) {\n  var me = this;\n  var comp = me.getFrameComponentElement(frameComponentId);\n  if (comp) {\n    if (display) {\n      comp.style.display = display;\n    } else {\n      comp.style.display = \"flex\";\n    }\n  }\n  return me;\n};\n\nCFrame.prototype.hideFrameComponent = function (frameComponentId) {\n  var me = this;\n  var comp = me.getFrameComponentElement(frameComponentId);\n  if (comp) {\n    comp.style.display = \"none\";\n  }\n  return me;\n};\n\nCFrame.prototype.hideAllVisibleFrameComponents = function () {\n  var me = this;\n\n  var compMap = me.frameComponentMap;\n  for (var key in compMap) {\n    if (compMap.hasOwnProperty(key)) {\n      var comp = compMap[key].htmlElement;\n      if (comp.style.display === \"none\") {\n        comp._alreadyNone = true;\n      }\n      comp.style.display = \"none\";\n    }\n  }\n};\nCFrame.prototype.showAllVisibleFrameComponents = function () {\n  var me = this;\n  var compMap = me.frameComponentMap;\n  for (var key in compMap) {\n    if (compMap.hasOwnProperty(key)) {\n      var comp = compMap[key].htmlElement;\n      if (comp._alreadyNone) {\n        comp._alreadyNone = null;\n      } else {\n        comp.style.display = \"flex\";\n      }\n    }\n  }\n};\n\n/**\n * Close all childMenu\n If {exceptFrameComponentId:[frameComponentId]} is specified for the argument,\n the child menu will not be closed.\n\n * @param opt\n */\nCFrame.prototype.hideFrameComponentChildMenus = function (opt) {\n  var me = this;\n\n  var compMap = me.frameComponentMap;\n  for (var frameComponentId in compMap) {\n    if (compMap.hasOwnProperty(frameComponentId)) {\n      if (opt && opt.exceptFrameComponentId) {\n        if (frameComponentId === opt.exceptFrameComponentId) {\n          continue;\n        }\n      }\n      var comp = compMap[frameComponentId];\n      if (comp.childMenu) {\n        comp.childMenu.style.display = \"none\";\n      }\n    }\n  }\n};\n\nCFrame.prototype.setTitle = function (str) {\n  var me = this;\n  me.title = str;\n  if (me.showTitleBar) {\n    var textNode = document.createTextNode(str);\n    //firstChildのfirstChildがspan\n    me.titleBar.firstChild.replaceChild(\n      textNode,\n      me.titleBar.firstChild.firstChild,\n    );\n  }\n  return me;\n};\n\nCFrame.prototype.resize = function (\n  deltaLeft,\n  deltaTop,\n  deltaWidth,\n  deltaHeight,\n) {\n  var me = this;\n\n  var tmpLeft = parseInt(me.htmlElement.style.left, 10);\n  var tmpTop = parseInt(me.htmlElement.style.top, 10);\n  var tmpWidth = parseInt(me.htmlElement.style.width, 10);\n  var tmpHeight = parseInt(me.htmlElement.style.height, 10);\n\n  me.htmlElement.style.left = parseInt(tmpLeft + deltaLeft, 10) + \"px\";\n  me.htmlElement.style.top = parseInt(tmpTop + deltaTop, 10) + \"px\";\n\n  me.htmlElement.style.width = parseInt(tmpWidth + deltaWidth, 10) + \"px\";\n  me.htmlElement.style.height = parseInt(tmpHeight + deltaHeight, 10) + \"px\";\n\n  var tmpCanvasWidth = parseInt(me.canvas.canvasElement.style.width, 10);\n  var tmpCanvasHeight = parseInt(me.canvas.canvasElement.style.height, 10);\n\n  //Since canvasElement is a (0, 0) relative coordinate with respect to the parent element,\n  // so it is not necessary to change left and top.\n  me.canvas.canvasElement.style.width = (tmpCanvasWidth + deltaWidth) + \"px\";\n  me.canvas.canvasElement.style.height = (tmpCanvasHeight + deltaHeight) + \"px\";\n\n  if (me.showTitleBar) {\n    //Change the size of the title bar. TitleAdjustWidth etc.\n    //The reason why you do not have to use titleAdjustWidth is because\n    // these scaling are done with differences (deltaX, deltaY).\n    //Therefore, if you adjust with the titleAdjustWidth as\n    // the initial value, the other will stretch relative.\n    //You do not think you can use ifDelta\n    me.titleBar.style.width = (tmpCanvasWidth + deltaWidth) + \"px\";\n  } else {\n  }\n\n  for (var beanName in me.canvas.beanList) {\n    var tmpBean = me.canvas.beanList[beanName];\n\n    if (tmpBean.htmlElement.typeName == \"cmarkerwindow\") {\n      if (tmpBean.htmlElement.usage == \"RD\") {\n        //Move the size change lower right(RD) marker according to the amount of movement.\n        tmpBean.htmlElement.style.left =\n          (parseInt(tmpBean.htmlElement.style.left, 10) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.top =\n          (parseInt(tmpBean.htmlElement.style.top, 10) + deltaHeight) + \"px\";\n      } else if (tmpBean.htmlElement.usage == \"DD\") {\n        //Move the size change lower marker according to the movement amount.\n        // Do not move left.Only the width wil increase or decrease.\n        tmpBean.htmlElement.style.width =\n          (parseInt(tmpBean.htmlElement.style.width, 10) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.top =\n          (parseInt(tmpBean.htmlElement.style.top, 10) + deltaHeight) + \"px\";\n      } else if (tmpBean.htmlElement.usage == \"RR\") {\n        //Move the size change right marker according to the movement amount\n        //Do not move top,Only the height will increase or decrease.\n        tmpBean.htmlElement.style.left =\n          (parseInt(tmpBean.htmlElement.style.left, 10) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.height =\n          (parseInt(tmpBean.htmlElement.style.height, 10) + deltaHeight) + \"px\";\n      }\n    }\n  }\n};\n\nCFrame.prototype.canvasMouseDown = function (e) {\n  var me = this;\n\n  //Mousedown processing of CFrame.canvas\n\n  //'This' in this method indicates 'Cwindow.canvas.canvasElement'.\n  if (this.parentCFrame.parentCanvas.mouseDownSource == null) {\n    this.parentCFrame.parentCanvas.mouseDownSource = \"childcanvas\";\n  }\n};\nCFrame.prototype.mouseUp = function (e) {\n  this.canvas.mouseUp(e);\n};\n\nCFrame.prototype.close = function (e) {\n  var me = this;\n  //Close processing of CFrame from CloseButton\n\n  var parentCanvas = this.parentObject.parentCanvas;\n  var cframeObj = this.parentObject;\n\n  console.log(\n    'CFrame#close \"' + cframeObj.title + \"(@\" + cframeObj.getName() + \")\" +\n      '\" @' + cframeObj.windowId,\n  );\n\n  var windowId = cframeObj.id;\n  cframeObj.closeInternally(e, parentCanvas, windowId);\n};\n\nCFrame.prototype.closeFrame = function (e) {\n  //Close processing of CFrame\n  var me = this;\n\n  console.log(\n    'CFrame#closeFrame \"' + me.title + \"(\" + me.getName() + \")\" + '\" @' +\n      me.windowId,\n  );\n\n  var parentCanvas = this.parentCanvas;\n  me.closeInternally(e, parentCanvas, me.windowId);\n};\n\nCFrame.prototype.closeInternally = function (e, parentCanvas, windowId) {\n  var me = this;\n\n  if (!parentCanvas) {\n    console.error(\"Window(\" + windowId + \") may have been closed\");\n    return;\n  }\n  parentCanvas.removeBean(windowId);\n\n  //added for modal window\n  if (me.modalBackgroundWindowId) {\n    parentCanvas.removeBean(me.modalBackgroundWindowId);\n    me.modalBackgroundWindowId = null;\n  }\n\n  if (me.onCloseFrameListener) {\n    me.onCloseFrameListener(me);\n  }\n};\n\nCFrame.prototype.setOnCloseFrameListener = function (listener) {\n  var me = this;\n  me.onCloseFrameListener = listener;\n};\n\nCFrame.prototype.contextMenu = function () {\n  //If you issue the right-click menu in the window, set the source to CFrame.\n  var contextMenuSource = \"CFrame\";\n  return false;\n};\n\nCFrame.prototype.setTitleBarTextColor = function (str) {\n  var me = this;\n  me.titleBar.style.color = str;\n};\n\n/**\n * Set window position with anchor\n * @param {number} x\n * @param {number} y\n * @param {string} anchor anchor means the position of the window with respect to which the position is specified.<br>\n *   The following values can be specified for the anchor\n LEFT_TOP\n CENTER_TOP\n RIGHT_TOP\n LEFT_CENTER\n CENTER_CENTER\n RIGHT_CENTER\n LEFT_BOTTOM\n CENTER_BOTTOM\n RIGHT_BOTTOM\n * @returns {CFrame}\n */\nCFrame.prototype.setPosition = function (x, y, anchor) {\n  var me = this;\n\n  var frameWidth = me.getWidth();\n  var frameHeight = me.getHeight();\n\n  me._setPositionInternally(x, y, anchor, frameWidth, frameHeight);\n\n  return me;\n};\nCFrame.prototype._setPositionInternally = function (\n  x,\n  y,\n  anchor,\n  frameWidth,\n  frameHeight,\n) {\n  var me = this;\n\n  if (anchor) {\n    me.anchor = anchor;\n  }\n\n  if (!anchor || CALIGN.LEFT_TOP == anchor) {\n    me.htmlElement.style.left = x + \"px\";\n    me.htmlElement.style.top = y + \"px\";\n  } else if (CALIGN.HCENTER_TOP == anchor) {\n    me.htmlElement.style.left = (-frameWidth / 2 + x) + \"px\";\n    me.htmlElement.style.top = y + \"px\";\n  } else if (CALIGN.RIGHT_TOP == anchor) {\n    me.htmlElement.style.left = (-frameWidth + x) + \"px\";\n    me.htmlElement.style.top = y + \"px\";\n  } else if (CALIGN.LEFT_VCENTER == anchor) {\n    me.htmlElement.style.left = x + \"px\";\n    me.htmlElement.style.top = (-frameHeight / 2 + y) + \"px\";\n  } else if (CALIGN.HCENTER_VCENTER == anchor) {\n    me.htmlElement.style.left = (-frameWidth / 2 + x) + \"px\";\n    me.htmlElement.style.top = (-frameHeight / 2 + y) + \"px\";\n  } else if (CALIGN.RIGHT_VCENTER == anchor) {\n    me.htmlElement.style.left = (-frameWidth + x) + \"px\";\n    me.htmlElement.style.top = (-frameHeight / 2 + y) + \"px\";\n  } else if (CALIGN.LEFT_BOTTOM == anchor) {\n    me.htmlElement.style.left = x + \"px\";\n    me.htmlElement.style.top = (-frameHeight + y) + \"px\";\n  } else if (CALIGN.HCENTER_BOTTOM == anchor) {\n    me.htmlElement.style.left = (-frameWidth / 2 + x) + \"px\";\n    me.htmlElement.style.top = (-frameHeight + y) + \"px\";\n  } else if (CALIGN.RIGHT_BOTTOM == anchor) {\n    me.htmlElement.style.left = (-frameWidth + x) + \"px\";\n    me.htmlElement.style.top = (-frameHeight + y) + \"px\";\n  }\n};\n\n/**\n * Returns relative position with anchor\n * @returns {{x: *, y: *, anchor: *}}\n */\nCFrame.prototype.getPosition = function () {\n  var me = this;\n  var frameWidth = me.getWidth();\n  var frameHeight = me.getHeight();\n  var x;\n  var y;\n  var anchor = me.anchor;\n  if (!anchor || CALIGN.LEFT_TOP == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10);\n    y = parseInt(me.htmlElement.style.top, 10);\n  } else if (CALIGN.HCENTER_TOP == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth / 2;\n    y = parseInt(me.htmlElement.style.top, 10);\n  } else if (CALIGN.RIGHT_TOP == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth;\n    y = parseInt(me.htmlElement.style.top, 10);\n  } else if (CALIGN.LEFT_VCENTER == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10);\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight / 2;\n  } else if (CALIGN.HCENTER_VCENTER == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth / 2;\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight / 2;\n  } else if (CALIGN.RIGHT_VCENTER == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth;\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight / 2;\n  } else if (CALIGN.LEFT_BOTTOM == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10);\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight;\n  } else if (CALIGN.HCENTER_BOTTOM == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth / 2;\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight;\n  } else if (CALIGN.RIGHT_BOTTOM == anchor) {\n    x = parseInt(me.htmlElement.style.left, 10) + frameWidth;\n    y = parseInt(me.htmlElement.style.top, 10) + frameHeight;\n  }\n  return { x: x, y: y, anchor: anchor };\n};\n\nCFrame.prototype.getLeft = function () {\n  var me = this;\n  return parseInt(me.htmlElement.style.left, 10);\n};\n\nCFrame.prototype.getTop = function () {\n  var me = this;\n  return parseInt(me.htmlElement.style.top, 10);\n};\nCFrame.prototype.getWidth = function () {\n  var me = this;\n  return parseInt(me.htmlElement.style.width, 10);\n};\nCFrame.prototype.getHeight = function () {\n  var me = this;\n  return parseInt(me.htmlElement.style.height, 10);\n};\n\nCFrame.prototype.getSize = function () {\n  var me = this;\n  return { width: me.getWidth(), height: me.getHeight() };\n};\n\nCFrame.prototype.setSize = function (width, height, force) {\n  var me = this;\n\n  var byUser = true;\n\n  if (force) {\n    byUser = false;\n  }\n\n  //call CIFrame#resize instead of CFrame#resize\n  me.resize(0, 0, width - me.getWidth(), height - me.getHeight(), byUser);\n  return me;\n};\n\nCFrame.prototype.getWindowId = function () {\n  var me = this;\n  return me.windowId;\n};\n\nCFrame.prototype.getName = function () {\n  var me = this;\n  return me.property.name;\n};\n\nCFrame.prototype.setName = function (name) {\n  var me = this;\n  me.property.name = name;\n};\n/**\n * end of CFrame class\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\ninherit(CIfFrame, CFrame);\n\n/**\n * CIfFrame class\n * Extension class with contents frame of CFrame as iframe\n * @param windowId\n * @param appearance\n * @constructor\n */\nfunction CIfFrame(windowId, left, top, width, height, appearance) {\n  var wleft = left;\n  var wtop = top;\n  var wwidth = width;\n  var wheight = height;\n  var zindex = appearance.zindex;\n  var wborderwidth = null;\n\n  var me = this;\n\n  this.jsFrame = null;\n  this.control = null;\n\n  this.minFrameWidth = 128;\n  this.minWindowHeight = 32;\n\n  this.eventListenerHelper = new EventListenerHelper();\n\n  /**\n   * If this value is true, the focus will move when tapping the iframe area,\n   * but if the window do not have the focus, you can not click on the element in the iframe.\n   */\n  this.overrayTransparentScreenEnabled = false;\n\n  /**\n   *  Only in the case of resizing a transparent screen can be displayed on the iframe\n   *  and the size can be adjusted smoothly.\n   *  true is recommended.\n   */\n  //Change history\n  //20181226\n  //Changed to false.\n  // So it becomes necessary to click twice to react when you call the #setSize,I changed the value to false.\n  //20181231\n  //I found the way that iframe will be changed the size smoothly.so the final answer is true.\n  this.overrayTransparentScreenOnResize = true;\n\n  this.titleBarColorFocused = appearance.titleBarColorFocused;\n\n  this.titleBarColorDefault = appearance.titleBarColorDefault;\n\n  this.titleBarCaptionColorDefault = appearance.titleBarCaptionColorDefault;\n  this.titleBarCaptionColorFocused = appearance.titleBarCaptionColorFocused;\n\n  //call super constructor\n  CIfFrame.superConstructor.call(\n    me,\n    windowId,\n    wleft,\n    wtop,\n    wwidth,\n    wheight,\n    zindex,\n    wborderwidth,\n    appearance,\n  );\n\n  //border color\n  me.frameBorderColorDefault = appearance.frameBorderColorDefault;\n  me.frameBorderColorFocused = appearance.frameBorderColorFocused;\n\n  //border width\n  me.frameBorderWidthDefault = appearance.frameBorderWidthDefault;\n  me.frameBorderWidthFocused = appearance.frameBorderWidthFocused;\n\n  me.iframe = null;\n\n  //Offset value for width adjustment of iframe\n  me.ifDelta = 0;\n\n  me.resizable = true;\n\n  me.onMouseMoveOnIframe = null;\n  me.onMouseUpOnIframe = null;\n\n  me._hasFocus = false;\n\n  me._hasFocusTime = 0;\n\n  me.htmlElement.typeName = \"cifwindow\";\n\n  //name of iframe\n  var exIframeName = \"riversun_\" + windowId;\n\n  me.dframe = document.createElement(\"div\");\n\n  me.iframe = document.createElement(\"iframe\");\n\n  me.iframe.name = exIframeName;\n\n  me.iframe.id = exIframeName;\n\n  me.iframe.frameBorder = \"0\";\n  //me.iframe.scrolling = 'no';\n\n  me.iframe.zIndex = -1;\n\n  //Allow transparent of iframe background.\n  me.iframe.allowTransparency = \"true\";\n  me.iframe.width = me.canvasNetWidth - me.ifDelta + 0;\n  me.iframe.height = me.canvasNetHeight - me.ifDelta + 0;\n\n  me.showTitleBar = appearance.showTitleBar;\n\n  me.getFrameInnerBorderRadius = appearance.getFrameInnerBorderRadius;\n\n  me.frameBorderRadius = appearance.frameBorderRadius;\n\n  me.adjustFrameBorderRadius();\n\n  me.useIframe = false;\n\n  me.canvas.canvasElement.appendChild(me.iframe);\n\n  me.canvas.canvasElement.appendChild(me.dframe);\n\n  this.setUseIframe = function (useIframe) {\n    me.useIframe = useIframe;\n    me.iframe.style.visibility = \"hidden\";\n    me.iframe.style.position = \"absolute\";\n    me.iframe.style.left = \"0px\";\n    me.iframe.style.top = \"0px\";\n    me.iframe.style.width = \"100%\";\n    me.iframe.style.height = \"100%\";\n\n    me.dframe.style.visibility = \"hidden\";\n    me.dframe.style.position = \"absolute\";\n    me.dframe.style.left = \"0px\";\n    me.dframe.style.boxSizing = \"content-box\";\n\n    me.dframe.style.top = \"0px\";\n    me.dframe.style.width = \"100%\";\n    me.dframe.style.height = \"100%\";\n    //me.dframe.style.borderStyle=\"solid\";\n    me.dframe.style.backgroundColor = \"white\";\n\n    if (useIframe) {\n      me.iframe.style.visibility = \"visible\";\n      me.dframe.style.visibility = \"hidden\";\n    } else {\n      me.iframe.style.visibility = \"hidden\";\n      me.dframe.style.visibility = \"visible\";\n    }\n  };\n\n  me.setUseIframe(appearance.useIframe);\n\n  // If it is IE, set the canvasElement of the canvas which is the parent of the iframe to transparent.\n\n  if (\n    me.overrayTransparentScreenEnabled || me.overrayTransparentScreenOnResize\n  ) {\n    //Create a transparent screen.\n    me.transparence = document.createElement(\"span\");\n    // me.transparence.style.backgroundImage = 'url(img/img_baron_tp.gif)';\n\n    me.transparence.style.position = \"absolute\";\n    me.transparence.style.left = \"0px\";\n    me.transparence.style.top = \"0px\";\n\n    //Transparent screen is 0px when creating window\n    me.transparence.style.width = \"0px\";\n    me.transparence.style.height = \"0px\";\n\n    me.transparence.style.zIndex = 4;\n    me.transparence.style.borderWidth = \"0px\";\n    me.transparence.style.borderColor = \"#ff00ee\";\n    me.transparence.style.borderStyle = \"none\";\n    me.transparence.style.cursor = \"default\";\n\n    me.transparence.style.pointerEvents = \"none\";\n    me.canvas.canvasElement.style.backgroundColor =\n      appearance.frameBackgroundColor;\n\n    me.canvas.canvasElement.appendChild(me.transparence);\n  }\n\n  me.eventEmitter = new EventEmitter();\n\n  me.appearance = appearance;\n}\n\nCIfFrame.prototype.getFrameView = function () {\n  var me = this;\n  return me.dframe;\n};\n\nCIfFrame.prototype.getFrameAppearance = function () {\n  var me = this;\n  return me.appearance;\n};\n\nCIfFrame.prototype.setHTML = function (html) {\n  var me = this;\n  me.dframe.innerHTML = html;\n};\nCIfFrame.prototype.setFrameInFrame = function (enabled) {\n  // Why i had to (bother to:) ) make a setFrameInFrame\n  // The element specified at the top of the content of the parent window (for example, div element)\n  // may NOT be able to get the resize event using addEventListener.\n  // Therefore, when the resize event issued by jsFrame in the parent window occurs,\n  // its custom attribute (WindowEventHelper.MATCH_PARENT_CHANGE_MARKER_ATTR) is attached\n  // to the element at the top of the parent window content\n  // and it is captured by the mutationObserver on the child window side.\n\n  var me = this;\n\n  var contentsEle = me.dframe ? me.dframe.firstChild : null;\n\n  if (contentsEle) {\n    // polyfill for #now\n    if (!Date.now) {\n      Date.now = function now() {\n        return new Date().getTime();\n      };\n    }\n    if (enabled) {\n      me.eventEmitter.only(\"resize\", \"fif-listener\", function () {\n        contentsEle.setAttribute(\n          WindowEventHelper.MATCH_PARENT_CHANGE_MARKER_ATTR,\n          Date.now(),\n        );\n      });\n    } else {\n      contentsEle.removeAttribute(\n        WindowEventHelper.MATCH_PARENT_CHANGE_MARKER_ATTR,\n      );\n      me.eventEmitter.only(\"resize\", \"fif-listener\", function () {\n        // do nothing\n      });\n    }\n  }\n};\n/**\n * Find DOM Element in the frame by querySelector<br>\n *  Examples<br>\n *      frame.$(\"#my_id_name\");\n *      frame.$(\".my_class_name\");\n *      frame.$(\"div>img\");\n *      frame.$(\"input[type='submit]\");\n * @param {string} q selector query\n * @returns {Node}\n */\nCIfFrame.prototype.$ = function (q) {\n  var me = this;\n\n  if (me.useIframe) {\n    var docInIframe = me.iframe.contentWindow.document;\n    return docInIframe.querySelector(q);\n  } else {\n    return me.dframe.querySelector(q);\n  }\n};\n\n/**\n * Sets an event listener for the window itself or elements in the contents of the window.\n It is possible to register multiple listeners to the same event type.\n\n * @param {string} id\n If the \"id\" is prefixed with \"#\",\n an event listener can be set to a DOM element (eventTarget) identified by the id in the content.<br>\n This is the same behavior as the usual eventTarget#addEventListener.<br>\n <br>\n In addition to the DOM element in the content, the following special names are reserved for the \"id\"<br>\n \"closeButton\" ... close button.<br>\n \"minimizeButton\" ... Minimize Button<br>\n \"zoomButton\"...zoom button.<br>\n \"restoreButton\" ... the button that restores the window size.<br>\n \"deminimizeButton\" ... the button to return from the minimized state.<br>\n <br>\n You can also receive events such as window resizing, moving, and focusing.\n In this case, specify the following as \"id\"<br>\n \"frame\" or \"window\".<br>\n <br>\n You can specify a frameComponent name that is uniquely defined by addFrameComponent.\n (Generic buttons such as closeButton are one of the frame components.\n * @param {string} eventType The element in the content (HTML) of a window whose \"id\" starts with \"#\"\n * can be the same as the eventType(https://developer.mozilla.org/en-US/docs/Web/API/Event/type) used by the normal addEventListener.<br>\n <br>\n If the \"id\" is a frame or a window, the following can be used<br>\n \"move\"... When a window is moved, it fires.<br>\n \"resize\"... Fires when the window is resized.<br>\n \"focus\"... \"focus\" means got focus. It fires when the window is in focus.<br>\n \"blur\"... \"blur\" means lost focus.It fires when the window loses focus.<br>\n <br>\n * @param {function} callbackFunc\n */\nCIfFrame.prototype.on = function (id, eventType, callbackFunc) {\n  var me = this;\n  var component = me.getFrameComponentElement(id);\n\n  // if id indicates frame component like CTextButton,CImageButton\n  if (component) {\n    //Since we want to specify only one handler for frame components at the same time,\n    // use eventListenerHelper instead of an event listener\n    me.eventListenerHelper.addEventListener(component, eventType, function (e) {\n      callbackFunc(me, e, {\n        type: \"frameComponent\",\n        id: id,\n        eventType: eventType,\n        //child: childMenuEle\n      });\n    }, { listenerName: \"frame-component-listener\" });\n  }\n\n  if (id === \"frame\" || id === \"window\") {\n    if (eventType === \"move\" && !me.eventEmitter.hasListenerFuncs(\"move\")) {\n      me.setOnMoveListener(function (e) {\n        //refCIfFrame.eventEmitter.emit('resize',);\n        me.eventEmitter.emit(\"move\", me._getCurrentSizePos());\n      });\n    }\n\n    me.eventEmitter.on(eventType, callbackFunc);\n  }\n\n  // DOM element in iframe or DOM element on dframe\n  var domElement = me.$(id);\n\n  if (domElement) {\n    if (\n      me.eventListenerHelper.hasEventListener(\n        domElement,\n        eventType,\n        \"frame-dom-listener\",\n      )\n    ) {\n      me.eventListenerHelper.removeEventListener(\n        domElement,\n        eventType,\n        null,\n        { listenerName: \"frame-dom-listener\" },\n      );\n    }\n    me.eventListenerHelper.addEventListener(\n      domElement,\n      eventType,\n      function (e) {\n        callbackFunc(me, e, {\n          type: \"dom\",\n          id: id,\n          eventType: eventType,\n        });\n      },\n      { listenerName: \"frame-dom-listener\" },\n    );\n  }\n\n  // Search DOM element on frameComponent\n  if (!domElement) {\n    var domElementOnCanvasElement = me.canvas.canvasElement.querySelector(id);\n    if (domElementOnCanvasElement) {\n      domElementOnCanvasElement.addEventListener(eventType, function (e) {\n        callbackFunc(me, e, {\n          type: \"dom\",\n          id: id,\n          eventType: eventType,\n        });\n      });\n    }\n  }\n};\n\nCIfFrame.prototype.adjustFrameBorderRadius = function () {\n  var me = this;\n\n  if (parseInt(me.frameBorderRadius, 10) > 0) {\n    var borderData = me.getFrameInnerBorderRadius(me, me._hasFocus);\n    var frameAppearance = borderData.frameAppearance;\n    var innerBorderRadius = borderData.innerBorderRadius;\n    var titleBarHeight = parseInt(frameAppearance.titleBarHeight, 10);\n\n    if (me.showTitleBar) {\n      //title bar exists\n      me.canvas.canvasElement.style.borderBottomRightRadius = innerBorderRadius;\n      me.canvas.canvasElement.style.borderBottomLeftRadius = innerBorderRadius;\n      me.iframe.style.borderBottomRightRadius = innerBorderRadius;\n      me.iframe.style.borderBottomLeftRadius = innerBorderRadius;\n\n      me.titleBar.style.borderTopLeftRadius = innerBorderRadius;\n      me.titleBar.style.borderTopRightRadius = innerBorderRadius;\n    } else {\n      //title bar not exits\n      me.canvas.canvasElement.style.borderRadius = innerBorderRadius;\n      me.iframe.style.borderRadius = innerBorderRadius;\n    }\n\n    if (me.dframe) {\n      if (titleBarHeight === 0) {\n        if (!me.dframe.style.borderTopRightRadius) {\n          me.dframe.style.borderTopRightRadius = innerBorderRadius;\n        }\n        if (!me.dframe.style.borderTopLeftRadius) {\n          me.dframe.style.borderTopLeftRadius = innerBorderRadius;\n        }\n      }\n      me.dframe.style.borderBottomRightRadius = innerBorderRadius;\n      me.dframe.style.borderBottomLeftRadius = innerBorderRadius;\n    }\n  }\n};\n\nCIfFrame.prototype.handleReleasingFocus = function (e) {\n  var me = this;\n\n  var focused = me._hasFocus;\n\n  me._hasFocus = false;\n\n  //update style class\n  me.titleBar.className = me.titleBarClassNameDefault;\n\n  if (me.titleBarColorDefault) {\n    me.titleBar.style.background = me.titleBarColorDefault;\n  }\n  me.titleBar.style.color = me.titleBarCaptionColorDefault;\n\n  //border color\n  if (me.frameBorderColorDefault) {\n    me.htmlElement.style.borderColor = me.frameBorderColorDefault;\n  }\n\n  //border width\n  if (me.frameBorderWidthDefault) {\n    me.htmlElement.style.borderWidth = me.frameBorderWidthDefault;\n    me.adjustFrameBorderRadius();\n  }\n\n  if (me.htmlElement.typeName == \"cifwindow\") {\n    if (me.overrayTransparentScreenEnabled) {\n      me.transparence.style.width = parseInt(me.iframe.width, 10) + \"px\";\n      me.transparence.style.height = parseInt(me.iframe.height, 10) + \"px\";\n    }\n  }\n\n  //handling for child frameComponents\n  for (var frameComponentId in me.frameComponentMap) {\n    var frameComponent = me.frameComponentMap[frameComponentId];\n    frameComponent.handleReleasingFocus();\n  }\n\n  //border bottom\n  if (me.titleBarBorderBottomDefault) {\n    me.titleBar.style.borderBottom = me.titleBarBorderBottomDefault;\n  }\n\n  if (focused) {\n    me.eventEmitter.emit(\"blur\", { target: me });\n  }\n\n  return me;\n};\n\nCIfFrame.prototype.handleTakingFocus = function (e) {\n  var me = this;\n  var focused = me._hasFocus;\n  me._hasFocus = true;\n  me._hasFocus = Date.now();\n\n  if (me.overrayTransparentScreenEnabled) {\n    //close transparence screen\n    me.transparence.style.width = \"0px\";\n    me.transparence.style.height = \"0px\";\n  }\n\n  //update style class\n  me.titleBar.className = me.titleBarClassNameFocused;\n\n  if (me.titleBarColorFocused) {\n    me.titleBar.style.background = me.titleBarColorFocused;\n  }\n  me.titleBar.style.color = me.titleBarCaptionColorFocused;\n\n  //border color\n  if (me.frameBorderColorFocused) {\n    me.htmlElement.style.borderColor = me.frameBorderColorFocused;\n  }\n\n  //border width\n  if (me.frameBorderWidthFocused) {\n    me.htmlElement.style.borderWidth = me.frameBorderWidthFocused;\n    me.adjustFrameBorderRadius();\n  }\n\n  //border bottom\n  if (me.titleBarBorderBottomFocused) {\n    me.titleBar.style.borderBottom = me.titleBarBorderBottomFocused;\n  }\n\n  //handling for child frameComponents\n  for (var frameComponentId in me.frameComponentMap) {\n    var frameComponent = me.frameComponentMap[frameComponentId];\n    frameComponent.handleTakingFocus();\n  }\n\n  if (!focused) {\n    me.eventEmitter.emit(\"focus\", { target: me });\n  }\n\n  return me;\n};\n\nCFrame.prototype.show = function (model) {\n  var me = this;\n  //me.htmlElement.style.visibility = 'visible';\n  me.htmlElement.style.display = \"flex\"; //hidden';\n\n  if (model && model.requestFocus == false) {\n  } else {\n    me.requestFocus();\n  }\n  return me;\n};\n\nCFrame.prototype.showModal = function (onCloseListener) {\n  var me = this;\n\n  var appearance = new CFrameAppearance();\n  appearance.showTitleBar = true;\n  appearance.showCloseButton = false;\n  appearance.frameBorderRadius = \"0px\";\n  appearance.frameBorderStyle = \"none\";\n  appearance.frameBorderWidthDefault = \"0px\";\n  appearance.frameBorderWidthFocused = \"0px\";\n  appearance.frameBoxShadow = null;\n  appearance.frameBackgroundColor = \"transparent\";\n  appearance.frameComponents = [];\n  appearance.frameHeightAdjust = 0;\n  appearance.titleBarHeight = \"0px\";\n  appearance.titleBarBorderBottomFocused = null;\n  appearance.titleBarCaptionLeftMargin = \"0px\";\n\n  appearance.onInitialize = function () {\n  };\n\n  //added for modal window\n  appearance.pullUpDisabled = true;\n\n  var windowManager = me.parentCanvas;\n\n  var modalBackgroundWindowId = DEF.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX +\n    me.id;\n\n  //create background window for preventing click background\n  var modalBackgroundFrame = new CIfFrame(\n    modalBackgroundWindowId,\n    0,\n    0,\n    1,\n    1,\n    appearance,\n  );\n  modalBackgroundFrame.setSize(window.innerWidth, window.innerHeight, true);\n  modalBackgroundFrame.setResizable(false);\n\n  window.addEventListener(\"resize\", function () {\n    modalBackgroundFrame.setSize(window.innerWidth, window.innerHeight, true);\n  });\n\n  //remember id of modal background frame\n  me.modalBackgroundWindowId = modalBackgroundWindowId;\n\n  // if (properties && properties.windowName) {\n  //     frame.setName(properties.windowName);\n  // }\n\n  modalBackgroundFrame.hide();\n  windowManager.addWindow(modalBackgroundFrame);\n\n  modalBackgroundFrame.setTitle(\"\").getFrameView().innerHTML =\n    '<div class=\"jsframe-modal-window-background\"></div>';\n  modalBackgroundFrame.getFrameView().style.backgroundColor = \"rgba(0,0,0,0.0)\";\n  modalBackgroundFrame.show();\n\n  me.show();\n\n  if (onCloseListener) {\n    me.setOnCloseFrameListener(onCloseListener);\n  }\n};\nCFrame.prototype.getWindowManager = function () {\n  var me = this;\n  return me.parentCanvas;\n};\n\nCIfFrame.prototype.hide = function () {\n  var me = this;\n  //  me.htmlElement.style.visibility = 'hidden';\n  me.htmlElement.style.display = \"none\"; //hidden';\n  return me;\n};\n\n//Overriding CBeanFrame.prototype.onmouseDown\nCIfFrame.prototype.onmouseDown = function (e) {\n  var refHtmlElement = this;\n\n  //Do not select it when dragging by the mouse.\n  document.body.ondrag = function () {\n    return false;\n  };\n  // document.body.onselectstart = function () {\n  //     return false;\n  // };\n\n  //Override decorator with onmouseDown of parent class\n  refHtmlElement.decorator = CFrame.prototype.onmouseDown;\n  refHtmlElement.decorator(e);\n\n  //Deploy a transparent screen.\n  // Since mouseDown is pointed to this.htmlElement.onmousedown in the CBean class,\n  // this 'this' will indicate this.htmlElement.\n  //In other words,\n  //if you want to refer 'CIfFrame',you need to specify 'this.parent.'\n  //See CBeanFrame class, you can find 'this.htmlElement.parent = this'\n  var refCIfFrame = refHtmlElement.parent;\n\n  var refCWindowManager = refHtmlElement.parentCanvas;\n\n  //When somewhere window(CFrame,CIfFrame) fires 'mouseDown',\n  // Close all transparency screens so that the mouse cursor can pass over any iFrame\n  for (var windowId in refCWindowManager.beanList) {\n    var objCIfFrame = refCWindowManager.beanList[windowId];\n    if (windowId == refCIfFrame.getWindowId()) {\n      //skip\n    } else {\n      objCIfFrame.handleReleasingFocus();\n    }\n  }\n\n  refCIfFrame.handleTakingFocus();\n};\n\nCIfFrame.prototype.mouseUp = function (e) {\n  var refCIfFrame = this;\n\n  if (\n    refCIfFrame.overrayTransparentScreenEnabled ||\n    refCIfFrame.overrayTransparentScreenOnResize\n  ) {\n    if (refCIfFrame.parentCanvas.onTopObject == refCIfFrame) {\n      //Minimize the window at the front.\n      refCIfFrame.transparence.style.width = \"0px\";\n      refCIfFrame.transparence.style.height = \"0px\";\n    } else {\n      //The window which is not the at the front expands the screen so that it can respond to clicks.\n\n      if (refCIfFrame.overrayTransparentScreenEnabled) {\n        refCIfFrame.transparence.style.width =\n          parseInt(refCIfFrame.iframe.width) + \"px\";\n        refCIfFrame.transparence.style.height =\n          parseInt(refCIfFrame.iframe.height) + \"px\";\n      }\n    }\n  }\n\n  refCIfFrame.decorator = CFrame.prototype.mouseUp;\n  refCIfFrame.decorator(e);\n\n  //Cancel selecting \"Do not select when dragging mouse while releasing button\" is canceled\n  document.body.ondrag = null;\n  document.body.onselectstart = null;\n\n  //Disable when stopping moving.(Enable transparent window only when moving.)\n  //This will work smoothly even with iframe content\n  refCIfFrame.transparence.style.pointerEvents = \"none\";\n};\n\nCIfFrame.prototype.setMinFrameSize = function (width, height) {\n  var me = this;\n  me.minFrameWidth = width;\n  me.minWindowHeight = height;\n};\n\nCIfFrame.prototype.resize = function (\n  deltaLeft,\n  deltaTop,\n  deltaWidth,\n  deltaHeight,\n  byUser,\n) {\n  var refCIfFrame = this;\n\n  if (!refCIfFrame.resizable && byUser) {\n    return null;\n  }\n\n  var prevSize = refCIfFrame.getSize();\n\n  //Resize processing should be overridden directly rather than adopting a decorator pattern because it has better performance.\n  var tmpLeft = parseInt(refCIfFrame.htmlElement.style.left, 10);\n  var tmpTop = parseInt(refCIfFrame.htmlElement.style.top, 10);\n  var tmpWidth = parseInt(refCIfFrame.htmlElement.style.width, 10);\n  var tmpHeight = parseInt(refCIfFrame.htmlElement.style.height, 10);\n\n  //Important logic to handle the minimum of Window well\n  if (\n    byUser &&\n    (tmpWidth + deltaWidth < refCIfFrame.minFrameWidth & deltaWidth < 0)\n  ) {\n    //Minimum adjustment of width\n    refCIfFrame.htmlElement.style.width = tmpWidth + \"px\";\n    deltaWidth = 0;\n  }\n\n  if (\n    byUser &&\n    (tmpHeight + deltaHeight < refCIfFrame.minWindowHeight & deltaHeight < 0)\n  ) {\n    //Minimum adjustment of height\n    refCIfFrame.htmlElement.style.height = tmpHeight + \"px\";\n    deltaHeight = 0;\n  }\n  refCIfFrame.htmlElement.style.left = (tmpLeft + deltaLeft) + \"px\";\n  refCIfFrame.htmlElement.style.top = (tmpTop + deltaTop) + \"px\";\n  refCIfFrame.htmlElement.style.width = (tmpWidth + deltaWidth) + \"px\";\n  refCIfFrame.htmlElement.style.height = (tmpHeight + deltaHeight) + \"px\";\n\n  var tmpCanvasWidth = parseInt(\n    refCIfFrame.canvas.canvasElement.style.width,\n    10,\n  );\n  var tmpCanvasHeight = parseInt(\n    refCIfFrame.canvas.canvasElement.style.height,\n    10,\n  );\n\n  //Since canvasElement is a (0, 0) relative coordinate with respect\n  // to the parent element, it is not necessary to change left and top.\n  refCIfFrame.canvas.canvasElement.style.width = (tmpCanvasWidth + deltaWidth) +\n    \"px\";\n  refCIfFrame.canvas.canvasElement.style.height =\n    (tmpCanvasHeight + deltaHeight) + \"px\";\n\n  //Change the size of the title bar. TitleAdjustWidth etc.\n  // The reason why you do not have to use titleAdjustWidth is\n  // because these scaling are done with differences (deltaX, deltaY).\n  //Therefore, if you adjust with the titleAdjustWidth\n  // as the initial value, the other will stretch relative.\n  refCIfFrame.titleBar.style.width =\n    (tmpCanvasWidth - refCIfFrame.ifDelta + deltaWidth + 0) + \"px\";\n\n  //Image resizing for iframe that is the child element of canvas\n  refCIfFrame.iframe.width =\n    (tmpCanvasWidth - refCIfFrame.ifDelta + deltaWidth + 0) + \"px\";\n  refCIfFrame.iframe.height =\n    (tmpCanvasHeight - refCIfFrame.ifDelta + deltaHeight +\n      refCIfFrame.frameHeightAdjust) + \"px\";\n\n  if (\n    refCIfFrame.overrayTransparentScreenEnabled ||\n    refCIfFrame.overrayTransparentScreenOnResize\n  ) {\n    //Deploy a transparent screen.\n    refCIfFrame.transparence.style.width = parseInt(refCIfFrame.iframe.width) +\n      \"px\";\n    refCIfFrame.transparence.style.height =\n      parseInt(refCIfFrame.iframe.height) + \"px\";\n  }\n\n  //move frameComponent(like closeButton) corresponding to moving window edge for resize\n  for (var frameComponentId in refCIfFrame.frameComponentMap) {\n    var frameComponent = refCIfFrame.frameComponentMap[frameComponentId];\n    //update alignment of frameComponent corresponding to moving window edge for resize\n    frameComponent.updateAlign();\n  }\n\n  for (var beanName in refCIfFrame.canvas.beanList) {\n    var tmpBean = refCIfFrame.canvas.beanList[beanName];\n\n    if (tmpBean.htmlElement.typeName == \"cmarkerwindow\") {\n      if (tmpBean.htmlElement.usage == \"RD\") {\n        tmpBean.htmlElement.style.left =\n          (parseInt(tmpBean.htmlElement.style.left) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.top =\n          (parseInt(tmpBean.htmlElement.style.top) + deltaHeight) + \"px\";\n      } else if (tmpBean.htmlElement.usage == \"DD\") {\n        tmpBean.htmlElement.style.width =\n          (parseInt(tmpBean.htmlElement.style.width) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.top =\n          (parseInt(tmpBean.htmlElement.style.top) + deltaHeight) + \"px\";\n      } else if (tmpBean.htmlElement.usage == \"RR\") {\n        tmpBean.htmlElement.style.left =\n          (parseInt(tmpBean.htmlElement.style.left) + deltaWidth) + \"px\";\n        tmpBean.htmlElement.style.height =\n          (parseInt(tmpBean.htmlElement.style.height) + deltaHeight) + \"px\";\n      }\n    }\n  }\n\n  var crrSize = refCIfFrame.getSize();\n  if (prevSize.width !== crrSize.width || prevSize.height !== crrSize.height) {\n    refCIfFrame.eventEmitter.emit(\"resize\", refCIfFrame._getCurrentSizePos());\n  }\n}; //resize\n\nCIfFrame.prototype._getCurrentSizePos = function () {\n  var me = this;\n  var crrSize = me.getSize();\n  var crrPos = me.getPosition();\n  return { target: me, pos: crrPos, size: crrSize };\n};\n\nCIfFrame.prototype.resizeDirect = function (width, height, byUser) {\n  var refCIfFrame = this;\n\n  if (!refCIfFrame.resizable && byUser) {\n    return null;\n  }\n\n  refCIfFrame.htmlElement.style.width = width + \"px\";\n  refCIfFrame.htmlElement.style.height = height + \"px\";\n\n  var tmpCanvasWidth = parseInt(refCIfFrame.canvas.canvasElement.style.width);\n  var tmpCanvasHeight = parseInt(refCIfFrame.canvas.canvasElement.style.height);\n\n  //Since canvasElement is a (0, 0) relative coordinate with respect\n  // to the parent element, it is not necessary to change left and top.\n  refCIfFrame.canvas.canvasElement.style.width = width + \"px\";\n  refCIfFrame.canvas.canvasElement.style.height =\n    (height - refCIfFrame.titleBar.style.height) + \"px\";\n\n  //Change the size of the title bar. TitleAdjustWidth etc.\n  // The reason why you do not have to use titleAdjustWidth is\n  // because these scaling are done with differences (deltaX, deltaY).\n  //Therefore, if you adjust with the titleAdjustWidth\n  // as the initial value, the other will stretch relative.\n  refCIfFrame.titleBar.style.width = (width - refCIfFrame.ifDelta) + \"px\";\n\n  //Image resizing for iframe that is the child element of canvas\n  refCIfFrame.iframe.width = width - refCIfFrame.ifDelta + \"px\";\n  refCIfFrame.iframe.height = height - refCIfFrame.ifDelta +\n    refCIfFrame.frameHeightAdjust + \"px\";\n\n  if (\n    refCIfFrame.overrayTransparentScreenEnabled ||\n    refCIfFrame.overrayTransparentScreenOnResize\n  ) {\n    //Deploy a transparent screen.\n    refCIfFrame.transparence.style.width = parseInt(refCIfFrame.iframe.width) +\n      \"px\";\n    refCIfFrame.transparence.style.height =\n      parseInt(refCIfFrame.iframe.height) + \"px\";\n  }\n\n  //move frameComponent(like closeButton) corresponding to moving window edge for resize\n  for (var frameComponentId in refCIfFrame.frameComponentMap) {\n    var frameComponent = refCIfFrame.frameComponentMap[frameComponentId];\n    //update alignment of frameComponent corresponding to moving window edge for resize\n    frameComponent.updateAlign();\n  }\n\n  for (var beanName in refCIfFrame.canvas.beanList) {\n    var tmpBean = refCIfFrame.canvas.beanList[beanName];\n\n    if (tmpBean.htmlElement.typeName == \"cmarkerwindow\") {\n      if (tmpBean.htmlElement.usage == \"RD\") {\n        tmpBean.htmlElement.style.left = width + \"px\"; // parseInt(tmpBean.htmlElement.style.left) + deltaWidth + 'px';\n        tmpBean.htmlElement.style.top = height + \"px\"; //parseInt(tmpBean.htmlElement.style.top) + deltaHeight + 'px';\n      } else if (tmpBean.htmlElement.usage == \"DD\") {\n        tmpBean.htmlElement.style.width = width + \"px\";\n        tmpBean.htmlElement.style.top = height + \"px\"; //heightparseInt(tmpBean.htmlElement.style.top) + deltaHeight + 'px';\n      } else if (tmpBean.htmlElement.usage == \"RR\") {\n        tmpBean.htmlElement.style.left = width + \"px\"; //+parseInt(tmpBean.htmlElement.style.left) + deltaWidth + 'px';\n        tmpBean.htmlElement.style.height = height + \"px\";\n      }\n    }\n  }\n}; //resize\n\n/**\n * Focus on this frame\n */\nCIfFrame.prototype.requestFocus = function () {\n  var me = this;\n\n  var beanList = me.parentCanvas.beanList;\n\n  for (var windowId in beanList) {\n    var tmpIfWindow = beanList[windowId];\n\n    //If it's my own window, minimize the transparent screen and change the color of the title bar.\n    if (windowId == me.getWindowId()) {\n      //if this frame is a target frame\n      tmpIfWindow.handleTakingFocus();\n    } else {\n      //if this frame is NOT a target frame\n      tmpIfWindow.handleReleasingFocus();\n    }\n  }\n\n  me.parentCanvas.pullUp(me.id);\n};\n\n/**\n * URL for iframe\n * @param url\n */\nCIfFrame.prototype.setUrl = function (url) {\n  var me = this;\n\n  return new Promise(function (resolve, reject) {\n    if (url) {\n      me.setUseIframe(true);\n    } else {\n      me.setUseIframe(false);\n      resolve();\n    }\n\n    me.iframe.src = url;\n\n    me.iframe.onload = function () {\n      var funcOnMouseMove = function (e) {\n        var clientX = e.pageX;\n        var clientY = e.pageY;\n\n        if (TOUCH_ENABLED) {\n          if (e.type === \"touchmove\") {\n            var changedTouches = e.changedTouches;\n            if (TOUCH_MOVE_ONLY_WITH_ONE_FINGER) {\n              var touches = e.touches;\n              if (touches.length === 1) {\n                clientX = changedTouches[0].pageX;\n                clientY = changedTouches[0].pageY;\n              } else {\n                return true;\n              }\n            } else {\n              clientX = changedTouches[0].pageX;\n              clientY = changedTouches[0].pageY;\n            }\n          }\n        }\n        var frameLeft = me.getLeft();\n        var frameTop = me.getTop();\n        var eventFromIframe = document.createEvent(\"MouseEvents\");\n        // Processing to make it look like mouse move even if you are moving by touch\n        eventFromIframe.initMouseEvent(\n          \"mousemove\",\n          true,\n          false,\n          window,\n          e.detail,\n          e.screenX,\n          e.screenY,\n          (clientX + frameLeft),\n          (clientY + frameTop),\n          e.ctrlKey,\n          e.altKey,\n          e.shiftKey,\n          e.metaKey,\n          e.button,\n          null,\n        );\n\n        //smooth dragging during iframe mode\n        me.parentCanvas.windowMouseMove(eventFromIframe);\n\n        if (me.onMouseMoveOnIframe) {\n          me.onMouseMoveOnIframe(eventFromIframe);\n        }\n      };\n      me.iframe.contentWindow.document.onmousemove = funcOnMouseMove;\n      me.iframe.contentWindow.document.ontouchmove = funcOnMouseMove;\n\n      //mouse up\n      var funcOnMouseUp = function (e) {\n        var clientX = e.pageX;\n        var clientY = e.pageY;\n\n        if (TOUCH_ENABLED) {\n          if (e.type === \"touchend\") {\n            var changedTouches = e.changedTouches;\n            clientX = changedTouches[0].pageX;\n            clientY = changedTouches[0].pageY;\n          }\n        }\n        var frameLeft = me.getLeft();\n        var frameTop = me.getTop();\n        var eventFromIframe = document.createEvent(\"MouseEvents\");\n        // Processing to make it look like mouse up even if you mouseup by touch\n        eventFromIframe.initMouseEvent(\n          \"mouseup\",\n          true,\n          false,\n          window,\n          e.detail,\n          e.screenX,\n          e.screenY,\n          (clientX + frameLeft),\n          (clientY + frameTop),\n          e.ctrlKey,\n          e.altKey,\n          e.shiftKey,\n          e.metaKey,\n          e.button,\n          null,\n        );\n\n        //smooth dragging during iframe mode\n        me.parentCanvas.windowMouseUp(eventFromIframe);\n\n        if (me.onMouseUpOnIframe) {\n          me.onMouseUpOnIframe(eventFromIframe);\n        }\n      };\n      me.iframe.contentWindow.document.onmouseup = funcOnMouseUp;\n      me.iframe.contentWindow.document.ontouchend = funcOnMouseUp;\n\n      resolve(me, me.iframe.contentWindow.document);\n    };\n  });\n};\n\n/**\n * Returns DOM-document of iframe\n * @returns {*|HTMLDocument}\n */\nCIfFrame.prototype.getIfDocument = function () {\n  var me = this;\n  return me.iframe.contentWindow.document;\n};\n\nCIfFrame.prototype.setScrolling = function (str) {\n  var me = this;\n  me.iframe.scrolling = str;\n};\n\nCIfFrame.prototype.getScrolling = function (str) {\n  var me = this;\n  return me.iframe.scrolling;\n};\n\nCIfFrame.prototype.setResizable = function (enabled) {\n  var me = this;\n  me.resizable = enabled;\n  me.enableMarkers(enabled);\n  return me;\n};\n\nCIfFrame.prototype.setControl = function (model) {\n  var me = this;\n\n  if (model) {\n    model.frame = me;\n    me.control = me.jsFrame.createWindowEventHelper(model);\n    me.control.setupDefaultEvents();\n  }\n};\n\n/**\n * end of CIFrame class\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\ninherit(CWindowManager, CCanvas);\n\n/**\n * CWindowManager class\n * <p>\n * A canvas class that displays multiple frames. Handle events on the window to coordinate multiple windows<br>\n *\n * @param parentElement\n * @param canvasId\n * @param left\n * @param top\n * @param width\n * @param height\n * @constructor\n */\nfunction CWindowManager(parentElement, canvasId, left, top, width, height) {\n  CWindowManager.superConstructor.call(\n    this,\n    parentElement,\n    canvasId,\n    left,\n    top,\n    width,\n    height,\n  );\n  var me = this;\n  // document.body.addEventListener('click', function(evt) {\n  document.addEventListener(\"click\", function (evt) {\n    for (var windowId in me.beanList) {\n      var beanFrame = me.beanList[windowId];\n      beanFrame.onBodyClicked(evt);\n    }\n  });\n}\n\nCWindowManager.prototype.getWindow = function (windowId) {\n  var me = this;\n  return me.beanList[windowId];\n};\n\n//Wrapping the 'addBean' of the parent class\nCWindowManager.prototype.addWindow = function (window) {\n  var me = this;\n\n  var windowId = window.getWindowId();\n  var name = window.getName();\n  me.beanIdName[windowId] = name;\n  me.beanNameId[name] = windowId;\n\n  me.addBean(window);\n};\n\n//if contains window named specified name\nCWindowManager.prototype.containsWindowName = function (name) {\n  var me = this;\n\n  var windowId = me.beanNameId[name];\n\n  if (windowId) {\n    return true;\n  }\n  return false;\n};\n\nCWindowManager.prototype.getWindowByName = function (name) {\n  var me = this;\n  var windowId = me.beanNameId[name];\n\n  if (windowId) {\n    return me.getWindow(windowId);\n  } else {\n    return null;\n  }\n};\n\n//Wrapping the 'mouseMove' method of the parent class\nCWindowManager.prototype.windowMouseMove = function (e) {\n  var me = this;\n  if (me.currentObject == null) {\n    return null;\n  }\n\n  var childWindowMoved = false;\n\n  //Loop processing of each CWindow held by CWindowManager\n  var beanList = me.beanList;\n\n  for (var windowId in beanList) {\n    var targetWindow = beanList[windowId];\n\n    //Since this 'mouseMove' is canvas of CWindow's 'mouseMove',so do move CBeanFrames in the canvas.\n    var eventData = targetWindow.canvas.mouseMove(e);\n\n    //Whether any one of the beans in the Canvas has moved or not.\n    //Yes.(When it moves), eventData is set.\n    //NO. If it does not move it is set to null.\n    childWindowMoved = childWindowMoved | (eventData != null);\n    if (eventData != null) {\n      //If it is the marker for resizing\n      if (eventData.targetTypeName == \"cmarkerwindow\") {\n        var targetObject = eventData.targetObject;\n\n        //Enable transparent window only when moving.\n        //This will work smoothly even with iframe content\n        targetWindow.transparence.style.pointerEvents = \"auto\";\n\n        if (targetObject.usage == \"RD\") {\n          targetWindow.resize(0, 0, eventData.deltaX, eventData.deltaY, true);\n        } else if (targetObject.usage == \"DD\") {\n          targetWindow.resize(0, 0, 0, eventData.deltaY, true);\n        } else if (targetObject.usage == \"RR\") {\n          targetWindow.resize(0, 0, eventData.deltaX, 0, true);\n        }\n      }\n    }\n  }\n\n  //If any one of the beans in the Canvas has moved.Do not do 'Cwindow's mouseMove'\n  if (!childWindowMoved && this.mouseDownSource != \"childcanvas\") {\n    //Moving logic for CWindow which is holded by CWindowManager as a child window.\n    me.mouseMove(e);\n  }\n};\n\n//Wrapping the method 'mouseUp' of the parent class\nCWindowManager.prototype.windowMouseUp = function (e) {\n  var me = this;\n\n  //run 'mouseUp' of parent class\n  me.mouseUp(e);\n\n  var beanList = me.beanList;\n\n  for (var windowId in beanList) {\n    var objWindow = beanList[windowId];\n\n    //run CWindow's 'mouseUp'(it's child window).\n    objWindow.mouseUp(e);\n  }\n};\n\n/**\n * (override CCanvas.removeBean)\n * @param windowId\n */\nCWindowManager.prototype.removeBean = function (windowId) {\n  var me = this;\n\n  //Retrieve the target beanFrame\n  var beanList = me.beanList;\n  var targetBean = beanList[windowId];\n\n  if (targetBean == null) {\n    return;\n  }\n\n  var removeTargetBeanHasFocus = targetBean._hasFocus;\n\n  //Remove bean's htmlElement from canvasElement\n  me.canvasElement.removeChild(targetBean.htmlElement);\n\n  //Delete the bean object in the associative array.\n  delete beanList[windowId];\n\n  var beanName = me.beanIdName[windowId];\n  if (beanName) {\n    //-if bean name exist\n    delete me.beanIdName[windowId];\n    delete me.beanNameId[beanName];\n  }\n\n  //focus on last focused window after removing\n  var maxFocusTime = 0;\n  var lastFocusedFrame = null;\n\n  if (removeTargetBeanHasFocus) {\n    for (var windowId in beanList) {\n      var frame = beanList[windowId];\n\n      //pullUpDisabled=true means that the frame is modal background window\n      if (maxFocusTime <= frame._hasFocusTime && !frame.pullUpDisabled) {\n        maxFocusTime = frame._hasFocusTime;\n\n        lastFocusedFrame = frame;\n      }\n    }\n    if (lastFocusedFrame) {\n      lastFocusedFrame.requestFocus();\n    }\n  }\n\n  targetBean.parentCanvas = null;\n};\n/**\n * end of CWindowManager class\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\ninherit(CMarkerWindow, CBeanFrame);\n\n/**\n * CMarkerWindow class\n * @param windowId\n * @param left\n * @param top\n * @param width\n * @param height\n * @param zindex\n * @param usage\n * @constructor\n */\nfunction CMarkerWindow(\n  windowId,\n  left,\n  top,\n  width,\n  height,\n  zindex,\n  usage,\n  color,\n) {\n  var me = this;\n\n  CMarkerWindow.superConstructor.call(\n    this,\n    windowId,\n    left,\n    top,\n    width,\n    height,\n    zindex,\n    usage,\n  );\n\n  me.htmlElement.typeName = \"cmarkerwindow\";\n  me.htmlElement.usage = usage;\n  me.htmlElement.isRangeLimited = false;\n  me.htmlElement.style.borderStyle = \"none\";\n  me.htmlElement.style.zIndex = 1;\n  if (color) {\n    me.htmlElement.style.background = color;\n  }\n  //me.pullUpDisabled = true;\n\n  me.getWindowType = function () {\n    return \"CMarkerWindow\";\n  };\n}\n\n/**\n * End of CMarkerWindow class\n * @constructor\n */\n\n//+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-\n\n/**\n * FrameManager class\n * @constructor\n */\nfunction JSFrame(model) {\n  var me = this;\n\n  var parentElement = null;\n\n  // Frames will be fixed(Frames keep staying in the same place) even if the user scrolls the browser.\n  me.isWindowManagerFixed = true; //default is true.\n\n  //Initialization parameter check\n\n  if (model && model.fixed == false) {\n    me.isWindowManagerFixed = false;\n  }\n\n  if (model && model.parentElement) {\n    parentElement = model.parentElement;\n  }\n\n  me.hAlign = \"left\";\n  me.vAlign = \"top\";\n\n  if (model && model.horizontalAlign) {\n    me.hAlign = model.horizontalAlign;\n  }\n\n  if (model && model.verticalAlign) {\n    me.vAlign = model.verticalAlign;\n  }\n\n  me.pullToRefresh = false;\n  if (model && typeof model.pullToRefresh === \"boolean\") {\n    me.pullToRefresh = model.pullToRefresh;\n  }\n\n  me.touchActionManipulation = true;\n  if (model && typeof model.touchActionManipulation === \"boolean\") {\n    me.touchActionManipulation = model.touchActionManipulation;\n  }\n\n  if (!parentElement) {\n    if (me.isWindowManagerFixed) {\n      var topParentDiv = document.createElement(\"div\");\n      topParentDiv.id = \"jsFrame_fixed_\" + me.generateUUID();\n      topParentDiv.setAttribute(\n        \"style\",\n        \"position:fixed;\" + me.hAlign + \":0px;\" + me.vAlign +\n          \":0px;margin:0px;padding:0px;\",\n      );\n      document.body.appendChild(topParentDiv);\n      parentElement = topParentDiv;\n    } else {\n      var topParentDiv = document.createElement(\"div\");\n      topParentDiv.id = \"jsFrame_absolute_\" + me.generateUUID();\n      topParentDiv.setAttribute(\n        \"style\",\n        \"position:absolute;\" + me.hAlign + \":0px;\" + me.vAlign +\n          \":0px;margin:0px;padding:0px;\",\n      );\n      document.body.appendChild(topParentDiv);\n      parentElement = topParentDiv;\n    }\n  } else {\n    if (me.isWindowManagerFixed) {\n      //parentElement set\n      var topParentDiv = document.createElement(\"div\");\n      topParentDiv.id = \"jsFrame_fixed_\" + me.generateUUID();\n      topParentDiv.setAttribute(\n        \"style\",\n        \"position:fixed;\" + me.hAlign + \":0px;\" + me.vAlign +\n          \":0px;margin:0px;padding:0px;\",\n      );\n      parentElement.appendChild(topParentDiv);\n    } else {\n      var topParentDiv = document.createElement(\"div\");\n      topParentDiv.id = \"jsFrame_absolute_\" + me.generateUUID();\n      topParentDiv.setAttribute(\n        \"style\",\n        \"position:absolute;\" + me.hAlign + \":0px;\" + me.vAlign +\n          \":0px;margin:0px;padding:0px;\",\n      );\n      parentElement.appendChild(topParentDiv);\n    }\n  }\n\n  if (MOUSE_ENABLED) {\n    document.addEventListener(\"mouseup\", mouseUp);\n    document.addEventListener(\"mousemove\", mouseMove);\n  }\n\n  if (TOUCH_ENABLED) {\n    if (\"ontouchend\" in window) {\n      var funcOnTouchEnd = function (evt) {\n        // The \"mouseup\" event happens right after \"touchend\" event,\n        // but I don't call #preventdefault because #preventdefault prevents \"onclick\".\n        // So, perform #preventdefault only for \"touchmove\"\n        // evt.preventDefault();\n        mouseUp.bind(this)(evt);\n      };\n      document.addEventListener(\"touchend\", funcOnTouchEnd);\n    }\n\n    if (\"ontouchmove\" in window) {\n      // To remove the 300ms tap delay between touchend and click,\n      // To disable double-tap to zoom\n      if (me.touchActionManipulation) {\n        me.doEnableTouchActionManipulation();\n      }\n\n      if (!me.pullToRefresh) {\n        // The Android version of Chrome has a feature that refreshes the page by sliding downward\n        // while touching on the screen, but when this feature is enabled, the downward movement of the window is inhibited,\n        // so this feature can be explicitly turned off.\n        me.doDisablePullToRefresh();\n      }\n\n      var funcOnTouchMove = function (evt) {\n        // Call #preventDefault to prevent simultaneous ignition of mousemove\n        evt.preventDefault();\n        mouseMove.bind(this)(evt);\n      };\n      document.addEventListener(\"touchmove\", funcOnTouchMove);\n    }\n  }\n\n  me.windowManager = new CWindowManager(\n    parentElement,\n    \"windowManager_\" + me.generateUUID(),\n    0,\n    0,\n    0,\n    0,\n  );\n  //me.windowManager = new CWindowManager(document.body, 'windowManager_' + me.generateUUID(), 0, 0, 0, 0);\n  me.domPartsBuilder = null;\n\n  function mouseUp(e) {\n    me.windowManager.windowMouseUp(e);\n  }\n\n  function mouseMove(e) {\n    me.windowManager.windowMouseMove(e);\n  }\n}\n\nJSFrame.prototype.doEnableTouchActionManipulation = function () {\n  var bodyStyle = document.documentElement.getAttribute(\"style\");\n  if (!bodyStyle) {\n    bodyStyle = \"\";\n  } else {\n    if (!bodyStyle.endsWith(\";\")) {\n      bodyStyle += \";\";\n    }\n  }\n  if (bodyStyle.indexOf(\"touch-action\") === -1) {\n    bodyStyle += \"-ms-touch-action: manipulation;touch-action: manipulation;\";\n    document.documentElement.setAttribute(\"style\", bodyStyle);\n  }\n};\n\nJSFrame.prototype.doDisablePullToRefresh = function () {\n  var bodyStyle = document.body.getAttribute(\"style\");\n  if (!bodyStyle) {\n    bodyStyle = \"\";\n  } else {\n    if (!bodyStyle.endsWith(\";\")) {\n      bodyStyle += \";\";\n    }\n  }\n  if (bodyStyle.indexOf(\"overscroll-behavior-y\") === -1) {\n    bodyStyle += \"overscroll-behavior-y: contain;\";\n    document.body.setAttribute(\"style\", bodyStyle);\n  }\n};\nJSFrame.prototype.getDomPartsBuilder = function () {\n  var me = this;\n\n  if (!me.domPartsBuilder) {\n    me.domPartsBuilder = new CDomPartsBuilder();\n  }\n  return me.domPartsBuilder;\n};\n\nJSFrame.prototype.create = function (model) {\n  var me = this;\n\n  var properties = {};\n  properties.name = model.name;\n  var title = model.title;\n  var left = model.left;\n  var top = model.top;\n  var width = model.width;\n  var height = model.height;\n  var appearance = model.appearance;\n  var presetWindowName = model.preset;\n  var presetWindowParam = model.presetParam;\n  var appearanceName = model.appearanceName;\n  var appearanceParam = model.appearanceParam;\n  var style = model.style;\n\n  var minWidth = model.minWidth;\n  var minHeight = model.minHeight;\n\n  var html = model.html;\n  var resizable = model.resizable;\n  var movable = model.movable;\n  var url = model.url;\n  var urlLoaded = model.urlLoaded;\n\n  var presetParam = model.presetParam;\n  var presetWindow;\n\n  if (presetWindowName) {\n    var presetWindowObj = this.getPresetWindow(presetWindowName);\n    presetWindow = presetWindowObj.getPresetWindow(presetParam);\n    appearance = this.createPresetStyle(\n      presetWindow.appearanceName,\n      { appearanceParam: presetWindow.appearanceParam },\n    );\n  } else if (appearanceName) {\n    appearance = this.createPresetStyle(\n      appearanceName,\n      { appearanceParam: appearanceParam },\n    );\n  }\n\n  if (model.clientHeight) {\n    var windowTitleBarHeight = parseInt(appearance.titleBarHeight || 0) -\n      appearance.frameHeightAdjust;\n    height = model.clientHeight + windowTitleBarHeight;\n  }\n\n  var frame = this.createFrame(\n    left,\n    top,\n    width,\n    height,\n    appearance,\n    properties,\n  );\n\n  if (title) {\n    frame.setTitle(title);\n  }\n\n  if (html) {\n    frame.setHTML(html);\n  }\n  if (url) {\n    var urlPromise = frame.setUrl(url);\n    if (urlLoaded) {\n      urlPromise.then(urlLoaded);\n    }\n  }\n  if (resizable == false) {\n    frame.setResizable(false);\n  }\n  if (movable == false) {\n    frame.setMovable(false);\n  }\n\n  if (minWidth && minHeight) {\n    frame.minFrameWidth = minWidth;\n  }\n  if (minHeight) {\n    frame.minWindowHeight = minHeight;\n\n    if (model.clientHeight) {\n      frame.minWindowHeight = minHeight + windowTitleBarHeight;\n    }\n  }\n\n  if (style) {\n    var frameView = frame.getFrameView();\n\n    for (var name in style) {\n      if (style.hasOwnProperty(name)) {\n        frameView.style[name] = style[name];\n      }\n    }\n  }\n\n  if (presetWindow) {\n    presetWindow.setupPresetWindow(frame);\n  }\n\n  return frame;\n};\n\n/**\n * Create a new window\n *\n * @returns {CIfFrame}\n */\nJSFrame.prototype.createFrame = function (\n  left,\n  top,\n  width,\n  height,\n  appearance,\n  properties,\n) {\n  var me = this;\n\n  if (!appearance) {\n    appearance = me.createFrameAppearance();\n  }\n\n  appearance.initialize();\n\n  var windowId = \"window_\" + me.generateUUID();\n\n  if (!left) {\n    left = 0;\n  }\n  if (!top) {\n    top = 0;\n  }\n  if (!width) {\n    width = 128;\n  }\n  if (!height) {\n    height = 128;\n  }\n\n  var frame = new CIfFrame(windowId, left, top, width, height, appearance);\n\n  //experimental\n  frame.jsFrame = me;\n\n  if (properties && properties.name) {\n    frame.setName(properties.name);\n  }\n  frame.hide();\n\n  me.windowManager.addWindow(frame);\n\n  // getTitleBarStyle is deprecated\n  if (appearance.getTitleBarStyle) {\n    var titleBarStyle = appearance.getTitleBarStyle();\n    if (titleBarStyle) {\n      frame.setTitleBarClassName(\n        titleBarStyle.titleBarClassNameDefault,\n        titleBarStyle.titleBarClassNameFocused,\n      );\n    }\n  } else if (\n    appearance.titleBarClassNameDefault && appearance.titleBarClassNameFocused\n  ) {\n    frame.setTitleBarClassName(\n      appearance.titleBarClassNameDefault,\n      appearance.titleBarClassNameFocused,\n    );\n  } else if (appearance.titleBarClassNameDefault) {\n    frame.setTitleBarClassName(\n      appearance.titleBarClassNameDefault,\n      appearance.titleBarClassNameDefault,\n    );\n  }\n\n  return frame;\n};\n\nJSFrame.prototype.containsWindowName = function (windowName) {\n  var me = this;\n  return me.windowManager.containsWindowName(windowName);\n};\n\nJSFrame.prototype.getWindowByName = function (windowName) {\n  var me = this;\n  return me.windowManager.getWindowByName(windowName);\n};\n\nJSFrame.prototype.generateUUID = function () {\n  var unixTime = Date.now();\n\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n    /[xy]/g,\n    function (c) {\n      var r = (unixTime + Math.random() * 16) % 16 | 0;\n      unixTime = Math.floor(unixTime / 16);\n      return (c == \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n    },\n  );\n  return uuid;\n};\n\nJSFrame.prototype.createFrameAppearance = function () {\n  return new CFrameAppearance();\n};\n\nJSFrame.prototype.createAnimator = function () {\n  return new CSimpleLayoutAnimator();\n};\n\n/**\n * Helper class for maximizing and minimizing windows(frames) and handling animations accordingly\n */\nJSFrame.prototype.createWindowEventHelper = function (model) {\n  var me = this;\n\n  if (!model) {\n    model = {};\n  }\n\n  model.verticalAlign = me.vAlign;\n  model.horizontalAlign = me.hAlign;\n\n  var wndEventHelper = new WindowEventHelper(model);\n  return wndEventHelper;\n};\n\nJSFrame.prototype.getPresetWindow = function (presetName, param) {\n  if (presetWindows[presetName]) {\n    var presetObj = presetWindows[presetName];\n    return presetObj;\n  } else {\n    return null;\n  }\n};\nJSFrame.prototype.createPresetStyle = function (presetName, param) {\n  var me = this;\n  var apr = me.createFrameAppearance();\n  if (param && param.focusedFrameOnly) {\n    apr.focusedFrameOnly = param.focusedFrameOnly;\n  }\n\n  if (presetStyles[presetName]) {\n    var styleObj = presetStyles[presetName];\n    var appearanceParam = null;\n\n    if (param && param.appearanceParam) {\n      appearanceParam = param.appearanceParam;\n    }\n\n    return styleObj.getStyle(apr, appearanceParam);\n  }\n\n  console.error('[JSFrame] Preset appearance \"' + presetName + '\" not found.');\n  return apr;\n};\n\nJSFrame.prototype.showToast = function (model) {\n  if (!model) {\n    return;\n  }\n\n  var me = this;\n  var toastHeight = 60;\n  var toastWidth = 260;\n  var openCloseDurationMs = 300;\n  var stayDurationMs = 1000;\n  var startY = window.innerHeight - 10 - toastHeight / 2;\n  var endY = window.innerHeight - 20 - toastHeight / 2;\n  var myHtml = \"\";\n  var showButton = false;\n  var style = {\n    borderRadius: \"10px\",\n    background: \"rgba(0,0,0,0.8)\",\n  };\n\n  if (model.style) {\n    style = model.style;\n  }\n  if (model.height) {\n    toastHeight = model.height;\n  }\n  if (model.width) {\n    toastWidth = model.width;\n  }\n  if (model.duration) {\n    stayDurationMs = model.duration;\n  }\n  if (model.align) {\n    if (model.align == \"top\") {\n      startY = 10 + toastHeight / 2;\n      endY = 20 + toastHeight / 2;\n    } else if (model.align == \"center\") {\n      startY = window.innerHeight / 2;\n      endY = window.innerHeight / 2;\n    } else {\n      //bottom\n    }\n  }\n  if (model.html) {\n    myHtml = model.html;\n  }\n  if (model.text) {\n    myHtml = model.text;\n  }\n  if (model.closeButton == true) {\n    showButton = true;\n  } else {\n    showButton = false;\n  }\n\n  var apr = me.createPresetStyle(\"toast\");\n\n  if (style.borderRadius) {\n    apr.frameBorderRadius = style.borderRadius;\n  }\n\n  if (model.closeButtonColor) {\n    apr.captionClor = model.closeButtonColor;\n  }\n\n  var frame = me.create({\n    name: \"toast_\" + me.generateUUID(),\n    width: toastWidth,\n    height: toastHeight,\n    movable: false,\n    resizable: false,\n    appearance: apr,\n    style: style,\n    html:\n      '<div id=\"my_element\" style=\"box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:' +\n      (toastHeight) + 'px\">' +\n      myHtml +\n      \"</div>\",\n  });\n\n  if (showButton) {\n  } else {\n    frame.hideFrameComponent(\"closeButton\");\n  }\n\n  var requestFocusAfterAnimation = false;\n\n  var startX = window.innerWidth / 2;\n\n  if (me.hAlign == \"right\") {\n    startX = -startX; // -500;\n  }\n\n  if (me.vAlign == \"bottom\") {\n    startY = startY - window.innerHeight;\n    endY = endY - window.innerHeight;\n  }\n\n  var animator = me.createAnimator();\n  animator.set(frame)\n    .setDuration(openCloseDurationMs)\n    .fromPosition(startX, startY, \"CENTER_CENTER\")\n    .toPosition(startX, endY, \"CENTER_CENTER\")\n    .toAlpha(1.0)\n    .fromAlpha(0.0)\n    .start(0, requestFocusAfterAnimation)\n    .then(function (animatorObj) {\n      return animatorObj\n        .setDuration(openCloseDurationMs)\n        .fromPosition(startX, endY, \"CENTER_CENTER\")\n        .toPosition(startX, startY, \"CENTER_CENTER\")\n        .fromAlpha(1.0)\n        .toAlpha(0.5)\n        .start(stayDurationMs, requestFocusAfterAnimation);\n    })\n    .then(function (animatorObj) {\n      var _frame = animatorObj.get();\n      _frame.closeFrame();\n    });\n};\n\n/**\n * end of FrameManager class\n */\n\nObject.freeze(DEF);\n\nexport default JSFrame;\nwindow.JSFrame = JSFrame;\n"],"names":["require","EventEmitter","CALIGN","WindowEventHelper","inherit","CFrameAppearance","CDomPartsBuilder","CSimpleLayoutAnimator","EventListenerHelper","presetStyles","yosemite","redstone","popup","toast","material","presetWindows","DEF","CBeanFrame","beanId","left","top","width","height","zindex","w_border_width","appearance","me","this","movable","id","property","extra","parentCanvas","htmlElement","pullUpDisabled","document","createElement","CBEAN","HTML_ELEMENT","HTML_ELEMENT_ID_PREFIX","style","position","parseInt","zIndex","borderColor","fontSize","parent","onmousedown","onmouseDown","window","ontouchstart","evt","preventDefault","bind","typeName","TYPE_NAME","usage","isRangeLimited","argX","argY","externalAreaClickedListener","onMoveListener","CCanvas","parentElement","canvasId","enablePullUp","currentObject","onTopObject","offsetX","offsetY","mouseDownSource","canvasElement","beanList","Array","beanIdName","beanNameId","eventData","x","y","screenX","screenY","deltaX","deltaY","isMoved","targetTypeName","targetUsage","targetObject","baseZIndex","setBaseZIndex","getBaseZIndex","CANVAS","boxSizing","WIDTH_ADJUST_20180722","HEIGHT_ADJUST_20180722","backgroundColor","borderStyle","margin","borderWidth","appendChild","CFrame","windowId","w_left","w_top","w_width","w_height","superConstructor","call","anchor","LEFT_TOP","showTitleBar","canvasNetHeight","canvasNetWidth","frameHeightAdjust","frameComponentMap","canvas","myCanvasId","floatingButton","titleBarClassNameDefault","titleBarClassNameFocused","titleBarHeight","titleBarCaption","titleBarCaptionLeftMargin","titleBarCaptionFontSize","titleBarCaptionFontWeight","titleBarBorderBottomDefault","titleBarBorderBottomFocused","titleBarCaptionTextShadow","titleBarCaptionTextAlign","titleAdjustWidth","exBorderWidth","appIcon","src","visibility","titleBar","className","userSelect","titleBarAdjust","titleBarColorDefault","background","color","titleBarCaptionColorDefault","fontWeight","textShadow","textAlign","lineHeight","borderBottom","overflow","titleBarText","createTextNode","titleBarTextSpan","right","canvasMoreHeight","canvasMoreSpacing","cursor","CFRAME","CANVAS_ELEMENT_BGCOLOR","canvasMouseDown","touchStartEvent","changedTouches","parentCFrame","colorRD","colorDD","colorRR","tmpCanvasWidth","tmpCanvasHeight","markerWidth","resizeAreaWidth","markerHeight","resizeAreaHeight","edgeMargin","resizeAreaOffset","resizeAreaVisible","markerRD","CMarkerWindow","markerDD","markerRR","idx","addBean","removeMarkers","removeBean","removeMarkers2","enableMarkers","enabled","display","frameComponents","frameComponent","setFrame","onclick","close","querySelector","eventListenerHelper","addEventListener","e","frameComponentId","target","getAttribute","hideFrameComponentChildMenus","exceptFrameComponentId","frameComponentChildMenu","getFrameComponentElement","console","error","listenerName","addFrameComponent","oncontextmenu","contextMenu","caribValue","frameBorderStyle","frameBoxShadow","boxShadow","frameBorderWidthDefault","frameBorderColorDefault","frameBorderRadius","borderRadius","onCloseFrameListener","CIfFrame","wleft","wtop","wwidth","wheight","jsFrame","control","minFrameWidth","minWindowHeight","overrayTransparentScreenEnabled","overrayTransparentScreenOnResize","titleBarColorFocused","titleBarCaptionColorFocused","frameBorderColorFocused","frameBorderWidthFocused","iframe","ifDelta","resizable","onMouseMoveOnIframe","onMouseUpOnIframe","_hasFocus","_hasFocusTime","exIframeName","dframe","name","frameBorder","allowTransparency","getFrameInnerBorderRadius","adjustFrameBorderRadius","useIframe","setUseIframe","transparence","pointerEvents","frameBackgroundColor","eventEmitter","CWindowManager","onBodyClicked","getWindowType","JSFrame","model","topParentDiv","mouseUp","windowManager","windowMouseUp","mouseMove","windowMouseMove","isWindowManagerFixed","fixed","hAlign","vAlign","horizontalAlign","verticalAlign","pullToRefresh","touchActionManipulation","generateUUID","setAttribute","body","doEnableTouchActionManipulation","doDisablePullToRefresh","domPartsBuilder","prototype","setOnMoveListener","listener","_onMove","setMovable","setParentCanvas","setOnExternalAreaClickedListener","clickX","pageX","clickY","pageY","refHtmlElement","type","touches","length","refCBeanFrame","button","pullUp","newObjLeftPx","newObjTopPx","oldObjLeftPx","oldObjTopPx","tmpLeft","tmpTop","tmpRight","tmpBottom","styleWidth","styleHeight","parentObject","targetBeanId","tmpBeanArray","i","push","targetBean","pullUpSort","pullupObject","objectArray","baseIndex","sort","b","a","removeChild","bean","num","j","getParentElement","MODAL_BACKGROUND_FRAME_ID_PREFIX","setTitleBarClassName","classNameForDefault","classNameForFocused","removeFrameComponentById","showFrameComponent","comp","hideFrameComponent","hideAllVisibleFrameComponents","compMap","key","hasOwnProperty","_alreadyNone","showAllVisibleFrameComponents","opt","childMenu","setTitle","str","title","textNode","firstChild","replaceChild","resize","deltaLeft","deltaTop","deltaWidth","deltaHeight","tmpWidth","tmpHeight","beanName","tmpBean","cframeObj","log","getName","closeInternally","closeFrame","modalBackgroundWindowId","setOnCloseFrameListener","setTitleBarTextColor","setPosition","frameWidth","getWidth","frameHeight","getHeight","_setPositionInternally","HCENTER_TOP","RIGHT_TOP","LEFT_VCENTER","HCENTER_VCENTER","RIGHT_VCENTER","LEFT_BOTTOM","HCENTER_BOTTOM","RIGHT_BOTTOM","getPosition","getLeft","getTop","getSize","setSize","force","byUser","getWindowId","setName","getFrameView","getFrameAppearance","setHTML","html","innerHTML","setFrameInFrame","contentsEle","Date","now","getTime","only","MATCH_PARENT_CHANGE_MARKER_ATTR","removeAttribute","$","q","contentWindow","on","eventType","callbackFunc","component","hasListenerFuncs","emit","_getCurrentSizePos","domElement","hasEventListener","removeEventListener","domElementOnCanvasElement","borderData","innerBorderRadius","frameAppearance","borderBottomRightRadius","borderBottomLeftRadius","borderTopLeftRadius","borderTopRightRadius","handleReleasingFocus","focused","handleTakingFocus","show","requestFocus","showModal","onCloseListener","showCloseButton","onInitialize","modalBackgroundFrame","innerWidth","innerHeight","setResizable","hide","addWindow","getWindowManager","ondrag","decorator","refCIfFrame","refCWindowManager","objCIfFrame","onselectstart","setMinFrameSize","prevSize","updateAlign","crrSize","crrPos","pos","size","resizeDirect","tmpIfWindow","setUrl","url","Promise","resolve","reject","onload","funcOnMouseMove","clientX","clientY","frameLeft","frameTop","eventFromIframe","createEvent","initMouseEvent","detail","ctrlKey","altKey","shiftKey","metaKey","onmousemove","ontouchmove","funcOnMouseUp","onmouseup","ontouchend","getIfDocument","setScrolling","scrolling","getScrolling","setControl","frame","createWindowEventHelper","setupDefaultEvents","getWindow","containsWindowName","getWindowByName","childWindowMoved","targetWindow","removeTargetBeanHasFocus","maxFocusTime","lastFocusedFrame","bodyStyle","documentElement","endsWith","indexOf","getDomPartsBuilder","create","properties","presetWindow","presetWindowName","preset","appearanceName","appearanceParam","minWidth","minHeight","urlLoaded","presetParam","getPresetWindow","createPresetStyle","clientHeight","windowTitleBarHeight","createFrame","urlPromise","then","frameView","setupPresetWindow","createFrameAppearance","initialize","getTitleBarStyle","titleBarStyle","windowName","unixTime","replace","c","r","Math","random","floor","toString","createAnimator","presetName","param","apr","focusedFrameOnly","getStyle","showToast","showButton","toastHeight","toastWidth","stayDurationMs","startY","endY","myHtml","duration","align","text","closeButton","closeButtonColor","captionClor","startX","set","setDuration","fromPosition","toPosition","toAlpha","fromAlpha","start","animatorObj","get","Object","freeze"],"mappings":"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"}