/*! jsframe v8.3.2 Copyright (c) 2007-2020 Tom Misawa */(function($,Y){if(typeof exports=="object"&&typeof module=="object")module.exports=Y();else if(typeof define=="function"&&define.amd)define([],Y);else{var A=Y();for(var P in A)(typeof exports=="object"?exports:$)[P]=A[P]}})(self,function(){return(()=>{var ie={"../../node_modules/@riversun/event-emitter/lib/event-emitter.js":function(A){/*! event-emitter(https://github.com/riversun/event-emitter) v1.5.0 Copyright (c) 2020 riversun.org@gmail.com */!function(P,h){A.exports=h()}(this,function(){return(()=>{"use strict";var P={561:(s,u,v)=>{function o(y,d){return function(m){if(Array.isArray(m))return m}(y)||function(m,p){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(m)))return;var _=[],x=!0,D=!1,t=void 0;try{for(var e,l=m[Symbol.iterator]();!(x=(e=l.next()).done)&&(_.push(e.value),!p||_.length!==p);x=!0);}catch(i){D=!0,t=i}finally{try{x||l.return==null||l.return()}finally{if(D)throw t}}return _}(y,d)||n(y,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(y,d){var m;if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(m=n(y))||d&&y&&typeof y.length=="number"){m&&(y=m);var p=0,_=function(){};return{s:_,n:function(){return p>=y.length?{done:!0}:{done:!1,value:y[p++]}},e:function(e){throw e},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,D=!0,t=!1;return{s:function(){m=y[Symbol.iterator]()},n:function(){var e=m.next();return D=e.done,e},e:function(e){t=!0,x=e},f:function(){try{D||m.return==null||m.return()}finally{if(t)throw x}}}}function n(y,d){if(y){if(typeof y=="string")return c(y,d);var m=Object.prototype.toString.call(y).slice(8,-1);return m==="Object"&&y.constructor&&(m=y.constructor.name),m==="Map"||m==="Set"?Array.from(y):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?c(y,d):void 0}}function c(y,d){(d==null||d>y.length)&&(d=y.length);for(var m=0,p=new Array(d);m<d;m++)p[m]=y[m];return p}function T(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function g(y,d){for(var m=0;m<d.length;m++){var p=d[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}function a(y,d,m){return d&&g(y.prototype,d),m&&g(y,m),y}v.d(u,{default:()=>I});var I=function(){function y(d){if(T(this,y),this.onListeners=new Map,this.onlyListeners=new Map,d){var m,p=r(d);try{for(p.s();!(m=p.n()).done;){var _=m.value,x=new C;this.onListeners.set(_,x)}}catch(D){p.e(D)}finally{p.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return a(y,[{key:"on",value:function(d,m){var p=this.onListeners.get(d);if(p||(p=new C,this.onListeners.set(d,p)),p.addListenerFunc(m),this.onIntercepterFuncs)for(var _=0,x=Object.entries(this.onIntercepterFuncs);_<x.length;_++){var D=o(x[_],2),t=D[0];(0,D[1])({eventType:d,func:m,onIntercepterFuncname:t})}}},{key:"removeListener",value:function(d,m){var p=this.onListeners.get(d);p&&p.removeListener(m)}},{key:"only",value:function(d,m,p){var _=this.onlyListeners.get(d);_||(_=new b,this.onlyListeners.set(d,_)),_.putListenerFunc(m,p)}},{key:"pipe",value:function(d){this.childEventEmitters.push(d)}},{key:"emit",value:function(d,m){var p=this.onListeners.get(d);p&&(m.eventType=d,p.callListenerFunc(m));var _=this.onlyListeners.get(d);_&&(m.eventType=d,_.callListenerFunc(m));var x,D=r(this.childEventEmitters);try{for(D.s();!(x=D.n()).done;)x.value.emit(d,m)}catch(t){D.e(t)}finally{D.f()}}},{key:"getAllListeners",value:function(){var d={};this.onListeners.forEach(function(x,D){var t=D,e=x.getAllListeners();d[t]||(d[t]={}),d[t].listeners=e});var m,p=0,_=r(this.childEventEmitters);try{for(_.s();!(m=_.n()).done;)m.value.onListeners.forEach(function(x,D){var t=D,e=x.getAllListeners();d[t]||(d[t]={}),d[t].childEventEmitters||(d[t].childEventEmitters=[]),d[t].childEventEmitters.push({childEmitterIdx:p,listeners:e})}),p++}catch(x){_.e(x)}finally{_.f()}return d}},{key:"hasListenerFuncs",value:function(d){if(this.onListeners.has(d)){var m=this.onListeners.get(d);if(m&&m.hasListenerFunc())return!0}var p,_=r(this.childEventEmitters);try{for(_.s();!(p=_.n()).done;)if(p.value.hasListenerFuncs(d))return!0}catch(x){_.e(x)}finally{_.f()}return!1}},{key:"clearAll",value:function(){var d,m=r(this.onListeners.values());try{for(m.s();!(d=m.n()).done;)d.value.clearAll()}catch(x){m.e(x)}finally{m.f()}this.onListeners.clear();var p,_=r(this.onlyListeners.values());try{for(_.s();!(p=_.n()).done;)p.value.clearAll()}catch(x){_.e(x)}finally{_.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(d,m){if(this.onIntercepterFuncs[d])throw Error('Always registered intercepter func "'.concat(d,'".'));this.onIntercepterFuncs[d]=m}},{key:"removeOnIntercepterFunc",value:function(d){delete this.onIntercepterFuncs[d]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var d=[],m=0,p=Object.entries(this.onIntercepterFuncs);m<p.length;m++){var _=o(p[m],2),x=_[0],D=_[1];d.push({funcName:x,func:D})}return d}}]),y}(),C=function(){function y(){T(this,y),this.listenerFuncs=[]}return a(y,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(d){this.listenerFuncs.push(d)}},{key:"callListenerFunc",value:function(d){var m,p=r(this.listenerFuncs);try{for(p.s();!(m=p.n()).done;){var _=m.value;if(this.typeOf(_)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(_,'".Check args of #only method or #on method.'));_(d)}}catch(x){p.e(x)}finally{p.f()}}},{key:"removeListener",value:function(d){this.removeArrayItemOnce(this.listenerFuncs,d)}},{key:"removeArrayItemOnce",value:function(d,m){var p=d.indexOf(m);return p>-1&&d.splice(p,1),d}},{key:"typeOf",value:function(d){return Object.prototype.toString.call(d).slice(8,-1)}}]),y}(),b=function(){function y(){T(this,y),this.listenerFuncMap=new Map}return a(y,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(d){return this.listenerFuncMap.has(d)}},{key:"putListenerFunc",value:function(d,m){this.listenerFuncMap.set(d,m)}},{key:"callListenerFunc",value:function(d){var m,p=r(this.listenerFuncMap.values());try{for(p.s();!(m=p.n()).done;){var _=m.value;if(this.typeOf(_)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(_,'".Check args of #only method or #on method.'));_(d)}}catch(x){p.e(x)}finally{p.f()}}},{key:"typeOf",value:function(d){return Object.prototype.toString.call(d).slice(8,-1)}}]),y}()}},h={};function w(s){if(h[s])return h[s].exports;var u=h[s]={exports:{}};return P[s](u,u.exports,w),u.exports}return w.d=(s,u)=>{for(var v in u)w.o(u,v)&&!w.o(s,v)&&Object.defineProperty(s,v,{enumerable:!0,get:u[v]})},w.o=(s,u)=>Object.prototype.hasOwnProperty.call(s,u),w(561)})().default})},"../../node_modules/event-listener-helper/lib/event-listener-helper.js":function(A){/*! event-listener-helper(https://github.com/riversun/event-listener-helper) v1.1.2 Copyright (c) 2020 riversun.org@gmail.com */!function(P,h){A.exports=h()}(this,function(){return function(P){var h={};function w(s){if(h[s])return h[s].exports;var u=h[s]={i:s,l:!1,exports:{}};return P[s].call(u.exports,u,u.exports,w),u.l=!0,u.exports}return w.m=P,w.c=h,w.d=function(s,u,v){w.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:v})},w.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},w.t=function(s,u){if(1&u&&(s=w(s)),8&u)return s;if(4&u&&typeof s=="object"&&s&&s.__esModule)return s;var v=Object.create(null);if(w.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:s}),2&u&&typeof s!="string")for(var o in s)w.d(v,o,function(r){return s[r]}.bind(null,o));return v},w.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return w.d(u,"a",u),u},w.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},w.p="/",w(w.s=0)}([function(P,h,w){P.exports=w(1)},function(P,h,w){"use strict";function s(T){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(T)}function u(T,g){return function(a){if(Array.isArray(a))return a}(T)||function(a,I){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(a)))return;var C=[],b=!0,y=!1,d=void 0;try{for(var m,p=a[Symbol.iterator]();!(b=(m=p.next()).done)&&(C.push(m.value),!I||C.length!==I);b=!0);}catch(_){y=!0,d=_}finally{try{b||p.return==null||p.return()}finally{if(y)throw d}}return C}(T,g)||o(T,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(T,g){var a;if(typeof Symbol=="undefined"||T[Symbol.iterator]==null){if(Array.isArray(T)||(a=o(T))||g&&T&&typeof T.length=="number"){a&&(T=a);var I=0,C=function(){};return{s:C,n:function(){return I>=T.length?{done:!0}:{done:!1,value:T[I++]}},e:function(m){throw m},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,y=!0,d=!1;return{s:function(){a=T[Symbol.iterator]()},n:function(){var m=a.next();return y=m.done,m},e:function(m){d=!0,b=m},f:function(){try{y||a.return==null||a.return()}finally{if(d)throw b}}}}function o(T,g){if(T){if(typeof T=="string")return r(T,g);var a=Object.prototype.toString.call(T).slice(8,-1);return a==="Object"&&T.constructor&&(a=T.constructor.name),a==="Map"||a==="Set"?Array.from(T):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(T,g):void 0}}function r(T,g){(g==null||g>T.length)&&(g=T.length);for(var a=0,I=new Array(g);a<g;a++)I[a]=T[a];return I}function n(T,g){for(var a=0;a<g.length;a++){var I=g[a];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(T,I.key,I)}}w.r(h),w.d(h,"default",function(){return c});var c=function(){function T(){!function(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}(this,T),this.evTargetListenersMap=new Map,this.listenerNum=0}var g,a,I;return g=T,(a=[{key:"addEventListener",value:function(C,b,y,d){var m=this,p=null;if(d&&(p=this._cloneJson(d)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(p);var _=null;p&&p.listenerName&&(_=p.listenerName);var x=null;p&&p.once&&(delete p.once,p.callbackOnce=!0,x=function(i){y(i),m.removeEventListener(C,b,null,p)});var D={listenerName:null,success:!0};x?C.addEventListener(b,x,p):C.addEventListener(b,y,p);var t=this.evTargetListenersMap.get(C);t||(t=new Map,this.evTargetListenersMap.set(C,t));var e=t.get(b);if(e||(e=new Map,t.set(b,e)),_!==null){if(e.has(_))throw Error('The listenerName "'.concat(_,'" is already used for the specified event type ').concat(b));e.set(_,{listener:y,onceListener:x,options:p}),D.listenerName=_}else{var l="listener-".concat(this.listenerNum);p||(p={}),p.listenerName=l,e.set(l,{listener:y,onceListener:x,options:p}),D.listenerName=l,this.listenerNum+=1}return D}},{key:"removeEventListener",value:function(C,b,y,d){if(arguments.length<3)throw Error("Three or four arguments are required.");if(this.typeOf(y)!=="Function"&&this.typeOf(y)!=="Null")throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(d);var m=null;d&&d.listenerName&&(m=d.listenerName);var p={success:!1,message:"unknown error"},_=this.evTargetListenersMap.get(C);if(!_)return p.message="DOM element ".concat(C,"(id=").concat(C.id,") doesn't have any listeners."),p;var x=_.get(b);if(!x)return p.message="DOM element ".concat(C,"(id=").concat(C.id,`) doesn't have "`).concat(b,'" listeners.'),p;if(m){var D=x.get(m);if(!D)return p.message="DOM element ".concat(C,"(id=").concat(C.id,`) doesn't have "`).concat(b,'" listener "').concat(m,'"'),p;x.delete(m),D.options&&D.options.callbackOnce?C.removeEventListener(b,D.onceListener,D.options):C.removeEventListener(b,D.listener,D.options),p.success=!0}else if(!m){if(!y)return p.message="options.listenerName is not found",p;var t="listener",e=y,l=this._searchKeyInValueContent(x,t,e);if(l){var i=x.get(l),B=i.onceListener,E=i.options;x.delete(l),B?C.removeEventListener(b,B,E):C.removeEventListener(b,y,E),p.success=!0}else p.success=!1,p.message="Specified listener could not be deleted from DOM element ".concat(C,"(id=").concat(C.id,`).
        Since the specified listener is not registered as an event listener,
        it may have been registered outside of event-listener-helper.`)}return p}},{key:"getEventListeners",value:function(C,b){return C?b?this._getEventListenersWith2Args(C,b):this._getEventListenersWith1Arg(C):[]}},{key:"getAllEventListeners",value:function(){var C=this,b=new Map;return this.evTargetListenersMap.forEach(function(y,d){var m=d,p=C._getEventListenersWith1Arg(m),_=new Map;b.set(m,_);var x,D=v(p);try{for(D.s();!(x=D.n()).done;){var t=x.value;_.set(t.eventType,t.listeners)}}catch(e){D.e(e)}finally{D.f()}}),b}},{key:"_getEventListenersWith1Arg",value:function(C){var b=[],y=this.evTargetListenersMap.get(C);if(!y)return b;var d,m=v(y);try{for(m.s();!(d=m.n()).done;){var p,_=u(d.value,2),x=_[0],D=_[1],t=[],e=v(D.values());try{for(e.s();!(p=e.n()).done;){var l=p.value;t.push(this._getFrozenListenerDef(l))}}catch(i){e.e(i)}finally{e.f()}t.length>0&&b.push({eventType:x,listeners:t})}}catch(i){m.e(i)}finally{m.f()}return b}},{key:"_getEventListenersWith2Args",value:function(C,b){if(arguments.length!==2)throw Error("Only two arguments can be specified");var y=[],d=this.evTargetListenersMap.get(C);if(!d)return y;var m=d.get(b);if(!m)return y;var p,_=v(m.values());try{for(_.s();!(p=_.n()).done;){var x=p.value,D=this._getFrozenListenerDef(x);y.push(D)}}catch(t){_.e(t)}finally{_.f()}return y}},{key:"getEventListener",value:function(C,b,y){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var d=this.evTargetListenersMap.get(C);if(!d)return null;var m=d.get(b);if(!m)return null;var p=m.get(y),_=this._getFrozenListenerDef(p);return _}},{key:"hasEventListeners",value:function(C,b){if(arguments.length!==2)throw Error("Only two arguments can be specified");var y=this.evTargetListenersMap.get(C);if(!y)return!1;var d=y.get(b);return!(!d||d.size===0)}},{key:"hasEventListener",value:function(C,b,y){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var d=this.evTargetListenersMap.get(C);if(!d)return!1;var m=d.get(b);if(!m)return!1;var p=m.get(y);return!!p}},{key:"_getFrozenListenerDef",value:function(C){if(!C)return null;var b={},y=null,d=C.options;return d&&(y={},b.options=y,d.capture&&(y.capture=d.capture),d.callbackOnce&&(y.once=d.callbackOnce),d.listenerName&&(y.listenerName=d.listenerName)),b.listener=C.listener,Object.freeze(y),Object.freeze(b),b}},{key:"clearAllEventListeners",value:function(){var C,b=v(this.getAllEventTargets());try{for(b.s();!(C=b.n()).done;){var y=C.value;this.clearEventListeners(y)}}catch(d){b.e(d)}finally{b.f()}}},{key:"clearEventListeners",value:function(C,b){if(!C)throw Error("At least the EventTarget must be specified as an argument");var y=this.getEventListeners(C,b);if(b){if(b){var d,m=v(y);try{for(m.s();!(d=m.n()).done;){var p=d.value;this.removeEventListener(C,b,null,p.options)}}catch(B){m.e(B)}finally{m.f()}}}else{var _,x=v(y);try{for(x.s();!(_=x.n()).done;){var D,t=_.value,e=t.eventType,l=v(t.listeners);try{for(l.s();!(D=l.n()).done;){var i=D.value.options;this.removeEventListener(C,e,null,i)}}catch(B){l.e(B)}finally{l.f()}}}catch(B){x.e(B)}finally{x.f()}}}},{key:"clearEventListener",value:function(C,b,y){var d=this.getEventListener(C,b,y);d&&d.options&&this.removeEventListener(C,b,null,d.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(C){var b,y=[],d=v(this.getAllEventTargets());try{for(d.s();!(b=d.n()).done;){var m,p=b.value,_=this.evTargetListenersMap.get(p),x=v(_.keys());try{for(x.s();!(m=x.n()).done;){var D=m.value,t=_.get(D),e=this._getFrozenListenerDef(t.get(C));e&&y.push(e)}}catch(l){x.e(l)}finally{x.f()}}}catch(l){d.e(l)}finally{d.f()}return y}},{key:"_searchKeyInValueContent",value:function(C,b,y){var d,m=v(C);try{for(m.s();!(d=m.n()).done;){var p=u(d.value,2),_=p[0];if(p[1][b]===y)return _}}catch(x){m.e(x)}finally{m.f()}return null}},{key:"_checkTypeOfOptions",value:function(C){if(s(C)!=="object"&&C!==void 0)throw typeof C=="boolean"?new Error(`Type of boolean is not accepted as the fourth argument you specify.
      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead.`):new Error("Type of ".concat(s(C),` is not accepted as the fourth argument you specify.
      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}.`))}},{key:"_cloneJson",value:function(C){return JSON.parse(JSON.stringify(C))}},{key:"typeOf",value:function(C){return Object.prototype.toString.call(C).slice(8,-1)}}])&&n(g.prototype,a),I&&n(g,I),T}()}]).default})},"../../node_modules/merge-deeply/lib/merge-deeply.js":function(A){/*! merge-deeply v3.0.0 Copyright (c) 2019-2020 riversun.org@gmail.com */!function(P,h){A.exports=h()}(this,function(){return function(P){var h={};function w(s){if(h[s])return h[s].exports;var u=h[s]={i:s,l:!1,exports:{}};return P[s].call(u.exports,u,u.exports,w),u.l=!0,u.exports}return w.m=P,w.c=h,w.d=function(s,u,v){w.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:v})},w.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},w.t=function(s,u){if(1&u&&(s=w(s)),8&u)return s;if(4&u&&typeof s=="object"&&s&&s.__esModule)return s;var v=Object.create(null);if(w.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:s}),2&u&&typeof s!="string")for(var o in s)w.d(v,o,function(r){return s[r]}.bind(null,o));return v},w.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return w.d(u,"a",u),u},w.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},w.p="/",w(w.s=0)}([function(P,h,w){P.exports=w(1)},function(P,h,w){"use strict";function s(g,a){var I;if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(I=o(g))||a&&g&&typeof g.length=="number"){I&&(g=I);var C=0,b=function(){};return{s:b,n:function(){return C>=g.length?{done:!0}:{done:!1,value:g[C++]}},e:function(p){throw p},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,d=!0,m=!1;return{s:function(){I=g[Symbol.iterator]()},n:function(){var p=I.next();return d=p.done,p},e:function(p){m=!0,y=p},f:function(){try{d||I.return==null||I.return()}finally{if(m)throw y}}}}function u(g){return function(a){if(Array.isArray(a))return r(a)}(g)||function(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}(g)||o(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(g,a){return function(I){if(Array.isArray(I))return I}(g)||function(I,C){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(I)))return;var b=[],y=!0,d=!1,m=void 0;try{for(var p,_=I[Symbol.iterator]();!(y=(p=_.next()).done)&&(b.push(p.value),!C||b.length!==C);y=!0);}catch(x){d=!0,m=x}finally{try{y||_.return==null||_.return()}finally{if(d)throw m}}return b}(g,a)||o(g,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(g,a){if(g){if(typeof g=="string")return r(g,a);var I=Object.prototype.toString.call(g).slice(8,-1);return I==="Object"&&g.constructor&&(I=g.constructor.name),I==="Map"||I==="Set"?Array.from(g):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?r(g,a):void 0}}function r(g,a){(a==null||a>g.length)&&(a=g.length);for(var I=0,C=new Array(a);I<a;I++)C[I]=g[I];return C}function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(g)}function c(g,a,I){var C=function(R){return R&&n(R)==="object"&&!Array.isArray(R)},b=I&&I.concatArray,y=I.isCloneMode,d={};I&&I.assignToObject&&(d=I.assignToObject,I.assignToObject=null);var m,p,_,x=null;if(x=d===g?g:Object.assign(d,g),C(g)&&C(a))for(var D=0,t=Object.entries(a);D<t.length;D++){var e=v(t[D],2),l=e[0],i=e[1],B=g[l];if(b&&Array.isArray(i)&&Array.isArray(B)&&a!==g)x[l]=B.concat.apply(B,u(i));else if(C(i)&&Object.prototype.hasOwnProperty.call(g,l))x[l]=c(B,i,I);else{var E=i;if(y&&Array.isArray(i)){var M,F=[],f=s(i);try{for(f.s();!(M=f.n()).done;){var O=M.value,L=JSON.parse(JSON.stringify(O));F.push(L)}}catch(R){f.e(R)}finally{f.f()}E=F}Object.assign(x,(_=E,(p=l)in(m={})?Object.defineProperty(m,p,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[p]=_,m))}}return x}function T(g){var a=null,I=null,C=g.op;if(!C)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var b=C==="merge",y=C==="clone",d=C==="overwrite-merge";if(b){if(a=g.object1,I=g.object2,!a||!I)throw Error("object1 or object2 is not specified.")}else if(d){if(a=g.object1,I=g.object2,!a||!I)throw Error("object1 or object2 is not specified.");if(Object.keys(I).length===0)return null}else{if(!y)throw Error('An invalid "op" property value "'.concat(C,'" has been specified.'));a=g.object1,I={}}var m,p=Object.create(Object.getPrototypeOf(a)),_=null,x=(m=a,Object.getPrototypeOf(m)!==Object.prototype);return b&&x||y?(c(a,a,{assignToObject:p,concatArray:g&&g.concatArray,isCloneMode:y}),_=p):_={},c(y?_:a,I,{assignToObject:d?a:_,concatArray:g&&g.concatArray}),_}w.r(h),w.d(h,"default",function(){return T})}]).default})},"./node_modules/css-loader/dist/cjs.js!./src/JSFrame.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/runtime/api.js"),v=h.n(u),o=v()(s());o.push([A.id,`.jsframe-titlebar-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-titlebar-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-modal-window-background {
    background: rgba(0, 0, 0, 0.6);
    height: 100%;
    widdth: 100%
}`,"",{version:3,sources:["webpack://./src/JSFrame.css"],names:[],mappings:"AAAA;IACI,+GAA+G;IAC/G,0DAA0D;IAC1D,uDAAuD;IACvD,kDAAkD;IAClD,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI;gCAC4B;IAC5B,+GAA+G;IAC/G,0DAA0D;IAC1D,uDAAuD;IACvD,kDAAkD;IAClD,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,8BAA8B;IAC9B,YAAY;IACZ;AACJ",sourcesContent:[`.jsframe-titlebar-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-titlebar-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-modal-window-background {
    background: rgba(0, 0, 0, 0.6);
    height: 100%;
    widdth: 100%
}`],sourceRoot:""}]);const r=o},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleMaterial.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/runtime/api.js"),v=h.n(u),o=v()(s());o.push([A.id,`.jsframe-preset-style-material-default {
    background: black;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-material-focused {
    background: black;
    border-top-left-radius: 36px;
    border-top-right-radius: 36px;
}
`,"",{version:3,sources:["webpack://./src/presets/appearance/PresetStyleMaterial.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,iBAAiB;IACjB,4BAA4B;IAC5B,6BAA6B;AACjC",sourcesContent:[`.jsframe-preset-style-material-default {
    background: black;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-material-focused {
    background: black;
    border-top-left-radius: 36px;
    border-top-right-radius: 36px;
}
`],sourceRoot:""}]);const r=o},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStylePopup.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/runtime/api.js"),v=h.n(u),o=v()(s());o.push([A.id,`.jsframe-preset-style-popup-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-popup-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`,"",{version:3,sources:["webpack://./src/presets/appearance/PresetStylePopup.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;AAChC",sourcesContent:[`.jsframe-preset-style-popup-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-popup-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`],sourceRoot:""}]);const r=o},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleRedstone.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/runtime/api.js"),v=h.n(u),o=v()(s());o.push([A.id,`.jsframe-preset-style-redstone-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-redstone-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`,"",{version:3,sources:["webpack://./src/presets/appearance/PresetStyleRedstone.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI,iBAAiB;IACjB,2BAA2B;IAC3B,4BAA4B;AAChC",sourcesContent:[`.jsframe-preset-style-redstone-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-redstone-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`],sourceRoot:""}]);const r=o},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleYosemite.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/css-loader/dist/runtime/cssWithMappingToString.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/runtime/api.js"),v=h.n(u),o=v()(s());o.push([A.id,`.jsframe-preset-style-yosemite-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-yosemite-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}
`,"",{version:3,sources:["webpack://./src/presets/appearance/PresetStyleYosemite.css"],names:[],mappings:"AAAA;IACI,+GAA+G;IAC/G,0DAA0D;IAC1D,uDAAuD;IACvD,kDAAkD;IAClD,2BAA2B;IAC3B,4BAA4B;AAChC;;AAEA;IACI;gCAC4B;IAC5B,+GAA+G;IAC/G,0DAA0D;IAC1D,uDAAuD;IACvD,kDAAkD;IAClD,2BAA2B;IAC3B,4BAA4B;AAChC",sourcesContent:[`.jsframe-preset-style-yosemite-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-yosemite-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}
`],sourceRoot:""}]);const r=o},"./node_modules/css-loader/dist/runtime/api.js":A=>{"use strict";A.exports=function(P){var h=[];return h.toString=function(){return this.map(function(s){var u=P(s);return s[2]?"@media ".concat(s[2]," {").concat(u,"}"):u}).join("")},h.i=function(w,s,u){typeof w=="string"&&(w=[[null,w,""]]);var v={};if(u)for(var o=0;o<this.length;o++){var r=this[o][0];r!=null&&(v[r]=!0)}for(var n=0;n<w.length;n++){var c=[].concat(w[n]);if(u&&v[c[0]])continue;s&&(c[2]?c[2]="".concat(s," and ").concat(c[2]):c[2]=s),h.push(c)}},h}},"./node_modules/css-loader/dist/runtime/cssWithMappingToString.js":A=>{"use strict";function P(o,r){return v(o)||u(o,r)||w(o,r)||h()}function h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(o,r){if(!o)return;if(typeof o=="string")return s(o,r);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(o,r)}function s(o,r){(r==null||r>o.length)&&(r=o.length);for(var n=0,c=new Array(r);n<r;n++)c[n]=o[n];return c}function u(o,r){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(o)))return;var n=[],c=!0,T=!1,g=void 0;try{for(var a=o[Symbol.iterator](),I;!(c=(I=a.next()).done)&&!(n.push(I.value),r&&n.length===r);c=!0);}catch(C){T=!0,g=C}finally{try{!c&&a.return!=null&&a.return()}finally{if(T)throw g}}return n}function v(o){if(Array.isArray(o))return o}A.exports=function(r){var n=P(r,4),c=n[1],T=n[3];if(typeof btoa=="function"){var g=btoa(unescape(encodeURIComponent(JSON.stringify(T)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),I="/*# ".concat(a," */"),C=T.sources.map(function(b){return"/*# sourceURL=".concat(T.sourceRoot||"").concat(b," */")});return[c].concat(C).concat([I]).join(`
`)}return[c].join(`
`)}},"./src/JSFrame.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/cjs.js!./src/JSFrame.css"),v={};v.insert="head",v.singleton=!1;var o=s()(u.default,v);const r=u.default.locals||{}},"./src/presets/appearance/PresetStyleMaterial.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleMaterial.css"),v={};v.insert="head",v.singleton=!1;var o=s()(u.default,v);const r=u.default.locals||{}},"./src/presets/appearance/PresetStylePopup.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStylePopup.css"),v={};v.insert="head",v.singleton=!1;var o=s()(u.default,v);const r=u.default.locals||{}},"./src/presets/appearance/PresetStyleRedstone.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleRedstone.css"),v={};v.insert="head",v.singleton=!1;var o=s()(u.default,v);const r=u.default.locals||{}},"./src/presets/appearance/PresetStyleYosemite.css":(A,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=h.n(w),u=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleYosemite.css"),v={};v.insert="head",v.singleton=!1;var o=s()(u.default,v);const r=u.default.locals||{}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(A,P,h)=>{"use strict";var w=function(){var y;return function(){return typeof y=="undefined"&&(y=Boolean(window&&document&&document.all&&!window.atob)),y}}(),s=function(){var y={};return function(m){if(typeof y[m]=="undefined"){var p=document.querySelector(m);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch(_){p=null}y[m]=p}return y[m]}}(),u=[];function v(b){for(var y=-1,d=0;d<u.length;d++)if(u[d].identifier===b){y=d;break}return y}function o(b,y){for(var d={},m=[],p=0;p<b.length;p++){var _=b[p],x=y.base?_[0]+y.base:_[0],D=d[x]||0,t="".concat(x," ").concat(D);d[x]=D+1;var e=v(t),l={css:_[1],media:_[2],sourceMap:_[3]};e!==-1?(u[e].references++,u[e].updater(l)):u.push({identifier:t,updater:C(l,y),references:1}),m.push(t)}return m}function r(b){var y=document.createElement("style"),d=b.attributes||{};if(typeof d.nonce=="undefined"){var m=h.nc;m&&(d.nonce=m)}if(Object.keys(d).forEach(function(_){y.setAttribute(_,d[_])}),typeof b.insert=="function")b.insert(y);else{var p=s(b.insert||"head");if(!p)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");p.appendChild(y)}return y}function n(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b)}var c=function(){var y=[];return function(m,p){return y[m]=p,y.filter(Boolean).join(`
`)}}();function T(b,y,d,m){var p=d?"":m.media?"@media ".concat(m.media," {").concat(m.css,"}"):m.css;if(b.styleSheet)b.styleSheet.cssText=c(y,p);else{var _=document.createTextNode(p),x=b.childNodes;x[y]&&b.removeChild(x[y]),x.length?b.insertBefore(_,x[y]):b.appendChild(_)}}function g(b,y,d){var m=d.css,p=d.media,_=d.sourceMap;if(p?b.setAttribute("media",p):b.removeAttribute("media"),_&&typeof btoa!="undefined"&&(m+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),b.styleSheet)b.styleSheet.cssText=m;else{for(;b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(m))}}var a=null,I=0;function C(b,y){var d,m,p;if(y.singleton){var _=I++;d=a||(a=r(y)),m=T.bind(null,d,_,!1),p=T.bind(null,d,_,!0)}else d=r(y),m=g.bind(null,d,y),p=function(){n(d)};return m(b),function(D){if(D){if(D.css===b.css&&D.media===b.media&&D.sourceMap===b.sourceMap)return;m(b=D)}else p()}}A.exports=function(b,y){y=y||{},!y.singleton&&typeof y.singleton!="boolean"&&(y.singleton=w()),b=b||[];var d=o(b,y);return function(p){if(p=p||[],Object.prototype.toString.call(p)!=="[object Array]")return;for(var _=0;_<d.length;_++){var x=d[_],D=v(x);u[D].references--}for(var t=o(p,y),e=0;e<d.length;e++){var l=d[e],i=v(l);u[i].references===0&&(u[i].updater(),u.splice(i,1))}d=t}}},"./src/CCommon.js":A=>{CALIGN={},CALIGN.LEFT_TOP="LEFT_TOP",CALIGN.HCENTER_TOP="CENTER_TOP",CALIGN.RIGHT_TOP="RIGHT_TOP",CALIGN.LEFT_VCENTER="LEFT_CENTER",CALIGN.HCENTER_VCENTER="CENTER_CENTER",CALIGN.CENTER=CALIGN.HCENTER_VCENTER,CALIGN.RIGHT_VCENTER="RIGHT_CENTER",CALIGN.LEFT_BOTTOM="LEFT_BOTTOM",CALIGN.HCENTER_BOTTOM="CENTER_BOTTOM",CALIGN.RIGHT_BOTTOM="RIGHT_BOTTOM",A.exports=CALIGN},"./src/JSFrame.js":(A,P,h)=>{"use strict";h("./src/JSFrame.css");var w=h("../../node_modules/@riversun/event-emitter/lib/event-emitter.js"),s=h("./src/CCommon.js"),u=h("./src/utils/WindowEventHelper.js"),v=h("./src/utils/Inherit.js"),o=h("./src/appearance/CFrameAppearance.js"),r=h("./src/appearance/CDomPartsBuilder.js"),n=h("./src/utils/CSimpleLayoutAnimator.js"),c=h("../../node_modules/event-listener-helper/lib/event-listener-helper.js"),T={yosemite:h("./src/presets/appearance/PresetStyleYosemite.js"),redstone:h("./src/presets/appearance/PresetStyleRedstone.js"),popup:h("./src/presets/appearance/PresetStylePopup.js"),toast:h("./src/presets/appearance/PresetStyleToast.js"),material:h("./src/presets/appearance/PresetStyleMaterial.js")},g={yosemite:h("./src/presets/window/PresetWindowYosemite.js")},a={},I=!0,C=!0,b=!0;a.CBEAN={},a.CBEAN.HTML_ELEMENT="span",a.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",a.CBEAN.TYPE_NAME="bean";function y(t,e,l,i,B,E,M,F){var f=this;if(f.movable=!0,f.id=t,f.property={},f.extra={},f.parentCanvas=null,f.htmlElement=null,f.pullUpDisabled=!1,F&&(f.pullUpDisabled=F.pullUpDisabled),f.htmlElement=document.createElement(a.CBEAN.HTML_ELEMENT),f.htmlElement.id=a.CBEAN.HTML_ELEMENT_ID_PREFIX+t,f.htmlElement.style.position="absolute",f.htmlElement.style.left=parseInt(e,10)+"px",f.htmlElement.style.top=parseInt(l,10)+"px",f.htmlElement.style.width=parseInt(i,10)+"px",f.htmlElement.style.height=parseInt(B,10)+"px",E!==null&&(f.htmlElement.style.zIndex=E),f.htmlElement.style.borderColor="#000000",f.htmlElement.style.fontSize="1px",f.htmlElement.parent=f,I&&(f.htmlElement.onmousedown=f.onmouseDown),C&&"ontouchstart"in window){var O=function(L){L.preventDefault(),f.onmouseDown.bind(this)(L)};f.htmlElement.ontouchstart=O}f.htmlElement.typeName=a.CBEAN.TYPE_NAME,f.htmlElement.usage="nothing",f.htmlElement.isRangeLimited=!1,f.htmlElement.argX=1,f.htmlElement.argY=1,f.externalAreaClickedListener=null,f.onMoveListener=null}y.prototype.getWindowType=function(){return"CBeanFrame"},y.prototype.setOnMoveListener=function(t){var e=this;e.onMoveListener=t},y.prototype._onMove=function(t){var e=this;e.onMoveListener&&e.onMoveListener(t)},y.prototype.setMovable=function(t){var e=this;return t?(e.htmlElement.argX=1,e.htmlElement.argY=1):(e.htmlElement.argX=0,e.htmlElement.argY=0),e.movable=t,e},y.prototype.setParentCanvas=function(t){var e=this;return e.parentCanvas=t,e.htmlElement.parentCanvas=e.parentCanvas,e},y.prototype.setOnExternalAreaClickedListener=function(t){var e=this;return e.externalAreaClickedListener=t,e},y.prototype.onBodyClicked=function(t){var e=this,l=t.pageX,i=t.pageY,B=parseInt(e.htmlElement.style.left),E=parseInt(e.htmlElement.style.top),M=parseInt(e.htmlElement.style.width),F=parseInt(e.htmlElement.style.height);B<l&&l<B+M&&E<i&&i<E+F||e.externalAreaClickedListener&&e.externalAreaClickedListener()},y.prototype.onmouseDown=function(t){var e=this,l=t;if(C&&t.type==="touchstart"){var i=t.changedTouches;if(b){var B=t.touches;if(B.length===1)l=i[0];else return!0}else l=i[0]}var E=e.parent;if(l.button==0||t.type==="touchstart"){if(E.pullUpDisabled)return!1;e.parentCanvas.currentObject=e,e.parentCanvas.pullUp(E.id)}else if(l.button==2)return!1;return e.parentCanvas.currentObject&&(e.parentCanvas.offsetX=l.pageX-parseInt(e.parentCanvas.currentObject.style.left,10),e.parentCanvas.offsetY=l.pageY-parseInt(e.parentCanvas.currentObject.style.top,10)),!1},a.CANVAS={},a.CANVAS.HTML_ELEMENT="div",a.CANVAS.WIDTH_ADJUST_20180722=2,a.CANVAS.HEIGHT_ADJUST_20180722=3;function d(t,e,l,i,B,E){function M(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null}var F=this;F.enablePullUp=!0,F.currentObject=null,F.onTopObject=null,F.offsetX=0,F.offsetY=0,F.mouseDownSource=null,F.id=e,F.canvasElement=null,F.parentElement=t,F.beanList=new Array,F.beanIdName={},F.beanNameId={},F.eventData=new M,F.baseZIndex=0,F.setBaseZIndex=function(f){F.baseZIndex=f},F.getBaseZIndex=function(){return F.baseZIndex},F.canvasElement=document.createElement(a.CANVAS.HTML_ELEMENT),F.canvasElement.style.zIndex=2e3,F.canvasElement.id=F.id,F.canvasElement.style.boxSizing="border-box",F.canvasElement.style.position="absolute",F.canvasElement.style.left=parseInt(l)+"px",F.canvasElement.style.top=parseInt(i)+"px",F.canvasElement.style.width=parseInt(B)+a.CANVAS.WIDTH_ADJUST_20180722+"px",F.canvasElement.style.height=parseInt(E)+a.CANVAS.HEIGHT_ADJUST_20180722+"px",F.canvasElement.style.backgroundColor="transparent",F.canvasElement.style.borderStyle="none",F.canvasElement.style.margin="0px",F.canvasElement.style.borderWidth="0px",F.canvasElement.style.borderColor="transparent",F.parentElement.appendChild(F.canvasElement)}d.prototype.mouseMove=function(t){var e=this,l=t;if(C&&t.type==="touchmove"){var i=t.changedTouches;if(b){var B=t.touches;if(B.length===1)l=i[0];else return!0}else l=i[0]}if(e.currentObject){e.eventData.targetTypeName=e.currentObject.typeName,e.eventData.targetUsage=e.currentObject.usage,e.eventData.targetObject=e.currentObject;var E=l.pageX-e.offsetX,M=l.pageY-e.offsetY,F=l.pageX,f=l.pageY,O=e.currentObject.style.left,L=e.currentObject.style.top,R=parseInt(E,10),S=parseInt(M,10),k=R+parseInt(e.currentObject.style.width,10),W=S+parseInt(e.currentObject.style.height,10),U=parseInt(e.canvasElement.style.width,10),j=parseInt(e.canvasElement.style.height,10),H=0,z=0;if(e.currentObject.isRangeLimited==!0&&(R<=0||k>U||S<=0||W>j))H=0,z=0;else{H=parseInt(E,10)-parseInt(O,10),z=parseInt(M,10)-parseInt(L,10),e.currentObject.style.left=parseInt(e.currentObject.style.left)+H*e.currentObject.argX+"px",e.currentObject.style.top=parseInt(e.currentObject.style.top)+z*e.currentObject.argY+"px";var G=e.currentObject.parent;G&&G._onMove&&G._onMove()}return e.eventData.deltaX=H,e.eventData.deltaY=z,e.eventData}return null},d.prototype.mouseUp=function(t){var e=this;e.currentObject=null,e.mouseDownSource=null},d.prototype.pullUp=function(t){var e=this,l=[],i=e.beanList;for(var B in i)l.push(i[B]);var E=i[t];e.enablePullUp&&e.pullUpSort(E,l,e.baseZIndex),e.onTopObject=E},d.prototype.pullUpSort=function(t,e,l){var i=this;t.htmlElement.style.zIndex=e.length+l,e.sort(function(E,M){return-parseInt(E.htmlElement.style.zIndex,10)+parseInt(M.htmlElement.style.zIndex,10)});for(var B in e)e[B].htmlElement.style.zIndex=e.length-1-B+l},d.prototype.removeBean=function(t){var e=this,l=e.beanList,i=l[t];e.canvasElement.removeChild(i.htmlElement),delete l[t]},d.prototype.addBean=function(t){var e=this,l=e.beanList,i=e.beanIdName,B=e.beanNameId;l[t.id]=t,t.property.name&&(B[t.property.name]=t.id,i[t.id]=t.property.name);var E=0;for(var M in l)E++;t.htmlElement.style.zIndex=E+e.baseZIndex,t.setParentCanvas(e),this.canvasElement.appendChild(t.htmlElement)},d.prototype.getParentElement=function(){var t=this;return t.parentElement},a.CFRAME={},a.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",a.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",v(m,y);function m(t,e,l,i,B,E,M,F){var f=this;m.superConstructor.call(this,t,e,l,i,B,E,M,F),f.anchor=s.LEFT_TOP,f.showTitleBar=F.showTitleBar,f.canvasNetHeight=null,f.canvasNetWidth=null,f.frameHeightAdjust=F.frameHeightAdjust,f.frameComponentMap={},f.canvas=null,f.myCanvasId=null,f.floatingButton=null,f.titleBarClassNameDefault="jsframe-titlebar-default",f.titleBarClassNameFocused="jsframe-titlebar-focused",f.titleBarHeight=F.titleBarHeight,f.titleBarCaption=F.titleBarCaption,f.titleBarCaptionLeftMargin=F.titleBarCaptionLeftMargin,f.titleBarCaptionFontSize=F.titleBarCaptionFontSize,f.titleBarCaptionFontWeight=F.titleBarCaptionFontWeight,f.titleBarBorderBottomDefault=F.titleBarBorderBottomDefault,f.titleBarBorderBottomFocused=F.titleBarBorderBottomFocused,f.titleBarCaptionTextShadow=F.titleBarCaptionTextShadow,f.titleBarCaptionTextAlign=F.titleBarCaptionTextAlign,f.titleAdjustWidth=2,f.windowId=t,f.exBorderWidth=0,f.myCanvasId=t+"_canvas";var O=document.createElement("img");if(O.src="",O.style.position="absolute",O.style.left="2px",O.style.top="2px",O.style.width="16px",O.style.height="16px",O.style.visibility="hidden",f.titleBar=document.createElement("div"),f.titleBar.className="jsframetitlebar",f.showTitleBar){if(f.titleBar.id=t+"_title",f.titleBar.style.position="absolute",f.titleBar.style.boxSizing="border-box",f.titleBar.style.top="0px",f.titleBar.style.left="0px",f.titleBar.style.width=i-f.titleAdjustWidth+a.CANVAS.WIDTH_ADJUST_20180722+"px",f.titleBar.style.userSelect="none",f.titleBarHeight){var L=0;f.titleBarBorderBottomDefault&&(L=0),f.titleBar.style.height=parseInt(f.titleBarHeight,10)+0+"px"}f.titleBarColorDefault&&(f.titleBar.style.background=f.titleBarColorDefault),f.titleBar.style.zIndex=0,f.titleBar.style.color=f.titleBarCaptionColorDefault,f.titleBar.style.fontSize=f.titleBarCaptionFontSize,f.titleBar.style.fontWeight=f.titleBarCaptionFontWeight,f.titleBar.style.textShadow=f.titleBarCaptionTextShadow,f.titleBar.style.textAlign=f.titleBarCaptionTextAlign,f.titleBar.style.lineHeight=f.titleBar.style.height,f.titleBar.style.borderBottom=f.titleBarBorderBottomDefault,f.titleBar.style.overflow="hidden";var R=document.createTextNode(""),S=document.createElement("span");S.id=f.id+"_titleBarText",f.titleBarCaptionLeftMargin!=null?(S.style.position="absolute",S.style.left=parseInt(f.titleBarCaptionLeftMargin,10)+"px"):(S.style.position="absolute",S.style.left="0px",S.style.right="0px"),S.style.top="0px",S.appendChild(R),f.titleBar.appendChild(S)}f.htmlElement.appendChild(f.titleBar);var k=parseInt(f.titleBarHeight,10)-L,W=parseInt(f.titleAdjustWidth,10);if(f.showTitleBar||(k=0,W=0,L=0),f.canvasNetWidth=i-W,f.canvasNetHeight=B-k-W-1-L+f.frameHeightAdjust,f.htmlElement.style.cursor="move",f.canvas=new d(f.htmlElement,f.myCanvasId,0,k,i-W,B-k-W),f.canvas.enablePullUp=!1,f.canvas.canvasElement.style.backgroundColor=a.CFRAME.CANVAS_ELEMENT_BGCOLOR,f.canvas.canvasElement.style.cursor="default",I&&(f.canvas.canvasElement.onmousedown=f.canvasMouseDown),C&&"ontouchstart"in window){var U=function(re){var Z=re.changedTouches[0];f.canvasMouseDown.bind(this)(Z)};f.canvas.canvasElement.ontouchstart=U}f.canvas.canvasElement.parentCFrame=f;var j=parseInt(f.canvas.canvasElement.style.width,10),H=parseInt(f.canvas.canvasElement.style.height,10),z=F.resizeAreaWidth,G=F.resizeAreaHeight,V=F.resizeAreaOffset,q=0,J,ne,ee;F.resizeAreaVisible&&(J="rgba(255, 0, 0, 0.5)",ne="rgba(0, 0, 255, 0.5)",ee="rgba(0, 255, 0, 0.5)");var N=new x(f.myCanvasId+"_RD",j+V,H+V,z,G,q,"RD",J);N.htmlElement.style.cursor="se-resize",N.htmlElement.argX=0,N.htmlElement.argY=0;var K=new x(f.myCanvasId+"_DD",0,H+V,j+V,G,q,"DD",ne);K.htmlElement.style.cursor="n-resize",K.htmlElement.argX=0,K.htmlElement.argY=0;var X=new x(f.myCanvasId+"_RR",j+V,0,z,H+V,q,"RR",ee);X.htmlElement.style.cursor="w-resize",X.htmlElement.argY=0,X.htmlElement.argX=0,f.canvas.addBean(N),f.canvas.addBean(K),f.canvas.addBean(X),f.removeMarkers=function(){f.canvas.removeBean(N.id),f.canvas.removeBean(K.id),f.canvas.removeBean(X.id),f.htmlElement.style.cursor="default"},f.removeMarkers2=function(){f.canvas.removeBean(N.id),f.canvas.removeBean(K.id),f.canvas.removeBean(X.id)},f.enableMarkers=function(re){re?(N.htmlElement.style.display="flex",K.htmlElement.style.display="flex",X.htmlElement.style.display="flex",N.htmlElement.style.cursor="se-resize",K.htmlElement.style.cursor="n-resize",X.htmlElement.style.cursor="w-resize"):(N.htmlElement.style.display="none",K.htmlElement.style.display="none",X.htmlElement.style.display="none")};for(var te in F.frameComponents){var Q=F.frameComponents[te];Q.setFrame(f),Q.id=="closeButton"&&(Q.htmlElement.onclick=f.close);var se=Q.htmlElement.querySelector(".jsframe-child-menu");se&&f.eventListenerHelper.addEventListener(Q.htmlElement,"click",function(re){var Z=re.target.getAttribute("component-id");if(f.hideFrameComponentChildMenus({exceptFrameComponentId:Z}),Z){var le=f.getFrameComponentElement(Z),oe=le.querySelector(".jsframe-child-menu");oe?oe.style.display=="table"?oe.style.display="none":oe.style.display="table":console.error("frameComponent child menu isnt found. frameComponentId="+Z)}},{listenerName:"frame-component_child-menu-listener"}),f.addFrameComponent(Q)}f.htmlElement.style.backgroundColor="transparent",f.htmlElement.oncontextmenu=this.contextMenu;var ae=0;f.caribValue=ae,f.exBorderWidth&&(f.htmlElement.style.borderWidth=f.exBorderWidth+"px"),f.htmlElement.style.width=parseInt(f.htmlElement.style.width,10)-ae+"px",f.htmlElement.style.height=parseInt(f.htmlElement.style.height,10)-ae+1+"px",f.htmlElement.typeName="cwindow",f.htmlElement.overflow="auto",f.htmlElement.style.boxSizing="content-box",F.frameBorderStyle&&(f.htmlElement.style.borderStyle=F.frameBorderStyle),F.frameBoxShadow&&(f.htmlElement.style.boxShadow=F.frameBoxShadow),parseInt(F.frameBorderWidthDefault,10)>=0&&(f.htmlElement.style.borderWidth=F.frameBorderWidthDefault,f.htmlElement.style.borderColor=F.frameBorderColorDefault),parseInt(F.frameBorderRadius,10)>=0&&(f.htmlElement.style.borderRadius=F.frameBorderRadius),f.onCloseFrameListener=null}m.prototype.setTitleBarClassName=function(t,e){var l=this;return t&&(l.titleBarClassNameDefault=t,l.titleBarClassNameFocused=t),e&&(l.titleBarClassNameFocused=e),l},m.prototype.addFrameComponent=function(t){var e=this;return e.frameComponentMap[t.id]=t,e.canvas.canvasElement.appendChild(t.htmlElement),e},m.prototype.getFrameComponentElement=function(t){var e=this;return e.frameComponentMap[t]?e.frameComponentMap[t].htmlElement:null},m.prototype.removeFrameComponentById=function(t){var e=this,l=e.frameComponentMap[t];e.canvas.canvasElement.removeChild(l.htmlElement),delete e.frameComponentMap[t]},m.prototype.showFrameComponent=function(t,e){var l=this,i=l.getFrameComponentElement(t);return i&&(e?i.style.display=e:i.style.display="flex"),l},m.prototype.hideFrameComponent=function(t){var e=this,l=e.getFrameComponentElement(t);return l&&(l.style.display="none"),e},m.prototype.hideAllVisibleFrameComponents=function(){var t=this,e=t.frameComponentMap;for(var l in e)if(e.hasOwnProperty(l)){var i=e[l].htmlElement;i.style.display==="none"&&(i._alreadyNone=!0),i.style.display="none"}},m.prototype.showAllVisibleFrameComponents=function(){var t=this,e=t.frameComponentMap;for(var l in e)if(e.hasOwnProperty(l)){var i=e[l].htmlElement;i._alreadyNone?i._alreadyNone=null:i.style.display="flex"}},m.prototype.hideFrameComponentChildMenus=function(t){var e=this,l=e.frameComponentMap;for(var i in l)if(l.hasOwnProperty(i)){if(t&&t.exceptFrameComponentId&&i===t.exceptFrameComponentId)continue;var B=l[i];B.childMenu&&(B.childMenu.style.display="none")}},m.prototype.setTitle=function(t){var e=this;if(e.title=t,e.showTitleBar){var l=document.createTextNode(t);e.titleBar.firstChild.replaceChild(l,e.titleBar.firstChild.firstChild)}return e},m.prototype.resize=function(t,e,l,i){var B=this,E=parseInt(B.htmlElement.style.left,10),M=parseInt(B.htmlElement.style.top,10),F=parseInt(B.htmlElement.style.width,10),f=parseInt(B.htmlElement.style.height,10);B.htmlElement.style.left=parseInt(E+t,10)+"px",B.htmlElement.style.top=parseInt(M+e,10)+"px",B.htmlElement.style.width=parseInt(F+l,10)+"px",B.htmlElement.style.height=parseInt(f+i,10)+"px";var O=parseInt(B.canvas.canvasElement.style.width,10),L=parseInt(B.canvas.canvasElement.style.height,10);B.canvas.canvasElement.style.width=O+l+"px",B.canvas.canvasElement.style.height=L+i+"px",B.showTitleBar&&(B.titleBar.style.width=O+l+"px");for(var R in B.canvas.beanList){var S=B.canvas.beanList[R];S.htmlElement.typeName=="cmarkerwindow"&&(S.htmlElement.usage=="RD"?(S.htmlElement.style.left=parseInt(S.htmlElement.style.left,10)+l+"px",S.htmlElement.style.top=parseInt(S.htmlElement.style.top,10)+i+"px"):S.htmlElement.usage=="DD"?(S.htmlElement.style.width=parseInt(S.htmlElement.style.width,10)+l+"px",S.htmlElement.style.top=parseInt(S.htmlElement.style.top,10)+i+"px"):S.htmlElement.usage=="RR"&&(S.htmlElement.style.left=parseInt(S.htmlElement.style.left,10)+l+"px",S.htmlElement.style.height=parseInt(S.htmlElement.style.height,10)+i+"px"))}},m.prototype.canvasMouseDown=function(t){var e=this;this.parentCFrame.parentCanvas.mouseDownSource==null&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},m.prototype.mouseUp=function(t){this.canvas.mouseUp(t)},m.prototype.close=function(t){var e=this,l=this.parentObject.parentCanvas,i=this.parentObject;console.log('CFrame#close "'+i.title+"(@"+i.getName()+')" @'+i.windowId);var B=i.id;i.closeInternally(t,l,B)},m.prototype.closeFrame=function(t){var e=this;console.log('CFrame#closeFrame "'+e.title+"("+e.getName()+')" @'+e.windowId);var l=this.parentCanvas;e.closeInternally(t,l,e.windowId)},m.prototype.closeInternally=function(t,e,l){var i=this;if(!e){console.error("Window("+l+") may have been closed");return}e.removeBean(l),i.modalBackgroundWindowId&&(e.removeBean(i.modalBackgroundWindowId),i.modalBackgroundWindowId=null),i.onCloseFrameListener&&i.onCloseFrameListener(i)},m.prototype.setOnCloseFrameListener=function(t){var e=this;e.onCloseFrameListener=t},m.prototype.contextMenu=function(){var t="CFrame";return!1},m.prototype.setTitleBarTextColor=function(t){var e=this;e.titleBar.style.color=t},m.prototype.setPosition=function(t,e,l){var i=this,B=i.getWidth(),E=i.getHeight();return i._setPositionInternally(t,e,l,B,E),i},m.prototype._setPositionInternally=function(t,e,l,i,B){var E=this;l&&(E.anchor=l),!l||s.LEFT_TOP==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=e+"px"):s.HCENTER_TOP==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=e+"px"):s.RIGHT_TOP==l?(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=e+"px"):s.LEFT_VCENTER==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=-B/2+e+"px"):s.HCENTER_VCENTER==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=-B/2+e+"px"):s.RIGHT_VCENTER==l?(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=-B/2+e+"px"):s.LEFT_BOTTOM==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=-B+e+"px"):s.HCENTER_BOTTOM==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=-B+e+"px"):s.RIGHT_BOTTOM==l&&(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=-B+e+"px")},m.prototype.getPosition=function(){var t=this,e=t.getWidth(),l=t.getHeight(),i,B,E=t.anchor;return!E||s.LEFT_TOP==E?(i=parseInt(t.htmlElement.style.left,10),B=parseInt(t.htmlElement.style.top,10)):s.HCENTER_TOP==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,B=parseInt(t.htmlElement.style.top,10)):s.RIGHT_TOP==E?(i=parseInt(t.htmlElement.style.left,10)+e,B=parseInt(t.htmlElement.style.top,10)):s.LEFT_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10),B=parseInt(t.htmlElement.style.top,10)+l/2):s.HCENTER_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,B=parseInt(t.htmlElement.style.top,10)+l/2):s.RIGHT_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10)+e,B=parseInt(t.htmlElement.style.top,10)+l/2):s.LEFT_BOTTOM==E?(i=parseInt(t.htmlElement.style.left,10),B=parseInt(t.htmlElement.style.top,10)+l):s.HCENTER_BOTTOM==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,B=parseInt(t.htmlElement.style.top,10)+l):s.RIGHT_BOTTOM==E&&(i=parseInt(t.htmlElement.style.left,10)+e,B=parseInt(t.htmlElement.style.top,10)+l),{x:i,y:B,anchor:E}},m.prototype.getLeft=function(){var t=this;return parseInt(t.htmlElement.style.left,10)},m.prototype.getTop=function(){var t=this;return parseInt(t.htmlElement.style.top,10)},m.prototype.getWidth=function(){var t=this;return parseInt(t.htmlElement.style.width,10)},m.prototype.getHeight=function(){var t=this;return parseInt(t.htmlElement.style.height,10)},m.prototype.getSize=function(){var t=this;return{width:t.getWidth(),height:t.getHeight()}},m.prototype.setSize=function(t,e,l){var i=this,B=!0;return l&&(B=!1),i.resize(0,0,t-i.getWidth(),e-i.getHeight(),B),i},m.prototype.getWindowId=function(){var t=this;return t.windowId},m.prototype.getName=function(){var t=this;return t.property.name},m.prototype.setName=function(t){var e=this;e.property.name=t},v(p,m);function p(t,e,l,i,B,E){var M=e,F=l,f=i,O=B,L=E.zindex,R=null,S=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new c,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=E.titleBarColorFocused,this.titleBarColorDefault=E.titleBarColorDefault,this.titleBarCaptionColorDefault=E.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=E.titleBarCaptionColorFocused,p.superConstructor.call(S,t,M,F,f,O,L,R,E),S.frameBorderColorDefault=E.frameBorderColorDefault,S.frameBorderColorFocused=E.frameBorderColorFocused,S.frameBorderWidthDefault=E.frameBorderWidthDefault,S.frameBorderWidthFocused=E.frameBorderWidthFocused,S.iframe=null,S.ifDelta=0,S.resizable=!0,S.onMouseMoveOnIframe=null,S.onMouseUpOnIframe=null,S._hasFocus=!1,S._hasFocusTime=0,S.htmlElement.typeName="cifwindow";var k="riversun_"+t;S.dframe=document.createElement("div"),S.iframe=document.createElement("iframe"),S.iframe.name=k,S.iframe.id=k,S.iframe.frameBorder="0",S.iframe.zIndex=-1,S.iframe.allowTransparency="true",S.iframe.width=S.canvasNetWidth-S.ifDelta+0,S.iframe.height=S.canvasNetHeight-S.ifDelta+0,S.showTitleBar=E.showTitleBar,S.getFrameInnerBorderRadius=E.getFrameInnerBorderRadius,S.frameBorderRadius=E.frameBorderRadius,S.adjustFrameBorderRadius(),S.useIframe=!1,S.canvas.canvasElement.appendChild(S.iframe),S.canvas.canvasElement.appendChild(S.dframe),this.setUseIframe=function(W){S.useIframe=W,S.iframe.style.visibility="hidden",S.iframe.style.position="absolute",S.iframe.style.left="0px",S.iframe.style.top="0px",S.iframe.style.width="100%",S.iframe.style.height="100%",S.dframe.style.visibility="hidden",S.dframe.style.position="absolute",S.dframe.style.left="0px",S.dframe.style.boxSizing="content-box",S.dframe.style.top="0px",S.dframe.style.width="100%",S.dframe.style.height="100%",S.dframe.style.backgroundColor="white",W?(S.iframe.style.visibility="visible",S.dframe.style.visibility="hidden"):(S.iframe.style.visibility="hidden",S.dframe.style.visibility="visible")},S.setUseIframe(E.useIframe),(S.overrayTransparentScreenEnabled||S.overrayTransparentScreenOnResize)&&(S.transparence=document.createElement("span"),S.transparence.style.position="absolute",S.transparence.style.left="0px",S.transparence.style.top="0px",S.transparence.style.width="0px",S.transparence.style.height="0px",S.transparence.style.zIndex=4,S.transparence.style.borderWidth="0px",S.transparence.style.borderColor="#ff00ee",S.transparence.style.borderStyle="none",S.transparence.style.cursor="default",S.transparence.style.pointerEvents="none",S.canvas.canvasElement.style.backgroundColor=E.frameBackgroundColor,S.canvas.canvasElement.appendChild(S.transparence)),S.eventEmitter=new w,S.appearance=E}p.prototype.getFrameView=function(){var t=this;return t.dframe},p.prototype.getFrameAppearance=function(){var t=this;return t.appearance},p.prototype.setHTML=function(t){var e=this;e.dframe.innerHTML=t},p.prototype.setFrameInFrame=function(t){var e=this,l=e.dframe?e.dframe.firstChild:null;l&&(Date.now||(Date.now=function(){return new Date().getTime()}),t?e.eventEmitter.only("resize","fif-listener",function(){l.setAttribute(u.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(l.removeAttribute(u.MATCH_PARENT_CHANGE_MARKER_ATTR),e.eventEmitter.only("resize","fif-listener",function(){})))},p.prototype.$=function(t){var e=this;if(e.useIframe){var l=e.iframe.contentWindow.document;return l.querySelector(t)}else return e.dframe.querySelector(t)},p.prototype.on=function(t,e,l){var i=this,B=i.getFrameComponentElement(t);B&&i.eventListenerHelper.addEventListener(B,e,function(F){l(i,F,{type:"frameComponent",id:t,eventType:e})},{listenerName:"frame-component-listener"}),(t==="frame"||t==="window")&&(e==="move"&&!i.eventEmitter.hasListenerFuncs("move")&&i.setOnMoveListener(function(F){i.eventEmitter.emit("move",i._getCurrentSizePos())}),i.eventEmitter.on(e,l));var E=i.$(t);if(E&&(i.eventListenerHelper.hasEventListener(E,e,"frame-dom-listener")&&i.eventListenerHelper.removeEventListener(E,e,null,{listenerName:"frame-dom-listener"}),i.eventListenerHelper.addEventListener(E,e,function(F){l(i,F,{type:"dom",id:t,eventType:e})},{listenerName:"frame-dom-listener"})),!E){var M=i.canvas.canvasElement.querySelector(t);M&&M.addEventListener(e,function(F){l(i,F,{type:"dom",id:t,eventType:e})})}},p.prototype.adjustFrameBorderRadius=function(){var t=this;if(parseInt(t.frameBorderRadius,10)>0){var e=t.getFrameInnerBorderRadius(t,t._hasFocus),l=e.frameAppearance,i=e.innerBorderRadius,B=parseInt(l.titleBarHeight,10);t.showTitleBar?(t.canvas.canvasElement.style.borderBottomRightRadius=i,t.canvas.canvasElement.style.borderBottomLeftRadius=i,t.iframe.style.borderBottomRightRadius=i,t.iframe.style.borderBottomLeftRadius=i,t.titleBar.style.borderTopLeftRadius=i,t.titleBar.style.borderTopRightRadius=i):(t.canvas.canvasElement.style.borderRadius=i,t.iframe.style.borderRadius=i),t.dframe&&(B===0&&(t.dframe.style.borderTopRightRadius||(t.dframe.style.borderTopRightRadius=i),t.dframe.style.borderTopLeftRadius||(t.dframe.style.borderTopLeftRadius=i)),t.dframe.style.borderBottomRightRadius=i,t.dframe.style.borderBottomLeftRadius=i)}},p.prototype.handleReleasingFocus=function(t){var e=this,l=e._hasFocus;e._hasFocus=!1,e.titleBar.className=e.titleBarClassNameDefault,e.titleBarColorDefault&&(e.titleBar.style.background=e.titleBarColorDefault),e.titleBar.style.color=e.titleBarCaptionColorDefault,e.frameBorderColorDefault&&(e.htmlElement.style.borderColor=e.frameBorderColorDefault),e.frameBorderWidthDefault&&(e.htmlElement.style.borderWidth=e.frameBorderWidthDefault,e.adjustFrameBorderRadius()),e.htmlElement.typeName=="cifwindow"&&(e.overrayTransparentScreenEnabled&&(e.transparence.style.width=parseInt(e.iframe.width,10)+"px",e.transparence.style.height=parseInt(e.iframe.height,10)+"px"));for(var i in e.frameComponentMap){var B=e.frameComponentMap[i];B.handleReleasingFocus()}return e.titleBarBorderBottomDefault&&(e.titleBar.style.borderBottom=e.titleBarBorderBottomDefault),l&&e.eventEmitter.emit("blur",{target:e}),e},p.prototype.handleTakingFocus=function(t){var e=this,l=e._hasFocus;e._hasFocus=!0,e._hasFocus=Date.now(),e.overrayTransparentScreenEnabled&&(e.transparence.style.width="0px",e.transparence.style.height="0px"),e.titleBar.className=e.titleBarClassNameFocused,e.titleBarColorFocused&&(e.titleBar.style.background=e.titleBarColorFocused),e.titleBar.style.color=e.titleBarCaptionColorFocused,e.frameBorderColorFocused&&(e.htmlElement.style.borderColor=e.frameBorderColorFocused),e.frameBorderWidthFocused&&(e.htmlElement.style.borderWidth=e.frameBorderWidthFocused,e.adjustFrameBorderRadius()),e.titleBarBorderBottomFocused&&(e.titleBar.style.borderBottom=e.titleBarBorderBottomFocused);for(var i in e.frameComponentMap){var B=e.frameComponentMap[i];B.handleTakingFocus()}return l||e.eventEmitter.emit("focus",{target:e}),e},m.prototype.show=function(t){var e=this;return e.htmlElement.style.display="flex",t&&t.requestFocus==!1||e.requestFocus(),e},m.prototype.showModal=function(t){var e=this,l=new o;l.showTitleBar=!0,l.showCloseButton=!1,l.frameBorderRadius="0px",l.frameBorderStyle="none",l.frameBorderWidthDefault="0px",l.frameBorderWidthFocused="0px",l.frameBoxShadow=null,l.frameBackgroundColor="transparent",l.frameComponents=[],l.frameHeightAdjust=0,l.titleBarHeight="0px",l.titleBarBorderBottomFocused=null,l.titleBarCaptionLeftMargin="0px",l.onInitialize=function(){},l.pullUpDisabled=!0;var i=e.parentCanvas,B=a.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+e.id,E=new p(B,0,0,1,1,l);E.setSize(window.innerWidth,window.innerHeight,!0),E.setResizable(!1),window.addEventListener("resize",function(){E.setSize(window.innerWidth,window.innerHeight,!0)}),e.modalBackgroundWindowId=B,E.hide(),i.addWindow(E),E.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',E.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",E.show(),e.show(),t&&e.setOnCloseFrameListener(t)},m.prototype.getWindowManager=function(){var t=this;return t.parentCanvas},p.prototype.hide=function(){var t=this;return t.htmlElement.style.display="none",t},p.prototype.onmouseDown=function(t){var e=this;document.body.ondrag=function(){return!1},e.decorator=m.prototype.onmouseDown,e.decorator(t);var l=e.parent,i=e.parentCanvas;for(var B in i.beanList){var E=i.beanList[B];B==l.getWindowId()||E.handleReleasingFocus()}l.handleTakingFocus()},p.prototype.mouseUp=function(t){var e=this;(e.overrayTransparentScreenEnabled||e.overrayTransparentScreenOnResize)&&(e.parentCanvas.onTopObject==e?(e.transparence.style.width="0px",e.transparence.style.height="0px"):e.overrayTransparentScreenEnabled&&(e.transparence.style.width=parseInt(e.iframe.width)+"px",e.transparence.style.height=parseInt(e.iframe.height)+"px")),e.decorator=m.prototype.mouseUp,e.decorator(t),document.body.ondrag=null,document.body.onselectstart=null,e.transparence.style.pointerEvents="none"},p.prototype.setMinFrameSize=function(t,e){var l=this;l.minFrameWidth=t,l.minWindowHeight=e},p.prototype.resize=function(t,e,l,i,B){var E=this;if(!E.resizable&&B)return null;var M=E.getSize(),F=parseInt(E.htmlElement.style.left,10),f=parseInt(E.htmlElement.style.top,10),O=parseInt(E.htmlElement.style.width,10),L=parseInt(E.htmlElement.style.height,10);B&&O+l<E.minFrameWidth&l<0&&(E.htmlElement.style.width=O+"px",l=0),B&&L+i<E.minWindowHeight&i<0&&(E.htmlElement.style.height=L+"px",i=0),E.htmlElement.style.left=F+t+"px",E.htmlElement.style.top=f+e+"px",E.htmlElement.style.width=O+l+"px",E.htmlElement.style.height=L+i+"px";var R=parseInt(E.canvas.canvasElement.style.width,10),S=parseInt(E.canvas.canvasElement.style.height,10);E.canvas.canvasElement.style.width=R+l+"px",E.canvas.canvasElement.style.height=S+i+"px",E.titleBar.style.width=R-E.ifDelta+l+0+"px",E.iframe.width=R-E.ifDelta+l+0+"px",E.iframe.height=S-E.ifDelta+i+E.frameHeightAdjust+"px",(E.overrayTransparentScreenEnabled||E.overrayTransparentScreenOnResize)&&(E.transparence.style.width=parseInt(E.iframe.width)+"px",E.transparence.style.height=parseInt(E.iframe.height)+"px");for(var k in E.frameComponentMap){var W=E.frameComponentMap[k];W.updateAlign()}for(var U in E.canvas.beanList){var j=E.canvas.beanList[U];j.htmlElement.typeName=="cmarkerwindow"&&(j.htmlElement.usage=="RD"?(j.htmlElement.style.left=parseInt(j.htmlElement.style.left)+l+"px",j.htmlElement.style.top=parseInt(j.htmlElement.style.top)+i+"px"):j.htmlElement.usage=="DD"?(j.htmlElement.style.width=parseInt(j.htmlElement.style.width)+l+"px",j.htmlElement.style.top=parseInt(j.htmlElement.style.top)+i+"px"):j.htmlElement.usage=="RR"&&(j.htmlElement.style.left=parseInt(j.htmlElement.style.left)+l+"px",j.htmlElement.style.height=parseInt(j.htmlElement.style.height)+i+"px"))}var H=E.getSize();(M.width!==H.width||M.height!==H.height)&&E.eventEmitter.emit("resize",E._getCurrentSizePos())},p.prototype._getCurrentSizePos=function(){var t=this,e=t.getSize(),l=t.getPosition();return{target:t,pos:l,size:e}},p.prototype.resizeDirect=function(t,e,l){var i=this;if(!i.resizable&&l)return null;i.htmlElement.style.width=t+"px",i.htmlElement.style.height=e+"px";var B=parseInt(i.canvas.canvasElement.style.width),E=parseInt(i.canvas.canvasElement.style.height);i.canvas.canvasElement.style.width=t+"px",i.canvas.canvasElement.style.height=e-i.titleBar.style.height+"px",i.titleBar.style.width=t-i.ifDelta+"px",i.iframe.width=t-i.ifDelta+"px",i.iframe.height=e-i.ifDelta+i.frameHeightAdjust+"px",(i.overrayTransparentScreenEnabled||i.overrayTransparentScreenOnResize)&&(i.transparence.style.width=parseInt(i.iframe.width)+"px",i.transparence.style.height=parseInt(i.iframe.height)+"px");for(var M in i.frameComponentMap){var F=i.frameComponentMap[M];F.updateAlign()}for(var f in i.canvas.beanList){var O=i.canvas.beanList[f];O.htmlElement.typeName=="cmarkerwindow"&&(O.htmlElement.usage=="RD"?(O.htmlElement.style.left=t+"px",O.htmlElement.style.top=e+"px"):O.htmlElement.usage=="DD"?(O.htmlElement.style.width=t+"px",O.htmlElement.style.top=e+"px"):O.htmlElement.usage=="RR"&&(O.htmlElement.style.left=t+"px",O.htmlElement.style.height=e+"px"))}},p.prototype.requestFocus=function(){var t=this,e=t.parentCanvas.beanList;for(var l in e){var i=e[l];l==t.getWindowId()?i.handleTakingFocus():i.handleReleasingFocus()}t.parentCanvas.pullUp(t.id)},p.prototype.setUrl=function(t){var e=this;return new Promise(function(l,i){t?e.setUseIframe(!0):(e.setUseIframe(!1),l()),e.iframe.src=t,e.iframe.onload=function(){var B=function(M){var F=M.pageX,f=M.pageY;if(C&&M.type==="touchmove"){var O=M.changedTouches;if(b){var L=M.touches;if(L.length===1)F=O[0].pageX,f=O[0].pageY;else return!0}else F=O[0].pageX,f=O[0].pageY}var R=e.getLeft(),S=e.getTop(),k=document.createEvent("MouseEvents");k.initMouseEvent("mousemove",!0,!1,window,M.detail,M.screenX,M.screenY,F+R,f+S,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,null),e.parentCanvas.windowMouseMove(k),e.onMouseMoveOnIframe&&e.onMouseMoveOnIframe(k)};e.iframe.contentWindow.document.onmousemove=B,e.iframe.contentWindow.document.ontouchmove=B;var E=function(M){var F=M.pageX,f=M.pageY;if(C&&M.type==="touchend"){var O=M.changedTouches;F=O[0].pageX,f=O[0].pageY}var L=e.getLeft(),R=e.getTop(),S=document.createEvent("MouseEvents");S.initMouseEvent("mouseup",!0,!1,window,M.detail,M.screenX,M.screenY,F+L,f+R,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,null),e.parentCanvas.windowMouseUp(S),e.onMouseUpOnIframe&&e.onMouseUpOnIframe(S)};e.iframe.contentWindow.document.onmouseup=E,e.iframe.contentWindow.document.ontouchend=E,l(e,e.iframe.contentWindow.document)}})},p.prototype.getIfDocument=function(){var t=this;return t.iframe.contentWindow.document},p.prototype.setScrolling=function(t){var e=this;e.iframe.scrolling=t},p.prototype.getScrolling=function(t){var e=this;return e.iframe.scrolling},p.prototype.setResizable=function(t){var e=this;return e.resizable=t,e.enableMarkers(t),e},p.prototype.setControl=function(t){var e=this;t&&(t.frame=e,e.control=e.jsFrame.createWindowEventHelper(t),e.control.setupDefaultEvents())},v(_,d);function _(t,e,l,i,B,E){_.superConstructor.call(this,t,e,l,i,B,E);var M=this;document.addEventListener("click",function(F){for(var f in M.beanList){var O=M.beanList[f];O.onBodyClicked(F)}})}_.prototype.getWindow=function(t){var e=this;return e.beanList[t]},_.prototype.addWindow=function(t){var e=this,l=t.getWindowId(),i=t.getName();e.beanIdName[l]=i,e.beanNameId[i]=l,e.addBean(t)},_.prototype.containsWindowName=function(t){var e=this,l=e.beanNameId[t];return!!l},_.prototype.getWindowByName=function(t){var e=this,l=e.beanNameId[t];return l?e.getWindow(l):null},_.prototype.windowMouseMove=function(t){var e=this;if(e.currentObject==null)return null;var l=!1,i=e.beanList;for(var B in i){var E=i[B],M=E.canvas.mouseMove(t);if(l=l|M!=null,M!=null&&M.targetTypeName=="cmarkerwindow"){var F=M.targetObject;E.transparence.style.pointerEvents="auto",F.usage=="RD"?E.resize(0,0,M.deltaX,M.deltaY,!0):F.usage=="DD"?E.resize(0,0,0,M.deltaY,!0):F.usage=="RR"&&E.resize(0,0,M.deltaX,0,!0)}}!l&&this.mouseDownSource!="childcanvas"&&e.mouseMove(t)},_.prototype.windowMouseUp=function(t){var e=this;e.mouseUp(t);var l=e.beanList;for(var i in l){var B=l[i];B.mouseUp(t)}},_.prototype.removeBean=function(t){var e=this,l=e.beanList,i=l[t];if(i==null)return;var B=i._hasFocus;e.canvasElement.removeChild(i.htmlElement),delete l[t];var E=e.beanIdName[t];E&&(delete e.beanIdName[t],delete e.beanNameId[E]);var M=0,F=null;if(B){for(var t in l){var f=l[t];M<=f._hasFocusTime&&!f.pullUpDisabled&&(M=f._hasFocusTime,F=f)}F&&F.requestFocus()}i.parentCanvas=null},v(x,y);function x(t,e,l,i,B,E,M,F){var f=this;x.superConstructor.call(this,t,e,l,i,B,E,M),f.htmlElement.typeName="cmarkerwindow",f.htmlElement.usage=M,f.htmlElement.isRangeLimited=!1,f.htmlElement.style.borderStyle="none",f.htmlElement.style.zIndex=1,F&&(f.htmlElement.style.background=F),f.getWindowType=function(){return"CMarkerWindow"}}function D(t){var e=this,l=null;if(e.isWindowManagerFixed=!0,t&&t.fixed==!1&&(e.isWindowManagerFixed=!1),t&&t.parentElement&&(l=t.parentElement),e.hAlign="left",e.vAlign="top",t&&t.horizontalAlign&&(e.hAlign=t.horizontalAlign),t&&t.verticalAlign&&(e.vAlign=t.verticalAlign),e.pullToRefresh=!1,t&&typeof t.pullToRefresh=="boolean"&&(e.pullToRefresh=t.pullToRefresh),e.touchActionManipulation=!0,t&&typeof t.touchActionManipulation=="boolean"&&(e.touchActionManipulation=t.touchActionManipulation),l)if(e.isWindowManagerFixed){var i=document.createElement("div");i.id="jsFrame_fixed_"+e.generateUUID(),i.setAttribute("style","position:fixed;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),l.appendChild(i)}else{var i=document.createElement("div");i.id="jsFrame_absolute_"+e.generateUUID(),i.setAttribute("style","position:absolute;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),l.appendChild(i)}else if(e.isWindowManagerFixed){var i=document.createElement("div");i.id="jsFrame_fixed_"+e.generateUUID(),i.setAttribute("style","position:fixed;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(i),l=i}else{var i=document.createElement("div");i.id="jsFrame_absolute_"+e.generateUUID(),i.setAttribute("style","position:absolute;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(i),l=i}if(I&&(document.addEventListener("mouseup",M),document.addEventListener("mousemove",F)),C){if("ontouchend"in window){var B=function(f){M.bind(this)(f)};document.addEventListener("touchend",B)}if("ontouchmove"in window){e.touchActionManipulation&&e.doEnableTouchActionManipulation(),e.pullToRefresh||e.doDisablePullToRefresh();var E=function(f){f.preventDefault(),F.bind(this)(f)};document.addEventListener("touchmove",E)}}e.windowManager=new _(l,"windowManager_"+e.generateUUID(),0,0,0,0),e.domPartsBuilder=null;function M(f){e.windowManager.windowMouseUp(f)}function F(f){e.windowManager.windowMouseMove(f)}}D.prototype.doEnableTouchActionManipulation=function(){var t=document.documentElement.getAttribute("style");t?t.endsWith(";")||(t+=";"):t="",t.indexOf("touch-action")===-1&&(t+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",t))},D.prototype.doDisablePullToRefresh=function(){var t=document.body.getAttribute("style");t?t.endsWith(";")||(t+=";"):t="",t.indexOf("overscroll-behavior-y")===-1&&(t+="overscroll-behavior-y: contain;",document.body.setAttribute("style",t))},D.prototype.getDomPartsBuilder=function(){var t=this;return t.domPartsBuilder||(t.domPartsBuilder=new r),t.domPartsBuilder},D.prototype.create=function(t){var e=this,l={};l.name=t.name;var i=t.title,B=t.left,E=t.top,M=t.width,F=t.height,f=t.appearance,O=t.preset,L=t.presetParam,R=t.appearanceName,S=t.appearanceParam,k=t.style,W=t.minWidth,U=t.minHeight,j=t.html,H=t.resizable,z=t.movable,G=t.url,V=t.urlLoaded,q=t.presetParam,J;if(O){var ne=this.getPresetWindow(O);J=ne.getPresetWindow(q),f=this.createPresetStyle(J.appearanceName,{appearanceParam:J.appearanceParam})}else R&&(f=this.createPresetStyle(R,{appearanceParam:S}));if(t.clientHeight){var ee=parseInt(f.titleBarHeight||0)-f.frameHeightAdjust;F=t.clientHeight+ee}var N=this.createFrame(B,E,M,F,f,l);if(i&&N.setTitle(i),j&&N.setHTML(j),G){var K=N.setUrl(G);V&&K.then(V)}if(H==!1&&N.setResizable(!1),z==!1&&N.setMovable(!1),W&&U&&(N.minFrameWidth=W),U&&(N.minWindowHeight=U,t.clientHeight&&(N.minWindowHeight=U+ee)),k){var X=N.getFrameView();for(var te in k)k.hasOwnProperty(te)&&(X.style[te]=k[te])}return J&&J.setupPresetWindow(N),N},D.prototype.createFrame=function(t,e,l,i,B,E){var M=this;B||(B=M.createFrameAppearance()),B.initialize();var F="window_"+M.generateUUID();t||(t=0),e||(e=0),l||(l=128),i||(i=128);var f=new p(F,t,e,l,i,B);if(f.jsFrame=M,E&&E.name&&f.setName(E.name),f.hide(),M.windowManager.addWindow(f),B.getTitleBarStyle){var O=B.getTitleBarStyle();O&&f.setTitleBarClassName(O.titleBarClassNameDefault,O.titleBarClassNameFocused)}else B.titleBarClassNameDefault&&B.titleBarClassNameFocused?f.setTitleBarClassName(B.titleBarClassNameDefault,B.titleBarClassNameFocused):B.titleBarClassNameDefault&&f.setTitleBarClassName(B.titleBarClassNameDefault,B.titleBarClassNameDefault);return f},D.prototype.containsWindowName=function(t){var e=this;return e.windowManager.containsWindowName(t)},D.prototype.getWindowByName=function(t){var e=this;return e.windowManager.getWindowByName(t)},D.prototype.generateUUID=function(){var t=Date.now(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(l=="x"?i:i&3|8).toString(16)});return e},D.prototype.createFrameAppearance=function(){return new o},D.prototype.createAnimator=function(){return new n},D.prototype.createWindowEventHelper=function(t){var e=this;t||(t={}),t.verticalAlign=e.vAlign,t.horizontalAlign=e.hAlign;var l=new u(t);return l},D.prototype.getPresetWindow=function(t,e){if(g[t]){var l=g[t];return l}else return null},D.prototype.createPresetStyle=function(t,e){var l=this,i=l.createFrameAppearance();if(e&&e.focusedFrameOnly&&(i.focusedFrameOnly=e.focusedFrameOnly),T[t]){var B=T[t],E=null;return e&&e.appearanceParam&&(E=e.appearanceParam),B.getStyle(i,E)}return console.error('[JSFrame] Preset appearance "'+t+'" not found.'),i},D.prototype.showToast=function(t){if(!t)return;var e=this,l=60,i=260,B=300,E=1e3,M=window.innerHeight-10-l/2,F=window.innerHeight-20-l/2,f="",O=!1,L={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};t.style&&(L=t.style),t.height&&(l=t.height),t.width&&(i=t.width),t.duration&&(E=t.duration),t.align&&(t.align=="top"?(M=10+l/2,F=20+l/2):t.align=="center"&&(M=window.innerHeight/2,F=window.innerHeight/2)),t.html&&(f=t.html),t.text&&(f=t.text),t.closeButton==!0?O=!0:O=!1;var R=e.createPresetStyle("toast");L.borderRadius&&(R.frameBorderRadius=L.borderRadius),t.closeButtonColor&&(R.captionClor=t.closeButtonColor);var S=e.create({name:"toast_"+e.generateUUID(),width:i,height:l,movable:!1,resizable:!1,appearance:R,style:L,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+l+'px">'+f+"</div>"});O||S.hideFrameComponent("closeButton");var k=!1,W=window.innerWidth/2;e.hAlign=="right"&&(W=-W),e.vAlign=="bottom"&&(M=M-window.innerHeight,F=F-window.innerHeight);var U=e.createAnimator();U.set(S).setDuration(B).fromPosition(W,M,"CENTER_CENTER").toPosition(W,F,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,k).then(function(j){return j.setDuration(B).fromPosition(W,F,"CENTER_CENTER").toPosition(W,M,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(E,k)}).then(function(j){var H=j.get();H.closeFrame()})},Object.freeze(a),A.exports=D},"./src/appearance/CButtonAppearance.js":A=>{function P(){var h="\u274C";this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}A.exports=P},"./src/appearance/CChildMenuAppearance.js":A=>{function P(h){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}A.exports=P},"./src/appearance/CDomPartsBuilder.js":(A,P,h)=>{var w=h("../../node_modules/merge-deeply/lib/merge-deeply.js"),s=h("./src/appearance/CButtonAppearance.js"),u=h("./src/appearance/CImageButtonAppearance.js"),v=h("./src/appearance/CChildMenuAppearance.js");function o(){}o.prototype.buildChildMenuAppearance=function(n){return new v(n)},o.prototype.buildTextButtonAppearance=function(n){if(n){var c=w({op:"clone",object1:n,concatArray:!0});return c}else return new s},o.prototype.buildImageButtonAppearance=function(n){if(n){var c=w({op:"clone",object1:n});return c}else return new u},o.prototype.buildButton=function(n){var c=this;return c.buildTextButton(n)},o.prototype.appendChildMenuTo=function(n,c){var T=this,g=document.createElement("div");g.classList.add("jsframe-child-menu"),g.innerHTML=n.childMenuHTML,g.style.position="absolute",g.style.pointerEvents="none",g.style.width=n.childMenuWidth+"px",g.style.display="none";var a=n.xOffset,I=parseInt(c.style.height,10)+n.yOffset+2;n.childMenuAlign==="LEFT"?g.style.left=a+"px":n.childMenuAlign==="RIGHT"?g.style.right=a+"px":n.childMenuAlign==="CENTER"&&(a=-n.childMenuWidth/2+parseInt(c.style.height,10)/2,g.style.left=a+"px"),g.style.top=I+"px",g.firstChild.style.pointerEvents="auto",c.appendChild(g)},o.prototype.buildTextButton=function(n){var c=n.size,T=c,g=c;n.width!=null&&(T=n.width),n.height!=null&&(g=n.height);var a=document.createElement("div"),I=n.borderWidth,C=n.borderRadius,b=n.borderColorDefault,y=n.borderColorFocused,d=n.borderColorHovered,m=n.borderColorPressed,p=n.borderStyleDefault,_=n.borderStyleFocused,x=n.borderStyleHovered,D=n.borderStylePressed,t=n.backgroundColorDefault,e=n.backgroundColorFocused,l=n.backgroundColorHovered,i=n.backgroundColorPressed,B=n.backgroundBoxShadow,E=n.fa,M=n.caption,F=n.imageDefault,f=n.imageFocused,O=n.imageHovered,L=n.imagePressed;F&&(F.style.pointerEvents="none"),f&&(f.style.pointerEvents="none"),O&&(O.style.pointerEvents="none"),L&&(L.style.pointerEvents="none");var R=n.captionColorDefault,S=n.captionColorFocused,k=n.captionColorHovered,W=n.captionColorPressed,U=n.captionShiftYpx,j=n.captionFontRatio;a._hasFrameFocus=!1,a._isMouseDown=!1,a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=T+"px",a.style.height=g+"px",n.cursor?a.style.cursor=n.cursor:a.style.cursor="pointer",a.style.margin="0px",a.style.padding="0px",a.style.boxSizing="content-box",a.style.fontFamily="sans-serif",a.onmousedown=function(G){a._isMouseDown=!0,a._handleFocusDrawing("onmousedown")},a.onmouseout=function(G){a._isMouseDown=!1,a._handleFocusDrawing("onmouseout")},a.onmouseover=function(G){a._handleHoverDrawing()},a.onmouseup=function(G){a._isMouseDown=!1,a._handleFocusDrawing("onmouseup")},a._onTakeFocus=function(){a._hasFrameFocus=!0,a._handleFocusDrawing("_onTakeFocus")},a._onReleaseFocus=function(){a._hasFrameFocus=!1,a._handleFocusDrawing("_onReleaseFocus")},a._handleFocusDrawing=function(G){a._hasFrameFocus?a._isMouseDown?(a.style.borderColor=m,a.style.borderStyle=D,a.style.backgroundColor=i,a.style.color=W,L&&r(L,a)):(a.style.borderColor=y,a.style.borderStyle=_,a.style.backgroundColor=e,a.style.color=S,f&&r(f,a)):a._isMouseDown?(a.style.borderColor=m,a.style.borderStyle=D,a.style.backgroundColor=i,a.style.color=W,L&&r(L,a)):(a.style.borderColor=b,a.style.borderStyle=p,a.style.backgroundColor=t,a.style.color=R,F&&r(F,a))},a._handleHoverDrawing=function(){a._hasFrameFocus,d&&(a.style.borderColor=d),x&&(a.style.borderStyle=x),l&&(a.style.backgroundColor=l),k&&(a.style.color=k),O&&r(O,a)},a.style.padding="0px",a.style.textAlign="center",a.style.fontSize=g*j+"px",a.style.lineHeight=g+"px",a.style.borderWidth="1px",I!=null&&(a.style.borderWidth=I+"px"),B!=null&&(a.style.boxShadow=B),a.style.borderRadius=C+parseInt(a.style.borderWidth)+"px";var H=!0;if(H&&F)r(F,a);else if(H&&M){var z=document.createElement("span");z.style.width="100%",z.style.marginTop=U+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.appendChild(document.createTextNode(M)),a.appendChild(z)}else if(H&&E){var z=document.createElement("span");z.style.pointerEvents="none",z.style.width="100%",z.style.marginTop=U+"px",z.style.display="inline-block",z.style.textAlign="center",z.style.fontFamily="sans-serif",z.innerHTML='<i class="'+E+'"></i>',a.appendChild(z)}else!H&&M&&(a.style.paddingTop=U+"px",a.appendChild(document.createTextNode(M)));return a._handleFocusDrawing(),a};function r(n,c){var T=c.querySelectorAll("img");c.firstChild?c.insertBefore(n,c.firstChild):c.appendChild(n);for(var g=0;g<T.length;g++){var a=T[g];n!==a&&c.removeChild(a)}}A.exports=o},"./src/appearance/CFrameAppearance.js":(A,P,h)=>{var w=h("./src/appearance/CDomPartsBuilder.js"),s=h("./src/appearance/CFrameComponent.js");function u(){var v=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(o){return v.useIframe=o,v.useFrame=!o,v},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(o,r){return o?r?{frameAppearance:v,innerBorderRadius:parseInt(o.frameBorderRadius,10)-parseInt(o.frameBorderWidthFocused,10)+"px"}:{frameAppearance:v,innerBorderRadius:parseInt(o.frameBorderRadius,10)-parseInt(o.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(v.showCloseButton){var o=v.getPartsBuilder(),r="\u274C",n="\u2716",c="\u274E",T=o.buildTextButtonAppearance();T.size=14,T.captionShiftYpx=0,T.captionFontRatio=1,T.borderRadius=2,T.backgroundColorPressed="transparent",T.backgroundColorDefault="transparent",T.caption=n,T.captionColorDefault="gray",T.captionColorFocused="gray",T.captionColorHovered="silver",T.captionColorPressed="black",T.borderWidth=0,T.borderColorDefault="#aaaaaa",T.borderStyle="solid";var g=o.buildTextButton(T),a=-10,I=-18,C="RIGHT_TOP",b=v.addFrameComponent("closeButton",g,a,I,C)}},this.onTitleBarStyleInitialize=function(){}}u.prototype.getPartsBuilder=function(){var v=this;return v._partsBuilder===null&&(v._partsBuilder=new w),v._partsBuilder},u.prototype.initialize=function(){var v=this;v.onInitialize()},u.prototype.addFrameComponent=function(v,o,r,n,c,T){var g=new s(v,o,r,n,c,T);return o._onTakeFocus&&o._onReleaseFocus&&g.setFocusCallback(o._onTakeFocus,o._onReleaseFocus),this.frameComponents.push(g),g},A.exports=u},"./src/appearance/CFrameComponent.js":A=>{function P(h,w,s,u,v,o){var r=this;r.id=h,r.x=s,r.y=u,r.frame=null,r._focusTakingCallabck=null,r._focusReleasingCallabck=null,v?r.frameComponentAlign=v:r.frameComponentAlign=CALIGN.LEFT_TOP,r.htmlElement=w,r.htmlElement.style.zIndex=50,r.htmlElement.setAttribute("component-id",h),o&&o.childMenu?r.childMenu=o.childMenu:w.querySelector(".jsframe-child-menu")&&(r.childMenu=w.querySelector(".jsframe-child-menu"))}P.prototype.setFocusCallback=function(h,w){var s=this;s._focusTakingCallabck=h,s._focusReleasingCallabck=w},P.prototype.setFrame=function(h){var w=this;w.frame=h,w.htmlElement.parentObject=h,w.updateAlign()},P.prototype.updateAlign=function(){var h=this,w=h.frameComponentAlign,s=h.frame,u=h.htmlElement.style;u.userSelect="none";var v=h.x,o=h.y,r=s.getWidth(),n=s.getHeight(),c=u.width,T=u.height;CALIGN.LEFT_TOP==w?(u.left=v+"px",u.top=o+"px"):CALIGN.HCENTER_TOP==w?(u.left=parseInt(r)/2-parseInt(c)/2+v+"px",u.top=o+"px"):CALIGN.RIGHT_TOP==w?(u.left=parseInt(r)-parseInt(c)+v+"px",u.top=o+"px"):CALIGN.LEFT_VCENTER==w?(u.left=v+"px",u.top=parseInt(n)/2-parseInt(T)/2+o+"px"):CALIGN.HCENTER_VCENTER==w?(u.left=parseInt(r)/2-parseInt(c)/2+v+"px",u.top=parseInt(n)/2-parseInt(T)/2+o+"px"):CALIGN.RIGHT_VCENTER==w?(u.left=parseInt(r)-parseInt(c)+v+"px",u.top=parseInt(n)/2-parseInt(T)/2+o+"px"):CALIGN.LEFT_BOTTOM==w?(u.left=v+"px",u.top=parseInt(n)-parseInt(T)+o+"px"):CALIGN.HCENTER_BOTTOM==w?(u.left=parseInt(r)/2-parseInt(c)/2+v+"px",u.top=parseInt(n)-parseInt(T)+o+"px"):CALIGN.RIGHT_BOTTOM==w&&(u.left=parseInt(r)-parseInt(c)+v+"px",u.top=parseInt(n)-parseInt(T)+o+"px")},P.prototype.handleTakingFocus=function(){var h=this;h._focusTakingCallabck&&h._focusTakingCallabck()},P.prototype.handleReleasingFocus=function(){var h=this;h._focusReleasingCallabck&&h._focusReleasingCallabck()},A.exports=P},"./src/appearance/CImageButtonAppearance.js":(A,P,h)=>{var w=h("./src/utils/Inherit.js"),s=h("./src/appearance/CButtonAppearance.js");w(u,s);function u(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}u.prototype._setImage=function(v,o,r){var n=this,c=n.imageStore[v];if(c)return c;var T=document.createElement("img");if(T.src=v,o&&r){var g=o,a=r,I="margin:0px;padding:0px;width:"+g+"px;height:"+a+"px";T.setAttribute("style",I)}return n.imageStore[v]=T,T},u.prototype.setSrc=function(v){var o=this;v.default&&(o.imageDefault=o._setImage(v.default,v.width,v.height)),v.hovered&&(o.imageHovered=o._setImage(v.hovered,v.width,v.height)),v.pressed&&(o.imagePressed=o._setImage(v.pressed,v.width,v.height)),v.focused&&(o.imageFocused=o._setImage(v.focused,v.width,v.height))},A.exports=u},"./src/index.js":(A,P,h)=>{A.exports={JSFrame:h("./src/JSFrame.js")}},"./src/presets/appearance/PresetStyleMaterial.js":(A,P,h)=>{h("./src/presets/appearance/PresetStyleMaterial.css");var w=h("./src/utils/ObjectAssigner.js");function s(o,r){var n={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},c=n;return r&&w.objectAssign(n,r),o.showTitleBar=!0,o.showCloseButton=!0,o.titleBarCaptionFontSize=c.titleBar.fontSize+"px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin=c.titleBar.leftMargin+"px",o.titleBarCaptionColorDefault=c.titleBar.color,o.titleBarCaptionColorFocused=c.titleBar.color,o.titleBarCaptionTextShadow=null,o.titleBarCaptionTextAlign="left",o.titleBarHeight=c.titleBar.height+"px",o.titleBarColorDefault=c.titleBar.background,o.titleBarColorFocused=c.titleBar.background,o.titleBarBorderBottomDefault="solid 0px #aaaaaa",o.titleBarBorderBottomFocused="solid 0px #1883d7",o.frameBorderRadius=c.border.radius+"px",o.frameBorderWidthDefault=c.border.width+"px",o.frameBorderWidthFocused=c.border.width+"px",o.frameBorderColorDefault=c.border.color,o.frameBorderColorFocused=c.border.color,o.frameBorderStyle="solid",o.frameBoxShadow=c.border.shadow,o.frameBackgroundColor="transparent",o.frameComponents=new Array,o.frameHeightAdjust=0,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},o.onInitialize=function(){u(o,c,!1),u(o,c,!0)},o}function u(o,r,n){var c=o.getPartsBuilder(),T=0,g;n?g=r.titleBar.buttonsOnLeft:g=r.titleBar.buttons;for(var a in g){var I=g[a],C=c.buildTextButtonAppearance();C.fa=I.fa,C.width=r.titleBar.buttonWidth,C.height=r.titleBar.buttonHeight,C.borderRadius=0,C.borderWidth=0,C.borderColorDefault="#c6c6c6",C.borderColorFocused="#fc615c",C.borderColorHovered=C.borderColorFocused,C.borderColorPressed="#e64842",C.borderStyleDefault="solid",C.borderStyleFocused=C.borderStyleDefault,C.borderStyleHovered=C.borderStyleDefault,C.borderStylePressed=C.borderStyleDefault,C.backgroundColorDefault="transparent",C.backgroundColorFocused="transparent",C.backgroundColorHovered="transparent",C.backgroundColorPressed="transparent";var b=v(r.titleBar.buttonColor);C.captionColorDefault=r.titleBar.buttonColor,C.captionColorFocused=r.titleBar.buttonColor,C.captionColorHovered=b.hovered,C.captionColorPressed=b.pressed,C.captionShiftYpx=0,C.captionFontRatio=1;var y=c.buildTextButton(C);I.visible?y.style.display="flex":(n?T-=r.titleBar.buttonWidth:T+=r.titleBar.buttonWidth,y.style.display="none");var d=parseInt(o.titleBarHeight),m=T,p=-d+(d-C.height)/2,_;n?_="LEFT_TOP":_="RIGHT_TOP";var x;I.childMenuHTML&&(x=document.createElement("div"),x.id=I.name+"_child_menu",x.innerHTML=I.childMenuHTML,x.style.position="absolute",x.style.width=(I.childMenuWidth?I.childMenuWidth:200)+"px",x.style.top=parseInt(y.style.top,10)+parseInt(y.style.height,10)/2+d/2+"px",x.style.left=y.style.left,x.style.display="none",y.appendChild(x)),o.addFrameComponent(I.name,y,m,p,_,{childMenu:x}),n?T+=r.titleBar.buttonWidth:T+=-r.titleBar.buttonWidth}}function v(o){var r=document.createElement("canvas");r.height=1,r.width=1;var n=r.getContext("2d");n.fillStyle=o,n.fillRect(0,0,1,1);var c=n.getImageData(0,0,1,1).data,T=c[0],g=c[1],a=c[2],I=c[3]/255,C=I*.85,b=I*.75,y="rgb("+T+","+g+","+a+","+C+")",d="rgb("+T+","+g+","+a+","+C+")",m="rgb("+T+","+g+","+a+","+b+")";return{src:y,hovered:d,pressed:m}}A.exports.getStyle=s},"./src/presets/appearance/PresetStylePopup.js":(A,P,h)=>{h("./src/presets/appearance/PresetStylePopup.css");function w(s){return s.showTitleBar=!1,s.showCloseButton=!0,s.titleBarCaptionFontSize="12px",s.titleBarCaptionFontWeight="normal",s.titleBarCaptionLeftMargin="10px",s.titleBarCaptionColorDefault="#4d494d",s.titleBarCaptionColorFocused="#4d494d",s.titleBarHeight="5px",s.titleBarColorDefault="white",s.titleBarColorFocused="white",s.titleBarBorderBottomDefault=null,s.titleBarBorderBottomFocused=null,s.frameBorderRadius="6px",s.frameBorderWidthDefault="1px",s.frameBorderWidthFocused="1px",s.frameBorderColorDefault="#aaaaaa",s.frameBorderColorFocused="#aaaaaa",s.frameBorderStyle="solid",s.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",s.frameBackgroundColor="white",s.frameComponents=new Array,s.frameHeightAdjust=2,s.getTitleBarStyle=function(){return s.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},s.onInitialize=function(){var u=s.getPartsBuilder(),v="\u274C",o="\u2716",r="\u274E",n=o,c=u.buildTextButtonAppearance();c.width=20,c.height=20,c.borderRadius=10,c.borderWidth=1,c.borderColorDefault="#cccccc",c.borderColorFocused="#cccccc",c.borderColorHovered="#dddddd",c.borderColorPressed="#eeeeee",c.borderStyleDefault="solid",c.borderStyleFocused=c.borderStyleDefault,c.borderStyleHovered=c.borderStyleDefault,c.borderStylePressed=c.borderStyleDefault,c.backgroundColorDefault="white",c.backgroundColorFocused="white",c.backgroundColorHovered="#eeeeee",c.backgroundColorPressed="#dddddd",c.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",c.caption=n,c.captionColorDefault="black",c.captionColorFocused="black",c.captionColorHovered="white",c.captionColorPressed="white",c.captionShiftYpx=1,c.captionFontRatio=.6;var T=u.buildTextButton(c),g=10,a=-6-parseInt(s.titleBarHeight),I="RIGHT_TOP";s.addFrameComponent("closeButton",T,g,a,I)},s}A.exports.getStyle=w},"./src/presets/appearance/PresetStyleRedstone.js":(A,P,h)=>{h("./src/presets/appearance/PresetStyleRedstone.css");function w(s){return s.showTitleBar=!0,s.showCloseButton=!0,s.titleBarCaptionFontSize="12px",s.titleBarCaptionFontWeight="normal",s.titleBarCaptionLeftMargin="10px",s.titleBarCaptionColorDefault="#9b9a9b",s.titleBarCaptionColorFocused="#4d494d",s.titleBarHeight="30px",s.titleBarColorDefault=null,s.titleBarColorFocused=null,s.titleBarBorderBottomDefault="solid 1px #aaaaaa",s.titleBarBorderBottomFocused="solid 1px #1883d7",s.frameBorderRadius="0px",s.frameBorderWidthDefault="1px",s.frameBorderWidthFocused="1px",s.frameBorderColorDefault="#aaaaaa",s.frameBorderColorFocused="#1883d7",s.frameBorderStyle="solid",s.frameBoxShadow=null,s.frameBackgroundColor="transparent",s.frameComponents=new Array,s.frameHeightAdjust=0,s.getTitleBarStyle=function(){return s.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},s.onInitialize=function(){var u=s.getPartsBuilder();{var v="\u2573",o=u.buildTextButtonAppearance();o.width=45,o.height=28,o.borderRadius=0,o.borderWidth=0,o.borderColorDefault="#c6c6c6",o.borderColorFocused="#fc615c",o.borderColorHovered=o.borderColorFocused,o.borderColorPressed="#e64842",o.borderStyleDefault="solid",o.borderStyleFocused=o.borderStyleDefault,o.borderStyleHovered=o.borderStyleDefault,o.borderStylePressed=o.borderStyleDefault,o.backgroundColorDefault="white",o.backgroundColorFocused="white",o.backgroundColorHovered="#e81123",o.backgroundColorPressed="#f1707a",o.caption=v,o.captionColorDefault="#9b9a9b",o.captionColorFocused="black",o.captionColorHovered="white",o.captionColorPressed="white",o.captionShiftYpx=1,o.captionFontRatio=.6;var r=u.buildTextButton(o),n=0,c=-parseInt(s.titleBarHeight),T="RIGHT_TOP";s.addFrameComponent("closeButton",r,n,c,T)}{var g="\u2610",a=u.buildTextButtonAppearance();a.width=45,a.height=28,a.borderRadius=0,a.borderWidth=0,a.borderColorDefault="#c6c6c6",a.borderColorFocused="#fc615c",a.borderColorHovered=a.borderColorFocused,a.borderColorPressed="#e64842",a.borderStyleDefault="solid",a.borderStyleFocused=a.borderStyleDefault,a.borderStyleHovered=a.borderStyleDefault,a.borderStylePressed=a.borderStyleDefault,a.backgroundColorDefault="white",a.backgroundColorFocused="white",a.backgroundColorHovered="#e5e5e5",a.backgroundColorPressed="#cccccc",a.caption=g,a.captionColorDefault="#9b9a9b",a.captionColorFocused="black",a.captionColorHovered="black",a.captionColorPressed="black",a.captionShiftYpx=1,a.captionFontRatio=.55;var I=u.buildTextButton(a),n=-46,c=-parseInt(s.titleBarHeight),T="RIGHT_TOP";s.addFrameComponent("maximizeButton",I,n,c,T)}{var C="\uFF3F",b=u.buildTextButtonAppearance();b.width=45,b.height=28,b.borderRadius=0,b.borderWidth=0,b.borderColorDefault="#c6c6c6",b.borderColorFocused="#fc615c",b.borderColorHovered=b.borderColorFocused,b.borderColorPressed="#e64842",b.borderStyleDefault="solid",b.borderStyleFocused=b.borderStyleDefault,b.borderStyleHovered=b.borderStyleDefault,b.borderStylePressed=b.borderStyleDefault,b.backgroundColorDefault="white",b.backgroundColorFocused="white",b.backgroundColorHovered="#e5e5e5",b.backgroundColorPressed="#cccccc",b.caption=C,b.captionColorDefault="#9b9a9b",b.captionColorFocused="black",b.captionColorHovered="black",b.captionColorPressed="black",b.captionShiftYpx=-2,b.captionFontRatio=.3;var y=u.buildTextButton(b),n=-92,c=-parseInt(s.titleBarHeight),T="RIGHT_TOP";s.addFrameComponent("minimizeButton",y,n,c,T)}{var d=u.buildTextButtonAppearance();d.width=45,d.height=28,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="white",d.backgroundColorFocused="white",d.backgroundColorHovered="#e5e5e5",d.backgroundColorPressed="#cccccc",d.caption="\u25A3",d.captionColorDefault="#9b9a9b",d.captionColorFocused="black",d.captionColorHovered="black",d.captionColorPressed="black",d.captionShiftYpx=1,d.captionFontRatio=.6;var m=u.buildTextButton(d),n=-92,c=-parseInt(s.titleBarHeight),T="RIGHT_TOP";m.style.display="none",s.addFrameComponent("deminimizeButton",m,n,c,T)}{var p="\u274F",_=u.buildTextButtonAppearance();_.width=45,_.height=28,_.borderRadius=0,_.borderWidth=0,_.borderColorDefault="#c6c6c6",_.borderColorFocused="#fc615c",_.borderColorHovered=_.borderColorFocused,_.borderColorPressed="#e64842",_.borderStyleDefault="solid",_.borderStyleFocused=_.borderStyleDefault,_.borderStyleHovered=_.borderStyleDefault,_.borderStylePressed=_.borderStyleDefault,_.backgroundColorDefault="white",_.backgroundColorFocused="white",_.backgroundColorHovered="#e5e5e5",_.backgroundColorPressed="#cccccc",_.caption=p,_.captionColorDefault="#9b9a9b",_.captionColorFocused="black",_.captionColorHovered="black",_.captionColorPressed="black",_.captionShiftYpx=1,_.captionFontRatio=.55;var x=u.buildTextButton(_),n=-46,c=-parseInt(s.titleBarHeight),T="RIGHT_TOP";x.style.display="none",s.addFrameComponent("restoreButton",x,n,c,T)}},s}A.exports.getStyle=w},"./src/presets/appearance/PresetStyleToast.js":A=>{function P(h){return h.showTitleBar=!1,h.showCloseButton=!0,h.titleBarCaptionFontSize="0px",h.titleBarCaptionFontWeight="normal",h.titleBarCaptionLeftMargin="0px",h.titleBarCaptionColorDefault="transparent",h.titleBarCaptionColorFocused="transparent",h.titleBarHeight="0px",h.titleBarColorDefault="transparent",h.titleBarColorFocused="transparent",h.titleBarBorderBottomDefault=null,h.titleBarBorderBottomFocused=null,h.frameBorderRadius="10px",h.frameBorderWidthDefault="0px",h.frameBorderWidthFocused="0px",h.frameBorderColorDefault="transparent",h.frameBorderColorFocused="transparent",h.frameBorderStyle="solid",h.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",h.frameBackgroundColor="transparent",h.frameComponents=[],h.frameHeightAdjust=1,h.captionClor="darkgray",h.pullUpDisabled=!1,h.getTitleBarStyle=function(){return h.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},h.onInitialize=function(){var w=h.getPartsBuilder(),s="\u274C",u="\u2716",v="\u274E",o=u,r=w.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=0,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="transparent",r.backgroundColorFocused="transparent",r.backgroundColorHovered="transparent",r.backgroundColorPressed="transparent",r.backgroundBoxShadow=null,r.caption=o,r.captionColorDefault=h.captionClor,r.captionColorFocused=h.captionClor,r.captionColorHovered=h.captionClor,r.captionColorPressed=h.captionClor,r.captionShiftYpx=1,r.captionFontRatio=.6;var n=w.buildTextButton(r),c=-6,T=3,g="RIGHT_TOP";h.addFrameComponent("closeButton",n,c,T,g)},h}A.exports.getStyle=P},"./src/presets/appearance/PresetStyleYosemite.js":(A,P,h)=>{h("./src/presets/appearance/PresetStyleYosemite.css");var w=h("./src/utils/ObjectAssigner.js");function s(u,v){var o={titleBar:{greenButton:"maximize"}},r=o;return v&&w.objectAssign(o,v),u.showTitleBar=!0,u.showCloseButton=!0,u.titleBarCaptionFontSize="11px",u.titleBarCaptionFontWeight="normal",u.titleBarCaptionLeftMargin=null,u.titleBarCaptionColorDefault="#4d494d",u.titleBarCaptionColorFocused="#4d494d",u.titleBarHeight="26px",u.titleBarColorDefault=null,u.titleBarColorFocused=null,u.titleBarBorderBottomDefault="1px solid #b1aeb1",u.titleBarBorderBottomFocused=u.titleBarBorderBottomDefault,u.frameBorderRadius="6px",u.frameBorderWidthDefault="1px",u.frameBorderWidthFocused="1px",u.frameBorderColorDefault="#acacac",u.frameBorderColorFocused="#acacac",u.frameBorderStyle="solid",u.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",u.frameBackgroundColor="transparent",u.frameComponents=new Array,u.getTitleBarStyle=function(){return u.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},u.onInitialize=function(){var n=u.getPartsBuilder(),c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";r.titleBar.greenButton==="fullscreen"&&(T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",C=10,b=10,y="margin:0px;padding:0px;width:"+C+"px;height:"+b+"px",d=document.createElement("img");d.src=T,d.setAttribute("style",y);var m=document.createElement("img");m.src=g,m.setAttribute("style",y);var p=document.createElement("img");p.src=a,p.setAttribute("style",y);var _=document.createElement("img");_.src=c,_.setAttribute("style",y);var x=document.createElement("img");x.src=I,x.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");{var D=n.buildImageButtonAppearance();D.imageDefault=x,D.imageHovered=_,D.imagePressed=_,D.imageFocused=x,D.size=10,D.borderRadius=5,D.borderWidth=1,D.borderColorDefault="#c6c6c6",D.borderColorFocused="#d3524e",D.borderColorHovered=D.borderColorFocused,D.borderColorPressed="#e64842",D.borderStyleDefault="solid",D.borderStyleFocused=D.borderStyleDefault,D.borderStyleHovered=D.borderStyleDefault,D.borderStylePressed=D.borderStyleDefault,D.backgroundColorDefault="#d0d0d0",D.backgroundColorFocused="#fc615c",D.backgroundColorHovered=D.backgroundColorFocused,D.backgroundColorPressed=D.backgroundColorDefault,D.setSrc({default:I,focused:I,hovered:c,pressed:c});var t=n.buildButton(D),e=8,l=-19,i="LEFT_TOP";u.addFrameComponent(r.closeButtonName||"closeButton",t,e,l,i);var B=n.buildImageButtonAppearance(D);B.borderColorDefault="#c6c6c6",B.borderColorFocused="#e6b347",B.borderColorHovered=B.borderColorFocused,B.borderColorPressed="#e1a12d",B.backgroundColorDefault="#d0d0d0",B.backgroundColorFocused="#fdbe40",B.backgroundColorHovered=B.backgroundColorFocused,B.backgroundColorPressed=B.backgroundColorDefault,B.imageDefault=x,B.imageHovered=p,B.imagePressed=p,B.imageFocused=x;var E=n.buildButton(B),M=n.buildButton(B);M.style.display="none";var e=28,l=-19,i="LEFT_TOP";u.addFrameComponent("minimizeButton",E,e,l,i),u.addFrameComponent("deminimizeButton",M,e,l,i);var F=n.buildImageButtonAppearance(D);F.borderColorDefault="#c6c6c6",F.borderColorFocused="#67b657",F.borderColorHovered=F.borderColorFocused,F.borderColorPressed="#00af38",F.backgroundColorDefault="#d0d0d0",F.backgroundColorFocused="#34ca49",F.backgroundColorHovered=F.backgroundColorFocused,F.backgroundColorPressed=F.backgroundColorDefault,F.imageDefault=x,F.imageHovered=d,F.imagePressed=d,F.imageFocused=x;var f=n.buildButton(F),O=n.buildImageButtonAppearance(D);O.borderColorDefault="#c6c6c6",O.borderColorFocused="#67b657",O.borderColorHovered=O.borderColorFocused,O.borderColorPressed="#00af38",O.backgroundColorDefault="#d0d0d0",O.backgroundColorFocused="#34ca49",O.backgroundColorHovered=O.backgroundColorFocused,O.backgroundColorPressed=O.backgroundColorDefault,O.imageDefault=x,O.imageHovered=m,O.imagePressed=m,O.imageFocused=x;var L=n.buildButton(O);L.style.display="none";var e=48,l=-19,i="LEFT_TOP";u.addFrameComponent("dezoomButton",L,e,l,i),u.addFrameComponent("zoomButton",f,e,l,i)}},u}A.exports.getStyle=s},"./src/presets/window/PresetWindowYosemite.js":(A,P,h)=>{var w=h("../../node_modules/merge-deeply/lib/merge-deeply.js");function s(u){var v={};v.appearanceName="yosemite",v.appearanceParam={};var o={};u&&(o=u);var r=o.maximizeButtonBehavior==="fullscreen",n=o.minimizeButtonBehavior==="minimize"?"minimizeButton":null,c=o.minimizeButtonBehavior==="hide"?"minimizeButton":null,T=o.closeButtonBehavior==="hide"?"custom-close-button":null,g=o.control,a=T,I=o.closeButtonName;return r&&(v.appearanceParam.titleBar={greenButton:"fullscreen"}),v.appearanceParam.closeButtonName=a||I||"closeButton",v.setupPresetWindow=function(C){var b={maximizeButton:"zoomButton",maximizeParam:{fullScreen:r,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:n,hideButtons:[c,T],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};g&&w({op:"overwrite-merge",object1:b,object2:g}),C.setControl(b)},v}A.exports.getPresetWindow=s},"./src/utils/CSimpleLayoutAnimator.js":(A,P,h)=>{var w=h("./src/utils/CTimer.js");function s(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}s.prototype.set=function(u){var v=this;v.targetFrame=u,v.fromWidth(u.getWidth()),v.fromHeight(u.getHeight()),v.toWidth(u.getWidth()),v.toHeight(u.getHeight());var o=u.getPosition();return v.fromPosition(o.x,o.y,o.anchor),v},s.prototype.get=function(){var u=this;return u.targetFrame},s.prototype.setDuration=function(u){var v=this;return v.durationMillis=u,v},s.prototype.setFPS=function(u){var v=this;return v.fps=u,v},s.prototype.fromPosition=function(u,v,o){var r=this;return r.pinnedAnimationEnabled=!0,r._pinX=u,r._pinY=v,r.toPosition(u,v),o&&(r._pinAnchor=o),r},s.prototype.fromWidth=function(u){var v=this;return v._crrWidth=u,v},s.prototype.fromHeight=function(u){var v=this;return v._crrHeight=u,v},s.prototype.toWidth=function(u){var v=this;return v._toWidth=u,v},s.prototype.toHeight=function(u){var v=this;return v._toHeight=u,v},s.prototype.fromAlpha=function(u){var v=this;return v._crrAlpha=u,v},s.prototype.toAlpha=function(u){var v=this;return v._toAlpha=u,v},s.prototype.ease=function(u){var v=this;return v._ease=u,v},s.prototype.toPosition=function(u,v){var o=this;return o._toX=u,o._toY=v,o},s.prototype.toX=function(u){var v=this;return v._toX=u,v},s.prototype.toY=function(u){var v=this;return v._toY=u,v},s.prototype.start=function(u,v){var o=this,r=o._crrWidth,n=o._crrHeight,c=o._pinX,T=o._pinY,g=o._crrAlpha;return new Promise(function(a,I){var C=parseInt(o.fps*(o.durationMillis/1e3));C==0&&(C=1);var b=(o._toWidth-r)/C,y=(o._toHeight-n)/C,d=(o._toX-c)/C,m=(o._toY-T)/C,p=(o._toAlpha-g)/C;o._ease&&(p=p/1.24);var _=o.durationMillis/C,x=0;function D(){var e=new w;e.setIntervalMillis(_),e.setCallback(function(l){if(x==C){var i=o._toWidth,B=o._toHeight,E=c+d*x,M=T+m*x,F=o._toAlpha;o.pinnedAnimationEnabled&&o.targetFrame._setPositionInternally(E,M,o._pinAnchor,i,B),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=F),o.targetFrame.setSize(i,B,!0),o._crrWidth=i,o._crrHeight=B,o._pinX=E,o._pinY=M}if(x==C+1){l.stopTimer(),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=o._toAlpha),a(o);return}var i=r+b*x,B=n+y*x,E=c+d*x,M=T+m*x,F=g+p*x;if(o.pinnedAnimationEnabled&&o.targetFrame._setPositionInternally(E,M,o._pinAnchor,i,B),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=F),o.targetFrame.setSize(i,B,!0),x==0){var f=o.targetFrame.parentCanvas;if(f){var O=f.getWindow(o.targetFrame.id);O&&o.targetFrame.show({requestFocus:v})}}x++}),e.startTimer()}if(u){var t=new w;t.setIntervalMillis(u),t.setCallback(function(e){e.stopTimer(),D()}),t.startTimer()}else D()})},A.exports=s},"./src/utils/CTimer.js":A=>{var P=function(){function h(){var w=this;w._timerId=null,w._isRunning=!1,w._timerInterval=0,w._internalCallback=s,w._timerMethod=null;function s(){w._timerMethod&&w._timerMethod(w),w._isRunning&&(clearTimeout(w._timerId),w._timerId=setTimeout(w._internalCallback,w._timerInterval))}}return h.prototype.setCallback=function(w){var s=this;return s._timerMethod=w,s},h.prototype.setIntervalMillis=function(w){var s=this;return s._timerInterval=w,s},h.prototype.stopTimer=function(){var w=this;return w._isRunning=!1,w},h.prototype.startTimer=function(){var w=this;return w._timerInterval>0&&(w._timerId=setTimeout(w._internalCallback,w._timerInterval),w._isRunning=!0),w},h}();A.exports=P},"./src/utils/Inherit.js":A=>{function P(h,w){function s(){}s.prototype=w.prototype,h.prototype=new s,h.prototype.constructor=h,h.superConstructor=w,h.superClass=w.prototype}A.exports=P},"./src/utils/ObjectAssigner.js":A=>{var P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function h(u,v,o){return v in u?Object.defineProperty(u,v,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[v]=o,u}function w(u){return u&&(typeof u=="undefined"?"undefined":P(u))==="object"&&!Array.isArray(u)}function s(u){for(var v=arguments.length,o=Array(v>1?v-1:0),r=1;r<v;r++)o[r-1]=arguments[r];if(!o.length)return u;var n=o.shift();if(w(u)&&w(n))for(var c in n)w(n[c])?(u[c]||Object.assign(u,h({},c,{})),s(u[c],n[c])):Object.assign(u,h({},c,n[c]));return s.apply(void 0,[u].concat(o))}A.exports.objectAssign=s},"./src/utils/WindowEventHelper.js":(A,P,h)=>{"use strict";var w=h("./src/utils/CSimpleLayoutAnimator.js"),s=h("./src/CCommon.js"),u=h("../../node_modules/merge-deeply/lib/merge-deeply.js"),v=h("../../node_modules/event-listener-helper/lib/event-listener-helper.js");function o(r){this.eventListenerHelper=new v,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=r,this.isWindowManagerFixed=r.frame.jsFrame.isWindowManagerFixed,r.styleDisplay&&(this.styleDisplay=r.styleDisplay),r.minimizeButton&&(this.minimizeButton=r.minimizeButton),r.deminimizeButton&&(this.deminimizeButton=r.deminimizeButton),r.maximizeButton&&(this.maximizeButton=r.maximizeButton),r.demaximizeButton&&(this.demaximizeButton=r.demaximizeButton),r.hideButton&&(this.hideButton=r.hideButton),r.hideButtons&&(this.hideButtons=r.hideButtons),this.maximizeParam=r.maximizeParam,this.demaximizeParam=r.demaximizeParam,this.minimizeParam=r.minimizeParam,this.deminimizeParam=r.deminimizeParam,this.hideParam=r.hideParam,this.dehideParam=r.dehideParam,r.horizontalAlign&&(this.horizontalAlign=r.horizontalAlign),r.verticalAlign&&(this.verticalAlign=r.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=r.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},r.animation&&(this.animationEnabled=r.animation),r.animationDuration&&(this.animationDuration=r.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}o.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",o.prototype.on=function(r,n){var c=this;c.eventListeners[r]=n},o.prototype.doMaximize=function(r){var n=this;if(n.windowMode==="hid")throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if(n.windowMode==="maximized"||n.windowMode==="maximizing")return;n.windowMode="maximizing";var c=n.frame;if(r&&r.matchParent){var T=c.getWindowManager(),g=T.getParentElement();if(!n.matchParentResizeObserver){var a=new MutationObserver(function(){n.resizeListener()});a.observe(g,{attributeFilter:[o.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),n.matchParentResizeObserver=a}}else n.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||n.eventListenerHelper.addEventListener(window,"resize",n.resizeListener,{listenerName:"window-resize-listener"});n.saveCurrentWindowStats("maximize_mode"),n.hideTitleBar=r?r.fullScreen:!1,n.hideTitleBar?c.hideAllVisibleFrameComponents():(n.maximizeButton&&c.hideFrameComponent(n.maximizeButton),n.demaximizeButton&&c.showFrameComponent(n.demaximizeButton,n.styleDisplay)),c.setMovable(!1),c.setResizable(!1),r&&r.restoreKey&&(n.restoreKey=r.restoreKey),r&&r.restoreDuration&&(n.restoreDuration=r.restoreDuration),r&&r.restoreCallback&&(n.restoreCallback=r.restoreCallback),n.renderMaximizedMode({animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,matchParent:r&&r.matchParent?r.matchParent:!1})},o.prototype.renderMaximizedMode=function(r){var n=this,c=n.frame,T=n.loadWindowStats("maximize_mode"),g=0,a=0,I=0,C=0;n.hideTitleBar&&(g=0,a=-T.titleBarHeight);var b=window.innerWidth,y=window.innerHeight;if(r.matchParent){var d=c.getWindowManager(),m=d.getParentElement();b=m.clientWidth,y=m.clientHeight}n.hideFrameBorder?(I=b,C=y+(n.hideTitleBar?T.titleBarHeight:0)):(I=b-T.frameBorderWidthDefault*2,C=y-T.frameBorderWidthDefault*2+(n.hideTitleBar?T.titleBarHeight:0)),n.horizontalAlign=="right"&&(g=-I),n.verticalAlign=="bottom"&&(a=-C);var p=function(_){var x=_&&_.disableCallback;if(c.setPosition(g,a),n.hideFrameBorder&&(c.frameBorderWidthDefault=0,c.frameBorderWidthFocused=0,c.htmlElement.style.borderWidth="0px"),c.setSize(I,C,!0),x)return;n.hideTitleBar&&(n.restoreKey&&(n.keyListener=function(D){D.code===n.restoreKey&&n.doCommand("restore")}),window.addEventListener("keydown",n.keyListener),c.iframe&&c.iframe.contentWindow.addEventListener("keydown",n.keyListener)),n.windowMode="maximized",r&&r.callback&&r.callback(n.frame,{eventType:"maximized"}),n.eventListeners.maximized&&n.eventListeners.maximized(n.frame,{eventType:"maximized"})};r&&r.animation?n.animateFrame({frame:c,from:T,to:{left:g,top:a,width:I,height:C},duration:r.duration?r.duration:n.animationDuration,callback:p}):r&&r.caller==="handleOnResize"?p({disableCallback:!0}):p()},o.prototype.getWindowMode=function(){return this.windowMode},o.prototype.doDemaximize=function(r){var n=this,c=n.frame;if(n.windowMode==="hid")throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");if(!n.hasWindowStats("maximize_mode"))return;n.hideTitleBar||(n.maximizeButton&&c.showFrameComponent(n.maximizeButton,n.styleDisplay),n.demaximizeButton&&c.hideFrameComponent(n.demaximizeButton)),n.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,forceShowFrameComponents:n.animationEnabled&&n.hideTitleBar,duration:r&&r.duration?r.duration:null,eventType:"demaximized"})},o.prototype.handleOnResize=function(){var r=this;r.renderMaximizedMode({caller:"handleOnResize"})},o.prototype.handleOnVirtualResize=function(){var r=this;r.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},o.prototype.doMinimize=function(r){var n=this;if(n.windowMode==="minimized"||n.windowMode==="minimizing")return;n.windowMode="minimizing";var c=n.frame;n.saveCurrentWindowStats("minimize_mode"),c.setResizable(!1),n.renderMinimizedMode({animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,toWidth:r&&r.toWidth?r.toWidth:null})},o.prototype.renderMinimizedMode=function(r){var n=this,c=n.frame,T=n.loadWindowStats("minimize_mode"),g=n.getCurrentWindowStats(),a=n.getCurrentWindowStats();a.height=T.titleBarHeight,r&&r.toWidth&&(a.width=r.toWidth);var I=function(){var C=!0;c.setSize(a.width,a.height,C),n.windowMode="minimized",n.minimizeButton&&c.hideFrameComponent(n.minimizeButton),n.deminimizeButton&&c.showFrameComponent(n.deminimizeButton,n.styleDisplay),r.callback&&r.callback(n.frame,{eventType:"minimized"}),n.eventListeners.minimized&&n.eventListeners.minimized(n.frame,{eventType:"minimized"})};r&&r.animation?n.animateFrame({toAlpha:1,duration:r.duration?r.duration:n.animationDuration,frame:c,from:g,to:a,callback:I}):I()},o.prototype.doDeminimize=function(r){var n=this,c=n.frame;if(!n.hasWindowStats("minimize_mode"))return;n.minimizeButton&&c.showFrameComponent(n.minimizeButton,n.styleDisplay),n.deminimizeButton&&c.hideFrameComponent(n.deminimizeButton),n.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:n.animationEnabled,duration:r&&r.duration?r.duration:null,callback:r&&r.callback?r.callback:null,eventType:"deminimized"})},o.prototype.doHide=function(r){var n=this;if(n.windowMode==="hid"||n.windowMode==="hiding")return;n.windowMode="hiding";var c=n.frame;n.saveCurrentWindowStats("hide_mode"),c.setResizable(!1);var T={animation:n.animationEnabled};r&&u({op:"overwrite-merge",object1:T,object2:r}),n.renderHideMode(T)},o.prototype.renderHideMode=function(r){var n=this,c=n.frame,T=n.loadWindowStats("hide_mode"),g=n.getCurrentWindowStats(),a={x:0,y:0},I=r.toElement;r.offset&&(a=r.offset);var C=0,b=0;{var y=r&&r.align?r.align:"LEFT_TOP";if(!y||s.LEFT_TOP==y)C=g.left,b=g.top;else if(s.HCENTER_TOP==y)C=g.left+g.width/2,b=g.top;else if(s.RIGHT_TOP==y)C=g.left+g.width,b=g.top;else if(s.LEFT_VCENTER==y)C=g.left,b=g.top+g.height/2;else if(s.HCENTER_VCENTER==y)C=g.left+g.width/2,b=g.top+g.height/2;else if(s.RIGHT_VCENTER==y)C=g.left+g.width,b=g.top+g.height/2;else if(s.LEFT_BOTTOM==y)C=g.left,b=g.top+g.height;else if(s.HCENTER_BOTTOM==y)C=g.left+g.width/2,b=g.top+g.height;else if(s.RIGHT_BOTTOM==y)C=g.left+g.width,b=g.top+g.height;else if(y=="ABSOLUTE")if(I){var d=I.getBoundingClientRect();n.isWindowManagerFixed?(C=d.left,b=d.top):(C=d.left+window.pageXOffset,b=d.top+window.pageYOffset)}else C=a.x,b=a.y}var m={left:C,top:b,width:0,height:T.titleBarHeight},p=function(){var _=!0;c.setSize(m.width,m.height,_),n.windowMode="hid",r&&r.callback&&r.callback(n.frame,{eventType:"hid"}),n.eventListeners.hid&&n.eventListeners.hid(n.frame,{eventType:"hid"})};c.hideAllVisibleFrameComponents(),r&&r.animation?n.animateFrame({fromAlpha:r.silent?0:1,toAlpha:0,ease:!0,duration:r.duration?r.duration:n.animationDuration,frame:c,from:g,to:m,callback:p}):p()},o.prototype.doDehide=function(r){var n=this,c=n.frame;if(!n.hasWindowStats("hide_mode"))return;n.restoreWindow({duration:r&&r.duration?r.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:n.animationEnabled,forceShowFrameComponents:!0,callback:r&&r.callback?r.callback:null,eventType:"dehided"})},o.prototype.loadWindowStats=function(r){var n=this;return n.statsStore[r]},o.prototype.saveCurrentWindowStats=function(r){var n=this,c=n.getCurrentWindowStats();if(n.hasWindowStats(r)){var T=n.loadWindowStats(r),g=!n.windowStatsEquals(c,T);return g&&(n.statsStore[r]=c),g}else return n.statsStore[r]=c,!0},o.prototype.windowStatsEquals=function(r,n){if(r&&n){var c=JSON.stringify(r)===JSON.stringify(n);return c}else return!1},o.prototype.clearWindowStats=function(r){var n=this;n.statsStore[r]=null},o.prototype.hasWindowStats=function(r){var n=this;return n.statsStore[r]},o.prototype.getCurrentWindowStats=function(){var r=this,n=r.frame,c=parseInt(n.titleBar.style.height,10),T=n.frameBorderWidthDefault,g=n.frameBorderWidthFocused,a=n.getLeft(),I=n.getTop(),C=n.getWidth(),b=n.getHeight(),y=n.resizable,d=n.movable;return{left:a,top:I,width:C,height:b,titleBarHeight:c,frameBorderWidthDefault:T,frameBorderWidthFocused:g,resizable:y,movable:d}},o.prototype.restoreWindow=function(r){var n=this,c=n.frame,T=n.loadWindowStats(r.restoreMode),g=n.getCurrentWindowStats();c.frameBorderWidthDefault=T.frameBorderWidthDefault,c.frameBorderWidthFocused=T.frameBorderWidthFocused,c.htmlElement.style.borderWidth=c.frameBorderWidthFocused;var a=function(){r&&r.restorePosition==!1&&(T.left=g.left,T.top=g.top),c.setPosition(T.left,T.top);var I=!0;c.setSize(T.width,T.height,I),c.setResizable(T.resizable),c.setMovable(T.movable),n.clearWindowStats(r.restoreMode),n.keyListener&&(window.removeEventListener("keydown",n.keyListener),c.iframe&&c.iframe.contentWindow.removeEventListener("keydown",n.keyListener),n.keyListener=null),n.windowMode="default",r&&r.forceShowFrameComponents&&c.showAllVisibleFrameComponents(),c.show();var C="restored";r&&r.eventType&&(C=r.eventType),r&&r.callback&&r.callback(n.frame,{eventType:C}),n.eventListeners[C]&&n.eventListeners[C](n.frame,{eventType:C})};r&&r.animation?n.animateFrame({duration:r.duration?r.duration:n.animationDuration,frame:c,fromAlpha:0,toAlpha:1,from:g,to:T,callback:a}):a(),n.eventListenerHelper.removeEventListener(window,"resize",n.resizeListener),n.matchParentResizeObserver&&(n.matchParentResizeObserver.disconnect(),n.matchParentResizeObserver=null)},o.prototype.animateFrame=function(r){var n=this,c=!1,T=isNaN(r.fromAlpha)?1:r.fromAlpha,g=r.from,a=r.to,I=new w;I.set(r.frame).setDuration(r.duration?r.duration:n.animationDuration).fromPosition(g.left,g.top,"LEFT_TOP").toPosition(a.left,a.top,"LEFT_TOP").fromWidth(g.width).fromHeight(g.height).toWidth(a.width).toHeight(a.height).fromAlpha(T).toAlpha(r.toAlpha==0?0:1).ease(r.ease).start(0,c).then(function(C){r.callback()})},o.prototype.doCommand=function(r,n){var c=this;r==="maximize"&&c._defaultFunctionMaximize(c.frame),r==="demaximize"&&c._defaultFunctionDemaximize(c.frame),r==="restore"&&c._defaultFunctionRestoreFromFullscreen(c.frame),r==="minimize"&&c._defaultFunctionMinimize(c.frame),r==="deminimize"&&c._defaultFunctionDeminimize(c.frame),r==="hide"&&c._defaultFunctionHide(c.frame),r==="dehide"&&c._defaultFunctionDehide(c.frame)},o.prototype._defaultFunctionMaximize=function(r,n){var c=this,T=c.opts,g={fullScreen:T.maximizeWithoutTitleBar===!0,restoreKey:T.restoreKey?T.restoreKey:"Escape",restoreDuration:T.restoreDuration};this.maximizeParam&&u({op:"overwrite-merge",object1:g,object2:this.maximizeParam}),r.control.doMaximize(g)},o.prototype._defaultFunctionDemaximize=function(r,n){r.control.doDemaximize({})},o.prototype._defaultFunctionRestoreFromFullscreen=function(r,n){var c=this;r.control.doDemaximize({duration:c.restoreDuration?c.restoreDuration:null,callback:c.restoreCallback?c.restoreCallback:null})},o.prototype._defaultFunctionMinimize=function(r,n){r.control.doMinimize(this.minimizeParam)},o.prototype._defaultFunctionDeminimize=function(r,n){r.control.doDeminimize(this.deminimizeParam)},o.prototype._defaultFunctionHide=function(r,n){var c={align:"CENTER_BOTTOM"};this.hideParam&&(c=this.hideParam),r.control.doHide(c)},o.prototype._defaultFunctionDehide=function(r,n){var c=this;r.control.doDehide(c.dehideParam)},o.prototype.setupDefaultEvents=function(){var r=this;if(r.maximizeButton&&r.frame.on(r.maximizeButton,"click",r._defaultFunctionMaximize.bind(r)),r.demaximizeButton&&r.frame.on(r.demaximizeButton,"click",r._defaultFunctionDemaximize.bind(r)),r.minimizeButton&&r.frame.on(r.minimizeButton,"click",r._defaultFunctionMinimize.bind(r)),r.deminimizeButton&&r.frame.on(r.deminimizeButton,"click",r._defaultFunctionDeminimize.bind(r)),r.hideButton&&r.frame.on(r.hideButton,"click",r._defaultFunctionHide.bind(r)),r.hideButtons)for(var n in r.hideButtons){var c=r.hideButtons[n];c&&r.frame.on(c,"click",r._defaultFunctionHide.bind(r))}},A.exports=o}},$={};function Y(A){if($[A])return $[A].exports;var P=$[A]={id:A,exports:{}};return ie[A].call(P.exports,P,P.exports,Y),P.exports}return(()=>{Y.n=A=>{var P=A&&A.__esModule?()=>A.default:()=>A;return Y.d(P,{a:P}),P}})(),(()=>{Y.d=(A,P)=>{for(var h in P)Y.o(P,h)&&!Y.o(A,h)&&Object.defineProperty(A,h,{enumerable:!0,get:P[h]})}})(),(()=>{Y.o=(A,P)=>Object.prototype.hasOwnProperty.call(A,P)})(),(()=>{Y.r=A=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}})(),Y("./src/index.js")})()});
