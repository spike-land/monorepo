/*! jsframe v8.4.13 Copyright (c) 2007-2020 Tom Misawa */(function($,G){if(typeof exports=="object"&&typeof module=="object")module.exports=G();else if(typeof define=="function"&&define.amd)define([],G);else{var L=G();for(var P in L)(typeof exports=="object"?exports:$)[P]=L[P]}})(self,function(){return(()=>{var ie={"../../node_modules/@riversun/event-emitter/lib/event-emitter.js":function(L){/*! event-emitter(https://github.com/riversun/event-emitter) v1.5.0 Copyright (c) 2020 riversun.org@gmail.com */!function(P,h){L.exports=h()}(this,function(){return(()=>{"use strict";var P={561:(u,s,y)=>{function o(v,d){return function(f){if(Array.isArray(f))return f}(v)||function(f,p){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(f)))return;var B=[],x=!0,D=!1,t=void 0;try{for(var e,l=f[Symbol.iterator]();!(x=(e=l.next()).done)&&(B.push(e.value),!p||B.length!==p);x=!0);}catch(i){D=!0,t=i}finally{try{x||l.return==null||l.return()}finally{if(D)throw t}}return B}(v,d)||n(v,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function r(v,d){var f;if(typeof Symbol=="undefined"||v[Symbol.iterator]==null){if(Array.isArray(v)||(f=n(v))||d&&v&&typeof v.length=="number"){f&&(v=f);var p=0,B=function(){};return{s:B,n:function(){return p>=v.length?{done:!0}:{done:!1,value:v[p++]}},e:function(e){throw e},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,D=!0,t=!1;return{s:function(){f=v[Symbol.iterator]()},n:function(){var e=f.next();return D=e.done,e},e:function(e){t=!0,x=e},f:function(){try{D||f.return==null||f.return()}finally{if(t)throw x}}}}function n(v,d){if(v){if(typeof v=="string")return m(v,d);var f=Object.prototype.toString.call(v).slice(8,-1);return f==="Object"&&v.constructor&&(f=v.constructor.name),f==="Map"||f==="Set"?Array.from(v):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?m(v,d):void 0}}function m(v,d){(d==null||d>v.length)&&(d=v.length);for(var f=0,p=new Array(d);f<d;f++)p[f]=v[f];return p}function F(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}function g(v,d){for(var f=0;f<d.length;f++){var p=d[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}function a(v,d,f){return d&&g(v.prototype,d),f&&g(v,f),v}y.d(s,{default:()=>S});var S=function(){function v(d){if(F(this,v),this.onListeners=new Map,this.onlyListeners=new Map,d){var f,p=r(d);try{for(p.s();!(f=p.n()).done;){var B=f.value,x=new C;this.onListeners.set(B,x)}}catch(D){p.e(D)}finally{p.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return a(v,[{key:"on",value:function(d,f){var p=this.onListeners.get(d);if(p||(p=new C,this.onListeners.set(d,p)),p.addListenerFunc(f),this.onIntercepterFuncs)for(var B=0,x=Object.entries(this.onIntercepterFuncs);B<x.length;B++){var D=o(x[B],2),t=D[0];(0,D[1])({eventType:d,func:f,onIntercepterFuncname:t})}}},{key:"removeListener",value:function(d,f){var p=this.onListeners.get(d);p&&p.removeListener(f)}},{key:"only",value:function(d,f,p){var B=this.onlyListeners.get(d);B||(B=new b,this.onlyListeners.set(d,B)),B.putListenerFunc(f,p)}},{key:"pipe",value:function(d){this.childEventEmitters.push(d)}},{key:"emit",value:function(d,f){var p=this.onListeners.get(d);p&&(f.eventType=d,p.callListenerFunc(f));var B=this.onlyListeners.get(d);B&&(f.eventType=d,B.callListenerFunc(f));var x,D=r(this.childEventEmitters);try{for(D.s();!(x=D.n()).done;)x.value.emit(d,f)}catch(t){D.e(t)}finally{D.f()}}},{key:"getAllListeners",value:function(){var d={};this.onListeners.forEach(function(x,D){var t=D,e=x.getAllListeners();d[t]||(d[t]={}),d[t].listeners=e});var f,p=0,B=r(this.childEventEmitters);try{for(B.s();!(f=B.n()).done;)f.value.onListeners.forEach(function(x,D){var t=D,e=x.getAllListeners();d[t]||(d[t]={}),d[t].childEventEmitters||(d[t].childEventEmitters=[]),d[t].childEventEmitters.push({childEmitterIdx:p,listeners:e})}),p++}catch(x){B.e(x)}finally{B.f()}return d}},{key:"hasListenerFuncs",value:function(d){if(this.onListeners.has(d)){var f=this.onListeners.get(d);if(f&&f.hasListenerFunc())return!0}var p,B=r(this.childEventEmitters);try{for(B.s();!(p=B.n()).done;)if(p.value.hasListenerFuncs(d))return!0}catch(x){B.e(x)}finally{B.f()}return!1}},{key:"clearAll",value:function(){var d,f=r(this.onListeners.values());try{for(f.s();!(d=f.n()).done;)d.value.clearAll()}catch(x){f.e(x)}finally{f.f()}this.onListeners.clear();var p,B=r(this.onlyListeners.values());try{for(B.s();!(p=B.n()).done;)p.value.clearAll()}catch(x){B.e(x)}finally{B.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(d,f){if(this.onIntercepterFuncs[d])throw Error('Always registered intercepter func "'.concat(d,'".'));this.onIntercepterFuncs[d]=f}},{key:"removeOnIntercepterFunc",value:function(d){delete this.onIntercepterFuncs[d]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var d=[],f=0,p=Object.entries(this.onIntercepterFuncs);f<p.length;f++){var B=o(p[f],2),x=B[0],D=B[1];d.push({funcName:x,func:D})}return d}}]),v}(),C=function(){function v(){F(this,v),this.listenerFuncs=[]}return a(v,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(d){this.listenerFuncs.push(d)}},{key:"callListenerFunc",value:function(d){var f,p=r(this.listenerFuncs);try{for(p.s();!(f=p.n()).done;){var B=f.value;if(this.typeOf(B)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(B,'".Check args of #only method or #on method.'));B(d)}}catch(x){p.e(x)}finally{p.f()}}},{key:"removeListener",value:function(d){this.removeArrayItemOnce(this.listenerFuncs,d)}},{key:"removeArrayItemOnce",value:function(d,f){var p=d.indexOf(f);return p>-1&&d.splice(p,1),d}},{key:"typeOf",value:function(d){return Object.prototype.toString.call(d).slice(8,-1)}}]),v}(),b=function(){function v(){F(this,v),this.listenerFuncMap=new Map}return a(v,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(d){return this.listenerFuncMap.has(d)}},{key:"putListenerFunc",value:function(d,f){this.listenerFuncMap.set(d,f)}},{key:"callListenerFunc",value:function(d){var f,p=r(this.listenerFuncMap.values());try{for(p.s();!(f=p.n()).done;){var B=f.value;if(this.typeOf(B)!=="Function")throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(B,'".Check args of #only method or #on method.'));B(d)}}catch(x){p.e(x)}finally{p.f()}}},{key:"typeOf",value:function(d){return Object.prototype.toString.call(d).slice(8,-1)}}]),v}()}},h={};function w(u){if(h[u])return h[u].exports;var s=h[u]={exports:{}};return P[u](s,s.exports,w),s.exports}return w.d=(u,s)=>{for(var y in s)w.o(s,y)&&!w.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:s[y]})},w.o=(u,s)=>Object.prototype.hasOwnProperty.call(u,s),w(561)})().default})},"../../node_modules/event-listener-helper/lib/event-listener-helper.js":function(L){/*! event-listener-helper(https://github.com/riversun/event-listener-helper) v1.1.2 Copyright (c) 2020 riversun.org@gmail.com */!function(P,h){L.exports=h()}(this,function(){return function(P){var h={};function w(u){if(h[u])return h[u].exports;var s=h[u]={i:u,l:!1,exports:{}};return P[u].call(s.exports,s,s.exports,w),s.l=!0,s.exports}return w.m=P,w.c=h,w.d=function(u,s,y){w.o(u,s)||Object.defineProperty(u,s,{enumerable:!0,get:y})},w.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},w.t=function(u,s){if(1&s&&(u=w(u)),8&s)return u;if(4&s&&typeof u=="object"&&u&&u.__esModule)return u;var y=Object.create(null);if(w.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:u}),2&s&&typeof u!="string")for(var o in u)w.d(y,o,function(r){return u[r]}.bind(null,o));return y},w.n=function(u){var s=u&&u.__esModule?function(){return u.default}:function(){return u};return w.d(s,"a",s),s},w.o=function(u,s){return Object.prototype.hasOwnProperty.call(u,s)},w.p="/",w(w.s=0)}([function(P,h,w){P.exports=w(1)},function(P,h,w){"use strict";function u(F){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(F)}function s(F,g){return function(a){if(Array.isArray(a))return a}(F)||function(a,S){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(a)))return;var C=[],b=!0,v=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(b=(f=p.next()).done)&&(C.push(f.value),!S||C.length!==S);b=!0);}catch(B){v=!0,d=B}finally{try{b||p.return==null||p.return()}finally{if(v)throw d}}return C}(F,g)||o(F,g)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(F,g){var a;if(typeof Symbol=="undefined"||F[Symbol.iterator]==null){if(Array.isArray(F)||(a=o(F))||g&&F&&typeof F.length=="number"){a&&(F=a);var S=0,C=function(){};return{s:C,n:function(){return S>=F.length?{done:!0}:{done:!1,value:F[S++]}},e:function(f){throw f},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,v=!0,d=!1;return{s:function(){a=F[Symbol.iterator]()},n:function(){var f=a.next();return v=f.done,f},e:function(f){d=!0,b=f},f:function(){try{v||a.return==null||a.return()}finally{if(d)throw b}}}}function o(F,g){if(F){if(typeof F=="string")return r(F,g);var a=Object.prototype.toString.call(F).slice(8,-1);return a==="Object"&&F.constructor&&(a=F.constructor.name),a==="Map"||a==="Set"?Array.from(F):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(F,g):void 0}}function r(F,g){(g==null||g>F.length)&&(g=F.length);for(var a=0,S=new Array(g);a<g;a++)S[a]=F[a];return S}function n(F,g){for(var a=0;a<g.length;a++){var S=g[a];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(F,S.key,S)}}w.r(h),w.d(h,"default",function(){return m});var m=function(){function F(){!function(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}(this,F),this.evTargetListenersMap=new Map,this.listenerNum=0}var g,a,S;return g=F,(a=[{key:"addEventListener",value:function(C,b,v,d){var f=this,p=null;if(d&&(p=this._cloneJson(d)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(p);var B=null;p&&p.listenerName&&(B=p.listenerName);var x=null;p&&p.once&&(delete p.once,p.callbackOnce=!0,x=function(i){v(i),f.removeEventListener(C,b,null,p)});var D={listenerName:null,success:!0};x?C.addEventListener(b,x,p):C.addEventListener(b,v,p);var t=this.evTargetListenersMap.get(C);t||(t=new Map,this.evTargetListenersMap.set(C,t));var e=t.get(b);if(e||(e=new Map,t.set(b,e)),B!==null){if(e.has(B))throw Error('The listenerName "'.concat(B,'" is already used for the specified event type ').concat(b));e.set(B,{listener:v,onceListener:x,options:p}),D.listenerName=B}else{var l="listener-".concat(this.listenerNum);p||(p={}),p.listenerName=l,e.set(l,{listener:v,onceListener:x,options:p}),D.listenerName=l,this.listenerNum+=1}return D}},{key:"removeEventListener",value:function(C,b,v,d){if(arguments.length<3)throw Error("Three or four arguments are required.");if(this.typeOf(v)!=="Function"&&this.typeOf(v)!=="Null")throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(d);var f=null;d&&d.listenerName&&(f=d.listenerName);var p={success:!1,message:"unknown error"},B=this.evTargetListenersMap.get(C);if(!B)return p.message="DOM element ".concat(C,"(id=").concat(C.id,") doesn't have any listeners."),p;var x=B.get(b);if(!x)return p.message="DOM element ".concat(C,"(id=").concat(C.id,`) doesn't have "`).concat(b,'" listeners.'),p;if(f){var D=x.get(f);if(!D)return p.message="DOM element ".concat(C,"(id=").concat(C.id,`) doesn't have "`).concat(b,'" listener "').concat(f,'"'),p;x.delete(f),D.options&&D.options.callbackOnce?C.removeEventListener(b,D.onceListener,D.options):C.removeEventListener(b,D.listener,D.options),p.success=!0}else if(!f){if(!v)return p.message="options.listenerName is not found",p;var t="listener",e=v,l=this._searchKeyInValueContent(x,t,e);if(l){var i=x.get(l),_=i.onceListener,E=i.options;x.delete(l),_?C.removeEventListener(b,_,E):C.removeEventListener(b,v,E),p.success=!0}else p.success=!1,p.message="Specified listener could not be deleted from DOM element ".concat(C,"(id=").concat(C.id,`).
        Since the specified listener is not registered as an event listener,
        it may have been registered outside of event-listener-helper.`)}return p}},{key:"getEventListeners",value:function(C,b){return C?b?this._getEventListenersWith2Args(C,b):this._getEventListenersWith1Arg(C):[]}},{key:"getAllEventListeners",value:function(){var C=this,b=new Map;return this.evTargetListenersMap.forEach(function(v,d){var f=d,p=C._getEventListenersWith1Arg(f),B=new Map;b.set(f,B);var x,D=y(p);try{for(D.s();!(x=D.n()).done;){var t=x.value;B.set(t.eventType,t.listeners)}}catch(e){D.e(e)}finally{D.f()}}),b}},{key:"_getEventListenersWith1Arg",value:function(C){var b=[],v=this.evTargetListenersMap.get(C);if(!v)return b;var d,f=y(v);try{for(f.s();!(d=f.n()).done;){var p,B=s(d.value,2),x=B[0],D=B[1],t=[],e=y(D.values());try{for(e.s();!(p=e.n()).done;){var l=p.value;t.push(this._getFrozenListenerDef(l))}}catch(i){e.e(i)}finally{e.f()}t.length>0&&b.push({eventType:x,listeners:t})}}catch(i){f.e(i)}finally{f.f()}return b}},{key:"_getEventListenersWith2Args",value:function(C,b){if(arguments.length!==2)throw Error("Only two arguments can be specified");var v=[],d=this.evTargetListenersMap.get(C);if(!d)return v;var f=d.get(b);if(!f)return v;var p,B=y(f.values());try{for(B.s();!(p=B.n()).done;){var x=p.value,D=this._getFrozenListenerDef(x);v.push(D)}}catch(t){B.e(t)}finally{B.f()}return v}},{key:"getEventListener",value:function(C,b,v){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var d=this.evTargetListenersMap.get(C);if(!d)return null;var f=d.get(b);if(!f)return null;var p=f.get(v),B=this._getFrozenListenerDef(p);return B}},{key:"hasEventListeners",value:function(C,b){if(arguments.length!==2)throw Error("Only two arguments can be specified");var v=this.evTargetListenersMap.get(C);if(!v)return!1;var d=v.get(b);return!(!d||d.size===0)}},{key:"hasEventListener",value:function(C,b,v){if(arguments.length!==3)throw Error("Only 3 arguments can be specified");var d=this.evTargetListenersMap.get(C);if(!d)return!1;var f=d.get(b);if(!f)return!1;var p=f.get(v);return!!p}},{key:"_getFrozenListenerDef",value:function(C){if(!C)return null;var b={},v=null,d=C.options;return d&&(v={},b.options=v,d.capture&&(v.capture=d.capture),d.callbackOnce&&(v.once=d.callbackOnce),d.listenerName&&(v.listenerName=d.listenerName)),b.listener=C.listener,Object.freeze(v),Object.freeze(b),b}},{key:"clearAllEventListeners",value:function(){var C,b=y(this.getAllEventTargets());try{for(b.s();!(C=b.n()).done;){var v=C.value;this.clearEventListeners(v)}}catch(d){b.e(d)}finally{b.f()}}},{key:"clearEventListeners",value:function(C,b){if(!C)throw Error("At least the EventTarget must be specified as an argument");var v=this.getEventListeners(C,b);if(b){if(b){var d,f=y(v);try{for(f.s();!(d=f.n()).done;){var p=d.value;this.removeEventListener(C,b,null,p.options)}}catch(_){f.e(_)}finally{f.f()}}}else{var B,x=y(v);try{for(x.s();!(B=x.n()).done;){var D,t=B.value,e=t.eventType,l=y(t.listeners);try{for(l.s();!(D=l.n()).done;){var i=D.value.options;this.removeEventListener(C,e,null,i)}}catch(_){l.e(_)}finally{l.f()}}}catch(_){x.e(_)}finally{x.f()}}}},{key:"clearEventListener",value:function(C,b,v){var d=this.getEventListener(C,b,v);d&&d.options&&this.removeEventListener(C,b,null,d.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(C){var b,v=[],d=y(this.getAllEventTargets());try{for(d.s();!(b=d.n()).done;){var f,p=b.value,B=this.evTargetListenersMap.get(p),x=y(B.keys());try{for(x.s();!(f=x.n()).done;){var D=f.value,t=B.get(D),e=this._getFrozenListenerDef(t.get(C));e&&v.push(e)}}catch(l){x.e(l)}finally{x.f()}}}catch(l){d.e(l)}finally{d.f()}return v}},{key:"_searchKeyInValueContent",value:function(C,b,v){var d,f=y(C);try{for(f.s();!(d=f.n()).done;){var p=s(d.value,2),B=p[0];if(p[1][b]===v)return B}}catch(x){f.e(x)}finally{f.f()}return null}},{key:"_checkTypeOfOptions",value:function(C){if(u(C)!=="object"&&C!==void 0)throw typeof C=="boolean"?new Error(`Type of boolean is not accepted as the fourth argument you specify.
      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead.`):new Error("Type of ".concat(u(C),` is not accepted as the fourth argument you specify.
      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}.`))}},{key:"_cloneJson",value:function(C){return JSON.parse(JSON.stringify(C))}},{key:"typeOf",value:function(C){return Object.prototype.toString.call(C).slice(8,-1)}}])&&n(g.prototype,a),S&&n(g,S),F}()}]).default})},"../../node_modules/merge-deeply/lib/merge-deeply.js":function(L){/*! merge-deeply v3.0.0 Copyright (c) 2019-2020 riversun.org@gmail.com */!function(P,h){L.exports=h()}(this,function(){return function(P){var h={};function w(u){if(h[u])return h[u].exports;var s=h[u]={i:u,l:!1,exports:{}};return P[u].call(s.exports,s,s.exports,w),s.l=!0,s.exports}return w.m=P,w.c=h,w.d=function(u,s,y){w.o(u,s)||Object.defineProperty(u,s,{enumerable:!0,get:y})},w.r=function(u){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},w.t=function(u,s){if(1&s&&(u=w(u)),8&s)return u;if(4&s&&typeof u=="object"&&u&&u.__esModule)return u;var y=Object.create(null);if(w.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:u}),2&s&&typeof u!="string")for(var o in u)w.d(y,o,function(r){return u[r]}.bind(null,o));return y},w.n=function(u){var s=u&&u.__esModule?function(){return u.default}:function(){return u};return w.d(s,"a",s),s},w.o=function(u,s){return Object.prototype.hasOwnProperty.call(u,s)},w.p="/",w(w.s=0)}([function(P,h,w){P.exports=w(1)},function(P,h,w){"use strict";function u(g,a){var S;if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(S=o(g))||a&&g&&typeof g.length=="number"){S&&(g=S);var C=0,b=function(){};return{s:b,n:function(){return C>=g.length?{done:!0}:{done:!1,value:g[C++]}},e:function(p){throw p},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,d=!0,f=!1;return{s:function(){S=g[Symbol.iterator]()},n:function(){var p=S.next();return d=p.done,p},e:function(p){f=!0,v=p},f:function(){try{d||S.return==null||S.return()}finally{if(f)throw v}}}}function s(g){return function(a){if(Array.isArray(a))return r(a)}(g)||function(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}(g)||o(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(g,a){return function(S){if(Array.isArray(S))return S}(g)||function(S,C){if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))return;var b=[],v=!0,d=!1,f=void 0;try{for(var p,B=S[Symbol.iterator]();!(v=(p=B.next()).done)&&(b.push(p.value),!C||b.length!==C);v=!0);}catch(x){d=!0,f=x}finally{try{v||B.return==null||B.return()}finally{if(d)throw f}}return b}(g,a)||o(g,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o(g,a){if(g){if(typeof g=="string")return r(g,a);var S=Object.prototype.toString.call(g).slice(8,-1);return S==="Object"&&g.constructor&&(S=g.constructor.name),S==="Map"||S==="Set"?Array.from(g):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?r(g,a):void 0}}function r(g,a){(a==null||a>g.length)&&(a=g.length);for(var S=0,C=new Array(a);S<a;S++)C[S]=g[S];return C}function n(g){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(g)}function m(g,a,S){var C=function(z){return z&&n(z)==="object"&&!Array.isArray(z)},b=S&&S.concatArray,v=S.isCloneMode,d={};S&&S.assignToObject&&(d=S.assignToObject,S.assignToObject=null);var f,p,B,x=null;if(x=d===g?g:Object.assign(d,g),C(g)&&C(a))for(var D=0,t=Object.entries(a);D<t.length;D++){var e=y(t[D],2),l=e[0],i=e[1],_=g[l];if(b&&Array.isArray(i)&&Array.isArray(_)&&a!==g)x[l]=_.concat.apply(_,s(i));else if(C(i)&&Object.prototype.hasOwnProperty.call(g,l))x[l]=m(_,i,S);else{var E=i;if(v&&Array.isArray(i)){var M,T=[],c=u(i);try{for(c.s();!(M=c.n()).done;){var O=M.value,R=JSON.parse(JSON.stringify(O));T.push(R)}}catch(z){c.e(z)}finally{c.f()}E=T}Object.assign(x,(B=E,(p=l)in(f={})?Object.defineProperty(f,p,{value:B,enumerable:!0,configurable:!0,writable:!0}):f[p]=B,f))}}return x}function F(g){var a=null,S=null,C=g.op;if(!C)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var b=C==="merge",v=C==="clone",d=C==="overwrite-merge";if(b){if(a=g.object1,S=g.object2,!a||!S)throw Error("object1 or object2 is not specified.")}else if(d){if(a=g.object1,S=g.object2,!a||!S)throw Error("object1 or object2 is not specified.");if(Object.keys(S).length===0)return null}else{if(!v)throw Error('An invalid "op" property value "'.concat(C,'" has been specified.'));a=g.object1,S={}}var f,p=Object.create(Object.getPrototypeOf(a)),B=null,x=(f=a,Object.getPrototypeOf(f)!==Object.prototype);return b&&x||v?(m(a,a,{assignToObject:p,concatArray:g&&g.concatArray,isCloneMode:v}),B=p):B={},m(v?B:a,S,{assignToObject:d?a:B,concatArray:g&&g.concatArray}),B}w.r(h),w.d(h,"default",function(){return F})}]).default})},"./node_modules/css-loader/dist/cjs.js!./src/JSFrame.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>y});var w=h("./node_modules/css-loader/dist/runtime/api.js"),u=h.n(w),s=u()(function(o){return o[1]});s.push([L.id,`.jsframe-titlebar-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-titlebar-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-modal-window-background {
    background: rgba(0, 0, 0, 0.6);
    height: 100%;
    widdth: 100%
}`,""]);const y=s},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleMaterial.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>y});var w=h("./node_modules/css-loader/dist/runtime/api.js"),u=h.n(w),s=u()(function(o){return o[1]});s.push([L.id,`.jsframe-preset-style-material-default {
    background: black;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-material-focused {
    background: black;
    border-top-left-radius: 36px;
    border-top-right-radius: 36px;
}
`,""]);const y=s},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStylePopup.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>y});var w=h("./node_modules/css-loader/dist/runtime/api.js"),u=h.n(w),s=u()(function(o){return o[1]});s.push([L.id,`.jsframe-preset-style-popup-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-popup-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`,""]);const y=s},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleRedstone.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>y});var w=h("./node_modules/css-loader/dist/runtime/api.js"),u=h.n(w),s=u()(function(o){return o[1]});s.push([L.id,`.jsframe-preset-style-redstone-default {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}

.jsframe-preset-style-redstone-focused {
    background: white;
    border-top-left-radius: 0px;
    border-top-right-radius: 0px;
}
`,""]);const y=s},"./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleYosemite.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>y});var w=h("./node_modules/css-loader/dist/runtime/api.js"),u=h.n(w),s=u()(function(o){return o[1]});s.push([L.id,`.jsframe-preset-style-yosemite-default {
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));
    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);
    background: linear-gradient(top, #f5f5f5, #f8f7f2);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.jsframe-preset-style-yosemite-focused {
    /* (c)2015 Johannes Jakob
       Made with <3 in Germany */
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));
    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);
    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);
    background: linear-gradient(top, #ebebeb, #d5d5d5);
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}
`,""]);const y=s},"./node_modules/css-loader/dist/runtime/api.js":L=>{"use strict";L.exports=function(P){var h=[];return h.toString=function(){return this.map(function(u){var s=P(u);return u[2]?"@media ".concat(u[2]," {").concat(s,"}"):s}).join("")},h.i=function(w,u,s){typeof w=="string"&&(w=[[null,w,""]]);var y={};if(s)for(var o=0;o<this.length;o++){var r=this[o][0];r!=null&&(y[r]=!0)}for(var n=0;n<w.length;n++){var m=[].concat(w[n]);if(s&&y[m[0]])continue;u&&(m[2]?m[2]="".concat(u," and ").concat(m[2]):m[2]=u),h.push(m)}},h}},"./src/JSFrame.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=h.n(w),s=h("./node_modules/css-loader/dist/cjs.js!./src/JSFrame.css"),y={};y.insert="head",y.singleton=!1;var o=u()(s.default,y);const r=s.default.locals||{}},"./src/presets/appearance/PresetStyleMaterial.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=h.n(w),s=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleMaterial.css"),y={};y.insert="head",y.singleton=!1;var o=u()(s.default,y);const r=s.default.locals||{}},"./src/presets/appearance/PresetStylePopup.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=h.n(w),s=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStylePopup.css"),y={};y.insert="head",y.singleton=!1;var o=u()(s.default,y);const r=s.default.locals||{}},"./src/presets/appearance/PresetStyleRedstone.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=h.n(w),s=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleRedstone.css"),y={};y.insert="head",y.singleton=!1;var o=u()(s.default,y);const r=s.default.locals||{}},"./src/presets/appearance/PresetStyleYosemite.css":(L,P,h)=>{"use strict";h.r(P),h.d(P,{default:()=>r});var w=h("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=h.n(w),s=h("./node_modules/css-loader/dist/cjs.js!./src/presets/appearance/PresetStyleYosemite.css"),y={};y.insert="head",y.singleton=!1;var o=u()(s.default,y);const r=s.default.locals||{}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(L,P,h)=>{"use strict";var w=function(){var v;return function(){return typeof v=="undefined"&&(v=Boolean(window&&document&&document.all&&!window.atob)),v}}(),u=function(){var v={};return function(f){if(typeof v[f]=="undefined"){var p=document.querySelector(f);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch(B){p=null}v[f]=p}return v[f]}}(),s=[];function y(b){for(var v=-1,d=0;d<s.length;d++)if(s[d].identifier===b){v=d;break}return v}function o(b,v){for(var d={},f=[],p=0;p<b.length;p++){var B=b[p],x=v.base?B[0]+v.base:B[0],D=d[x]||0,t="".concat(x," ").concat(D);d[x]=D+1;var e=y(t),l={css:B[1],media:B[2],sourceMap:B[3]};e!==-1?(s[e].references++,s[e].updater(l)):s.push({identifier:t,updater:C(l,v),references:1}),f.push(t)}return f}function r(b){var v=document.createElement("style"),d=b.attributes||{};if(typeof d.nonce=="undefined"){var f=h.nc;f&&(d.nonce=f)}if(Object.keys(d).forEach(function(B){v.setAttribute(B,d[B])}),typeof b.insert=="function")b.insert(v);else{var p=u(b.insert||"head");if(!p)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");p.appendChild(v)}return v}function n(b){if(b.parentNode===null)return!1;b.parentNode.removeChild(b)}var m=function(){var v=[];return function(f,p){return v[f]=p,v.filter(Boolean).join(`
`)}}();function F(b,v,d,f){var p=d?"":f.media?"@media ".concat(f.media," {").concat(f.css,"}"):f.css;if(b.styleSheet)b.styleSheet.cssText=m(v,p);else{var B=document.createTextNode(p),x=b.childNodes;x[v]&&b.removeChild(x[v]),x.length?b.insertBefore(B,x[v]):b.appendChild(B)}}function g(b,v,d){var f=d.css,p=d.media,B=d.sourceMap;if(p?b.setAttribute("media",p):b.removeAttribute("media"),B&&typeof btoa!="undefined"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(B))))," */")),b.styleSheet)b.styleSheet.cssText=f;else{for(;b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(f))}}var a=null,S=0;function C(b,v){var d,f,p;if(v.singleton){var B=S++;d=a||(a=r(v)),f=F.bind(null,d,B,!1),p=F.bind(null,d,B,!0)}else d=r(v),f=g.bind(null,d,v),p=function(){n(d)};return f(b),function(D){if(D){if(D.css===b.css&&D.media===b.media&&D.sourceMap===b.sourceMap)return;f(b=D)}else p()}}L.exports=function(b,v){v=v||{},!v.singleton&&typeof v.singleton!="boolean"&&(v.singleton=w()),b=b||[];var d=o(b,v);return function(p){if(p=p||[],Object.prototype.toString.call(p)!=="[object Array]")return;for(var B=0;B<d.length;B++){var x=d[B],D=y(x);s[D].references--}for(var t=o(p,v),e=0;e<d.length;e++){var l=d[e],i=y(l);s[i].references===0&&(s[i].updater(),s.splice(i,1))}d=t}}},"./src/CCommon.js":L=>{CALIGN={},CALIGN.LEFT_TOP="LEFT_TOP",CALIGN.HCENTER_TOP="CENTER_TOP",CALIGN.RIGHT_TOP="RIGHT_TOP",CALIGN.LEFT_VCENTER="LEFT_CENTER",CALIGN.HCENTER_VCENTER="CENTER_CENTER",CALIGN.CENTER=CALIGN.HCENTER_VCENTER,CALIGN.RIGHT_VCENTER="RIGHT_CENTER",CALIGN.LEFT_BOTTOM="LEFT_BOTTOM",CALIGN.HCENTER_BOTTOM="CENTER_BOTTOM",CALIGN.RIGHT_BOTTOM="RIGHT_BOTTOM",L.exports=CALIGN},"./src/JSFrame.js":(L,P,h)=>{"use strict";h("./src/JSFrame.css");var w=h("../../node_modules/@riversun/event-emitter/lib/event-emitter.js"),u=h("./src/CCommon.js"),s=h("./src/utils/WindowEventHelper.js"),y=h("./src/utils/Inherit.js"),o=h("./src/appearance/CFrameAppearance.js"),r=h("./src/appearance/CDomPartsBuilder.js"),n=h("./src/utils/CSimpleLayoutAnimator.js"),m=h("../../node_modules/event-listener-helper/lib/event-listener-helper.js"),F={yosemite:h("./src/presets/appearance/PresetStyleYosemite.js"),redstone:h("./src/presets/appearance/PresetStyleRedstone.js"),popup:h("./src/presets/appearance/PresetStylePopup.js"),toast:h("./src/presets/appearance/PresetStyleToast.js"),material:h("./src/presets/appearance/PresetStyleMaterial.js")},g={yosemite:h("./src/presets/window/PresetWindowYosemite.js")},a={},S=!0,C=!0,b=!0;a.CBEAN={},a.CBEAN.HTML_ELEMENT="span",a.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",a.CBEAN.TYPE_NAME="bean";function v(t,e,l,i,_,E,M,T){var c=this;if(c.movable=!0,c.id=t,c.property={},c.extra={},c.parentCanvas=null,c.htmlElement=null,c.pullUpDisabled=!1,T&&(c.pullUpDisabled=T.pullUpDisabled),c.htmlElement=document.createElement(a.CBEAN.HTML_ELEMENT),c.htmlElement.id=a.CBEAN.HTML_ELEMENT_ID_PREFIX+t,c.htmlElement.style.position="absolute",c.htmlElement.style.left=parseInt(e,10)+"px",c.htmlElement.style.top=parseInt(l,10)+"px",c.htmlElement.style.width=parseInt(i,10)+"px",c.htmlElement.style.height=parseInt(_,10)+"px",E!==null&&(c.htmlElement.style.zIndex=E),c.htmlElement.style.borderColor="#000000",c.htmlElement.style.fontSize="1px",c.htmlElement.parent=c,S&&(c.htmlElement.onmousedown=c.onmouseDown),C&&"ontouchstart"in window){var O=function(R){R.preventDefault(),c.onmouseDown.bind(this)(R)};c.htmlElement.ontouchstart=O}c.htmlElement.typeName=a.CBEAN.TYPE_NAME,c.htmlElement.usage="nothing",c.htmlElement.isRangeLimited=!1,c.htmlElement.argX=1,c.htmlElement.argY=1,c.externalAreaClickedListener=null,c.onMoveListener=null}v.prototype.getWindowType=function(){return"CBeanFrame"},v.prototype.setOnMoveListener=function(t){var e=this;e.onMoveListener=t},v.prototype._onMove=function(t){var e=this;e.onMoveListener&&e.onMoveListener(t)},v.prototype.setMovable=function(t){var e=this;return t?(e.htmlElement.argX=1,e.htmlElement.argY=1):(e.htmlElement.argX=0,e.htmlElement.argY=0),e.movable=t,e},v.prototype.setParentCanvas=function(t){var e=this;return e.parentCanvas=t,e.htmlElement.parentCanvas=e.parentCanvas,e},v.prototype.setOnExternalAreaClickedListener=function(t){var e=this;return e.externalAreaClickedListener=t,e},v.prototype.onBodyClicked=function(t){var e=this,l=t.pageX,i=t.pageY,_=parseInt(e.htmlElement.style.left),E=parseInt(e.htmlElement.style.top),M=parseInt(e.htmlElement.style.width),T=parseInt(e.htmlElement.style.height);_<l&&l<_+M&&E<i&&i<E+T||e.externalAreaClickedListener&&e.externalAreaClickedListener()},v.prototype.onmouseDown=function(t){var e=this,l=t;if(C&&t.type==="touchstart"){var i=t.changedTouches;if(b){var _=t.touches;if(_.length===1)l=i[0];else return!0}else l=i[0]}var E=e.parent;if(l.button==0||t.type==="touchstart"){if(E.pullUpDisabled)return!1;e.parentCanvas.currentObject=e,e.parentCanvas.pullUp(E.id)}else if(l.button==2)return!1;return e.parentCanvas.currentObject&&(e.parentCanvas.offsetX=l.pageX-parseInt(e.parentCanvas.currentObject.style.left,10),e.parentCanvas.offsetY=l.pageY-parseInt(e.parentCanvas.currentObject.style.top,10)),!1},a.CANVAS={},a.CANVAS.HTML_ELEMENT="div",a.CANVAS.WIDTH_ADJUST_20180722=2,a.CANVAS.HEIGHT_ADJUST_20180722=3;function d(t,e,l,i,_,E){function M(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null}var T=this;T.enablePullUp=!0,T.currentObject=null,T.onTopObject=null,T.offsetX=0,T.offsetY=0,T.mouseDownSource=null,T.id=e,T.canvasElement=null,T.parentElement=t,T.beanList=new Array,T.beanIdName={},T.beanNameId={},T.eventData=new M,T.baseZIndex=0,T.setBaseZIndex=function(c){T.baseZIndex=c},T.getBaseZIndex=function(){return T.baseZIndex},T.canvasElement=document.createElement(a.CANVAS.HTML_ELEMENT),T.canvasElement.style.zIndex=2e3,T.canvasElement.id=T.id,T.canvasElement.style.boxSizing="border-box",T.canvasElement.style.position="absolute",T.canvasElement.style.left=parseInt(l)+"px",T.canvasElement.style.top=parseInt(i)+"px",T.canvasElement.style.width=parseInt(_)+a.CANVAS.WIDTH_ADJUST_20180722+"px",T.canvasElement.style.height=parseInt(E)+a.CANVAS.HEIGHT_ADJUST_20180722+"px",T.canvasElement.style.backgroundColor="transparent",T.canvasElement.style.borderStyle="none",T.canvasElement.style.margin="0px",T.canvasElement.style.borderWidth="0px",T.canvasElement.style.borderColor="transparent",T.parentElement.appendChild(T.canvasElement)}d.prototype.mouseMove=function(t){var e=this,l=t;if(C&&t.type==="touchmove"){var i=t.changedTouches;if(b){var _=t.touches;if(_.length===1)l=i[0];else return!0}else l=i[0]}if(e.currentObject){e.eventData.targetTypeName=e.currentObject.typeName,e.eventData.targetUsage=e.currentObject.usage,e.eventData.targetObject=e.currentObject;var E=l.pageX-e.offsetX,M=l.pageY-e.offsetY,T=l.pageX,c=l.pageY,O=e.currentObject.style.left,R=e.currentObject.style.top,z=parseInt(E,10),I=parseInt(M,10),k=z+parseInt(e.currentObject.style.width,10),N=I+parseInt(e.currentObject.style.height,10),U=parseInt(e.canvasElement.style.width,10),j=parseInt(e.canvasElement.style.height,10),A=0,W=0;if(e.currentObject.isRangeLimited==!0&&(z<=0||k>U||I<=0||N>j))A=0,W=0;else{A=parseInt(E,10)-parseInt(O,10),W=parseInt(M,10)-parseInt(R,10),e.currentObject.style.left=parseInt(e.currentObject.style.left)+A*e.currentObject.argX+"px",e.currentObject.style.top=parseInt(e.currentObject.style.top)+W*e.currentObject.argY+"px";var Y=e.currentObject.parent;Y&&Y._onMove&&Y._onMove()}return e.eventData.deltaX=A,e.eventData.deltaY=W,e.eventData}return null},d.prototype.mouseUp=function(t){var e=this;e.currentObject=null,e.mouseDownSource=null},d.prototype.pullUp=function(t){var e=this,l=[],i=e.beanList;for(var _ in i)l.push(i[_]);var E=i[t];e.enablePullUp&&e.pullUpSort(E,l,e.baseZIndex),e.onTopObject=E},d.prototype.pullUpSort=function(t,e,l){var i=this;t.htmlElement.style.zIndex=e.length+l,e.sort(function(E,M){return-parseInt(E.htmlElement.style.zIndex,10)+parseInt(M.htmlElement.style.zIndex,10)});for(var _ in e)e[_].htmlElement.style.zIndex=e.length-1-_+l},d.prototype.removeBean=function(t){var e=this,l=e.beanList,i=l[t];e.canvasElement.removeChild(i.htmlElement),delete l[t]},d.prototype.addBean=function(t){var e=this,l=e.beanList,i=e.beanIdName,_=e.beanNameId;l[t.id]=t,t.property.name&&(_[t.property.name]=t.id,i[t.id]=t.property.name);var E=0;for(var M in l)E++;t.htmlElement.style.zIndex=E+e.baseZIndex,t.setParentCanvas(e),this.canvasElement.appendChild(t.htmlElement)},d.prototype.getParentElement=function(){var t=this;return t.parentElement},a.CFRAME={},a.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",a.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",y(f,v);function f(t,e,l,i,_,E,M,T){var c=this;f.superConstructor.call(this,t,e,l,i,_,E,M,T),c.anchor=u.LEFT_TOP,c.showTitleBar=T.showTitleBar,c.canvasNetHeight=null,c.canvasNetWidth=null,c.frameHeightAdjust=T.frameHeightAdjust,c.frameComponentMap={},c.canvas=null,c.myCanvasId=null,c.floatingButton=null,c.titleBarClassNameDefault="jsframe-titlebar-default",c.titleBarClassNameFocused="jsframe-titlebar-focused",c.titleBarHeight=T.titleBarHeight,c.titleBarCaption=T.titleBarCaption,c.titleBarCaptionLeftMargin=T.titleBarCaptionLeftMargin,c.titleBarCaptionFontSize=T.titleBarCaptionFontSize,c.titleBarCaptionFontWeight=T.titleBarCaptionFontWeight,c.titleBarBorderBottomDefault=T.titleBarBorderBottomDefault,c.titleBarBorderBottomFocused=T.titleBarBorderBottomFocused,c.titleBarCaptionTextShadow=T.titleBarCaptionTextShadow,c.titleBarCaptionTextAlign=T.titleBarCaptionTextAlign,c.titleAdjustWidth=2,c.windowId=t,c.exBorderWidth=0,c.myCanvasId=t+"_canvas";var O=document.createElement("img");if(O.src="",O.style.position="absolute",O.style.left="2px",O.style.top="2px",O.style.width="16px",O.style.height="16px",O.style.visibility="hidden",c.titleBar=document.createElement("div"),c.titleBar.className="jsframetitlebar",c.showTitleBar){if(c.titleBar.id=t+"_title",c.titleBar.style.position="absolute",c.titleBar.style.boxSizing="border-box",c.titleBar.style.top="0px",c.titleBar.style.left="0px",c.titleBar.style.width=i-c.titleAdjustWidth+a.CANVAS.WIDTH_ADJUST_20180722+"px",c.titleBar.style.userSelect="none",c.titleBarHeight){var R=0;c.titleBarBorderBottomDefault&&(R=0),c.titleBar.style.height=parseInt(c.titleBarHeight,10)+0+"px"}c.titleBarColorDefault&&(c.titleBar.style.background=c.titleBarColorDefault),c.titleBar.style.zIndex=0,c.titleBar.style.color=c.titleBarCaptionColorDefault,c.titleBar.style.fontSize=c.titleBarCaptionFontSize,c.titleBar.style.fontWeight=c.titleBarCaptionFontWeight,c.titleBar.style.textShadow=c.titleBarCaptionTextShadow,c.titleBar.style.textAlign=c.titleBarCaptionTextAlign,c.titleBar.style.lineHeight=c.titleBar.style.height,c.titleBar.style.borderBottom=c.titleBarBorderBottomDefault,c.titleBar.style.overflow="hidden";var z=document.createTextNode(""),I=document.createElement("span");I.id=c.id+"_titleBarText",c.titleBarCaptionLeftMargin!=null?(I.style.position="absolute",I.style.left=parseInt(c.titleBarCaptionLeftMargin,10)+"px"):(I.style.position="absolute",I.style.left="0px",I.style.right="0px"),I.style.top="0px",I.appendChild(z),c.titleBar.appendChild(I)}c.htmlElement.appendChild(c.titleBar);var k=parseInt(c.titleBarHeight,10)-R,N=parseInt(c.titleAdjustWidth,10);if(c.showTitleBar||(k=0,N=0,R=0),c.canvasNetWidth=i-N,c.canvasNetHeight=_-k-N-1-R+c.frameHeightAdjust,c.htmlElement.style.cursor="move",c.canvas=new d(c.htmlElement,c.myCanvasId,0,k,i-N,_-k-N),c.canvas.enablePullUp=!1,c.canvas.canvasElement.style.backgroundColor=a.CFRAME.CANVAS_ELEMENT_BGCOLOR,c.canvas.canvasElement.style.cursor="default",S&&(c.canvas.canvasElement.onmousedown=c.canvasMouseDown),C&&"ontouchstart"in window){var U=function(re){var Z=re.changedTouches[0];c.canvasMouseDown.bind(this)(Z)};c.canvas.canvasElement.ontouchstart=U}c.canvas.canvasElement.parentCFrame=c;var j=parseInt(c.canvas.canvasElement.style.width,10),A=parseInt(c.canvas.canvasElement.style.height,10),W=T.resizeAreaWidth,Y=T.resizeAreaHeight,V=T.resizeAreaOffset,q=0,J,ne,ee;T.resizeAreaVisible&&(J="rgba(255, 0, 0, 0.5)",ne="rgba(0, 0, 255, 0.5)",ee="rgba(0, 255, 0, 0.5)");var H=new x(c.myCanvasId+"_RD",j+V,A+V,W,Y,q,"RD",J);H.htmlElement.style.cursor="se-resize",H.htmlElement.argX=0,H.htmlElement.argY=0;var K=new x(c.myCanvasId+"_DD",0,A+V,j+V,Y,q,"DD",ne);K.htmlElement.style.cursor="n-resize",K.htmlElement.argX=0,K.htmlElement.argY=0;var X=new x(c.myCanvasId+"_RR",j+V,0,W,A+V,q,"RR",ee);X.htmlElement.style.cursor="w-resize",X.htmlElement.argY=0,X.htmlElement.argX=0,c.canvas.addBean(H),c.canvas.addBean(K),c.canvas.addBean(X),c.removeMarkers=function(){c.canvas.removeBean(H.id),c.canvas.removeBean(K.id),c.canvas.removeBean(X.id),c.htmlElement.style.cursor="default"},c.removeMarkers2=function(){c.canvas.removeBean(H.id),c.canvas.removeBean(K.id),c.canvas.removeBean(X.id)},c.enableMarkers=function(re){re?(H.htmlElement.style.display="flex",K.htmlElement.style.display="flex",X.htmlElement.style.display="flex",H.htmlElement.style.cursor="se-resize",K.htmlElement.style.cursor="n-resize",X.htmlElement.style.cursor="w-resize"):(H.htmlElement.style.display="none",K.htmlElement.style.display="none",X.htmlElement.style.display="none")};for(var te in T.frameComponents){var Q=T.frameComponents[te];Q.setFrame(c),Q.id=="closeButton"&&(Q.htmlElement.onclick=c.close);var se=Q.htmlElement.querySelector(".jsframe-child-menu");se&&c.eventListenerHelper.addEventListener(Q.htmlElement,"click",function(re){var Z=re.target.getAttribute("component-id");if(c.hideFrameComponentChildMenus({exceptFrameComponentId:Z}),Z){var le=c.getFrameComponentElement(Z),oe=le.querySelector(".jsframe-child-menu");oe?oe.style.display=="table"?oe.style.display="none":oe.style.display="table":console.error("frameComponent child menu isnt found. frameComponentId="+Z)}},{listenerName:"frame-component_child-menu-listener"}),c.addFrameComponent(Q)}c.htmlElement.style.backgroundColor="transparent",c.htmlElement.oncontextmenu=this.contextMenu;var ae=0;c.caribValue=ae,c.exBorderWidth&&(c.htmlElement.style.borderWidth=c.exBorderWidth+"px"),c.htmlElement.style.width=parseInt(c.htmlElement.style.width,10)-ae+"px",c.htmlElement.style.height=parseInt(c.htmlElement.style.height,10)-ae+1+"px",c.htmlElement.typeName="cwindow",c.htmlElement.overflow="auto",c.htmlElement.style.boxSizing="content-box",T.frameBorderStyle&&(c.htmlElement.style.borderStyle=T.frameBorderStyle),T.frameBoxShadow&&(c.htmlElement.style.boxShadow=T.frameBoxShadow),parseInt(T.frameBorderWidthDefault,10)>=0&&(c.htmlElement.style.borderWidth=T.frameBorderWidthDefault,c.htmlElement.style.borderColor=T.frameBorderColorDefault),parseInt(T.frameBorderRadius,10)>=0&&(c.htmlElement.style.borderRadius=T.frameBorderRadius),c.onCloseFrameListener=null}f.prototype.setTitleBarClassName=function(t,e){var l=this;return t&&(l.titleBarClassNameDefault=t,l.titleBarClassNameFocused=t),e&&(l.titleBarClassNameFocused=e),l},f.prototype.addFrameComponent=function(t){var e=this;return e.frameComponentMap[t.id]=t,e.canvas.canvasElement.appendChild(t.htmlElement),e},f.prototype.getFrameComponentElement=function(t){var e=this;return e.frameComponentMap[t]?e.frameComponentMap[t].htmlElement:null},f.prototype.removeFrameComponentById=function(t){var e=this,l=e.frameComponentMap[t];e.canvas.canvasElement.removeChild(l.htmlElement),delete e.frameComponentMap[t]},f.prototype.showFrameComponent=function(t,e){var l=this,i=l.getFrameComponentElement(t);return i&&(e?i.style.display=e:i.style.display="flex"),l},f.prototype.hideFrameComponent=function(t){var e=this,l=e.getFrameComponentElement(t);return l&&(l.style.display="none"),e},f.prototype.hideAllVisibleFrameComponents=function(){var t=this,e=t.frameComponentMap;for(var l in e)if(e.hasOwnProperty(l)){var i=e[l].htmlElement;i.style.display==="none"&&(i._alreadyNone=!0),i.style.display="none"}},f.prototype.showAllVisibleFrameComponents=function(){var t=this,e=t.frameComponentMap;for(var l in e)if(e.hasOwnProperty(l)){var i=e[l].htmlElement;i._alreadyNone?i._alreadyNone=null:i.style.display="flex"}},f.prototype.hideFrameComponentChildMenus=function(t){var e=this,l=e.frameComponentMap;for(var i in l)if(l.hasOwnProperty(i)){if(t&&t.exceptFrameComponentId&&i===t.exceptFrameComponentId)continue;var _=l[i];_.childMenu&&(_.childMenu.style.display="none")}},f.prototype.setTitle=function(t){var e=this;if(e.title=t,e.showTitleBar){var l=document.createTextNode(t);e.titleBar.firstChild.replaceChild(l,e.titleBar.firstChild.firstChild)}return e},f.prototype.resize=function(t,e,l,i){var _=this,E=parseInt(_.htmlElement.style.left,10),M=parseInt(_.htmlElement.style.top,10),T=parseInt(_.htmlElement.style.width,10),c=parseInt(_.htmlElement.style.height,10);_.htmlElement.style.left=parseInt(E+t,10)+"px",_.htmlElement.style.top=parseInt(M+e,10)+"px",_.htmlElement.style.width=parseInt(T+l,10)+"px",_.htmlElement.style.height=parseInt(c+i,10)+"px";var O=parseInt(_.canvas.canvasElement.style.width,10),R=parseInt(_.canvas.canvasElement.style.height,10);_.canvas.canvasElement.style.width=O+l+"px",_.canvas.canvasElement.style.height=R+i+"px",_.showTitleBar&&(_.titleBar.style.width=O+l+"px");for(var z in _.canvas.beanList){var I=_.canvas.beanList[z];I.htmlElement.typeName=="cmarkerwindow"&&(I.htmlElement.usage=="RD"?(I.htmlElement.style.left=parseInt(I.htmlElement.style.left,10)+l+"px",I.htmlElement.style.top=parseInt(I.htmlElement.style.top,10)+i+"px"):I.htmlElement.usage=="DD"?(I.htmlElement.style.width=parseInt(I.htmlElement.style.width,10)+l+"px",I.htmlElement.style.top=parseInt(I.htmlElement.style.top,10)+i+"px"):I.htmlElement.usage=="RR"&&(I.htmlElement.style.left=parseInt(I.htmlElement.style.left,10)+l+"px",I.htmlElement.style.height=parseInt(I.htmlElement.style.height,10)+i+"px"))}},f.prototype.canvasMouseDown=function(t){var e=this;this.parentCFrame.parentCanvas.mouseDownSource==null&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},f.prototype.mouseUp=function(t){this.canvas.mouseUp(t)},f.prototype.close=function(t){var e=this,l=this.parentObject.parentCanvas,i=this.parentObject;console.log('CFrame#close "'+i.title+"(@"+i.getName()+')" @'+i.windowId);var _=i.id;i.closeInternally(t,l,_)},f.prototype.closeFrame=function(t){var e=this;console.log('CFrame#closeFrame "'+e.title+"("+e.getName()+')" @'+e.windowId);var l=this.parentCanvas;e.closeInternally(t,l,e.windowId)},f.prototype.closeInternally=function(t,e,l){var i=this;if(!e){console.error("Window("+l+") may have been closed");return}e.removeBean(l),i.modalBackgroundWindowId&&(e.removeBean(i.modalBackgroundWindowId),i.modalBackgroundWindowId=null),i.onCloseFrameListener&&i.onCloseFrameListener(i)},f.prototype.setOnCloseFrameListener=function(t){var e=this;e.onCloseFrameListener=t},f.prototype.contextMenu=function(){var t="CFrame";return!1},f.prototype.setTitleBarTextColor=function(t){var e=this;e.titleBar.style.color=t},f.prototype.setPosition=function(t,e,l){var i=this,_=i.getWidth(),E=i.getHeight();return i._setPositionInternally(t,e,l,_,E),i},f.prototype._setPositionInternally=function(t,e,l,i,_){var E=this;l&&(E.anchor=l),!l||u.LEFT_TOP==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=e+"px"):u.HCENTER_TOP==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=e+"px"):u.RIGHT_TOP==l?(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=e+"px"):u.LEFT_VCENTER==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=-_/2+e+"px"):u.HCENTER_VCENTER==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=-_/2+e+"px"):u.RIGHT_VCENTER==l?(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=-_/2+e+"px"):u.LEFT_BOTTOM==l?(E.htmlElement.style.left=t+"px",E.htmlElement.style.top=-_+e+"px"):u.HCENTER_BOTTOM==l?(E.htmlElement.style.left=-i/2+t+"px",E.htmlElement.style.top=-_+e+"px"):u.RIGHT_BOTTOM==l&&(E.htmlElement.style.left=-i+t+"px",E.htmlElement.style.top=-_+e+"px")},f.prototype.getPosition=function(){var t=this,e=t.getWidth(),l=t.getHeight(),i,_,E=t.anchor;return!E||u.LEFT_TOP==E?(i=parseInt(t.htmlElement.style.left,10),_=parseInt(t.htmlElement.style.top,10)):u.HCENTER_TOP==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,_=parseInt(t.htmlElement.style.top,10)):u.RIGHT_TOP==E?(i=parseInt(t.htmlElement.style.left,10)+e,_=parseInt(t.htmlElement.style.top,10)):u.LEFT_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10),_=parseInt(t.htmlElement.style.top,10)+l/2):u.HCENTER_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,_=parseInt(t.htmlElement.style.top,10)+l/2):u.RIGHT_VCENTER==E?(i=parseInt(t.htmlElement.style.left,10)+e,_=parseInt(t.htmlElement.style.top,10)+l/2):u.LEFT_BOTTOM==E?(i=parseInt(t.htmlElement.style.left,10),_=parseInt(t.htmlElement.style.top,10)+l):u.HCENTER_BOTTOM==E?(i=parseInt(t.htmlElement.style.left,10)+e/2,_=parseInt(t.htmlElement.style.top,10)+l):u.RIGHT_BOTTOM==E&&(i=parseInt(t.htmlElement.style.left,10)+e,_=parseInt(t.htmlElement.style.top,10)+l),{x:i,y:_,anchor:E}},f.prototype.getLeft=function(){var t=this;return parseInt(t.htmlElement.style.left,10)},f.prototype.getTop=function(){var t=this;return parseInt(t.htmlElement.style.top,10)},f.prototype.getWidth=function(){var t=this;return parseInt(t.htmlElement.style.width,10)},f.prototype.getHeight=function(){var t=this;return parseInt(t.htmlElement.style.height,10)},f.prototype.getSize=function(){var t=this;return{width:t.getWidth(),height:t.getHeight()}},f.prototype.setSize=function(t,e,l){var i=this,_=!0;return l&&(_=!1),i.resize(0,0,t-i.getWidth(),e-i.getHeight(),_),i},f.prototype.getWindowId=function(){var t=this;return t.windowId},f.prototype.getName=function(){var t=this;return t.property.name},f.prototype.setName=function(t){var e=this;e.property.name=t},y(p,f);function p(t,e,l,i,_,E){var M=e,T=l,c=i,O=_,R=E.zindex,z=null,I=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new m,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=E.titleBarColorFocused,this.titleBarColorDefault=E.titleBarColorDefault,this.titleBarCaptionColorDefault=E.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=E.titleBarCaptionColorFocused,p.superConstructor.call(I,t,M,T,c,O,R,z,E),I.frameBorderColorDefault=E.frameBorderColorDefault,I.frameBorderColorFocused=E.frameBorderColorFocused,I.frameBorderWidthDefault=E.frameBorderWidthDefault,I.frameBorderWidthFocused=E.frameBorderWidthFocused,I.iframe=null,I.ifDelta=0,I.resizable=!0,I.onMouseMoveOnIframe=null,I.onMouseUpOnIframe=null,I._hasFocus=!1,I._hasFocusTime=0,I.htmlElement.typeName="cifwindow";var k="riversun_"+t;I.dframe=document.createElement("div"),I.iframe=document.createElement("iframe"),I.iframe.name=k,I.iframe.id=k,I.iframe.frameBorder="0",I.iframe.zIndex=-1,I.iframe.allowTransparency="true",I.iframe.width=I.canvasNetWidth-I.ifDelta+0,I.iframe.height=I.canvasNetHeight-I.ifDelta+0,I.showTitleBar=E.showTitleBar,I.getFrameInnerBorderRadius=E.getFrameInnerBorderRadius,I.frameBorderRadius=E.frameBorderRadius,I.adjustFrameBorderRadius(),I.useIframe=!1,I.canvas.canvasElement.appendChild(I.iframe),I.canvas.canvasElement.appendChild(I.dframe),this.setUseIframe=function(N){I.useIframe=N,I.iframe.style.visibility="hidden",I.iframe.style.position="absolute",I.iframe.style.left="0px",I.iframe.style.top="0px",I.iframe.style.width="100%",I.iframe.style.height="100%",I.dframe.style.visibility="hidden",I.dframe.style.position="absolute",I.dframe.style.left="0px",I.dframe.style.boxSizing="content-box",I.dframe.style.top="0px",I.dframe.style.width="100%",I.dframe.style.height="100%",I.dframe.style.backgroundColor="white",N?(I.iframe.style.visibility="visible",I.dframe.style.visibility="hidden"):(I.iframe.style.visibility="hidden",I.dframe.style.visibility="visible")},I.setUseIframe(E.useIframe),(I.overrayTransparentScreenEnabled||I.overrayTransparentScreenOnResize)&&(I.transparence=document.createElement("span"),I.transparence.style.position="absolute",I.transparence.style.left="0px",I.transparence.style.top="0px",I.transparence.style.width="0px",I.transparence.style.height="0px",I.transparence.style.zIndex=4,I.transparence.style.borderWidth="0px",I.transparence.style.borderColor="#ff00ee",I.transparence.style.borderStyle="none",I.transparence.style.cursor="default",I.transparence.style.pointerEvents="none",I.canvas.canvasElement.style.backgroundColor=E.frameBackgroundColor,I.canvas.canvasElement.appendChild(I.transparence)),I.eventEmitter=new w,I.appearance=E}p.prototype.getFrameView=function(){var t=this;return t.dframe},p.prototype.getFrameAppearance=function(){var t=this;return t.appearance},p.prototype.setHTML=function(t){var e=this;e.dframe.innerHTML=t},p.prototype.setFrameInFrame=function(t){var e=this,l=e.dframe?e.dframe.firstChild:null;l&&(Date.now||(Date.now=function(){return new Date().getTime()}),t?e.eventEmitter.only("resize","fif-listener",function(){l.setAttribute(s.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(l.removeAttribute(s.MATCH_PARENT_CHANGE_MARKER_ATTR),e.eventEmitter.only("resize","fif-listener",function(){})))},p.prototype.$=function(t){var e=this;if(e.useIframe){var l=e.iframe.contentWindow.document;return l.querySelector(t)}else return e.dframe.querySelector(t)},p.prototype.on=function(t,e,l){var i=this,_=i.getFrameComponentElement(t);_&&i.eventListenerHelper.addEventListener(_,e,function(T){l(i,T,{type:"frameComponent",id:t,eventType:e})},{listenerName:"frame-component-listener"}),(t==="frame"||t==="window")&&(e==="move"&&!i.eventEmitter.hasListenerFuncs("move")&&i.setOnMoveListener(function(T){i.eventEmitter.emit("move",i._getCurrentSizePos())}),i.eventEmitter.on(e,l));var E=i.$(t);if(E&&(i.eventListenerHelper.hasEventListener(E,e,"frame-dom-listener")&&i.eventListenerHelper.removeEventListener(E,e,null,{listenerName:"frame-dom-listener"}),i.eventListenerHelper.addEventListener(E,e,function(T){l(i,T,{type:"dom",id:t,eventType:e})},{listenerName:"frame-dom-listener"})),!E){var M=i.canvas.canvasElement.querySelector(t);M&&M.addEventListener(e,function(T){l(i,T,{type:"dom",id:t,eventType:e})})}},p.prototype.adjustFrameBorderRadius=function(){var t=this;if(parseInt(t.frameBorderRadius,10)>0){var e=t.getFrameInnerBorderRadius(t,t._hasFocus),l=e.frameAppearance,i=e.innerBorderRadius,_=parseInt(l.titleBarHeight,10);t.showTitleBar?(t.canvas.canvasElement.style.borderBottomRightRadius=i,t.canvas.canvasElement.style.borderBottomLeftRadius=i,t.iframe.style.borderBottomRightRadius=i,t.iframe.style.borderBottomLeftRadius=i,t.titleBar.style.borderTopLeftRadius=i,t.titleBar.style.borderTopRightRadius=i):(t.canvas.canvasElement.style.borderRadius=i,t.iframe.style.borderRadius=i),t.dframe&&(_===0&&(t.dframe.style.borderTopRightRadius||(t.dframe.style.borderTopRightRadius=i),t.dframe.style.borderTopLeftRadius||(t.dframe.style.borderTopLeftRadius=i)),t.dframe.style.borderBottomRightRadius=i,t.dframe.style.borderBottomLeftRadius=i)}},p.prototype.handleReleasingFocus=function(t){var e=this,l=e._hasFocus;e._hasFocus=!1,e.titleBar.className=e.titleBarClassNameDefault,e.titleBarColorDefault&&(e.titleBar.style.background=e.titleBarColorDefault),e.titleBar.style.color=e.titleBarCaptionColorDefault,e.frameBorderColorDefault&&(e.htmlElement.style.borderColor=e.frameBorderColorDefault),e.frameBorderWidthDefault&&(e.htmlElement.style.borderWidth=e.frameBorderWidthDefault,e.adjustFrameBorderRadius()),e.htmlElement.typeName=="cifwindow"&&(e.overrayTransparentScreenEnabled&&(e.transparence.style.width=parseInt(e.iframe.width,10)+"px",e.transparence.style.height=parseInt(e.iframe.height,10)+"px"));for(var i in e.frameComponentMap){var _=e.frameComponentMap[i];_.handleReleasingFocus()}return e.titleBarBorderBottomDefault&&(e.titleBar.style.borderBottom=e.titleBarBorderBottomDefault),l&&e.eventEmitter.emit("blur",{target:e}),e},p.prototype.handleTakingFocus=function(t){var e=this,l=e._hasFocus;e._hasFocus=!0,e._hasFocus=Date.now(),e.overrayTransparentScreenEnabled&&(e.transparence.style.width="0px",e.transparence.style.height="0px"),e.titleBar.className=e.titleBarClassNameFocused,e.titleBarColorFocused&&(e.titleBar.style.background=e.titleBarColorFocused),e.titleBar.style.color=e.titleBarCaptionColorFocused,e.frameBorderColorFocused&&(e.htmlElement.style.borderColor=e.frameBorderColorFocused),e.frameBorderWidthFocused&&(e.htmlElement.style.borderWidth=e.frameBorderWidthFocused,e.adjustFrameBorderRadius()),e.titleBarBorderBottomFocused&&(e.titleBar.style.borderBottom=e.titleBarBorderBottomFocused);for(var i in e.frameComponentMap){var _=e.frameComponentMap[i];_.handleTakingFocus()}return l||e.eventEmitter.emit("focus",{target:e}),e},f.prototype.show=function(t){var e=this;return e.htmlElement.style.display="flex",t&&t.requestFocus==!1||e.requestFocus(),e},f.prototype.showModal=function(t){var e=this,l=new o;l.showTitleBar=!0,l.showCloseButton=!1,l.frameBorderRadius="0px",l.frameBorderStyle="none",l.frameBorderWidthDefault="0px",l.frameBorderWidthFocused="0px",l.frameBoxShadow=null,l.frameBackgroundColor="transparent",l.frameComponents=[],l.frameHeightAdjust=0,l.titleBarHeight="0px",l.titleBarBorderBottomFocused=null,l.titleBarCaptionLeftMargin="0px",l.onInitialize=function(){},l.pullUpDisabled=!0;var i=e.parentCanvas,_=a.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+e.id,E=new p(_,0,0,1,1,l);E.setSize(window.innerWidth,window.innerHeight,!0),E.setResizable(!1),window.addEventListener("resize",function(){E.setSize(window.innerWidth,window.innerHeight,!0)}),e.modalBackgroundWindowId=_,E.hide(),i.addWindow(E),E.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',E.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",E.show(),e.show(),t&&e.setOnCloseFrameListener(t)},f.prototype.getWindowManager=function(){var t=this;return t.parentCanvas},p.prototype.hide=function(){var t=this;return t.htmlElement.style.display="none",t},p.prototype.onmouseDown=function(t){var e=this;document.body.ondrag=function(){return!1},e.decorator=f.prototype.onmouseDown,e.decorator(t);var l=e.parent,i=e.parentCanvas;for(var _ in i.beanList){var E=i.beanList[_];_==l.getWindowId()||E.handleReleasingFocus()}l.handleTakingFocus()},p.prototype.mouseUp=function(t){var e=this;(e.overrayTransparentScreenEnabled||e.overrayTransparentScreenOnResize)&&(e.parentCanvas.onTopObject==e?(e.transparence.style.width="0px",e.transparence.style.height="0px"):e.overrayTransparentScreenEnabled&&(e.transparence.style.width=parseInt(e.iframe.width)+"px",e.transparence.style.height=parseInt(e.iframe.height)+"px")),e.decorator=f.prototype.mouseUp,e.decorator(t),document.body.ondrag=null,document.body.onselectstart=null,e.transparence.style.pointerEvents="none"},p.prototype.setMinFrameSize=function(t,e){var l=this;l.minFrameWidth=t,l.minWindowHeight=e},p.prototype.resize=function(t,e,l,i,_){var E=this;if(!E.resizable&&_)return null;var M=E.getSize(),T=parseInt(E.htmlElement.style.left,10),c=parseInt(E.htmlElement.style.top,10),O=parseInt(E.htmlElement.style.width,10),R=parseInt(E.htmlElement.style.height,10);_&&O+l<E.minFrameWidth&l<0&&(E.htmlElement.style.width=O+"px",l=0),_&&R+i<E.minWindowHeight&i<0&&(E.htmlElement.style.height=R+"px",i=0),E.htmlElement.style.left=T+t+"px",E.htmlElement.style.top=c+e+"px",E.htmlElement.style.width=O+l+"px",E.htmlElement.style.height=R+i+"px";var z=parseInt(E.canvas.canvasElement.style.width,10),I=parseInt(E.canvas.canvasElement.style.height,10);E.canvas.canvasElement.style.width=z+l+"px",E.canvas.canvasElement.style.height=I+i+"px",E.titleBar.style.width=z-E.ifDelta+l+0+"px",E.iframe.width=z-E.ifDelta+l+0+"px",E.iframe.height=I-E.ifDelta+i+E.frameHeightAdjust+"px",(E.overrayTransparentScreenEnabled||E.overrayTransparentScreenOnResize)&&(E.transparence.style.width=parseInt(E.iframe.width)+"px",E.transparence.style.height=parseInt(E.iframe.height)+"px");for(var k in E.frameComponentMap){var N=E.frameComponentMap[k];N.updateAlign()}for(var U in E.canvas.beanList){var j=E.canvas.beanList[U];j.htmlElement.typeName=="cmarkerwindow"&&(j.htmlElement.usage=="RD"?(j.htmlElement.style.left=parseInt(j.htmlElement.style.left)+l+"px",j.htmlElement.style.top=parseInt(j.htmlElement.style.top)+i+"px"):j.htmlElement.usage=="DD"?(j.htmlElement.style.width=parseInt(j.htmlElement.style.width)+l+"px",j.htmlElement.style.top=parseInt(j.htmlElement.style.top)+i+"px"):j.htmlElement.usage=="RR"&&(j.htmlElement.style.left=parseInt(j.htmlElement.style.left)+l+"px",j.htmlElement.style.height=parseInt(j.htmlElement.style.height)+i+"px"))}var A=E.getSize();(M.width!==A.width||M.height!==A.height)&&E.eventEmitter.emit("resize",E._getCurrentSizePos())},p.prototype._getCurrentSizePos=function(){var t=this,e=t.getSize(),l=t.getPosition();return{target:t,pos:l,size:e}},p.prototype.resizeDirect=function(t,e,l){var i=this;if(!i.resizable&&l)return null;i.htmlElement.style.width=t+"px",i.htmlElement.style.height=e+"px";var _=parseInt(i.canvas.canvasElement.style.width),E=parseInt(i.canvas.canvasElement.style.height);i.canvas.canvasElement.style.width=t+"px",i.canvas.canvasElement.style.height=e-i.titleBar.style.height+"px",i.titleBar.style.width=t-i.ifDelta+"px",i.iframe.width=t-i.ifDelta+"px",i.iframe.height=e-i.ifDelta+i.frameHeightAdjust+"px",(i.overrayTransparentScreenEnabled||i.overrayTransparentScreenOnResize)&&(i.transparence.style.width=parseInt(i.iframe.width)+"px",i.transparence.style.height=parseInt(i.iframe.height)+"px");for(var M in i.frameComponentMap){var T=i.frameComponentMap[M];T.updateAlign()}for(var c in i.canvas.beanList){var O=i.canvas.beanList[c];O.htmlElement.typeName=="cmarkerwindow"&&(O.htmlElement.usage=="RD"?(O.htmlElement.style.left=t+"px",O.htmlElement.style.top=e+"px"):O.htmlElement.usage=="DD"?(O.htmlElement.style.width=t+"px",O.htmlElement.style.top=e+"px"):O.htmlElement.usage=="RR"&&(O.htmlElement.style.left=t+"px",O.htmlElement.style.height=e+"px"))}},p.prototype.requestFocus=function(){var t=this,e=t.parentCanvas.beanList;for(var l in e){var i=e[l];l==t.getWindowId()?i.handleTakingFocus():i.handleReleasingFocus()}t.parentCanvas.pullUp(t.id)},p.prototype.setUrl=function(t){var e=this;return new Promise(function(l,i){t?e.setUseIframe(!0):(e.setUseIframe(!1),l()),e.iframe.src=t,e.iframe.onload=function(){var _=function(M){var T=M.pageX,c=M.pageY;if(C&&M.type==="touchmove"){var O=M.changedTouches;if(b){var R=M.touches;if(R.length===1)T=O[0].pageX,c=O[0].pageY;else return!0}else T=O[0].pageX,c=O[0].pageY}var z=e.getLeft(),I=e.getTop(),k=document.createEvent("MouseEvents");k.initMouseEvent("mousemove",!0,!1,window,M.detail,M.screenX,M.screenY,T+z,c+I,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,null),e.parentCanvas.windowMouseMove(k),e.onMouseMoveOnIframe&&e.onMouseMoveOnIframe(k)};e.iframe.contentWindow.document.onmousemove=_,e.iframe.contentWindow.document.ontouchmove=_;var E=function(M){var T=M.pageX,c=M.pageY;if(C&&M.type==="touchend"){var O=M.changedTouches;T=O[0].pageX,c=O[0].pageY}var R=e.getLeft(),z=e.getTop(),I=document.createEvent("MouseEvents");I.initMouseEvent("mouseup",!0,!1,window,M.detail,M.screenX,M.screenY,T+R,c+z,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,null),e.parentCanvas.windowMouseUp(I),e.onMouseUpOnIframe&&e.onMouseUpOnIframe(I)};e.iframe.contentWindow.document.onmouseup=E,e.iframe.contentWindow.document.ontouchend=E,l(e,e.iframe.contentWindow.document)}})},p.prototype.getIfDocument=function(){var t=this;return t.iframe.contentWindow.document},p.prototype.setScrolling=function(t){var e=this;e.iframe.scrolling=t},p.prototype.getScrolling=function(t){var e=this;return e.iframe.scrolling},p.prototype.setResizable=function(t){var e=this;return e.resizable=t,e.enableMarkers(t),e},p.prototype.setControl=function(t){var e=this;t&&(t.frame=e,e.control=e.jsFrame.createWindowEventHelper(t),e.control.setupDefaultEvents())},y(B,d);function B(t,e,l,i,_,E){B.superConstructor.call(this,t,e,l,i,_,E);var M=this;document.addEventListener("click",function(T){for(var c in M.beanList){var O=M.beanList[c];O.onBodyClicked(T)}})}B.prototype.getWindow=function(t){var e=this;return e.beanList[t]},B.prototype.addWindow=function(t){var e=this,l=t.getWindowId(),i=t.getName();e.beanIdName[l]=i,e.beanNameId[i]=l,e.addBean(t)},B.prototype.containsWindowName=function(t){var e=this,l=e.beanNameId[t];return!!l},B.prototype.getWindowByName=function(t){var e=this,l=e.beanNameId[t];return l?e.getWindow(l):null},B.prototype.windowMouseMove=function(t){var e=this;if(e.currentObject==null)return null;var l=!1,i=e.beanList;for(var _ in i){var E=i[_],M=E.canvas.mouseMove(t);if(l=l|M!=null,M!=null&&M.targetTypeName=="cmarkerwindow"){var T=M.targetObject;E.transparence.style.pointerEvents="auto",T.usage=="RD"?E.resize(0,0,M.deltaX,M.deltaY,!0):T.usage=="DD"?E.resize(0,0,0,M.deltaY,!0):T.usage=="RR"&&E.resize(0,0,M.deltaX,0,!0)}}!l&&this.mouseDownSource!="childcanvas"&&e.mouseMove(t)},B.prototype.windowMouseUp=function(t){var e=this;e.mouseUp(t);var l=e.beanList;for(var i in l){var _=l[i];_.mouseUp(t)}},B.prototype.removeBean=function(t){var e=this,l=e.beanList,i=l[t];if(i==null)return;var _=i._hasFocus;e.canvasElement.removeChild(i.htmlElement),delete l[t];var E=e.beanIdName[t];E&&(delete e.beanIdName[t],delete e.beanNameId[E]);var M=0,T=null;if(_){for(var t in l){var c=l[t];M<=c._hasFocusTime&&!c.pullUpDisabled&&(M=c._hasFocusTime,T=c)}T&&T.requestFocus()}i.parentCanvas=null},y(x,v);function x(t,e,l,i,_,E,M,T){var c=this;x.superConstructor.call(this,t,e,l,i,_,E,M),c.htmlElement.typeName="cmarkerwindow",c.htmlElement.usage=M,c.htmlElement.isRangeLimited=!1,c.htmlElement.style.borderStyle="none",c.htmlElement.style.zIndex=1,T&&(c.htmlElement.style.background=T),c.getWindowType=function(){return"CMarkerWindow"}}function D(t){var e=this,l=null;if(e.isWindowManagerFixed=!0,t&&t.fixed==!1&&(e.isWindowManagerFixed=!1),t&&t.parentElement&&(l=t.parentElement),e.hAlign="left",e.vAlign="top",t&&t.horizontalAlign&&(e.hAlign=t.horizontalAlign),t&&t.verticalAlign&&(e.vAlign=t.verticalAlign),e.pullToRefresh=!1,t&&typeof t.pullToRefresh=="boolean"&&(e.pullToRefresh=t.pullToRefresh),e.touchActionManipulation=!0,t&&typeof t.touchActionManipulation=="boolean"&&(e.touchActionManipulation=t.touchActionManipulation),l)if(e.isWindowManagerFixed){var i=document.createElement("div");i.id="jsFrame_fixed_"+e.generateUUID(),i.setAttribute("style","position:fixed;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),l.appendChild(i)}else{var i=document.createElement("div");i.id="jsFrame_absolute_"+e.generateUUID(),i.setAttribute("style","position:absolute;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),l.appendChild(i)}else if(e.isWindowManagerFixed){var i=document.createElement("div");i.id="jsFrame_fixed_"+e.generateUUID(),i.setAttribute("style","position:fixed;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(i),l=i}else{var i=document.createElement("div");i.id="jsFrame_absolute_"+e.generateUUID(),i.setAttribute("style","position:absolute;"+e.hAlign+":0px;"+e.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(i),l=i}if(S&&(document.addEventListener("mouseup",M),document.addEventListener("mousemove",T)),C){if("ontouchend"in window){var _=function(c){M.bind(this)(c)};document.addEventListener("touchend",_)}if("ontouchmove"in window){e.touchActionManipulation&&e.doEnableTouchActionManipulation(),e.pullToRefresh||e.doDisablePullToRefresh();var E=function(c){c.preventDefault(),T.bind(this)(c)};document.addEventListener("touchmove",E)}}e.windowManager=new B(l,"windowManager_"+e.generateUUID(),0,0,0,0),e.domPartsBuilder=null;function M(c){e.windowManager.windowMouseUp(c)}function T(c){e.windowManager.windowMouseMove(c)}}D.prototype.doEnableTouchActionManipulation=function(){var t=document.documentElement.getAttribute("style");t?t.endsWith(";")||(t+=";"):t="",t.indexOf("touch-action")===-1&&(t+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",t))},D.prototype.doDisablePullToRefresh=function(){var t=document.body.getAttribute("style");t?t.endsWith(";")||(t+=";"):t="",t.indexOf("overscroll-behavior-y")===-1&&(t+="overscroll-behavior-y: contain;",document.body.setAttribute("style",t))},D.prototype.getDomPartsBuilder=function(){var t=this;return t.domPartsBuilder||(t.domPartsBuilder=new r),t.domPartsBuilder},D.prototype.create=function(t){var e=this,l={};l.name=t.name;var i=t.title,_=t.left,E=t.top,M=t.width,T=t.height,c=t.appearance,O=t.preset,R=t.presetParam,z=t.appearanceName,I=t.appearanceParam,k=t.style,N=t.minWidth,U=t.minHeight,j=t.html,A=t.resizable,W=t.movable,Y=t.url,V=t.urlLoaded,q=t.presetParam,J;if(O){var ne=this.getPresetWindow(O);J=ne.getPresetWindow(q),c=this.createPresetStyle(J.appearanceName,{appearanceParam:J.appearanceParam})}else z&&(c=this.createPresetStyle(z,{appearanceParam:I}));if(t.clientHeight){var ee=parseInt(c.titleBarHeight||0)-c.frameHeightAdjust;T=t.clientHeight+ee}var H=this.createFrame(_,E,M,T,c,l);if(i&&H.setTitle(i),j&&H.setHTML(j),Y){var K=H.setUrl(Y);V&&K.then(V)}if(A==!1&&H.setResizable(!1),W==!1&&H.setMovable(!1),N&&U&&(H.minFrameWidth=N),U&&(H.minWindowHeight=U,t.clientHeight&&(H.minWindowHeight=U+ee)),k){var X=H.getFrameView();for(var te in k)k.hasOwnProperty(te)&&(X.style[te]=k[te])}return J&&J.setupPresetWindow(H),H},D.prototype.createFrame=function(t,e,l,i,_,E){var M=this;_||(_=M.createFrameAppearance()),_.initialize();var T="window_"+M.generateUUID();t||(t=0),e||(e=0),l||(l=128),i||(i=128);var c=new p(T,t,e,l,i,_);if(c.jsFrame=M,E&&E.name&&c.setName(E.name),c.hide(),M.windowManager.addWindow(c),_.getTitleBarStyle){var O=_.getTitleBarStyle();O&&c.setTitleBarClassName(O.titleBarClassNameDefault,O.titleBarClassNameFocused)}else _.titleBarClassNameDefault&&_.titleBarClassNameFocused?c.setTitleBarClassName(_.titleBarClassNameDefault,_.titleBarClassNameFocused):_.titleBarClassNameDefault&&c.setTitleBarClassName(_.titleBarClassNameDefault,_.titleBarClassNameDefault);return c},D.prototype.containsWindowName=function(t){var e=this;return e.windowManager.containsWindowName(t)},D.prototype.getWindowByName=function(t){var e=this;return e.windowManager.getWindowByName(t)},D.prototype.generateUUID=function(){var t=Date.now(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(l=="x"?i:i&3|8).toString(16)});return e},D.prototype.createFrameAppearance=function(){return new o},D.prototype.createAnimator=function(){return new n},D.prototype.createWindowEventHelper=function(t){var e=this;t||(t={}),t.verticalAlign=e.vAlign,t.horizontalAlign=e.hAlign;var l=new s(t);return l},D.prototype.getPresetWindow=function(t,e){if(g[t]){var l=g[t];return l}else return null},D.prototype.createPresetStyle=function(t,e){var l=this,i=l.createFrameAppearance();if(e&&e.focusedFrameOnly&&(i.focusedFrameOnly=e.focusedFrameOnly),F[t]){var _=F[t],E=null;return e&&e.appearanceParam&&(E=e.appearanceParam),_.getStyle(i,E)}return console.error('[JSFrame] Preset appearance "'+t+'" not found.'),i},D.prototype.showToast=function(t){if(!t)return;var e=this,l=60,i=260,_=300,E=1e3,M=window.innerHeight-10-l/2,T=window.innerHeight-20-l/2,c="",O=!1,R={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};t.style&&(R=t.style),t.height&&(l=t.height),t.width&&(i=t.width),t.duration&&(E=t.duration),t.align&&(t.align=="top"?(M=10+l/2,T=20+l/2):t.align=="center"&&(M=window.innerHeight/2,T=window.innerHeight/2)),t.html&&(c=t.html),t.text&&(c=t.text),t.closeButton==!0?O=!0:O=!1;var z=e.createPresetStyle("toast");R.borderRadius&&(z.frameBorderRadius=R.borderRadius),t.closeButtonColor&&(z.captionClor=t.closeButtonColor);var I=e.create({name:"toast_"+e.generateUUID(),width:i,height:l,movable:!1,resizable:!1,appearance:z,style:R,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+l+'px">'+c+"</div>"});O||I.hideFrameComponent("closeButton");var k=!1,N=window.innerWidth/2;e.hAlign=="right"&&(N=-N),e.vAlign=="bottom"&&(M=M-window.innerHeight,T=T-window.innerHeight);var U=e.createAnimator();U.set(I).setDuration(_).fromPosition(N,M,"CENTER_CENTER").toPosition(N,T,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,k).then(function(j){return j.setDuration(_).fromPosition(N,T,"CENTER_CENTER").toPosition(N,M,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(E,k)}).then(function(j){var A=j.get();A.closeFrame()})},Object.freeze(a),L.exports=D},"./src/appearance/CButtonAppearance.js":L=>{function P(){var h="\u274C";this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}L.exports=P},"./src/appearance/CChildMenuAppearance.js":L=>{function P(h){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}L.exports=P},"./src/appearance/CDomPartsBuilder.js":(L,P,h)=>{var w=h("../../node_modules/merge-deeply/lib/merge-deeply.js"),u=h("./src/appearance/CButtonAppearance.js"),s=h("./src/appearance/CImageButtonAppearance.js"),y=h("./src/appearance/CChildMenuAppearance.js");function o(){}o.prototype.buildChildMenuAppearance=function(n){return new y(n)},o.prototype.buildTextButtonAppearance=function(n){if(n){var m=w({op:"clone",object1:n,concatArray:!0});return m}else return new u},o.prototype.buildImageButtonAppearance=function(n){if(n){var m=w({op:"clone",object1:n});return m}else return new s},o.prototype.buildButton=function(n){var m=this;return m.buildTextButton(n)},o.prototype.appendChildMenuTo=function(n,m){var F=this,g=document.createElement("div");g.classList.add("jsframe-child-menu"),g.innerHTML=n.childMenuHTML,g.style.position="absolute",g.style.pointerEvents="none",g.style.width=n.childMenuWidth+"px",g.style.display="none";var a=n.xOffset,S=parseInt(m.style.height,10)+n.yOffset+2;n.childMenuAlign==="LEFT"?g.style.left=a+"px":n.childMenuAlign==="RIGHT"?g.style.right=a+"px":n.childMenuAlign==="CENTER"&&(a=-n.childMenuWidth/2+parseInt(m.style.height,10)/2,g.style.left=a+"px"),g.style.top=S+"px",g.firstChild.style.pointerEvents="auto",m.appendChild(g)},o.prototype.buildTextButton=function(n){var m=n.size,F=m,g=m;n.width!=null&&(F=n.width),n.height!=null&&(g=n.height);var a=document.createElement("div"),S=n.borderWidth,C=n.borderRadius,b=n.borderColorDefault,v=n.borderColorFocused,d=n.borderColorHovered,f=n.borderColorPressed,p=n.borderStyleDefault,B=n.borderStyleFocused,x=n.borderStyleHovered,D=n.borderStylePressed,t=n.backgroundColorDefault,e=n.backgroundColorFocused,l=n.backgroundColorHovered,i=n.backgroundColorPressed,_=n.backgroundBoxShadow,E=n.fa,M=n.caption,T=n.imageDefault,c=n.imageFocused,O=n.imageHovered,R=n.imagePressed;T&&(T.style.pointerEvents="none"),c&&(c.style.pointerEvents="none"),O&&(O.style.pointerEvents="none"),R&&(R.style.pointerEvents="none");var z=n.captionColorDefault,I=n.captionColorFocused,k=n.captionColorHovered,N=n.captionColorPressed,U=n.captionShiftYpx,j=n.captionFontRatio;a._hasFrameFocus=!1,a._isMouseDown=!1,a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=F+"px",a.style.height=g+"px",n.cursor?a.style.cursor=n.cursor:a.style.cursor="pointer",a.style.margin="0px",a.style.padding="0px",a.style.boxSizing="content-box",a.style.fontFamily="sans-serif",a.onmousedown=function(Y){a._isMouseDown=!0,a._handleFocusDrawing("onmousedown")},a.onmouseout=function(Y){a._isMouseDown=!1,a._handleFocusDrawing("onmouseout")},a.onmouseover=function(Y){a._handleHoverDrawing()},a.onmouseup=function(Y){a._isMouseDown=!1,a._handleFocusDrawing("onmouseup")},a._onTakeFocus=function(){a._hasFrameFocus=!0,a._handleFocusDrawing("_onTakeFocus")},a._onReleaseFocus=function(){a._hasFrameFocus=!1,a._handleFocusDrawing("_onReleaseFocus")},a._handleFocusDrawing=function(Y){a._hasFrameFocus?a._isMouseDown?(a.style.borderColor=f,a.style.borderStyle=D,a.style.backgroundColor=i,a.style.color=N,R&&r(R,a)):(a.style.borderColor=v,a.style.borderStyle=B,a.style.backgroundColor=e,a.style.color=I,c&&r(c,a)):a._isMouseDown?(a.style.borderColor=f,a.style.borderStyle=D,a.style.backgroundColor=i,a.style.color=N,R&&r(R,a)):(a.style.borderColor=b,a.style.borderStyle=p,a.style.backgroundColor=t,a.style.color=z,T&&r(T,a))},a._handleHoverDrawing=function(){a._hasFrameFocus,d&&(a.style.borderColor=d),x&&(a.style.borderStyle=x),l&&(a.style.backgroundColor=l),k&&(a.style.color=k),O&&r(O,a)},a.style.padding="0px",a.style.textAlign="center",a.style.fontSize=g*j+"px",a.style.lineHeight=g+"px",a.style.borderWidth="1px",S!=null&&(a.style.borderWidth=S+"px"),_!=null&&(a.style.boxShadow=_),a.style.borderRadius=C+parseInt(a.style.borderWidth)+"px";var A=!0;if(A&&T)r(T,a);else if(A&&M){var W=document.createElement("span");W.style.width="100%",W.style.marginTop=U+"px",W.style.display="inline-block",W.style.textAlign="center",W.style.fontFamily="sans-serif",W.appendChild(document.createTextNode(M)),a.appendChild(W)}else if(A&&E){var W=document.createElement("span");W.style.pointerEvents="none",W.style.width="100%",W.style.marginTop=U+"px",W.style.display="inline-block",W.style.textAlign="center",W.style.fontFamily="sans-serif",W.innerHTML='<i class="'+E+'"></i>',a.appendChild(W)}else!A&&M&&(a.style.paddingTop=U+"px",a.appendChild(document.createTextNode(M)));return a._handleFocusDrawing(),a};function r(n,m){var F=m.querySelectorAll("img");m.firstChild?m.insertBefore(n,m.firstChild):m.appendChild(n);for(var g=0;g<F.length;g++){var a=F[g];n!==a&&m.removeChild(a)}}L.exports=o},"./src/appearance/CFrameAppearance.js":(L,P,h)=>{var w=h("./src/appearance/CDomPartsBuilder.js"),u=h("./src/appearance/CFrameComponent.js");function s(){var y=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(o){return y.useIframe=o,y.useFrame=!o,y},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(o,r){return o?r?{frameAppearance:y,innerBorderRadius:parseInt(o.frameBorderRadius,10)-parseInt(o.frameBorderWidthFocused,10)+"px"}:{frameAppearance:y,innerBorderRadius:parseInt(o.frameBorderRadius,10)-parseInt(o.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(y.showCloseButton){var o=y.getPartsBuilder(),r="\u274C",n="\u2716",m="\u274E",F=o.buildTextButtonAppearance();F.size=14,F.captionShiftYpx=0,F.captionFontRatio=1,F.borderRadius=2,F.backgroundColorPressed="transparent",F.backgroundColorDefault="transparent",F.caption=n,F.captionColorDefault="gray",F.captionColorFocused="gray",F.captionColorHovered="silver",F.captionColorPressed="black",F.borderWidth=0,F.borderColorDefault="#aaaaaa",F.borderStyle="solid";var g=o.buildTextButton(F),a=-10,S=-18,C="RIGHT_TOP",b=y.addFrameComponent("closeButton",g,a,S,C)}},this.onTitleBarStyleInitialize=function(){}}s.prototype.getPartsBuilder=function(){var y=this;return y._partsBuilder===null&&(y._partsBuilder=new w),y._partsBuilder},s.prototype.initialize=function(){var y=this;y.onInitialize()},s.prototype.addFrameComponent=function(y,o,r,n,m,F){var g=new u(y,o,r,n,m,F);return o._onTakeFocus&&o._onReleaseFocus&&g.setFocusCallback(o._onTakeFocus,o._onReleaseFocus),this.frameComponents.push(g),g},L.exports=s},"./src/appearance/CFrameComponent.js":L=>{function P(h,w,u,s,y,o){var r=this;r.id=h,r.x=u,r.y=s,r.frame=null,r._focusTakingCallabck=null,r._focusReleasingCallabck=null,y?r.frameComponentAlign=y:r.frameComponentAlign=CALIGN.LEFT_TOP,r.htmlElement=w,r.htmlElement.style.zIndex=50,r.htmlElement.setAttribute("component-id",h),o&&o.childMenu?r.childMenu=o.childMenu:w.querySelector(".jsframe-child-menu")&&(r.childMenu=w.querySelector(".jsframe-child-menu"))}P.prototype.setFocusCallback=function(h,w){var u=this;u._focusTakingCallabck=h,u._focusReleasingCallabck=w},P.prototype.setFrame=function(h){var w=this;w.frame=h,w.htmlElement.parentObject=h,w.updateAlign()},P.prototype.updateAlign=function(){var h=this,w=h.frameComponentAlign,u=h.frame,s=h.htmlElement.style;s.userSelect="none";var y=h.x,o=h.y,r=u.getWidth(),n=u.getHeight(),m=s.width,F=s.height;CALIGN.LEFT_TOP==w?(s.left=y+"px",s.top=o+"px"):CALIGN.HCENTER_TOP==w?(s.left=parseInt(r)/2-parseInt(m)/2+y+"px",s.top=o+"px"):CALIGN.RIGHT_TOP==w?(s.left=parseInt(r)-parseInt(m)+y+"px",s.top=o+"px"):CALIGN.LEFT_VCENTER==w?(s.left=y+"px",s.top=parseInt(n)/2-parseInt(F)/2+o+"px"):CALIGN.HCENTER_VCENTER==w?(s.left=parseInt(r)/2-parseInt(m)/2+y+"px",s.top=parseInt(n)/2-parseInt(F)/2+o+"px"):CALIGN.RIGHT_VCENTER==w?(s.left=parseInt(r)-parseInt(m)+y+"px",s.top=parseInt(n)/2-parseInt(F)/2+o+"px"):CALIGN.LEFT_BOTTOM==w?(s.left=y+"px",s.top=parseInt(n)-parseInt(F)+o+"px"):CALIGN.HCENTER_BOTTOM==w?(s.left=parseInt(r)/2-parseInt(m)/2+y+"px",s.top=parseInt(n)-parseInt(F)+o+"px"):CALIGN.RIGHT_BOTTOM==w&&(s.left=parseInt(r)-parseInt(m)+y+"px",s.top=parseInt(n)-parseInt(F)+o+"px")},P.prototype.handleTakingFocus=function(){var h=this;h._focusTakingCallabck&&h._focusTakingCallabck()},P.prototype.handleReleasingFocus=function(){var h=this;h._focusReleasingCallabck&&h._focusReleasingCallabck()},L.exports=P},"./src/appearance/CImageButtonAppearance.js":(L,P,h)=>{var w=h("./src/utils/Inherit.js"),u=h("./src/appearance/CButtonAppearance.js");w(s,u);function s(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}s.prototype._setImage=function(y,o,r){var n=this,m=n.imageStore[y];if(m)return m;var F=document.createElement("img");if(F.src=y,o&&r){var g=o,a=r,S="margin:0px;padding:0px;width:"+g+"px;height:"+a+"px";F.setAttribute("style",S)}return n.imageStore[y]=F,F},s.prototype.setSrc=function(y){var o=this;y.default&&(o.imageDefault=o._setImage(y.default,y.width,y.height)),y.hovered&&(o.imageHovered=o._setImage(y.hovered,y.width,y.height)),y.pressed&&(o.imagePressed=o._setImage(y.pressed,y.width,y.height)),y.focused&&(o.imageFocused=o._setImage(y.focused,y.width,y.height))},L.exports=s},"./src/index.js":(L,P,h)=>{L.exports={JSFrame:h("./src/JSFrame.js")}},"./src/presets/appearance/PresetStyleMaterial.js":(L,P,h)=>{h("./src/presets/appearance/PresetStyleMaterial.css");var w=h("./src/utils/ObjectAssigner.js");function u(o,r){var n={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},m=n;return r&&w.objectAssign(n,r),o.showTitleBar=!0,o.showCloseButton=!0,o.titleBarCaptionFontSize=m.titleBar.fontSize+"px",o.titleBarCaptionFontWeight="normal",o.titleBarCaptionLeftMargin=m.titleBar.leftMargin+"px",o.titleBarCaptionColorDefault=m.titleBar.color,o.titleBarCaptionColorFocused=m.titleBar.color,o.titleBarCaptionTextShadow=null,o.titleBarCaptionTextAlign="left",o.titleBarHeight=m.titleBar.height+"px",o.titleBarColorDefault=m.titleBar.background,o.titleBarColorFocused=m.titleBar.background,o.titleBarBorderBottomDefault="solid 0px #aaaaaa",o.titleBarBorderBottomFocused="solid 0px #1883d7",o.frameBorderRadius=m.border.radius+"px",o.frameBorderWidthDefault=m.border.width+"px",o.frameBorderWidthFocused=m.border.width+"px",o.frameBorderColorDefault=m.border.color,o.frameBorderColorFocused=m.border.color,o.frameBorderStyle="solid",o.frameBoxShadow=m.border.shadow,o.frameBackgroundColor="transparent",o.frameComponents=new Array,o.frameHeightAdjust=0,o.getTitleBarStyle=function(){return o.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},o.onInitialize=function(){s(o,m,!1),s(o,m,!0)},o}function s(o,r,n){var m=o.getPartsBuilder(),F=0,g;n?g=r.titleBar.buttonsOnLeft:g=r.titleBar.buttons;for(var a in g){var S=g[a],C=m.buildTextButtonAppearance();C.fa=S.fa,C.width=r.titleBar.buttonWidth,C.height=r.titleBar.buttonHeight,C.borderRadius=0,C.borderWidth=0,C.borderColorDefault="#c6c6c6",C.borderColorFocused="#fc615c",C.borderColorHovered=C.borderColorFocused,C.borderColorPressed="#e64842",C.borderStyleDefault="solid",C.borderStyleFocused=C.borderStyleDefault,C.borderStyleHovered=C.borderStyleDefault,C.borderStylePressed=C.borderStyleDefault,C.backgroundColorDefault="transparent",C.backgroundColorFocused="transparent",C.backgroundColorHovered="transparent",C.backgroundColorPressed="transparent";var b=y(r.titleBar.buttonColor);C.captionColorDefault=r.titleBar.buttonColor,C.captionColorFocused=r.titleBar.buttonColor,C.captionColorHovered=b.hovered,C.captionColorPressed=b.pressed,C.captionShiftYpx=0,C.captionFontRatio=1;var v=m.buildTextButton(C);S.visible?v.style.display="flex":(n?F-=r.titleBar.buttonWidth:F+=r.titleBar.buttonWidth,v.style.display="none");var d=parseInt(o.titleBarHeight),f=F,p=-d+(d-C.height)/2,B;n?B="LEFT_TOP":B="RIGHT_TOP";var x;S.childMenuHTML&&(x=document.createElement("div"),x.id=S.name+"_child_menu",x.innerHTML=S.childMenuHTML,x.style.position="absolute",x.style.width=(S.childMenuWidth?S.childMenuWidth:200)+"px",x.style.top=parseInt(v.style.top,10)+parseInt(v.style.height,10)/2+d/2+"px",x.style.left=v.style.left,x.style.display="none",v.appendChild(x)),o.addFrameComponent(S.name,v,f,p,B,{childMenu:x}),n?F+=r.titleBar.buttonWidth:F+=-r.titleBar.buttonWidth}}function y(o){var r=document.createElement("canvas");r.height=1,r.width=1;var n=r.getContext("2d");n.fillStyle=o,n.fillRect(0,0,1,1);var m=n.getImageData(0,0,1,1).data,F=m[0],g=m[1],a=m[2],S=m[3]/255,C=S*.85,b=S*.75,v="rgb("+F+","+g+","+a+","+C+")",d="rgb("+F+","+g+","+a+","+C+")",f="rgb("+F+","+g+","+a+","+b+")";return{src:v,hovered:d,pressed:f}}L.exports.getStyle=u},"./src/presets/appearance/PresetStylePopup.js":(L,P,h)=>{h("./src/presets/appearance/PresetStylePopup.css");function w(u){return u.showTitleBar=!1,u.showCloseButton=!0,u.titleBarCaptionFontSize="12px",u.titleBarCaptionFontWeight="normal",u.titleBarCaptionLeftMargin="10px",u.titleBarCaptionColorDefault="#4d494d",u.titleBarCaptionColorFocused="#4d494d",u.titleBarHeight="5px",u.titleBarColorDefault="white",u.titleBarColorFocused="white",u.titleBarBorderBottomDefault=null,u.titleBarBorderBottomFocused=null,u.frameBorderRadius="6px",u.frameBorderWidthDefault="1px",u.frameBorderWidthFocused="1px",u.frameBorderColorDefault="#aaaaaa",u.frameBorderColorFocused="#aaaaaa",u.frameBorderStyle="solid",u.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",u.frameBackgroundColor="white",u.frameComponents=new Array,u.frameHeightAdjust=2,u.getTitleBarStyle=function(){return u.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},u.onInitialize=function(){var s=u.getPartsBuilder(),y="\u274C",o="\u2716",r="\u274E",n=o,m=s.buildTextButtonAppearance();m.width=20,m.height=20,m.borderRadius=10,m.borderWidth=1,m.borderColorDefault="#cccccc",m.borderColorFocused="#cccccc",m.borderColorHovered="#dddddd",m.borderColorPressed="#eeeeee",m.borderStyleDefault="solid",m.borderStyleFocused=m.borderStyleDefault,m.borderStyleHovered=m.borderStyleDefault,m.borderStylePressed=m.borderStyleDefault,m.backgroundColorDefault="white",m.backgroundColorFocused="white",m.backgroundColorHovered="#eeeeee",m.backgroundColorPressed="#dddddd",m.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",m.caption=n,m.captionColorDefault="black",m.captionColorFocused="black",m.captionColorHovered="white",m.captionColorPressed="white",m.captionShiftYpx=1,m.captionFontRatio=.6;var F=s.buildTextButton(m),g=10,a=-6-parseInt(u.titleBarHeight),S="RIGHT_TOP";u.addFrameComponent("closeButton",F,g,a,S)},u}L.exports.getStyle=w},"./src/presets/appearance/PresetStyleRedstone.js":(L,P,h)=>{h("./src/presets/appearance/PresetStyleRedstone.css");function w(u){return u.showTitleBar=!0,u.showCloseButton=!0,u.titleBarCaptionFontSize="12px",u.titleBarCaptionFontWeight="normal",u.titleBarCaptionLeftMargin="10px",u.titleBarCaptionColorDefault="#9b9a9b",u.titleBarCaptionColorFocused="#4d494d",u.titleBarHeight="30px",u.titleBarColorDefault=null,u.titleBarColorFocused=null,u.titleBarBorderBottomDefault="solid 1px #aaaaaa",u.titleBarBorderBottomFocused="solid 1px #1883d7",u.frameBorderRadius="0px",u.frameBorderWidthDefault="1px",u.frameBorderWidthFocused="1px",u.frameBorderColorDefault="#aaaaaa",u.frameBorderColorFocused="#1883d7",u.frameBorderStyle="solid",u.frameBoxShadow=null,u.frameBackgroundColor="transparent",u.frameComponents=new Array,u.frameHeightAdjust=0,u.getTitleBarStyle=function(){return u.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},u.onInitialize=function(){var s=u.getPartsBuilder();{var y="\u2573",o=s.buildTextButtonAppearance();o.width=45,o.height=28,o.borderRadius=0,o.borderWidth=0,o.borderColorDefault="#c6c6c6",o.borderColorFocused="#fc615c",o.borderColorHovered=o.borderColorFocused,o.borderColorPressed="#e64842",o.borderStyleDefault="solid",o.borderStyleFocused=o.borderStyleDefault,o.borderStyleHovered=o.borderStyleDefault,o.borderStylePressed=o.borderStyleDefault,o.backgroundColorDefault="white",o.backgroundColorFocused="white",o.backgroundColorHovered="#e81123",o.backgroundColorPressed="#f1707a",o.caption=y,o.captionColorDefault="#9b9a9b",o.captionColorFocused="black",o.captionColorHovered="white",o.captionColorPressed="white",o.captionShiftYpx=1,o.captionFontRatio=.6;var r=s.buildTextButton(o),n=0,m=-parseInt(u.titleBarHeight),F="RIGHT_TOP";u.addFrameComponent("closeButton",r,n,m,F)}{var g="\u2610",a=s.buildTextButtonAppearance();a.width=45,a.height=28,a.borderRadius=0,a.borderWidth=0,a.borderColorDefault="#c6c6c6",a.borderColorFocused="#fc615c",a.borderColorHovered=a.borderColorFocused,a.borderColorPressed="#e64842",a.borderStyleDefault="solid",a.borderStyleFocused=a.borderStyleDefault,a.borderStyleHovered=a.borderStyleDefault,a.borderStylePressed=a.borderStyleDefault,a.backgroundColorDefault="white",a.backgroundColorFocused="white",a.backgroundColorHovered="#e5e5e5",a.backgroundColorPressed="#cccccc",a.caption=g,a.captionColorDefault="#9b9a9b",a.captionColorFocused="black",a.captionColorHovered="black",a.captionColorPressed="black",a.captionShiftYpx=1,a.captionFontRatio=.55;var S=s.buildTextButton(a),n=-46,m=-parseInt(u.titleBarHeight),F="RIGHT_TOP";u.addFrameComponent("maximizeButton",S,n,m,F)}{var C="\uFF3F",b=s.buildTextButtonAppearance();b.width=45,b.height=28,b.borderRadius=0,b.borderWidth=0,b.borderColorDefault="#c6c6c6",b.borderColorFocused="#fc615c",b.borderColorHovered=b.borderColorFocused,b.borderColorPressed="#e64842",b.borderStyleDefault="solid",b.borderStyleFocused=b.borderStyleDefault,b.borderStyleHovered=b.borderStyleDefault,b.borderStylePressed=b.borderStyleDefault,b.backgroundColorDefault="white",b.backgroundColorFocused="white",b.backgroundColorHovered="#e5e5e5",b.backgroundColorPressed="#cccccc",b.caption=C,b.captionColorDefault="#9b9a9b",b.captionColorFocused="black",b.captionColorHovered="black",b.captionColorPressed="black",b.captionShiftYpx=-2,b.captionFontRatio=.3;var v=s.buildTextButton(b),n=-92,m=-parseInt(u.titleBarHeight),F="RIGHT_TOP";u.addFrameComponent("minimizeButton",v,n,m,F)}{var d=s.buildTextButtonAppearance();d.width=45,d.height=28,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="white",d.backgroundColorFocused="white",d.backgroundColorHovered="#e5e5e5",d.backgroundColorPressed="#cccccc",d.caption="\u25A3",d.captionColorDefault="#9b9a9b",d.captionColorFocused="black",d.captionColorHovered="black",d.captionColorPressed="black",d.captionShiftYpx=1,d.captionFontRatio=.6;var f=s.buildTextButton(d),n=-92,m=-parseInt(u.titleBarHeight),F="RIGHT_TOP";f.style.display="none",u.addFrameComponent("deminimizeButton",f,n,m,F)}{var p="\u274F",B=s.buildTextButtonAppearance();B.width=45,B.height=28,B.borderRadius=0,B.borderWidth=0,B.borderColorDefault="#c6c6c6",B.borderColorFocused="#fc615c",B.borderColorHovered=B.borderColorFocused,B.borderColorPressed="#e64842",B.borderStyleDefault="solid",B.borderStyleFocused=B.borderStyleDefault,B.borderStyleHovered=B.borderStyleDefault,B.borderStylePressed=B.borderStyleDefault,B.backgroundColorDefault="white",B.backgroundColorFocused="white",B.backgroundColorHovered="#e5e5e5",B.backgroundColorPressed="#cccccc",B.caption=p,B.captionColorDefault="#9b9a9b",B.captionColorFocused="black",B.captionColorHovered="black",B.captionColorPressed="black",B.captionShiftYpx=1,B.captionFontRatio=.55;var x=s.buildTextButton(B),n=-46,m=-parseInt(u.titleBarHeight),F="RIGHT_TOP";x.style.display="none",u.addFrameComponent("restoreButton",x,n,m,F)}},u}L.exports.getStyle=w},"./src/presets/appearance/PresetStyleToast.js":L=>{function P(h){return h.showTitleBar=!1,h.showCloseButton=!0,h.titleBarCaptionFontSize="0px",h.titleBarCaptionFontWeight="normal",h.titleBarCaptionLeftMargin="0px",h.titleBarCaptionColorDefault="transparent",h.titleBarCaptionColorFocused="transparent",h.titleBarHeight="0px",h.titleBarColorDefault="transparent",h.titleBarColorFocused="transparent",h.titleBarBorderBottomDefault=null,h.titleBarBorderBottomFocused=null,h.frameBorderRadius="10px",h.frameBorderWidthDefault="0px",h.frameBorderWidthFocused="0px",h.frameBorderColorDefault="transparent",h.frameBorderColorFocused="transparent",h.frameBorderStyle="solid",h.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",h.frameBackgroundColor="transparent",h.frameComponents=[],h.frameHeightAdjust=1,h.captionClor="darkgray",h.pullUpDisabled=!1,h.getTitleBarStyle=function(){return h.focusedFrameOnly?{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}:{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},h.onInitialize=function(){var w=h.getPartsBuilder(),u="\u274C",s="\u2716",y="\u274E",o=s,r=w.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=0,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="transparent",r.backgroundColorFocused="transparent",r.backgroundColorHovered="transparent",r.backgroundColorPressed="transparent",r.backgroundBoxShadow=null,r.caption=o,r.captionColorDefault=h.captionClor,r.captionColorFocused=h.captionClor,r.captionColorHovered=h.captionClor,r.captionColorPressed=h.captionClor,r.captionShiftYpx=1,r.captionFontRatio=.6;var n=w.buildTextButton(r),m=-6,F=3,g="RIGHT_TOP";h.addFrameComponent("closeButton",n,m,F,g)},h}L.exports.getStyle=P},"./src/presets/appearance/PresetStyleYosemite.js":(L,P,h)=>{h("./src/presets/appearance/PresetStyleYosemite.css");var w=h("./src/utils/ObjectAssigner.js");function u(s,y){var o={titleBar:{greenButton:"maximize"}},r=o;return y&&w.objectAssign(o,y),s.showTitleBar=!0,s.showCloseButton=!0,s.titleBarCaptionFontSize="11px",s.titleBarCaptionFontWeight="normal",s.titleBarCaptionLeftMargin=null,s.titleBarCaptionColorDefault="#4d494d",s.titleBarCaptionColorFocused="#4d494d",s.titleBarHeight="26px",s.titleBarColorDefault=null,s.titleBarColorFocused=null,s.titleBarBorderBottomDefault="1px solid #b1aeb1",s.titleBarBorderBottomFocused=s.titleBarBorderBottomDefault,s.frameBorderRadius="6px",s.frameBorderWidthDefault="1px",s.frameBorderWidthFocused="1px",s.frameBorderColorDefault="#acacac",s.frameBorderColorFocused="#acacac",s.frameBorderStyle="solid",s.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",s.frameBackgroundColor="transparent",s.frameComponents=new Array,s.getTitleBarStyle=function(){return s.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},s.onInitialize=function(){var n=s.getPartsBuilder(),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";r.titleBar.greenButton==="fullscreen"&&(F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",C=10,b=10,v="margin:0px;padding:0px;width:"+C+"px;height:"+b+"px",d=document.createElement("img");d.src=F,d.setAttribute("style",v);var f=document.createElement("img");f.src=g,f.setAttribute("style",v);var p=document.createElement("img");p.src=a,p.setAttribute("style",v);var B=document.createElement("img");B.src=m,B.setAttribute("style",v);var x=document.createElement("img");x.src=S,x.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");{var D=n.buildImageButtonAppearance();D.imageDefault=x,D.imageHovered=B,D.imagePressed=B,D.imageFocused=x,D.size=10,D.borderRadius=5,D.borderWidth=1,D.borderColorDefault="#c6c6c6",D.borderColorFocused="#d3524e",D.borderColorHovered=D.borderColorFocused,D.borderColorPressed="#e64842",D.borderStyleDefault="solid",D.borderStyleFocused=D.borderStyleDefault,D.borderStyleHovered=D.borderStyleDefault,D.borderStylePressed=D.borderStyleDefault,D.backgroundColorDefault="#d0d0d0",D.backgroundColorFocused="#fc615c",D.backgroundColorHovered=D.backgroundColorFocused,D.backgroundColorPressed=D.backgroundColorDefault,D.setSrc({default:S,focused:S,hovered:m,pressed:m});var t=n.buildButton(D),e=8,l=-19,i="LEFT_TOP";s.addFrameComponent(r.closeButtonName||"closeButton",t,e,l,i);var _=n.buildImageButtonAppearance(D);_.borderColorDefault="#c6c6c6",_.borderColorFocused="#e6b347",_.borderColorHovered=_.borderColorFocused,_.borderColorPressed="#e1a12d",_.backgroundColorDefault="#d0d0d0",_.backgroundColorFocused="#fdbe40",_.backgroundColorHovered=_.backgroundColorFocused,_.backgroundColorPressed=_.backgroundColorDefault,_.imageDefault=x,_.imageHovered=p,_.imagePressed=p,_.imageFocused=x;var E=n.buildButton(_),M=n.buildButton(_);M.style.display="none";var e=28,l=-19,i="LEFT_TOP";s.addFrameComponent("minimizeButton",E,e,l,i),s.addFrameComponent("deminimizeButton",M,e,l,i);var T=n.buildImageButtonAppearance(D);T.borderColorDefault="#c6c6c6",T.borderColorFocused="#67b657",T.borderColorHovered=T.borderColorFocused,T.borderColorPressed="#00af38",T.backgroundColorDefault="#d0d0d0",T.backgroundColorFocused="#34ca49",T.backgroundColorHovered=T.backgroundColorFocused,T.backgroundColorPressed=T.backgroundColorDefault,T.imageDefault=x,T.imageHovered=d,T.imagePressed=d,T.imageFocused=x;var c=n.buildButton(T),O=n.buildImageButtonAppearance(D);O.borderColorDefault="#c6c6c6",O.borderColorFocused="#67b657",O.borderColorHovered=O.borderColorFocused,O.borderColorPressed="#00af38",O.backgroundColorDefault="#d0d0d0",O.backgroundColorFocused="#34ca49",O.backgroundColorHovered=O.backgroundColorFocused,O.backgroundColorPressed=O.backgroundColorDefault,O.imageDefault=x,O.imageHovered=f,O.imagePressed=f,O.imageFocused=x;var R=n.buildButton(O);R.style.display="none";var e=48,l=-19,i="LEFT_TOP";s.addFrameComponent("dezoomButton",R,e,l,i),s.addFrameComponent("zoomButton",c,e,l,i)}},s}L.exports.getStyle=u},"./src/presets/window/PresetWindowYosemite.js":(L,P,h)=>{var w=h("../../node_modules/merge-deeply/lib/merge-deeply.js");function u(s){var y={};y.appearanceName="yosemite",y.appearanceParam={};var o={};s&&(o=s);var r=o.maximizeButtonBehavior==="fullscreen",n=o.minimizeButtonBehavior==="minimize"?"minimizeButton":null,m=o.minimizeButtonBehavior==="hide"?"minimizeButton":null,F=o.closeButtonBehavior==="hide"?"custom-close-button":null,g=o.control,a=F,S=o.closeButtonName;return r&&(y.appearanceParam.titleBar={greenButton:"fullscreen"}),y.appearanceParam.closeButtonName=a||S||"closeButton",y.setupPresetWindow=function(C){var b={maximizeButton:"zoomButton",maximizeParam:{fullScreen:r,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:n,hideButtons:[m,F],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};g&&w({op:"overwrite-merge",object1:b,object2:g}),C.setControl(b)},y}L.exports.getPresetWindow=u},"./src/utils/CSimpleLayoutAnimator.js":(L,P,h)=>{var w=h("./src/utils/CTimer.js");function u(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}u.prototype.set=function(s){var y=this;y.targetFrame=s,y.fromWidth(s.getWidth()),y.fromHeight(s.getHeight()),y.toWidth(s.getWidth()),y.toHeight(s.getHeight());var o=s.getPosition();return y.fromPosition(o.x,o.y,o.anchor),y},u.prototype.get=function(){var s=this;return s.targetFrame},u.prototype.setDuration=function(s){var y=this;return y.durationMillis=s,y},u.prototype.setFPS=function(s){var y=this;return y.fps=s,y},u.prototype.fromPosition=function(s,y,o){var r=this;return r.pinnedAnimationEnabled=!0,r._pinX=s,r._pinY=y,r.toPosition(s,y),o&&(r._pinAnchor=o),r},u.prototype.fromWidth=function(s){var y=this;return y._crrWidth=s,y},u.prototype.fromHeight=function(s){var y=this;return y._crrHeight=s,y},u.prototype.toWidth=function(s){var y=this;return y._toWidth=s,y},u.prototype.toHeight=function(s){var y=this;return y._toHeight=s,y},u.prototype.fromAlpha=function(s){var y=this;return y._crrAlpha=s,y},u.prototype.toAlpha=function(s){var y=this;return y._toAlpha=s,y},u.prototype.ease=function(s){var y=this;return y._ease=s,y},u.prototype.toPosition=function(s,y){var o=this;return o._toX=s,o._toY=y,o},u.prototype.toX=function(s){var y=this;return y._toX=s,y},u.prototype.toY=function(s){var y=this;return y._toY=s,y},u.prototype.start=function(s,y){var o=this,r=o._crrWidth,n=o._crrHeight,m=o._pinX,F=o._pinY,g=o._crrAlpha;return new Promise(function(a,S){var C=parseInt(o.fps*(o.durationMillis/1e3));C==0&&(C=1);var b=(o._toWidth-r)/C,v=(o._toHeight-n)/C,d=(o._toX-m)/C,f=(o._toY-F)/C,p=(o._toAlpha-g)/C;o._ease&&(p=p/1.24);var B=o.durationMillis/C,x=0;function D(){var e=new w;e.setIntervalMillis(B),e.setCallback(function(l){if(x==C){var i=o._toWidth,_=o._toHeight,E=m+d*x,M=F+f*x,T=o._toAlpha;o.pinnedAnimationEnabled&&o.targetFrame._setPositionInternally(E,M,o._pinAnchor,i,_),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=T),o.targetFrame.setSize(i,_,!0),o._crrWidth=i,o._crrHeight=_,o._pinX=E,o._pinY=M}if(x==C+1){l.stopTimer(),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=o._toAlpha),a(o);return}var i=r+b*x,_=n+v*x,E=m+d*x,M=F+f*x,T=g+p*x;if(o.pinnedAnimationEnabled&&o.targetFrame._setPositionInternally(E,M,o._pinAnchor,i,_),o.targetFrame.htmlElement.style&&(o.targetFrame.htmlElement.style.opacity=T),o.targetFrame.setSize(i,_,!0),x==0){var c=o.targetFrame.parentCanvas;if(c){var O=c.getWindow(o.targetFrame.id);O&&o.targetFrame.show({requestFocus:y})}}x++}),e.startTimer()}if(s){var t=new w;t.setIntervalMillis(s),t.setCallback(function(e){e.stopTimer(),D()}),t.startTimer()}else D()})},L.exports=u},"./src/utils/CTimer.js":L=>{var P=function(){function h(){var w=this;w._timerId=null,w._isRunning=!1,w._timerInterval=0,w._internalCallback=u,w._timerMethod=null;function u(){w._timerMethod&&w._timerMethod(w),w._isRunning&&(clearTimeout(w._timerId),w._timerId=setTimeout(w._internalCallback,w._timerInterval))}}return h.prototype.setCallback=function(w){var u=this;return u._timerMethod=w,u},h.prototype.setIntervalMillis=function(w){var u=this;return u._timerInterval=w,u},h.prototype.stopTimer=function(){var w=this;return w._isRunning=!1,w},h.prototype.startTimer=function(){var w=this;return w._timerInterval>0&&(w._timerId=setTimeout(w._internalCallback,w._timerInterval),w._isRunning=!0),w},h}();L.exports=P},"./src/utils/Inherit.js":L=>{function P(h,w){function u(){}u.prototype=w.prototype,h.prototype=new u,h.prototype.constructor=h,h.superConstructor=w,h.superClass=w.prototype}L.exports=P},"./src/utils/ObjectAssigner.js":L=>{var P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function h(s,y,o){return y in s?Object.defineProperty(s,y,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[y]=o,s}function w(s){return s&&(typeof s=="undefined"?"undefined":P(s))==="object"&&!Array.isArray(s)}function u(s){for(var y=arguments.length,o=Array(y>1?y-1:0),r=1;r<y;r++)o[r-1]=arguments[r];if(!o.length)return s;var n=o.shift();if(w(s)&&w(n))for(var m in n)w(n[m])?(s[m]||Object.assign(s,h({},m,{})),u(s[m],n[m])):Object.assign(s,h({},m,n[m]));return u.apply(void 0,[s].concat(o))}L.exports.objectAssign=u},"./src/utils/WindowEventHelper.js":(L,P,h)=>{"use strict";var w=h("./src/utils/CSimpleLayoutAnimator.js"),u=h("./src/CCommon.js"),s=h("../../node_modules/merge-deeply/lib/merge-deeply.js"),y=h("../../node_modules/event-listener-helper/lib/event-listener-helper.js");function o(r){this.eventListenerHelper=new y,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=r,this.isWindowManagerFixed=r.frame.jsFrame.isWindowManagerFixed,r.styleDisplay&&(this.styleDisplay=r.styleDisplay),r.minimizeButton&&(this.minimizeButton=r.minimizeButton),r.deminimizeButton&&(this.deminimizeButton=r.deminimizeButton),r.maximizeButton&&(this.maximizeButton=r.maximizeButton),r.demaximizeButton&&(this.demaximizeButton=r.demaximizeButton),r.hideButton&&(this.hideButton=r.hideButton),r.hideButtons&&(this.hideButtons=r.hideButtons),this.maximizeParam=r.maximizeParam,this.demaximizeParam=r.demaximizeParam,this.minimizeParam=r.minimizeParam,this.deminimizeParam=r.deminimizeParam,this.hideParam=r.hideParam,this.dehideParam=r.dehideParam,r.horizontalAlign&&(this.horizontalAlign=r.horizontalAlign),r.verticalAlign&&(this.verticalAlign=r.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=r.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},r.animation&&(this.animationEnabled=r.animation),r.animationDuration&&(this.animationDuration=r.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}o.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",o.prototype.on=function(r,n){var m=this;m.eventListeners[r]=n},o.prototype.doMaximize=function(r){var n=this;if(n.windowMode==="hid")throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if(n.windowMode==="maximized"||n.windowMode==="maximizing")return;n.windowMode="maximizing";var m=n.frame;if(r&&r.matchParent){var F=m.getWindowManager(),g=F.getParentElement();if(!n.matchParentResizeObserver){var a=new MutationObserver(function(){n.resizeListener()});a.observe(g,{attributeFilter:[o.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),n.matchParentResizeObserver=a}}else n.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||n.eventListenerHelper.addEventListener(window,"resize",n.resizeListener,{listenerName:"window-resize-listener"});n.saveCurrentWindowStats("maximize_mode"),n.hideTitleBar=r?r.fullScreen:!1,n.hideTitleBar?m.hideAllVisibleFrameComponents():(n.maximizeButton&&m.hideFrameComponent(n.maximizeButton),n.demaximizeButton&&m.showFrameComponent(n.demaximizeButton,n.styleDisplay)),m.setMovable(!1),m.setResizable(!1),r&&r.restoreKey&&(n.restoreKey=r.restoreKey),r&&r.restoreDuration&&(n.restoreDuration=r.restoreDuration),r&&r.restoreCallback&&(n.restoreCallback=r.restoreCallback),n.renderMaximizedMode({animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,matchParent:r&&r.matchParent?r.matchParent:!1})},o.prototype.renderMaximizedMode=function(r){var n=this,m=n.frame,F=n.loadWindowStats("maximize_mode"),g=0,a=0,S=0,C=0;n.hideTitleBar&&(g=0,a=-F.titleBarHeight);var b=window.innerWidth,v=window.innerHeight;if(r.matchParent){var d=m.getWindowManager(),f=d.getParentElement();b=f.clientWidth,v=f.clientHeight}n.hideFrameBorder?(S=b,C=v+(n.hideTitleBar?F.titleBarHeight:0)):(S=b-F.frameBorderWidthDefault*2,C=v-F.frameBorderWidthDefault*2+(n.hideTitleBar?F.titleBarHeight:0)),n.horizontalAlign=="right"&&(g=-S),n.verticalAlign=="bottom"&&(a=-C);var p=function(B){var x=B&&B.disableCallback;if(m.setPosition(g,a),n.hideFrameBorder&&(m.frameBorderWidthDefault=0,m.frameBorderWidthFocused=0,m.htmlElement.style.borderWidth="0px"),m.setSize(S,C,!0),x)return;n.hideTitleBar&&(n.restoreKey&&(n.keyListener=function(D){D.code===n.restoreKey&&n.doCommand("restore")}),window.addEventListener("keydown",n.keyListener),m.iframe&&m.iframe.contentWindow.addEventListener("keydown",n.keyListener)),n.windowMode="maximized",r&&r.callback&&r.callback(n.frame,{eventType:"maximized"}),n.eventListeners.maximized&&n.eventListeners.maximized(n.frame,{eventType:"maximized"})};r&&r.animation?n.animateFrame({frame:m,from:F,to:{left:g,top:a,width:S,height:C},duration:r.duration?r.duration:n.animationDuration,callback:p}):r&&r.caller==="handleOnResize"?p({disableCallback:!0}):p()},o.prototype.getWindowMode=function(){return this.windowMode},o.prototype.doDemaximize=function(r){var n=this,m=n.frame;if(n.windowMode==="hid")throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");if(!n.hasWindowStats("maximize_mode"))return;n.hideTitleBar||(n.maximizeButton&&m.showFrameComponent(n.maximizeButton,n.styleDisplay),n.demaximizeButton&&m.hideFrameComponent(n.demaximizeButton)),n.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,forceShowFrameComponents:n.animationEnabled&&n.hideTitleBar,duration:r&&r.duration?r.duration:null,eventType:"demaximized"})},o.prototype.handleOnResize=function(){var r=this;r.renderMaximizedMode({caller:"handleOnResize"})},o.prototype.handleOnVirtualResize=function(){var r=this;r.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},o.prototype.doMinimize=function(r){var n=this;if(n.windowMode==="minimized"||n.windowMode==="minimizing")return;n.windowMode="minimizing";var m=n.frame;n.saveCurrentWindowStats("minimize_mode"),m.setResizable(!1),n.renderMinimizedMode({animation:n.animationEnabled,callback:r&&r.callback?r.callback:null,duration:r&&r.duration?r.duration:null,toWidth:r&&r.toWidth?r.toWidth:null})},o.prototype.renderMinimizedMode=function(r){var n=this,m=n.frame,F=n.loadWindowStats("minimize_mode"),g=n.getCurrentWindowStats(),a=n.getCurrentWindowStats();a.height=F.titleBarHeight,r&&r.toWidth&&(a.width=r.toWidth);var S=function(){var C=!0;m.setSize(a.width,a.height,C),n.windowMode="minimized",n.minimizeButton&&m.hideFrameComponent(n.minimizeButton),n.deminimizeButton&&m.showFrameComponent(n.deminimizeButton,n.styleDisplay),r.callback&&r.callback(n.frame,{eventType:"minimized"}),n.eventListeners.minimized&&n.eventListeners.minimized(n.frame,{eventType:"minimized"})};r&&r.animation?n.animateFrame({toAlpha:1,duration:r.duration?r.duration:n.animationDuration,frame:m,from:g,to:a,callback:S}):S()},o.prototype.doDeminimize=function(r){var n=this,m=n.frame;if(!n.hasWindowStats("minimize_mode"))return;n.minimizeButton&&m.showFrameComponent(n.minimizeButton,n.styleDisplay),n.deminimizeButton&&m.hideFrameComponent(n.deminimizeButton),n.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:n.animationEnabled,duration:r&&r.duration?r.duration:null,callback:r&&r.callback?r.callback:null,eventType:"deminimized"})},o.prototype.doHide=function(r){var n=this;if(n.windowMode==="hid"||n.windowMode==="hiding")return;n.windowMode="hiding";var m=n.frame;n.saveCurrentWindowStats("hide_mode"),m.setResizable(!1);var F={animation:n.animationEnabled};r&&s({op:"overwrite-merge",object1:F,object2:r}),n.renderHideMode(F)},o.prototype.renderHideMode=function(r){var n=this,m=n.frame,F=n.loadWindowStats("hide_mode"),g=n.getCurrentWindowStats(),a={x:0,y:0},S=r.toElement;r.offset&&(a=r.offset);var C=0,b=0;{var v=r&&r.align?r.align:"LEFT_TOP";if(!v||u.LEFT_TOP==v)C=g.left,b=g.top;else if(u.HCENTER_TOP==v)C=g.left+g.width/2,b=g.top;else if(u.RIGHT_TOP==v)C=g.left+g.width,b=g.top;else if(u.LEFT_VCENTER==v)C=g.left,b=g.top+g.height/2;else if(u.HCENTER_VCENTER==v)C=g.left+g.width/2,b=g.top+g.height/2;else if(u.RIGHT_VCENTER==v)C=g.left+g.width,b=g.top+g.height/2;else if(u.LEFT_BOTTOM==v)C=g.left,b=g.top+g.height;else if(u.HCENTER_BOTTOM==v)C=g.left+g.width/2,b=g.top+g.height;else if(u.RIGHT_BOTTOM==v)C=g.left+g.width,b=g.top+g.height;else if(v=="ABSOLUTE")if(S){var d=S.getBoundingClientRect();n.isWindowManagerFixed?(C=d.left,b=d.top):(C=d.left+window.pageXOffset,b=d.top+window.pageYOffset)}else C=a.x,b=a.y}var f={left:C,top:b,width:0,height:F.titleBarHeight},p=function(){var B=!0;m.setSize(f.width,f.height,B),n.windowMode="hid",r&&r.callback&&r.callback(n.frame,{eventType:"hid"}),n.eventListeners.hid&&n.eventListeners.hid(n.frame,{eventType:"hid"})};m.hideAllVisibleFrameComponents(),r&&r.animation?n.animateFrame({fromAlpha:r.silent?0:1,toAlpha:0,ease:!0,duration:r.duration?r.duration:n.animationDuration,frame:m,from:g,to:f,callback:p}):p()},o.prototype.doDehide=function(r){var n=this,m=n.frame;if(!n.hasWindowStats("hide_mode"))return;n.restoreWindow({duration:r&&r.duration?r.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:n.animationEnabled,forceShowFrameComponents:!0,callback:r&&r.callback?r.callback:null,eventType:"dehided"})},o.prototype.loadWindowStats=function(r){var n=this;return n.statsStore[r]},o.prototype.saveCurrentWindowStats=function(r){var n=this,m=n.getCurrentWindowStats();if(n.hasWindowStats(r)){var F=n.loadWindowStats(r),g=!n.windowStatsEquals(m,F);return g&&(n.statsStore[r]=m),g}else return n.statsStore[r]=m,!0},o.prototype.windowStatsEquals=function(r,n){if(r&&n){var m=JSON.stringify(r)===JSON.stringify(n);return m}else return!1},o.prototype.clearWindowStats=function(r){var n=this;n.statsStore[r]=null},o.prototype.hasWindowStats=function(r){var n=this;return n.statsStore[r]},o.prototype.getCurrentWindowStats=function(){var r=this,n=r.frame,m=parseInt(n.titleBar.style.height,10),F=n.frameBorderWidthDefault,g=n.frameBorderWidthFocused,a=n.getLeft(),S=n.getTop(),C=n.getWidth(),b=n.getHeight(),v=n.resizable,d=n.movable;return{left:a,top:S,width:C,height:b,titleBarHeight:m,frameBorderWidthDefault:F,frameBorderWidthFocused:g,resizable:v,movable:d}},o.prototype.restoreWindow=function(r){var n=this,m=n.frame,F=n.loadWindowStats(r.restoreMode),g=n.getCurrentWindowStats();m.frameBorderWidthDefault=F.frameBorderWidthDefault,m.frameBorderWidthFocused=F.frameBorderWidthFocused,m.htmlElement.style.borderWidth=m.frameBorderWidthFocused;var a=function(){r&&r.restorePosition==!1&&(F.left=g.left,F.top=g.top),m.setPosition(F.left,F.top);var S=!0;m.setSize(F.width,F.height,S),m.setResizable(F.resizable),m.setMovable(F.movable),n.clearWindowStats(r.restoreMode),n.keyListener&&(window.removeEventListener("keydown",n.keyListener),m.iframe&&m.iframe.contentWindow.removeEventListener("keydown",n.keyListener),n.keyListener=null),n.windowMode="default",r&&r.forceShowFrameComponents&&m.showAllVisibleFrameComponents(),m.show();var C="restored";r&&r.eventType&&(C=r.eventType),r&&r.callback&&r.callback(n.frame,{eventType:C}),n.eventListeners[C]&&n.eventListeners[C](n.frame,{eventType:C})};r&&r.animation?n.animateFrame({duration:r.duration?r.duration:n.animationDuration,frame:m,fromAlpha:0,toAlpha:1,from:g,to:F,callback:a}):a(),n.eventListenerHelper.removeEventListener(window,"resize",n.resizeListener),n.matchParentResizeObserver&&(n.matchParentResizeObserver.disconnect(),n.matchParentResizeObserver=null)},o.prototype.animateFrame=function(r){var n=this,m=!1,F=isNaN(r.fromAlpha)?1:r.fromAlpha,g=r.from,a=r.to,S=new w;S.set(r.frame).setDuration(r.duration?r.duration:n.animationDuration).fromPosition(g.left,g.top,"LEFT_TOP").toPosition(a.left,a.top,"LEFT_TOP").fromWidth(g.width).fromHeight(g.height).toWidth(a.width).toHeight(a.height).fromAlpha(F).toAlpha(r.toAlpha==0?0:1).ease(r.ease).start(0,m).then(function(C){r.callback()})},o.prototype.doCommand=function(r,n){var m=this;r==="maximize"&&m._defaultFunctionMaximize(m.frame),r==="demaximize"&&m._defaultFunctionDemaximize(m.frame),r==="restore"&&m._defaultFunctionRestoreFromFullscreen(m.frame),r==="minimize"&&m._defaultFunctionMinimize(m.frame),r==="deminimize"&&m._defaultFunctionDeminimize(m.frame),r==="hide"&&m._defaultFunctionHide(m.frame),r==="dehide"&&m._defaultFunctionDehide(m.frame)},o.prototype._defaultFunctionMaximize=function(r,n){var m=this,F=m.opts,g={fullScreen:F.maximizeWithoutTitleBar===!0,restoreKey:F.restoreKey?F.restoreKey:"Escape",restoreDuration:F.restoreDuration};this.maximizeParam&&s({op:"overwrite-merge",object1:g,object2:this.maximizeParam}),r.control.doMaximize(g)},o.prototype._defaultFunctionDemaximize=function(r,n){r.control.doDemaximize({})},o.prototype._defaultFunctionRestoreFromFullscreen=function(r,n){var m=this;r.control.doDemaximize({duration:m.restoreDuration?m.restoreDuration:null,callback:m.restoreCallback?m.restoreCallback:null})},o.prototype._defaultFunctionMinimize=function(r,n){r.control.doMinimize(this.minimizeParam)},o.prototype._defaultFunctionDeminimize=function(r,n){r.control.doDeminimize(this.deminimizeParam)},o.prototype._defaultFunctionHide=function(r,n){var m={align:"CENTER_BOTTOM"};this.hideParam&&(m=this.hideParam),r.control.doHide(m)},o.prototype._defaultFunctionDehide=function(r,n){var m=this;r.control.doDehide(m.dehideParam)},o.prototype.setupDefaultEvents=function(){var r=this;if(r.maximizeButton&&r.frame.on(r.maximizeButton,"click",r._defaultFunctionMaximize.bind(r)),r.demaximizeButton&&r.frame.on(r.demaximizeButton,"click",r._defaultFunctionDemaximize.bind(r)),r.minimizeButton&&r.frame.on(r.minimizeButton,"click",r._defaultFunctionMinimize.bind(r)),r.deminimizeButton&&r.frame.on(r.deminimizeButton,"click",r._defaultFunctionDeminimize.bind(r)),r.hideButton&&r.frame.on(r.hideButton,"click",r._defaultFunctionHide.bind(r)),r.hideButtons)for(var n in r.hideButtons){var m=r.hideButtons[n];m&&r.frame.on(m,"click",r._defaultFunctionHide.bind(r))}},L.exports=o}},$={};function G(L){if($[L])return $[L].exports;var P=$[L]={id:L,exports:{}};return ie[L].call(P.exports,P,P.exports,G),P.exports}return(()=>{G.n=L=>{var P=L&&L.__esModule?()=>L.default:()=>L;return G.d(P,{a:P}),P}})(),(()=>{G.d=(L,P)=>{for(var h in P)G.o(P,h)&&!G.o(L,h)&&Object.defineProperty(L,h,{enumerable:!0,get:P[h]})}})(),(()=>{G.o=(L,P)=>Object.prototype.hasOwnProperty.call(L,P)})(),(()=>{G.r=L=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}})(),G("./src/index.js")})()});
