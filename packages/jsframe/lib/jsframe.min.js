!function(){var e=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},t=e(function(e,t){t.exports=".jsframe-titlebar-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-titlebar-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-modal-window-background {\n    background: rgba(0, 0, 0, 0.6);\n    height: 100%;\n    widdth: 100%\n}"}),r=e(function(e,t){var r,n;r=e,n=function(){return function(){var e={561:function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}r.d(t,{default:function(){return u}});var u=function(){function e(t){if(l(this,e),this.onListeners=new Map,this.onlyListeners=new Map,t){var r,n=o(t);try{for(n.s();!(r=n.n()).done;){var a=r.value,i=new c;this.onListeners.set(a,i)}}catch(e){n.e(e)}finally{n.f()}}this.childEventEmitters=[],this.onIntercepterFuncs={}}return d(e,[{key:"on",value:function(e,t){var r=this.onListeners.get(e);if(r||(r=new c,this.onListeners.set(e,r)),r.addListenerFunc(t),this.onIntercepterFuncs)for(var o=0,a=Object.entries(this.onIntercepterFuncs);o<a.length;o++){var i=n(a[o],2);(0,i[1])({eventType:e,func:t,onIntercepterFuncname:i[0]})}}},{key:"removeListener",value:function(e,t){var r=this.onListeners.get(e);r&&r.removeListener(t)}},{key:"only",value:function(e,t,r){var n=this.onlyListeners.get(e);n||(n=new m,this.onlyListeners.set(e,n)),n.putListenerFunc(t,r)}},{key:"pipe",value:function(e){this.childEventEmitters.push(e)}},{key:"emit",value:function(e,t){var r=this.onListeners.get(e);r&&(t.eventType=e,r.callListenerFunc(t));var n=this.onlyListeners.get(e);n&&(t.eventType=e,n.callListenerFunc(t));var a,i=o(this.childEventEmitters);try{for(i.s();!(a=i.n()).done;)a.value.emit(e,t)}catch(e){i.e(e)}finally{i.f()}}},{key:"getAllListeners",value:function(){var e={};this.onListeners.forEach(function(t,r){var n=r,o=t.getAllListeners();e[n]||(e[n]={}),e[n].listeners=o});var t,r=0,n=o(this.childEventEmitters);try{for(n.s();!(t=n.n()).done;)t.value.onListeners.forEach(function(t,n){var o=n,a=t.getAllListeners();e[o]||(e[o]={}),e[o].childEventEmitters||(e[o].childEventEmitters=[]),e[o].childEventEmitters.push({childEmitterIdx:r,listeners:a})}),r++}catch(e){n.e(e)}finally{n.f()}return e}},{key:"hasListenerFuncs",value:function(e){if(this.onListeners.has(e)){var t=this.onListeners.get(e);if(t&&t.hasListenerFunc())return!0}var r,n=o(this.childEventEmitters);try{for(n.s();!(r=n.n()).done;)if(r.value.hasListenerFuncs(e))return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"clearAll",value:function(){var e,t=o(this.onListeners.values());try{for(t.s();!(e=t.n()).done;)e.value.clearAll()}catch(e){t.e(e)}finally{t.f()}this.onListeners.clear();var r,n=o(this.onlyListeners.values());try{for(n.s();!(r=n.n()).done;)r.value.clearAll()}catch(e){n.e(e)}finally{n.f()}this.onlyListeners.clear(),this.childEventEmitters=[]}},{key:"addOnIntercepterFunc",value:function(e,t){if(this.onIntercepterFuncs[e])throw Error('Always registered intercepter func "'.concat(e,'".'));this.onIntercepterFuncs[e]=t}},{key:"removeOnIntercepterFunc",value:function(e){delete this.onIntercepterFuncs[e]}},{key:"getAllOnIntercepterFuncs",value:function(){for(var e=[],t=0,r=Object.entries(this.onIntercepterFuncs);t<r.length;t++){var o=n(r[t],2);e.push({funcName:o[0],func:o[1]})}return e}}]),e}(),c=function(){function e(){l(this,e),this.listenerFuncs=[]}return d(e,[{key:"clearAll",value:function(){this.listenerFuncs=[]}},{key:"getAllListeners",value:function(){return this.listenerFuncs}},{key:"hasListenerFunc",value:function(){return this.listenerFuncs.length>0}},{key:"addListenerFunc",value:function(e){this.listenerFuncs.push(e)}},{key:"callListenerFunc",value:function(e){var t,r=o(this.listenerFuncs);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("Function"!==this.typeOf(n))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(n,'".Check args of #only method or #on method.'));n(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"removeListener",value:function(e){this.removeArrayItemOnce(this.listenerFuncs,e)}},{key:"removeArrayItemOnce",value:function(e,t){var r=e.indexOf(t);return r>-1&&e.splice(r,1),e}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}(),m=function(){function e(){l(this,e),this.listenerFuncMap=new Map}return d(e,[{key:"clearAll",value:function(){this.listenerFuncMap.clear()}},{key:"hasListenerFunc",value:function(e){return this.listenerFuncMap.has(e)}},{key:"putListenerFunc",value:function(e,t){this.listenerFuncMap.set(e,t)}},{key:"callListenerFunc",value:function(e){var t,r=o(this.listenerFuncMap.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;if("Function"!==this.typeOf(n))throw Error('[@riversun/event-emitter] listenerFunction you set is not a function. listenerFunction:"'.concat(n,'".Check args of #only method or #on method.'));n(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}]),e}()}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(561)}().default},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define("EventEmitter",[],n):"object"==typeof e?e.EventEmitter=n():r.EventEmitter=n()}),n=e(function(e,t){CALIGN={},CALIGN.LEFT_TOP="LEFT_TOP",CALIGN.HCENTER_TOP="CENTER_TOP",CALIGN.RIGHT_TOP="RIGHT_TOP",CALIGN.LEFT_VCENTER="LEFT_CENTER",CALIGN.HCENTER_VCENTER="CENTER_CENTER",CALIGN.CENTER=CALIGN.HCENTER_VCENTER,CALIGN.RIGHT_VCENTER="RIGHT_CENTER",CALIGN.LEFT_BOTTOM="LEFT_BOTTOM",CALIGN.HCENTER_BOTTOM="CENTER_BOTTOM",CALIGN.RIGHT_BOTTOM="RIGHT_BOTTOM",t.exports=CALIGN}),o=e(function(e,t){var r=function(){function e(){var e=this;e._timerId=null,e._isRunning=!1,e._timerInterval=0,e._internalCallback=function(){e._timerMethod&&e._timerMethod(e),e._isRunning&&(clearTimeout(e._timerId),e._timerId=setTimeout(e._internalCallback,e._timerInterval))},e._timerMethod=null}return e.prototype.setCallback=function(e){return this._timerMethod=e,this},e.prototype.setIntervalMillis=function(e){return this._timerInterval=e,this},e.prototype.stopTimer=function(){return this._isRunning=!1,this},e.prototype.startTimer=function(){var e=this;return e._timerInterval>0&&(e._timerId=setTimeout(e._internalCallback,e._timerInterval),e._isRunning=!0),e},e}();t.exports=r}),a=e(function(e,t){var r=o();function n(){this.fps=30,this.durationMillis=200,this.targetFrame=null,this._crrAlpha=1,this._toAlpha=1,this._crrWidth=0,this._crrHeight=0,this._toWidth=0,this._toHeight=0,this._toX=0,this._toY=0,this.pinnedAnimationEnabled=!1,this._pinX=0,this._pinY=0,this._pinAnchor=null}n.prototype.set=function(e){var t=this;t.targetFrame=e,t.fromWidth(e.getWidth()),t.fromHeight(e.getHeight()),t.toWidth(e.getWidth()),t.toHeight(e.getHeight());var r=e.getPosition();return t.fromPosition(r.x,r.y,r.anchor),t},n.prototype.get=function(){return this.targetFrame},n.prototype.setDuration=function(e){return this.durationMillis=e,this},n.prototype.setFPS=function(e){return this.fps=e,this},n.prototype.fromPosition=function(e,t,r){var n=this;return n.pinnedAnimationEnabled=!0,n._pinX=e,n._pinY=t,n.toPosition(e,t),r&&(n._pinAnchor=r),n},n.prototype.fromWidth=function(e){return this._crrWidth=e,this},n.prototype.fromHeight=function(e){return this._crrHeight=e,this},n.prototype.toWidth=function(e){return this._toWidth=e,this},n.prototype.toHeight=function(e){return this._toHeight=e,this},n.prototype.fromAlpha=function(e){return this._crrAlpha=e,this},n.prototype.toAlpha=function(e){return this._toAlpha=e,this},n.prototype.ease=function(e){return this._ease=e,this},n.prototype.toPosition=function(e,t){var r=this;return r._toX=e,r._toY=t,r},n.prototype.toX=function(e){return this._toX=e,this},n.prototype.toY=function(e){return this._toY=e,this},n.prototype.start=function(e,t){var n=this,o=n._crrWidth,a=n._crrHeight,i=n._pinX,l=n._pinY,s=n._crrAlpha;return new Promise(function(d,u){var c=parseInt(n.fps*(n.durationMillis/1e3));0==c&&(c=1);var m=(n._toWidth-o)/c,p=(n._toHeight-a)/c,h=(n._toX-i)/c,f=(n._toY-l)/c,y=(n._toAlpha-s)/c;n._ease&&(y/=1.24);var v=n.durationMillis/c,b=0;function g(){var e=new r;e.setIntervalMillis(v),e.setCallback(function(e){if(b==c){var r=n._toWidth,u=n._toHeight,v=i+h*b,g=l+f*b,C=n._toAlpha;n.pinnedAnimationEnabled&&n.targetFrame._setPositionInternally(v,g,n._pinAnchor,r,u),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=C),n.targetFrame.setSize(r,u,!0),n._crrWidth=r,n._crrHeight=u,n._pinX=v,n._pinY=g}if(b==c+1)return e.stopTimer(),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=n._toAlpha),void d(n);if(r=o+m*b,u=a+p*b,v=i+h*b,g=l+f*b,C=s+y*b,n.pinnedAnimationEnabled&&n.targetFrame._setPositionInternally(v,g,n._pinAnchor,r,u),n.targetFrame.htmlElement.style&&(n.targetFrame.htmlElement.style.opacity=C),n.targetFrame.setSize(r,u,!0),0==b){var B=n.targetFrame.parentCanvas;B&&B.getWindow(n.targetFrame.id)&&n.targetFrame.show({requestFocus:t})}b++}),e.startTimer()}if(e){var C=new r;C.setIntervalMillis(e),C.setCallback(function(e){e.stopTimer(),g()}),C.startTimer()}else g()})},t.exports=n}),i=e(function(e,t){var r,n;r=e,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,r){var i=function(e){return e&&"object"===s(e)&&!Array.isArray(e)},l=r&&r.concatArray,u=r.isCloneMode,c={};r&&r.assignToObject&&(c=r.assignToObject,r.assignToObject=null);var m,p,h,f=null;if(f=c===e?e:Object.assign(c,e),i(e)&&i(t))for(var y=0,v=Object.entries(t);y<v.length;y++){var b=a(v[y],2),g=b[0],C=b[1],B=e[g];if(l&&Array.isArray(C)&&Array.isArray(B)&&t!==e)f[g]=B.concat.apply(B,o(C));else if(i(C)&&Object.prototype.hasOwnProperty.call(e,g))f[g]=d(B,C,r);else{var E=C;if(u&&Array.isArray(C)){var w,x=[],A=n(C);try{for(A.s();!(w=A.n()).done;){var F=JSON.parse(JSON.stringify(w.value));x.push(F)}}catch(e){A.e(e)}finally{A.f()}E=x}Object.assign(f,(h=E,(p=g)in(m={})?Object.defineProperty(m,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):m[p]=h,m))}}return f}function u(e){var t=null,r=null,n=e.op;if(!n)throw Error('The initialization property "op" cannot be omitted. "merge","overwrite-merge","clone" can be specified.');var o="merge"===n,a="clone"===n,i="overwrite-merge"===n;if(o){if(r=e.object2,!(t=e.object1)||!r)throw Error("object1 or object2 is not specified.")}else if(i){if(r=e.object2,!(t=e.object1)||!r)throw Error("object1 or object2 is not specified.");if(0===Object.keys(r).length)return null}else{if(!a)throw Error('An invalid "op" property value "'.concat(n,'" has been specified.'));t=e.object1,r={}}var l=Object.create(Object.getPrototypeOf(t)),s=null,u=Object.getPrototypeOf(t)!==Object.prototype;return o&&u||a?(d(t,t,{assignToObject:l,concatArray:e&&e.concatArray,isCloneMode:a}),s=l):s={},d(a?s:t,r,{assignToObject:i?t:s,concatArray:e&&e.concatArray}),s}r.r(t),r.d(t,"default",function(){return u})}]).default},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define("mergeDeeply",[],n):"object"==typeof e?e.mergeDeeply=n():r.mergeDeeply=n()}),l=e(function(e,t){var r,n;r=e,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"default",function(){return s});var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.evTargetListenersMap=new Map,this.listenerNum=0}var t;return(t=[{key:"addEventListener",value:function(e,t,r,n){var o=this,a=null;if(n&&(a=this._cloneJson(n)),arguments.length>4)throw Error("Too many arguments. Number of arguments can be specified 4.");this._checkTypeOfOptions(a);var i=null;a&&a.listenerName&&(i=a.listenerName);var l=null;a&&a.once&&(delete a.once,a.callbackOnce=!0,l=function(n){r(n),o.removeEventListener(e,t,null,a)});var s={listenerName:null,success:!0};e.addEventListener(t,l||r,a);var d=this.evTargetListenersMap.get(e);d||(d=new Map,this.evTargetListenersMap.set(e,d));var u=d.get(t);if(u||(u=new Map,d.set(t,u)),null!==i){if(u.has(i))throw Error('The listenerName "'.concat(i,'" is already used for the specified event type ').concat(t));u.set(i,{listener:r,onceListener:l,options:a}),s.listenerName=i}else{var c="listener-".concat(this.listenerNum);a||(a={}),a.listenerName=c,u.set(c,{listener:r,onceListener:l,options:a}),s.listenerName=c,this.listenerNum+=1}return s}},{key:"removeEventListener",value:function(e,t,r,n){if(arguments.length<3)throw Error("Three or four arguments are required.");if("Function"!==this.typeOf(r)&&"Null"!==this.typeOf(r))throw Error('Type of 3rd arg should be a "Function" or "Null".');this._checkTypeOfOptions(n);var o=null;n&&n.listenerName&&(o=n.listenerName);var a={success:!1,message:"unknown error"},i=this.evTargetListenersMap.get(e);if(!i)return a.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have any listeners."),a;var l=i.get(t);if(!l)return a.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listeners.'),a;if(o){var s=l.get(o);if(!s)return a.message="DOM element ".concat(e,"(id=").concat(e.id,") doesn't have \"").concat(t,'" listener "').concat(o,'"'),a;l.delete(o),e.removeEventListener(t,s.options&&s.options.callbackOnce?s.onceListener:s.listener,s.options),a.success=!0}else if(!o){if(!r)return a.message="options.listenerName is not found",a;var d="listener",u=r,c=this._searchKeyInValueContent(l,d,u);if(c){var m=l.get(c),p=m.onceListener,h=m.options;l.delete(c),e.removeEventListener(t,p||r,h),a.success=!0}else a.success=!1,a.message="Specified listener could not be deleted from DOM element ".concat(e,"(id=").concat(e.id,").\n        Since the specified listener is not registered as an event listener,\n        it may have been registered outside of event-listener-helper.")}return a}},{key:"getEventListeners",value:function(e,t){return e?t?this._getEventListenersWith2Args(e,t):this._getEventListenersWith1Arg(e):[]}},{key:"getAllEventListeners",value:function(){var e=this,t=new Map;return this.evTargetListenersMap.forEach(function(r,n){var o=n,i=e._getEventListenersWith1Arg(o),l=new Map;t.set(o,l);var s,d=a(i);try{for(d.s();!(s=d.n()).done;){var u=s.value;l.set(u.eventType,u.listeners)}}catch(e){d.e(e)}finally{d.f()}}),t}},{key:"_getEventListenersWith1Arg",value:function(e){var t=[],r=this.evTargetListenersMap.get(e);if(!r)return t;var n,i=a(r);try{for(i.s();!(n=i.n()).done;){var l,s=o(n.value,2),d=s[0],u=[],c=a(s[1].values());try{for(c.s();!(l=c.n()).done;)u.push(this._getFrozenListenerDef(l.value))}catch(e){c.e(e)}finally{c.f()}u.length>0&&t.push({eventType:d,listeners:u})}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"_getEventListenersWith2Args",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var r=[],n=this.evTargetListenersMap.get(e);if(!n)return r;var o=n.get(t);if(!o)return r;var i,l=a(o.values());try{for(l.s();!(i=l.n()).done;){var s=i.value,d=this._getFrozenListenerDef(s);r.push(d)}}catch(e){l.e(e)}finally{l.f()}return r}},{key:"getEventListener",value:function(e,t,r){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var n=this.evTargetListenersMap.get(e);if(!n)return null;var o=n.get(t);if(!o)return null;var a=o.get(r),i=this._getFrozenListenerDef(a);return i}},{key:"hasEventListeners",value:function(e,t){if(2!==arguments.length)throw Error("Only two arguments can be specified");var r=this.evTargetListenersMap.get(e);if(!r)return!1;var n=r.get(t);return!(!n||0===n.size)}},{key:"hasEventListener",value:function(e,t,r){if(3!==arguments.length)throw Error("Only 3 arguments can be specified");var n=this.evTargetListenersMap.get(e);if(!n)return!1;var o=n.get(t);if(!o)return!1;var a=o.get(r);return!!a}},{key:"_getFrozenListenerDef",value:function(e){if(!e)return null;var t={},r=null,n=e.options;return n&&(t.options=r={},n.capture&&(r.capture=n.capture),n.callbackOnce&&(r.once=n.callbackOnce),n.listenerName&&(r.listenerName=n.listenerName)),t.listener=e.listener,Object.freeze(r),Object.freeze(t),t}},{key:"clearAllEventListeners",value:function(){var e,t=a(this.getAllEventTargets());try{for(t.s();!(e=t.n()).done;)this.clearEventListeners(e.value)}catch(e){t.e(e)}finally{t.f()}}},{key:"clearEventListeners",value:function(e,t){if(!e)throw Error("At least the EventTarget must be specified as an argument");var r=this.getEventListeners(e,t);if(t){if(t){var n,o=a(r);try{for(o.s();!(n=o.n()).done;)this.removeEventListener(e,t,null,n.value.options)}catch(e){o.e(e)}finally{o.f()}}}else{var i,l=a(r);try{for(l.s();!(i=l.n()).done;){var s,d=i.value,u=d.eventType,c=a(d.listeners);try{for(c.s();!(s=c.n()).done;)this.removeEventListener(e,u,null,s.value.options)}catch(e){c.e(e)}finally{c.f()}}}catch(e){l.e(e)}finally{l.f()}}}},{key:"clearEventListener",value:function(e,t,r){var n=this.getEventListener(e,t,r);n&&n.options&&this.removeEventListener(e,t,null,n.options)}},{key:"getAllEventTargets",value:function(){return Array.from(this.evTargetListenersMap.keys())}},{key:"searchEventListenersByName",value:function(e){var t,r=[],n=a(this.getAllEventTargets());try{for(n.s();!(t=n.n()).done;){var o,i=this.evTargetListenersMap.get(t.value),l=a(i.keys());try{for(l.s();!(o=l.n()).done;){var s=i.get(o.value),d=this._getFrozenListenerDef(s.get(e));d&&r.push(d)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"_searchKeyInValueContent",value:function(e,t,r){var n,i=a(e);try{for(i.s();!(n=i.n()).done;){var l=o(n.value,2);if(l[1][t]===r)return l[0]}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"_checkTypeOfOptions",value:function(e){if("object"!==n(e)&&void 0!==e)throw"boolean"==typeof e?new Error("Type of boolean is not accepted as the fourth argument you specify.\n      If you want to enable useCapture, specify {capture: true} as the fourth parameter instead."):new Error("Type of ".concat(n(e)," is not accepted as the fourth argument you specify.\n      If you want to specify options, specify an object like {capture: true, listenerName:'my-listener-01'}."))}},{key:"_cloneJson",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"typeOf",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()}]).default},"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define("EventListenerHelper",[],n):"object"==typeof e?e.EventListenerHelper=n():r.EventListenerHelper=n()}),s=e(function(e,t){var r=a(),o=n(),s=i(),d=l();function u(e){this.eventListenerHelper=new d,this.windowMode="default",this.styleDisplay="flex",this.horizontalAlign="left",this.verticalAlign="top",this.keyListener=null,this.minimizeButton=null,this.maximizeButton=null,this.demaximizeButton=null,this.deminimizeButton=null,this.opts=e,this.isWindowManagerFixed=e.frame.jsFrame.isWindowManagerFixed,e.styleDisplay&&(this.styleDisplay=e.styleDisplay),e.minimizeButton&&(this.minimizeButton=e.minimizeButton),e.deminimizeButton&&(this.deminimizeButton=e.deminimizeButton),e.maximizeButton&&(this.maximizeButton=e.maximizeButton),e.demaximizeButton&&(this.demaximizeButton=e.demaximizeButton),e.hideButton&&(this.hideButton=e.hideButton),e.hideButtons&&(this.hideButtons=e.hideButtons),this.maximizeParam=e.maximizeParam,this.demaximizeParam=e.demaximizeParam,this.minimizeParam=e.minimizeParam,this.deminimizeParam=e.deminimizeParam,this.hideParam=e.hideParam,this.dehideParam=e.dehideParam,e.horizontalAlign&&(this.horizontalAlign=e.horizontalAlign),e.verticalAlign&&(this.verticalAlign=e.verticalAlign),this.animationEnabled=!1,this.animationDuration=100,this.frame=e.frame,this.hideFrameBorder=!0,this.hideTitleBar=!0,this.restoreKey=null,this.restoreDuration=null,this.restoreCallback=null,this.statsStore={},e.animation&&(this.animationEnabled=e.animation),e.animationDuration&&(this.animationDuration=e.animationDuration),this.eventListeners={},this.resizeListener=this.handleOnResize.bind(this),this.maximizeParam&&this.maximizeParam.matchParent&&(this.resizeListener=this.handleOnVirtualResize.bind(this))}u.MATCH_PARENT_CHANGE_MARKER_ATTR="__jsframe-mp-marker",u.prototype.on=function(e,t){this.eventListeners[e]=t},u.prototype.doMaximize=function(e){var t=this;if("hid"===t.windowMode)throw Error("[JSrame] It is not possible to change directly from the hid state to the maximized state");if("maximized"!==t.windowMode&&"maximizing"!==t.windowMode){t.windowMode="maximizing";var r=t.frame;if(e&&e.matchParent){var n=r.getWindowManager().getParentElement();if(!t.matchParentResizeObserver){var o=new MutationObserver(function(){t.resizeListener()});o.observe(n,{attributeFilter:[u.MATCH_PARENT_CHANGE_MARKER_ATTR],attributes:!0}),t.matchParentResizeObserver=o}}else t.eventListenerHelper.hasEventListener(window,"resize","window-resize-listener")||t.eventListenerHelper.addEventListener(window,"resize",t.resizeListener,{listenerName:"window-resize-listener"});t.saveCurrentWindowStats("maximize_mode"),t.hideTitleBar=!!e&&e.fullScreen,t.hideTitleBar?r.hideAllVisibleFrameComponents():(t.maximizeButton&&r.hideFrameComponent(t.maximizeButton),t.demaximizeButton&&r.showFrameComponent(t.demaximizeButton,t.styleDisplay)),r.setMovable(!1),r.setResizable(!1),e&&e.restoreKey&&(t.restoreKey=e.restoreKey),e&&e.restoreDuration&&(t.restoreDuration=e.restoreDuration),e&&e.restoreCallback&&(t.restoreCallback=e.restoreCallback),t.renderMaximizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,matchParent:!(!e||!e.matchParent)&&e.matchParent})}},u.prototype.renderMaximizedMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("maximize_mode"),o=0,a=0,i=0,l=0;t.hideTitleBar&&(o=0,a=-n.titleBarHeight);var s=window.innerWidth,d=window.innerHeight;if(e.matchParent){var u=r.getWindowManager().getParentElement();s=u.clientWidth,d=u.clientHeight}t.hideFrameBorder?(i=s,l=d+(t.hideTitleBar?n.titleBarHeight:0)):(i=s-2*n.frameBorderWidthDefault,l=d-2*n.frameBorderWidthDefault+(t.hideTitleBar?n.titleBarHeight:0)),"right"==t.horizontalAlign&&(o=-i),"bottom"==t.verticalAlign&&(a=-l);var c=function(n){var s=n&&n.disableCallback;r.setPosition(o,a),t.hideFrameBorder&&(r.frameBorderWidthDefault=0,r.frameBorderWidthFocused=0,r.htmlElement.style.borderWidth="0px"),r.setSize(i,l,!0),s||(t.hideTitleBar&&(t.restoreKey&&(t.keyListener=function(e){e.code===t.restoreKey&&t.doCommand("restore")}),window.addEventListener("keydown",t.keyListener),r.iframe&&r.iframe.contentWindow.addEventListener("keydown",t.keyListener)),t.windowMode="maximized",e&&e.callback&&e.callback(t.frame,{eventType:"maximized"}),t.eventListeners.maximized&&t.eventListeners.maximized(t.frame,{eventType:"maximized"}))};e&&e.animation?t.animateFrame({frame:r,from:n,to:{left:o,top:a,width:i,height:l},duration:e.duration?e.duration:t.animationDuration,callback:c}):e&&"handleOnResize"===e.caller?c({disableCallback:!0}):c()},u.prototype.getWindowMode=function(){return this.windowMode},u.prototype.doDemaximize=function(e){var t=this,r=t.frame;if("hid"===t.windowMode)throw Error("[JSFrame] demaximize(=recovery from maximized) cannot be performed in hid state.");t.hasWindowStats("maximize_mode")&&(t.hideTitleBar||(t.maximizeButton&&r.showFrameComponent(t.maximizeButton,t.styleDisplay),t.demaximizeButton&&r.hideFrameComponent(t.demaximizeButton)),t.restoreWindow({restorePosition:!0,restoreMode:"maximize_mode",animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,forceShowFrameComponents:t.animationEnabled&&t.hideTitleBar,duration:e&&e.duration?e.duration:null,eventType:"demaximized"}))},u.prototype.handleOnResize=function(){this.renderMaximizedMode({caller:"handleOnResize"})},u.prototype.handleOnVirtualResize=function(){this.renderMaximizedMode({caller:"handleOnResize",matchParent:!0})},u.prototype.doMinimize=function(e){var t=this;if("minimized"!==t.windowMode&&"minimizing"!==t.windowMode){t.windowMode="minimizing";var r=t.frame;t.saveCurrentWindowStats("minimize_mode"),r.setResizable(!1),t.renderMinimizedMode({animation:t.animationEnabled,callback:e&&e.callback?e.callback:null,duration:e&&e.duration?e.duration:null,toWidth:e&&e.toWidth?e.toWidth:null})}},u.prototype.renderMinimizedMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("minimize_mode"),o=t.getCurrentWindowStats(),a=t.getCurrentWindowStats();a.height=n.titleBarHeight,e&&e.toWidth&&(a.width=e.toWidth);var i=function(){r.setSize(a.width,a.height,!0),t.windowMode="minimized",t.minimizeButton&&r.hideFrameComponent(t.minimizeButton),t.deminimizeButton&&r.showFrameComponent(t.deminimizeButton,t.styleDisplay),e.callback&&e.callback(t.frame,{eventType:"minimized"}),t.eventListeners.minimized&&t.eventListeners.minimized(t.frame,{eventType:"minimized"})};e&&e.animation?t.animateFrame({toAlpha:1,duration:e.duration?e.duration:t.animationDuration,frame:r,from:o,to:a,callback:i}):i()},u.prototype.doDeminimize=function(e){var t=this,r=t.frame;t.hasWindowStats("minimize_mode")&&(t.minimizeButton&&r.showFrameComponent(t.minimizeButton,t.styleDisplay),t.deminimizeButton&&r.hideFrameComponent(t.deminimizeButton),t.restoreWindow({restorePosition:!1,restoreMode:"minimize_mode",animation:t.animationEnabled,duration:e&&e.duration?e.duration:null,callback:e&&e.callback?e.callback:null,eventType:"deminimized"}))},u.prototype.doHide=function(e){var t=this;if("hid"!==t.windowMode&&"hiding"!==t.windowMode){t.windowMode="hiding";var r=t.frame;t.saveCurrentWindowStats("hide_mode"),r.setResizable(!1);var n={animation:t.animationEnabled};e&&s({op:"overwrite-merge",object1:n,object2:e}),t.renderHideMode(n)}},u.prototype.renderHideMode=function(e){var t=this,r=t.frame,n=t.loadWindowStats("hide_mode"),a=t.getCurrentWindowStats(),i={x:0,y:0},l=e.toElement;e.offset&&(i=e.offset);var s=0,d=0,u=e&&e.align?e.align:"LEFT_TOP";if(u&&o.LEFT_TOP!=u){if(o.HCENTER_TOP==u)s=a.left+a.width/2,d=a.top;else if(o.RIGHT_TOP==u)s=a.left+a.width,d=a.top;else if(o.LEFT_VCENTER==u)s=a.left,d=a.top+a.height/2;else if(o.HCENTER_VCENTER==u)s=a.left+a.width/2,d=a.top+a.height/2;else if(o.RIGHT_VCENTER==u)s=a.left+a.width,d=a.top+a.height/2;else if(o.LEFT_BOTTOM==u)s=a.left,d=a.top+a.height;else if(o.HCENTER_BOTTOM==u)s=a.left+a.width/2,d=a.top+a.height;else if(o.RIGHT_BOTTOM==u)s=a.left+a.width,d=a.top+a.height;else if("ABSOLUTE"==u)if(l){var c=l.getBoundingClientRect();t.isWindowManagerFixed?(s=c.left,d=c.top):(s=c.left+window.pageXOffset,d=c.top+window.pageYOffset)}else s=i.x,d=i.y}else s=a.left,d=a.top;var m={left:s,top:d,width:0,height:n.titleBarHeight},p=function(){r.setSize(m.width,m.height,!0),t.windowMode="hid",e&&e.callback&&e.callback(t.frame,{eventType:"hid"}),t.eventListeners.hid&&t.eventListeners.hid(t.frame,{eventType:"hid"})};r.hideAllVisibleFrameComponents(),e&&e.animation?t.animateFrame({fromAlpha:e.silent?0:1,toAlpha:0,ease:!0,duration:e.duration?e.duration:t.animationDuration,frame:r,from:a,to:m,callback:p}):p()},u.prototype.doDehide=function(e){var t=this;t.hasWindowStats("hide_mode")&&t.restoreWindow({duration:e&&e.duration?e.duration:null,restorePosition:!0,restoreMode:"hide_mode",animation:t.animationEnabled,forceShowFrameComponents:!0,callback:e&&e.callback?e.callback:null,eventType:"dehided"})},u.prototype.loadWindowStats=function(e){return this.statsStore[e]},u.prototype.saveCurrentWindowStats=function(e){var t=this,r=t.getCurrentWindowStats();if(t.hasWindowStats(e)){var n=t.loadWindowStats(e),o=!t.windowStatsEquals(r,n);return o&&(t.statsStore[e]=r),o}return t.statsStore[e]=r,!0},u.prototype.windowStatsEquals=function(e,t){return!(!e||!t)&&JSON.stringify(e)===JSON.stringify(t)},u.prototype.clearWindowStats=function(e){this.statsStore[e]=null},u.prototype.hasWindowStats=function(e){return this.statsStore[e]},u.prototype.getCurrentWindowStats=function(){var e=this.frame,t=parseInt(e.titleBar.style.height,10),r=e.frameBorderWidthDefault,n=e.frameBorderWidthFocused;return{left:e.getLeft(),top:e.getTop(),width:e.getWidth(),height:e.getHeight(),titleBarHeight:t,frameBorderWidthDefault:r,frameBorderWidthFocused:n,resizable:e.resizable,movable:e.movable}},u.prototype.restoreWindow=function(e){var t=this,r=t.frame,n=t.loadWindowStats(e.restoreMode),o=t.getCurrentWindowStats();r.frameBorderWidthDefault=n.frameBorderWidthDefault,r.frameBorderWidthFocused=n.frameBorderWidthFocused,r.htmlElement.style.borderWidth=r.frameBorderWidthFocused;var a=function(){e&&0==e.restorePosition&&(n.left=o.left,n.top=o.top),r.setPosition(n.left,n.top),r.setSize(n.width,n.height,!0),r.setResizable(n.resizable),r.setMovable(n.movable),t.clearWindowStats(e.restoreMode),t.keyListener&&(window.removeEventListener("keydown",t.keyListener),r.iframe&&r.iframe.contentWindow.removeEventListener("keydown",t.keyListener),t.keyListener=null),t.windowMode="default",e&&e.forceShowFrameComponents&&r.showAllVisibleFrameComponents(),r.show();var a="restored";e&&e.eventType&&(a=e.eventType),e&&e.callback&&e.callback(t.frame,{eventType:a}),t.eventListeners[a]&&t.eventListeners[a](t.frame,{eventType:a})};e&&e.animation?t.animateFrame({duration:e.duration?e.duration:t.animationDuration,frame:r,fromAlpha:0,toAlpha:1,from:o,to:n,callback:a}):a(),t.eventListenerHelper.removeEventListener(window,"resize",t.resizeListener),t.matchParentResizeObserver&&(t.matchParentResizeObserver.disconnect(),t.matchParentResizeObserver=null)},u.prototype.animateFrame=function(e){var t=isNaN(e.fromAlpha)?1:e.fromAlpha,n=e.from,o=e.to;(new r).set(e.frame).setDuration(e.duration?e.duration:this.animationDuration).fromPosition(n.left,n.top,"LEFT_TOP").toPosition(o.left,o.top,"LEFT_TOP").fromWidth(n.width).fromHeight(n.height).toWidth(o.width).toHeight(o.height).fromAlpha(t).toAlpha(0==e.toAlpha?0:1).ease(e.ease).start(0,!1).then(function(t){e.callback()})},u.prototype.doCommand=function(e,t){var r=this;"maximize"===e&&r._defaultFunctionMaximize(r.frame),"demaximize"===e&&r._defaultFunctionDemaximize(r.frame),"restore"===e&&r._defaultFunctionRestoreFromFullscreen(r.frame),"minimize"===e&&r._defaultFunctionMinimize(r.frame),"deminimize"===e&&r._defaultFunctionDeminimize(r.frame),"hide"===e&&r._defaultFunctionHide(r.frame),"dehide"===e&&r._defaultFunctionDehide(r.frame)},u.prototype._defaultFunctionMaximize=function(e,t){var r=this.opts,n={fullScreen:!0===r.maximizeWithoutTitleBar,restoreKey:r.restoreKey?r.restoreKey:"Escape",restoreDuration:r.restoreDuration};this.maximizeParam&&s({op:"overwrite-merge",object1:n,object2:this.maximizeParam}),e.control.doMaximize(n)},u.prototype._defaultFunctionDemaximize=function(e,t){e.control.doDemaximize({})},u.prototype._defaultFunctionRestoreFromFullscreen=function(e,t){var r=this;e.control.doDemaximize({duration:r.restoreDuration?r.restoreDuration:null,callback:r.restoreCallback?r.restoreCallback:null})},u.prototype._defaultFunctionMinimize=function(e,t){e.control.doMinimize(this.minimizeParam)},u.prototype._defaultFunctionDeminimize=function(e,t){e.control.doDeminimize(this.deminimizeParam)},u.prototype._defaultFunctionHide=function(e,t){var r={align:"CENTER_BOTTOM"};this.hideParam&&(r=this.hideParam),e.control.doHide(r)},u.prototype._defaultFunctionDehide=function(e,t){e.control.doDehide(this.dehideParam)},u.prototype.setupDefaultEvents=function(){var e=this;if(e.maximizeButton&&e.frame.on(e.maximizeButton,"click",e._defaultFunctionMaximize.bind(e)),e.demaximizeButton&&e.frame.on(e.demaximizeButton,"click",e._defaultFunctionDemaximize.bind(e)),e.minimizeButton&&e.frame.on(e.minimizeButton,"click",e._defaultFunctionMinimize.bind(e)),e.deminimizeButton&&e.frame.on(e.deminimizeButton,"click",e._defaultFunctionDeminimize.bind(e)),e.hideButton&&e.frame.on(e.hideButton,"click",e._defaultFunctionHide.bind(e)),e.hideButtons)for(var t in e.hideButtons){var r=e.hideButtons[t];r&&e.frame.on(r,"click",e._defaultFunctionHide.bind(e))}},t.exports=u}),d=e(function(e,t){t.exports=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superConstructor=t,e.superClass=t.prototype}}),u=e(function(e,t){t.exports=function(){this.size=14,this.width=null,this.height=null,this.borderRadius=2,this.borderWidth=0,this.borderColorDefault="#aaaaaa",this.borderColorFocused=this.borderColorDefault,this.borderColorHovered=null,this.borderColorPressed=this.borderColorDefault,this.borderStyleDefault="solid",this.borderStyleFocused=this.borderStyleDefault,this.borderStyleHovered=null,this.borderStylePressed=this.borderStyleDefault,this.backgroundBoxShadow=null,this.backgroundColorDefault="transparent",this.backgroundColorFocused=this.backgroundColorDefault,this.backgroundColorHovered=null,this.backgroundColorPressed=this.backgroundColorDefault,this.caption=null,this.captionColorDefault="white",this.captionColorFocused=this.captionColorDefault,this.captionColorHovered=null,this.captionColorPressed=this.captionColorDefault,this.captionShiftYpx=0,this.captionFontRatio=1}}),c=e(function(e,t){function r(){this.imageDefault=null,this.imageHovered=null,this.imagePressed=null,this.imageFocused=null,this.imageStore={}}d()(r,u()),r.prototype._setImage=function(e,t,r){var n=this.imageStore[e];if(n)return n;var o=document.createElement("img");return o.src=e,t&&r&&o.setAttribute("style","margin:0px;padding:0px;width:"+t+"px;height:"+r+"px"),this.imageStore[e]=o,o},r.prototype.setSrc=function(e){var t=this;e.default&&(t.imageDefault=t._setImage(e.default,e.width,e.height)),e.hovered&&(t.imageHovered=t._setImage(e.hovered,e.width,e.height)),e.pressed&&(t.imagePressed=t._setImage(e.pressed,e.width,e.height)),e.focused&&(t.imageFocused=t._setImage(e.focused,e.width,e.height))},t.exports=r}),m=e(function(e,t){t.exports=function(e){this.childMenuHTML="",this.childMenuWidth=0,this.childMenuAlign="LEFT",this.yOffset=0,this.xOffset=0}}),p=e(function(e,t){var r=i(),n=u(),o=c(),a=m();function l(){}function s(e,t){var r=t.querySelectorAll("img");t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e);for(var n=0;n<r.length;n++){var o=r[n];e!==o&&t.removeChild(o)}}l.prototype.buildChildMenuAppearance=function(e){return new a(e)},l.prototype.buildTextButtonAppearance=function(e){return e?r({op:"clone",object1:e,concatArray:!0}):new n},l.prototype.buildImageButtonAppearance=function(e){return e?r({op:"clone",object1:e}):new o},l.prototype.buildButton=function(e){return this.buildTextButton(e)},l.prototype.appendChildMenuTo=function(e,t){var r=document.createElement("div");r.classList.add("jsframe-child-menu"),r.innerHTML=e.childMenuHTML,r.style.position="absolute",r.style.pointerEvents="none",r.style.width=e.childMenuWidth+"px",r.style.display="none";var n=e.xOffset,o=parseInt(t.style.height,10)+e.yOffset+2;"LEFT"===e.childMenuAlign?r.style.left=n+"px":"RIGHT"===e.childMenuAlign?r.style.right=n+"px":"CENTER"===e.childMenuAlign&&(n=-e.childMenuWidth/2+parseInt(t.style.height,10)/2,r.style.left=n+"px"),r.style.top=o+"px",r.firstChild.style.pointerEvents="auto",t.appendChild(r)},l.prototype.buildTextButton=function(e){var t=e.size,r=t,n=t;null!=e.width&&(r=e.width),null!=e.height&&(n=e.height);var o=document.createElement("div"),a=e.borderWidth,i=e.borderRadius,l=e.borderColorDefault,d=e.borderColorFocused,u=e.borderColorHovered,c=e.borderColorPressed,m=e.borderStyleDefault,p=e.borderStyleFocused,h=e.borderStyleHovered,f=e.borderStylePressed,y=e.backgroundColorDefault,v=e.backgroundColorFocused,b=e.backgroundColorHovered,g=e.backgroundColorPressed,C=e.backgroundBoxShadow,B=e.fa,E=e.caption,w=e.imageDefault,x=e.imageFocused,A=e.imageHovered,F=e.imagePressed;w&&(w.style.pointerEvents="none"),x&&(x.style.pointerEvents="none"),A&&(A.style.pointerEvents="none"),F&&(F.style.pointerEvents="none");var T=e.captionColorDefault,I=e.captionColorFocused,D=e.captionColorHovered,S=e.captionColorPressed,_=e.captionShiftYpx,k=e.captionFontRatio;if(o._hasFrameFocus=!1,o._isMouseDown=!1,o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=r+"px",o.style.height=n+"px",o.style.cursor=e.cursor?e.cursor:"pointer",o.style.margin="0px",o.style.padding="0px",o.style.boxSizing="content-box",o.style.fontFamily="sans-serif",o.onmousedown=function(e){o._isMouseDown=!0,o._handleFocusDrawing("onmousedown")},o.onmouseout=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseout")},o.onmouseover=function(e){o._handleHoverDrawing()},o.onmouseup=function(e){o._isMouseDown=!1,o._handleFocusDrawing("onmouseup")},o._onTakeFocus=function(){o._hasFrameFocus=!0,o._handleFocusDrawing("_onTakeFocus")},o._onReleaseFocus=function(){o._hasFrameFocus=!1,o._handleFocusDrawing("_onReleaseFocus")},o._handleFocusDrawing=function(e){o._hasFrameFocus?o._isMouseDown?(o.style.borderColor=c,o.style.borderStyle=f,o.style.backgroundColor=g,o.style.color=S,F&&s(F,o)):(o.style.borderColor=d,o.style.borderStyle=p,o.style.backgroundColor=v,o.style.color=I,x&&s(x,o)):o._isMouseDown?(o.style.borderColor=c,o.style.borderStyle=f,o.style.backgroundColor=g,o.style.color=S,F&&s(F,o)):(o.style.borderColor=l,o.style.borderStyle=m,o.style.backgroundColor=y,o.style.color=T,w&&s(w,o))},o._handleHoverDrawing=function(){u&&(o.style.borderColor=u),h&&(o.style.borderStyle=h),b&&(o.style.backgroundColor=b),D&&(o.style.color=D),A&&s(A,o)},o.style.padding="0px",o.style.textAlign="center",o.style.fontSize=n*k+"px",o.style.lineHeight=n+"px",o.style.borderWidth="1px",null!=a&&(o.style.borderWidth=a+"px"),null!=C&&(o.style.boxShadow=C),o.style.borderRadius=i+parseInt(o.style.borderWidth)+"px",w)s(w,o);else if(E)(M=document.createElement("span")).style.width="100%",M.style.marginTop=_+"px",M.style.display="inline-block",M.style.textAlign="center",M.style.fontFamily="sans-serif",M.appendChild(document.createTextNode(E)),o.appendChild(M);else if(B){var M;(M=document.createElement("span")).style.pointerEvents="none",M.style.width="100%",M.style.marginTop=_+"px",M.style.display="inline-block",M.style.textAlign="center",M.style.fontFamily="sans-serif",M.innerHTML='<i class="'+B+'"></i>',o.appendChild(M)}return o._handleFocusDrawing(),o},t.exports=l}),h=e(function(e,t){function r(e,t,r,n,o,a){var i=this;i.id=e,i.x=r,i.y=n,i.frame=null,i._focusTakingCallabck=null,i._focusReleasingCallabck=null,i.frameComponentAlign=o||CALIGN.LEFT_TOP,i.htmlElement=t,i.htmlElement.style.zIndex=50,i.htmlElement.setAttribute("component-id",e),a&&a.childMenu?i.childMenu=a.childMenu:t.querySelector(".jsframe-child-menu")&&(i.childMenu=t.querySelector(".jsframe-child-menu"))}r.prototype.setFocusCallback=function(e,t){this._focusTakingCallabck=e,this._focusReleasingCallabck=t},r.prototype.setFrame=function(e){var t=this;t.frame=e,t.htmlElement.parentObject=e,t.updateAlign()},r.prototype.updateAlign=function(){var e=this,t=e.frameComponentAlign,r=e.frame,n=e.htmlElement.style;n.userSelect="none";var o=e.x,a=e.y,i=r.getWidth(),l=r.getHeight(),s=n.width,d=n.height;CALIGN.LEFT_TOP==t?(n.left=o+"px",n.top=a+"px"):CALIGN.HCENTER_TOP==t?(n.left=parseInt(i)/2-parseInt(s)/2+o+"px",n.top=a+"px"):CALIGN.RIGHT_TOP==t?(n.left=parseInt(i)-parseInt(s)+o+"px",n.top=a+"px"):CALIGN.LEFT_VCENTER==t?(n.left=o+"px",n.top=parseInt(l)/2-parseInt(d)/2+a+"px"):CALIGN.HCENTER_VCENTER==t?(n.left=parseInt(i)/2-parseInt(s)/2+o+"px",n.top=parseInt(l)/2-parseInt(d)/2+a+"px"):CALIGN.RIGHT_VCENTER==t?(n.left=parseInt(i)-parseInt(s)+o+"px",n.top=parseInt(l)/2-parseInt(d)/2+a+"px"):CALIGN.LEFT_BOTTOM==t?(n.left=o+"px",n.top=parseInt(l)-parseInt(d)+a+"px"):CALIGN.HCENTER_BOTTOM==t?(n.left=parseInt(i)/2-parseInt(s)/2+o+"px",n.top=parseInt(l)-parseInt(d)+a+"px"):CALIGN.RIGHT_BOTTOM==t&&(n.left=parseInt(i)-parseInt(s)+o+"px",n.top=parseInt(l)-parseInt(d)+a+"px")},r.prototype.handleTakingFocus=function(){this._focusTakingCallabck&&this._focusTakingCallabck()},r.prototype.handleReleasingFocus=function(){this._focusReleasingCallabck&&this._focusReleasingCallabck()},t.exports=r}),f=e(function(e,t){var r=p(),n=h();function o(){var e=this;this.showTitleBar=!0,this.showCloseButton=!0,this.titleBarCaption="",this.titleBarCaptionFontSize="12px",this.titleBarCaptionFontWeight="bold",this.titleBarHeight="24px",this.useIframe=!1,this.useFrame=!0,this.titleBarClassNameDefault=null,this.titleBarClassNameFocused=null,this.setUseIFrame=function(t){return e.useIframe=t,e.useFrame=!t,e},this.titleBarCaptionLeftMargin="5px",this.titleBarColorDefault=null,this.titleBarColorFocused=null,this.titleBarCaptionColorDefault="",this.titleBarCaptionColorFocused="",this.titleBarCaptionTextShadow="0 1px 0 rgba(255,255,255,.7)",this.titleBarCaptionTextAlign="center",this.titleBarBorderBottomDefault="1px solid rgba(0,0,0,0.2)",this.titleBarBorderBottomFocused=null,this.frameBorderRadius="6px",this.frameBorderWidthDefault="1px",this.frameBorderWidthFocused=this.frameBorderWidthDefault,this.frameBorderColorDefault="rgba(1, 1, 1, 0.2)",this.frameBorderColorFocused=this.frameBorderColorDefault,this.frameBorderStyle="solid",this.frameBoxShadow="2px 3px 16px rgba(0,0,0,.6)",this.frameBackgroundColor="transparent",this._partsBuilder=null,this.frameComponents=[],this.frameHeightAdjust=1,this.resizeAreaWidth=20,this.resizeAreaHeight=20,this.resizeAreaOffset=0,this.resizeAreaVisible=!1,this.getFrameInnerBorderRadius=function(t,r){return t?r?{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthFocused,10)+"px"}:{frameAppearance:e,innerBorderRadius:parseInt(t.frameBorderRadius,10)-parseInt(t.frameBorderWidthDefault,10)+"px"}:null},this.onInitialize=function(){if(e.showCloseButton){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.size=14,r.captionShiftYpx=0,r.captionFontRatio=1,r.borderRadius=2,r.backgroundColorPressed="transparent",r.backgroundColorDefault="transparent",r.caption="✖",r.captionColorDefault="gray",r.captionColorFocused="gray",r.captionColorHovered="silver",r.captionColorPressed="black",r.borderWidth=0,r.borderColorDefault="#aaaaaa",r.borderStyle="solid";var n=t.buildTextButton(r);e.addFrameComponent("closeButton",n,-10,-18,"RIGHT_TOP")}},this.onTitleBarStyleInitialize=function(){}}o.prototype.getPartsBuilder=function(){var e=this;return null===e._partsBuilder&&(e._partsBuilder=new r),e._partsBuilder},o.prototype.initialize=function(){this.onInitialize()},o.prototype.addFrameComponent=function(e,t,r,o,a,i){var l=new n(e,t,r,o,a,i);return t._onTakeFocus&&t._onReleaseFocus&&l.setFocusCallback(t._onTakeFocus,t._onReleaseFocus),this.frameComponents.push(l),l},t.exports=o}),y=e(function(e,t){t.exports=".jsframe-preset-style-yosemite-default {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #f5f5f5, color-stop(1.0, #f8f7f2)));\n    background: -webkit-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: -moz-linear-gradient(top, #f5f5f5, #f8f7f2);\n    background: linear-gradient(top, #f5f5f5, #f8f7f2);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-yosemite-focused {\n    /* (c)2015 Johannes Jakob\n       Made with <3 in Germany */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0.0, #ebebeb, color-stop(1.0, #d5d5d5)));\n    background: -webkit-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: -moz-linear-gradient(top, #ebebeb, #d5d5d5);\n    background: linear-gradient(top, #ebebeb, #d5d5d5);\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n"}),v=e(function(e,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return e&&"object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)}t.exports.objectAssign=function e(t){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(!a.length)return t;var l=a.shift();if(o(t)&&o(l))for(var s in l)o(l[s])?(t[s]||Object.assign(t,n({},s,{})),e(t[s],l[s])):Object.assign(t,n({},s,l[s]));return e.apply(void 0,[t].concat(a))}}),b=e(function(e,t){y();var r=v();t.exports.getStyle=function(e,t){var n={titleBar:{greenButton:"maximize"}},o=n;return t&&r.objectAssign(n,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="11px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=null,e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="26px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="1px solid #b1aeb1",e.titleBarBorderBottomFocused=e.titleBarBorderBottomDefault,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#acacac",e.frameBorderColorFocused="#acacac",e.frameBorderStyle="solid",e.frameBoxShadow="0px 0px 20px rgba(0, 0, 0, 0.3)",e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-yosemite-focused",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-yosemite-default",titleBarClassNameFocused:"jsframe-preset-style-yosemite-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAWElEQVQoU2NkIBIwEqmOAa6wgZWlH6Sp4fefQjCNxkdRyMjAUPCf4f8CkEJGBsaE/wwME2AaUaxuYGWeD1IAUgjS0PD7byLMaaQrBLmJKKuJ9gyhYCI6HAGlFDALf9s7eQAAAABJRU5ErkJggg==",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAVElEQVQoU2NkIBIwoqvjixFoAIl9WvIBTMMAhkLeGP79IMnPSz46kq8QZN1/hv/2IBMYGRgMQPR/BoYLED7jQZAzwFYTrRDZLdRxI7KJRAcPrvAHAATYKgvLH0fAAAAAAElFTkSuQmCC";"fullscreen"===o.titleBar.greenButton&&(n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAZElEQVQoU2NkIBIwEqmOAUWhQIKAwL8///czMDAYwAz4tOQjWA1cIUjRhwUfPqArxlDIF8N/nomF0RFdMTaF/xkYGC6gK/605KMhitV8MfwghSCAohhkAy6FKIphniIvePCFKQDzGzsLS+7n2AAAAABJRU5ErkJggg==");var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=",i="margin:0px;padding:0px;width:10px;height:10px",l=document.createElement("img");l.src=n,l.setAttribute("style",i);var s=document.createElement("img");s.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAiUlEQVQoU2NkwAIEogQMPiz7cAFZihGbQt4Y/v0MjIwLPy/+sAAmj1MhIwODw39GxkSYYrwKQabBFGNVyBfL1///P6MBzFrmf4yFjCCH/2X63w93C+P/C58WfypEdzvYRN5YgQTG///ng61iYDjweclHR6wKkRUTVAhTzPD/fzxeE2FWYQtskBwAKwQ7tVjAL4MAAAAASUVORK5CYII=",s.setAttribute("style",i);var d=document.createElement("img");d.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAMUlEQVQoU2NkIBIwEqmOgUYKa7w4Ghj+M9hjdQYjw8GWbT8awFYTrZAYD9HIM8RYDQBsEAwLkq4IAgAAAABJRU5ErkJggg==",d.setAttribute("style",i);var u=document.createElement("img");u.src=r,u.setAttribute("style",i);var c=document.createElement("img");c.src=a,c.setAttribute("style","margin:0px;padding:0px;width:6px;height:6px");var m=t.buildImageButtonAppearance();m.imageDefault=c,m.imageHovered=u,m.imagePressed=u,m.imageFocused=c,m.size=10,m.borderRadius=5,m.borderWidth=1,m.borderColorDefault="#c6c6c6",m.borderColorFocused="#d3524e",m.borderColorHovered=m.borderColorFocused,m.borderColorPressed="#e64842",m.borderStyleDefault="solid",m.borderStyleFocused=m.borderStyleDefault,m.borderStyleHovered=m.borderStyleDefault,m.borderStylePressed=m.borderStyleDefault,m.backgroundColorDefault="#d0d0d0",m.backgroundColorFocused="#fc615c",m.backgroundColorHovered=m.backgroundColorFocused,m.backgroundColorPressed=m.backgroundColorDefault,m.setSrc({default:a,focused:a,hovered:r,pressed:r});var p=t.buildButton(m);e.addFrameComponent(o.closeButtonName||"closeButton",p,C=8,B=-19,E="LEFT_TOP");var h=t.buildImageButtonAppearance(m);h.borderColorDefault="#c6c6c6",h.borderColorFocused="#e6b347",h.borderColorHovered=h.borderColorFocused,h.borderColorPressed="#e1a12d",h.backgroundColorDefault="#d0d0d0",h.backgroundColorFocused="#fdbe40",h.backgroundColorHovered=h.backgroundColorFocused,h.backgroundColorPressed=h.backgroundColorDefault,h.imageDefault=c,h.imageHovered=d,h.imagePressed=d,h.imageFocused=c;var f=t.buildButton(h),y=t.buildButton(h);y.style.display="none",e.addFrameComponent("minimizeButton",f,C=28,B=-19,E="LEFT_TOP"),e.addFrameComponent("deminimizeButton",y,C,B,E);var v=t.buildImageButtonAppearance(m);v.borderColorDefault="#c6c6c6",v.borderColorFocused="#67b657",v.borderColorHovered=v.borderColorFocused,v.borderColorPressed="#00af38",v.backgroundColorDefault="#d0d0d0",v.backgroundColorFocused="#34ca49",v.backgroundColorHovered=v.backgroundColorFocused,v.backgroundColorPressed=v.backgroundColorDefault,v.imageDefault=c,v.imageHovered=l,v.imagePressed=l,v.imageFocused=c;var b=t.buildButton(v),g=t.buildImageButtonAppearance(m);g.borderColorDefault="#c6c6c6",g.borderColorFocused="#67b657",g.borderColorHovered=g.borderColorFocused,g.borderColorPressed="#00af38",g.backgroundColorDefault="#d0d0d0",g.backgroundColorFocused="#34ca49",g.backgroundColorHovered=g.backgroundColorFocused,g.backgroundColorPressed=g.backgroundColorDefault,g.imageDefault=c,g.imageHovered=s,g.imagePressed=s,g.imageFocused=c;var C,B,E,w=t.buildButton(g);w.style.display="none",e.addFrameComponent("dezoomButton",w,C=48,B=-19,E="LEFT_TOP"),e.addFrameComponent("zoomButton",b,C,B,E)},e}}),g=e(function(e,t){t.exports=".jsframe-preset-style-redstone-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-redstone-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n"}),C=e(function(e,t){g(),t.exports.getStyle=function(e){return e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#9b9a9b",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="30px",e.titleBarColorDefault=null,e.titleBarColorFocused=null,e.titleBarBorderBottomDefault="solid 1px #aaaaaa",e.titleBarBorderBottomFocused="solid 1px #1883d7",e.frameBorderRadius="0px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#1883d7",e.frameBorderStyle="solid",e.frameBoxShadow=null,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-redstone-focused",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-redstone-default",titleBarClassNameFocused:"jsframe-preset-style-redstone-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=45,r.height=28,r.borderRadius=0,r.borderWidth=0,r.borderColorDefault="#c6c6c6",r.borderColorFocused="#fc615c",r.borderColorHovered=r.borderColorFocused,r.borderColorPressed="#e64842",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="white",r.backgroundColorFocused="white",r.backgroundColorHovered="#e81123",r.backgroundColorPressed="#f1707a",r.caption="╳",r.captionColorDefault="#9b9a9b",r.captionColorFocused="black",r.captionColorHovered="white",r.captionColorPressed="white",r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r),o=0,a=-parseInt(e.titleBarHeight);e.addFrameComponent("closeButton",n,o,a,m="RIGHT_TOP");var i=t.buildTextButtonAppearance();i.width=45,i.height=28,i.borderRadius=0,i.borderWidth=0,i.borderColorDefault="#c6c6c6",i.borderColorFocused="#fc615c",i.borderColorHovered=i.borderColorFocused,i.borderColorPressed="#e64842",i.borderStyleDefault="solid",i.borderStyleFocused=i.borderStyleDefault,i.borderStyleHovered=i.borderStyleDefault,i.borderStylePressed=i.borderStyleDefault,i.backgroundColorDefault="white",i.backgroundColorFocused="white",i.backgroundColorHovered="#e5e5e5",i.backgroundColorPressed="#cccccc",i.caption="☐",i.captionColorDefault="#9b9a9b",i.captionColorFocused="black",i.captionColorHovered="black",i.captionColorPressed="black",i.captionShiftYpx=1,i.captionFontRatio=.55;var l=t.buildTextButton(i);o=-46,a=-parseInt(e.titleBarHeight),e.addFrameComponent("maximizeButton",l,o,a,m="RIGHT_TOP");var s=t.buildTextButtonAppearance();s.width=45,s.height=28,s.borderRadius=0,s.borderWidth=0,s.borderColorDefault="#c6c6c6",s.borderColorFocused="#fc615c",s.borderColorHovered=s.borderColorFocused,s.borderColorPressed="#e64842",s.borderStyleDefault="solid",s.borderStyleFocused=s.borderStyleDefault,s.borderStyleHovered=s.borderStyleDefault,s.borderStylePressed=s.borderStyleDefault,s.backgroundColorDefault="white",s.backgroundColorFocused="white",s.backgroundColorHovered="#e5e5e5",s.backgroundColorPressed="#cccccc",s.caption="＿",s.captionColorDefault="#9b9a9b",s.captionColorFocused="black",s.captionColorHovered="black",s.captionColorPressed="black",s.captionShiftYpx=-2,s.captionFontRatio=.3;var d=t.buildTextButton(s);o=-92,a=-parseInt(e.titleBarHeight),e.addFrameComponent("minimizeButton",d,o,a,m="RIGHT_TOP");var u=t.buildTextButtonAppearance();u.width=45,u.height=28,u.borderRadius=0,u.borderWidth=0,u.borderColorDefault="#c6c6c6",u.borderColorFocused="#fc615c",u.borderColorHovered=u.borderColorFocused,u.borderColorPressed="#e64842",u.borderStyleDefault="solid",u.borderStyleFocused=u.borderStyleDefault,u.borderStyleHovered=u.borderStyleDefault,u.borderStylePressed=u.borderStyleDefault,u.backgroundColorDefault="white",u.backgroundColorFocused="white",u.backgroundColorHovered="#e5e5e5",u.backgroundColorPressed="#cccccc",u.caption="▣",u.captionColorDefault="#9b9a9b",u.captionColorFocused="black",u.captionColorHovered="black",u.captionColorPressed="black",u.captionShiftYpx=1,u.captionFontRatio=.6;var c=t.buildTextButton(u),m=(o=-92,a=-parseInt(e.titleBarHeight),"RIGHT_TOP");c.style.display="none",e.addFrameComponent("deminimizeButton",c,o,a,m);var p=t.buildTextButtonAppearance();p.width=45,p.height=28,p.borderRadius=0,p.borderWidth=0,p.borderColorDefault="#c6c6c6",p.borderColorFocused="#fc615c",p.borderColorHovered=p.borderColorFocused,p.borderColorPressed="#e64842",p.borderStyleDefault="solid",p.borderStyleFocused=p.borderStyleDefault,p.borderStyleHovered=p.borderStyleDefault,p.borderStylePressed=p.borderStyleDefault,p.backgroundColorDefault="white",p.backgroundColorFocused="white",p.backgroundColorHovered="#e5e5e5",p.backgroundColorPressed="#cccccc",p.caption="❏",p.captionColorDefault="#9b9a9b",p.captionColorFocused="black",p.captionColorHovered="black",p.captionColorPressed="black",p.captionShiftYpx=1,p.captionFontRatio=.55;var h=t.buildTextButton(p);o=-46,a=-parseInt(e.titleBarHeight),m="RIGHT_TOP",h.style.display="none",e.addFrameComponent("restoreButton",h,o,a,m)},e}}),B=e(function(e,t){t.exports=".jsframe-preset-style-popup-default {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n\n.jsframe-preset-style-popup-focused {\n    background: white;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n}\n"}),E=e(function(e,t){B(),t.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="12px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="10px",e.titleBarCaptionColorDefault="#4d494d",e.titleBarCaptionColorFocused="#4d494d",e.titleBarHeight="5px",e.titleBarColorDefault="white",e.titleBarColorFocused="white",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="6px",e.frameBorderWidthDefault="1px",e.frameBorderWidthFocused="1px",e.frameBorderColorDefault="#aaaaaa",e.frameBorderColorFocused="#aaaaaa",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="white",e.frameComponents=new Array,e.frameHeightAdjust=2,e.getTitleBarStyle=function(){return e.focusedFrameOnly?{titleBarClassNameDefault:"jsframe-preset-style-popup-focused",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}:{titleBarClassNameDefault:"jsframe-preset-style-popup-default",titleBarClassNameFocused:"jsframe-preset-style-popup-focused"}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=1,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="white",r.backgroundColorFocused="white",r.backgroundColorHovered="#eeeeee",r.backgroundColorPressed="#dddddd",r.backgroundBoxShadow="2px 2px 5px  rgba(0, 0, 0, 0.5)",r.caption="✖",r.captionColorDefault="black",r.captionColorFocused="black",r.captionColorHovered="white",r.captionColorPressed="white",r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r),o=-6-parseInt(e.titleBarHeight);e.addFrameComponent("closeButton",n,10,o,"RIGHT_TOP")},e}}),w=e(function(e,t){t.exports.getStyle=function(e){return e.showTitleBar=!1,e.showCloseButton=!0,e.titleBarCaptionFontSize="0px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin="0px",e.titleBarCaptionColorDefault="transparent",e.titleBarCaptionColorFocused="transparent",e.titleBarHeight="0px",e.titleBarColorDefault="transparent",e.titleBarColorFocused="transparent",e.titleBarBorderBottomDefault=null,e.titleBarBorderBottomFocused=null,e.frameBorderRadius="10px",e.frameBorderWidthDefault="0px",e.frameBorderWidthFocused="0px",e.frameBorderColorDefault="transparent",e.frameBorderColorFocused="transparent",e.frameBorderStyle="solid",e.frameBoxShadow="2px 2px 15px  rgba(0, 0, 0, 0.5)",e.frameBackgroundColor="transparent",e.frameComponents=[],e.frameHeightAdjust=1,e.captionClor="darkgray",e.pullUpDisabled=!1,e.getTitleBarStyle=function(){return{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){var t=e.getPartsBuilder(),r=t.buildTextButtonAppearance();r.width=20,r.height=20,r.borderRadius=10,r.borderWidth=0,r.borderColorDefault="#cccccc",r.borderColorFocused="#cccccc",r.borderColorHovered="#dddddd",r.borderColorPressed="#eeeeee",r.borderStyleDefault="solid",r.borderStyleFocused=r.borderStyleDefault,r.borderStyleHovered=r.borderStyleDefault,r.borderStylePressed=r.borderStyleDefault,r.backgroundColorDefault="transparent",r.backgroundColorFocused="transparent",r.backgroundColorHovered="transparent",r.backgroundColorPressed="transparent",r.backgroundBoxShadow=null,r.caption="✖",r.captionColorDefault=e.captionClor,r.captionColorFocused=e.captionClor,r.captionColorHovered=e.captionClor,r.captionColorPressed=e.captionClor,r.captionShiftYpx=1,r.captionFontRatio=.6;var n=t.buildTextButton(r);e.addFrameComponent("closeButton",n,-6,3,"RIGHT_TOP")},e}}),x=e(function(e,t){t.exports=".jsframe-preset-style-material-default {\n    background: black;\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n}\n\n.jsframe-preset-style-material-focused {\n    background: black;\n    border-top-left-radius: 36px;\n    border-top-right-radius: 36px;\n}\n"}),A=e(function(e,t){x();var r=v();function n(e,t,r){var n,a=e.getPartsBuilder(),i=0;for(var l in n=r?t.titleBar.buttonsOnLeft:t.titleBar.buttons){var s=n[l],d=a.buildTextButtonAppearance();d.fa=s.fa,d.width=t.titleBar.buttonWidth,d.height=t.titleBar.buttonHeight,d.borderRadius=0,d.borderWidth=0,d.borderColorDefault="#c6c6c6",d.borderColorFocused="#fc615c",d.borderColorHovered=d.borderColorFocused,d.borderColorPressed="#e64842",d.borderStyleDefault="solid",d.borderStyleFocused=d.borderStyleDefault,d.borderStyleHovered=d.borderStyleDefault,d.borderStylePressed=d.borderStyleDefault,d.backgroundColorDefault="transparent",d.backgroundColorFocused="transparent",d.backgroundColorHovered="transparent",d.backgroundColorPressed="transparent";var u=o(t.titleBar.buttonColor);d.captionColorDefault=t.titleBar.buttonColor,d.captionColorFocused=t.titleBar.buttonColor,d.captionColorHovered=u.hovered,d.captionColorPressed=u.pressed,d.captionShiftYpx=0,d.captionFontRatio=1;var c=a.buildTextButton(d);s.visible?c.style.display="flex":(r?i-=t.titleBar.buttonWidth:i+=t.titleBar.buttonWidth,c.style.display="none");var m,p,h=parseInt(e.titleBarHeight),f=i,y=(h-d.height)/2-h;m=r?"LEFT_TOP":"RIGHT_TOP",s.childMenuHTML&&((p=document.createElement("div")).id=s.name+"_child_menu",p.innerHTML=s.childMenuHTML,p.style.position="absolute",p.style.width=(s.childMenuWidth?s.childMenuWidth:200)+"px",p.style.top=parseInt(c.style.top,10)+parseInt(c.style.height,10)/2+h/2+"px",p.style.left=c.style.left,p.style.display="none",c.appendChild(p)),e.addFrameComponent(s.name,c,f,y,m,{childMenu:p}),i+=r?t.titleBar.buttonWidth:-t.titleBar.buttonWidth}}function o(e){var t=document.createElement("canvas");t.height=1,t.width=1;var r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,1,1);var n=r.getImageData(0,0,1,1).data,o=n[0],a=n[1],i=n[2],l=n[3]/255,s=.85*l;return{src:"rgb("+o+","+a+","+i+","+s+")",hovered:"rgb("+o+","+a+","+i+","+s+")",pressed:"rgb("+o+","+a+","+i+","+.75*l+")"}}t.exports.getStyle=function(e,t){var o={border:{color:"transparent",width:0,radius:6},control:{maximizeWithoutTitleBar:!1,restoreKey:"Escape"},titleBar:{color:"white",background:"black",leftMargin:20,height:30,fontSize:12,buttonWidth:36,buttonHeight:16,buttonColor:"white",buttons:[{fa:"fas fa-times",name:"closeButton",visible:!0},{fa:"far fa-window-maximize",name:"maximizeButton",visible:!0},{fa:"far fa-window-restore",name:"restoreButton",visible:!1},{fa:"far fa-window-minimize",name:"minimizeButton",visible:!0},{fa:"fas fa-caret-up",name:"deminimizeButton",visible:!1}],buttonsOnLeft:[]}},a=o;return t&&r.objectAssign(o,t),e.showTitleBar=!0,e.showCloseButton=!0,e.titleBarCaptionFontSize=a.titleBar.fontSize+"px",e.titleBarCaptionFontWeight="normal",e.titleBarCaptionLeftMargin=a.titleBar.leftMargin+"px",e.titleBarCaptionColorDefault=a.titleBar.color,e.titleBarCaptionColorFocused=a.titleBar.color,e.titleBarCaptionTextShadow=null,e.titleBarCaptionTextAlign="left",e.titleBarHeight=a.titleBar.height+"px",e.titleBarColorDefault=a.titleBar.background,e.titleBarColorFocused=a.titleBar.background,e.titleBarBorderBottomDefault="solid 0px #aaaaaa",e.titleBarBorderBottomFocused="solid 0px #1883d7",e.frameBorderRadius=a.border.radius+"px",e.frameBorderWidthDefault=a.border.width+"px",e.frameBorderWidthFocused=a.border.width+"px",e.frameBorderColorDefault=a.border.color,e.frameBorderColorFocused=a.border.color,e.frameBorderStyle="solid",e.frameBoxShadow=a.border.shadow,e.frameBackgroundColor="transparent",e.frameComponents=new Array,e.frameHeightAdjust=0,e.getTitleBarStyle=function(){return{titleBarClassNameDefault:" ",titleBarClassNameFocused:" "}},e.onInitialize=function(){n(e,a,!1),n(e,a,!0)},e}}),F=e(function(e,t){var r=i();t.exports.getPresetWindow=function(e){var t={appearanceName:"yosemite",appearanceParam:{}},n={};e&&(n=e);var o="fullscreen"===n.maximizeButtonBehavior,a="minimize"===n.minimizeButtonBehavior?"minimizeButton":null,i="hide"===n.minimizeButtonBehavior?"minimizeButton":null,l="hide"===n.closeButtonBehavior?"custom-close-button":null,s=n.control,d=l,u=n.closeButtonName;return o&&(t.appearanceParam.titleBar={greenButton:"fullscreen"}),t.appearanceParam.closeButtonName=d||u||"closeButton",t.setupPresetWindow=function(e){var t={maximizeButton:"zoomButton",maximizeParam:{fullScreen:o,restoreKey:"Escape"},demaximizeButton:"dezoomButton",deminimizeButton:"deminimizeButton",minimizeButton:a,hideButtons:[i,l],hideParam:{align:"CENTER_CENTER",duration:300},dehideParam:{duration:300},styleDisplay:"inline",animation:!0,animationDuration:100};s&&r({op:"overwrite-merge",object1:t,object2:s}),e.setControl(t)},t}});t();var T=r(),I=n(),D=s(),S=d(),_=f(),k=p(),M=a(),z=l(),L={yosemite:b(),redstone:C(),popup:E(),toast:w(),material:A()},R={yosemite:F()},O={};function N(e,t,r,n,o,a,i,l){var s=this;s.movable=!0,s.id=e,s.property={},s.extra={},s.parentCanvas=null,s.htmlElement=null,s.pullUpDisabled=!1,l&&(s.pullUpDisabled=l.pullUpDisabled),s.htmlElement=document.createElement(O.CBEAN.HTML_ELEMENT),s.htmlElement.id=O.CBEAN.HTML_ELEMENT_ID_PREFIX+e,s.htmlElement.style.position="absolute",s.htmlElement.style.left=parseInt(t,10)+"px",s.htmlElement.style.top=parseInt(r,10)+"px",s.htmlElement.style.width=parseInt(n,10)+"px",s.htmlElement.style.height=parseInt(o,10)+"px",null!==a&&(s.htmlElement.style.zIndex=a),s.htmlElement.style.borderColor="#000000",s.htmlElement.style.fontSize="1px",s.htmlElement.parent=s,s.htmlElement.onmousedown=s.onmouseDown,"ontouchstart"in window&&(s.htmlElement.ontouchstart=function(e){e.preventDefault(),s.onmouseDown.bind(this)(e)}),s.htmlElement.typeName=O.CBEAN.TYPE_NAME,s.htmlElement.usage="nothing",s.htmlElement.isRangeLimited=!1,s.htmlElement.argX=1,s.htmlElement.argY=1,s.externalAreaClickedListener=null,s.onMoveListener=null}function H(e,t,r,n,o,a){var i=this;i.enablePullUp=!0,i.currentObject=null,i.onTopObject=null,i.offsetX=0,i.offsetY=0,i.mouseDownSource=null,i.id=t,i.canvasElement=null,i.parentElement=e,i.beanList=new Array,i.beanIdName={},i.beanNameId={},i.eventData=new function(){this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.deltaX=0,this.deltaY=0,this.isMoved=!1,this.targetTypeName=null,this.targetUsage=null,this.targetObject=null},i.baseZIndex=0,i.setBaseZIndex=function(e){i.baseZIndex=e},i.getBaseZIndex=function(){return i.baseZIndex},i.canvasElement=document.createElement(O.CANVAS.HTML_ELEMENT),i.canvasElement.style.zIndex=2e3,i.canvasElement.id=i.id,i.canvasElement.style.boxSizing="border-box",i.canvasElement.style.position="absolute",i.canvasElement.style.left=parseInt(r)+"px",i.canvasElement.style.top=parseInt(n)+"px",i.canvasElement.style.width=parseInt(o)+O.CANVAS.WIDTH_ADJUST_20180722+"px",i.canvasElement.style.height=parseInt(a)+O.CANVAS.HEIGHT_ADJUST_20180722+"px",i.canvasElement.style.backgroundColor="transparent",i.canvasElement.style.borderStyle="none",i.canvasElement.style.margin="0px",i.canvasElement.style.borderWidth="0px",i.canvasElement.style.borderColor="transparent",i.parentElement.appendChild(i.canvasElement)}function P(e,t,r,n,o,a,i,l){var s=this;P.superConstructor.call(this,e,t,r,n,o,a,i,l),s.anchor=I.LEFT_TOP,s.showTitleBar=l.showTitleBar,s.canvasNetHeight=null,s.canvasNetWidth=null,s.frameHeightAdjust=l.frameHeightAdjust,s.frameComponentMap={},s.canvas=null,s.myCanvasId=null,s.floatingButton=null,s.titleBarClassNameDefault="jsframe-titlebar-default",s.titleBarClassNameFocused="jsframe-titlebar-focused",s.titleBarHeight=l.titleBarHeight,s.titleBarCaption=l.titleBarCaption,s.titleBarCaptionLeftMargin=l.titleBarCaptionLeftMargin,s.titleBarCaptionFontSize=l.titleBarCaptionFontSize,s.titleBarCaptionFontWeight=l.titleBarCaptionFontWeight,s.titleBarBorderBottomDefault=l.titleBarBorderBottomDefault,s.titleBarBorderBottomFocused=l.titleBarBorderBottomFocused,s.titleBarCaptionTextShadow=l.titleBarCaptionTextShadow,s.titleBarCaptionTextAlign=l.titleBarCaptionTextAlign,s.titleAdjustWidth=2,s.windowId=e,s.exBorderWidth=0,s.myCanvasId=e+"_canvas";var d=document.createElement("img");if(d.src="",d.style.position="absolute",d.style.left="2px",d.style.top="2px",d.style.width="16px",d.style.height="16px",d.style.visibility="hidden",s.titleBar=document.createElement("div"),s.titleBar.className="jsframetitlebar",s.showTitleBar){if(s.titleBar.id=e+"_title",s.titleBar.style.position="absolute",s.titleBar.style.boxSizing="border-box",s.titleBar.style.top="0px",s.titleBar.style.left="0px",s.titleBar.style.width=n-s.titleAdjustWidth+O.CANVAS.WIDTH_ADJUST_20180722+"px",s.titleBar.style.userSelect="none",s.titleBarHeight){var u=0;s.titleBarBorderBottomDefault&&(u=0),s.titleBar.style.height=parseInt(s.titleBarHeight,10)+0+"px"}s.titleBarColorDefault&&(s.titleBar.style.background=s.titleBarColorDefault),s.titleBar.style.zIndex=0,s.titleBar.style.color=s.titleBarCaptionColorDefault,s.titleBar.style.fontSize=s.titleBarCaptionFontSize,s.titleBar.style.fontWeight=s.titleBarCaptionFontWeight,s.titleBar.style.textShadow=s.titleBarCaptionTextShadow,s.titleBar.style.textAlign=s.titleBarCaptionTextAlign,s.titleBar.style.lineHeight=s.titleBar.style.height,s.titleBar.style.borderBottom=s.titleBarBorderBottomDefault,s.titleBar.style.overflow="hidden";var c=document.createTextNode(""),m=document.createElement("span");m.id=s.id+"_titleBarText",null!=s.titleBarCaptionLeftMargin?(m.style.position="absolute",m.style.left=parseInt(s.titleBarCaptionLeftMargin,10)+"px"):(m.style.position="absolute",m.style.left="0px",m.style.right="0px"),m.style.top="0px",m.appendChild(c),s.titleBar.appendChild(m)}s.htmlElement.appendChild(s.titleBar);var p=parseInt(s.titleBarHeight,10)-u,h=parseInt(s.titleAdjustWidth,10);s.showTitleBar||(p=0,h=0,u=0),s.canvasNetWidth=n-h,s.canvasNetHeight=o-p-h-1-u+s.frameHeightAdjust,s.htmlElement.style.cursor="move",s.canvas=new H(s.htmlElement,s.myCanvasId,0,p,n-h,o-p-h),s.canvas.enablePullUp=!1,s.canvas.canvasElement.style.backgroundColor=O.CFRAME.CANVAS_ELEMENT_BGCOLOR,s.canvas.canvasElement.style.cursor="default",s.canvas.canvasElement.onmousedown=s.canvasMouseDown,"ontouchstart"in window&&(s.canvas.canvasElement.ontouchstart=function(e){var t=e.changedTouches[0];s.canvasMouseDown.bind(this)(t)}),s.canvas.canvasElement.parentCFrame=s;var f,y,v,b=parseInt(s.canvas.canvasElement.style.width,10),g=parseInt(s.canvas.canvasElement.style.height,10),C=l.resizeAreaWidth,B=l.resizeAreaHeight,E=l.resizeAreaOffset;l.resizeAreaVisible&&(f="rgba(255, 0, 0, 0.5)",y="rgba(0, 0, 255, 0.5)",v="rgba(0, 255, 0, 0.5)");var w=new U(s.myCanvasId+"_RD",b+E,g+E,C,B,0,"RD",f);w.htmlElement.style.cursor="se-resize",w.htmlElement.argX=0,w.htmlElement.argY=0;var x=new U(s.myCanvasId+"_DD",0,g+E,b+E,B,0,"DD",y);x.htmlElement.style.cursor="n-resize",x.htmlElement.argX=0,x.htmlElement.argY=0;var A=new U(s.myCanvasId+"_RR",b+E,0,C,g+E,0,"RR",v);for(var F in A.htmlElement.style.cursor="w-resize",A.htmlElement.argY=0,A.htmlElement.argX=0,s.canvas.addBean(w),s.canvas.addBean(x),s.canvas.addBean(A),s.removeMarkers=function(){s.canvas.removeBean(w.id),s.canvas.removeBean(x.id),s.canvas.removeBean(A.id),s.htmlElement.style.cursor="default"},s.removeMarkers2=function(){s.canvas.removeBean(w.id),s.canvas.removeBean(x.id),s.canvas.removeBean(A.id)},s.enableMarkers=function(e){e?(w.htmlElement.style.display="flex",x.htmlElement.style.display="flex",A.htmlElement.style.display="flex",w.htmlElement.style.cursor="se-resize",x.htmlElement.style.cursor="n-resize",A.htmlElement.style.cursor="w-resize"):(w.htmlElement.style.display="none",x.htmlElement.style.display="none",A.htmlElement.style.display="none")},l.frameComponents){var T=l.frameComponents[F];T.setFrame(s),"closeButton"==T.id&&(T.htmlElement.onclick=s.close),T.htmlElement.querySelector(".jsframe-child-menu")&&s.eventListenerHelper.addEventListener(T.htmlElement,"click",function(e){var t=e.target.getAttribute("component-id");if(s.hideFrameComponentChildMenus({exceptFrameComponentId:t}),t){var r=s.getFrameComponentElement(t).querySelector(".jsframe-child-menu");r?r.style.display="table"==r.style.display?"none":"table":console.error("frameComponent child menu isnt found. frameComponentId="+t)}},{listenerName:"frame-component_child-menu-listener"}),s.addFrameComponent(T)}s.htmlElement.style.backgroundColor="transparent",s.htmlElement.oncontextmenu=this.contextMenu,s.caribValue=0,s.exBorderWidth&&(s.htmlElement.style.borderWidth=s.exBorderWidth+"px"),s.htmlElement.style.width=parseInt(s.htmlElement.style.width,10)-0+"px",s.htmlElement.style.height=parseInt(s.htmlElement.style.height,10)-0+1+"px",s.htmlElement.typeName="cwindow",s.htmlElement.overflow="auto",s.htmlElement.style.boxSizing="content-box",l.frameBorderStyle&&(s.htmlElement.style.borderStyle=l.frameBorderStyle),l.frameBoxShadow&&(s.htmlElement.style.boxShadow=l.frameBoxShadow),parseInt(l.frameBorderWidthDefault,10)>=0&&(s.htmlElement.style.borderWidth=l.frameBorderWidthDefault,s.htmlElement.style.borderColor=l.frameBorderColorDefault),parseInt(l.frameBorderRadius,10)>=0&&(s.htmlElement.style.borderRadius=l.frameBorderRadius),s.onCloseFrameListener=null}function W(e,t,r,n,o,a){var i=t,l=r,s=n,d=o,u=a.zindex,c=this;this.jsFrame=null,this.control=null,this.minFrameWidth=128,this.minWindowHeight=32,this.eventListenerHelper=new z,this.overrayTransparentScreenEnabled=!1,this.overrayTransparentScreenOnResize=!0,this.titleBarColorFocused=a.titleBarColorFocused,this.titleBarColorDefault=a.titleBarColorDefault,this.titleBarCaptionColorDefault=a.titleBarCaptionColorDefault,this.titleBarCaptionColorFocused=a.titleBarCaptionColorFocused,W.superConstructor.call(c,e,i,l,s,d,u,null,a),c.frameBorderColorDefault=a.frameBorderColorDefault,c.frameBorderColorFocused=a.frameBorderColorFocused,c.frameBorderWidthDefault=a.frameBorderWidthDefault,c.frameBorderWidthFocused=a.frameBorderWidthFocused,c.iframe=null,c.ifDelta=0,c.resizable=!0,c.onMouseMoveOnIframe=null,c.onMouseUpOnIframe=null,c._hasFocus=!1,c._hasFocusTime=0,c.htmlElement.typeName="cifwindow";var m="riversun_"+e;c.dframe=document.createElement("div"),c.iframe=document.createElement("iframe"),c.iframe.name=m,c.iframe.id=m,c.iframe.frameBorder="0",c.iframe.zIndex=-1,c.iframe.allowTransparency="true",c.iframe.width=c.canvasNetWidth-c.ifDelta+0,c.iframe.height=c.canvasNetHeight-c.ifDelta+0,c.showTitleBar=a.showTitleBar,c.getFrameInnerBorderRadius=a.getFrameInnerBorderRadius,c.frameBorderRadius=a.frameBorderRadius,c.adjustFrameBorderRadius(),c.useIframe=!1,c.canvas.canvasElement.appendChild(c.iframe),c.canvas.canvasElement.appendChild(c.dframe),this.setUseIframe=function(e){c.useIframe=e,c.iframe.style.visibility="hidden",c.iframe.style.position="absolute",c.iframe.style.left="0px",c.iframe.style.top="0px",c.iframe.style.width="100%",c.iframe.style.height="100%",c.dframe.style.visibility="hidden",c.dframe.style.position="absolute",c.dframe.style.left="0px",c.dframe.style.boxSizing="content-box",c.dframe.style.top="0px",c.dframe.style.width="100%",c.dframe.style.height="100%",c.dframe.style.backgroundColor="white",e?(c.iframe.style.visibility="visible",c.dframe.style.visibility="hidden"):(c.iframe.style.visibility="hidden",c.dframe.style.visibility="visible")},c.setUseIframe(a.useIframe),(c.overrayTransparentScreenEnabled||c.overrayTransparentScreenOnResize)&&(c.transparence=document.createElement("span"),c.transparence.style.position="absolute",c.transparence.style.left="0px",c.transparence.style.top="0px",c.transparence.style.width="0px",c.transparence.style.height="0px",c.transparence.style.zIndex=4,c.transparence.style.borderWidth="0px",c.transparence.style.borderColor="#ff00ee",c.transparence.style.borderStyle="none",c.transparence.style.cursor="default",c.transparence.style.pointerEvents="none",c.canvas.canvasElement.style.backgroundColor=a.frameBackgroundColor,c.canvas.canvasElement.appendChild(c.transparence)),c.eventEmitter=new T,c.appearance=a}function j(e,t,r,n,o,a){j.superConstructor.call(this,e,t,r,n,o,a);var i=this;document.addEventListener("click",function(e){for(var t in i.beanList)i.beanList[t].onBodyClicked(e)})}function U(e,t,r,n,o,a,i,l){var s=this;U.superConstructor.call(this,e,t,r,n,o,a,i),s.htmlElement.typeName="cmarkerwindow",s.htmlElement.usage=i,s.htmlElement.isRangeLimited=!1,s.htmlElement.style.borderStyle="none",s.htmlElement.style.zIndex=1,l&&(s.htmlElement.style.background=l),s.getWindowType=function(){return"CMarkerWindow"}}function G(e){var t,r=this,n=null;function o(e){r.windowManager.windowMouseUp(e)}function a(e){r.windowManager.windowMouseMove(e)}r.isWindowManagerFixed=!0,e&&0==e.fixed&&(r.isWindowManagerFixed=!1),e&&e.parentElement&&(n=e.parentElement),r.hAlign="left",r.vAlign="top",e&&e.horizontalAlign&&(r.hAlign=e.horizontalAlign),e&&e.verticalAlign&&(r.vAlign=e.verticalAlign),r.pullToRefresh=!1,e&&"boolean"==typeof e.pullToRefresh&&(r.pullToRefresh=e.pullToRefresh),r.touchActionManipulation=!0,e&&"boolean"==typeof e.touchActionManipulation&&(r.touchActionManipulation=e.touchActionManipulation),n?r.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+r.generateUUID(),t.setAttribute("style","position:fixed;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),n.appendChild(t)):((t=document.createElement("div")).id="jsFrame_absolute_"+r.generateUUID(),t.setAttribute("style","position:absolute;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),n.appendChild(t)):r.isWindowManagerFixed?((t=document.createElement("div")).id="jsFrame_fixed_"+r.generateUUID(),t.setAttribute("style","position:fixed;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),n=t):((t=document.createElement("div")).id="jsFrame_absolute_"+r.generateUUID(),t.setAttribute("style","position:absolute;"+r.hAlign+":0px;"+r.vAlign+":0px;margin:0px;padding:0px;"),document.body.appendChild(t),n=t),document.addEventListener("mouseup",o),document.addEventListener("mousemove",a),"ontouchend"in window&&document.addEventListener("touchend",function(e){o.bind(this)(e)}),"ontouchmove"in window&&(r.touchActionManipulation&&r.doEnableTouchActionManipulation(),r.pullToRefresh||r.doDisablePullToRefresh(),document.addEventListener("touchmove",function(e){e.preventDefault(),a.bind(this)(e)})),r.windowManager=new j(n,"windowManager_"+r.generateUUID(),0,0,0,0),r.domPartsBuilder=null}O.CBEAN={},O.CBEAN.HTML_ELEMENT="span",O.CBEAN.HTML_ELEMENT_ID_PREFIX="htmlElement_",O.CBEAN.TYPE_NAME="bean",N.prototype.getWindowType=function(){return"CBeanFrame"},N.prototype.setOnMoveListener=function(e){this.onMoveListener=e},N.prototype._onMove=function(e){this.onMoveListener&&this.onMoveListener(e)},N.prototype.setMovable=function(e){var t=this;return e?(t.htmlElement.argX=1,t.htmlElement.argY=1):(t.htmlElement.argX=0,t.htmlElement.argY=0),t.movable=e,t},N.prototype.setParentCanvas=function(e){var t=this;return t.parentCanvas=e,t.htmlElement.parentCanvas=t.parentCanvas,t},N.prototype.setOnExternalAreaClickedListener=function(e){return this.externalAreaClickedListener=e,this},N.prototype.onBodyClicked=function(e){var t=this,r=e.pageX,n=e.pageY,o=parseInt(t.htmlElement.style.left),a=parseInt(t.htmlElement.style.top),i=parseInt(t.htmlElement.style.width),l=parseInt(t.htmlElement.style.height);o<r&&r<o+i&&a<n&&n<a+l||t.externalAreaClickedListener&&t.externalAreaClickedListener()},N.prototype.onmouseDown=function(e){var t=this,r=e;if("touchstart"===e.type){if(1!==e.touches.length)return!0;r=e.changedTouches[0]}var n=t.parent;if(0==r.button||"touchstart"===e.type){if(n.pullUpDisabled)return!1;t.parentCanvas.currentObject=t,t.parentCanvas.pullUp(n.id)}else if(2==r.button)return!1;return t.parentCanvas.currentObject&&(t.parentCanvas.offsetX=r.pageX-parseInt(t.parentCanvas.currentObject.style.left,10),t.parentCanvas.offsetY=r.pageY-parseInt(t.parentCanvas.currentObject.style.top,10)),!1},O.CANVAS={},O.CANVAS.HTML_ELEMENT="div",O.CANVAS.WIDTH_ADJUST_20180722=2,O.CANVAS.HEIGHT_ADJUST_20180722=3,H.prototype.mouseMove=function(e){var t=this,r=e;if("touchmove"===e.type){if(1!==e.touches.length)return!0;r=e.changedTouches[0]}if(t.currentObject){t.eventData.targetTypeName=t.currentObject.typeName,t.eventData.targetUsage=t.currentObject.usage,t.eventData.targetObject=t.currentObject;var n=r.pageX-t.offsetX,o=r.pageY-t.offsetY,a=t.currentObject.style.left,i=t.currentObject.style.top,l=parseInt(n,10),s=parseInt(o,10),d=l+parseInt(t.currentObject.style.width,10),u=s+parseInt(t.currentObject.style.height,10),c=parseInt(t.canvasElement.style.width,10),m=parseInt(t.canvasElement.style.height,10),p=0,h=0;if(1==t.currentObject.isRangeLimited&&(l<=0||d>c||s<=0||u>m))p=0,h=0;else{p=parseInt(n,10)-parseInt(a,10),h=parseInt(o,10)-parseInt(i,10),t.currentObject.style.left=parseInt(t.currentObject.style.left)+p*t.currentObject.argX+"px",t.currentObject.style.top=parseInt(t.currentObject.style.top)+h*t.currentObject.argY+"px";var f=t.currentObject.parent;f&&f._onMove&&f._onMove()}return t.eventData.deltaX=p,t.eventData.deltaY=h,t.eventData}return null},H.prototype.mouseUp=function(e){this.currentObject=null,this.mouseDownSource=null},H.prototype.pullUp=function(e){var t=this,r=[],n=t.beanList;for(var o in n)r.push(n[o]);var a=n[e];t.enablePullUp&&t.pullUpSort(a,r,t.baseZIndex),t.onTopObject=a},H.prototype.pullUpSort=function(e,t,r){for(var n in e.htmlElement.style.zIndex=t.length+r,t.sort(function(e,t){return-parseInt(e.htmlElement.style.zIndex,10)+parseInt(t.htmlElement.style.zIndex,10)}),t)t[n].htmlElement.style.zIndex=t.length-1-n+r},H.prototype.removeBean=function(e){var t=this.beanList;this.canvasElement.removeChild(t[e].htmlElement),delete t[e]},H.prototype.addBean=function(e){var t=this,r=t.beanList,n=t.beanIdName,o=t.beanNameId;r[e.id]=e,e.property.name&&(o[e.property.name]=e.id,n[e.id]=e.property.name);var a=0;for(var i in r)a++;e.htmlElement.style.zIndex=a+t.baseZIndex,e.setParentCanvas(t),this.canvasElement.appendChild(e.htmlElement)},H.prototype.getParentElement=function(){return this.parentElement},O.CFRAME={},O.CFRAME.CANVAS_ELEMENT_BGCOLOR="transparent",O.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX="window__modal_window_background_",S(P,N),P.prototype.setTitleBarClassName=function(e,t){var r=this;return e&&(r.titleBarClassNameDefault=e,r.titleBarClassNameFocused=e),t&&(r.titleBarClassNameFocused=t),r},P.prototype.addFrameComponent=function(e){var t=this;return t.frameComponentMap[e.id]=e,t.canvas.canvasElement.appendChild(e.htmlElement),t},P.prototype.getFrameComponentElement=function(e){return this.frameComponentMap[e]?this.frameComponentMap[e].htmlElement:null},P.prototype.removeFrameComponentById=function(e){var t=this;t.canvas.canvasElement.removeChild(t.frameComponentMap[e].htmlElement),delete t.frameComponentMap[e]},P.prototype.showFrameComponent=function(e,t){var r=this.getFrameComponentElement(e);return r&&(r.style.display=t||"flex"),this},P.prototype.hideFrameComponent=function(e){var t=this.getFrameComponentElement(e);return t&&(t.style.display="none"),this},P.prototype.hideAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t].htmlElement;"none"===r.style.display&&(r._alreadyNone=!0),r.style.display="none"}},P.prototype.showAllVisibleFrameComponents=function(){var e=this.frameComponentMap;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t].htmlElement;r._alreadyNone?r._alreadyNone=null:r.style.display="flex"}},P.prototype.hideFrameComponentChildMenus=function(e){var t=this.frameComponentMap;for(var r in t)if(t.hasOwnProperty(r)){if(e&&e.exceptFrameComponentId&&r===e.exceptFrameComponentId)continue;var n=t[r];n.childMenu&&(n.childMenu.style.display="none")}},P.prototype.setTitle=function(e){var t=this;if(t.title=e,t.showTitleBar){var r=document.createTextNode(e);t.titleBar.firstChild.replaceChild(r,t.titleBar.firstChild.firstChild)}return t},P.prototype.resize=function(e,t,r,n){var o=this,a=parseInt(o.htmlElement.style.left,10),i=parseInt(o.htmlElement.style.top,10),l=parseInt(o.htmlElement.style.width,10),s=parseInt(o.htmlElement.style.height,10);o.htmlElement.style.left=parseInt(a+e,10)+"px",o.htmlElement.style.top=parseInt(i+t,10)+"px",o.htmlElement.style.width=parseInt(l+r,10)+"px",o.htmlElement.style.height=parseInt(s+n,10)+"px";var d=parseInt(o.canvas.canvasElement.style.width,10),u=parseInt(o.canvas.canvasElement.style.height,10);for(var c in o.canvas.canvasElement.style.width=d+r+"px",o.canvas.canvasElement.style.height=u+n+"px",o.showTitleBar&&(o.titleBar.style.width=d+r+"px"),o.canvas.beanList){var m=o.canvas.beanList[c];"cmarkerwindow"==m.htmlElement.typeName&&("RD"==m.htmlElement.usage?(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+r+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+n+"px"):"DD"==m.htmlElement.usage?(m.htmlElement.style.width=parseInt(m.htmlElement.style.width,10)+r+"px",m.htmlElement.style.top=parseInt(m.htmlElement.style.top,10)+n+"px"):"RR"==m.htmlElement.usage&&(m.htmlElement.style.left=parseInt(m.htmlElement.style.left,10)+r+"px",m.htmlElement.style.height=parseInt(m.htmlElement.style.height,10)+n+"px"))}},P.prototype.canvasMouseDown=function(e){null==this.parentCFrame.parentCanvas.mouseDownSource&&(this.parentCFrame.parentCanvas.mouseDownSource="childcanvas")},P.prototype.mouseUp=function(e){this.canvas.mouseUp(e)},P.prototype.close=function(e){var t=this.parentObject.parentCanvas,r=this.parentObject;console.log('CFrame#close "'+r.title+"(@"+r.getName()+')" @'+r.windowId),r.closeInternally(e,t,r.id)},P.prototype.closeFrame=function(e){var t=this;console.log('CFrame#closeFrame "'+t.title+"("+t.getName()+')" @'+t.windowId),t.closeInternally(e,this.parentCanvas,t.windowId)},P.prototype.closeInternally=function(e,t,r){var n=this;t?(t.removeBean(r),n.modalBackgroundWindowId&&(t.removeBean(n.modalBackgroundWindowId),n.modalBackgroundWindowId=null),n.onCloseFrameListener&&n.onCloseFrameListener(n)):console.error("Window("+r+") may have been closed")},P.prototype.setOnCloseFrameListener=function(e){this.onCloseFrameListener=e},P.prototype.contextMenu=function(){return!1},P.prototype.setTitleBarTextColor=function(e){this.titleBar.style.color=e},P.prototype.setPosition=function(e,t,r){var n=this,o=n.getWidth(),a=n.getHeight();return n._setPositionInternally(e,t,r,o,a),n},P.prototype._setPositionInternally=function(e,t,r,n,o){var a=this;r&&(a.anchor=r),r&&I.LEFT_TOP!=r?I.HCENTER_TOP==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=t+"px"):I.RIGHT_TOP==r?(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=t+"px"):I.LEFT_VCENTER==r?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-o/2+t+"px"):I.HCENTER_VCENTER==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=-o/2+t+"px"):I.RIGHT_VCENTER==r?(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=-o/2+t+"px"):I.LEFT_BOTTOM==r?(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=-o+t+"px"):I.HCENTER_BOTTOM==r?(a.htmlElement.style.left=-n/2+e+"px",a.htmlElement.style.top=-o+t+"px"):I.RIGHT_BOTTOM==r&&(a.htmlElement.style.left=-n+e+"px",a.htmlElement.style.top=-o+t+"px"):(a.htmlElement.style.left=e+"px",a.htmlElement.style.top=t+"px")},P.prototype.getPosition=function(){var e,t,r=this,n=r.getWidth(),o=r.getHeight(),a=r.anchor;return a&&I.LEFT_TOP!=a?I.HCENTER_TOP==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)):I.RIGHT_TOP==a?(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)):I.LEFT_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)+o/2):I.HCENTER_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)+o/2):I.RIGHT_VCENTER==a?(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)+o/2):I.LEFT_BOTTOM==a?(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)+o):I.HCENTER_BOTTOM==a?(e=parseInt(r.htmlElement.style.left,10)+n/2,t=parseInt(r.htmlElement.style.top,10)+o):I.RIGHT_BOTTOM==a&&(e=parseInt(r.htmlElement.style.left,10)+n,t=parseInt(r.htmlElement.style.top,10)+o):(e=parseInt(r.htmlElement.style.left,10),t=parseInt(r.htmlElement.style.top,10)),{x:e,y:t,anchor:a}},P.prototype.getLeft=function(){return parseInt(this.htmlElement.style.left,10)},P.prototype.getTop=function(){return parseInt(this.htmlElement.style.top,10)},P.prototype.getWidth=function(){return parseInt(this.htmlElement.style.width,10)},P.prototype.getHeight=function(){return parseInt(this.htmlElement.style.height,10)},P.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}},P.prototype.setSize=function(e,t,r){var n=this,o=!0;return r&&(o=!1),n.resize(0,0,e-n.getWidth(),t-n.getHeight(),o),n},P.prototype.getWindowId=function(){return this.windowId},P.prototype.getName=function(){return this.property.name},P.prototype.setName=function(e){this.property.name=e},S(W,P),W.prototype.getFrameView=function(){return this.dframe},W.prototype.getFrameAppearance=function(){return this.appearance},W.prototype.setHTML=function(e){this.dframe.innerHTML=e},W.prototype.setFrameInFrame=function(e){var t=this,r=t.dframe?t.dframe.firstChild:null;r&&(Date.now||(Date.now=function(){return(new Date).getTime()}),e?t.eventEmitter.only("resize","fif-listener",function(){r.setAttribute(D.MATCH_PARENT_CHANGE_MARKER_ATTR,Date.now())}):(r.removeAttribute(D.MATCH_PARENT_CHANGE_MARKER_ATTR),t.eventEmitter.only("resize","fif-listener",function(){})))},W.prototype.$=function(e){var t=this;return t.useIframe?t.iframe.contentWindow.document.querySelector(e):t.dframe.querySelector(e)},W.prototype.on=function(e,t,r){var n=this,o=n.getFrameComponentElement(e);o&&n.eventListenerHelper.addEventListener(o,t,function(o){r(n,o,{type:"frameComponent",id:e,eventType:t})},{listenerName:"frame-component-listener"}),"frame"!==e&&"window"!==e||("move"!==t||n.eventEmitter.hasListenerFuncs("move")||n.setOnMoveListener(function(e){n.eventEmitter.emit("move",n._getCurrentSizePos())}),n.eventEmitter.on(t,r));var a=n.$(e);if(a&&(n.eventListenerHelper.hasEventListener(a,t,"frame-dom-listener")&&n.eventListenerHelper.removeEventListener(a,t,null,{listenerName:"frame-dom-listener"}),n.eventListenerHelper.addEventListener(a,t,function(o){r(n,o,{type:"dom",id:e,eventType:t})},{listenerName:"frame-dom-listener"})),!a){var i=n.canvas.canvasElement.querySelector(e);i&&i.addEventListener(t,function(o){r(n,o,{type:"dom",id:e,eventType:t})})}},W.prototype.adjustFrameBorderRadius=function(){var e=this;if(parseInt(e.frameBorderRadius,10)>0){var t=e.getFrameInnerBorderRadius(e,e._hasFocus),r=t.innerBorderRadius,n=parseInt(t.frameAppearance.titleBarHeight,10);e.showTitleBar?(e.canvas.canvasElement.style.borderBottomRightRadius=r,e.canvas.canvasElement.style.borderBottomLeftRadius=r,e.iframe.style.borderBottomRightRadius=r,e.iframe.style.borderBottomLeftRadius=r,e.titleBar.style.borderTopLeftRadius=r,e.titleBar.style.borderTopRightRadius=r):(e.canvas.canvasElement.style.borderRadius=r,e.iframe.style.borderRadius=r),e.dframe&&(0===n&&(e.dframe.style.borderTopRightRadius||(e.dframe.style.borderTopRightRadius=r),e.dframe.style.borderTopLeftRadius||(e.dframe.style.borderTopLeftRadius=r)),e.dframe.style.borderBottomRightRadius=r,e.dframe.style.borderBottomLeftRadius=r)}},W.prototype.handleReleasingFocus=function(e){var t=this,r=t._hasFocus;for(var n in t._hasFocus=!1,t.titleBar.className=t.titleBarClassNameDefault,t.titleBarColorDefault&&(t.titleBar.style.background=t.titleBarColorDefault),t.titleBar.style.color=t.titleBarCaptionColorDefault,t.frameBorderColorDefault&&(t.htmlElement.style.borderColor=t.frameBorderColorDefault),t.frameBorderWidthDefault&&(t.htmlElement.style.borderWidth=t.frameBorderWidthDefault,t.adjustFrameBorderRadius()),"cifwindow"==t.htmlElement.typeName&&t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width,10)+"px",t.transparence.style.height=parseInt(t.iframe.height,10)+"px"),t.frameComponentMap)t.frameComponentMap[n].handleReleasingFocus();return t.titleBarBorderBottomDefault&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomDefault),r&&t.eventEmitter.emit("blur",{target:t}),t},W.prototype.handleTakingFocus=function(e){var t=this,r=t._hasFocus;for(var n in t._hasFocus=!0,t._hasFocus=Date.now(),t.overrayTransparentScreenEnabled&&(t.transparence.style.width="0px",t.transparence.style.height="0px"),t.titleBar.className=t.titleBarClassNameFocused,t.titleBarColorFocused&&(t.titleBar.style.background=t.titleBarColorFocused),t.titleBar.style.color=t.titleBarCaptionColorFocused,t.frameBorderColorFocused&&(t.htmlElement.style.borderColor=t.frameBorderColorFocused),t.frameBorderWidthFocused&&(t.htmlElement.style.borderWidth=t.frameBorderWidthFocused,t.adjustFrameBorderRadius()),t.titleBarBorderBottomFocused&&(t.titleBar.style.borderBottom=t.titleBarBorderBottomFocused),t.frameComponentMap)t.frameComponentMap[n].handleTakingFocus();return r||t.eventEmitter.emit("focus",{target:t}),t},P.prototype.show=function(e){var t=this;return t.htmlElement.style.display="flex",e&&0==e.requestFocus||t.requestFocus(),t},P.prototype.showModal=function(e){var t=this,r=new _;r.showTitleBar=!0,r.showCloseButton=!1,r.frameBorderRadius="0px",r.frameBorderStyle="none",r.frameBorderWidthDefault="0px",r.frameBorderWidthFocused="0px",r.frameBoxShadow=null,r.frameBackgroundColor="transparent",r.frameComponents=[],r.frameHeightAdjust=0,r.titleBarHeight="0px",r.titleBarBorderBottomFocused=null,r.titleBarCaptionLeftMargin="0px",r.onInitialize=function(){},r.pullUpDisabled=!0;var n=t.parentCanvas,o=O.CFRAME.MODAL_BACKGROUND_FRAME_ID_PREFIX+t.id,a=new W(o,0,0,1,1,r);a.setSize(window.innerWidth,window.innerHeight,!0),a.setResizable(!1),window.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight,!0)}),t.modalBackgroundWindowId=o,a.hide(),n.addWindow(a),a.setTitle("").getFrameView().innerHTML='<div class="jsframe-modal-window-background"></div>',a.getFrameView().style.backgroundColor="rgba(0,0,0,0.0)",a.show(),t.show(),e&&t.setOnCloseFrameListener(e)},P.prototype.getWindowManager=function(){return this.parentCanvas},W.prototype.hide=function(){return this.htmlElement.style.display="none",this},W.prototype.onmouseDown=function(e){var t=this;document.body.ondrag=function(){return!1},t.decorator=P.prototype.onmouseDown,t.decorator(e);var r=t.parent,n=t.parentCanvas;for(var o in n.beanList){var a=n.beanList[o];o==r.getWindowId()||a.handleReleasingFocus()}r.handleTakingFocus()},W.prototype.mouseUp=function(e){var t=this;(t.overrayTransparentScreenEnabled||t.overrayTransparentScreenOnResize)&&(t.parentCanvas.onTopObject==t?(t.transparence.style.width="0px",t.transparence.style.height="0px"):t.overrayTransparentScreenEnabled&&(t.transparence.style.width=parseInt(t.iframe.width)+"px",t.transparence.style.height=parseInt(t.iframe.height)+"px")),t.decorator=P.prototype.mouseUp,t.decorator(e),document.body.ondrag=null,document.body.onselectstart=null,t.transparence.style.pointerEvents="none"},W.prototype.setMinFrameSize=function(e,t){this.minFrameWidth=e,this.minWindowHeight=t},W.prototype.resize=function(e,t,r,n,o){var a=this;if(!a.resizable&&o)return null;var i=a.getSize(),l=parseInt(a.htmlElement.style.left,10),s=parseInt(a.htmlElement.style.top,10),d=parseInt(a.htmlElement.style.width,10),u=parseInt(a.htmlElement.style.height,10);o&&d+r<a.minFrameWidth&r<0&&(a.htmlElement.style.width=d+"px",r=0),o&&u+n<a.minWindowHeight&n<0&&(a.htmlElement.style.height=u+"px",n=0),a.htmlElement.style.left=l+e+"px",a.htmlElement.style.top=s+t+"px",a.htmlElement.style.width=d+r+"px",a.htmlElement.style.height=u+n+"px";var c=parseInt(a.canvas.canvasElement.style.width,10),m=parseInt(a.canvas.canvasElement.style.height,10);for(var p in a.canvas.canvasElement.style.width=c+r+"px",a.canvas.canvasElement.style.height=m+n+"px",a.titleBar.style.width=c-a.ifDelta+r+0+"px",a.iframe.width=c-a.ifDelta+r+0+"px",a.iframe.height=m-a.ifDelta+n+a.frameHeightAdjust+"px",(a.overrayTransparentScreenEnabled||a.overrayTransparentScreenOnResize)&&(a.transparence.style.width=parseInt(a.iframe.width)+"px",a.transparence.style.height=parseInt(a.iframe.height)+"px"),a.frameComponentMap)a.frameComponentMap[p].updateAlign();for(var h in a.canvas.beanList){var f=a.canvas.beanList[h];"cmarkerwindow"==f.htmlElement.typeName&&("RD"==f.htmlElement.usage?(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+n+"px"):"DD"==f.htmlElement.usage?(f.htmlElement.style.width=parseInt(f.htmlElement.style.width)+r+"px",f.htmlElement.style.top=parseInt(f.htmlElement.style.top)+n+"px"):"RR"==f.htmlElement.usage&&(f.htmlElement.style.left=parseInt(f.htmlElement.style.left)+r+"px",f.htmlElement.style.height=parseInt(f.htmlElement.style.height)+n+"px"))}var y=a.getSize();i.width===y.width&&i.height===y.height||a.eventEmitter.emit("resize",a._getCurrentSizePos())},W.prototype._getCurrentSizePos=function(){var e=this,t=e.getSize(),r=e.getPosition();return{target:e,pos:r,size:t}},W.prototype.resizeDirect=function(e,t,r){var n=this;if(!n.resizable&&r)return null;for(var o in n.htmlElement.style.width=e+"px",n.htmlElement.style.height=t+"px",n.canvas.canvasElement.style.width=e+"px",n.canvas.canvasElement.style.height=t-n.titleBar.style.height+"px",n.titleBar.style.width=e-n.ifDelta+"px",n.iframe.width=e-n.ifDelta+"px",n.iframe.height=t-n.ifDelta+n.frameHeightAdjust+"px",(n.overrayTransparentScreenEnabled||n.overrayTransparentScreenOnResize)&&(n.transparence.style.width=parseInt(n.iframe.width)+"px",n.transparence.style.height=parseInt(n.iframe.height)+"px"),n.frameComponentMap)n.frameComponentMap[o].updateAlign();for(var a in n.canvas.beanList){var i=n.canvas.beanList[a];"cmarkerwindow"==i.htmlElement.typeName&&("RD"==i.htmlElement.usage?(i.htmlElement.style.left=e+"px",i.htmlElement.style.top=t+"px"):"DD"==i.htmlElement.usage?(i.htmlElement.style.width=e+"px",i.htmlElement.style.top=t+"px"):"RR"==i.htmlElement.usage&&(i.htmlElement.style.left=e+"px",i.htmlElement.style.height=t+"px"))}},W.prototype.requestFocus=function(){var e=this,t=e.parentCanvas.beanList;for(var r in t){var n=t[r];r==e.getWindowId()?n.handleTakingFocus():n.handleReleasingFocus()}e.parentCanvas.pullUp(e.id)},W.prototype.setUrl=function(e){var t=this;return new Promise(function(r,n){e?t.setUseIframe(!0):(t.setUseIframe(!1),r()),t.iframe.src=e,t.iframe.onload=function(){var e=function(e){var r=e.pageX,n=e.pageY;if("touchmove"===e.type){var o=e.changedTouches;if(1!==e.touches.length)return!0;r=o[0].pageX,n=o[0].pageY}var a=t.getLeft(),i=t.getTop(),l=document.createEvent("MouseEvents");l.initMouseEvent("mousemove",!0,!1,window,e.detail,e.screenX,e.screenY,r+a,n+i,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseMove(l),t.onMouseMoveOnIframe&&t.onMouseMoveOnIframe(l)};t.iframe.contentWindow.document.onmousemove=e,t.iframe.contentWindow.document.ontouchmove=e;var n=function(e){var r=e.pageX,n=e.pageY;if("touchend"===e.type){var o=e.changedTouches;r=o[0].pageX,n=o[0].pageY}var a=t.getLeft(),i=t.getTop(),l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!1,window,e.detail,e.screenX,e.screenY,r+a,n+i,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.parentCanvas.windowMouseUp(l),t.onMouseUpOnIframe&&t.onMouseUpOnIframe(l)};t.iframe.contentWindow.document.onmouseup=n,t.iframe.contentWindow.document.ontouchend=n,r(t,t.iframe.contentWindow.document)}})},W.prototype.getIfDocument=function(){return this.iframe.contentWindow.document},W.prototype.setScrolling=function(e){this.iframe.scrolling=e},W.prototype.getScrolling=function(e){return this.iframe.scrolling},W.prototype.setResizable=function(e){var t=this;return t.resizable=e,t.enableMarkers(e),t},W.prototype.setControl=function(e){var t=this;e&&(e.frame=t,t.control=t.jsFrame.createWindowEventHelper(e),t.control.setupDefaultEvents())},S(j,H),j.prototype.getWindow=function(e){return this.beanList[e]},j.prototype.addWindow=function(e){var t=this,r=e.getWindowId(),n=e.getName();t.beanIdName[r]=n,t.beanNameId[n]=r,t.addBean(e)},j.prototype.containsWindowName=function(e){return!!this.beanNameId[e]},j.prototype.getWindowByName=function(e){var t=this.beanNameId[e];return t?this.getWindow(t):null},j.prototype.windowMouseMove=function(e){var t=this;if(null==t.currentObject)return null;var r=!1,n=t.beanList;for(var o in n){var a=n[o],i=a.canvas.mouseMove(e);if(r|=null!=i,null!=i&&"cmarkerwindow"==i.targetTypeName){var l=i.targetObject;a.transparence.style.pointerEvents="auto","RD"==l.usage?a.resize(0,0,i.deltaX,i.deltaY,!0):"DD"==l.usage?a.resize(0,0,0,i.deltaY,!0):"RR"==l.usage&&a.resize(0,0,i.deltaX,0,!0)}}r||"childcanvas"==this.mouseDownSource||t.mouseMove(e)},j.prototype.windowMouseUp=function(e){this.mouseUp(e);var t=this.beanList;for(var r in t)t[r].mouseUp(e)},j.prototype.removeBean=function(e){var t=this,r=t.beanList,n=r[e];if(null!=n){var o=n._hasFocus;t.canvasElement.removeChild(n.htmlElement),delete r[e];var a=t.beanIdName[e];a&&(delete t.beanIdName[e],delete t.beanNameId[a]);var i=0,l=null;if(o){for(var e in r){var s=r[e];i<=s._hasFocusTime&&!s.pullUpDisabled&&(i=s._hasFocusTime,l=s)}l&&l.requestFocus()}n.parentCanvas=null}},S(U,N),G.prototype.doEnableTouchActionManipulation=function(){var e=document.documentElement.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("touch-action")&&(e+="-ms-touch-action: manipulation;touch-action: manipulation;",document.documentElement.setAttribute("style",e))},G.prototype.doDisablePullToRefresh=function(){var e=document.body.getAttribute("style");e?e.endsWith(";")||(e+=";"):e="",-1===e.indexOf("overscroll-behavior-y")&&(e+="overscroll-behavior-y: contain;",document.body.setAttribute("style",e))},G.prototype.getDomPartsBuilder=function(){var e=this;return e.domPartsBuilder||(e.domPartsBuilder=new k),e.domPartsBuilder},G.prototype.create=function(e){var t={};t.name=e.name;var r,n=e.title,o=e.left,a=e.top,i=e.width,l=e.height,s=e.appearance,d=e.preset,u=e.appearanceName,c=e.appearanceParam,m=e.style,p=e.minWidth,h=e.minHeight,f=e.html,y=e.resizable,v=e.movable,b=e.url,g=e.urlLoaded,C=e.presetParam;if(d?(r=this.getPresetWindow(d).getPresetWindow(C),s=this.createPresetStyle(r.appearanceName,{appearanceParam:r.appearanceParam})):u&&(s=this.createPresetStyle(u,{appearanceParam:c})),e.clientHeight){var B=parseInt(s.titleBarHeight||0)-s.frameHeightAdjust;l=e.clientHeight+B}var E=this.createFrame(o,a,i,l,s,t);if(n&&E.setTitle(n),f&&E.setHTML(f),b){var w=E.setUrl(b);g&&w.then(g)}if(0==y&&E.setResizable(!1),0==v&&E.setMovable(!1),p&&h&&(E.minFrameWidth=p),h&&(E.minWindowHeight=h,e.clientHeight&&(E.minWindowHeight=h+B)),m){var x=E.getFrameView();for(var A in m)m.hasOwnProperty(A)&&(x.style[A]=m[A])}return r&&r.setupPresetWindow(E),E},G.prototype.createFrame=function(e,t,r,n,o,a){var i=this;o||(o=i.createFrameAppearance()),o.initialize(),e||(e=0),t||(t=0),r||(r=128),n||(n=128);var l=new W("window_"+i.generateUUID(),e,t,r,n,o);if(l.jsFrame=i,a&&a.name&&l.setName(a.name),l.hide(),i.windowManager.addWindow(l),o.getTitleBarStyle){var s=o.getTitleBarStyle();s&&l.setTitleBarClassName(s.titleBarClassNameDefault,s.titleBarClassNameFocused)}else o.titleBarClassNameDefault&&o.titleBarClassNameFocused?l.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameFocused):o.titleBarClassNameDefault&&l.setTitleBarClassName(o.titleBarClassNameDefault,o.titleBarClassNameDefault);return l},G.prototype.containsWindowName=function(e){return this.windowManager.containsWindowName(e)},G.prototype.getWindowByName=function(e){return this.windowManager.getWindowByName(e)},G.prototype.generateUUID=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)})},G.prototype.createFrameAppearance=function(){return new _},G.prototype.createAnimator=function(){return new M},G.prototype.createWindowEventHelper=function(e){return e||(e={}),e.verticalAlign=this.vAlign,e.horizontalAlign=this.hAlign,new D(e)},G.prototype.getPresetWindow=function(e,t){return R[e]?R[e]:null},G.prototype.createPresetStyle=function(e,t){var r=this.createFrameAppearance();if(t&&t.focusedFrameOnly&&(r.focusedFrameOnly=t.focusedFrameOnly),L[e]){var n=null;return t&&t.appearanceParam&&(n=t.appearanceParam),L[e].getStyle(r,n)}return console.error('[JSFrame] Preset appearance "'+e+'" not found.'),r},G.prototype.showToast=function(e){if(e){var t,r=this,n=60,o=260,a=1e3,i=window.innerHeight-10-n/2,l=window.innerHeight-20-n/2,s="",d={borderRadius:"10px",background:"rgba(0,0,0,0.8)"};e.style&&(d=e.style),e.height&&(n=e.height),e.width&&(o=e.width),e.duration&&(a=e.duration),e.align&&("top"==e.align?(i=10+n/2,l=20+n/2):"center"==e.align&&(i=window.innerHeight/2,l=window.innerHeight/2)),e.html&&(s=e.html),e.text&&(s=e.text),t=1==e.closeButton;var u=r.createPresetStyle("toast");d.borderRadius&&(u.frameBorderRadius=d.borderRadius),e.closeButtonColor&&(u.captionClor=e.closeButtonColor);var c=r.create({name:"toast_"+r.generateUUID(),width:o,height:n,movable:!1,resizable:!1,appearance:u,style:d,html:'<div id="my_element" style="box-sizing:border-box;display: flex;justify-content: center;align-items: center;padding:10px;font-size:16px;color:darkgray;height:'+n+'px">'+s+"</div>"});t||c.hideFrameComponent("closeButton");var m=window.innerWidth/2;"right"==r.hAlign&&(m=-m),"bottom"==r.vAlign&&(i-=window.innerHeight,l-=window.innerHeight),r.createAnimator().set(c).setDuration(300).fromPosition(m,i,"CENTER_CENTER").toPosition(m,l,"CENTER_CENTER").toAlpha(1).fromAlpha(0).start(0,!1).then(function(e){return e.setDuration(300).fromPosition(m,l,"CENTER_CENTER").toPosition(m,i,"CENTER_CENTER").fromAlpha(1).toAlpha(.5).start(a,!1)}).then(function(e){e.get().closeFrame()})}},Object.freeze(O),window.JSFrame=G}();
//# sourceMappingURL=jsframe.min.js.map
