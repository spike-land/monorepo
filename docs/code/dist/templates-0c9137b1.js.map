{"version":3,"file":"templates-0c9137b1.js","sources":["../src/templates.js"],"sourcesContent":["export const getHtml = ({ HTML, css, js }) => {\n  //\n  // For some reason, pre-rendering doesn't care about global styles, the site flickers without this patch\n  //\n  let bodyStylesFix = \"\";\n\n  const start = js.indexOf(\"body{\");\n  if (start !== -1) {\n    const firstBit = js.slice(start);\n    const last = firstBit.indexOf(\"}\");\n    bodyStylesFix = firstBit.slice(0, last + 1);\n  }\n\n  const titleStart = HTML.indexOf(\"<title>\");\n  const titleEnd = HTML.indexOf(\"</title>\");\n  const hasTitle = titleStart < titleEnd && titleStart >= -1;\n  const title = hasTitle\n    ? HTML.slice(titleStart, titleEnd)\n    : \"(code).zed.vision :)\";\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head profile=\"http://www.w3.org/2005/10/profile\">\n<title>${title}</title>\n<link rel=\"icon\" type=\"image/png\" href=\"https://zed.vision/zed-icon-big.png\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n<meta name=\"Description\" content=\"Generated with code.zed.vision\">\n<style>\n    ${bodyStylesFix}\n    ${css}\n</style>\n</head>\n<body>\n<div id=\"zbody\">    ${HTML}\n</div>\n<script type=\"module\">\n   ${js}\n</script>\n</body>\n</html>\n`;\n};\n\nexport const getCodeForImport = (link) => {\n  return `\n  import ReactDOM from \"https://cdn.skypack.dev/react-dom\"\n   \n  fetch(\"${link}\")\n    .then(data=>data.text())\n    .then(async(text)=>{\n    const App = (await import(URL.createObjectURL(new Blob([text],{type: \"application/javascript\"})))).default;\n \n    ReactDOM.render(App(), document.body.children[0]);\n  })\n  \n\n`;\n};\n"],"names":["getHtml","HTML","css","js","bodyStylesFix","start","indexOf","firstBit","slice","last","titleStart","titleEnd","getCodeForImport","link"],"mappings":"AAAaA,MAAAA,EAAU,EAAGC,KAAAA,EAAMC,IAAAA,EAAKC,GAAAA,MAInC,IAAIC,EAAgB,GAEpB,MAAMC,EAAQF,EAAGG,QAAQ,SACzB,IAAe,IAAXD,EAAc,CAChB,MAAME,EAAWJ,EAAGK,MAAMH,GACpBI,EAAOF,EAASD,QAAQ,KAC9BF,EAAgBG,EAASC,MAAM,EAAGC,EAAO,GAG3C,MAAMC,EAAaT,EAAKK,QAAQ,WAC1BK,EAAWV,EAAKK,QAAQ,YAM9B,MAAQ,iGALSI,EAAaC,GAAYD,IAAe,EAErDT,EAAKO,MAAME,EAAYC,GACvB,gVAWAP,UACAF,qDAIgBD,yCAGjBE,qCAOQS,EAAoBC,GACvB,+EAGCA"}