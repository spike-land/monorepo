{"version":3,"file":"templates-31d88bc4.js","sources":["../src/templates.js"],"sourcesContent":["export const getHtml = ({ HTML, css, js }) => {\n  //\n  // For some reason, pre-rendering doesn't care about global styles, the site flickers without this patch\n  //\n  let bodyStylesFix = \"\";\n\n  const start = js.indexOf(\"body{\");\n  if (start !== -1) {\n    const firstBit = js.slice(start);\n    const last = firstBit.indexOf(\"}\");\n    bodyStylesFix = firstBit.slice(0, last + 1);\n  }\n\n  const titleStart = HTML.indexOf(\"<title>\");\n  const titleEnd = HTML.indexOf(\"</title>\");\n  const hasTitle = titleStart < titleEnd && titleStart >= -1;\n  const title = hasTitle\n    ? HTML.slice(titleStart, titleEnd)\n    : \"(code).zed.vision :)\";\n\n  return `<!DOCTYPE html>\n<html lang=\"en\">\n<head profile=\"http://www.w3.org/2005/10/profile\">\n<title>${title}</title>\n<link rel=\"icon\" type=\"image/png\" href=\"https://zed.vision/zed-icon-big.png\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n\n<meta name=\"Description\" content=\"Generated with code.zed.vision\">\n<style>\n    ${bodyStylesFix}\n    ${css}\n</style>\n</head>\n<body>\n<div id=\"zbody\">\n  ${HTML}\n</div>\n\n<script crossorigin src=\"https://unpkg.com/react-dom@17.0.1/umd/react-dom.production.min.js\"></script>\n<script>${js}</script>\n</body>\n</html>\n`;\n};\n\nexport const getCodeForImport = (link) => `\nlink = fetch(\"${link}\")\n    .then(data=>data.text())\n            </script><script type=\"module\">link.then(async(text)=>{\n      const App = (\n              await import(URL.createObjectURL(\n                        new Blob([text],{type: \"application/javascript\"}\n                  )                         )\n      )).default;\n    ReactDOM.render(App(), document.body.children[0]);\n  }))\n`;\n"],"names":["link","HTML","css","js","bodyStylesFix","start","indexOf","firstBit","slice","last","titleStart","titleEnd"],"mappings":"yBA8CgC,SAACA,4BACjBA,+YA/CO,gBAAGC,IAAAA,KAAMC,IAAAA,IAAKC,IAAAA,GAI/BC,EAAgB,GAEdC,EAAQF,EAAGG,QAAQ,SACzB,IAAe,IAAXD,EAAc,CAChB,IAAME,EAAWJ,EAAGK,MAAMH,GACpBI,EAAOF,EAASD,QAAQ,KAC9BF,EAAgBG,EAASC,MAAM,EAAGC,EAAO,GAG3C,IAAMC,EAAaT,EAAKK,QAAQ,WAC1BK,EAAWV,EAAKK,QAAQ,YAM9B,wGALiBI,EAAaC,GAAYD,IAAe,EAErDT,EAAKO,MAAME,EAAYC,GACvB,oVAYAP,WACAF,sDAKFD,kIAIME"}