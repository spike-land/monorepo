import{c as G}from"./chunk-ENEF6KQN.mjs";var Z=G((y,Y)=>{var S=-1,w=1,I=0;function P(r,a,n,g){if(r===a)return r?[[I,r]]:[];if(n!=null){var i=T(r,a,n);if(i)return i}var l=j(r,a),e=r.substring(0,l);r=r.substring(l),a=a.substring(l),l=z(r,a);var v=r.substring(r.length-l);r=r.substring(0,r.length-l),a=a.substring(0,a.length-l);var h=N(r,a);return e&&h.unshift([I,e]),v&&h.push([I,v]),J(h,g),h}function N(r,a){var n;if(!r)return[[w,a]];if(!a)return[[S,r]];var g=r.length>a.length?r:a,i=r.length>a.length?a:r,l=g.indexOf(i);if(l!==-1)return n=[[w,g.substring(0,l)],[I,i],[w,g.substring(l+i.length)]],r.length>a.length&&(n[0][0]=n[2][0]=S),n;if(i.length===1)return[[S,r],[w,a]];var e=L(r,a);if(e){var v=e[0],h=e[1],u=e[2],t=e[3],c=e[4],D=P(v,u),A=P(h,t);return D.concat([[I,c]],A)}return B(r,a)}function B(r,a){for(var n=r.length,g=a.length,i=Math.ceil((n+g)/2),l=i,e=2*i,v=new Array(e),h=new Array(e),u=0;u<e;u++)v[u]=-1,h[u]=-1;v[l+1]=0,h[l+1]=0;for(var t=n-g,c=t%2!==0,D=0,A=0,m=0,F=0,E=0;E<i;E++){for(var b=-E+D;b<=E-A;b+=2){var s=l+b,_;b===-E||b!==E&&v[s-1]<v[s+1]?_=v[s+1]:_=v[s-1]+1;for(var p=_-b;_<n&&p<g&&r.charAt(_)===a.charAt(p);)_++,p++;if(v[s]=_,_>n)A+=2;else if(p>g)D+=2;else if(c){var M=l+t-b;if(M>=0&&M<e&&h[M]!==-1){var o=n-h[M];if(_>=o)return H(r,a,_,p)}}}for(var R=-E+m;R<=E-F;R+=2){var M=l+R,o;R===-E||R!==E&&h[M-1]<h[M+1]?o=h[M+1]:o=h[M-1]+1;for(var O=o-R;o<n&&O<g&&r.charAt(n-o-1)===a.charAt(g-O-1);)o++,O++;if(h[M]=o,o>n)F+=2;else if(O>g)m+=2;else if(!c){var s=l+t-R;if(s>=0&&s<e&&v[s]!==-1){var _=v[s],p=l+_-s;if(o=n-o,_>=o)return H(r,a,_,p)}}}}return[[S,r],[w,a]]}function H(r,a,n,g){var i=r.substring(0,n),l=a.substring(0,g),e=r.substring(n),v=a.substring(g),h=P(i,l),u=P(e,v);return h.concat(u)}function j(r,a){if(!r||!a||r.charAt(0)!==a.charAt(0))return 0;for(var n=0,g=Math.min(r.length,a.length),i=g,l=0;n<i;)r.substring(l,i)==a.substring(l,i)?(n=i,l=n):g=i,i=Math.floor((g-n)/2+n);return K(r.charCodeAt(i-1))&&i--,i}function z(r,a){if(!r||!a||r.slice(-1)!==a.slice(-1))return 0;for(var n=0,g=Math.min(r.length,a.length),i=g,l=0;n<i;)r.substring(r.length-i,r.length-l)==a.substring(a.length-i,a.length-l)?(n=i,l=n):g=i,i=Math.floor((g-n)/2+n);return V(r.charCodeAt(r.length-i))&&i--,i}function L(r,a){var n=r.length>a.length?r:a,g=r.length>a.length?a:r;if(n.length<4||g.length*2<n.length)return null;function i(A,m,F){for(var E=A.substring(F,F+Math.floor(A.length/4)),b=-1,s="",_,p,M,o;(b=m.indexOf(E,b+1))!==-1;){var R=j(A.substring(F),m.substring(b)),O=z(A.substring(0,F),m.substring(0,b));s.length<O+R&&(s=m.substring(b-O,b)+m.substring(b,b+R),_=A.substring(0,F-O),p=A.substring(F+R),M=m.substring(0,b-O),o=m.substring(b+R))}return s.length*2>=A.length?[_,p,M,o,s]:null}var l=i(n,g,Math.ceil(n.length/4)),e=i(n,g,Math.ceil(n.length/2)),v;if(!l&&!e)return null;e?l?v=l[4].length>e[4].length?l:e:v=e:v=l;var h,u,t,c;r.length>a.length?(h=v[0],u=v[1],t=v[2],c=v[3]):(t=v[0],c=v[1],h=v[2],u=v[3]);var D=v[4];return[h,u,t,c,D]}function J(r,a){r.push([I,""]);for(var n=0,g=0,i=0,l="",e="",v;n<r.length;){if(n<r.length-1&&!r[n][1]){r.splice(n,1);continue}switch(r[n][0]){case w:i++,e+=r[n][1],n++;break;case S:g++,l+=r[n][1],n++;break;case I:var h=n-i-g-1;if(a){if(h>=0&&X(r[h][1])){var u=r[h][1].slice(-1);if(r[h][1]=r[h][1].slice(0,-1),l=u+l,e=u+e,!r[h][1]){r.splice(h,1),n--;var t=h-1;r[t]&&r[t][0]===w&&(i++,e=r[t][1]+e,t--),r[t]&&r[t][0]===S&&(g++,l=r[t][1]+l,t--),h=t}}if(W(r[n][1])){var u=r[n][1].charAt(0);r[n][1]=r[n][1].slice(1),l+=u,e+=u}}if(n<r.length-1&&!r[n][1]){r.splice(n,1);break}if(l.length>0||e.length>0){l.length>0&&e.length>0&&(v=j(e,l),v!==0&&(h>=0?r[h][1]+=e.substring(0,v):(r.splice(0,0,[I,e.substring(0,v)]),n++),e=e.substring(v),l=l.substring(v)),v=z(e,l),v!==0&&(r[n][1]=e.substring(e.length-v)+r[n][1],e=e.substring(0,e.length-v),l=l.substring(0,l.length-v)));var c=i+g;l.length===0&&e.length===0?(r.splice(n-c,c),n=n-c):l.length===0?(r.splice(n-c,c,[w,e]),n=n-c+1):e.length===0?(r.splice(n-c,c,[S,l]),n=n-c+1):(r.splice(n-c,c,[S,l],[w,e]),n=n-c+2)}n!==0&&r[n-1][0]===I?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,i=0,g=0,l="",e="";break}}r[r.length-1][1]===""&&r.pop();var D=!1;for(n=1;n<r.length-1;)r[n-1][0]===I&&r[n+1][0]===I&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)===r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),D=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),D=!0)),n++;D&&J(r,a)}function K(r){return r>=55296&&r<=56319}function V(r){return r>=56320&&r<=57343}function W(r){return V(r.charCodeAt(0))}function X(r){return K(r.charCodeAt(r.length-1))}function k(r){for(var a=[],n=0;n<r.length;n++)r[n][1].length>0&&a.push(r[n]);return a}function U(r,a,n,g){return X(r)||W(g)?null:k([[I,r],[S,a],[w,n],[I,g]])}function T(r,a,n){var g=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,l=r.length,e=a.length;if(g.length===0&&(i===null||i.length===0)){var v=g.index,h=r.slice(0,v),u=r.slice(v),t=i?i.index:null;r:{var c=v+e-l;if(t!==null&&t!==c||c<0||c>e)break r;var D=a.slice(0,c),A=a.slice(c);if(A!==u)break r;var m=Math.min(v,c),F=h.slice(0,m),E=D.slice(0,m);if(F!==E)break r;var b=h.slice(m),s=D.slice(m);return U(F,b,s,u)}r:{if(t!==null&&t!==v)break r;var _=v,D=a.slice(0,_),A=a.slice(_);if(D!==h)break r;var p=Math.min(l-_,e-_),M=u.slice(u.length-p),o=A.slice(A.length-p);if(M!==o)break r;var b=u.slice(0,u.length-p),s=A.slice(0,A.length-p);return U(h,b,s,M)}}if(g.length>0&&i&&i.length===0){r:{var F=r.slice(0,g.index),M=r.slice(g.index+g.length),m=F.length,p=M.length;if(e<m+p)break r;var E=a.slice(0,m),o=a.slice(e-p);if(F!==E||M!==o)break r;var b=r.slice(m,l-p),s=a.slice(m,e-p);return U(F,b,s,M)}}return null}function Q(r,a,n){return P(r,a,n,!0)}Q.INSERT=w;Q.DELETE=S;Q.EQUAL=I;Y.exports=Q});var C=G((f,$)=>{var q=Z();$.exports=function(r,a){for(var n=q(r,a),g=0;g<n.length;g++){var i=n[g];i[0]<1&&(i[1]=i[1].length)}return n}});export{C as a};
