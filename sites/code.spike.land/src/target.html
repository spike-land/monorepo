<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
  <meta http-equiv="Content-Type" content="text/html,charset=utf-8" />
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="https://unpkg.com/modern-css-reset@1.4.0/dist/reset.min.css" />
  
  <title>Instant React Editor</title>
  <script crossorigin src="https://unpkg.com/react@18.0.0-rc.0-next-f2a59df48-20211208/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-is@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-is.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18.0.0-rc.0-next-f2a59df48-20211208/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/@emotion/react@11.7.1/dist/emotion-react.umd.min.js"></script>
  <script>
    window.process = {env: {NODE_ENV:"production" }};
  </script>
  <style>
  html, body{
    height: 100%;
  }
  #zbody, #root{
    height: 100%;
  }
  </style>  
<body>
  <div id="shadowEditor"></div>
  <div id="zbody"></div>
  
  <script async src="https://ga.jspm.io/npm:es-module-shims@1.4.1/dist/es-module-shims.js"></script>
  <script type="importmap-shim" src="./js/importmap.json">
  </script>
  <script type="module-shim">
    import("app").then(async (mod)=>{
      if (mod.default && !mod.run) {
        console.log("starting with default.")
        const {createRoot} = await import("react-dom"); 
        const {jsx} =await import("@emotion/react");
        
        const root = createRoot(document.getElementById("zbody"));

        root.render(jsx(mod.default));      
     }
     else{
      console.log("starting with RUN!")
  
      if (mod.run)
       mod.run();
      if (mod.default){
        mod.default();
      }
     }
    });

  </script>
</body>
</html>
