import{c as C,e as F,g as a}from"./YZ5NCQOK.mjs";var A=C(()=>{a()});a();a();a();a();function b(e,t=1,n={}){let{indent:r=" ",includeEmptyLines:o=!1}=n;if(typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(t<0)throw new RangeError(`Expected \`count\` to be at least 0, got \`${t}\``);if(typeof r!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r}\``);if(t===0)return e;let s=o?/^/gm:/^(?!\s*$)/gm;return e.replace(s,r.repeat(t))}a();var S=F(A(),1);a();function I(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var N=/\s+at.*[(\s](.*)\)?/,L=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/,V=typeof S.default.homedir>"u"?"":S.default.homedir().replace(/\\/g,"/");function T(e,{pretty:t=!1,basePath:n}={}){let r=n&&new RegExp(`(at | \\()${I(n.replace(/\\/g,"/"))}`,"g");if(typeof e=="string")return e.replace(/\\/g,"/").split(`
`).filter(o=>{let s=o.match(N);if(s===null||!s[1])return!0;let i=s[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")||i.includes("node_modules/electron/dist/resources/electron.asar")||i.includes("node_modules/electron/dist/resources/default_app.asar")?!1:!L.test(i)}).filter(o=>o.trim()!=="").map(o=>(r&&(o=o.replace(r,"$1")),t&&(o=o.replace(N,(s,i)=>s.replace(i,i.replace(V,"~")))),o)).join(`
`)}var Y=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),m=class extends Error{#e;name="AggregateError";constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=t.map(r=>r instanceof Error?r:r!==null&&typeof r=="object"?Object.assign(new Error(r.message),r):new Error(r));let n=t.map(r=>typeof r.stack=="string"&&r.stack.length>0?Y(T(r.stack)):String(r)).join(`
`);n=`
`+b(n,4),super(n),this.#e=t}get errors(){return this.#e.slice()}};var R=class extends Error{constructor(t){super(),this.name="AbortError",this.message=t}},_=e=>globalThis.DOMException===void 0?new R(e):new DOMException(e),v=e=>{let t=e.reason===void 0?_("This operation was aborted."):e.reason;return t instanceof Error?t:_(t)};async function $(e,t,{concurrency:n=Number.POSITIVE_INFINITY,stopOnError:r=!0,signal:o}={}){return new Promise((s,i)=>{if(e[Symbol.iterator]===void 0&&e[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof e})`);if(typeof t!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(n)||n===Number.POSITIVE_INFINITY)&&n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);let x=[],w=[],h=new Map,k=!1,l=!1,M=!1,y=0,j=0,O=e[Symbol.iterator]===void 0?e[Symbol.asyncIterator]():e[Symbol.iterator](),u=p=>{k=!0,l=!0,i(p)};o&&(o.aborted&&u(v(o)),o.addEventListener("abort",()=>{u(v(o))}));let E=async()=>{if(l)return;let p=await O.next(),g=j;if(j++,p.done){if(M=!0,y===0&&!l){if(!r&&w.length>0){u(new m(w));return}if(l=!0,h.size===0){s(x);return}let c=[];for(let[f,P]of x.entries())h.get(f)!==D&&c.push(P);s(c)}return}y++,(async()=>{try{let c=await p.value;if(l)return;let f=await t(c,g);f===D&&h.set(g,f),x[g]=f,y--,await E()}catch(c){if(r)u(c);else{w.push(c),y--;try{await E()}catch(f){u(f)}}}})()};(async()=>{for(let p=0;p<n;p++){try{await E()}catch(g){u(g);break}if(M||k)break}})()})}var D=Symbol("skip");async function q(e,t){return $(e,n=>n(),t)}export{q as default};
